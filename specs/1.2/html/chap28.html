<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<meta name="author" content="The Khronos® Vulkan Working Group">
<title>Vulkan® 1.2.187 - A Specification</title>
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style1.css" type="text/css">

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin="" even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="../katex/katex.min.css">
<!--ChunkedSearchJSMarker-->
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<link rel="stylesheet" href="style2.css" type="text/css">
<script>
    function hideElement(e){
        e.setAttribute("hidden", "");
        e.classList.add("hidden");
    }

    function unhideElement(e){
        e.classList.remove("hidden");
        e.removeAttribute("hidden");
    }

    function hideLoadableContent(){
        unhideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) hideElement(loadable);
    }

    function unhideLoadableContent(){
        hideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) unhideElement(loadable);
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div id="header" style="max-width: 100%;">
<h1>Vulkan<sup>®</sup> 1.2.187 - A Specification </h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan Working Group</span><br>
<span id="revnumber">version 1.2.187,</span>
<span id="revdate">2021-08-03 11:20:54Z</span>
<br><span id="revremark">from git branch: github-main commit: cd8da6a515811c4ff9e1f10a6d6ce4ab968333fb</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Titlepage</a></li><li><a href="chap1.html">1. Preamble</a></li>
<li><a href="chap2.html">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap2.html#introduction-conventions">2.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap3.html#fundamentals-host-environment">3.1. Host and Device Environment</a></li>
<li><a href="chap3.html#fundamentals-execmodel">3.2. Execution Model</a></li>
<li><a href="chap3.html#fundamentals-objectmodel-overview">3.3. Object Model</a></li>
<li><a href="chap3.html#fundamentals-abi">3.4. Application Binary Interface</a></li>
<li><a href="chap3.html#fundamentals-commandsyntax">3.5. Command Syntax and Duration</a></li>
<li><a href="chap3.html#fundamentals-threadingbehavior">3.6. Threading Behavior</a></li>
<li><a href="chap3.html#fundamentals-validusage">3.7. Valid Usage</a></li>
<li><a href="chap3.html#fundamentals-returncodes">3.8. <code>VkResult</code> Return Codes</a></li>
<li><a href="chap3.html#fundamentals-numerics">3.9. Numeric Representation and Computation</a></li>
<li><a href="chap3.html#fundamentals-fixedconv">3.10. Fixed-Point Data Conversions</a></li>
<li><a href="chap3.html#fundamentals-common-objects">3.11. Common Object Types</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap4.html#initialization-functionpointers">4.1. Command Function Pointers</a></li>
<li><a href="chap4.html#initialization-instances">4.2. Instances</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap5.html#devsandqueues-physical-device-enumeration">5.1. Physical Devices</a></li>
<li><a href="chap5.html#devsandqueues-devices">5.2. Devices</a></li>
<li><a href="chap5.html#devsandqueues-queues">5.3. Queues</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap6.html#commandbuffers-lifecycle">6.1. Command Buffer Lifecycle</a></li>
<li><a href="chap6.html#commandbuffers-pools">6.2. Command Pools</a></li>
<li><a href="chap6.html#commandbuffer-allocation">6.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap6.html#commandbuffers-recording">6.4. Command Buffer Recording</a></li>
<li><a href="chap6.html#commandbuffers-submission">6.5. Command Buffer Submission</a></li>
<li><a href="chap6.html#commandbuffers-submission-progress">6.6. Queue Forward Progress</a></li>
<li><a href="chap6.html#commandbuffers-secondary">6.7. Secondary Command Buffer Execution</a></li>
<li><a href="chap6.html#commandbuffers-devicemask">6.8. Command Buffer Device Mask</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap7.html#synchronization-dependencies">7.1. Execution and Memory Dependencies</a></li>
<li><a href="chap7.html#synchronization-implicit">7.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap7.html#synchronization-fences">7.3. Fences</a></li>
<li><a href="chap7.html#synchronization-semaphores">7.4. Semaphores</a></li>
<li><a href="chap7.html#synchronization-events">7.5. Events</a></li>
<li><a href="chap7.html#synchronization-pipeline-barriers">7.6. Pipeline Barriers</a></li>
<li><a href="chap7.html#synchronization-memory-barriers">7.7. Memory Barriers</a></li>
<li><a href="chap7.html#synchronization-wait-idle">7.8. Wait Idle Operations</a></li>
<li><a href="chap7.html#synchronization-submission-host-writes">7.9. Host Write Ordering Guarantees</a></li>
<li><a href="chap7.html#synchronization-device-group">7.10. Synchronization and Multiple Physical Devices</a></li>
</ul>
</li>
<li><a href="chap8.html">8. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap8.html#renderpass-creation">8.1. Render Pass Creation</a></li>
<li><a href="chap8.html#renderpass-compatibility">8.2. Render Pass Compatibility</a></li>
<li><a href="chap8.html#_framebuffers">8.3. Framebuffers</a></li>
<li><a href="chap8.html#renderpass-commands">8.4. Render Pass Commands</a></li>
</ul>
</li>
<li><a href="chap9.html">9. Shaders</a>
<ul class="sectlevel2">
<li><a href="chap9.html#shader-modules">9.1. Shader Modules</a></li>
<li><a href="chap9.html#shaders-execution">9.2. Shader Execution</a></li>
<li><a href="chap9.html#shaders-execution-memory-ordering">9.3. Shader Memory Access Ordering</a></li>
<li><a href="chap9.html#shaders-inputs">9.4. Shader Inputs and Outputs</a></li>
<li><a href="chap9.html#shaders-vertex">9.5. Vertex Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-control">9.6. Tessellation Control Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-evaluation">9.7. Tessellation Evaluation Shaders</a></li>
<li><a href="chap9.html#shaders-geometry">9.8. Geometry Shaders</a></li>
<li><a href="chap9.html#shaders-fragment">9.9. Fragment Shaders</a></li>
<li><a href="chap9.html#shaders-compute">9.10. Compute Shaders</a></li>
<li><a href="chap9.html#shaders-interpolation-decorations">9.11. Interpolation Decorations</a></li>
<li><a href="chap9.html#shaders-staticuse">9.12. Static Use</a></li>
<li><a href="chap9.html#shaders-scope">9.13. Scope</a></li>
<li><a href="chap9.html#shaders-group-operations">9.14. Group Operations</a></li>
<li><a href="chap9.html#shaders-quad-operations">9.15. Quad Group Operations</a></li>
<li><a href="chap9.html#shaders-derivative-operations">9.16. Derivative Operations</a></li>
<li><a href="chap9.html#shaders-helper-invocations">9.17. Helper Invocations</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap10.html#pipelines-compute">10.1. Compute Pipelines</a></li>
<li><a href="chap10.html#pipelines-graphics">10.2. Graphics Pipelines</a></li>
<li><a href="chap10.html#pipelines-destruction">10.3. Pipeline Destruction</a></li>
<li><a href="chap10.html#pipelines-multiple">10.4. Multiple Pipeline Creation</a></li>
<li><a href="chap10.html#pipelines-pipeline-derivatives">10.5. Pipeline Derivatives</a></li>
<li><a href="chap10.html#pipelines-cache">10.6. Pipeline Cache</a></li>
<li><a href="chap10.html#pipelines-specialization-constants">10.7. Specialization Constants</a></li>
<li><a href="chap10.html#pipelines-binding">10.8. Pipeline Binding</a></li>
<li><a href="chap10.html#pipelines-dynamic-state">10.9. Dynamic State</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#memory-host">11.1. Host Memory</a></li>
<li><a href="chap11.html#memory-device">11.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap12.html#resources-buffers">12.1. Buffers</a></li>
<li><a href="chap12.html#resources-buffer-views">12.2. Buffer Views</a></li>
<li><a href="chap12.html#resources-images">12.3. Images</a></li>
<li><a href="chap12.html#resources-image-layouts">12.4. Image Layouts</a></li>
<li><a href="chap12.html#resources-image-views">12.5. Image Views</a></li>
<li><a href="chap12.html#resources-association">12.6. Resource Memory Association</a></li>
<li><a href="chap12.html#resources-sharing">12.7. Resource Sharing Mode</a></li>
<li><a href="chap12.html#resources-memory-aliasing">12.8. Memory Aliasing</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Samplers</a>
<ul class="sectlevel2">
<li><a href="chap13.html#samplers-YCbCr-conversion">13.1. Sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></li>
</ul>
</li>
<li><a href="chap14.html">14. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap14.html#descriptorsets-types">14.1. Descriptor Types</a></li>
<li><a href="chap14.html#descriptorsets-sets">14.2. Descriptor Sets</a></li>
<li><a href="chap14.html#descriptorsets-physical-storage-buffer">14.3. Physical Storage Buffer Access</a></li>
</ul>
</li>
<li><a href="chap15.html">15. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap15.html#interfaces-iointerfaces">15.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap15.html#interfaces-vertexinput">15.2. Vertex Input Interface</a></li>
<li><a href="chap15.html#interfaces-fragmentoutput">15.3. Fragment Output Interface</a></li>
<li><a href="chap15.html#interfaces-inputattachment">15.4. Fragment Input Attachment Interface</a></li>
<li><a href="chap15.html#interfaces-resources">15.5. Shader Resource Interface</a></li>
<li><a href="chap15.html#interfaces-builtin-variables">15.6. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_image_operations_overview">16.1. Image Operations Overview</a></li>
<li><a href="chap16.html#_conversion_formulas">16.2. Conversion Formulas</a></li>
<li><a href="chap16.html#_texel_input_operations">16.3. Texel Input Operations</a></li>
<li><a href="chap16.html#_texel_output_operations">16.4. Texel Output Operations</a></li>
<li><a href="chap16.html#textures-normalized-operations">16.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#_unnormalized_texel_coordinate_operations">16.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-integer-coordinate-operations">16.7. Integer Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-sample-operations">16.8. Image Sample Operations</a></li>
<li><a href="chap16.html#textures-instructions">16.9. Image Operation Steps</a></li>
<li><a href="chap16.html#textures-queries">16.10. Image Query Instructions</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Queries</a>
<ul class="sectlevel2">
<li><a href="chap17.html#queries-pools">17.1. Query Pools</a></li>
<li><a href="chap17.html#queries-operation">17.2. Query Operation</a></li>
<li><a href="chap17.html#queries-occlusion">17.3. Occlusion Queries</a></li>
<li><a href="chap17.html#queries-pipestats">17.4. Pipeline Statistics Queries</a></li>
<li><a href="chap17.html#queries-timestamps">17.5. Timestamp Queries</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap18.html#clears-outside">18.1. Clearing Images Outside A Render Pass Instance</a></li>
<li><a href="chap18.html#clears-inside">18.2. Clearing Images Inside A Render Pass Instance</a></li>
<li><a href="chap18.html#clears-values">18.3. Clear Values</a></li>
<li><a href="chap18.html#clears-filling-buffers">18.4. Filling Buffers</a></li>
<li><a href="chap18.html#clears-updating-buffers">18.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#_common_operation">19.1. Common Operation</a></li>
<li><a href="chap19.html#copies-buffers">19.2. Copying Data Between Buffers</a></li>
<li><a href="chap19.html#copies-images">19.3. Copying Data Between Images</a></li>
<li><a href="chap19.html#copies-buffers-images">19.4. Copying Data Between Buffers and Images</a></li>
<li><a href="chap19.html#copies-imagescaling">19.5. Image Copies with Scaling</a></li>
<li><a href="chap19.html#copies-resolve">19.6. Resolving Multisample Images</a></li>
</ul>
</li>
<li><a href="chap20.html">20. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap20.html#drawing-primitive-topologies">20.1. Primitive Topologies</a></li>
<li><a href="chap20.html#drawing-primitive-order">20.2. Primitive Order</a></li>
<li><a href="chap20.html#drawing-primitive-shading">20.3. Programmable Primitive Shading</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap21.html#fxvertex-attrib">21.1. Vertex Attributes</a></li>
<li><a href="chap21.html#fxvertex-input">21.2. Vertex Input Description</a></li>
</ul>
</li>
<li><a href="chap22.html">22. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap22.html#_tessellator">22.1. Tessellator</a></li>
<li><a href="chap22.html#_tessellator_patch_discard">22.2. Tessellator Patch Discard</a></li>
<li><a href="chap22.html#tessellation-tessellator-spacing">22.3. Tessellator Spacing</a></li>
<li><a href="chap22.html#tessellation-primitive-order">22.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap22.html#tessellation-vertex-winding-order">22.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap22.html#tessellation-triangle-tessellation">22.6. Triangle Tessellation</a></li>
<li><a href="chap22.html#tessellation-quad-tessellation">22.7. Quad Tessellation</a></li>
<li><a href="chap22.html#tessellation-isoline-tessellation">22.8. Isoline Tessellation</a></li>
<li><a href="chap22.html#tessellation-point-mode">22.9. Tessellation Point Mode</a></li>
<li><a href="chap22.html#_tessellation_pipeline_state">22.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap23.html">23. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap23.html#geometry-input">23.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap23.html#geometry-output">23.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap23.html#geometry-invocations">23.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap23.html#geometry-ordering">23.4. Geometry Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap24.html">24. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap24.html#vertexpostproc-flatshading">24.1. Flat Shading</a></li>
<li><a href="chap24.html#vertexpostproc-clipping">24.2. Primitive Clipping</a></li>
<li><a href="chap24.html#vertexpostproc-clipping-shader-outputs">24.3. Clipping Shader Outputs</a></li>
<li><a href="chap24.html#vertexpostproc-coord-transform">24.4. Coordinate Transformations</a></li>
<li><a href="chap24.html#vertexpostproc-viewport">24.5. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap25.html">25. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap25.html#primsrast-discard">25.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap25.html#primrast-order">25.2. Rasterization Order</a></li>
<li><a href="chap25.html#primsrast-multisampling">25.3. Multisampling</a></li>
<li><a href="chap25.html#primsrast-sampleshading">25.4. Sample Shading</a></li>
<li><a href="chap25.html#primsrast-points">25.5. Points</a></li>
<li><a href="chap25.html#primsrast-lines">25.6. Line Segments</a></li>
<li><a href="chap25.html#primsrast-polygons">25.7. Polygons</a></li>
</ul>
</li>
<li><a href="chap26.html">26. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap26.html#fragops-scissor">26.1. Scissor Test</a></li>
<li><a href="chap26.html#fragops-samplemask">26.2. Sample Mask Test</a></li>
<li><a href="chap26.html#fragops-covg">26.3. Multisample Coverage</a></li>
<li><a href="chap26.html#fragops-ds-state">26.4. Depth and Stencil Operations</a></li>
<li><a href="chap26.html#fragops-dbt">26.5. Depth Bounds Test</a></li>
<li><a href="chap26.html#fragops-stencil">26.6. Stencil Test</a></li>
<li><a href="chap26.html#fragops-depth">26.7. Depth Test</a></li>
<li><a href="chap26.html#fragops-samplecount">26.8. Sample Counting</a></li>
<li><a href="chap26.html#fragops-coverage-reduction">26.9. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap27.html">27. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap27.html#framebuffer-blending">27.1. Blending</a></li>
<li><a href="chap27.html#framebuffer-logicop">27.2. Logical Operations</a></li>
<li><a href="chap27.html#framebuffer-color-write-mask">27.3. Color Write Mask</a></li>
</ul>
</li>
<li class="current"><a href="chap28.html">28. Dispatching Commands</a></li>
<li><a href="chap29.html">29. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap29.html#sparsememory-sparseresourcefeatures">29.1. Sparse Resource Features</a></li>
<li><a href="chap29.html#sparsememory-fully-resident">29.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap29.html#sparsememory-partially-resident-buffers">29.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap29.html#sparsememory-partially-resident-images">29.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap29.html#sparsememory-sparse-memory-aliasing">29.5. Sparse Memory Aliasing</a></li>
<li><a href="chap29.html#_sparse_resource_implementation_guidelines_informative">29.6. Sparse Resource Implementation Guidelines (Informative)</a></li>
<li><a href="chap29.html#sparsememory-resourceapi">29.7. Sparse Resource API</a></li>
</ul>
</li>
<li><a href="chap30.html">30. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap30.html#extendingvulkan-instanceanddevicefunctionality">30.1. Instance and Device Functionality</a></li>
<li><a href="chap30.html#extendingvulkan-coreversions">30.2. Core Versions</a></li>
<li><a href="chap30.html#extendingvulkan-layers">30.3. Layers</a></li>
<li><a href="chap30.html#extendingvulkan-extensions">30.4. Extensions</a></li>
<li><a href="chap30.html#extendingvulkan-extensions-extensiondependencies">30.5. Extension Dependencies</a></li>
<li><a href="chap30.html#_compatibility_guarantees_informative">30.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap31.html">31. Features</a>
<ul class="sectlevel2">
<li><a href="chap31.html#features-requirements">31.1. Feature Requirements</a></li>
</ul>
</li>
<li><a href="chap32.html">32. Limits</a>
<ul class="sectlevel2">
<li><a href="chap32.html#limits-minmax">32.1. Limit Requirements</a></li>
</ul>
</li>
<li><a href="chap33.html">33. Formats</a>
<ul class="sectlevel2">
<li><a href="chap33.html#formats-definition">33.1. Format Definition</a></li>
<li><a href="chap33.html#formats-properties">33.2. Format Properties</a></li>
<li><a href="chap33.html#features-required-format-support">33.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="chap34.html">34. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="chap34.html#capabilities-image">34.1. Additional Image Capabilities</a></li>
<li><a href="chap34.html#capabilities-buffer">34.2. Additional Buffer Capabilities</a></li>
<li><a href="chap34.html#capabilities-semaphore">34.3. Optional Semaphore Capabilities</a></li>
<li><a href="chap34.html#capabilities-fence">34.4. Optional Fence Capabilities</a></li>
</ul>
</li>
<li><a href="chap35.html">35. Debugging</a></li>
<li><a href="chap36.html">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap36.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap36.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap36.html#spirvenv-module-validation">Validation Rules within a Module</a></li>
<li><a href="chap36.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap36.html#spirvenv-image-signedness">Signedness of SPIR-V Image Accesses</a></li>
<li><a href="chap36.html#spirvenv-format-type-matching">Image Format and Type Matching</a></li>
<li><a href="chap36.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats And Vulkan Formats</a></li>
</ul>
</li>
<li><a href="chap37.html">Appendix B: Memory Model</a>
<ul class="sectlevel2">
<li><a href="chap37.html#memory-model-agent">Agent</a></li>
<li><a href="chap37.html#memory-model-memory-location">Memory Location</a></li>
<li><a href="chap37.html#memory-model-allocation">Allocation</a></li>
<li><a href="chap37.html#memory-model-memory-operation">Memory Operation</a></li>
<li><a href="chap37.html#memory-model-references">Reference</a></li>
<li><a href="chap37.html#memory-model-program-order">Program-Order</a></li>
<li><a href="chap37.html#memory-model-scope">Scope</a></li>
<li><a href="chap37.html#memory-model-atomic-operation">Atomic Operation</a></li>
<li><a href="chap37.html#memory-model-scoped-modification-order">Scoped Modification Order</a></li>
<li><a href="chap37.html#memory-model-memory-semantics">Memory Semantics</a></li>
<li><a href="chap37.html#memory-model-release-sequence">Release Sequence</a></li>
<li><a href="chap37.html#memory-model-synchronizes-with">Synchronizes-With</a></li>
<li><a href="chap37.html#memory-model-system-synchronizes-with">System-Synchronizes-With</a></li>
<li><a href="chap37.html#memory-model-non-private">Private vs. Non-Private</a></li>
<li><a href="chap37.html#memory-model-inter-thread-happens-before">Inter-Thread-Happens-Before</a></li>
<li><a href="chap37.html#memory-model-happens-before">Happens-Before</a></li>
<li><a href="chap37.html#memory-model-availability-visibility">Availability and Visibility</a></li>
<li><a href="chap37.html#memory-model-vulkan-availability-visibility">Availability, Visibility, and Domain Operations</a></li>
<li><a href="chap37.html#memory-model-availability-visibility-semantics">Availability and Visibility Semantics</a></li>
<li><a href="chap37.html#memory-model-instruction-av-vis">Per-Instruction Availability and Visibility Semantics</a></li>
<li><a href="chap37.html#memory-model-location-ordered">Location-Ordered</a></li>
<li><a href="chap37.html#memory-model-access-data-race">Data Race</a></li>
<li><a href="chap37.html#memory-model-visible-to">Visible-To</a></li>
<li><a href="chap37.html#memory-model-acyclicity">Acyclicity</a></li>
<li><a href="chap37.html#memory-model-shader-io">Shader I/O</a></li>
<li><a href="chap37.html#memory-model-deallocation">Deallocation</a></li>
<li><a href="chap37.html#memory-model-informative-descriptions">Descriptions (Informative)</a></li>
<li><a href="chap37.html#memory-model-tessellation-output-ordering">Tessellation Output Ordering</a></li>
</ul>
</li>
<li><a href="chap38.html">Appendix C: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap38.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap38.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap38.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap39.html">Appendix D: Core Revisions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap39.html#versions-1.2">Version 1.2</a></li>
<li><a href="chap39.html#versions-1.1">Version 1.1</a></li>
</ul>
</li>
<li><a href="chap40.html">Appendix E: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap40.html#extension-appendices-list">List of Extensions</a></li>
</ul>
</li>
<li><a href="chap41.html">Appendix F: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap41.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap41.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="chap41.html#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
</ul>
</li>
<li><a href="chap42.html">Appendix G: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap42.html#_repeatability">Repeatability</a></li>
<li><a href="chap42.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap42.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap42.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap43.html">Appendix H: Lexicon</a>
<ul class="sectlevel2">
<li><a href="chap43.html#glossary">Glossary</a></li>
<li><a href="chap43.html#lexicon-common-abbreviations">Common Abbreviations</a></li>
<li><a href="chap43.html#lexicon-prefixes">Prefixes</a></li>
</ul>
</li>
<li><a href="chap44.html">Appendix I: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap44.html#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="chap44.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="loading_msg" class="hidden" hidden=""><p>Loading… please wait.</p></div>
<!--ChunkedSearchboxMarker-->
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
<div id="content" class="loadable" style="max-width: 100%;"><div class="sect1">
<h2 id="dispatch"><a class="anchor" href="chap28.html"></a>28. Dispatching Commands</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Dispatching commands</em> (commands with <code>Dispatch</code> in the name) provoke
work in a compute pipeline.
Dispatching commands are recorded into a command buffer and when executed by
a queue, will produce work which executes according to the bound compute
pipeline.
A compute pipeline <strong class="purple">must</strong> be bound to a command buffer before any dispatching
commands are recorded in that command buffer.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record a dispatch, call:</p>
</div>
<div id="vkCmdDispatch" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="directive">void</span> vkCmdDispatch(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    groupCountX,
    uint32_t                                    groupCountY,
    uint32_t                                    groupCountZ);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>groupCountX</code> is the number of local workgroups to dispatch in the X
dimension.</p>
</li>
<li>
<p><code>groupCountY</code> is the number of local workgroups to dispatch in the Y
dimension.</p>
</li>
<li>
<p><code>groupCountZ</code> is the number of local workgroups to dispatch in the Z
dimension.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the command is executed, a global workgroup consisting of
<span class="eq"><code>groupCountX</code> × <code>groupCountY</code> × <code>groupCountZ</code></span>
local workgroups is assembled.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatch-magFilter-04553" href="chap28.html#VUID-vkCmdDispatch-magFilter-04553"></a> <span class="vuid">VUID-vkCmdDispatch-magFilter-04553</span><br>

If a <a href="chap13.html#VkSampler">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code> and <code>compareEnable</code> equal to
<code>VK_FALSE</code> is used to sample a <a href="chap12.html#VkImageView">VkImageView</a> as a result of this
command, then the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-mipmapMode-04770" href="chap28.html#VUID-vkCmdDispatch-mipmapMode-04770"></a> <span class="vuid">VUID-vkCmdDispatch-mipmapMode-04770</span><br>

If a <a href="chap13.html#VkSampler">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code> and <code>compareEnable</code> equal to
<code>VK_FALSE</code> is used to sample a <a href="chap12.html#VkImageView">VkImageView</a> as a result of this
command, then the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02691" href="chap28.html#VUID-vkCmdDispatch-None-02691"></a> <span class="vuid">VUID-vkCmdDispatch-None-02691</span><br>

If a <code>VkImageView</code> is accessed using atomic operations as a result
of this command, then the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02697" href="chap28.html#VUID-vkCmdDispatch-None-02697"></a> <span class="vuid">VUID-vkCmdDispatch-None-02697</span><br>

For each set <em>n</em> that is statically used by the <code>VkPipeline</code> bound
to the pipeline bind point used by this command, a descriptor set <strong class="purple">must</strong>
have been bound to <em>n</em> at the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for set <em>n</em>, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="chap14.html#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02698" href="chap28.html#VUID-vkCmdDispatch-None-02698"></a> <span class="vuid">VUID-vkCmdDispatch-None-02698</span><br>

For each push constant that is statically used by the <code>VkPipeline</code>
bound to the pipeline bind point used by this command, a push constant
value <strong class="purple">must</strong> have been set for the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for push constants, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="chap14.html#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02699" href="chap28.html#VUID-vkCmdDispatch-None-02699"></a> <span class="vuid">VUID-vkCmdDispatch-None-02699</span><br>

Descriptors in each bound descriptor set, specified via
<code>vkCmdBindDescriptorSets</code>, <strong class="purple">must</strong> be valid if they are statically
used by the <code>VkPipeline</code> bound to the pipeline bind point used by
this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02700" href="chap28.html#VUID-vkCmdDispatch-None-02700"></a> <span class="vuid">VUID-vkCmdDispatch-None-02700</span><br>

A valid pipeline <strong class="purple">must</strong> be bound to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-02701" href="chap28.html#VUID-vkCmdDispatch-commandBuffer-02701"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-02701</span><br>

If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command requires any dynamic state, that state <strong class="purple">must</strong> have been set
or inherited (if the <code><a href="undefined">[VK_NV_inherited_viewport_scissor]</a></code> extension is
enabled) for <code>commandBuffer</code>, and done so after any previously bound
pipeline with the corresponding state not specified as dynamic</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02859" href="chap28.html#VUID-vkCmdDispatch-None-02859"></a> <span class="vuid">VUID-vkCmdDispatch-None-02859</span><br>

There <strong class="purple">must</strong> not have been any calls to dynamic state setting commands
for any state not specified as dynamic in the <code>VkPipeline</code> object
bound to the pipeline bind point used by this command, since that
pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02702" href="chap28.html#VUID-vkCmdDispatch-None-02702"></a> <span class="vuid">VUID-vkCmdDispatch-None-02702</span><br>

If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used to sample from any
<code>VkImage</code> with a <code>VkImageView</code> of the type
<code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>,
<code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02703" href="chap28.html#VUID-vkCmdDispatch-None-02703"></a> <span class="vuid">VUID-vkCmdDispatch-None-02703</span><br>

If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions with
<code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name, in any shader
stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02704" href="chap28.html#VUID-vkCmdDispatch-None-02704"></a> <span class="vuid">VUID-vkCmdDispatch-None-02704</span><br>

If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions that includes a
LOD bias or any offset values, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02705" href="chap28.html#VUID-vkCmdDispatch-None-02705"></a> <span class="vuid">VUID-vkCmdDispatch-None-02705</span><br>

If the <a href="chap31.html#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a uniform buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02706" href="chap28.html#VUID-vkCmdDispatch-None-02706"></a> <span class="vuid">VUID-vkCmdDispatch-None-02706</span><br>

If the <a href="chap31.html#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a storage buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-02707" href="chap28.html#VUID-vkCmdDispatch-commandBuffer-02707"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-02707</span><br>

If <code>commandBuffer</code> is an unprotected command buffer, any resource
accessed by the <code>VkPipeline</code> object bound to the pipeline bind point
used by this command <strong class="purple">must</strong> not be a protected resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-04115" href="chap28.html#VUID-vkCmdDispatch-None-04115"></a> <span class="vuid">VUID-vkCmdDispatch-None-04115</span><br>

If a <a href="chap12.html#VkImageView">VkImageView</a> is accessed using <code>OpImageWrite</code> as a result
of this command, then the <code>Type</code> of the <code>Texel</code> operand of that
instruction <strong class="purple">must</strong> have at least as many components as the image view’s
format.</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-OpImageWrite-04469" href="chap28.html#VUID-vkCmdDispatch-OpImageWrite-04469"></a> <span class="vuid">VUID-vkCmdDispatch-OpImageWrite-04469</span><br>

If a <a href="chap12.html#VkBufferView">VkBufferView</a> is accessed using <code>OpImageWrite</code> as a result
of this command, then the <code>Type</code> of the <code>Texel</code> operand of that
instruction <strong class="purple">must</strong> have at least as many components as the buffer view’s
format.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-02712" href="chap28.html#VUID-vkCmdDispatch-commandBuffer-02712"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-02712</span><br>

If <code>commandBuffer</code> is a protected command buffer, any resource
written to by the <code>VkPipeline</code> object bound to the pipeline bind
point used by this command <strong class="purple">must</strong> not be an unprotected resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-02713" href="chap28.html#VUID-vkCmdDispatch-commandBuffer-02713"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-02713</span><br>

If <code>commandBuffer</code> is a protected command buffer, pipeline stages
other than the framebuffer-space and compute stages in the
<code>VkPipeline</code> object bound to the pipeline bind point used by this
command <strong class="purple">must</strong> not write to any resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-04617" href="chap28.html#VUID-vkCmdDispatch-commandBuffer-04617"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-04617</span><br>

If any of the shader stages of the <code>VkPipeline</code> bound to the
pipeline bind point used by this command uses the
<a href="undefined">RayQueryKHR</a> capability, then
<code>commandBuffer</code> <strong class="purple">must</strong> not be a protected command buffer</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-groupCountX-00386" href="chap28.html#VUID-vkCmdDispatch-groupCountX-00386"></a> <span class="vuid">VUID-vkCmdDispatch-groupCountX-00386</span><br>

<code>groupCountX</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[0]</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-groupCountY-00387" href="chap28.html#VUID-vkCmdDispatch-groupCountY-00387"></a> <span class="vuid">VUID-vkCmdDispatch-groupCountY-00387</span><br>

<code>groupCountY</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[1]</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-groupCountZ-00388" href="chap28.html#VUID-vkCmdDispatch-groupCountZ-00388"></a> <span class="vuid">VUID-vkCmdDispatch-groupCountZ-00388</span><br>

<code>groupCountZ</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[2]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-parameter" href="chap28.html#VUID-vkCmdDispatch-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-recording" href="chap28.html#VUID-vkCmdDispatch-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdDispatch-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-renderpass" href="chap28.html#VUID-vkCmdDispatch-renderpass"></a> <span class="vuid">VUID-vkCmdDispatch-renderpass</span><br>
 This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compute</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record an indirect dispatching command, call:</p>
</div>
<div id="vkCmdDispatchIndirect" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="directive">void</span> vkCmdDispatchIndirect(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>buffer</code> is the buffer containing dispatch parameters.</p>
</li>
<li>
<p><code>offset</code> is the byte offset into <code>buffer</code> where parameters
begin.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdDispatchIndirect</code> behaves similarly to <a href="chap28.html#vkCmdDispatch">vkCmdDispatch</a> except
that the parameters are read by the device from a buffer during execution.
The parameters of the dispatch are encoded in a
<a href="chap28.html#VkDispatchIndirectCommand">VkDispatchIndirectCommand</a> structure taken from <code>buffer</code> starting
at <code>offset</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-magFilter-04553" href="chap28.html#VUID-vkCmdDispatchIndirect-magFilter-04553"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-magFilter-04553</span><br>

If a <a href="chap13.html#VkSampler">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code> and <code>compareEnable</code> equal to
<code>VK_FALSE</code> is used to sample a <a href="chap12.html#VkImageView">VkImageView</a> as a result of this
command, then the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-mipmapMode-04770" href="chap28.html#VUID-vkCmdDispatchIndirect-mipmapMode-04770"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-mipmapMode-04770</span><br>

If a <a href="chap13.html#VkSampler">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code> and <code>compareEnable</code> equal to
<code>VK_FALSE</code> is used to sample a <a href="chap12.html#VkImageView">VkImageView</a> as a result of this
command, then the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02691" href="chap28.html#VUID-vkCmdDispatchIndirect-None-02691"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-02691</span><br>

If a <code>VkImageView</code> is accessed using atomic operations as a result
of this command, then the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02697" href="chap28.html#VUID-vkCmdDispatchIndirect-None-02697"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-02697</span><br>

For each set <em>n</em> that is statically used by the <code>VkPipeline</code> bound
to the pipeline bind point used by this command, a descriptor set <strong class="purple">must</strong>
have been bound to <em>n</em> at the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for set <em>n</em>, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="chap14.html#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02698" href="chap28.html#VUID-vkCmdDispatchIndirect-None-02698"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-02698</span><br>

For each push constant that is statically used by the <code>VkPipeline</code>
bound to the pipeline bind point used by this command, a push constant
value <strong class="purple">must</strong> have been set for the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for push constants, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="chap14.html#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02699" href="chap28.html#VUID-vkCmdDispatchIndirect-None-02699"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-02699</span><br>

Descriptors in each bound descriptor set, specified via
<code>vkCmdBindDescriptorSets</code>, <strong class="purple">must</strong> be valid if they are statically
used by the <code>VkPipeline</code> bound to the pipeline bind point used by
this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02700" href="chap28.html#VUID-vkCmdDispatchIndirect-None-02700"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-02700</span><br>

A valid pipeline <strong class="purple">must</strong> be bound to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-02701" href="chap28.html#VUID-vkCmdDispatchIndirect-commandBuffer-02701"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-commandBuffer-02701</span><br>

If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command requires any dynamic state, that state <strong class="purple">must</strong> have been set
or inherited (if the <code><a href="undefined">[VK_NV_inherited_viewport_scissor]</a></code> extension is
enabled) for <code>commandBuffer</code>, and done so after any previously bound
pipeline with the corresponding state not specified as dynamic</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02859" href="chap28.html#VUID-vkCmdDispatchIndirect-None-02859"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-02859</span><br>

There <strong class="purple">must</strong> not have been any calls to dynamic state setting commands
for any state not specified as dynamic in the <code>VkPipeline</code> object
bound to the pipeline bind point used by this command, since that
pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02702" href="chap28.html#VUID-vkCmdDispatchIndirect-None-02702"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-02702</span><br>

If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used to sample from any
<code>VkImage</code> with a <code>VkImageView</code> of the type
<code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>,
<code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02703" href="chap28.html#VUID-vkCmdDispatchIndirect-None-02703"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-02703</span><br>

If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions with
<code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name, in any shader
stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02704" href="chap28.html#VUID-vkCmdDispatchIndirect-None-02704"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-02704</span><br>

If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions that includes a
LOD bias or any offset values, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02705" href="chap28.html#VUID-vkCmdDispatchIndirect-None-02705"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-02705</span><br>

If the <a href="chap31.html#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a uniform buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02706" href="chap28.html#VUID-vkCmdDispatchIndirect-None-02706"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-02706</span><br>

If the <a href="chap31.html#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a storage buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-02707" href="chap28.html#VUID-vkCmdDispatchIndirect-commandBuffer-02707"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-commandBuffer-02707</span><br>

If <code>commandBuffer</code> is an unprotected command buffer, any resource
accessed by the <code>VkPipeline</code> object bound to the pipeline bind point
used by this command <strong class="purple">must</strong> not be a protected resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-04115" href="chap28.html#VUID-vkCmdDispatchIndirect-None-04115"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-04115</span><br>

If a <a href="chap12.html#VkImageView">VkImageView</a> is accessed using <code>OpImageWrite</code> as a result
of this command, then the <code>Type</code> of the <code>Texel</code> operand of that
instruction <strong class="purple">must</strong> have at least as many components as the image view’s
format.</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-OpImageWrite-04469" href="chap28.html#VUID-vkCmdDispatchIndirect-OpImageWrite-04469"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-OpImageWrite-04469</span><br>

If a <a href="chap12.html#VkBufferView">VkBufferView</a> is accessed using <code>OpImageWrite</code> as a result
of this command, then the <code>Type</code> of the <code>Texel</code> operand of that
instruction <strong class="purple">must</strong> have at least as many components as the buffer view’s
format.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-buffer-02708" href="chap28.html#VUID-vkCmdDispatchIndirect-buffer-02708"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-buffer-02708</span><br>

If <code>buffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-buffer-02709" href="chap28.html#VUID-vkCmdDispatchIndirect-buffer-02709"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-buffer-02709</span><br>

<code>buffer</code> <strong class="purple">must</strong> have been created with the
<code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> bit set</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-offset-02710" href="chap28.html#VUID-vkCmdDispatchIndirect-offset-02710"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-offset-02710</span><br>

<code>offset</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-02711" href="chap28.html#VUID-vkCmdDispatchIndirect-commandBuffer-02711"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-commandBuffer-02711</span><br>

<code>commandBuffer</code> <strong class="purple">must</strong> not be a protected command buffer</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-offset-00407" href="chap28.html#VUID-vkCmdDispatchIndirect-offset-00407"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-offset-00407</span><br>

The sum of <code>offset</code> and the size of <code>VkDispatchIndirectCommand</code>
<strong class="purple">must</strong> be less than or equal to the size of <code>buffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-parameter" href="chap28.html#VUID-vkCmdDispatchIndirect-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-buffer-parameter" href="chap28.html#VUID-vkCmdDispatchIndirect-buffer-parameter"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-buffer-parameter</span><br>
 <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="chap12.html#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-recording" href="chap28.html#VUID-vkCmdDispatchIndirect-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdDispatchIndirect-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-renderpass" href="chap28.html#VUID-vkCmdDispatchIndirect-renderpass"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-renderpass</span><br>
 This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commonparent" href="chap28.html#VUID-vkCmdDispatchIndirect-commonparent"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-commonparent</span><br>
 Both of <code>buffer</code>, and <code>commandBuffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compute</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDispatchIndirectCommand</code> structure is defined as:</p>
</div>
<div id="VkDispatchIndirectCommand" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkDispatchIndirectCommand {
    uint32_t    x;
    uint32_t    y;
    uint32_t    z;
} VkDispatchIndirectCommand;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>x</code> is the number of local workgroups to dispatch in the X
dimension.</p>
</li>
<li>
<p><code>y</code> is the number of local workgroups to dispatch in the Y
dimension.</p>
</li>
<li>
<p><code>z</code> is the number of local workgroups to dispatch in the Z
dimension.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The members of <code>VkDispatchIndirectCommand</code> have the same meaning as the
corresponding parameters of <a href="chap28.html#vkCmdDispatch">vkCmdDispatch</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDispatchIndirectCommand-x-00417" href="chap28.html#VUID-VkDispatchIndirectCommand-x-00417"></a> <span class="vuid">VUID-VkDispatchIndirectCommand-x-00417</span><br>

<code>x</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkDispatchIndirectCommand-y-00418" href="chap28.html#VUID-VkDispatchIndirectCommand-y-00418"></a> <span class="vuid">VUID-VkDispatchIndirectCommand-y-00418</span><br>

<code>y</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkDispatchIndirectCommand-z-00419" href="chap28.html#VUID-VkDispatchIndirectCommand-z-00419"></a> <span class="vuid">VUID-VkDispatchIndirectCommand-z-00419</span><br>

<code>z</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[2]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record a dispatch using non-zero base values for the components of
<code>WorkgroupId</code>, call:</p>
</div>
<div id="vkCmdDispatchBase" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_1</span>
<span class="directive">void</span> vkCmdDispatchBase(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    baseGroupX,
    uint32_t                                    baseGroupY,
    uint32_t                                    baseGroupZ,
    uint32_t                                    groupCountX,
    uint32_t                                    groupCountY,
    uint32_t                                    groupCountZ);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>baseGroupX</code> is the start value for the X component of
<code>WorkgroupId</code>.</p>
</li>
<li>
<p><code>baseGroupY</code> is the start value for the Y component of
<code>WorkgroupId</code>.</p>
</li>
<li>
<p><code>baseGroupZ</code> is the start value for the Z component of
<code>WorkgroupId</code>.</p>
</li>
<li>
<p><code>groupCountX</code> is the number of local workgroups to dispatch in the X
dimension.</p>
</li>
<li>
<p><code>groupCountY</code> is the number of local workgroups to dispatch in the Y
dimension.</p>
</li>
<li>
<p><code>groupCountZ</code> is the number of local workgroups to dispatch in the Z
dimension.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the command is executed, a global workgroup consisting of
<span class="eq"><code>groupCountX</code> × <code>groupCountY</code> × <code>groupCountZ</code></span>
local workgroups is assembled, with <code>WorkgroupId</code> values ranging from
<span class="eq">[<code>baseGroup*</code>, <code>baseGroup*</code> +  <code>groupCount*</code>)</span> in each
component.
<a href="chap28.html#vkCmdDispatch">vkCmdDispatch</a> is equivalent to
<code>vkCmdDispatchBase(0,0,0,groupCountX,groupCountY,groupCountZ)</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchBase-magFilter-04553" href="chap28.html#VUID-vkCmdDispatchBase-magFilter-04553"></a> <span class="vuid">VUID-vkCmdDispatchBase-magFilter-04553</span><br>

If a <a href="chap13.html#VkSampler">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code> and <code>compareEnable</code> equal to
<code>VK_FALSE</code> is used to sample a <a href="chap12.html#VkImageView">VkImageView</a> as a result of this
command, then the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-mipmapMode-04770" href="chap28.html#VUID-vkCmdDispatchBase-mipmapMode-04770"></a> <span class="vuid">VUID-vkCmdDispatchBase-mipmapMode-04770</span><br>

If a <a href="chap13.html#VkSampler">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code> and <code>compareEnable</code> equal to
<code>VK_FALSE</code> is used to sample a <a href="chap12.html#VkImageView">VkImageView</a> as a result of this
command, then the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-02691" href="chap28.html#VUID-vkCmdDispatchBase-None-02691"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-02691</span><br>

If a <code>VkImageView</code> is accessed using atomic operations as a result
of this command, then the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-02697" href="chap28.html#VUID-vkCmdDispatchBase-None-02697"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-02697</span><br>

For each set <em>n</em> that is statically used by the <code>VkPipeline</code> bound
to the pipeline bind point used by this command, a descriptor set <strong class="purple">must</strong>
have been bound to <em>n</em> at the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for set <em>n</em>, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="chap14.html#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-02698" href="chap28.html#VUID-vkCmdDispatchBase-None-02698"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-02698</span><br>

For each push constant that is statically used by the <code>VkPipeline</code>
bound to the pipeline bind point used by this command, a push constant
value <strong class="purple">must</strong> have been set for the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for push constants, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="chap14.html#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-02699" href="chap28.html#VUID-vkCmdDispatchBase-None-02699"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-02699</span><br>

Descriptors in each bound descriptor set, specified via
<code>vkCmdBindDescriptorSets</code>, <strong class="purple">must</strong> be valid if they are statically
used by the <code>VkPipeline</code> bound to the pipeline bind point used by
this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-02700" href="chap28.html#VUID-vkCmdDispatchBase-None-02700"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-02700</span><br>

A valid pipeline <strong class="purple">must</strong> be bound to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-02701" href="chap28.html#VUID-vkCmdDispatchBase-commandBuffer-02701"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-02701</span><br>

If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command requires any dynamic state, that state <strong class="purple">must</strong> have been set
or inherited (if the <code><a href="undefined">[VK_NV_inherited_viewport_scissor]</a></code> extension is
enabled) for <code>commandBuffer</code>, and done so after any previously bound
pipeline with the corresponding state not specified as dynamic</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-02859" href="chap28.html#VUID-vkCmdDispatchBase-None-02859"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-02859</span><br>

There <strong class="purple">must</strong> not have been any calls to dynamic state setting commands
for any state not specified as dynamic in the <code>VkPipeline</code> object
bound to the pipeline bind point used by this command, since that
pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-02702" href="chap28.html#VUID-vkCmdDispatchBase-None-02702"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-02702</span><br>

If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used to sample from any
<code>VkImage</code> with a <code>VkImageView</code> of the type
<code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>,
<code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-02703" href="chap28.html#VUID-vkCmdDispatchBase-None-02703"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-02703</span><br>

If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions with
<code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name, in any shader
stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-02704" href="chap28.html#VUID-vkCmdDispatchBase-None-02704"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-02704</span><br>

If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions that includes a
LOD bias or any offset values, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-02705" href="chap28.html#VUID-vkCmdDispatchBase-None-02705"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-02705</span><br>

If the <a href="chap31.html#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a uniform buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-02706" href="chap28.html#VUID-vkCmdDispatchBase-None-02706"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-02706</span><br>

If the <a href="chap31.html#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a storage buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-02707" href="chap28.html#VUID-vkCmdDispatchBase-commandBuffer-02707"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-02707</span><br>

If <code>commandBuffer</code> is an unprotected command buffer, any resource
accessed by the <code>VkPipeline</code> object bound to the pipeline bind point
used by this command <strong class="purple">must</strong> not be a protected resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-04115" href="chap28.html#VUID-vkCmdDispatchBase-None-04115"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-04115</span><br>

If a <a href="chap12.html#VkImageView">VkImageView</a> is accessed using <code>OpImageWrite</code> as a result
of this command, then the <code>Type</code> of the <code>Texel</code> operand of that
instruction <strong class="purple">must</strong> have at least as many components as the image view’s
format.</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-OpImageWrite-04469" href="chap28.html#VUID-vkCmdDispatchBase-OpImageWrite-04469"></a> <span class="vuid">VUID-vkCmdDispatchBase-OpImageWrite-04469</span><br>

If a <a href="chap12.html#VkBufferView">VkBufferView</a> is accessed using <code>OpImageWrite</code> as a result
of this command, then the <code>Type</code> of the <code>Texel</code> operand of that
instruction <strong class="purple">must</strong> have at least as many components as the buffer view’s
format.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-02712" href="chap28.html#VUID-vkCmdDispatchBase-commandBuffer-02712"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-02712</span><br>

If <code>commandBuffer</code> is a protected command buffer, any resource
written to by the <code>VkPipeline</code> object bound to the pipeline bind
point used by this command <strong class="purple">must</strong> not be an unprotected resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-02713" href="chap28.html#VUID-vkCmdDispatchBase-commandBuffer-02713"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-02713</span><br>

If <code>commandBuffer</code> is a protected command buffer, pipeline stages
other than the framebuffer-space and compute stages in the
<code>VkPipeline</code> object bound to the pipeline bind point used by this
command <strong class="purple">must</strong> not write to any resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-04617" href="chap28.html#VUID-vkCmdDispatchBase-commandBuffer-04617"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-04617</span><br>

If any of the shader stages of the <code>VkPipeline</code> bound to the
pipeline bind point used by this command uses the
<a href="undefined">RayQueryKHR</a> capability, then
<code>commandBuffer</code> <strong class="purple">must</strong> not be a protected command buffer</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-baseGroupX-00421" href="chap28.html#VUID-vkCmdDispatchBase-baseGroupX-00421"></a> <span class="vuid">VUID-vkCmdDispatchBase-baseGroupX-00421</span><br>

<code>baseGroupX</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[0]</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-baseGroupX-00422" href="chap28.html#VUID-vkCmdDispatchBase-baseGroupX-00422"></a> <span class="vuid">VUID-vkCmdDispatchBase-baseGroupX-00422</span><br>

<code>baseGroupY</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[1]</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-baseGroupZ-00423" href="chap28.html#VUID-vkCmdDispatchBase-baseGroupZ-00423"></a> <span class="vuid">VUID-vkCmdDispatchBase-baseGroupZ-00423</span><br>

<code>baseGroupZ</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[2]</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-groupCountX-00424" href="chap28.html#VUID-vkCmdDispatchBase-groupCountX-00424"></a> <span class="vuid">VUID-vkCmdDispatchBase-groupCountX-00424</span><br>

<code>groupCountX</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[0] minus
<code>baseGroupX</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-groupCountY-00425" href="chap28.html#VUID-vkCmdDispatchBase-groupCountY-00425"></a> <span class="vuid">VUID-vkCmdDispatchBase-groupCountY-00425</span><br>

<code>groupCountY</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[1] minus
<code>baseGroupY</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-groupCountZ-00426" href="chap28.html#VUID-vkCmdDispatchBase-groupCountZ-00426"></a> <span class="vuid">VUID-vkCmdDispatchBase-groupCountZ-00426</span><br>

<code>groupCountZ</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[2] minus
<code>baseGroupZ</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-baseGroupX-00427" href="chap28.html#VUID-vkCmdDispatchBase-baseGroupX-00427"></a> <span class="vuid">VUID-vkCmdDispatchBase-baseGroupX-00427</span><br>

If any of <code>baseGroupX</code>, <code>baseGroupY</code>, or <code>baseGroupZ</code> are
not zero, then the bound compute pipeline <strong class="purple">must</strong> have been created with
the <code>VK_PIPELINE_CREATE_DISPATCH_BASE</code> flag</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-parameter" href="chap28.html#VUID-vkCmdDispatchBase-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-recording" href="chap28.html#VUID-vkCmdDispatchBase-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdDispatchBase-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-renderpass" href="chap28.html#VUID-vkCmdDispatchBase-renderpass"></a> <span class="vuid">VUID-vkCmdDispatchBase-renderpass</span><br>
 This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compute</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div></div>

<nav>
  <a rel="prev" href="chap27.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap29.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>
<div id="footer" style="max-width: 100%;">
<div id="footer-text">
Version 1.2.187<br>
Last updated 2021-07-27 05:57:55 -0700
</div>
</div>



</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>