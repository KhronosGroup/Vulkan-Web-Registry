<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="AsciiDoc 8.6.9">
<title>Vulkan<sup>&#174;</sup> 1.0.39 - A Specification (with KHR extensions)</title>
<style type="text/css">
/*
  CSS stylesheet for XHTML produced by asciidoc xhtml11 and html5 backends

  This is branched from /etc/asciidoc/stylesheets/asciidoc.css with a few
  tweaks from vkspec-xhtml.css to match it.

*/

/* Vulkan modifications and additions */

/* Don't underline links */
a {
  color: blue;
}

/* Try to make [math] style in the same font as MathML */
span.eq {
  font-style: italic;
  font-family: STIXGeneral,serif;
  font-size: 1.2em;
}

/* Try to make [math] style in the same font as MathML */
span.mm {
  font-family: STIXGeneral,serif;
  font-size: 1.33em;
  color: black;
}

/* For showing added material in a document */
div.added { color: red; }
p.added { color: red; }
span.added { color: red; }

/* For showing removed material in a document */
div.removed { color: red; text-decoration: line-through; }
p.removed { color: red; text-decoration: line-through; }
span.removed { color: red; text-decoration: line-through; }

/* For showing changed material in a document */
div.change { color: red; }
p.change { color: red; }
span.change { color: red; }

/* For marking the "normative" terms like must:, can:, etc. */
div.normative { color: purple; }
p.normative { color: purple; }
span.normative { color: purple; }

/* Use a sans-serif font. This needs to be in a smaller point size. */
body {
  font-family: Arial,sans-serif;
}

/* End Vulkan modifications and additions */

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


@media screen {
  body {
    max-width: 50em; /* approximately 80 characters wide */
    margin-left: 16em;
  }

  #toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 13em;
    padding: 0.5em;
    padding-bottom: 1.5em;
    margin: 0;
    overflow: auto;
    border-right: 3px solid #f8f8f8;
    background-color: white;
  }

  #toc .toclevel1 {
    margin-top: 0.5em;
  }

  #toc .toclevel2 {
    margin-top: 0.25em;
    display: list-item;
    color: #aaaaaa;
  }

  #toctitle {
    margin-top: 0.5em;
  }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
    <!-- Asciidoc configuration file attribute substitution is applied when
         including this file, so care in formatting braces is required. Thus
         the spaces before left: below. -->
    <!-- Load KaTeX from relative path ../katex.
         This can also be an absolute URL prefix, allowing use of either a
         local copy or the KaTeX CDN (see https://github.com/Khan/KaTeX for
         CDN URLs). -->
<link rel="stylesheet" href="../katex/katex.min.css">
<script src="../katex/katex.min.js"></script>
<script src="../katex/contrib/auto-render.min.js"></script>
    <!-- Use KaTeX to render math once document is loaded, see
         https://github.com/Khan/KaTeX/tree/master/contrib/auto-render -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(
            document.body,
            {
                delimiters: [
                    { left: "$$", right: "$$", display: true},
                    { left: "\\[", right: "\\]", display: true},
                    { left: "$", right: "$", display: false},
                    { left: "\\(", right: "\\)", display: false}
                ]
            }
        );
    });
</script>
</head>
<body class="book" style="max-width:100">
<div id="header">
<h1>Vulkan<sup>&#174;</sup> 1.0.39 - A Specification (with KHR extensions)</h1>
<span id="author">The Khronos Vulkan Working Group</span><br>
<span id="revnumber">version 1.0.39,</span>
<span id="revdate">Wed, 18 Jan 2017 04:15:30 +0000</span>
<br><span id="revremark">from git branch: 1.0 commit: ca4abe0d34ca8ed8410c65c177f8658da183576d</span>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after:always"></div>
<div class="paragraph"><p>Copyright &#169; 2014-2017 The Khronos Group Inc. All Rights Reserved.</p></div>
<div class="paragraph"><p>This specification is protected by copyright laws and contains material proprietary
to the Khronos Group, Inc. It or any components may not be reproduced, republished,
distributed, transmitted, displayed, broadcast or otherwise exploited in any
manner without the express prior written permission of Khronos Group. You may
use this specification for implementing the functionality therein, without altering or
removing any trademark, copyright or other notice from the specification, but the
receipt or possession of this specification does not convey any rights to reproduce,
disclose, or distribute its contents, or to manufacture, use, or sell anything that it
may describe, in whole or in part.</p></div>
<div class="paragraph"><p>Khronos Group grants express permission to any current Promoter, Contributor
or Adopter member of Khronos to copy and redistribute UNMODIFIED versions
of this specification in any fashion, provided that NO CHARGE is made for the
specification and the latest available update of the specification for any version
of the API is used whenever possible. Such distributed specification may be reformatted
AS LONG AS the contents of the specification are not changed in any
way. The specification may be incorporated into a product that is sold as long as
such product includes significant independent work developed by the seller. A link
to the current version of this specification on the Khronos Group web-site should
be included whenever possible with specification distributions.</p></div>
<div class="paragraph"><p>This specification has been created under the Khronos Intellectual Property Rights Policy,
which is Attachment A of the Khronos Group Membership Agreement available at
www.khronos.org/files/member_agreement.pdf. This specification contains substantially
unmodified functionality from, and is a successor to, Khronos specifications including
OpenGL, OpenGL ES and OpenCL.</p></div>
<div class="paragraph"><p>Some parts of this Specification are purely informative and do not define requirements
necessary for compliance and so are outside the Scope of this Specification.  These
parts of the Specification are marked by the &#8220;Note&#8221; icon or designated &#8220;Informative&#8221;.</p></div>
<div class="paragraph"><p>Where this Specification uses terms, defined in the Glossary or otherwise, that refer to
enabling technologies that are not expressly set forth as being required for compliance,
those enabling technologies are outside the Scope of this Specification.</p></div>
<div class="paragraph"><p>Where this Specification uses the terms &#8220;may&#8221;, or &#8220;optional&#8221;, such features or
behaviors do not define requirements necessary for compliance and so are outside the
Scope of this Specification.</p></div>
<div class="paragraph"><p>Where this Specification uses the terms &#8220;not required&#8221;, such features or
behaviors may be omitted from certain implementations, but when they are included, they
define requirements necessary for compliance and so are INCLUDED in the Scope of this
Specification.</p></div>
<div class="paragraph"><p>Where this Specification includes normative references to external documents, the
specifically identified sections and functionality of those external documents are in
Scope. Requirements defined by external documents not created by Khronos may contain
contributions from non-members of Khronos not covered by the Khronos Intellectual
Property Rights Policy.</p></div>
<div class="paragraph"><p>Khronos Group makes no, and expressly disclaims any, representations or warranties,
express or implied, regarding this specification, including, without limitation,
any implied warranties of merchantability or fitness for a particular purpose
or non-infringement of any intellectual property. Khronos Group makes no, and
expressly disclaims any, warranties, express or implied, regarding the correctness,
accuracy, completeness, timeliness, and reliability of the specification. Under no
circumstances will the Khronos Group, or any of its Promoters, Contributors or
Members or their respective partners, officers, directors, employees, agents or
representatives be liable for any damages, whether direct, indirect, special or
consequential damages for lost revenues, lost profits, or otherwise, arising from or in
connection with these materials.</p></div>
<div class="paragraph"><p>Khronos is a trademark, and Vulkan is a registered trademark of The Khronos
Group Inc. OpenCL is a trademark of Apple Inc. and OpenGL is a registered
trademark of Silicon Graphics International, both used under license by
Khronos.</p></div>
<div style="page-break-after:always"></div>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>This chapter is Informative except for the sections on Terminology and
Normative References.</p></div>
<div class="paragraph"><p>This document, referred to as the &#8220;Vulkan Specification&#8221; or just the
&#8220;Specification&#8221; hereafter, describes the Vulkan graphics system: what it
is, how it acts, and what is required to implement it.
We assume that the reader has at least a rudimentary understanding of
computer graphics.
This means familiarity with the essentials of computer graphics algorithms
and terminology as well as with modern GPUs (Graphic Processing Units).</p></div>
<div class="paragraph"><p>The canonical version of the Specification is available in the official
Vulkan Registry, located at URL</p></div>
<div class="paragraph"><p><a href="http://www.khronos.org/registry/vulkan/">http://www.khronos.org/registry/vulkan/</a></p></div>
<div class="sect2">
<h3 id="introduction-whatis">1.1. What is the Vulkan Graphics System?</h3>
<div class="paragraph"><p>Vulkan is an API (Application Programming Interface) for graphics and
compute hardware.
The API consists of many commands that allow a programmer to specify shader
programs, compute kernels, objects, and operations involved in producing
high-quality graphical images, specifically color images of
three-dimensional objects.</p></div>
<div class="sect3">
<h4 id="introduction-programmer">1.1.1. The Programmer&#8217;s View of Vulkan</h4>
<div class="paragraph"><p>To the programmer, Vulkan is a set of commands that allow the specification
of <em>shader programs</em> or <em>shaders</em>, <em>kernels</em>, data used by kernels or
shaders, and state controlling aspects of Vulkan outside of shader
execution.
Typically, the data represents geometry in two or three dimensions and
texture images, while the shaders and kernels control the processing of the
data, rasterization of the geometry, and the lighting and shading of
<em>fragments</em> generated by rasterization, resulting in the rendering of
geometry into the framebuffer.</p></div>
<div class="paragraph"><p>A typical Vulkan program begins with platform-specific calls to open a
window or otherwise prepare a display device onto which the program will
draw.
Then, calls are made to open <em>queues</em> to which <em>command buffers</em> are
submitted.
The command buffers contain lists of commands which will be executed by the
underlying hardware.
The application <span role="normative">can</span> also allocate device memory, associate <em>resources</em> with
memory and refer to these resources from within command buffers.
Drawing commands cause application-defined shader programs to be invoked,
which <span role="normative">can</span> then consume the data in the resources and use them to produce
graphical images.
To display the resulting images, further platform-specific commands are made
to transfer the resulting image to a display device or window.</p></div>
</div>
<div class="sect3">
<h4 id="introduction-implementor">1.1.2. The Implementor&#8217;s View of Vulkan</h4>
<div class="paragraph"><p>To the implementor, Vulkan is a set of commands that allow the construction
and submission of command buffers to a device.
Modern devices accelerate virtually all Vulkan operations, storing data and
framebuffer images in high-speed memory and executing shaders in dedicated
GPU processing resources.</p></div>
<div class="paragraph"><p>The implementor&#8217;s task is to provide a software library on the host which
implements the Vulkan API, while mapping the work for each Vulkan command to
the graphics hardware as appropriate for the capabilities of the device.</p></div>
</div>
<div class="sect3">
<h4 id="introduction-ourview">1.1.3. Our View of Vulkan</h4>
<div class="paragraph"><p>We view Vulkan as a pipeline having some programmable stages and some
state-driven fixed-function stages that are invoked by a set of specific
drawing operations.
We expect this model to result in a specification that satisfies the needs
of both programmers and implementors.
It does not, however, necessarily provide a model for implementation.
An implementation <span role="normative">must</span> produce results conforming to those produced by the
specified methods, but <span role="normative">may</span> carry out particular computations in ways that
are more efficient than the one specified.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="introduction-bugs">1.2. Filing Bug Reports</h3>
<div class="paragraph"><p>Issues with and bug reports on the Vulkan Specification and the API Registry
<span role="normative">can</span> be filed in the Khronos Vulkan GitHub repository, located at URL</p></div>
<div class="paragraph"><p><a href="http://github.com/KhronosGroup/Vulkan-Docs">http://github.com/KhronosGroup/Vulkan-Docs</a></p></div>
<div class="paragraph"><p>Please tag issues with appropriate labels, such as &#8220;Specification&#8221;, &#8220;Ref
Pages&#8221; or &#8220;Registry&#8221;, to help us triage and assign them appropriately.
Unfortunately, GitHub does not currently let users who do not have write
access to the repository set GitHub labels on issues.
In the meantime, they <span role="normative">can</span> be added to the title line of the issue set in
brackets, e.g. <em>'[Specification]</em>'.</p></div>
</div>
<div class="sect2">
<h3 id="introduction-terminology">1.3. Terminology</h3>
<div class="paragraph"><p>The key words <strong>must</strong>, <strong>required</strong>, <strong>shall</strong> <strong>should</strong>, <strong>recommend</strong>, <strong>may</strong>, and
<strong>optional</strong> in this document are to be interpreted as described in RFC 2119:</p></div>
<div class="paragraph"><p><a href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>must</strong>
</dt>
<dd>
<p>
When used alone, this word, or the term <strong>required</strong>, means that the
definition is an absolute requirement of the specification.
When followed by <strong>not</strong> (&#8220;<span role="normative">must</span> not&#8221; ), the phrase means that the
definition is an absolute prohibition of the specification.
</p>
</dd>
<dt class="hdlist1">
<strong>should</strong>
</dt>
<dd>
<p>
When used alone, this word, or the adjective <strong>recommended</strong>, means that there
may exist valid reasons in particular circumstances to ignore a particular
item, but the full implications must be understood and carefully weighed
before choosing a different course.
When followed by <strong>not</strong> (&#8220;<span role="normative">should</span> not&#8221;), the phrase means that there may
exist valid reasons in particular circumstances when the particular behavior
is acceptable or even useful, but the full implications <span role="normative">should</span> be
understood and the case carefully weighed before implementing any behavior
described with this label.
</p>
</dd>
<dt class="hdlist1">
<strong>may</strong>
</dt>
<dd>
<p>
This word, or the adjective <strong>optional</strong>, means that an item is truly
optional.
One vendor may choose to include the item because a particular marketplace
requires it or because the vendor feels that it enhances the product while
another vendor may omit the same item.
An implementation which does not include a particular option must be
prepared to interoperate with another implementation which does include the
option, though perhaps with reduced functionality.
In the same vein an implementation which does include a particular option
must be prepared to interoperate with another implementation which does not
include the option (except, of course, for the feature the option provides).
</p>
</dd>
</dl></div>
<div class="paragraph"><p>The additional terms <strong>can</strong> and <strong>cannot</strong> are to be interpreted as follows:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>can</strong>
</dt>
<dd>
<p>
This word means that the particular behavior described is a valid choice for
an application, and is never used to refer to implementation behavior.
</p>
</dd>
<dt class="hdlist1">
<strong>cannot</strong>
</dt>
<dd>
<p>
This word means that the particular behavior described is not achievable by
an application.
For example, an entry point does not exist, or shader code is not capable of
expressing an operation.
</p>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>There is an important distinction between <strong>cannot</strong> and <strong>must not</strong>, as used
in this Specification.
<strong>Cannot</strong> means something the application literally is unable to express or
accomplish through the API, while <strong>must not</strong> means something that the
application is capable of expressing through the API, but that the
consequences of doing so are undefined and potentially unrecoverable for the
implementation.</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="introduction-normative">1.4. Normative References</h3>
<div class="paragraph"><p>Normative references are references to external documents or resources to
which implementers of Vulkan <span role="normative">must</span> comply.</p></div>
<div class="paragraph" id="ieee-754"><p><em>IEEE Standard for Floating-Point Arithmetic</em>, IEEE Std 754-2008,
<a href="http://dx.doi.org/10.1109/IEEESTD.2008.4610935">http://dx.doi.org/10.1109/IEEESTD.2008.4610935</a>, August, 2008.</p></div>
<div class="paragraph"><p><a id="data-format"></a> A.
Garrard, <em>Khronos Data Format Specification, version 1.1</em>,
<a href="https://www.khronos.org/registry/dataformat/specs/1.1/dataformat.1.1.html">https://www.khronos.org/registry/dataformat/specs/1.1/dataformat.1.1.html</a>,
June, 2016.</p></div>
<div class="paragraph"><p><a id="spirv-extended"></a> J.
Kessenich, <em>SPIR-V Extended Instructions for GLSL, Version 1.00</em>,
<a href="https://www.khronos.org/registry/spir-v/">https://www.khronos.org/registry/spir-v/</a>, February 10, 2016.</p></div>
<div class="paragraph"><p><a id="spirv-spec"></a> J.
Kessenich and B.
Ouriel, <em>The Khronos SPIR-V Specification, Version 1.00</em>,
<a href="https://www.khronos.org/registry/spir-v/">https://www.khronos.org/registry/spir-v/</a>, February 10, 2016.</p></div>
<div class="paragraph"><p><a id="vulkan-styleguide"></a> J.
Leech and T.
Hector, <em>Vulkan Documentation and Extensions: Procedures and Conventions</em>,
<a href="https://www.khronos.org/registry/vulkan/">https://www.khronos.org/registry/vulkan/</a>, July 11, 2016</p></div>
<div class="paragraph" id="LoaderAndValidationLayers"><p><em>Vulkan Loader Specification and Architecture Overview</em>,
<a href="https://github.com/KhronosGroup/Vulkan-LoaderAndValidationLayers/blob/master/loader/LoaderAndLayerInterface.md">https://github.com/KhronosGroup/Vulkan-LoaderAndValidationLayers/blob/master/loader/LoaderAndLayerInterface.md</a>,
August, 2016.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fundamentals">2. Fundamentals</h2>
<div class="sectionbody">
<div class="paragraph"><p>This chapter introduces fundamental concepts including the Vulkan
architecture and execution model, API syntax, queues, pipeline
configurations, numeric representation, state and state queries, and the
different types of objects and shaders.
It provides a framework for interpreting more specific descriptions of
commands and behavior in the remainder of the Specification.</p></div>
<div class="sect2">
<h3 id="fundamentals-architecture-model">2.1. Architecture Model</h3>
<div class="paragraph"><p>Vulkan is designed for, and the API is written for, CPU, GPU, and other
hardware accelerator architectures with the following properties:</p></div>
<div class="ulist"><ul>
<li>
<p>
Runtime support for 8, 16, 32 and 64-bit signed and unsigned
    twos-complement integers, all addressable at the granularity of their
    size in bytes.
</p>
</li>
<li>
<p>
Runtime support for 32- and 64-bit floating-point types satisfying the
    range and precision constraints in the
    <a href="#fundamentals-floatingpoint">Floating Point Computation</a> section.
</p>
</li>
<li>
<p>
The representation and endianness of these types <span role="normative">must</span> be identical for
    the host and the physical devices.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Since a variety of data types and structures in Vulkan <span role="normative">may</span> be mapped back
and forth between host and physical device memory, host and device
architectures <span role="normative">must</span> both be able to access such data efficiently in order to
write portable and performant applications.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Where the Specification leaves choices open that would affect Application
Binary Interface compatibility on a given platform supporting Vulkan, those
choices are usually made to be compliant to the preferred ABI defined by the
platform vendor.
Some choices, such as function calling conventions, <span role="normative">may</span> be made in
platform-specific portions of the <span class="monospaced">vk_platform.h</span> header file.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>For example, the Android ABI is defined by Google, and the Linux ABI is
defined by a combination of gcc defaults, distribution vendor choices, and
external standards such as the Linux Standard Base.</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-execmodel">2.2. Execution Model</h3>
<div class="paragraph"><p>This section outlines the execution model of a Vulkan system.</p></div>
<div class="paragraph"><p>Vulkan exposes one or more <em>devices</em>, each of which exposes one or more
<em>queues</em> which <span role="normative">may</span> process work asynchronously to one another.
The set of queues supported by a device is partitioned into <em>families</em>.
Each family supports one or more types of functionality and <span role="normative">may</span> contain
multiple queues with similar characteristics.
Queues within a single family are considered <em>compatible</em> with one another,
and work produced for a family of queues <span role="normative">can</span> be executed on any queue
within that family.
This specification defines four types of functionality that queues <span role="normative">may</span>
support: graphics, compute, transfer, and sparse memory management.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>A single device <span role="normative">may</span> report multiple similar queue families rather than, or
as well as, reporting multiple members of one or more of those families.
This indicates that while members of those families have similar
capabilities, they are <em>not</em> directly compatible with one another.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Device memory is explicitly managed by the application.
Each device <span role="normative">may</span> advertise one or more heaps, representing different areas
of memory.
Memory heaps are either device local or host local, but are always visible
to the device.
Further detail about memory heaps is exposed via memory types available on
that heap.
Examples of memory areas that <span role="normative">may</span> be available on an implementation
include:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>device local</em> is memory that is physically connected to the device.
</p>
</li>
<li>
<p>
<em>device local, host visible</em> is device local memory that is visible to
    the host.
</p>
</li>
<li>
<p>
<em>host local, host visible</em> is memory that is local to the host and
    visible to the device and host.
</p>
</li>
</ul></div>
<div class="paragraph"><p>On other architectures, there <span role="normative">may</span> only be a single heap that <span role="normative">can</span> be used
for any purpose.</p></div>
<div class="paragraph"><p>A Vulkan application controls a set of devices through the submission of
command buffers which have recorded device commands issued via Vulkan
library calls.
The content of command buffers is specific to the underlying hardware and is
opaque to the application.
Once constructed, a command buffer <span role="normative">can</span> be submitted once or many times to a
queue for execution.
Multiple command buffers <span role="normative">can</span> be built in parallel by employing multiple
threads within the application.</p></div>
<div class="paragraph"><p>Command buffers submitted to different queues <span role="normative">may</span> execute in parallel or
even out of order with respect to one another.
Command buffers submitted to a single queue respect the submission order, as
described further in <a href="#fundamentals-queueoperation">Queue Operation</a>.
Command buffer execution by the device is also asynchronous to host
execution.
Once a command buffer is submitted to a queue, control <span role="normative">may</span> return to the
application immediately.
Synchronization between the device and host, and between different queues is
the responsibility of the application.</p></div>
<div class="sect3">
<h4 id="fundamentals-queueoperation">2.2.1. Queue Operation</h4>
<div class="paragraph"><p>Vulkan queues provide an interface to the execution engines of a device.
Commands for these execution engines are recorded into command buffers ahead
of execution time.
These command buffers are then submitted to queues with a <em>queue submission</em>
command for execution in a number of <em>batches</em>.
Once submitted to a queue, these commands will begin and complete execution
without further application intervention, though the order of this execution
is dependent on a number of implicit and explicit ordering constraints.</p></div>
<div class="paragraph"><p>Work is submitted to queues using queue submission commands that typically
take the form <code>vkQueue*</code> (e.g. <code><a href="#vkQueueSubmit">vkQueueSubmit</a></code>,
<code><a href="#vkQueueBindSparse">vkQueueBindSparse</a></code>), and optionally take a list of semaphores upon
which to wait before work begins and a list of semaphores to signal once
work has completed.
The work itself, as well as signaling and waiting on the semaphores are all
<em>queue operations</em>.</p></div>
<div class="paragraph"><p>Queue operations on different queues have no implicit ordering constraints,
and <span role="normative">may</span> execute in any order.
Explicit ordering constraints between queues <span role="normative">can</span> be expressed with
<a href="#synchronization-semaphores">semaphores</a> and
<a href="#synchronization-fences">fences</a>.</p></div>
<div class="paragraph"><p>Command buffer submissions to a single queue <span role="normative">must</span> always adhere to
<a href="#fundamentals-queueoperation-commandorder">command order</a> and
<a href="#fundamentals-queueoperation-apiorder">API order</a>, but otherwise <span role="normative">may</span>
overlap or execute out of order.
Other types of batches and queue submissions against a single queue (e.g.
<a href="#sparsemem-memory-binding">sparse memory binding</a>) have no implicit
ordering constraints with any other queue submission or batch.
Additional explicit ordering constraints between queue submissions and
individual batches can be expressed with
<a href="#synchronization-semaphores">semaphores</a> and
<a href="#synchronization-fences">fences</a>.</p></div>
<div class="paragraph"><p>Before a fence or semaphore is signaled, it is guaranteed that any
previously submitted queue operations have completed execution, and that
memory writes from those queue operations are
<a href="#synchronization-dependencies-available-and-visible">available</a> to future
queue operations.
Waiting on a signaled semaphore or fence guarantees that previous writes
that are available are also
<a href="#synchronization-dependencies-available-and-visible">visible</a> to subsequent
commands.</p></div>
<div class="paragraph"><p>Command buffer boundaries, both between primary command buffers of the same
or different batches or submissions as well as between primary and secondary
command buffers, do not introduce any implicit ordering constraints.
In other words, submitting the set of command buffers (which <span role="normative">can</span> include
executing secondary command buffers) between any semaphore or fence
operations execute the recorded commands as if they had all been recorded
into a single primary command buffer, except that the current state is
<a href="#commandbuffers-statereset">reset</a> on each boundary.
Explicit ordering constraints can be expressed with
<a href="#synchronization-events">events</a> and
<a href="#synchronization-pipeline-barriers">pipeline barriers</a>.</p></div>
<div class="paragraph"><p>There are a few <a href="#fundamentals-queueoperation-apiorder">implicit ordering constraints</a> between commands within a command buffer, but only covering a
subset of execution.
Additional explicit ordering constraints can be expressed with
<a href="#synchronization-events">events</a>,
<a href="#synchronization-pipeline-barriers">pipeline barriers</a> and
<a href="#VkSubpassDependency">subpass dependencies</a>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Implementations have significant freedom to overlap execution of work
submitted to a queue, and this is common due to deep pipelining and
parallelism in Vulkan devices.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph" id="fundamentals-queueoperation-commandorder"><p>Commands recorded in command buffers either perform actions (draw, dispatch,
clear, copy, query/timestamp operations, begin/end subpass operations), set
state (bind pipelines, descriptor sets, and buffers, set dynamic state, push
constants, set render pass/subpass state), or perform synchronization
(set/wait events, pipeline barrier, render pass/subpass dependencies).
Some commands perform more than one of these tasks.
State setting commands update the <em>current state</em> of the command buffer.
Some commands that perform actions (e.g. draw/dispatch) do so based on the
current state set cumulatively since the start of the command buffer.
The work involved in performing action commands is often allowed to overlap
or to be reordered, but doing so <span role="normative">must</span> not alter the state to be used by
each action command.
In general, action commands are those commands that alter framebuffer
attachments, read/write buffer or image memory, or write to query pools.</p></div>
<div class="paragraph"><p>Synchronization commands introduce explicit
<a href="#synchronization-dependencies">execution and memory dependencies</a> between
two sets of action commands, where the second set of commands depends on the
first set of commands.
These dependencies enforce that both the execution of certain
<a href="#synchronization-pipeline-stages">pipeline stages</a> in the later set occur
after the execution of certain stages in the source set, and that the
effects of <a href="#synchronization-global-memory-barriers">memory accesses</a>
performed by certain pipeline stages occur in order and are visible to each
other.
When not enforced by an explicit dependency or otherwise forbidden by the
specification, action commands <span role="normative">may</span> overlap execution or execute out of
order, and <span role="normative">may</span> not see the side effects of each other&#8217;s memory accesses.</p></div>
<div class="paragraph"><p>The execution order of an action command with respect to any synchronization
commands that affect that action command <span role="normative">must</span> match the recording and
submission order, within submissions to a single queue.</p></div>
<div class="paragraph" id="fundamentals-queueoperation-apiorder"><p><em>API order</em> sorts primitives:</p></div>
<div class="ulist"><ul>
<li>
<p>
First, by the action command that generates them.
</p>
</li>
<li>
<p>
Second, by the order they are processed by
    <a href="#drawing-primitive-assembly-apiorder">primitive assembly</a>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Within this order, implementations also sort primitives:</p></div>
<div class="ulist"><ul>
<li>
<p>
Third, by an implementation-dependent ordering of new primitives
    generated by tessellation, if a tessellation shader is active.
</p>
</li>
<li>
<p>
Fourth, by the order new primitives are generated by
    <a href="#geometry-ordering">geometry shading</a>, if geometry shading is active.
</p>
</li>
<li>
<p>
Fifth, by an implementation-dependent ordering of primitives generated
    due to the <a href="#primsrast-polygonmode">polygon mode</a>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The device executes queue operations asynchronously with respect to the
host.
Control is returned to an application immediately following command buffer
submission to a queue.
The application <span role="normative">must</span> synchronize work between the host and device as
needed.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-objectmodel-overview">2.3. Object Model</h3>
<div class="paragraph"><p>The devices, queues, and other entities in Vulkan are represented by Vulkan
objects.
At the API level, all objects are referred to by handles.
There are two classes of handles, dispatchable and non-dispatchable.
<em>Dispatchable</em> handle types are a pointer to an opaque type.
This pointer <span role="normative">may</span> be used by layers as part of intercepting API commands,
and thus each API command takes a dispatchable type as its first parameter.
Each object of a dispatchable type <span role="normative">must</span> have a unique handle value during
its lifetime.</p></div>
<div class="paragraph"><p><em>Non-dispatchable</em> handle types are a 64-bit integer type whose meaning is
implementation-dependent, and <span role="normative">may</span> encode object information directly in the
handle rather than pointing to a software structure.
Objects of a non-dispatchable type <span role="normative">may</span> not have unique handle values within
a type or across types.
If handle values are not unique, then destroying one such handle <span role="normative">must</span> not
cause identical handles of other types to become invalid, and <span role="normative">must</span> not
cause identical handles of the same type to become invalid if that handle
value has been created more times than it has been destroyed.</p></div>
<div class="paragraph"><p>All objects created or allocated from a <code>VkDevice</code> (i.e. with a
<code>VkDevice</code> as the first parameter) are private to that device, and <span role="normative">must</span>
not be used on other devices.</p></div>
<div class="sect3">
<h4 id="fundamentals-objectmodel-lifetime">2.3.1. Object Lifetime</h4>
<div class="paragraph"><p>Objects are created or allocated by <code>vkCreate*</code> and <code>vkAllocate*</code>
commands, respectively.
Once an object is created or allocated, its &#8220;structure&#8221; is considered to
be immutable, though the contents of certain object types is still free to
change.
Objects are destroyed or freed by <code>vkDestroy*</code> and <code>vkFree*</code>
commands, respectively.</p></div>
<div class="paragraph"><p>Objects that are allocated (rather than created) take resources from an
existing pool object or memory heap, and when freed return resources to that
pool or heap.
While object creation and destruction are generally expected to be
low-frequency occurrences during runtime, allocating and freeing objects
<span role="normative">can</span> occur at high frequency.
Pool objects help accommodate improved performance of the allocations and
frees.</p></div>
<div class="paragraph"><p>It is an application&#8217;s responsibility to track the lifetime of Vulkan
objects, and not to destroy them while they are still in use.</p></div>
<div class="paragraph"><p>Application-owned memory is immediately consumed by any Vulkan command it is
passed into.
The application <span role="normative">can</span> alter or free this memory as soon as the commands that
consume it have returned.</p></div>
<div class="paragraph"><p>The following object types are consumed when they are passed into a Vulkan
command and not further accessed by the objects they are used to create.
They <span role="normative">must</span> not be destroyed in the duration of any API command they are
passed into:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VkShaderModule</code>
</p>
</li>
<li>
<p>
<code>VkPipelineCache</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>A <code>VkPipelineLayout</code> object <span role="normative">must</span> not be destroyed while any command
buffer that uses it is in the recording state.</p></div>
<div class="paragraph"><p><code>VkDescriptorSetLayout</code> objects <span role="normative">may</span> be accessed by commands that
operate on descriptor sets allocated using that layout, and those descriptor
sets <span role="normative">must</span> not be updated with <code><a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a></code> after the
descriptor set layout has been destroyed.
Otherwise, descriptor set layouts <span role="normative">can</span> be destroyed any time they are not in
use by an API command.</p></div>
<div class="paragraph"><p>The application <span role="normative">must</span> not destroy any other type of Vulkan object until all
uses of that object by the device (such as via command buffer execution)
have completed.</p></div>
<div class="paragraph"><p>The following Vulkan objects <span role="normative">must</span> not be destroyed while any command
buffers using the object are recording or pending execution:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VkEvent</code>
</p>
</li>
<li>
<p>
<code>VkQueryPool</code>
</p>
</li>
<li>
<p>
<code>VkBuffer</code>
</p>
</li>
<li>
<p>
<code>VkBufferView</code>
</p>
</li>
<li>
<p>
<code>VkImage</code>
</p>
</li>
<li>
<p>
<code>VkImageView</code>
</p>
</li>
<li>
<p>
<code>VkPipeline</code>
</p>
</li>
<li>
<p>
<code>VkSampler</code>
</p>
</li>
<li>
<p>
<code>VkDescriptorPool</code>
</p>
</li>
<li>
<p>
<code>VkFramebuffer</code>
</p>
</li>
<li>
<p>
<code>VkRenderPass</code>
</p>
</li>
<li>
<p>
<code>VkCommandPool</code>
</p>
</li>
<li>
<p>
<code>VkDeviceMemory</code>
</p>
</li>
<li>
<p>
<code>VkDescriptorSet</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>The following Vulkan objects <span role="normative">must</span> not be destroyed while any queue is
executing commands that use the object:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VkFence</code>
</p>
</li>
<li>
<p>
<code>VkSemaphore</code>
</p>
</li>
<li>
<p>
<code>VkCommandBuffer</code>
</p>
</li>
<li>
<p>
<code>VkCommandPool</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>In general, objects <span role="normative">can</span> be destroyed or freed in any order, even if the
object being freed is involved in the use of another object (e.g. use of a
resource in a view, use of a view in a descriptor set, use of an object in a
command buffer, binding of a memory allocation to a resource), as long as
any object that uses the freed object is not further used in any way except
to be destroyed or to be reset in such a way that it no longer uses the
other object (such as resetting a command buffer).
If the object has been reset, then it <span role="normative">can</span> be used as if it never used the
freed object.
An exception to this is when there is a parent/child relationship between
objects.
In this case, the application <span role="normative">must</span> not destroy a parent object before its
children, except when the parent is explicitly defined to free its children
when it is destroyed (e.g. for pool objects, as defined below).</p></div>
<div class="paragraph"><p><code>VkCommandPool</code> objects are parents of <code>VkCommandBuffer</code> objects.
<code>VkDescriptorPool</code> objects are parents of <code>VkDescriptorSet</code> objects.
<code>VkDevice</code> objects are parents of many object types (all that take a
<code>VkDevice</code> as a parameter to their creation).</p></div>
<div class="paragraph"><p>The following Vulkan objects have specific restrictions for when they <span role="normative">can</span>
be destroyed:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VkQueue</code> objects <span role="normative">cannot</span> be explicitly destroyed.
    Instead, they are implicitly destroyed when the <code>VkDevice</code> object
    they are retrieved from is destroyed.
</p>
</li>
<li>
<p>
Destroying a pool object implicitly frees all objects allocated from
    that pool.
    Specifically, destroying <code>VkCommandPool</code> frees all
    <code>VkCommandBuffer</code> objects that were allocated from it, and
    destroying <code>VkDescriptorPool</code> frees all <code>VkDescriptorSet</code>
    objects that were allocated from it.
</p>
</li>
<li>
<p>
<code>VkDevice</code> objects <span role="normative">can</span> be destroyed when all <code>VkQueue</code> objects
    retrieved from them are idle, and all objects created from them have
    been destroyed.
    This includes the following objects:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VkFence</code>
</p>
</li>
<li>
<p>
<code>VkSemaphore</code>
</p>
</li>
<li>
<p>
<code>VkEvent</code>
</p>
</li>
<li>
<p>
<code>VkQueryPool</code>
</p>
</li>
<li>
<p>
<code>VkBuffer</code>
</p>
</li>
<li>
<p>
<code>VkBufferView</code>
</p>
</li>
<li>
<p>
<code>VkImage</code>
</p>
</li>
<li>
<p>
<code>VkImageView</code>
</p>
</li>
<li>
<p>
<code>VkShaderModule</code>
</p>
</li>
<li>
<p>
<code>VkPipelineCache</code>
</p>
</li>
<li>
<p>
<code>VkPipeline</code>
</p>
</li>
<li>
<p>
<code>VkPipelineLayout</code>
</p>
</li>
<li>
<p>
<code>VkSampler</code>
</p>
</li>
<li>
<p>
<code>VkDescriptorSetLayout</code>
</p>
</li>
<li>
<p>
<code>VkDescriptorPool</code>
</p>
</li>
<li>
<p>
<code>VkFramebuffer</code>
</p>
</li>
<li>
<p>
<code>VkRenderPass</code>
</p>
</li>
<li>
<p>
<code>VkCommandPool</code>
</p>
</li>
<li>
<p>
<code>VkCommandBuffer</code>
</p>
</li>
<li>
<p>
<code>VkDeviceMemory</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>VkPhysicalDevice</code> objects <span role="normative">cannot</span> be explicitly destroyed.
    Instead, they are implicitly destroyed when the <code>VkInstance</code> object
    they are retrieved from is destroyed.
</p>
</li>
<li>
<p>
<code>VkInstance</code> objects <span role="normative">can</span> be destroyed once all <code>VkDevice</code>
    objects created from any of its <code>VkPhysicalDevice</code> objects have been
    destroyed.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-commandsyntax">2.4. Command Syntax and Duration</h3>
<div class="paragraph"><p>The Specification describes Vulkan commands as functions or procedures using
C99 syntax.
Language bindings for other languages such as C++ and JavaScript <span role="normative">may</span> allow
for stricter parameter passing, or object-oriented interfaces.</p></div>
<div class="paragraph"><p>Vulkan uses the standard C types for the base type of scalar parameters
(e.g. types from <span class="monospaced">stdint.h</span>), with exceptions described below, or elsewhere
in the text when appropriate:</p></div>
<div class="paragraph"><p><code>VkBool32</code> represents boolean <span class="monospaced">True</span> and <span class="monospaced">False</span> values, since C does
not have a sufficiently portable built-in boolean type:</p></div>
<div class="listingblock">
<a id="VkBool32"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">uint32_t</span> VkBool32<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="paragraph"><p><code>VK_TRUE</code> represents a boolean <strong>True</strong> (integer 1) value, and
<code>VK_FALSE</code> a boolean <strong>False</strong> (integer 0) value.</p></div>
<div class="paragraph"><p>All values returned from a Vulkan implementation in a <code>VkBool32</code> will
be either <code>VK_TRUE</code> or <code>VK_FALSE</code>.</p></div>
<div class="paragraph"><p>Applications <span role="normative">must</span> not pass any other values than <code>VK_TRUE</code> or
<code>VK_FALSE</code> into a Vulkan implementation where a <code>VkBool32</code> is
expected.</p></div>
<div class="paragraph"><p><code>VkDeviceSize</code> represents device memory size and offset values:</p></div>
<div class="listingblock">
<a id="VkDeviceSize"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">uint64_t</span> VkDeviceSize<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="paragraph"><p>Commands that create Vulkan objects are of the form <code>vkCreate*</code> and take
<code>Vk*CreateInfo</code> structures with the parameters needed to create the
object.
These Vulkan objects are destroyed with commands of the form
<code>vkDestroy*</code>.</p></div>
<div class="paragraph"><p>The last in-parameter to each command that creates or destroys a Vulkan
object is <code>pAllocator</code>.
The <code>pAllocator</code> parameter <span role="normative">can</span> be set to a non-<span class="monospaced">NULL</span> value such that
allocations for the given object are delegated to an application provided
callback; refer to the <a href="#memory-allocation">Memory Allocation</a> chapter for
further details.</p></div>
<div class="paragraph"><p>Commands that allocate Vulkan objects owned by pool objects are of the form
<code>vkAllocate*</code>, and take <code>Vk*AllocateInfo</code> structures.
These Vulkan objects are freed with commands of the form <code>vkFree*</code>.
These objects do not take allocators; if host memory is needed, they will
use the allocator that was specified when their parent pool was created.</p></div>
<div class="paragraph"><p>Commands are recorded into a command buffer by calling API commands of the
form <code>vkCmd*</code>.
Each such command <span role="normative">may</span> have different restrictions on where it <span role="normative">can</span> be used:
in a primary and/or secondary command buffer, inside and/or outside a render
pass, and in one or more of the supported queue types.
These restrictions are documented together with the definition of each such
command.</p></div>
<div class="paragraph"><p>The <em>duration</em> of a Vulkan command refers to the interval between calling
the command and its return to the caller.</p></div>
<div class="sect3">
<h4 id="fundamentals-commandsyntax-results-lifetime">2.4.1. Lifetime of Retrieved Results</h4>
<div class="paragraph"><p>Information is retrieved from the implementation with commands of the form
<code>vkGet*</code> and <code>vkEnumerate*</code>.</p></div>
<div class="paragraph"><p>Unless otherwise specified for an individual command, the results are
<em>invariant</em>; that is, they will remain unchanged when retrieved again by
calling the same command with the same parameters, so long as those
parameters themselves all remain valid.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-threadingbehavior">2.5. Threading Behavior</h3>
<div class="paragraph"><p>Vulkan is intended to provide scalable performance when used on multiple
host threads.
All commands support being called concurrently from multiple threads, but
certain parameters, or components of parameters are defined to be
<em>externally synchronized</em>.
This means that the caller <span role="normative">must</span> guarantee that no more than one thread is
using such a parameter at a given time.</p></div>
<div class="paragraph"><p>More precisely, Vulkan commands use simple stores to update software
structures representing Vulkan objects.
A parameter declared as externally synchronized <span role="normative">may</span> have its software
structures updated at any time during the host execution of the command.
If two commands operate on the same object and at least one of the commands
declares the object to be externally synchronized, then the caller <span role="normative">must</span>
guarantee not only that the commands do not execute simultaneously, but also
that the two commands are separated by an appropriate memory barrier (if
needed).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Memory barriers are particularly relevant on the ARM CPU architecture which
is more weakly ordered than many developers are accustomed to from x86/x64
programming.
Fortunately, most higher-level synchronization primitives (like the pthread
library) perform memory barriers as a part of mutual exclusion, so mutexing
Vulkan objects via these primitives will have the desired effect.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Many object types are <em>immutable</em>, meaning the objects <span role="normative">cannot</span> change once
they have been created.
These types of objects never need external synchronization, except that they
<span role="normative">must</span> not be destroyed while they are in use on another thread.
In certain special cases, mutable object parameters are internally
synchronized such that they do not require external synchronization.
One example of this is the use of a <code>VkPipelineCache</code> in
<code>vkCreateGraphicsPipelines</code> and <code>vkCreateComputePipelines</code>, where
external synchronization around such a heavyweight command would be
impractical.
The implementation <span role="normative">must</span> internally synchronize the cache in this example,
and <span role="normative">may</span> be able to do so in the form of a much finer-grained mutex around
the command.
Any command parameters that are not labeled as externally synchronized are
either not mutated by the command or are internally synchronized.
Additionally, certain objects related to a command&#8217;s parameters (e.g.
command pools and descriptor pools) <span role="normative">may</span> be affected by a command, and <span role="normative">must</span>
also be externally synchronized.
These implicit parameters are documented as described below.</p></div>
<div class="paragraph"><p>Parameters of commands that are externally synchronized are listed below.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Externally Synchronized Parameters</div>
<div class="ulist"><ul>
<li>
<p>
The <code>instance</code> parameter in <code><a href="#vkDestroyInstance">vkDestroyInstance</a></code>
</p>
</li>
<li>
<p>
The <code>device</code> parameter in <code><a href="#vkDestroyDevice">vkDestroyDevice</a></code>
</p>
</li>
<li>
<p>
The <code>queue</code> parameter in <code><a href="#vkQueueSubmit">vkQueueSubmit</a></code>
</p>
</li>
<li>
<p>
The <code>fence</code> parameter in <code><a href="#vkQueueSubmit">vkQueueSubmit</a></code>
</p>
</li>
<li>
<p>
The <code>memory</code> parameter in <code><a href="#vkFreeMemory">vkFreeMemory</a></code>
</p>
</li>
<li>
<p>
The <code>memory</code> parameter in <code><a href="#vkMapMemory">vkMapMemory</a></code>
</p>
</li>
<li>
<p>
The <code>memory</code> parameter in <code><a href="#vkUnmapMemory">vkUnmapMemory</a></code>
</p>
</li>
<li>
<p>
The <code>buffer</code> parameter in <code><a href="#vkBindBufferMemory">vkBindBufferMemory</a></code>
</p>
</li>
<li>
<p>
The <code>image</code> parameter in <code><a href="#vkBindImageMemory">vkBindImageMemory</a></code>
</p>
</li>
<li>
<p>
The <code>queue</code> parameter in <code><a href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</p>
</li>
<li>
<p>
The <code>fence</code> parameter in <code><a href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</p>
</li>
<li>
<p>
The <code>fence</code> parameter in <code><a href="#vkDestroyFence">vkDestroyFence</a></code>
</p>
</li>
<li>
<p>
The <code>semaphore</code> parameter in <code><a href="#vkDestroySemaphore">vkDestroySemaphore</a></code>
</p>
</li>
<li>
<p>
The <code>event</code> parameter in <code><a href="#vkDestroyEvent">vkDestroyEvent</a></code>
</p>
</li>
<li>
<p>
The <code>event</code> parameter in <code><a href="#vkSetEvent">vkSetEvent</a></code>
</p>
</li>
<li>
<p>
The <code>event</code> parameter in <code><a href="#vkResetEvent">vkResetEvent</a></code>
</p>
</li>
<li>
<p>
The <code>queryPool</code> parameter in <code><a href="#vkDestroyQueryPool">vkDestroyQueryPool</a></code>
</p>
</li>
<li>
<p>
The <code>buffer</code> parameter in <code><a href="#vkDestroyBuffer">vkDestroyBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>bufferView</code> parameter in <code><a href="#vkDestroyBufferView">vkDestroyBufferView</a></code>
</p>
</li>
<li>
<p>
The <code>image</code> parameter in <code><a href="#vkDestroyImage">vkDestroyImage</a></code>
</p>
</li>
<li>
<p>
The <code>imageView</code> parameter in <code><a href="#vkDestroyImageView">vkDestroyImageView</a></code>
</p>
</li>
<li>
<p>
The <code>shaderModule</code> parameter in <code><a href="#vkDestroyShaderModule">vkDestroyShaderModule</a></code>
</p>
</li>
<li>
<p>
The <code>pipelineCache</code> parameter in <code><a href="#vkDestroyPipelineCache">vkDestroyPipelineCache</a></code>
</p>
</li>
<li>
<p>
The <code>dstCache</code> parameter in <code><a href="#vkMergePipelineCaches">vkMergePipelineCaches</a></code>
</p>
</li>
<li>
<p>
The <code>pipeline</code> parameter in <code><a href="#vkDestroyPipeline">vkDestroyPipeline</a></code>
</p>
</li>
<li>
<p>
The <code>pipelineLayout</code> parameter in <code><a href="#vkDestroyPipelineLayout">vkDestroyPipelineLayout</a></code>
</p>
</li>
<li>
<p>
The <code>sampler</code> parameter in <code><a href="#vkDestroySampler">vkDestroySampler</a></code>
</p>
</li>
<li>
<p>
The <code>descriptorSetLayout</code> parameter in <code><a href="#vkDestroyDescriptorSetLayout">vkDestroyDescriptorSetLayout</a></code>
</p>
</li>
<li>
<p>
The <code>descriptorPool</code> parameter in <code><a href="#vkDestroyDescriptorPool">vkDestroyDescriptorPool</a></code>
</p>
</li>
<li>
<p>
The <code>descriptorPool</code> parameter in <code><a href="#vkResetDescriptorPool">vkResetDescriptorPool</a></code>
</p>
</li>
<li>
<p>
The <code>descriptorPool</code> the <code>pAllocateInfo</code> parameter in <code><a href="#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a></code>
</p>
</li>
<li>
<p>
The <code>descriptorPool</code> parameter in <code><a href="#vkFreeDescriptorSets">vkFreeDescriptorSets</a></code>
</p>
</li>
<li>
<p>
The <code>framebuffer</code> parameter in <code><a href="#vkDestroyFramebuffer">vkDestroyFramebuffer</a></code>
</p>
</li>
<li>
<p>
The <code>renderPass</code> parameter in <code><a href="#vkDestroyRenderPass">vkDestroyRenderPass</a></code>
</p>
</li>
<li>
<p>
The <code>commandPool</code> parameter in <code><a href="#vkDestroyCommandPool">vkDestroyCommandPool</a></code>
</p>
</li>
<li>
<p>
The <code>commandPool</code> parameter in <code><a href="#vkResetCommandPool">vkResetCommandPool</a></code>
</p>
</li>
<li>
<p>
The <code>commandPool</code> the <code>pAllocateInfo</code> parameter in <code><a href="#vkAllocateCommandBuffers">vkAllocateCommandBuffers</a></code>
</p>
</li>
<li>
<p>
The <code>commandPool</code> parameter in <code><a href="#vkFreeCommandBuffers">vkFreeCommandBuffers</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkEndCommandBuffer">vkEndCommandBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkResetCommandBuffer">vkResetCommandBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdBindPipeline">vkCmdBindPipeline</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdSetViewport">vkCmdSetViewport</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdSetScissor">vkCmdSetScissor</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdSetLineWidth">vkCmdSetLineWidth</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdSetDepthBias">vkCmdSetDepthBias</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdSetBlendConstants">vkCmdSetBlendConstants</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdSetDepthBounds">vkCmdSetDepthBounds</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdSetStencilWriteMask">vkCmdSetStencilWriteMask</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdSetStencilReference">vkCmdSetStencilReference</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdBindVertexBuffers">vkCmdBindVertexBuffers</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdDraw">vkCmdDraw</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdDispatch">vkCmdDispatch</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdCopyBuffer">vkCmdCopyBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdCopyImage">vkCmdCopyImage</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdBlitImage">vkCmdBlitImage</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdCopyImageToBuffer">vkCmdCopyImageToBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdUpdateBuffer">vkCmdUpdateBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdFillBuffer">vkCmdFillBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdClearColorImage">vkCmdClearColorImage</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdClearDepthStencilImage">vkCmdClearDepthStencilImage</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdClearAttachments">vkCmdClearAttachments</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdResolveImage">vkCmdResolveImage</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdSetEvent">vkCmdSetEvent</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdResetEvent">vkCmdResetEvent</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdWaitEvents">vkCmdWaitEvents</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdBeginQuery">vkCmdBeginQuery</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdEndQuery">vkCmdEndQuery</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdWriteTimestamp">vkCmdWriteTimestamp</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdPushConstants">vkCmdPushConstants</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdNextSubpass">vkCmdNextSubpass</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdEndRenderPass">vkCmdEndRenderPass</a></code>
</p>
</li>
<li>
<p>
The <code>commandBuffer</code> parameter in <code><a href="#vkCmdExecuteCommands">vkCmdExecuteCommands</a></code>
</p>
</li>
<li>
<p>
The <code>surface</code> parameter in <code><a href="#vkDestroySurfaceKHR">vkDestroySurfaceKHR</a></code>
</p>
</li>
<li>
<p>
The <code>surface</code> member of the <code>pCreateInfo</code> parameter in <code><a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>
</p>
</li>
<li>
<p>
The <code>oldSwapchain</code> member of the <code>pCreateInfo</code> parameter in <code><a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>
</p>
</li>
<li>
<p>
The <code>swapchain</code> parameter in <code><a href="#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a></code>
</p>
</li>
<li>
<p>
The <code>swapchain</code> parameter in <code><a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>
</p>
</li>
<li>
<p>
The <code>semaphore</code> parameter in <code><a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>
</p>
</li>
<li>
<p>
The <code>fence</code> parameter in <code><a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>
</p>
</li>
<li>
<p>
The <code>queue</code> parameter in <code><a href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code>
</p>
</li>
<li>
<p>
The <code>display</code> parameter in <code><a href="#vkCreateDisplayModeKHR">vkCreateDisplayModeKHR</a></code>
</p>
</li>
<li>
<p>
The <code>mode</code> parameter in <code><a href="#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a></code>
</p>
</li>
<li>
<p>
The <code>commandPool</code> parameter in <code><a href="#vkTrimCommandPoolKHR">vkTrimCommandPoolKHR</a></code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>There are also a few instances where a command <span role="normative">can</span> take in a user allocated
list whose contents are externally synchronized parameters.
In these cases, the caller <span role="normative">must</span> guarantee that at most one thread is using
a given element within the list at a given time.
These parameters are listed below.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Externally Synchronized Parameter Lists</div>
<div class="ulist"><ul>
<li>
<p>
Each element of the <code>pWaitSemaphores</code> member of each element of the <code>pSubmits</code> parameter in <code><a href="#vkQueueSubmit">vkQueueSubmit</a></code>
</p>
</li>
<li>
<p>
Each element of the <code>pSignalSemaphores</code> member of each element of the <code>pSubmits</code> parameter in <code><a href="#vkQueueSubmit">vkQueueSubmit</a></code>
</p>
</li>
<li>
<p>
Each element of the <code>pWaitSemaphores</code> member of each element of the <code>pBindInfo</code> parameter in <code><a href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</p>
</li>
<li>
<p>
Each element of the <code>pSignalSemaphores</code> member of each element of the <code>pBindInfo</code> parameter in <code><a href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</p>
</li>
<li>
<p>
The <code>buffer</code> member of each element of the <code>pBufferBinds</code> member of each element of the <code>pBindInfo</code> parameter in <code><a href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</p>
</li>
<li>
<p>
The <code>image</code> member of each element of the <code>pImageOpaqueBinds</code> member of each element of the <code>pBindInfo</code> parameter in <code><a href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</p>
</li>
<li>
<p>
The <code>image</code> member of each element of the <code>pImageBinds</code> member of each element of the <code>pBindInfo</code> parameter in <code><a href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</p>
</li>
<li>
<p>
Each element of the <code>pFences</code> parameter in <code><a href="#vkResetFences">vkResetFences</a></code>
</p>
</li>
<li>
<p>
Each element of the <code>pDescriptorSets</code> parameter in <code><a href="#vkFreeDescriptorSets">vkFreeDescriptorSets</a></code>
</p>
</li>
<li>
<p>
The <code>dstSet</code> member of each element of the <code>pDescriptorWrites</code> parameter in <code><a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a></code>
</p>
</li>
<li>
<p>
The <code>dstSet</code> member of each element of the <code>pDescriptorCopies</code> parameter in <code><a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a></code>
</p>
</li>
<li>
<p>
Each element of the <code>pCommandBuffers</code> parameter in <code><a href="#vkFreeCommandBuffers">vkFreeCommandBuffers</a></code>
</p>
</li>
<li>
<p>
Each element of the <code>pWaitSemaphores</code> member of the <code>pPresentInfo</code> parameter in <code><a href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code>
</p>
</li>
<li>
<p>
Each element of the <code>pSwapchains</code> member of the <code>pPresentInfo</code> parameter in <code><a href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code>
</p>
</li>
<li>
<p>
The <code>surface</code> member of each element of the <code>pCreateInfos</code> parameter in <code><a href="#vkCreateSharedSwapchainsKHR">vkCreateSharedSwapchainsKHR</a></code>
</p>
</li>
<li>
<p>
The <code>oldSwapchain</code> member of each element of the <code>pCreateInfos</code> parameter in <code><a href="#vkCreateSharedSwapchainsKHR">vkCreateSharedSwapchainsKHR</a></code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>In addition, there are some implicit parameters that need to be externally
synchronized.
For example, all <code>commandBuffer</code> parameters that need to be externally
synchronized imply that the <code>commandPool</code> that was passed in when
creating that command buffer also needs to be externally synchronized.
The implicit parameters and their associated object are listed below.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Implicit Externally Synchronized Parameters</div>
<div class="ulist"><ul>
<li>
<p>
All <code>VkQueue</code> objects created from <code>device</code> in <code><a href="#vkDeviceWaitIdle">vkDeviceWaitIdle</a></code>
</p>
</li>
<li>
<p>
Any <code>VkDescriptorSet</code> objects allocated from <code>descriptorPool</code> in <code><a href="#vkResetDescriptorPool">vkResetDescriptorPool</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from in <code><a href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from in <code><a href="#vkEndCommandBuffer">vkEndCommandBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdBindPipeline">vkCmdBindPipeline</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdSetViewport">vkCmdSetViewport</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdSetScissor">vkCmdSetScissor</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdSetLineWidth">vkCmdSetLineWidth</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdSetDepthBias">vkCmdSetDepthBias</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdSetBlendConstants">vkCmdSetBlendConstants</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdSetDepthBounds">vkCmdSetDepthBounds</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdSetStencilWriteMask">vkCmdSetStencilWriteMask</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdSetStencilReference">vkCmdSetStencilReference</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdBindVertexBuffers">vkCmdBindVertexBuffers</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdDraw">vkCmdDraw</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdDispatch">vkCmdDispatch</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdCopyBuffer">vkCmdCopyBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdCopyImage">vkCmdCopyImage</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdBlitImage">vkCmdBlitImage</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdCopyImageToBuffer">vkCmdCopyImageToBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdUpdateBuffer">vkCmdUpdateBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdFillBuffer">vkCmdFillBuffer</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdClearColorImage">vkCmdClearColorImage</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdClearDepthStencilImage">vkCmdClearDepthStencilImage</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdClearAttachments">vkCmdClearAttachments</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdResolveImage">vkCmdResolveImage</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdSetEvent">vkCmdSetEvent</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdResetEvent">vkCmdResetEvent</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdWaitEvents">vkCmdWaitEvents</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdBeginQuery">vkCmdBeginQuery</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdEndQuery">vkCmdEndQuery</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdWriteTimestamp">vkCmdWriteTimestamp</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdPushConstants">vkCmdPushConstants</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdNextSubpass">vkCmdNextSubpass</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdEndRenderPass">vkCmdEndRenderPass</a></code>
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <code><a href="#vkCmdExecuteCommands">vkCmdExecuteCommands</a></code>
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="fundamentals-errors">2.6. Errors</h3>
<div class="paragraph"><p>Vulkan is a layered API.
The lowest layer is the core Vulkan layer, as defined by this Specification.
The application <span role="normative">can</span> use additional layers above the core for debugging,
validation, and other purposes.</p></div>
<div class="paragraph"><p>One of the core principles of Vulkan is that building and submitting command
buffers <span role="normative">should</span> be highly efficient.
Thus error checking and validation of state in the core layer is minimal,
although more rigorous validation <span role="normative">can</span> be enabled through the use of layers.</p></div>
<div class="paragraph"><p>The core layer assumes applications are using the API correctly.
Except as documented elsewhere in the Specification, the behavior of the
core layer to an application using the API incorrectly is undefined, and
<span role="normative">may</span> include program termination.
However, implementations <span role="normative">must</span> ensure that incorrect usage by an application
does not affect the integrity of the operating system, the Vulkan
implementation, or other Vulkan client applications in the system, and does
not allow one application to access data belonging to another application.
Applications <span role="normative">can</span> request stronger robustness guarantees by enabling the
<code>robustBufferAccess</code> feature as described in <a href="#features">[features]</a>.</p></div>
<div class="paragraph"><p>Validation of correct API usage is left to validation layers.
Applications <span role="normative">should</span> be developed with validation layers enabled, to help
catch and eliminate errors.
Once validated, released applications <span role="normative">should</span> not enable validation layers
by default.</p></div>
<div class="sect3">
<h4 id="fundamentals-validusage">2.6.1. Valid Usage</h4>
<div class="paragraph"><p>Valid usage defines a set of conditions which <span role="normative">must</span> be met in order to
achieve well-defined run-time behavior in an application.
These conditions depend only on Vulkan state, and the parameters or objects
whose usage is constrained by the condition.</p></div>
<div class="paragraph"><p>Some valid usage conditions have dependencies on run-time limits or feature
availability.
It is possible to validate these conditions against Vulkan&#8217;s minimum
supported values for these limits and features, or some subset of other
known values.</p></div>
<div class="paragraph"><p>Valid usage conditions do not cover conditions where well-defined behavior
(including returning an error code) exists.</p></div>
<div class="paragraph"><p>Valid usage conditions <span role="normative">should</span> apply to the command or structure where
complete information about the condition would be known during execution of
an application.
This is such that a validation layer or linter <span role="normative">can</span> be written directly
against these statements at the point they are specified.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>This does lead to some non-obvious places for valid usage statements.
For instance, the valid values for a structure might depend on a separate
value in the calling command.
In this case, the structure itself will not reference this valid usage as it
is impossible to determine validity from the structure that it is invalid -
instead this valid usage would be attached to the calling command.</p></div>
<div class="paragraph"><p>Another example is draw state - the state setters are independent, and can
cause a legitimately invalid state configuration between draw calls; so the
valid usage statements are attached to the place where all state needs to be
valid - at the draw command.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Valid usage conditions are described in a block labelled &#8220;Valid Usage&#8221;
following each command or structure they apply to.</p></div>
</div>
<div class="sect3">
<h4 id="fundamentals-implicit-validity">2.6.2. Implicit Valid Usage</h4>
<div class="paragraph"><p>Some valid usage conditions apply to all commands and structures in the API,
unless explicitly denoted otherwise for a specific command or structure.
These conditions are considered <em>implicit</em>, and are described in a block
labelled &#8220;Valid Usage (Implicit)&#8221; following each command or structure they
apply to.
Implicit valid usage conditions are described in detail below.</p></div>
<div class="sect4">
<h5 id="fundamentals-validusage-handles">Valid Usage for Object Handles</h5>
<div class="paragraph"><p>Any input parameter to a command that is an object handle <span role="normative">must</span> be a valid
object handle, unless otherwise specified.
An object handle is valid if:</p></div>
<div class="ulist"><ul>
<li>
<p>
It has been created or allocated by a previous, successful call to the
    API.
    Such calls are noted in the specification.
</p>
</li>
<li>
<p>
It has not been deleted or freed by a previous call to the API.
    Such calls are noted in the specification.
</p>
</li>
<li>
<p>
Any objects used by that object, either as part of creation or
    execution, <span role="normative">must</span> also be valid.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The reserved handle <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> <span role="normative">can</span> be passed in place of valid
object handles when <em>explicitly called out in the specification</em>.
Any command that creates an object successfully <span role="normative">must</span> not return
<code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>.
It is valid to pass <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> to any <code>vkDestroy*</code> or
<code>vkFree*</code> command, which will silently ignore these values.</p></div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-pointers">Valid Usage for Pointers</h5>
<div class="paragraph"><p>Any parameter that is a pointer <span role="normative">must</span> be a valid pointer.
A pointer is valid if it points at memory containing values of the number
and type(s) expected by the command, and all fundamental types accessed
through the pointer (e.g. as elements of an array or as members of a
structure) satisfy the alignment requirements of the host processor.</p></div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-enums">Valid Usage for Enumerated Types</h5>
<div class="paragraph"><p>Any parameter of an enumerated type <span role="normative">must</span> be a valid enumerant for that
type.
A enumerant is valid if:</p></div>
<div class="ulist"><ul>
<li>
<p>
The enumerant is defined as part of the enumerated type.
</p>
</li>
<li>
<p>
The enumerant is not one of the special values defined for the
    enumerated type, which are suffixed with <code>_BEGIN_RANGE</code>,
    <code>_END_RANGE</code>, <code>_RANGE_SIZE</code> or <code>_MAX_ENUM</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-flags">Valid Usage for Flags</h5>
<div class="paragraph"><p>A collection of flags is represented by a bitmask using the type
<code>VkFlags</code>:</p></div>
<div class="listingblock">
<a id="VkFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">uint32_t</span> VkFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="paragraph"><p>Bitmasks are passed to many commands and structures to compactly represent
options, but <code>VkFlags</code> is not used directly in the API.
Instead, a <code>Vk*Flags</code> type which is an alias of <code>VkFlags</code>, and
whose name matches the corresponding <code>Vk*FlagBits</code> that are valid for
that type, is used.
These aliases are described in the <a href="#boilerplate-flags">Flag Types</a> appendix
of the Specification.</p></div>
<div class="paragraph"><p>Any <code>Vk*Flags</code> member or parameter used in the API <span role="normative">must</span> be a valid
combination of bit flags.
A valid combination is either zero or the bitwise OR of valid bit flags.
A bit flag is valid if:</p></div>
<div class="ulist"><ul>
<li>
<p>
The bit flag is defined as part of the <code>Vk*FlagBits</code> type, where the
    bits type is obtained by taking the flag type and replacing the trailing
    <code>Flags</code> with <code>FlagBits</code>.
    For example, a flag value of type <code><a href="#VkColorComponentFlags">VkColorComponentFlags</a></code> <span role="normative">must</span>
    contain only bit flags defined by <code><a href="#VkColorComponentFlagBits">VkColorComponentFlagBits</a></code>.
</p>
</li>
<li>
<p>
The flag is allowed in the context in which it is being used.
    For example, in some cases, certain bit flags or combinations of bit
    flags are mutually exclusive.
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-sType">Valid Usage for Structure Types</h5>
<div class="paragraph"><p>Any parameter that is a structure containing a <code>sType</code> member <span role="normative">must</span> have
a value of <code>sType</code> which is a valid <code><a href="#VkStructureType">VkStructureType</a></code> value matching
the type of the structure.
As a general rule, the name of this value is obtained by taking the
structure name, stripping the leading <code>Vk</code>, prefixing each capital
letter with <code>_</code>, converting the entire resulting string to upper case,
and prefixing it with <code>VK_STRUCTURE_TYPE_</code>.
For example, structures of type <code>VkImageCreateInfo</code> <span role="normative">must</span> have a
<code>sType</code> value of <code>VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO</code>.</p></div>
<div class="paragraph"><p>The values <code>VK_STRUCTURE_TYPE_LOADER_INSTANCE_CREATE_INFO</code> and
<code>VK_STRUCTURE_TYPE_LOADER_DEVICE_CREATE_INFO</code> are reserved for internal
use by the loader, and do not have corresponding Vulkan structures in this
specification.</p></div>
<div class="paragraph"><p>The list of supported <a href="#boilerplate-sType">structure types</a> is defined in an
appendix.</p></div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-pNext">Valid Usage for Structure Pointer Chains</h5>
<div class="paragraph"><p>Any parameter that is a structure containing a <span class="monospaced">void*</span> <code>pNext</code> member
<span role="normative">must</span> have a value of <code>pNext</code> that is either <span class="monospaced">NULL</span>, or points to a
valid structure defined by an extension, containing <code>sType</code> and
<code>pNext</code> members as described in the <a href="#vulkan-styleguide">Vulkan Documentation and Extensions</a> document in the section &#8220;Extension
Interactions&#8221;.
If that extension is supported by the implementation, then it <span role="normative">must</span> be
enabled.
Any component of the implementation (the loader, any enabled layers, and
drivers) <span role="normative">must</span> skip over, without processing (other than reading the
<code>sType</code> and <code>pNext</code> members) any chained structures with <code>sType</code>
values not defined by extensions supported by that component.</p></div>
<div class="paragraph"><p>Extension structures are not described in the base Vulkan specification, but
either in layered specifications incorporating those extensions, or in
separate vendor-provided documents.</p></div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-nested-structs">Valid Usage for Nested Structures</h5>
<div class="paragraph"><p>The above conditions also apply recursively to members of structures
provided as input to a command, either as a direct argument to the command,
or themselves a member of another structure.</p></div>
<div class="paragraph"><p>Specifics on valid usage of each command are covered in their individual
sections.</p></div>
</div>
</div>
<div class="sect3">
<h4 id="fundamentals-returncodes">2.6.3. Return Codes</h4>
<div class="paragraph"><p>While the core Vulkan API is not designed to capture incorrect usage, some
circumstances still require return codes.
Commands in Vulkan return their status via return codes that are in one of
two categories:</p></div>
<div class="ulist"><ul>
<li>
<p>
Successful completion codes are returned when a command needs to
    communicate success or status information.
    All successful completion codes are non-negative values.
</p>
</li>
<li>
<p>
Run time error codes are returned when a command needs to communicate a
    failure that could only be detected at run time.
    All run time error codes are negative values.
</p>
</li>
</ul></div>
<div class="paragraph"><p>All return codes in Vulkan are reported via <code><a href="#VkResult">VkResult</a></code> return values.
The possible codes are:</p></div>
<div class="listingblock">
<a id="VkResult"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkResult <span style="color: #FF0000">{</span>
    VK_SUCCESS <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_NOT_READY <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_TIMEOUT <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_EVENT_SET <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_EVENT_RESET <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_INCOMPLETE <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_ERROR_OUT_OF_HOST_MEMORY <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_ERROR_OUT_OF_DEVICE_MEMORY <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_ERROR_INITIALIZATION_FAILED <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_ERROR_DEVICE_LOST <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_ERROR_MEMORY_MAP_FAILED <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_ERROR_LAYER_NOT_PRESENT <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">6</span><span style="color: #990000">,</span>
    VK_ERROR_EXTENSION_NOT_PRESENT <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">7</span><span style="color: #990000">,</span>
    VK_ERROR_FEATURE_NOT_PRESENT <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">8</span><span style="color: #990000">,</span>
    VK_ERROR_INCOMPATIBLE_DRIVER <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">9</span><span style="color: #990000">,</span>
    VK_ERROR_TOO_MANY_OBJECTS <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">10</span><span style="color: #990000">,</span>
    VK_ERROR_FORMAT_NOT_SUPPORTED <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">11</span><span style="color: #990000">,</span>
    VK_ERROR_FRAGMENTED_POOL <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">12</span><span style="color: #990000">,</span>
    VK_ERROR_SURFACE_LOST_KHR <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">1000000000</span><span style="color: #990000">,</span>
    VK_ERROR_NATIVE_WINDOW_IN_USE_KHR <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">1000000001</span><span style="color: #990000">,</span>
    VK_SUBOPTIMAL_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000001003</span><span style="color: #990000">,</span>
    VK_ERROR_OUT_OF_DATE_KHR <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">1000001004</span><span style="color: #990000">,</span>
    VK_ERROR_INCOMPATIBLE_DISPLAY_KHR <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">1000003001</span><span style="color: #990000">,</span>
    VK_ERROR_OUT_OF_POOL_MEMORY_KHR <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">1000069000</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkResult<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist" id="fundamentals-successcodes"><div class="title">Success Codes</div><ul>
<li>
<p>
<code>VK_SUCCESS</code> Command successfully completed
</p>
</li>
<li>
<p>
<code>VK_NOT_READY</code> A fence or query has not yet completed
</p>
</li>
<li>
<p>
<code>VK_TIMEOUT</code> A wait operation has not completed in the specified
    time
</p>
</li>
<li>
<p>
<code>VK_EVENT_SET</code> An event is signaled
</p>
</li>
<li>
<p>
<code>VK_EVENT_RESET</code> An event is unsignaled
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code> A return array was too small for the result
</p>
</li>
<li>
<p>
<code>VK_SUBOPTIMAL_KHR</code> A swapchain no longer matches the surface
    properties exactly, but <span role="normative">can</span> still be used to present to the surface
    successfully.
</p>
</li>
</ul></div>
<div class="ulist" id="fundamentals-errorcodes"><div class="title">Error codes</div><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code> A host memory allocation has failed.
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code> A device memory allocation has
    failed.
</p>
</li>
<li>
<p>
<code>VK_ERROR_INITIALIZATION_FAILED</code> Initialization of an object could
    not be completed for implementation-specific reasons.
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code> The logical or physical device has been lost.
    See <a href="#devsandqueues-lost-device">Lost Device</a>
</p>
</li>
<li>
<p>
<code>VK_ERROR_MEMORY_MAP_FAILED</code> Mapping of a memory object has failed.
</p>
</li>
<li>
<p>
<code>VK_ERROR_LAYER_NOT_PRESENT</code> A requested layer is not present or
    could not be loaded.
</p>
</li>
<li>
<p>
<code>VK_ERROR_EXTENSION_NOT_PRESENT</code> A requested extension is not
    supported.
</p>
</li>
<li>
<p>
<code>VK_ERROR_FEATURE_NOT_PRESENT</code> A requested feature is not supported.
</p>
</li>
<li>
<p>
<code>VK_ERROR_INCOMPATIBLE_DRIVER</code> The requested version of Vulkan is
    not supported by the driver or is otherwise incompatible for
    implementation-specific reasons.
</p>
</li>
<li>
<p>
<code>VK_ERROR_TOO_MANY_OBJECTS</code> Too many objects of the type have
    already been created.
</p>
</li>
<li>
<p>
<code>VK_ERROR_FORMAT_NOT_SUPPORTED</code> A requested format is not supported
    on this device.
</p>
</li>
<li>
<p>
<code>VK_ERROR_FRAGMENTED_POOL</code> A requested pool allocation has failed
    due to fragmentation of the pool&#8217;s memory.
</p>
</li>
<li>
<p>
<code>VK_ERROR_SURFACE_LOST_KHR</code> A surface is no longer available.
</p>
</li>
<li>
<p>
<code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code> The requested window is already
    in use by Vulkan or another API in a manner which prevents it from being
    used again.
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DATE_KHR</code> A surface has changed in such a way that
    it is no longer compatible with the swapchain, and further presentation
    requests using the swapchain will fail.
    Applications <span role="normative">must</span> query the new surface properties and recreate their
    swapchain if they wish to continue presenting to the surface.
</p>
</li>
<li>
<p>
<code>VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code> The display used by a swapchain
    does not use the same presentable image layout, or is incompatible in a
    way that prevents sharing an image.
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_POOL_MEMORY_KHR</code> There is no more memory in the
    descriptor set pool.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If a command returns a run time error, it will leave any result pointers
unmodified, unless other behavior is explicitly defined in the
specification.</p></div>
<div class="paragraph"><p>Out of memory errors do not damage any currently existing Vulkan objects.
Objects that have already been successfully created <span role="normative">can</span> still be used by
the application.</p></div>
<div class="paragraph"><p>Performance-critical commands generally do not have return codes.
If a run time error occurs in such commands, the implementation will defer
reporting the error until a specified point.
For commands that record into command buffers (<code>vkCmd*</code>) run time errors
are reported by <code>vkEndCommandBuffer</code>.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-numerics">2.7. Numeric Representation and Computation</h3>
<div class="paragraph"><p>Implementations normally perform computations in floating-point, and <span role="normative">must</span>
meet the range and precision requirements defined under &#8220;Floating-Point
Computation&#8221; below.</p></div>
<div class="paragraph"><p>These requirements only apply to computations performed in Vulkan operations
outside of shader execution, such as texture image specification and
sampling, and per-fragment operations.
Range and precision requirements during shader execution differ and are
specified by the <a href="#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a> section.</p></div>
<div class="paragraph"><p>In some cases, the representation and/or precision of operations is
implicitly limited by the specified format of vertex or texel data consumed
by Vulkan.
Specific floating-point formats are described later in this section.</p></div>
<div class="sect3">
<h4 id="fundamentals-floatingpoint">2.7.1. Floating-Point Computation</h4>
<div class="paragraph"><p>Most floating-point computation is performed in SPIR-V shader modules.
The properties of computation within shaders are constrained as defined by
the <a href="#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a> section.</p></div>
<div class="paragraph"><p>Some floating-point computation is performed outside of shaders, such as
viewport and depth range calculations.
For these computations, we do not specify how floating-point numbers are to
be represented, or the details of how operations on them are performed, but
only place minimal requirements on representation and precision as described
in the remainder of this section.</p></div>
<div class="paragraph"><p>We require simply that numbers' floating-point parts contain enough bits and
that their exponent fields are large enough so that individual results of
floating-point operations are accurate to about 1 part in 10<sup>5</sup>.
The maximum representable magnitude for all floating-point values <span role="normative">must</span> be
at least 2<sup>32</sup>.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">x &#x00d7; 0 = 0 &#x00d7; x = 0</span> for any non-infinite and
     non-<span class="eq">NaN</span> <span class="eq">x</span>.
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">1 &#x00d7; x = x &#x00d7; 1 = x</span>.
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">x + 0 = 0 + x = x</span>.
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">0<sup>0</sup> = 1</span>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Occasionally, further requirements will be specified.
Most single-precision floating-point formats meet these requirements.</p></div>
<div class="paragraph"><p>The special values <span class="eq">Inf</span> and <span class="eq">-Inf</span> encode values with magnitudes
too large to be represented; the special value <span class="eq">NaN</span> encodes &#8220;Not
A Number&#8221; values resulting from undefined arithmetic operations such
as <span class="eq">0 / 0</span>.
Implementations <span role="normative">may</span> support <span class="eq">Inf</span> and <span class="eq">NaN</span> in their floating-point
computations.</p></div>
<div class="paragraph"><p>Any representable floating-point value is legal as input to a Vulkan command
that requires floating-point data.
The result of providing a value that is not a floating-point number to such
a command is unspecified, but <span role="normative">must</span> not lead to Vulkan interruption or
termination.
In <a href="#ieee-754">IEEE 754</a> arithmetic, for example, providing a negative zero
or a denormalized number to an Vulkan command <span role="normative">must</span> yield deterministic
results, while providing a <span class="eq">NaN</span> or <span class="eq">Inf</span> yields unspecified
results.</p></div>
</div>
<div class="sect3">
<h4 id="fundamentals-fp16">2.7.2. 16-Bit Floating-Point Numbers</h4>
<div class="paragraph"><p>16-bit floating point numbers are defined in the &#8220;16-bit floating point
numbers&#8221; section of the <a href="#data-format">Khronos Data Format Specification</a>.</p></div>
<div class="paragraph"><p>Any representable 16-bit floating-point value is legal as input to a Vulkan
command that accepts 16-bit floating-point data.
The result of providing a value that is not a floating-point number (such as
<span class="eq">Inf</span> or <span class="eq">NaN</span>) to such a command is unspecified, but <span role="normative">must</span> not lead
to Vulkan interruption or termination.
Providing a denormalized number or negative zero to Vulkan <span role="normative">must</span> yield
deterministic results.</p></div>
</div>
<div class="sect3">
<h4 id="fundamentals-fp11">2.7.3. Unsigned 11-Bit Floating-Point Numbers</h4>
<div class="paragraph"><p>Unsigned 11-bit floating point numbers are defined in the &#8220;Unsigned 11-bit
floating point numbers&#8221; section of the <a href="#data-format">Khronos Data Format Specification</a>.</p></div>
<div class="paragraph"><p>When a floating-point value is converted to an unsigned 11-bit
floating-point representation, finite values are rounded to the closest
representable finite value.</p></div>
<div class="paragraph"><p>While less accurate, implementations are allowed to always round in the
direction of zero.
This means negative values are converted to zero.
Likewise, finite positive values greater than 65024 (the maximum finite
representable unsigned 11-bit floating-point value) are converted to 65024.
Additionally: negative infinity is converted to zero; positive infinity is
converted to positive infinity; and both positive and negative <span class="eq">NaN</span> are
converted to positive <span class="eq">NaN</span>.</p></div>
<div class="paragraph"><p>Any representable unsigned 11-bit floating-point value is legal as input to
a Vulkan command that accepts 11-bit floating-point data.
The result of providing a value that is not a floating-point number (such as
<span class="eq">Inf</span> or <span class="eq">NaN</span>) to such a command is unspecified, but <span role="normative">must</span> not lead
to Vulkan interruption or termination.
Providing a denormalized number to Vulkan <span role="normative">must</span> yield deterministic results.</p></div>
</div>
<div class="sect3">
<h4 id="fundamentals-fp10">2.7.4. Unsigned 10-Bit Floating-Point Numbers</h4>
<div class="paragraph"><p>Unsigned 10-bit floating point numbers are defined in the &#8220;Unsigned 10-bit
floating point numbers&#8221; section of the <a href="#data-format">Khronos Data Format Specification</a>.</p></div>
<div class="paragraph"><p>When a floating-point value is converted to an unsigned 10-bit
floating-point representation, finite values are rounded to the closest
representable finite value.</p></div>
<div class="paragraph"><p>While less accurate, implementations are allowed to always round in the
direction of zero.
This means negative values are converted to zero.
Likewise, finite positive values greater than 64512 (the maximum finite
representable unsigned 10-bit floating-point value) are converted to 64512.
Additionally: negative infinity is converted to zero; positive infinity is
converted to positive infinity; and both positive and negative <span class="eq">NaN</span> are
converted to positive <span class="eq">NaN</span>.</p></div>
<div class="paragraph"><p>Any representable unsigned 10-bit floating-point value is legal as input to
a Vulkan command that accepts 10-bit floating-point data.
The result of providing a value that is not a floating-point number (such as
<span class="eq">Inf</span> or <span class="eq">NaN</span>) to such a command is unspecified, but <span role="normative">must</span> not lead
to Vulkan interruption or termination.
Providing a denormalized number to Vulkan <span role="normative">must</span> yield deterministic results.</p></div>
</div>
<div class="sect3">
<h4 id="fundamentals-general">2.7.5. General Requirements</h4>
<div class="paragraph"><p>Some calculations require division.
In such cases (including implied divisions performed by vector
normalization), division by zero produces an unspecified result but <span role="normative">must</span>
not lead to Vulkan interruption or termination.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-fixedconv">2.8. Fixed-Point Data Conversions</h3>
<div class="paragraph"><p>When generic vertex attributes and pixel color or depth <em>components</em> are
represented as integers, they are often (but not always) considered to be
<em>normalized</em>.
Normalized integer values are treated specially when being converted to and
from floating-point values, and are usually referred to as <em>normalized
fixed-point</em>.</p></div>
<div class="paragraph"><p>In the remainder of this section, <span class="eq">b</span> denotes the bit width of the
fixed-point integer representation.
When the integer is one of the types defined by the API, <span class="eq">b</span> is the bit
width of that type.
When the integer comes from an <a href="#resources-images">image</a> containing color
or depth component texels, <span class="eq">b</span> is the number of bits allocated to that
component in its <a href="#features-formats">specified image format</a>.</p></div>
<div class="paragraph"><p>The signed and unsigned fixed-point representations are assumed to be
<span class="eq">b</span>-bit binary two&#8217;s-complement integers and binary unsigned integers,
respectively.</p></div>
<div class="sect3">
<h4 id="fundamentals-fixedfpconv">2.8.1. Conversion from Normalized Fixed-Point to Floating-Point</h4>
<div class="paragraph"><p>Unsigned normalized fixed-point integers represent numbers in the range
<span class="eq">[0,1]</span>.
The conversion from an unsigned normalized fixed-point value <span class="eq">c</span> to the
corresponding floating-point value <span class="eq">f</span> is defined as</p></div>
<div class="mathblock">
<div class="content">\[ f = { c \over { 2^b - 1 } } \]</div></div>
<div class="paragraph"><p>Signed normalized fixed-point integers represent numbers in the range
<span class="eq">[-1,1]</span>.
The conversion from a signed normalized fixed-point value <span class="eq">c</span> to the
corresponding floating-point value <span class="eq">f</span> is performed using</p></div>
<div class="mathblock">
<div class="content">\[ f = \max\left( {c \over {2^{b-1} - 1}}, -1.0 \right) \]</div></div>
<div class="paragraph"><p>Only the range <span class="eq">[-2<sup>b-1</sup> + 1, 2<sup>b-1</sup> - 1]</span> is used to represent signed
fixed-point values in the range <span class="eq">[-1,1]</span>.
For example, if <span class="eq">b = 8</span>, then the integer value <span class="eq">-127</span> corresponds
to <span class="eq">-1.0</span> and the value 127 corresponds to <span class="eq">1.0</span>.
Note that while zero is exactly expressible in this representation, one
value (<span class="eq">-128</span> in the example) is outside the representable range, and
<span role="normative">must</span> be clamped before use.
This equation is used everywhere that signed normalized fixed-point values
are converted to floating-point.</p></div>
</div>
<div class="sect3">
<h4 id="fundamentals-fpfixedconv">2.8.2. Conversion from Floating-Point to Normalized Fixed-Point</h4>
<div class="paragraph"><p>The conversion from a floating-point value <span class="eq">f</span> to the corresponding
unsigned normalized fixed-point value <span class="eq">c</span> is defined by first clamping
<span class="eq">f</span> to the range <span class="eq">[0,1]</span>, then computing</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">c = convertFloatToUint(f &#x00d7; (2<sup>b</sup> - 1), b)</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>where <span class="eq">convertFloatToUint}(r,b)</span> returns one of the two unsigned binary
integer values with exactly <span class="eq">b</span> bits which are closest to the
floating-point value <span class="eq">r</span>.
Implementations <span role="normative">should</span> round to nearest.
If <span class="eq">r</span> is equal to an integer, then that integer value <span role="normative">must</span> be
returned.
In particular, if <span class="eq">f</span> is equal to 0.0 or 1.0, then <span class="eq">c</span> <span role="normative">must</span> be
assigned 0 or <span class="eq">2<sup>b</sup> - 1</span>, respectively.</p></div>
<div class="paragraph"><p>The conversion from a floating-point value <span class="eq">f</span> to the corresponding
signed normalized fixed-point value <span class="eq">c</span> is performed by clamping <span class="eq">f</span>
to the range <span class="eq">[-1,1]</span>, then computing</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">c = convertFloatToInt(f &#x00d7; (2<sup>b-1</sup> - 1), b)</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>where <span class="eq">convertFloatToInt(r,b)</span> returns one of the two signed
two&#8217;s-complement binary integer values with exactly <span class="eq">b</span> bits which are
closest to the floating-point value <span class="eq">r</span>.
Implementations <span role="normative">should</span> round to nearest.
If <span class="eq">r</span> is equal to an integer, then that integer value <span role="normative">must</span> be
returned.
In particular, if <span class="eq">f</span> is equal to -1.0, 0.0, or 1.0, then <span class="eq">c</span> <span role="normative">must</span>
be assigned <span class="eq">-(2<sup>b-1</sup> - 1)</span>, 0, or <span class="eq">2<sup>b-1</sup> - 1</span>, respectively.</p></div>
<div class="paragraph"><p>This equation is used everywhere that floating-point values are converted to
signed normalized fixed-point.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-versionnum">2.9. API Version Numbers and Semantics</h3>
<div class="paragraph"><p>The Vulkan version number is used in several places in the API.
In each such use, the API <em>major version number</em>, <em>minor version number</em>,
and <em>patch version number</em> are packed into a 32-bit integer as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
The major version number is a 10-bit integer packed into bits 31-22.
</p>
</li>
<li>
<p>
The minor version number is a 10-bit integer packed into bits 21-12.
</p>
</li>
<li>
<p>
The patch version number is a 12-bit integer packed into bits 11-0.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Differences in any of the Vulkan version numbers indicates a change to the
API in some way, with each part of the version number indicating a different
scope of changes.</p></div>
<div class="paragraph"><p>A difference in patch version numbers indicates that some usually small part
of the specification or header has been modified, typically to fix a bug,
and <span role="normative">may</span> have an impact on the behavior of existing functionality.
Differences in this version number <span role="normative">should</span> not affect either <em>full
compatibility</em> or <em>backwards compatibility</em> between two versions, or add
additional interfaces to the API.</p></div>
<div class="paragraph"><p>A difference in minor version numbers indicates that some amount of new
functionality has been added.
This will usually include new interfaces in the header, and <span role="normative">may</span> also
include behavior changes and bug fixes.
Functionality <span role="normative">may</span> be deprecated in a minor revision, but will not be
removed.
When a new minor version is introduced, the patch version is reset to 0, and
each minor revision maintains its own set of patch versions.
Differences in this version <span role="normative">should</span> not affect backwards compatibility, but
will affect full compatibility.</p></div>
<div class="paragraph"><p>A difference in major version numbers indicates a large set of changes to
the API, potentially including new functionality and header interfaces,
behavioral changes, removal of deprecated features, modification or outright
replacement of any feature, and is thus very likely to break any and all
compatibility.
Differences in this version will typically require significant modification
to an application in order for it to function.</p></div>
<div class="paragraph"><p>C language macros for manipulating version numbers are defined in the
<a href="#boilerplate-versions">Version Number Macros</a> appendix.</p></div>
</div>
<div class="sect2">
<h3 id="fundamentals-common-objects">2.10. Common Object Types</h3>
<div class="paragraph"><p>Some types of Vulkan objects are used in many different structures and
command parameters, and are described here.
These types include <em>offsets</em>, <em>extents</em>, and <em>rectangles</em>.</p></div>
<div class="sect3">
<h4 id="_offsets">2.10.1. Offsets</h4>
<div class="paragraph"><p>Offsets are used to describe a pixel location within an image or
framebuffer, as an (x,y) location for two-dimensional images, or an (x,y,z)
location for three-dimensional images.</p></div>
<div class="paragraph"><p>A two-dimensional offsets is defined by the structure:</p></div>
<div class="listingblock">
<a id="VkOffset2D"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkOffset2D</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">int32_t</span>    x<span style="color: #990000">;</span>
    <span style="color: #008080">int32_t</span>    y<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkOffset2D<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>A three-dimensional offset is defined by the structure:</p></div>
<div class="listingblock">
<a id="VkOffset3D"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkOffset3D</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">int32_t</span>    x<span style="color: #990000">;</span>
    <span style="color: #008080">int32_t</span>    y<span style="color: #990000">;</span>
    <span style="color: #008080">int32_t</span>    z<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkOffset3D<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_extents">2.10.2. Extents</h4>
<div class="paragraph"><p>Extents are used to describe the size of a rectangular region of pixels
within an image or framebuffer, as (width,height) for two-dimensional
images, or as (width,height,depth) for three-dimensional images.</p></div>
<div class="paragraph"><p>A two-dimensional extent is defined by the structure:</p></div>
<div class="listingblock">
<a id="VkExtent2D"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkExtent2D</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>    width<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    height<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkExtent2D<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>A three-dimensional extent is defined by the structure:</p></div>
<div class="listingblock">
<a id="VkExtent3D"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkExtent3D</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>    width<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    height<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    depth<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkExtent3D<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_rectangles">2.10.3. Rectangles</h4>
<div class="paragraph"><p>Rectangles are used to describe a specified rectangular region of pixels
within an image or framebuffer.
Rectangles include both an offset and an extent of the same dimensionality,
as described above.
Two-dimensional rectangles are defined by the structure</p></div>
<div class="listingblock">
<a id="VkRect2D"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkRect2D</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkOffset2D</span>    offset<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent2D</span>    extent<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkRect2D<span style="color: #990000">;</span></tt></pre></div></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="initialization">3. Initialization</h2>
<div class="sectionbody">
<div class="paragraph"><p>Before using Vulkan, an application <span role="normative">must</span> initialize it by loading the
Vulkan commands, and creating a <code>VkInstance</code> object.</p></div>
<div class="sect2">
<h3 id="initialization-functionpointers">3.1. Command Function Pointers</h3>
<div class="paragraph"><p>Vulkan commands are not necessarily exposed statically on a platform.
Function pointers for all Vulkan commands <span role="normative">can</span> be obtained with the command:</p></div>
<div class="listingblock">
<a id="vkGetInstanceProcAddr"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">PFN_vkVoidFunction</span> <span style="font-weight: bold"><span style="color: #000000">vkGetInstanceProcAddr</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkInstance</span>                                  instance<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span>                                 pName<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> is the instance that the function pointer will be
    compatible with, or <span class="monospaced">NULL</span> for commands not dependent on any instance.
</p>
</li>
<li>
<p>
<code>pName</code> is the name of the command to obtain.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkGetInstanceProcAddr</code> itself is obtained in a platform- and loader-
specific manner.
Typically, the loader library will export this command as a function symbol,
so applications <span role="normative">can</span> link against the loader library, or load it dynamically
and look up the symbol using platform-specific APIs.
Loaders are encouraged to export function symbols for all other core Vulkan
commands as well; if this is done, then applications that use only the core
Vulkan commands have no need to use <code>vkGetInstanceProcAddr</code>.</p></div>
<div class="paragraph"><p>The table below defines the various use cases for
<code>vkGetInstanceProcAddr</code> and expected return value ("fp" is function
pointer) for each case.</p></div>
<div class="paragraph"><p>The returned function pointer is of type <code><a href="#PFN_vkVoidFunction">PFN_vkVoidFunction</a></code>, and must
be cast to the type of the command being queried.</p></div>
<table class="tableblock frame-all grid-all"
style="
margin-left:auto; margin-right:auto;
width:80%;
">
<caption class="title">Table 1. vkGetInstanceProcAddr behavior</caption>
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > <code>instance</code>   </th>
<th class="tableblock halign-left valign-top" > <code>pName</code>                                  </th>
<th class="tableblock halign-left valign-top" > return value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">*</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">NULL</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">undefined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">invalid instance</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">*</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">undefined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">NULL</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code><a href="#vkEnumerateInstanceExtensionProperties">vkEnumerateInstanceExtensionProperties</a></code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">fp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">NULL</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code><a href="#vkEnumerateInstanceLayerProperties">vkEnumerateInstanceLayerProperties</a></code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">fp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">NULL</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code><a href="#vkCreateInstance">vkCreateInstance</a></code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">fp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">NULL</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">* (any <code>pName</code> not covered above)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">NULL</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">instance</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">core Vulkan command</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">fp<sup>1</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">instance</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">enabled instance extension commands for <code>instance</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">fp<sup>1</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">instance</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">available device extension<sup>2</sup> commands for <code>instance</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">fp<sup>1</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">instance</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">* (any <code>pName</code> not covered above)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">NULL</span></p></td>
</tr>
</tbody>
</table>
<div class="dlist"><dl>
<dt class="hdlist1">
1
</dt>
<dd>
<p>
    The returned function pointer <span role="normative">must</span> only be called with a dispatchable
    object (the first parameter) that is <code>instance</code> or a child of
    <code>instance</code>.
    e.g. <code>VkInstance</code>, <code>VkPhysicalDevice</code>, <code>VkDevice</code>,
    <code>VkQueue</code>, or <code>VkCommandBuffer</code>.
</p>
</dd>
<dt class="hdlist1">
2
</dt>
<dd>
<p>
    An &#8220;available extension&#8221; is an extension function supported by any of
    the loader, driver or layer.
</p>
</dd>
</dl></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
If <code>instance</code> is not <span class="monospaced">NULL</span>, <code>instance</code> <span role="normative">must</span> be a valid <code>VkInstance</code> handle
</p>
</li>
<li>
<p>
<code>pName</code> <span role="normative">must</span> be a null-terminated string
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>In order to support systems with multiple Vulkan implementations comprising
heterogeneous collections of hardware and software, the function pointers
returned by <code>vkGetInstanceProcAddr</code> <span role="normative">may</span> point to dispatch code, which
calls a different real implementation for different <code>VkDevice</code> objects
(and objects created from them).
The overhead of this internal dispatch <span role="normative">can</span> be avoided by obtaining
device-specific function pointers for any commands that use a device or
device-child object as their dispatchable object.
Such function pointers <span role="normative">can</span> be obtained with the command:</p></div>
<div class="listingblock">
<a id="vkGetDeviceProcAddr"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">PFN_vkVoidFunction</span> <span style="font-weight: bold"><span style="color: #000000">vkGetDeviceProcAddr</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span>                                 pName<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>The table below defines the various use cases for <code>vkGetDeviceProcAddr</code>
and expected return value for each case.</p></div>
<div class="paragraph"><p>The returned function pointer is of type <code><a href="#PFN_vkVoidFunction">PFN_vkVoidFunction</a></code>, and must
be cast to the type of the command being queried.</p></div>
<table class="tableblock frame-all grid-all"
style="
margin-left:auto; margin-right:auto;
width:80%;
">
<caption class="title">Table 2. vkGetDeviceProcAddr behavior</caption>
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > <code>device</code>   </th>
<th class="tableblock halign-left valign-top" > <code>pName</code>                           </th>
<th class="tableblock halign-left valign-top" > return value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">NULL</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">*</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">undefined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">invalid device</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">*</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">undefined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">device</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">NULL</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">undefined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">device</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">core Vulkan command</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">fp<sup>1</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">device</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">enabled extension commands</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">fp<sup>1</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">device</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">* (any <code>pName</code> not covered above)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">NULL</span></p></td>
</tr>
</tbody>
</table>
<div class="dlist"><dl>
<dt class="hdlist1">
1
</dt>
<dd>
<p>
    The returned function pointer <span role="normative">must</span> only be called with a dispatchable
    object (the first parameter) that is <code>device</code> or a child of
    <code>device</code>.
    e.g. <code>VkDevice</code>, <code>VkQueue</code>, or <code>VkCommandBuffer</code>.
</p>
</dd>
</dl></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pName</code> <span role="normative">must</span> be a null-terminated string
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The definition of <code><a href="#PFN_vkVoidFunction">PFN_vkVoidFunction</a></code> is:</p></div>
<div class="listingblock">
<a id="PFN_vkVoidFunction"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #009900">void</span> <span style="color: #990000">(</span><span style="color: #008080">VKAPI_PTR</span> <span style="color: #990000">*</span>PFN_vkVoidFunction<span style="color: #990000">)(</span><span style="color: #009900">void</span><span style="color: #990000">);</span>
</tt></pre></div></div>
<div class="sect3">
<h4 id="_extending_physical_device_from_device_extensions">3.1.1. Extending Physical Device From Device Extensions</h4>
<div class="paragraph"><p>When the <span class="monospaced">VK_KHR_get_physical_device_properties2</span> extension is enabled,
physical device extension commands and structures <span role="normative">can</span> be used with a
physical device if the corresponding extension is enumerated by
<code><a href="#vkEnumerateDeviceExtensionProperties">vkEnumerateDeviceExtensionProperties</a></code> for that physical device, even
before a logical device has been created.</p></div>
<div class="paragraph"><p>To obtain a function pointer for a physical-device command from a device
extension, an application <span role="normative">can</span> use <code>vkGetInstanceProcAddr</code>.
This function pointer <span role="normative">may</span> point to dispatch code, which calls a different
real implementation for different <code>VkPhysicalDevice</code> objects.
Behavior is undefined if an extension physical-device command is called on a
physical device that doesn&#8217;t support the extension.</p></div>
<div class="paragraph"><p>Device extensions <span role="normative">may</span> define structures that <span role="normative">can</span> be added to the
pNext-chain of physical-device commands.
Behavior is undefined if such an extension structure is passed to a physical
device command for a physical device that doesn&#8217;t support the extension.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="initialization-instances">3.2. Instances</h3>
<div class="paragraph"><p>There is no global state in Vulkan and all per-application state is stored
in a <code>VkInstance</code> object.
Creating a <code>VkInstance</code> object initializes the Vulkan library and allows
the application to pass information about itself to the implementation.</p></div>
<div class="paragraph"><p>Instances are represented by <code>VkInstance</code> handles:</p></div>
<div class="listingblock">
<a id="VkInstance"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_HANDLE</span></span><span style="color: #990000">(</span>VkInstance<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create an instance object, call:</p></div>
<div class="listingblock">
<a id="vkCreateInstance"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateInstance</span></span><span style="color: #990000">(</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkInstanceCreateInfo<span style="color: #990000">*</span>                 pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkInstance<span style="color: #990000">*</span>                                 pInstance<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>pCreateInfo</code> points to an instance of <code><a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a></code>
    controlling creation of the instance.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pInstance</code> points a <code>VkInstance</code> handle in which the resulting
    instance is returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkCreateInstance</code> creates the instance, then enables and initializes
global layers and extensions requested by the application.
If an extension is provided by a layer, both the layer and extension <span role="normative">must</span>
be specified at <code>vkCreateInstance</code> time.
If a specified layer cannot be found, no <code>VkInstance</code> will be created
and the function will return <code>VK_ERROR_LAYER_NOT_PRESENT</code>.
Likewise, if a specified extension cannot be found the call will return
<code>VK_ERROR_EXTENSION_NOT_PRESENT</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkInstanceCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pInstance</code> <span role="normative">must</span> be a pointer to a <code>VkInstance</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_INITIALIZATION_FAILED</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_LAYER_NOT_PRESENT</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_EXTENSION_NOT_PRESENT</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_INCOMPATIBLE_DRIVER</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkInstanceCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkInstanceCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkInstanceCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>             sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                 pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkInstanceCreateFlags</span>       flags<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkApplicationInfo<span style="color: #990000">*</span>    pApplicationInfo<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                    enabledLayerCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span><span style="color: #990000">*</span>          ppEnabledLayerNames<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                    enabledExtensionCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span><span style="color: #990000">*</span>          ppEnabledExtensionNames<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkInstanceCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>pApplicationInfo</code> is <span class="monospaced">NULL</span> or a pointer to an instance of
    <code>VkApplicationInfo</code>.
    If not <span class="monospaced">NULL</span>, this information helps implementations recognize behavior
    inherent to classes of applications.
    <code><a href="#VkApplicationInfo">VkApplicationInfo</a></code> is defined in detail below.
</p>
</li>
<li>
<p>
<code>enabledLayerCount</code> is the number of global layers to enable.
</p>
</li>
<li>
<p>
<code>ppEnabledLayerNames</code> is a pointer to an array of
    <code>enabledLayerCount</code> null-terminated UTF-8 strings containing the
    names of layers to enable for the created instance.
    See the <a href="#extended-functionality-layers">Layers</a> section for further
    details.
</p>
</li>
<li>
<p>
<code>enabledExtensionCount</code> is the number of global extensions to
    enable.
</p>
</li>
<li>
<p>
<code>ppEnabledExtensionNames</code> is a pointer to an array of
    <code>enabledExtensionCount</code> null-terminated UTF-8 strings containing the
    names of extensions to enable.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>pApplicationInfo</code> is not <span class="monospaced">NULL</span>, <code>pApplicationInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkApplicationInfo</code> structure
</p>
</li>
<li>
<p>
If <code>enabledLayerCount</code> is not <span class="monospaced">0</span>, <code>ppEnabledLayerNames</code> <span role="normative">must</span> be a pointer to an array of <code>enabledLayerCount</code> null-terminated strings
</p>
</li>
<li>
<p>
If <code>enabledExtensionCount</code> is not <span class="monospaced">0</span>, <code>ppEnabledExtensionNames</code> <span role="normative">must</span> be a pointer to an array of <code>enabledExtensionCount</code> null-terminated strings
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkApplicationInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkApplicationInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkApplicationInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>    sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>        pNext<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span>        pApplicationName<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>           applicationVersion<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span>        pEngineName<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>           engineVersion<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>           apiVersion<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkApplicationInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>pApplicationName</code> is a pointer to a null-terminated UTF-8 string
    containing the name of the application.
</p>
</li>
<li>
<p>
<code>applicationVersion</code> is an unsigned integer variable containing the
    developer-supplied version number of the application.
</p>
</li>
<li>
<p>
<code>pEngineName</code> is a pointer to a null-terminated UTF-8 string
    containing the name of the engine (if any) used to create the
    application.
</p>
</li>
<li>
<p>
<code>engineVersion</code> is an unsigned integer variable containing the
    developer-supplied version number of the engine used to create the
    application.
</p>
</li>
<li>
<p>
<code>apiVersion</code> is the version of the Vulkan API against which the
    application expects to run, encoded as described in the
    <a href="#fundamentals-versionnum">API Version Numbers and Semantics</a> section.
    If <code>apiVersion</code> is 0 the implementation <span role="normative">must</span> ignore it, otherwise
    if the implementation does not support the requested <code>apiVersion</code> it
    <span role="normative">must</span> return <code>VK_ERROR_INCOMPATIBLE_DRIVER</code>.
    The patch version number specified in <code>apiVersion</code> is ignored when
    creating an instance object.
    Only the major and minor versions of the instance <span role="normative">must</span> match those
    requested in <code>apiVersion</code>.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>apiVersion</code> <span role="normative">must</span> be zero, or otherwise it <span role="normative">must</span> be a version that
    the implementation supports, or supports an effective substitute for
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_APPLICATION_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
If <code>pApplicationName</code> is not <span class="monospaced">NULL</span>, <code>pApplicationName</code> <span role="normative">must</span> be a null-terminated string
</p>
</li>
<li>
<p>
If <code>pEngineName</code> is not <span class="monospaced">NULL</span>, <code>pEngineName</code> <span role="normative">must</span> be a null-terminated string
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To destroy an instance, call:</p></div>
<div class="listingblock">
<a id="vkDestroyInstance"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyInstance</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkInstance</span>                                  instance<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> is the handle of the instance to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All child objects created using <code>instance</code> <span role="normative">must</span> have been destroyed
    prior to destroying <code>instance</code>
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>instance</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>instance</code> was
    created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
If <code>instance</code> is not <span class="monospaced">NULL</span>, <code>instance</code> <span role="normative">must</span> be a valid <code>VkInstance</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>instance</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devsandqueues">4. Devices and Queues</h2>
<div class="sectionbody">
<div class="paragraph"><p>Once Vulkan is initialized, devices and queues are the primary objects used
to interact with a Vulkan implementation.</p></div>
<div class="paragraph"><p>Vulkan separates the concept of <em>physical</em> and <em>logical</em> devices.
A physical device usually represents a single device in a system (perhaps
made up of several individual hardware devices working together), of which
there are a finite number.
A logical device represents an application&#8217;s view of the device.</p></div>
<div class="paragraph"><p>Physical devices are represented by <code>VkPhysicalDevice</code> handles:</p></div>
<div class="listingblock">
<a id="VkPhysicalDevice"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_HANDLE</span></span><span style="color: #990000">(</span>VkPhysicalDevice<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="sect2">
<h3 id="devsandqueues-physical-device-enumeration">4.1. Physical Devices</h3>
<div class="paragraph"><p>To retrieve a list of physical device objects representing the physical
devices installed in the system, call:</p></div>
<div class="listingblock">
<a id="vkEnumeratePhysicalDevices"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkEnumeratePhysicalDevices</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkInstance</span>                                  instance<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pPhysicalDeviceCount<span style="color: #990000">,</span>
    VkPhysicalDevice<span style="color: #990000">*</span>                           pPhysicalDevices<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> is a handle to a Vulkan instance previously created with
    <code>vkCreateInstance</code>.
</p>
</li>
<li>
<p>
<code>pPhysicalDeviceCount</code> is a pointer to an integer related to the
    number of physical devices available or queried, as described below.
</p>
</li>
<li>
<p>
<code>pPhysicalDevices</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code>VkPhysicalDevice</code> handles.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pPhysicalDevices</code> is <span class="monospaced">NULL</span>, then the number of physical devices
available is returned in <code>pPhysicalDeviceCount</code>.
Otherwise, <code>pPhysicalDeviceCount</code> <span role="normative">must</span> point to a variable set by the
user to the number of elements in the <code>pPhysicalDevices</code> array, and on
return the variable is overwritten with the number of structures actually
written to <code>pPhysicalDevices</code>.
If <code>pPhysicalDeviceCount</code> is less than the number of physical devices
available, at most <code>pPhysicalDeviceCount</code> structures will be written.
If <code>pPhysicalDeviceCount</code> is smaller than the number of physical devices
available, <code>VK_INCOMPLETE</code> will be returned instead of <code>VK_SUCCESS</code>,
to indicate that not all the available physical devices were returned.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> <span role="normative">must</span> be a valid <code>VkInstance</code> handle
</p>
</li>
<li>
<p>
<code>pPhysicalDeviceCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pPhysicalDeviceCount</code> is not <span class="monospaced">0</span>, and <code>pPhysicalDevices</code> is not <span class="monospaced">NULL</span>, <code>pPhysicalDevices</code> <span role="normative">must</span> be a pointer to an array of <code>pPhysicalDeviceCount</code> <code>VkPhysicalDevice</code> handles
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_INITIALIZATION_FAILED</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>To query general properties of physical devices once enumerated, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceProperties</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    VkPhysicalDeviceProperties<span style="color: #990000">*</span>                 pProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the handle to the physical device whose
    properties will be queried.
</p>
</li>
<li>
<p>
<code>pProperties</code> points to an instance of the
    <code><a href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a></code> structure, that will be filled with
    returned information.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pProperties</code> <span role="normative">must</span> be a pointer to a <code>VkPhysicalDeviceProperties</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceProperties</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPhysicalDeviceProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPhysicalDeviceProperties</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>                            apiVersion<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                            driverVersion<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                            vendorID<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                            deviceID<span style="color: #990000">;</span>
    <span style="color: #008080">VkPhysicalDeviceType</span>                deviceType<span style="color: #990000">;</span>
    <span style="color: #009900">char</span>                                deviceName<span style="color: #990000">[</span>VK_MAX_PHYSICAL_DEVICE_NAME_SIZE<span style="color: #990000">];</span>
    <span style="color: #008080">uint8_t</span>                             pipelineCacheUUID<span style="color: #990000">[</span>VK_UUID_SIZE<span style="color: #990000">];</span>
    <span style="color: #008080">VkPhysicalDeviceLimits</span>              limits<span style="color: #990000">;</span>
    <span style="color: #008080">VkPhysicalDeviceSparseProperties</span>    sparseProperties<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPhysicalDeviceProperties<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>apiVersion</code> is the version of Vulkan supported by the device,
    encoded as described in the <a href="#fundamentals-versionnum">API Version     Numbers and Semantics</a> section.
</p>
</li>
<li>
<p>
<code>driverVersion</code> is the vendor-specified version of the driver.
</p>
</li>
<li>
<p>
<code>vendorID</code> is a unique identifier for the <em>vendor</em> (see below) of
    the physical device.
</p>
</li>
<li>
<p>
<code>deviceID</code> is a unique identifier for the physical device among
    devices available from the vendor.
</p>
</li>
<li>
<p>
<code>deviceType</code> is a <code><a href="#VkPhysicalDeviceType">VkPhysicalDeviceType</a></code> specifying the type of
    device.
</p>
</li>
<li>
<p>
<code>deviceName</code> is a null-terminated UTF-8 string containing the name
    of the device.
</p>
</li>
<li>
<p>
<code>pipelineCacheUUID</code> is an array of size <code>VK_UUID_SIZE</code>,
    containing 8-bit values that represent a universally unique identifier
    for the device.
</p>
</li>
<li>
<p>
<code>limits</code> is the <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code> structure which
    specifies device-specific limits of the physical device.
    See <a href="#features-limits">Limits</a> for details.
</p>
</li>
<li>
<p>
<code>sparseProperties</code> is the <code><a href="#VkPhysicalDeviceSparseProperties">VkPhysicalDeviceSparseProperties</a></code>
    structure which specifies various sparse related properties of the
    physical device.
    See <a href="#sparsememory-physicalprops">Sparse Properties</a> for details.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <code>vendorID</code> and <code>deviceID</code> fields are provided to allow
applications to adapt to device characteristics that are not adequately
exposed by other Vulkan queries.
These <span role="normative">may</span> include performance profiles, hardware errata, or other
characteristics.
In PCI-based implementations, the low sixteen bits of <code>vendorID</code> and
<code>deviceID</code> <span role="normative">must</span> contain (respectively) the PCI vendor and device IDs
associated with the hardware device, and the remaining bits <span role="normative">must</span> be set to
zero.
In non-PCI implementations, the choice of what values to return <span role="normative">may</span> be
dictated by operating system or platform policies.
It is otherwise at the discretion of the implementer, subject to the
following constraints and guidelines:</p></div>
<div class="ulist"><ul>
<li>
<p>
For purposes of physical device identification, the <em>vendor</em> of a
    physical device is the entity responsible for the most salient
    characteristics of the hardware represented by the physical device
    handle.
    In the case of a discrete GPU, this <span role="normative">should</span> be the GPU chipset vendor.
    In the case of a GPU or other accelerator integrated into a
    system-on-chip (SoC), this <span role="normative">should</span> be the supplier of the silicon IP
    used to create the GPU or other accelerator.
</p>
</li>
<li>
<p>
If the vendor of the physical device has a valid PCI vendor ID issued by
    <a href="https://pcisig.com/">PCI-SIG</a>, that ID <span role="normative">should</span> be used to construct
    <code>vendorID</code> as described above for PCI-based implementations.
    Implementations that do not return a PCI vendor ID in <code>vendorID</code>
    <span role="normative">must</span> return a valid Khronos vendor ID, obtained as described in the
    <a href="#vulkan-styleguide">Vulkan Documentation and Extensions</a> document in
    the section &#8220;Registering a Vendor ID with Khronos&#8221;.
    Khronos vendor IDs are allocated starting at 0x10000, to distinguish
    them from the PCI vendor ID namespace.
</p>
</li>
<li>
<p>
The vendor of the physical device is responsible for selecting
    <code>deviceID</code>.
    The value selected <span role="normative">should</span> uniquely identify both the device version and
    any major configuration options (for example, core count in the case of
    multicore devices).
    The same device ID <span role="normative">should</span> be used for all physical implementations of
    that device version and configuration.
    For example, all uses of a specific silicon IP GPU version and
    configuration <span role="normative">should</span> use the same device ID, even if those uses occur
    in different SoCs.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The physical devices types are:</p></div>
<div class="listingblock">
<a id="VkPhysicalDeviceType"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkPhysicalDeviceType <span style="color: #FF0000">{</span>
    VK_PHYSICAL_DEVICE_TYPE_OTHER <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_PHYSICAL_DEVICE_TYPE_INTEGRATED_GPU <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_PHYSICAL_DEVICE_TYPE_DISCRETE_GPU <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_PHYSICAL_DEVICE_TYPE_VIRTUAL_GPU <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_PHYSICAL_DEVICE_TYPE_CPU <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkPhysicalDeviceType<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_PHYSICAL_DEVICE_TYPE_OTHER</code> The device does not match any other
    available types.
</p>
</li>
<li>
<p>
<code>VK_PHYSICAL_DEVICE_TYPE_INTEGRATED_GPU</code> The device is typically one
    embedded in or tightly coupled with the host.
</p>
</li>
<li>
<p>
<code>VK_PHYSICAL_DEVICE_TYPE_DISCRETE_GPU</code> The device is typically a
    separate processor connected to the host via an interlink.
</p>
</li>
<li>
<p>
<code>VK_PHYSICAL_DEVICE_TYPE_VIRTUAL_GPU</code> The device is typically a
    virtual node in a virtualization environment.
</p>
</li>
<li>
<p>
<code>VK_PHYSICAL_DEVICE_TYPE_CPU</code> The device is typically running on the
    same processors as the host.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The physical device type is advertised for informational purposes only, and
does not directly affect the operation of the system.
However, the device type <span role="normative">may</span> correlate with other advertised properties or
capabilities of the system, such as how many memory heaps there are.</p></div>
<div class="paragraph"><p>To query general properties of physical devices once enumerated, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceProperties2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceProperties2KHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    VkPhysicalDeviceProperties2KHR<span style="color: #990000">*</span>             pProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the handle to the physical device whose
    properties will be queried.
</p>
</li>
<li>
<p>
<code>pProperties</code> points to an instance of the
    <code><a href="#VkPhysicalDeviceProperties2KHR">VkPhysicalDeviceProperties2KHR</a></code> structure, that will be filled with
    returned information.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Each structure in <code>pProperties</code> and its <code>pNext</code> chain contain
members corresponding to properties or implementation-dependent limits.
<code>vkGetPhysicalDeviceProperties2KHR</code> writes each member to a value
indicating the value of that property or limit.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pProperties</code> <span role="normative">must</span> be a pointer to a <code>VkPhysicalDeviceProperties2KHR</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceProperties2KHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPhysicalDeviceProperties2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPhysicalDeviceProperties2KHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>               sType<span style="color: #990000">;</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                         pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPhysicalDeviceProperties</span>    properties<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPhysicalDeviceProperties2KHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>properties</code> is a structure of type <code><a href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a></code>
    describing the properties of the physical device.
    This structure is written with the same values as if it were written by
    <code><a href="#vkGetPhysicalDeviceProperties">vkGetPhysicalDeviceProperties</a></code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <code>pNext</code> chain of this structure is used to extend the structure with
properties defined by extensions.</p></div>
<div class="paragraph"><p>To query properties of queues available on a physical device, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceQueueFamilyProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceQueueFamilyProperties</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pQueueFamilyPropertyCount<span style="color: #990000">,</span>
    VkQueueFamilyProperties<span style="color: #990000">*</span>                    pQueueFamilyProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the handle to the physical device whose
    properties will be queried.
</p>
</li>
<li>
<p>
<code>pQueueFamilyPropertyCount</code> is a pointer to an integer related to
    the number of queue families available or queried, as described below.
</p>
</li>
<li>
<p>
<code>pQueueFamilyProperties</code> is either <span class="monospaced">NULL</span> or a pointer to an array
    of <code><a href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a></code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pQueueFamilyProperties</code> is <span class="monospaced">NULL</span>, then the number of queue families
available is returned in <code>pQueueFamilyPropertyCount</code>.
Otherwise, <code>pQueueFamilyPropertyCount</code> <span role="normative">must</span> point to a variable set by
the user to the number of elements in the <code>pQueueFamilyProperties</code>
array, and on return the variable is overwritten with the number of
structures actually written to <code>pQueueFamilyProperties</code>.
If <code>pQueueFamilyPropertyCount</code> is less than the number of queue families
available, at most <code>pQueueFamilyPropertyCount</code> structures will be
written.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pQueueFamilyPropertyCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pQueueFamilyPropertyCount</code> is not <span class="monospaced">0</span>, and <code>pQueueFamilyProperties</code> is not <span class="monospaced">NULL</span>, <code>pQueueFamilyProperties</code> <span role="normative">must</span> be a pointer to an array of <code>pQueueFamilyPropertyCount</code> <code>VkQueueFamilyProperties</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkQueueFamilyProperties</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkQueueFamilyProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkQueueFamilyProperties</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkQueueFlags</span>    queueFlags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>        queueCount<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>        timestampValidBits<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent3D</span>      minImageTransferGranularity<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkQueueFamilyProperties<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>queueFlags</code> contains flags indicating the capabilities of the
    queues in this queue family.
</p>
</li>
<li>
<p>
<code>queueCount</code> is the unsigned integer count of queues in this queue
    family.
</p>
</li>
<li>
<p>
<code>timestampValidBits</code> is the unsigned integer count of meaningful
    bits in the timestamps written via <code>vkCmdWriteTimestamp</code>.
    The valid range for the count is 36..64 bits, or a value of 0,
    indicating no support for timestamps.
    Bits outside the valid range are guaranteed to be zeros.
</p>
</li>
<li>
<p>
<code>minImageTransferGranularity</code> is the minimum granularity supported
    for image transfer operations on the queues in this queue family.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The bits specified in <code>queueFlags</code> are:</p></div>
<div class="listingblock">
<a id="VkQueueFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkQueueFlagBits <span style="color: #FF0000">{</span>
    VK_QUEUE_GRAPHICS_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_QUEUE_COMPUTE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_QUEUE_TRANSFER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_QUEUE_SPARSE_BINDING_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkQueueFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
if <code>VK_QUEUE_GRAPHICS_BIT</code> is set, then the queues in this queue
    family support graphics operations.
</p>
</li>
<li>
<p>
if <code>VK_QUEUE_COMPUTE_BIT</code> is set, then the queues in this queue
    family support compute operations.
</p>
</li>
<li>
<p>
if <code>VK_QUEUE_TRANSFER_BIT</code> is set, then the queues in this queue
    family support transfer operations.
</p>
</li>
<li>
<p>
if <code>VK_QUEUE_SPARSE_BINDING_BIT</code> is set, then the queues in this
    queue family support sparse memory management operations (see
    <a href="#sparsememory">Sparse Resources</a>).
    If any of the sparse resource features are enabled, then at least one
    queue family <span role="normative">must</span> support this bit.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If an implementation exposes any queue family that supports graphics
operations, at least one queue family of at least one physical device
exposed by the implementation <span role="normative">must</span> support both graphics and compute
operations.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>All commands that are allowed on a queue that supports transfer operations
are also allowed on a queue that supports either graphics or compute
operations thus if the capabilities of a queue family include
<code>VK_QUEUE_GRAPHICS_BIT</code> or <code>VK_QUEUE_COMPUTE_BIT</code> then reporting the
<code>VK_QUEUE_TRANSFER_BIT</code> capability separately for that queue family is
<span role="normative">optional</span>.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>For further details see <a href="#devsandqueues-queues">Queues</a>.</p></div>
<div class="paragraph"><p>The value returned in <code>minImageTransferGranularity</code> has a unit of
compressed texel blocks for images having a block-compressed format, and a
unit of texels otherwise.</p></div>
<div class="paragraph"><p>Possible values of <code>minImageTransferGranularity</code> are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="eq">(0,0,0)</span> which indicates that only whole mip levels <span role="normative">must</span> be
    transferred using the image transfer operations on the corresponding
    queues.
    In this case, the following restrictions apply to all offset and extent
    parameters of image transfer operations:
</p>
<div class="ulist"><ul>
<li>
<p>
The <code>x</code>, <code>y</code>, and <code>z</code> members of a <code><a href="#VkOffset3D">VkOffset3D</a></code>
     parameter <span role="normative">must</span> always be zero.
</p>
</li>
<li>
<p>
The <code>width</code>, <code>height</code>, and <code>depth</code> members of a
     <code><a href="#VkExtent3D">VkExtent3D</a></code> parameter <span role="normative">must</span> always match the width, height, and
     depth of the image subresource corresponding to the parameter,
     respectively.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<span class="eq">(A<sub>x</sub>, A<sub>y</sub>, A<sub>z</sub>)</span> where <span class="eq">A<sub>x</sub></span>, <span class="eq">A<sub>y</sub></span>, and <span class="eq">A<sub>z</sub></span>
    are all integer powers of two.
    In this case the following restrictions apply to all image transfer
    operations:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>x</code>, <code>y</code>, and <code>z</code> of a <code><a href="#VkOffset3D">VkOffset3D</a></code> parameter <span role="normative">must</span> be
     integer multiples of <span class="eq">A<sub>x</sub></span>, <span class="eq">A<sub>y</sub></span>, and <span class="eq">A<sub>z</sub></span>,
     respectively.
</p>
</li>
<li>
<p>
<code>width</code> of a <code><a href="#VkExtent3D">VkExtent3D</a></code> parameter <span role="normative">must</span> be an integer
     multiple of <span class="eq">A<sub>x</sub></span>, or else <span class="eq"><code>x</code> + <code>width</code></span> <span role="normative">must</span> equal
     the width of the image subresource corresponding to the parameter.
</p>
</li>
<li>
<p>
<code>height</code> of a <code><a href="#VkExtent3D">VkExtent3D</a></code> parameter <span role="normative">must</span> be an integer
     multiple of <span class="eq">A<sub>y</sub></span>, or else <span class="eq"><code>y</code> + <code>height</code></span> <span role="normative">must</span>
     equal the height of the image subresource corresponding to the
     parameter.
</p>
</li>
<li>
<p>
<code>depth</code> of a <code><a href="#VkExtent3D">VkExtent3D</a></code> parameter <span role="normative">must</span> be an integer
     multiple of <span class="eq">A<sub>z</sub></span>, or else <span class="eq"><code>z</code> + <code>depth</code></span> <span role="normative">must</span> equal
     the depth of the image subresource corresponding to the parameter.
</p>
</li>
<li>
<p>
If the format of the image corresponding to the parameters is one of
     the block-compressed formats then for the purposes of the above
     calculations the granularity <span role="normative">must</span> be scaled up by the compressed texel
     block dimensions.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>Queues supporting graphics and/or compute operations <span role="normative">must</span> report
<span class="eq">(1,1,1)</span> in <code>minImageTransferGranularity</code>, meaning that there are
no additional restrictions on the granularity of image transfer operations
for these queues.
Other queues supporting image transfer operations are only <span role="normative">required</span> to
support whole mip level transfers, thus <code>minImageTransferGranularity</code>
for queues belonging to such queue families <span role="normative">may</span> be <span class="eq">(0,0,0)</span>.</p></div>
<div class="paragraph"><p>The <a href="#memory-device">Device Memory</a> section describes memory properties
queried from the physical device.</p></div>
<div class="paragraph"><p>For physical device feature queries see the <a href="#features">Features</a> chapter.</p></div>
<div class="paragraph"><p>To query properties of queues available on a physical device, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceQueueFamilyProperties2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceQueueFamilyProperties2KHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pQueueFamilyPropertyCount<span style="color: #990000">,</span>
    VkQueueFamilyProperties2KHR<span style="color: #990000">*</span>                pQueueFamilyProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the handle to the physical device whose
    properties will be queried.
</p>
</li>
<li>
<p>
<code>pQueueFamilyPropertyCount</code> is a pointer to an integer related to
    the number of queue families available or queried, as described in
    <code><a href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a></code>.
</p>
</li>
<li>
<p>
<code>pQueueFamilyProperties</code> is either <span class="monospaced">NULL</span> or a pointer to an array
    of <code><a href="#VkQueueFamilyProperties2KHR">VkQueueFamilyProperties2KHR</a></code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkGetPhysicalDeviceQueueFamilyProperties2KHR</code> behaves similarly to
<code><a href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a></code>, with the ability to return
extended information via chained output structures.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pQueueFamilyPropertyCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pQueueFamilyPropertyCount</code> is not <span class="monospaced">0</span>, and <code>pQueueFamilyProperties</code> is not <span class="monospaced">NULL</span>, <code>pQueueFamilyProperties</code> <span role="normative">must</span> be a pointer to an array of <code>pQueueFamilyPropertyCount</code> <code>VkQueueFamilyProperties2KHR</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkQueueFamilyProperties2KHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkQueueFamilyProperties2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkQueueFamilyProperties2KHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>            sType<span style="color: #990000">;</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                      pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkQueueFamilyProperties</span>    queueFamilyProperties<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkQueueFamilyProperties2KHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>queueFamilyProperties</code> is a structure of type
    <code><a href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a></code> which is populated with the same values as
    in <code><a href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a></code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="devsandqueues-devices">4.2. Devices</h3>
<div class="paragraph"><p>Device objects represent logical connections to physical devices.
Each device exposes a number of <em>queue families</em> each having one or more
<em>queues</em>.
All queues in a queue family support the same operations.</p></div>
<div class="paragraph"><p>As described in <a href="#devsandqueues-physical-device-enumeration">Physical Devices</a>, a Vulkan application will first query for all physical devices in
a system.
Each physical device <span role="normative">can</span> then be queried for its capabilities, including
its queue and queue family properties.
Once an acceptable physical device is identified, an application will create
a corresponding logical device.
An application <span role="normative">must</span> create a separate logical device for each physical
device it will use.
The created logical device is then the primary interface to the physical
device.</p></div>
<div class="paragraph"><p>How to enumerate the physical devices in a system and query those physical
devices for their queue family properties is described in the
<a href="#devsandqueues-physical-device-enumeration">Physical Device Enumeration</a>
section above.</p></div>
<div class="sect3">
<h4 id="devsandqueues-device-creation">4.2.1. Device Creation</h4>
<div class="paragraph"><p>Logical devices are represented by <code>VkDevice</code> handles:</p></div>
<div class="listingblock">
<a id="VkDevice"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_HANDLE</span></span><span style="color: #990000">(</span>VkDevice<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>A logical device is created as a <em>connection</em> to a physical device.
To create a logical device, call:</p></div>
<div class="listingblock">
<a id="vkCreateDevice"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateDevice</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDeviceCreateInfo<span style="color: #990000">*</span>                   pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkDevice<span style="color: #990000">*</span>                                   pDevice<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be one of the device handles returned from a
    call to <code>vkEnumeratePhysicalDevices</code> (see
    <a href="#devsandqueues-physical-device-enumeration">Physical Device     Enumeration</a>).
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to a <code><a href="#VkDeviceCreateInfo">VkDeviceCreateInfo</a></code> structure
    containing information about how to create the device.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pDevice</code> points to a handle in which the created <code>VkDevice</code> is
    returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Multiple logical devices <span role="normative">can</span> be created from the same physical device.
Logical device creation <span role="normative">may</span> fail due to lack of device-specific resources
(in addition to the other errors).
If that occurs, <code>vkCreateDevice</code> will return
<code>VK_ERROR_TOO_MANY_OBJECTS</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkDeviceCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pDevice</code> <span role="normative">must</span> be a pointer to a <code>VkDevice</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_INITIALIZATION_FAILED</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_EXTENSION_NOT_PRESENT</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_FEATURE_NOT_PRESENT</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_TOO_MANY_OBJECTS</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkDeviceCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDeviceCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDeviceCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                    sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                        pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceCreateFlags</span>                flags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                           queueCreateInfoCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDeviceQueueCreateInfo<span style="color: #990000">*</span>     pQueueCreateInfos<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                           enabledLayerCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span><span style="color: #990000">*</span>                 ppEnabledLayerNames<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                           enabledExtensionCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span><span style="color: #990000">*</span>                 ppEnabledExtensionNames<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPhysicalDeviceFeatures<span style="color: #990000">*</span>    pEnabledFeatures<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDeviceCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>queueCreateInfoCount</code> is the unsigned integer size of the
    <code>pQueueCreateInfos</code> array.
    Refer to the <a href="#devsandqueues-queue-creation">Queue Creation</a> section
    below for further details.
</p>
</li>
<li>
<p>
<code>pQueueCreateInfos</code> is a pointer to an array of
    <code><a href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a></code> structures describing the queues that are
    requested to be created along with the logical device.
    Refer to the <a href="#devsandqueues-queue-creation">Queue Creation</a> section
    below for further details.
</p>
</li>
<li>
<p>
<code>enabledLayerCount</code> is deprecated and ignored.
</p>
</li>
<li>
<p>
<code>ppEnabledLayerNames</code> is deprecated and ignored.
    See <a href="#extended-functionality-device-layer-deprecation">Device Layer     Deprecation</a>.
</p>
</li>
<li>
<p>
<code>enabledExtensionCount</code> is the number of device extensions to
    enable.
</p>
</li>
<li>
<p>
<code>ppEnabledExtensionNames</code> is a pointer to an array of
    <code>enabledExtensionCount</code> null-terminated UTF-8 strings containing the
    names of extensions to enable for the created device.
    See the <a href="#extended-functionality-extensions">Extensions</a> section for
    further details.
</p>
</li>
<li>
<p>
<code>pEnabledFeatures</code> is <span class="monospaced">NULL</span> or a pointer to a
    <code><a href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a></code> structure that contains boolean
    indicators of all the features to be enabled.
    Refer to the <a href="#features-features">Features</a> section for further details.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The <code>queueFamilyIndex</code> member of any given element of
    <code>pQueueCreateInfos</code> <span role="normative">must</span> be unique within <code>pQueueCreateInfos</code>
</p>
</li>
<li>
<p>
If the <code>pNext</code> chain includes a <code><a href="#VkPhysicalDeviceFeatures2KHR">VkPhysicalDeviceFeatures2KHR</a></code>
    structure, then <code>pEnabledFeatures</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>, or a pointer to a valid instance of <code><a href="#VkPhysicalDeviceFeatures2KHR">VkPhysicalDeviceFeatures2KHR</a></code>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>pQueueCreateInfos</code> <span role="normative">must</span> be a pointer to an array of <code>queueCreateInfoCount</code> valid <code>VkDeviceQueueCreateInfo</code> structures
</p>
</li>
<li>
<p>
If <code>enabledLayerCount</code> is not <span class="monospaced">0</span>, <code>ppEnabledLayerNames</code> <span role="normative">must</span> be a pointer to an array of <code>enabledLayerCount</code> null-terminated strings
</p>
</li>
<li>
<p>
If <code>enabledExtensionCount</code> is not <span class="monospaced">0</span>, <code>ppEnabledExtensionNames</code> <span role="normative">must</span> be a pointer to an array of <code>enabledExtensionCount</code> null-terminated strings
</p>
</li>
<li>
<p>
If <code>pEnabledFeatures</code> is not <span class="monospaced">NULL</span>, <code>pEnabledFeatures</code> <span role="normative">must</span> be a pointer to a valid <code>VkPhysicalDeviceFeatures</code> structure
</p>
</li>
<li>
<p>
<code>queueCreateInfoCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect3">
<h4 id="devsandqueues-use">4.2.2. Device Use</h4>
<div class="paragraph"><p>The following is a high-level list of <code>VkDevice</code> uses along with
references on where to find more information:</p></div>
<div class="ulist"><ul>
<li>
<p>
Creation of queues.
    See the <a href="#devsandqueues-queues">Queues</a> section below for further
    details.
</p>
</li>
<li>
<p>
Creation and tracking of various synchronization constructs.
    See <a href="#synchronization">Synchronization and Cache Control</a> for further
    details.
</p>
</li>
<li>
<p>
Allocating, freeing, and managing memory.
    See <a href="#memory">Memory Allocation</a> and <a href="#resources">Resource Creation</a> for
    further details.
</p>
</li>
<li>
<p>
Creation and destruction of command buffers and command buffer pools.
    See <a href="#commandbuffers">Command Buffers</a> for further details.
</p>
</li>
<li>
<p>
Creation, destruction, and management of graphics state.
    See <a href="#pipelines">Pipelines</a> and <a href="#descriptorsets">Resource Descriptors</a>,
    among others, for further details.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="devsandqueues-lost-device">4.2.3. Lost Device</h4>
<div class="paragraph"><p>A logical device <span role="normative">may</span> become <em>lost</em> because of hardware errors, execution
timeouts, power management events and/or platform-specific events.
This <span role="normative">may</span> cause pending and future command execution to fail and cause
hardware resources to be corrupted.
When this happens, certain commands will return <code>VK_ERROR_DEVICE_LOST</code>
(see <a href="#fundamentals-errorcodes">Error Codes</a> for a list of such commands).
After any such event, the logical device is considered <em>lost</em>.
It is not possible to reset the logical device to a non-lost state, however
the lost state is specific to a logical device (<code>VkDevice</code>), and the
corresponding physical device (<code>VkPhysicalDevice</code>) <span role="normative">may</span> be otherwise
unaffected.
In some cases, the physical device <span role="normative">may</span> also be lost, and attempting to
create a new logical device will fail, returning <code>VK_ERROR_DEVICE_LOST</code>.
This is usually indicative of a problem with the underlying hardware, or its
connection to the host.
If the physical device has not been lost, and a new logical device is
successfully created from that physical device, it <span role="normative">must</span> be in the non-lost
state.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Whilst logical device loss <span role="normative">may</span> be recoverable, in the case of physical
device loss, it is unlikely that an application will be able to recover
unless additional, unaffected physical devices exist on the system.
The error is largely informational and intended only to inform the user that
their hardware has probably developed a fault or become physically
disconnected, and <span role="normative">should</span> be investigated further.
In many cases, physical device loss <span role="normative">may</span> cause other more serious issues
such as the operating system crashing; in which case it <span role="normative">may</span> not be reported
via the Vulkan API.</p></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Undefined behavior caused by an application error <span role="normative">may</span> cause a device to
become lost.
However, such undefined behavior <span role="normative">may</span> also cause unrecoverable damage to the
process, and it is then not guaranteed that the API objects, including the
<code>VkPhysicalDevice</code> or the <code>VkInstance</code> are still valid or that the
error is recoverable.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>When a device is lost, its child objects are not implicitly destroyed and
their handles are still valid.
Those objects <span role="normative">must</span> still be destroyed before their parents or the device
<span role="normative">can</span> be destroyed (see the <a href="#fundamentals-objectmodel-lifetime">Object Lifetime</a> section).
The host address space corresponding to device memory mapped using
<code><a href="#vkMapMemory">vkMapMemory</a></code> is still valid, and host memory accesses to these mapped
regions are still valid, but the contents are undefined.
It is still legal to call any API command on the device and child objects.</p></div>
<div class="paragraph"><p>Once a device is lost, command execution <span role="normative">may</span> fail, and commands that return
a <code><a href="#VkResult">VkResult</a></code> <span role="normative">may</span> return <code>VK_ERROR_DEVICE_LOST</code>.
Commands that do not allow run-time errors <span role="normative">must</span> still operate correctly for
valid usage and, if applicable, return valid data.</p></div>
<div class="paragraph"><p>Commands that wait indefinitely for device execution (namely
<code><a href="#vkDeviceWaitIdle">vkDeviceWaitIdle</a></code>, <code><a href="#vkQueueWaitIdle">vkQueueWaitIdle</a></code>, <code><a href="#vkWaitForFences">vkWaitForFences</a></code>
or <code><a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>
with a maximum <code>timeout</code>, and <code><a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code> with the
<code>VK_QUERY_RESULT_WAIT_BIT</code> bit set in <code>flags</code>) <span role="normative">must</span> return in
finite time even in the case of a lost device, and return either
<code>VK_SUCCESS</code> or <code>VK_ERROR_DEVICE_LOST</code>.
For any command that <span role="normative">may</span> return <code>VK_ERROR_DEVICE_LOST</code>, for the purpose
of determining whether a command buffer is pending execution, or whether
resources are considered in-use by the device, a return value of
<code>VK_ERROR_DEVICE_LOST</code> is equivalent to <code>VK_SUCCESS</code>.</p></div>
</div>
<div class="sect3">
<h4 id="devsandqueues-destruction">4.2.4. Device Destruction</h4>
<div class="paragraph"><p>To destroy a device, call:</p></div>
<div class="listingblock">
<a id="vkDestroyDevice"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyDevice</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To ensure that no work is active on the device, <code><a href="#vkDeviceWaitIdle">vkDeviceWaitIdle</a></code> <span role="normative">can</span>
be used to gate the destruction of the device.
Prior to destroying a device, an application is responsible for
destroying/freeing any Vulkan objects that were created using that device as
the first parameter of the corresponding <code>vkCreate*</code> or
<code>vkAllocate*</code> command.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The lifetime of each of these objects is bound by the lifetime of the
<code>VkDevice</code> object.
Therefore, to avoid resource leaks, it is critical that an application
explicitly free all of these resources prior to calling
<code>vkDestroyDevice</code>.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All child objects created on <code>device</code> <span role="normative">must</span> have been destroyed
    prior to destroying <code>device</code>
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>device</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>device</code> was
    created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
If <code>device</code> is not <span class="monospaced">NULL</span>, <code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>device</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="devsandqueues-queues">4.3. Queues</h3>
<div class="sect3">
<h4 id="devsandqueues-queueprops">4.3.1. Queue Family Properties</h4>
<div class="paragraph"><p>As discussed in the <a href="#devsandqueues-physical-device-enumeration">Physical Device Enumeration</a> section above, the
<code><a href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a></code> command is used to retrieve
details about the queue families and queues supported by a device.</p></div>
<div class="paragraph"><p>Each index in the <code>pQueueFamilyProperties</code> array returned by
<code><a href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a></code> describes a unique queue
family on that physical device.
These indices are used when creating queues, and they correspond directly
with the <code>queueFamilyIndex</code> that is passed to the <code><a href="#vkCreateDevice">vkCreateDevice</a></code>
command via the <code><a href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a></code> structure as described in the
<a href="#devsandqueues-queue-creation">Queue Creation</a> section below.</p></div>
<div class="paragraph"><p>Grouping of queue families within a physical device is
implementation-dependent.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The general expectation is that a physical device groups all queues of
matching capabilities into a single family.
However, this is a recommendation to implementations and it is possible that
a physical device <span role="normative">may</span> return two separate queue families with the same
capabilities.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Once an application has identified a physical device with the queue(s) that
it desires to use, it will create those queues in conjunction with a logical
device.
This is described in the following section.</p></div>
</div>
<div class="sect3">
<h4 id="devsandqueues-queue-creation">4.3.2. Queue Creation</h4>
<div class="paragraph"><p>Creating a logical device also creates the queues associated with that
device.
The queues to create are described by a set of <code><a href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a></code>
structures that are passed to <code><a href="#vkCreateDevice">vkCreateDevice</a></code> in
<code>pQueueCreateInfos</code>.</p></div>
<div class="paragraph"><p>Queues are represented by <code>VkQueue</code> handles:</p></div>
<div class="listingblock">
<a id="VkQueue"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_HANDLE</span></span><span style="color: #990000">(</span>VkQueue<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>The <code>VkDeviceQueueCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDeviceQueueCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDeviceQueueCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>             sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                 pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceQueueCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                    queueFamilyIndex<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                    queueCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">float</span><span style="color: #990000">*</span>                pQueuePriorities<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDeviceQueueCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>queueFamilyIndex</code> is an unsigned integer indicating the index of
    the queue family to create on this device.
    This index corresponds to the index of an element of the
    <code>pQueueFamilyProperties</code> array that was returned by
    <code>vkGetPhysicalDeviceQueueFamilyProperties</code>.
</p>
</li>
<li>
<p>
<code>queueCount</code> is an unsigned integer specifying the number of queues
    to create in the queue family indicated by <code>queueFamilyIndex</code>.
</p>
</li>
<li>
<p>
<code>pQueuePriorities</code> is an array of <code>queueCount</code> normalized
    floating point values, specifying priorities of work that will be
    submitted to each created queue.
    See <a href="#devsandqueues-priority">Queue Priority</a> for more information.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>queueFamilyIndex</code> <span role="normative">must</span> be less than
    <code>pQueueFamilyPropertyCount</code> returned by
    <code>vkGetPhysicalDeviceQueueFamilyProperties</code>
</p>
</li>
<li>
<p>
<code>queueCount</code> <span role="normative">must</span> be less than or equal to the <code>queueCount</code>
    member of the <code>VkQueueFamilyProperties</code> structure, as returned by
    <code>vkGetPhysicalDeviceQueueFamilyProperties</code> in the
    <code>pQueueFamilyProperties</code>[<code>queueFamilyIndex</code>]
</p>
</li>
<li>
<p>
Each element of <code>pQueuePriorities</code> <span role="normative">must</span> be between <span class="monospaced">0.0</span> and <span class="monospaced">1.0</span>
    inclusive
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_DEVICE_QUEUE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>pQueuePriorities</code> <span role="normative">must</span> be a pointer to an array of <code>queueCount</code> <code>float</code> values
</p>
</li>
<li>
<p>
<code>queueCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To retrieve a handle to a VkQueue object, call:</p></div>
<div class="listingblock">
<a id="vkGetDeviceQueue"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetDeviceQueue</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    queueFamilyIndex<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    queueIndex<span style="color: #990000">,</span>
    VkQueue<span style="color: #990000">*</span>                                    pQueue<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the queue.
</p>
</li>
<li>
<p>
<code>queueFamilyIndex</code> is the index of the queue family to which the
    queue belongs.
</p>
</li>
<li>
<p>
<code>queueIndex</code> is the index within this queue family of the queue to
    retrieve.
</p>
</li>
<li>
<p>
<code>pQueue</code> is a pointer to a <code>VkQueue</code> object that will be filled
    with the handle for the requested queue.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>queueFamilyIndex</code> <span role="normative">must</span> be one of the queue family indices
    specified when <code>device</code> was created, via the
    <code>VkDeviceQueueCreateInfo</code> structure
</p>
</li>
<li>
<p>
<code>queueIndex</code> <span role="normative">must</span> be less than the number of queues created for the
    specified queue family index when <code>device</code> was created, via the
    <code>queueCount</code> member of the <code>VkDeviceQueueCreateInfo</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pQueue</code> <span role="normative">must</span> be a pointer to a <code>VkQueue</code> handle
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect3">
<h4 id="devsandqueues-index">4.3.3. Queue Family Index</h4>
<div class="paragraph"><p>The queue family index is used in multiple places in Vulkan in order to tie
operations to a specific family of queues.</p></div>
<div class="paragraph"><p>When retrieving a handle to the queue via <code>vkGetDeviceQueue</code>, the queue
family index is used to select which queue family to retrieve the
<code>VkQueue</code> handle from as described in the previous section.</p></div>
<div class="paragraph"><p>When creating a <code>VkCommandPool</code> object (see
<a href="#commandbuffers-pools">Command Pools</a>), a queue family index is specified
in the <code><a href="#VkCommandPoolCreateInfo">VkCommandPoolCreateInfo</a></code> structure.
Command buffers from this pool <span role="normative">can</span> only be submitted on queues
corresponding to this queue family.</p></div>
<div class="paragraph"><p>When creating <code>VkImage</code> (see <a href="#resources-images">Images</a>) and
<code>VkBuffer</code> (see <a href="#resources-buffers">Buffers</a>) resources, a set of queue
families is included in the <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code> and
<code><a href="#VkBufferCreateInfo">VkBufferCreateInfo</a></code> structures to specify the queue families that <span role="normative">can</span>
access the resource.</p></div>
<div class="paragraph"><p>When inserting a <code><a href="#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a></code> or <code><a href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a></code>
(see <a href="#synchronization-events">[synchronization-events]</a>) a source and destination queue family index
is specified to allow the ownership of a buffer or image to be transferred
from one queue family to another.
See the <a href="#resources-sharing">Resource Sharing</a> section for details.</p></div>
</div>
<div class="sect3">
<h4 id="devsandqueues-priority">4.3.4. Queue Priority</h4>
<div class="paragraph"><p>Each queue is assigned a priority, as set in the
<code><a href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a></code> structures when creating the device.
The priority of each queue is a normalized floating point value between 0.0
and 1.0, which is then translated to a discrete priority level by the
implementation.
Higher values indicate a higher priority, with 0.0 being the lowest priority
and 1.0 being the highest.</p></div>
<div class="paragraph"><p>Within the same device, queues with higher priority <span role="normative">may</span> be allotted more
processing time than queues with lower priority.
The implementation makes no guarantees with regards to ordering or
scheduling among queues with the same priority, other than the constraints
defined by explicit scheduling primitives.
The implementation make no guarantees with regards to queues across
different devices.</p></div>
<div class="paragraph"><p>An implementation <span role="normative">may</span> allow a higher-priority queue to starve a
lower-priority queue on the same <code>VkDevice</code> until the higher-priority
queue has no further commands to execute.
The relationship of queue priorities <span role="normative">must</span> not cause queues on one VkDevice
to starve queues on another <code>VkDevice</code>.</p></div>
<div class="paragraph"><p>No specific guarantees are made about higher priority queues receiving more
processing time or better quality of service than lower priority queues.</p></div>
</div>
<div class="sect3">
<h4 id="devsandqueues-submission">4.3.5. Queue Submission</h4>
<div class="paragraph"><p>Work is submitted to a queue via <em>queue submission</em> commands such as
<code><a href="#vkQueueSubmit">vkQueueSubmit</a></code>.
Queue submission commands define a set of <em>queue operations</em> to be executed
by the underlying physical device, including synchronization with semaphores
and fences.</p></div>
<div class="paragraph"><p>Submission commands take as parameters a target queue, zero or more
<em>batches</em> of work, and an optional fence to signal upon completion.
Each batch consists of three distinct parts:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Zero or more semaphores to wait on before execution of the rest of the
    batch.
</p>
<div class="ulist"><ul>
<li>
<p>
If present, these describe a <a href="#synchronization-semaphores-waiting">semaphore wait operation</a>.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Zero or more work items to execute.
</p>
<div class="ulist"><ul>
<li>
<p>
If present, these describe a <em>queue operation</em> matching the work
     described.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Zero or more semaphores to signal upon completion of the work items.
</p>
<div class="ulist"><ul>
<li>
<p>
If present, these describe a <a href="#synchronization-semaphores-signaling">semaphore signal operation</a>.
</p>
</li>
</ul></div>
</li>
</ol></div>
<div class="paragraph"><p>If a fence is present in a queue submission, it describes a
<a href="#synchronization-fences-signaling">fence signal operation</a>.</p></div>
<div class="paragraph"><p>All work described by a queue submission command <span role="normative">must</span> be submitted to the
queue before the command returns.</p></div>
<div class="sect4">
<h5 id="devsandqueues-sparsebinding">Sparse Memory Binding</h5>
<div class="paragraph"><p>In Vulkan it is possible to sparsely bind memory to buffers and images as
described in the <a href="#sparsememory">Sparse Resource</a> chapter.
Sparse memory binding is a queue operation.
A queue whose flags include the <code>VK_QUEUE_SPARSE_BINDING_BIT</code> <span role="normative">must</span> be
able to support the mapping of a virtual address to a physical address on
the device.
This causes an update to the page table mappings on the device.
This update <span role="normative">must</span> be synchronized on a queue to avoid corrupting page table
mappings during execution of graphics commands.
By binding the sparse memory resources on queues, all commands that are
dependent on the updated bindings are synchronized to only execute after the
binding is updated.
See the <a href="#synchronization">Synchronization and Cache Control</a> chapter for
how this synchronization is accomplished.</p></div>
</div>
</div>
<div class="sect3">
<h4 id="devsandqueues-queuedestruction">4.3.6. Queue Destruction</h4>
<div class="paragraph"><p>Queues are created along with a logical device during <code>vkCreateDevice</code>.
All queues associated with a logical device are destroyed when
<code>vkDestroyDevice</code> is called on that device.</p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="commandbuffers">5. Command Buffers</h2>
<div class="sectionbody">
<div class="paragraph"><p>Command buffers are objects used to record commands which <span role="normative">can</span> be
subsequently submitted to a device queue for execution.
There are two levels of command buffers - <em>primary command buffers</em>, which
<span role="normative">can</span> execute secondary command buffers, and which are submitted to queues,
and <em>secondary command buffers</em>, which <span role="normative">can</span> be executed by primary command
buffers, and which are not directly submitted to queues.</p></div>
<div class="paragraph"><p>Command buffers are represented by <code>VkCommandBuffer</code> handles:</p></div>
<div class="listingblock">
<a id="VkCommandBuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_HANDLE</span></span><span style="color: #990000">(</span>VkCommandBuffer<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>Recorded commands include commands to bind pipelines and descriptor sets to
the command buffer, commands to modify dynamic state, commands to draw (for
graphics rendering), commands to dispatch (for compute), commands to execute
secondary command buffers (for primary command buffers only), commands to
copy buffers and images, and other commands.</p></div>
<div class="paragraph" id="commandbuffers-statereset"><p>Each command buffer manages state independently of other command buffers.
There is no inheritance of state across primary and secondary command
buffers, or between secondary command buffers.
When a command buffer begins recording, all state in that command buffer is
undefined.
When secondary command buffer(s) are recorded to execute on a primary
command buffer, the secondary command buffer inherits no state from the
primary command buffer, and all state of the primary command buffer is
undefined after an execute secondary command buffer command is recorded.
There is one exception to this rule - if the primary command buffer is
inside a render pass instance, then the render pass and subpass state is not
disturbed by executing secondary command buffers.
Whenever the state of a command buffer is undefined, the application <span role="normative">must</span>
set all relevant state on the command buffer before any state dependent
commands such as draws and dispatches are recorded, otherwise the behavior
of executing that command buffer is undefined.</p></div>
<div class="paragraph"><p>Unless otherwise specified, and without explicit synchronization, the
various commands submitted to a queue via command buffers <span role="normative">may</span> execute in
arbitrary order relative to each other, and/or concurrently.
Also, the memory side-effects of those commands <span role="normative">may</span> not be directly visible
to other commands without memory barriers.
This is true within a command buffer, and across command buffers submitted
to a given queue.
See <a href="#synchronization-events">[synchronization-events]</a>, <a href="#synchronization-pipeline-barriers">[synchronization-pipeline-barriers]</a> and
<a href="#synchronization-memory-barriers">[synchronization-memory-barriers]</a> about synchronization primitives
suitable to guarantee execution order and side-effect visibility between
commands on a given queue.</p></div>
<div class="paragraph"><p>Each command buffer is always in one of three states:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Initial state</em>: Before <code><a href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></code>.
    Either <code><a href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></code> has never been called, or the command
    buffer has been reset since it last recorded commands.
</p>
</li>
<li>
<p>
<em>Recording state</em>: Between <code><a href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></code> and
    <code><a href="#vkEndCommandBuffer">vkEndCommandBuffer</a></code>.
    The command buffer is in a state where it <span role="normative">can</span> record commands.
</p>
</li>
<li>
<p>
<em>Executable state</em>: After <code><a href="#vkEndCommandBuffer">vkEndCommandBuffer</a></code>.
    The command buffer is in a state where it has finished recording
    commands and <span role="normative">can</span> be executed.
</p>
</li>
</ul></div>
<div class="paragraph"><p><em>Resetting</em> a command buffer is an operation that discards any previously
recorded commands and puts a command buffer in the initial state.
Resetting occurs as a result of <code><a href="#vkResetCommandBuffer">vkResetCommandBuffer</a></code> or
<code><a href="#vkResetCommandPool">vkResetCommandPool</a></code>, or as part of <code><a href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></code> (which
additionally puts the command buffer in the recording state).</p></div>
<div class="sect2">
<h3 id="commandbuffers-pools">5.1. Command Pools</h3>
<div class="paragraph"><p>Command pools are opaque objects that command buffer memory is allocated
from, and which allow the implementation to amortize the cost of resource
creation across multiple command buffers.
Command pools are application-synchronized, meaning that a command pool
<span role="normative">must</span> not be used concurrently in multiple threads.
That includes use via recording commands on any command buffers allocated
from the pool, as well as operations that allocate, free, and reset command
buffers or the pool itself.</p></div>
<div class="paragraph"><p>Command pools are represented by <code>VkCommandPool</code> handles:</p></div>
<div class="listingblock">
<a id="VkCommandPool"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkCommandPool<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create a command pool, call:</p></div>
<div class="listingblock">
<a id="vkCreateCommandPool"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateCommandPool</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkCommandPoolCreateInfo<span style="color: #990000">*</span>              pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkCommandPool<span style="color: #990000">*</span>                              pCommandPool<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the command pool.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> contains information used to create the command pool.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pCommandPool</code> points to a <code>VkCommandPool</code> handle in which the
    created pool is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkCommandPoolCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pCommandPool</code> <span role="normative">must</span> be a pointer to a <code>VkCommandPool</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkCommandPoolCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkCommandPoolCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkCommandPoolCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>             sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                 pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkCommandPoolCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                    queueFamilyIndex<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkCommandPoolCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask indicating usage behavior for the pool and
    command buffers allocated from it.
    Bits which <span role="normative">can</span> be set include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkCommandPoolCreateFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkCommandPoolCreateFlagBits <span style="color: #FF0000">{</span>
    VK_COMMAND_POOL_CREATE_TRANSIENT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkCommandPoolCreateFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_COMMAND_POOL_CREATE_TRANSIENT_BIT</code> indicates that command
     buffers allocated from the pool will be short-lived, meaning that they
     will be reset or freed in a relatively short timeframe.
     This flag <span role="normative">may</span> be used by the implementation to control memory
     allocation behavior within the pool.
</p>
</li>
<li>
<p>
<code>VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</code> controls whether
     command buffers allocated from the pool <span role="normative">can</span> be individually reset.
     If this flag is set, individual command buffers allocated from the pool
     <span role="normative">can</span> be reset either explicitly, by calling <code>vkResetCommandBuffer</code>,
     or implicitly, by calling <code>vkBeginCommandBuffer</code> on an executable
     command buffer.
     If this flag is not set, then <code>vkResetCommandBuffer</code> and
     <code>vkBeginCommandBuffer</code> (on an executable command buffer) <span role="normative">must</span> not
     be called on the command buffers allocated from the pool, and they <span role="normative">can</span>
     only be reset in bulk by calling <code>vkResetCommandPool</code>.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>queueFamilyIndex</code> designates a queue family as described in section
    <a href="#devsandqueues-queueprops">Queue Family Properties</a>.
    All command buffers allocated from this command pool <span role="normative">must</span> be submitted
    on queues from the same queue family.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>queueFamilyIndex</code> <span role="normative">must</span> be the index of a queue family available in
    the calling command&#8217;s <code>device</code> parameter
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_COMMAND_POOL_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkCommandPoolCreateFlagBits">VkCommandPoolCreateFlagBits</a></code> values
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To trim a command pool, call:</p></div>
<div class="listingblock">
<a id="vkTrimCommandPoolKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkTrimCommandPoolKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkCommandPool</span>                               commandPool<span style="color: #990000">,</span>
    <span style="color: #008080">VkCommandPoolTrimFlagsKHR</span>                   flags<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the command pool.
</p>
</li>
<li>
<p>
<code>commandPool</code> is the command pool to trim.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Trimming a command pool recycles unused memory from the command pool back to
the system.
Command buffers allocated from the pool are not affected by the command.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>This command provides applications with some control over the internal
memory allocations used by command pools.</p></div>
<div class="paragraph"><p>Unused memory normally arises from command buffers that have been recorded
and later reset, such that they are no longer using the memory.
On reset, a command buffer can return memory to its command pool, but the
only way to release memory from a command pool to the system requires
calling <code><a href="#vkResetCommandPool">vkResetCommandPool</a></code>, which cannot be executed while any command
buffers from that pool are still in use.
Subsequent recording operations into command buffers will re-use this memory
but since total memory requirements fluctuate over time, unused memory can
accumulate.</p></div>
<div class="paragraph"><p>In this situation, trimming a command pool <span role="normative">may</span> be useful to return unused
memory back to the system, returning the total outstanding memory allocated
by the pool back to a more "average" value.</p></div>
<div class="paragraph"><p>Implementations utilize many internal allocation strategies that make it
impossible to guarantee that all unused memory is released back to the
system.
For instance, an implementation of a command pool <span role="normative">may</span> involve allocating
memory in bulk from the system and sub-allocating from that memory.
In such an implementation any live command buffer that holds a reference to
a bulk allocation would prevent that allocation from being freed, even if
only a small proportion of the bulk allocation is in use.</p></div>
<div class="paragraph"><p>In most cases trimming will result in a reduction in allocated but unused
memory, but it does not guarantee the "ideal" behaviour.</p></div>
<div class="paragraph"><p>Trimming <span role="normative">may</span> be an expensive operation, and <span role="normative">should</span> not be called
frequently.
Trimming <span role="normative">should</span> be treated as a way to relieve memory pressure after
application-known points when there exists enough unused memory that the
cost of trimming is "worth" it.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>commandPool</code> <span role="normative">must</span> be a valid <code>VkCommandPool</code> handle
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>commandPool</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandPool</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To reset a command pool, call:</p></div>
<div class="listingblock">
<a id="vkResetCommandPool"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkResetCommandPool</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkCommandPool</span>                               commandPool<span style="color: #990000">,</span>
    <span style="color: #008080">VkCommandPoolResetFlags</span>                     flags<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the command pool.
</p>
</li>
<li>
<p>
<code>commandPool</code> is the command pool to reset.
</p>
</li>
<li>
<p>
<code>flags</code> contains additional flags controlling the behavior of the
    reset.
    Bits which <span role="normative">can</span> be set include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkCommandPoolResetFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkCommandPoolResetFlagBits <span style="color: #FF0000">{</span>
    VK_COMMAND_POOL_RESET_RELEASE_RESOURCES_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkCommandPoolResetFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="paragraph"><p>If <code>flags</code> includes <code>VK_COMMAND_POOL_RESET_RELEASE_RESOURCES_BIT</code>,
resetting a command pool recycles all of the resources from the command pool
back to the system.</p></div>
</li>
</ul></div>
<div class="paragraph"><p>Resetting a command pool recycles all of the resources from all of the
command buffers allocated from the command pool back to the command pool.
All command buffers that have been allocated from the command pool are put
in the initial state.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All <code>VkCommandBuffer</code> objects allocated from <code>commandPool</code> <span role="normative">must</span>
    not currently be pending execution
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>commandPool</code> <span role="normative">must</span> be a valid <code>VkCommandPool</code> handle
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkCommandPoolResetFlagBits">VkCommandPoolResetFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>commandPool</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandPool</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>To destroy a command pool, call:</p></div>
<div class="listingblock">
<a id="vkDestroyCommandPool"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyCommandPool</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkCommandPool</span>                               commandPool<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the command pool.
</p>
</li>
<li>
<p>
<code>commandPool</code> is the handle of the command pool to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When a pool is destroyed, all command buffers allocated from the pool are
implicitly freed and become invalid.
Command buffers allocated from a given pool do not need to be freed before
destroying that command pool.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All <code>VkCommandBuffer</code> objects allocated from <code>commandPool</code> <span role="normative">must</span>
    not be pending execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>commandPool</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>commandPool</code>
    was created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>commandPool</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>commandPool</code> <span role="normative">must</span> be a valid <code>VkCommandPool</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>commandPool</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandPool</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="commandbuffer-allocation">5.2. Command Buffer Allocation and Management</h3>
<div class="paragraph"><p>To allocate command buffers, call:</p></div>
<div class="listingblock">
<a id="vkAllocateCommandBuffers"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkAllocateCommandBuffers</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkCommandBufferAllocateInfo<span style="color: #990000">*</span>          pAllocateInfo<span style="color: #990000">,</span>
    VkCommandBuffer<span style="color: #990000">*</span>                            pCommandBuffers<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the command pool.
</p>
</li>
<li>
<p>
<code>pAllocateInfo</code> is a pointer to an instance of the
    <code>VkCommandBufferAllocateInfo</code> structure describing parameters of the
    allocation.
</p>
</li>
<li>
<p>
<code>pCommandBuffers</code> is a pointer to an array of <code>VkCommandBuffer</code>
    handles in which the resulting command buffer objects are returned.
    The array <span role="normative">must</span> be at least the length specified by the
    <code>commandBufferCount</code> member of <code>pAllocateInfo</code>.
    Each allocated command buffer begins in the initial state.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkAllocateCommandBuffers</code> <span role="normative">can</span> be used to create multiple command
buffers.
If the creation of any of those command buffers fails, the implementation
<span role="normative">must</span> destroy all successfully created command buffer objects from this
command, set all entries of the <code>pCommandBuffers</code> array to
<code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> and return the error.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pAllocateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkCommandBufferAllocateInfo</code> structure
</p>
</li>
<li>
<p>
<code>pCommandBuffers</code> <span role="normative">must</span> be a pointer to an array of <code>pAllocateInfo</code>::commandBufferCount <code>VkCommandBuffer</code> handles
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>pAllocateInfo</code>::commandPool <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkCommandBufferAllocateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkCommandBufferAllocateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkCommandBufferAllocateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>         sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>             pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkCommandPool</span>           commandPool<span style="color: #990000">;</span>
    <span style="color: #008080">VkCommandBufferLevel</span>    level<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                commandBufferCount<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkCommandBufferAllocateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>commandPool</code> is the name of the command pool that the command
    buffers allocate their memory from.
</p>
</li>
<li>
<p>
<code>level</code> determines whether the command buffers are primary or
    secondary command buffers.
    Possible values include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkCommandBufferLevel"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkCommandBufferLevel <span style="color: #FF0000">{</span>
    VK_COMMAND_BUFFER_LEVEL_PRIMARY <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_COMMAND_BUFFER_LEVEL_SECONDARY <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkCommandBufferLevel<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
</li>
<li>
<p>
<code>commandBufferCount</code> is the number of command buffers to allocate
    from the pool.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBufferCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>commandPool</code> <span role="normative">must</span> be a valid <code>VkCommandPool</code> handle
</p>
</li>
<li>
<p>
<code>level</code> <span role="normative">must</span> be a valid <code><a href="#VkCommandBufferLevel">VkCommandBufferLevel</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To reset command buffers, call:</p></div>
<div class="listingblock">
<a id="vkResetCommandBuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkResetCommandBuffer</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkCommandBufferResetFlags</span>                   flags<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer to reset.
    The command buffer <span role="normative">can</span> be in any state, and is put in the initial
    state.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask controlling the reset operation.
    Bits which <span role="normative">can</span> be set include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkCommandBufferResetFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkCommandBufferResetFlagBits <span style="color: #FF0000">{</span>
    VK_COMMAND_BUFFER_RESET_RELEASE_RESOURCES_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkCommandBufferResetFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="paragraph"><p>If <code>flags</code> includes <code>VK_COMMAND_BUFFER_RESET_RELEASE_RESOURCES_BIT</code>,
then most or all memory resources currently owned by the command buffer
<span role="normative">should</span> be returned to the parent command pool.
If this flag is not set, then the command buffer <span role="normative">may</span> hold onto memory
resources and reuse them when recording commands.</p></div>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> not currently be pending execution
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> have been allocated from a pool that was
    created with the <code>VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkCommandBufferResetFlagBits">VkCommandBufferResetFlagBits</a></code> values
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>To free command buffers, call:</p></div>
<div class="listingblock">
<a id="vkFreeCommandBuffers"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkFreeCommandBuffers</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkCommandPool</span>                               commandPool<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    commandBufferCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkCommandBuffer<span style="color: #990000">*</span>                      pCommandBuffers<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the command pool.
</p>
</li>
<li>
<p>
<code>commandPool</code> is the handle of the command pool that the command
    buffers were allocated from.
</p>
</li>
<li>
<p>
<code>commandBufferCount</code> is the length of the <code>pCommandBuffers</code>
    array.
</p>
</li>
<li>
<p>
<code>pCommandBuffers</code> is an array of handles of command buffers to free.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All elements of <code>pCommandBuffers</code> <span role="normative">must</span> not be pending execution
</p>
</li>
<li>
<p>
<code>pCommandBuffers</code> <span role="normative">must</span> be a pointer to an array of
    <code>commandBufferCount</code> <code>VkCommandBuffer</code> handles, each element of
    which <span role="normative">must</span> either be a valid handle or <code>NULL</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>commandPool</code> <span role="normative">must</span> be a valid <code>VkCommandPool</code> handle
</p>
</li>
<li>
<p>
<code>commandBufferCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>commandPool</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
<li>
<p>
Each element of <code>pCommandBuffers</code> that is a valid handle <span role="normative">must</span> have been created, allocated, or retrieved from <code>commandPool</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandPool</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to each member of <code>pCommandBuffers</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="commandbuffers-recording">5.3. Command Buffer Recording</h3>
<div class="paragraph"><p>To begin recording a command buffer, call:</p></div>
<div class="listingblock">
<a id="vkBeginCommandBuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkBeginCommandBuffer</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkCommandBufferBeginInfo<span style="color: #990000">*</span>             pBeginInfo<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the handle of the command buffer which is to be
    put in the recording state.
</p>
</li>
<li>
<p>
<code>pBeginInfo</code> is an instance of the <code>VkCommandBufferBeginInfo</code>
    structure, which defines additional information about how the command
    buffer begins recording.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> not be in the recording state
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> not currently be pending execution
</p>
</li>
<li>
<p>
If <code>commandBuffer</code> was allocated from a <code>VkCommandPool</code> which
    did not have the <code>VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</code>
    flag set, <code>commandBuffer</code> <span role="normative">must</span> be in the initial state
</p>
</li>
<li>
<p>
If <code>commandBuffer</code> is a secondary command buffer, the
    <code>pInheritanceInfo</code> member of <code>pBeginInfo</code> <span role="normative">must</span> be a valid
    <code>VkCommandBufferInheritanceInfo</code> structure
</p>
</li>
<li>
<p>
If <code>commandBuffer</code> is a secondary command buffer and either the
    <code>occlusionQueryEnable</code> member of the <code>pInheritanceInfo</code> member
    of <code>pBeginInfo</code> is <code>VK_FALSE</code>, or the precise occlusion queries
    feature is not enabled, the <code>queryFlags</code> member of the
    <code>pInheritanceInfo</code> member <code>pBeginInfo</code> <span role="normative">must</span> not contain
    <code>VK_QUERY_CONTROL_PRECISE_BIT</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pBeginInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkCommandBufferBeginInfo</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkCommandBufferBeginInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkCommandBufferBeginInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkCommandBufferBeginInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                          sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                              pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkCommandBufferUsageFlags</span>                flags<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkCommandBufferInheritanceInfo<span style="color: #990000">*</span>    pInheritanceInfo<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkCommandBufferBeginInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask indicating usage behavior for the command
    buffer.
    Bits which <span role="normative">can</span> be set include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkCommandBufferUsageFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkCommandBufferUsageFlagBits <span style="color: #FF0000">{</span>
    VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkCommandBufferUsageFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT</code> indicates that each
     recording of the command buffer will only be submitted once, and the
     command buffer will be reset and recorded again between each
     submission.
</p>
</li>
<li>
<p>
<code>VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code> indicates that a
     secondary command buffer is considered to be entirely inside a render
     pass.
     If this is a primary command buffer, then this bit is ignored.
</p>
</li>
<li>
<p>
Setting <code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> allows the
     command buffer to be resubmitted to a queue or recorded into a primary
     command buffer while it is pending execution.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>pInheritanceInfo</code> is a pointer to a
    <code>VkCommandBufferInheritanceInfo</code> structure, which is used if
    <code>commandBuffer</code> is a secondary command buffer.
    If this is a primary command buffer, then this value is ignored.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>flags</code> contains
    <code>VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code>, the
    <code>renderPass</code> member of <code>pInheritanceInfo</code> <span role="normative">must</span> be a valid
    <code>VkRenderPass</code>
</p>
</li>
<li>
<p>
If <code>flags</code> contains
    <code>VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code>, the
    <code>subpass</code> member of <code>pInheritanceInfo</code> <span role="normative">must</span> be a valid subpass
    index within the <code>renderPass</code> member of <code>pInheritanceInfo</code>
</p>
</li>
<li>
<p>
If <code>flags</code> contains
    <code>VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code>, the
    <code>framebuffer</code> member of <code>pInheritanceInfo</code> <span role="normative">must</span> be either
    <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, or a valid <code>VkFramebuffer</code> that is compatible
    with the <code>renderPass</code> member of <code>pInheritanceInfo</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkCommandBufferUsageFlagBits">VkCommandBufferUsageFlagBits</a></code> values
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>If the command buffer is a secondary command buffer, then the
<code>VkCommandBufferInheritanceInfo</code> structure defines any state that will
be inherited from the primary command buffer:</p></div>
<div class="listingblock">
<a id="VkCommandBufferInheritanceInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkCommandBufferInheritanceInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                  sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                      pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkRenderPass</span>                     renderPass<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                         subpass<span style="color: #990000">;</span>
    <span style="color: #008080">VkFramebuffer</span>                    framebuffer<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                         occlusionQueryEnable<span style="color: #990000">;</span>
    <span style="color: #008080">VkQueryControlFlags</span>              queryFlags<span style="color: #990000">;</span>
    <span style="color: #008080">VkQueryPipelineStatisticFlags</span>    pipelineStatistics<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkCommandBufferInheritanceInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>renderPass</code> is a <code>VkRenderPass</code> object defining which render
    passes the <code>VkCommandBuffer</code> will be <a href="#renderpass-compatibility">compatible</a> with and <span role="normative">can</span> be executed within.
    If the <code>VkCommandBuffer</code> will not be executed within a render pass
    instance, <code>renderPass</code> is ignored.
</p>
</li>
<li>
<p>
<code>subpass</code> is the index of the subpass within the render pass
    instance that the <code>VkCommandBuffer</code> will be executed within.
    If the <code>VkCommandBuffer</code> will not be executed within a render pass
    instance, <code>subpass</code> is ignored.
</p>
</li>
<li>
<p>
<code>framebuffer</code> optionally refers to the <code>VkFramebuffer</code> object
    that the <code>VkCommandBuffer</code> will be rendering to if it is executed
    within a render pass instance.
    It <span role="normative">can</span> be <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> if the framebuffer is not known, or if
    the <code>VkCommandBuffer</code> will not be executed within a render pass
    instance.
</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Specifying the exact framebuffer that the secondary command buffer will be
executed with <span role="normative">may</span> result in better performance at command buffer execution
time.</p></div>
</td>
</tr></table>
</div>
</li>
<li>
<p>
<code>occlusionQueryEnable</code> indicates whether the command buffer <span role="normative">can</span> be
    executed while an occlusion query is active in the primary command
    buffer.
    If this is <code>VK_TRUE</code>, then this command buffer <span role="normative">can</span> be executed
    whether the primary command buffer has an occlusion query active or not.
    If this is <code>VK_FALSE</code>, then the primary command buffer <span role="normative">must</span> not
    have an occlusion query active.
</p>
</li>
<li>
<p>
<code>queryFlags</code> indicates the query flags that <span role="normative">can</span> be used by an
    active occlusion query in the primary command buffer when this secondary
    command buffer is executed.
    If this value includes the <code>VK_QUERY_CONTROL_PRECISE_BIT</code> bit, then
    the active query <span role="normative">can</span> return boolean results or actual sample counts.
    If this bit is not set, then the active query <span role="normative">must</span> not use the
    <code>VK_QUERY_CONTROL_PRECISE_BIT</code> bit.
</p>
</li>
<li>
<p>
<code>pipelineStatistics</code> indicates the set of pipeline statistics that
    <span role="normative">can</span> be counted by an active query in the primary command buffer when
    this secondary command buffer is executed.
    If this value includes a given bit, then this command buffer <span role="normative">can</span> be
    executed whether the primary command buffer has a pipeline statistics
    query active that includes this bit or not.
    If this value excludes a given bit, then the active pipeline statistics
    query <span role="normative">must</span> not be from a query pool that counts that statistic.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <a href="#features-features-inheritedQueries">inherited queries</a> feature
    is not enabled, <code>occlusionQueryEnable</code> <span role="normative">must</span> be <code>VK_FALSE</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-inheritedQueries">inherited queries</a> feature
    is enabled, <code>queryFlags</code> <span role="normative">must</span> be a valid combination of
    <code><a href="#VkQueryControlFlagBits">VkQueryControlFlagBits</a></code> values
</p>
</li>
<li>
<p>
If the <a href="#features-features-pipelineStatisticsQuery">pipeline statistics     queries</a> feature is not enabled, <code>pipelineStatistics</code> <span role="normative">must</span> be
    <code>0</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_INHERITANCE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
Both of <code>framebuffer</code>, and <code>renderPass</code> that are valid handles <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>A primary command buffer is considered to be pending execution from the time
it is submitted via <code>vkQueueSubmit</code> until that submission completes.</p></div>
<div class="paragraph"><p>A secondary command buffer is considered to be pending execution from the
time its execution is recorded into a primary buffer (via
<code>vkCmdExecuteCommands</code>) until the final time that primary buffer&#8217;s
submission to a queue completes.
If, after the primary buffer completes, the secondary command buffer is
recorded to execute on a different primary buffer, the first primary buffer
<span role="normative">must</span> not be resubmitted until after it is reset with
<code><a href="#vkResetCommandBuffer">vkResetCommandBuffer</a></code> unless the secondary command buffer was recorded
with <code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code>.</p></div>
<div class="paragraph"><p>If <code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> is not set on a
secondary command buffer, that command buffer <span role="normative">must</span> not be used more than
once in a given primary command buffer.
Furthermore, if a secondary command buffer without
<code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> set is recorded to
execute in a primary command buffer with
<code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> set, the primary command
buffer <span role="normative">must</span> not be pending execution more than once at a time.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>On some implementations, not using the
<code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> bit enables command
buffers to be patched in-place if needed, rather than creating a copy of the
command buffer.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>If a command buffer is in the executable state and the command buffer was
allocated from a command pool with the
<code>VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</code> flag set, then
<code>vkBeginCommandBuffer</code> implicitly resets the command buffer, behaving as
if <code>vkResetCommandBuffer</code> had been called with
<code>VK_COMMAND_BUFFER_RESET_RELEASE_RESOURCES_BIT</code> not set.
It then puts the command buffer in the recording state.</p></div>
<div class="paragraph"><p>Once recording starts, an application records a sequence of commands
(<code>vkCmd*</code>) to set state in the command buffer, draw, dispatch, and other
commands.</p></div>
<div class="paragraph"><p>To complete recording of a command buffer, call:</p></div>
<div class="listingblock">
<a id="vkEndCommandBuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkEndCommandBuffer</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer to complete recording.
    The command buffer <span role="normative">must</span> have been in the recording state, and is moved
    to the executable state.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If there was an error during recording, the application will be notified by
an unsuccessful return code returned by <code>vkEndCommandBuffer</code>.
If the application wishes to further use the command buffer, the command
buffer <span role="normative">must</span> be reset.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
If <code>commandBuffer</code> is a primary command buffer, there <span role="normative">must</span> not be
    an active render pass instance
</p>
</li>
<li>
<p>
All queries made <a href="#queries-operation-active">active</a> during the
    recording of <code>commandBuffer</code> <span role="normative">must</span> have been made inactive
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>When a command buffer is in the executable state, it <span role="normative">can</span> be submitted to a
queue for execution.</p></div>
</div>
<div class="sect2">
<h3 id="commandbuffers-submission">5.4. Command Buffer Submission</h3>
<div class="paragraph"><p>To submit command buffers to a queue, call:</p></div>
<div class="listingblock">
<a id="vkQueueSubmit"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkQueueSubmit</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkQueue</span>                                     queue<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    submitCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSubmitInfo<span style="color: #990000">*</span>                         pSubmits<span style="color: #990000">,</span>
    <span style="color: #008080">VkFence</span>                                     fence<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>queue</code> is the queue that the command buffers will be submitted to.
</p>
</li>
<li>
<p>
<code>submitCount</code> is the number of elements in the <code>pSubmits</code> array.
</p>
</li>
<li>
<p>
<code>pSubmits</code> is a pointer to an array of <code><a href="#VkSubmitInfo">VkSubmitInfo</a></code>
    structures, each specifying a command buffer submission batch.
</p>
</li>
<li>
<p>
<code>fence</code> is an optional handle to a fence to be signaled.
    If <code>fence</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, it defines a
    <a href="#synchronization-fences-signaling">fence signal operation</a>.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Submission can be a high overhead operation, and applications <span role="normative">should</span>
attempt to batch work together into as few calls to <code>vkQueueSubmit</code> as
possible.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p><code>vkQueueSubmit</code> is a <a href="#devsandqueues-submission">queue submission command</a>, with each batch defined by an element of <code>pSubmits</code> as an
instance of the <code><a href="#VkSubmitInfo">VkSubmitInfo</a></code> structure.
Batches begin execution in the order they appear in <code>pSubmits</code>, but <span role="normative">may</span>
complete out of order.</p></div>
<div class="paragraph"><p>Fence and semaphore operations submitted with <code><a href="#vkQueueSubmit">vkQueueSubmit</a></code> have
additional ordering constraints compared to other submission commands, with
dependencies involving previous and subsequent queue operations.
Information about these additional constraints can be found in the
<a href="#synchronization-semaphores">semaphore</a> and <a href="#synchronization-fences">fence</a> sections of <a href="#synchronization">the synchronization chapter</a>.</p></div>
<div class="paragraph"><p>Details on the interaction of <code>pWaitDstStageMask</code> with synchronization
are described in the <a href="#synchronization-semaphores-waiting">semaphore wait operation</a> section of <a href="#synchronization">the synchronization chapter</a>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>fence</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>fence</code> <span role="normative">must</span> be
    unsignaled
</p>
</li>
<li>
<p>
If <code>fence</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>fence</code> <span role="normative">must</span> not be
    associated with any other queue command that has not yet completed
    execution on that queue
</p>
</li>
<li>
<p>
Any calls to <code><a href="#vkCmdSetEvent">vkCmdSetEvent</a></code>, <code><a href="#vkCmdResetEvent">vkCmdResetEvent</a></code> or
    <code><a href="#vkCmdWaitEvents">vkCmdWaitEvents</a></code> that have been recorded into any of the command
    buffer elements of the <code>pCommandBuffers</code> member of any element of
    <code>pSubmits</code>, <span role="normative">must</span> not reference any <code><a href="#VkEvent">VkEvent</a></code> that is referenced
    by any of those commands that is pending execution on another queue.
</p>
</li>
<li>
<p>
Any stage flag included in any element of the <code>pWaitDstStageMask</code>
    member of any element of <code>pSubmits</code> <span role="normative">must</span> be a pipeline stage
    supported by one of the capabilities of <code>queue</code>, as specified in the
    <a href="#synchronization-pipeline-stages-supported">table of supported pipeline     stages</a>.
</p>
</li>
<li>
<p>
Any given element of the <code>pSignalSemaphores</code> member of any element
    of <code>pSubmits</code> <span role="normative">must</span> be unsignaled when the semaphore signal
    operation it defines is executed on the device
</p>
</li>
<li>
<p>
When a semaphore unsignal operation defined by any element of the
    <code>pWaitSemaphores</code> member of any element of <code>pSubmits</code> executes
    on <code>queue</code>, no other queue <span role="normative">must</span> be waiting on the same semaphore.
</p>
</li>
<li>
<p>
All elements of the <code>pWaitSemaphores</code> member of all elements of
    <code>pSubmits</code> <span role="normative">must</span> be semaphores that are signaled, or have
    <a href="#synchronization-semaphores-signaling">semaphore signal operations</a>
    previously submitted for execution.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>queue</code> <span role="normative">must</span> be a valid <code>VkQueue</code> handle
</p>
</li>
<li>
<p>
If <code>submitCount</code> is not <span class="monospaced">0</span>, <code>pSubmits</code> <span role="normative">must</span> be a pointer to an array of <code>submitCount</code> valid <code>VkSubmitInfo</code> structures
</p>
</li>
<li>
<p>
If <code>fence</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>fence</code> <span role="normative">must</span> be a valid <code>VkFence</code> handle
</p>
</li>
<li>
<p>
Both of <code>fence</code>, and <code>queue</code> that are valid handles <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>queue</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>pSubmits</code>[].pWaitSemaphores[] <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>pSubmits</code>[].pSignalSemaphores[] <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>fence</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkSubmitInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSubmitInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSubmitInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                    pNext<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                       waitSemaphoreCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSemaphore<span style="color: #990000">*</span>             pWaitSemaphores<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineStageFlags<span style="color: #990000">*</span>    pWaitDstStageMask<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                       commandBufferCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkCommandBuffer<span style="color: #990000">*</span>         pCommandBuffers<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                       signalSemaphoreCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSemaphore<span style="color: #990000">*</span>             pSignalSemaphores<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSubmitInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>waitSemaphoreCount</code> is the number of semaphores upon which to wait
    before executing the command buffers for the batch.
</p>
</li>
<li>
<p>
<code>pWaitSemaphores</code> is a pointer to an array of semaphores upon which
    to wait before the command buffers for this batch begin execution.
    If semaphores to wait on are provided, they define a
    <a href="#synchronization-semaphores-waiting">semaphore wait operation</a>.
</p>
</li>
<li>
<p>
<code>pWaitDstStageMask</code> is a pointer to an array of pipeline stages at
    which each corresponding semaphore wait will occur.
</p>
</li>
<li>
<p>
<code>commandBufferCount</code> is the number of command buffers to execute in
    the batch.
</p>
</li>
<li>
<p>
<code>pCommandBuffers</code> is a pointer to an array of command buffers to
    execute in the batch.
    The command buffers submitted in a batch begin execution in the order
    they appear in <code>pCommandBuffers</code>, but <span role="normative">may</span> complete out of order.
</p>
</li>
<li>
<p>
<code>signalSemaphoreCount</code> is the number of semaphores to be signaled
    once the commands specified in <code>pCommandBuffers</code> have completed
    execution.
</p>
</li>
<li>
<p>
<code>pSignalSemaphores</code> is a pointer to an array of semaphores which
    will be signaled when the command buffers for this batch have completed
    execution.
    If semaphores to be signaled are provided, they define a
    <a href="#synchronization-semaphores-signaling">semaphore signal operation</a>.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
Any given element of <code>pCommandBuffers</code> <span role="normative">must</span> either have been
    recorded with the <code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code>, or
    not currently be executing on the device
</p>
</li>
<li>
<p>
Any given element of <code>pCommandBuffers</code> <span role="normative">must</span> be in the executable
    state
</p>
</li>
<li>
<p>
If any given element of <code>pCommandBuffers</code> contains commands that
    execute secondary command buffers, those secondary command buffers <span role="normative">must</span>
    have been recorded with the
    <code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code>, or not currently be
    executing on the device
</p>
</li>
<li>
<p>
If any given element of <code>pCommandBuffers</code> was recorded with
    <code>VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT</code>, it <span role="normative">must</span> not have
    been previously submitted without re-recording that command buffer
</p>
</li>
<li>
<p>
If any given element of <code>pCommandBuffers</code> contains commands that
    execute secondary command buffers recorded with
    <code>VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT</code>, each such secondary
    command buffer <span role="normative">must</span> not have been previously submitted without
    re-recording that command buffer
</p>
</li>
<li>
<p>
Any given element of <code>pCommandBuffers</code> <span role="normative">must</span> not contain commands
    that execute a secondary command buffer, if that secondary command
    buffer has been recorded in another primary command buffer after it was
    recorded into this <code>VkCommandBuffer</code>
</p>
</li>
<li>
<p>
Any given element of <code>pCommandBuffers</code> <span role="normative">must</span> have been allocated
    from a <code>VkCommandPool</code> that was created for the same queue family
    that the calling command&#8217;s <code>queue</code> belongs to
</p>
</li>
<li>
<p>
Any given element of <code>pCommandBuffers</code> <span role="normative">must</span> not have been allocated
    with <code>VK_COMMAND_BUFFER_LEVEL_SECONDARY</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-geometryShader">geometry shaders</a> feature is
    not enabled, any given element of <code>pWaitDstStageMask</code> <span role="normative">must</span> not
    contain <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-tessellationShader">tessellation shaders</a>
    feature is not enabled, any given element of <code>pWaitDstStageMask</code>
    <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
    <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</p>
</li>
<li>
<p>
Any given element of <code>pWaitDstStageMask</code> <span role="normative">must</span> not include
    <code>VK_PIPELINE_STAGE_HOST_BIT</code>.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_SUBMIT_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
If <code>waitSemaphoreCount</code> is not <span class="monospaced">0</span>, <code>pWaitSemaphores</code> <span role="normative">must</span> be a pointer to an array of <code>waitSemaphoreCount</code> valid <code>VkSemaphore</code> handles
</p>
</li>
<li>
<p>
If <code>waitSemaphoreCount</code> is not <span class="monospaced">0</span>, <code>pWaitDstStageMask</code> <span role="normative">must</span> be a pointer to an array of <code>waitSemaphoreCount</code> valid combinations of <code><a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</p>
</li>
<li>
<p>
Each element of <code>pWaitDstStageMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>commandBufferCount</code> is not <span class="monospaced">0</span>, <code>pCommandBuffers</code> <span role="normative">must</span> be a pointer to an array of <code>commandBufferCount</code> valid <code>VkCommandBuffer</code> handles
</p>
</li>
<li>
<p>
If <code>signalSemaphoreCount</code> is not <span class="monospaced">0</span>, <code>pSignalSemaphores</code> <span role="normative">must</span> be a pointer to an array of <code>signalSemaphoreCount</code> valid <code>VkSemaphore</code> handles
</p>
</li>
<li>
<p>
Each of the elements of <code>pCommandBuffers</code>, the elements of <code>pSignalSemaphores</code>, and the elements of <code>pWaitSemaphores</code> that are valid handles <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="commandbuffers-submission-progress">5.5. Queue Forward Progress</h3>
<div class="paragraph"><p>The application <span role="normative">must</span> ensure that command buffer submissions will be able to
complete without any subsequent operations by the application on any queue.
After any call to <code>vkQueueSubmit</code>, for every queued wait on a semaphore
there <span role="normative">must</span> be a prior signal of that semaphore that will not be consumed by
a different wait on the semaphore.</p></div>
<div class="paragraph"><p>Command buffers in the submission <span role="normative">can</span> include <code><a href="#vkCmdWaitEvents">vkCmdWaitEvents</a></code>
commands that wait on events that will not be signaled by earlier commands
in the queue.
Such events <span role="normative">must</span> be signaled by the application using <code><a href="#vkSetEvent">vkSetEvent</a></code>, and
the <code>vkCmdWaitEvents</code> commands that wait upon them <span role="normative">must</span> not be inside a
render pass instance.
Implementations <span role="normative">may</span> have limits on how long the command buffer will wait,
in order to avoid interfering with progress of other clients of the device.
If the event is not signaled within these limits, results are undefined and
<span role="normative">may</span> include device loss.</p></div>
</div>
<div class="sect2">
<h3 id="commandbuffers-secondary">5.6. Secondary Command Buffer Execution</h3>
<div class="paragraph"><p>A secondary command buffer <span role="normative">must</span> not be directly submitted to a queue.
Instead, secondary command buffers are recorded to execute as part of a
primary command buffer with the command:</p></div>
<div class="listingblock">
<a id="vkCmdExecuteCommands"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdExecuteCommands</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    commandBufferCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkCommandBuffer<span style="color: #990000">*</span>                      pCommandBuffers<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is a handle to a primary command buffer that the
    secondary command buffers are executed in.
</p>
</li>
<li>
<p>
<code>commandBufferCount</code> is the length of the <code>pCommandBuffers</code>
    array.
</p>
</li>
<li>
<p>
<code>pCommandBuffers</code> is an array of secondary command buffer handles,
    which are recorded to execute in the primary command buffer in the order
    they are listed in the array.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Once <code>vkCmdExecuteCommands</code> has been called, any prior executions of the
secondary command buffers specified by <code>pCommandBuffers</code> in any other
primary command buffer become invalidated, unless those secondary command
buffers were recorded with
<code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> have been allocated with a <code>level</code> of
    <code>VK_COMMAND_BUFFER_LEVEL_PRIMARY</code>
</p>
</li>
<li>
<p>
Any given element of <code>pCommandBuffers</code> <span role="normative">must</span> have been allocated
    with a <code>level</code> of <code>VK_COMMAND_BUFFER_LEVEL_SECONDARY</code>
</p>
</li>
<li>
<p>
Any given element of <code>pCommandBuffers</code> <span role="normative">must</span> not be already pending
    execution in <code>commandBuffer</code>, or appear twice in
    <code>pCommandBuffers</code>, unless it was recorded with the
    <code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> flag
</p>
</li>
<li>
<p>
Any given element of <code>pCommandBuffers</code> <span role="normative">must</span> not be already pending
    execution in any other <code>VkCommandBuffer</code>, unless it was recorded
    with the <code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> flag
</p>
</li>
<li>
<p>
Any given element of <code>pCommandBuffers</code> <span role="normative">must</span> be in the executable
    state
</p>
</li>
<li>
<p>
Any given element of <code>pCommandBuffers</code> <span role="normative">must</span> have been allocated
    from a <code>VkCommandPool</code> that was created for the same queue family as
    the <code>VkCommandPool</code> from which <code>commandBuffer</code> was allocated
</p>
</li>
<li>
<p>
If <code>vkCmdExecuteCommands</code> is being called within a render pass
    instance, that render pass instance <span role="normative">must</span> have been begun with the
    <code>contents</code> parameter of <code>vkCmdBeginRenderPass</code> set to
    <code>VK_SUBPASS_CONTENTS_SECONDARY_COMMAND_BUFFERS</code>
</p>
</li>
<li>
<p>
If <code>vkCmdExecuteCommands</code> is being called within a render pass
    instance, any given element of <code>pCommandBuffers</code> <span role="normative">must</span> have been
    recorded with the <code>VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code>
</p>
</li>
<li>
<p>
If <code>vkCmdExecuteCommands</code> is being called within a render pass
    instance, any given element of <code>pCommandBuffers</code> <span role="normative">must</span> have been
    recorded with <code>VkCommandBufferInheritanceInfo</code>::<code>subpass</code> set to
    the index of the subpass which the given command buffer will be executed
    in
</p>
</li>
<li>
<p>
If <code>vkCmdExecuteCommands</code> is being called within a render pass
    instance, the render passes specified in the
    pname::pBeginInfo::<code>pInheritanceInfo</code>::<code>renderPass</code> members of
    the <code><a href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></code> commands used to begin recording each
    element of <code>pCommandBuffers</code> <span role="normative">must</span> be
    <a href="#renderpass-compatibility">compatible</a> with the current render pass.
</p>
</li>
<li>
<p>
If <code>vkCmdExecuteCommands</code> is being called within a render pass
    instance, and any given element of <code>pCommandBuffers</code> was recorded
    with <code>VkCommandBufferInheritanceInfo</code>::<code>framebuffer</code> not equal
    to <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, that <code>VkFramebuffer</code> <span role="normative">must</span> match the
    <code>VkFramebuffer</code> used in the current render pass instance
</p>
</li>
<li>
<p>
If <code>vkCmdExecuteCommands</code> is not being called within a render pass
    instance, any given element of <code>pCommandBuffers</code> <span role="normative">must</span> not have been
    recorded with the <code>VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-inheritedQueries">inherited queries</a> feature
    is not enabled, <code>commandBuffer</code> <span role="normative">must</span> not have any queries
    <a href="#queries-operation-active">active</a>
</p>
</li>
<li>
<p>
If <code>commandBuffer</code> has a <code>VK_QUERY_TYPE_OCCLUSION</code> query
    <a href="#queries-operation-active">active</a>, then each element of
    <code>pCommandBuffers</code> <span role="normative">must</span> have been recorded with
    <code>VkCommandBufferInheritanceInfo</code>::<code>occlusionQueryEnable</code> set to
    <code>VK_TRUE</code>
</p>
</li>
<li>
<p>
If <code>commandBuffer</code> has a <code>VK_QUERY_TYPE_OCCLUSION</code> query
    <a href="#queries-operation-active">active</a>, then each element of
    <code>pCommandBuffers</code> <span role="normative">must</span> have been recorded with
    <code>VkCommandBufferInheritanceInfo</code>::<code>queryFlags</code> having all bits
    set that are set for the query
</p>
</li>
<li>
<p>
If <code>commandBuffer</code> has a <code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code>
    query <a href="#queries-operation-active">active</a>, then each element of
    <code>pCommandBuffers</code> <span role="normative">must</span> have been recorded with
    <code>VkCommandBufferInheritanceInfo</code>::<code>pipelineStatistics</code> having
    all bits set that are set in the <code>VkQueryPool</code> the query uses
</p>
</li>
<li>
<p>
Any given element of <code>pCommandBuffers</code> <span role="normative">must</span> not begin any query
    types that are <a href="#queries-operation-active">active</a> in
    <code>commandBuffer</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pCommandBuffers</code> <span role="normative">must</span> be a pointer to an array of <code>commandBufferCount</code> valid <code>VkCommandBuffer</code> handles
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support transfer, graphics, or compute operations
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a primary <code>VkCommandBuffer</code>
</p>
</li>
<li>
<p>
<code>commandBufferCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and the elements of <code>pCommandBuffers</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer<br>
graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synchronization">6. Synchronization and Cache Control</h2>
<div class="sectionbody">
<div class="paragraph"><p>Synchronization of access to resources is primarily the responsibility of
the application in Vulkan.
The order of execution of commands with respect to the host and other
commands on the device has few implicit guarantees, and needs to be
explicitly specified.
Memory caches and other optimizations are also explicitly managed, requiring
that the flow of data through the system is largely under application
control.</p></div>
<div class="paragraph"><p>Whilst some implicit guarantees exist between commands, four explicit
synchronization primitives are exposed by Vulkan:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#synchronization-fences">Fences</a>
</dt>
<dd>
<p>
    Fences <span role="normative">can</span> be used to communicate to the host that execution of some
    task on the device has completed.
</p>
</dd>
<dt class="hdlist1">
<a href="#synchronization-semaphores">Semaphores</a>
</dt>
<dd>
<p>
    Semaphores <span role="normative">can</span> be used to control resource access across multiple
    queues.
</p>
</dd>
<dt class="hdlist1">
<a href="#synchronization-events">Events</a>
</dt>
<dd>
<p>
    Events provide a fine-grained synchronization primitive which <span role="normative">can</span> be
    signaled either within a command buffer or by the host, and <span role="normative">can</span> be
    waited upon within a command buffer or queried on the host.
</p>
</dd>
<dt class="hdlist1">
<a href="#synchronization-pipeline-barriers">Pipeline Barriers</a>
</dt>
<dd>
<p>
    Pipeline barriers also provide synchronization control within a command
    buffer, but at a single point, rather than with separate signal and wait
    operations.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>In addition to the base primitives provided here, <a href="#renderpass">Render Passes</a> provide a useful synchronization framework for most rendering
tasks, built upon the concepts in this chapter.
Many cases that would otherwise need an application to use synchronization
primitives in this chapter <span role="normative">can</span> be expressed more efficiently as part of a
render pass.</p></div>
<div class="sect2">
<h3 id="synchronization-dependencies">6.1. Execution and Memory Dependencies</h3>
<div class="paragraph"><p>An <em>operation</em> is an arbitrary amount of work to be executed on the host, a
device, or an external entity such as a presentation engine.
Synchronization commands introduce explicit <em>execution dependencies</em>, and
<em>memory dependencies</em> between two sets of operations defined by the
command&#8217;s two <em>synchronization scopes</em>.</p></div>
<div class="paragraph" id="synchronization-dependencies-scopes"><p>The synchronization scopes define which other operations a synchronization
command is able to create execution dependencies with.
Any type of operation that is not in a synchronization command&#8217;s
synchronization scopes will not be included in the resulting dependency.
For example, for many synchronization commands, the synchronization scopes
<span role="normative">can</span> be limited to just operations executing in specific
<a href="#synchronization-pipeline-stages">pipeline stages</a>, which allows other
pipeline stages to be excluded from a dependency.
Other scoping options are possible, depending on the particular command.</p></div>
<div class="paragraph" id="synchronization-dependencies-execution"><p>An <em>execution dependency</em> is a guarantee that for two sets of operations,
the first set <span role="normative">must</span> <em>happen-before</em> the second set.
If an operation happens-before another operation, then the first operation
<span role="normative">must</span> complete before the second operation is initiated.
More precisely:</p></div>
<div class="ulist"><ul>
<li>
<p>
Let <strong>A</strong> and <strong>B</strong> be separate sets of operations.
</p>
</li>
<li>
<p>
Let <strong>S</strong> be a synchronization command.
</p>
</li>
<li>
<p>
Let <strong>A<sub>S</sub></strong> and <strong>B<sub>S</sub></strong> be the synchronization scopes of <strong>S</strong>.
</p>
</li>
<li>
<p>
Let <strong>A'</strong> be the intersection of sets <strong>A</strong> and <strong>A<sub>S</sub></strong>.
</p>
</li>
<li>
<p>
Let <strong>B'</strong> be the intersection of sets <strong>B</strong> and <strong>B<sub>S</sub></strong>.
</p>
</li>
<li>
<p>
Submitting <strong>A</strong>, <strong>S</strong> and <strong>B</strong> for execution, in that order, will result in
    execution dependency <strong>E</strong> between <strong>A'</strong> and <strong>B'</strong>.
</p>
</li>
<li>
<p>
Execution dependency <strong>E</strong> guarantees that <strong>A'</strong> happens-before <strong>B'</strong>.
</p>
</li>
</ul></div>
<div class="paragraph" id="synchronization-dependencies-chains"><p>An <em>execution dependency chain</em> is a sequence of execution dependencies that
form a happens-before relation between the first dependency&#8217;s <strong>A'</strong> and the
final dependency&#8217;s <strong>B'</strong>.
For each consecutive pair of execution dependencies, a chain exists if the
intersection of <strong>B<sub>S</sub></strong> in the first dependency and <strong>A<sub>S</sub></strong> in the second
dependency is not an empty set.
The formation of a single execution dependency from an execution dependency
chain can be described by substituting the following in the description of
execution dependencies:</p></div>
<div class="ulist"><ul>
<li>
<p>
Let <strong>S</strong> be a set of synchronization commands that generate an execution
    dependency chain.
</p>
</li>
<li>
<p>
Let <strong>A<sub>S</sub></strong> be the first synchronization scope of the first command in
    <strong>S</strong>.
</p>
</li>
<li>
<p>
Let <strong>B<sub>S</sub></strong> be the second synchronization scope of the last command in
    <strong>S</strong>.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>An execution dependency is inherently also multiple execution dependencies -
a dependency exists between each subset of <strong>A'</strong> and each subset of <strong>B'</strong>, and
the same is true for execution dependency chains.
For example, a synchronization command with multiple
<a href="#synchronization-pipeline-stages">pipeline stages</a> in its stage masks
effectively generates one dependency between each source stage and each
destination stage.
This can be useful to think about when considering how execution chains are
formed if they don&#8217;t involve all parts of a synchronization command&#8217;s
dependency.
Similarly, any set of adjacent dependencies in an execution dependency chain
<span role="normative">can</span> be considered an execution dependency chain in its own right.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Execution dependencies alone are not sufficient to guarantee that values
resulting from writes in one set of operations <span role="normative">can</span> be read from another set
of operations.</p></div>
<div class="paragraph" id="synchronization-dependencies-available-and-visible"><p>Two additional types of operation are used to control memory access.
<em>Availability operations</em> cause the values generated by specified memory
write accesses to become <em>available</em> for future access.
Any available value remains available until a subsequent write to the same
memory location occurs (whether it is made available or not) or the memory
is freed.
<em>Visibility operations</em> cause any available values to become <em>visible</em> to
specified memory accesses.</p></div>
<div class="paragraph" id="synchronization-dependencies-memory"><p>A <em>memory dependency</em> is an execution dependency which includes availability
and visibility operations such that:</p></div>
<div class="ulist"><ul>
<li>
<p>
The first set of operations happens-before the availability operation.
</p>
</li>
<li>
<p>
The availability operation happens-before the visibility operation.
</p>
</li>
<li>
<p>
The visibility operation happens-before the second set of operations.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Once written values are made visible to a particular type of memory access,
they <span role="normative">can</span> be read or written by that type of memory access.
Most synchronization commands in Vulkan define a memory dependency.</p></div>
<div class="paragraph" id="synchronization-dependencies-access-scopes"><p>The specific memory accesses that are made available and visible are defined
by the <em>access scopes</em> of a memory dependency.
Any type of access that is in a memory dependency&#8217;s first access scope and
occurs in <strong>A'</strong> is made available.
Any type of access that is in a memory dependency&#8217;s second access scope and
occurs in <strong>B'</strong> has any available writes made visible to it.
Any type of operation that is not in a synchronization command&#8217;s access
scopes will not be included in the resulting dependency.</p></div>
<div class="paragraph"><p>A memory dependency enforces availability and visibility of memory accesses
and execution order two sets of operations.
Adding to the description of <a href="#synchronization-dependencies-chains">execution dependency chains</a>:</p></div>
<div class="ulist"><ul>
<li>
<p>
Let <strong>a</strong> be the set of memory accesses performed by <strong>A'</strong>.
</p>
</li>
<li>
<p>
Let <strong>b</strong> be the set of memory accesses performed by <strong>B'</strong>.
</p>
</li>
<li>
<p>
Let <strong>a<sub>S</sub></strong> be the first access scope of the first command in <strong>S</strong>.
</p>
</li>
<li>
<p>
Let <strong>b<sub>S</sub></strong> be the second access scope of the last command in <strong>S</strong>.
</p>
</li>
<li>
<p>
Let <strong>a'</strong> be the intersection of sets <strong>a</strong> and <strong>a<sub>S</sub></strong>.
</p>
</li>
<li>
<p>
Let <strong>b'</strong> be the intersection of sets <strong>b</strong> and <strong>b<sub>S</sub></strong>.
</p>
</li>
<li>
<p>
Submitting <strong>A</strong>, <strong>S</strong> and <strong>B</strong> for execution, in that order, will result in
    a memory dependency <strong>m</strong> between <strong>A'</strong> and <strong>B'</strong>.
</p>
</li>
<li>
<p>
Memory dependency <strong>m</strong> guarantees that:
</p>
<div class="ulist"><ul>
<li>
<p>
Memory writes in <strong>a'</strong> are made available.
</p>
</li>
<li>
<p>
Available memory writes, including those from <strong>a'</strong>, are made visible to
     <strong>b'</strong>.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Execution and memory dependencies are used to solve data hazards, i.e. to
ensure that read and write operations occur in a well-defined order.
Write-after-read hazards can be solved with just an execution dependency,
but read-after-write and write-after-write hazards need appropriate memory
dependencies to be included between them.
If an application does not include dependencies to solve these hazards, the
results and execution orders of memory accesses are undefined.</p></div>
</td>
</tr></table>
</div>
<div class="sect3">
<h4 id="synchronization-image-layout-transitions">6.1.1. Image Layout Transitions</h4>
<div class="paragraph"><p>Image subresources <span role="normative">can</span> be transitioned from one <a href="#resources-image-layouts">layout</a> to another as part of a <a href="#synchronization-dependencies-memory">memory dependency</a> (e.g. by using an
<a href="#synchronization-image-memory-barriers">image memory barrier</a>).
When a layout transition is specified in a memory dependency, it
happens-after the availability operations in the memory dependency, and
happens-before the visibility operations.
Image layout transitions <span role="normative">may</span> perform read and write accesses on all memory
bound to the image subresource range, so applications <span role="normative">must</span> ensure that all
memory writes have been made
<a href="#synchronization-dependencies-available-and-visible">available</a> before a
layout transition is executed.
Available memory is automatically made visible to a layout transition, and
writes performed by a layout transition are automatically made available.</p></div>
<div class="paragraph"><p>Layout transitions always apply to a particular image subresource range, and
specify both an old layout and new layout.
If the old layout does not match the new layout, a transition occurs.
The old layout <span role="normative">must</span> match the current layout of the image subresource
range, with one exception.
The old layout <span role="normative">can</span> always be specified as <code>VK_IMAGE_LAYOUT_UNDEFINED</code>,
though doing so invalidates the contents of the image subresource range.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Setting the old layout to <code>VK_IMAGE_LAYOUT_UNDEFINED</code> implies that the
contents of the image subresource need not be preserved.
Implementations <span role="normative">may</span> use this information to avoid performing expensive data
transition operations.</p></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Applications <span role="normative">must</span> ensure that layout transitions happen-after all
operations accessing the image with the old layout, and happen-before any
operations that will access the image with the new layout.
Layout transitions are potentially read/write operations, so not defining
appropriate memory dependencies to guarantee this will result in a data
race.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>The contents of any portion of another resource which aliases memory that is
bound to the transitioned image subresource range are undefined after an
image layout transition.</p></div>
</div>
<div class="sect3">
<h4 id="synchronization-pipeline-stages">6.1.2. Pipeline Stages</h4>
<div class="paragraph"><p>The work performed by an <a href="#fundamentals-queueoperation-commandorder">action command</a> consists of multiple operations, which are performed by a sequence
of logically independent execution units known as <em>pipeline stages</em>.
The exact pipeline stages executed depend on the particular action command
that is used, and current command buffer state when the action command was
recorded.
<a href="#drawing">Drawing commands</a>, <a href="#dispatch">dispatching commands</a>,
<a href="#copies">copy commands</a>, and <a href="#clears">clear commands</a> all execute
<a href="#synchronization-pipeline-stages-types">different sets of pipeline stages</a>.</p></div>
<div class="paragraph"><p>Execution of operations across pipeline stages <span role="normative">must</span> adhere to
<a href="#fundamentals-queueoperation-apiorder">API order</a>,
<a href="#fundamentals-queueoperation-commandorder">command order</a>, and
<a href="#synchronization-pipeline-stages-order">pipeline stage order</a>.
Otherwise, execution across pipeline stages <span role="normative">may</span> overlap or execute out of
order with regards to other stages, unless otherwise enforced by an
execution dependency.</p></div>
<div class="paragraph"><p>Several of the <a href="#fundamentals-queueoperation-commandorder">synchronization commands</a> include pipeline stage parameters, restricting the
<a href="#synchronization-dependencies-scopes">synchronization scopes</a> for that
command to those stages.
This allows fine grained control over the exact execution dependencies and
accesses performed by action commands.
Implementations <span role="normative">should</span> use these pipeline stages to avoid unnecessary
stalls or cache flushing.</p></div>
<div class="paragraph"><p>These pipeline stages are specified using a bitmask:</p></div>
<div class="listingblock">
<a id="VkPipelineStageFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkPipelineStageFlagBits <span style="color: #FF0000">{</span>
    VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_VERTEX_INPUT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_VERTEX_SHADER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000010</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000020</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000040</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000080</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000100</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000200</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000400</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000800</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_TRANSFER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00001000</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00002000</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_HOST_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00004000</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00008000</span><span style="color: #990000">,</span>
    VK_PIPELINE_STAGE_ALL_COMMANDS_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00010000</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkPipelineStageFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The meaning of each bit is:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code>: Stage of the pipeline where any
    commands are initially received by the queue.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code>: Stage of the pipeline where
    Draw/DispatchIndirect data structures are consumed.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code>: Stage of the pipeline where
    vertex and index buffers are consumed.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code>: Vertex shader stage.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>: Tessellation
    control shader stage.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>: Tessellation
    evaluation shader stage.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>: Geometry shader stage.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>: Fragment shader stage.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code>: Stage of the pipeline
    where early fragment tests (depth and stencil tests before fragment
    shading) are performed.
    This stage also includes <a href="#renderpass-load-store-ops">subpass load     operations</a> for framebuffer attachments with a depth/stencil format.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code>: Stage of the pipeline
    where late fragment tests (depth and stencil tests after fragment
    shading) are performed.
    This stage also includes <a href="#renderpass-load-store-ops">subpass store     operations</a> for framebuffer attachments with a depth/stencil format.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code>: Stage of the
    pipeline after blending where the final color values are output from the
    pipeline.
    This stage also includes <a href="#renderpass-load-store-ops">subpass load and     store operations</a> and multisample resolve operations for framebuffer
    attachments with a color format.
</p>
</li>
<li>
<p>
<a id="synchronization-pipeline-stages-transfer"></a>
    <code>VK_PIPELINE_STAGE_TRANSFER_BIT</code>: Execution of copy commands.
    This includes the operations resulting from all <a href="#copies">copy     commands</a>, <a href="#clears">clear commands</a> (with the exception of
    <code><a href="#vkCmdClearAttachments">vkCmdClearAttachments</a></code>), and <code><a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code>.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code>: Execution of a compute
    shader.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>: Final stage in the pipeline
    where operations generated by all commands complete execution.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_HOST_BIT</code>: A pseudo-stage indicating execution on
    the host of reads/writes of device memory.
    This stage is not invoked by any commands recorded in a command buffer.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT</code>: Execution of all graphics
    pipeline stages.
    Equivalent to the logical or of:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_ALL_COMMANDS_BIT</code>: Equivalent to the logical or
    of every other pipeline stage flag that is supported on the queue it is
    used with.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>An execution dependency with only <code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>
in the destination stage mask will only prevent that stage from executing in
subsequently submitted commands.
As this stage doesn&#8217;t perform any actual execution, this is not observable -
in effect, it does not delay processing of subsequent commands.
Similarly an execution dependency with only
<code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code> in the source stage mask will
effectively not wait for any prior commands to complete.</p></div>
<div class="paragraph"><p>When defining a memory dependency, using only
<code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code> or
<code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code> would never make any accesses
available and/or visible because these stages do not access memory.</p></div>
<div class="paragraph"><p><code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code> and
<code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code> are useful for accomplishing layout
transitions and queue ownership operations when the required execution
dependency is satisfied by other means - for example, semaphore operations
between queues.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph" id="synchronization-pipeline-stages-masks"><p>If a synchronization command includes a source stage mask, its first
<a href="#synchronization-dependencies-scopes">synchronization scope</a> only includes
execution of the pipeline stages specified in that mask, as well as any
<a href="#synchronization-pipeline-stages-order">logically earlier</a> stages.
If a synchronization command includes a destination stage mask, its second
<a href="#synchronization-dependencies-scopes">synchronization scope</a> only includes
execution of the pipeline stages specified in that mask, as well as any
<a href="#synchronization-pipeline-stages-order">logically later</a> stages.</p></div>
<div class="paragraph"><p><a href="#synchronization-dependencies-access-scopes">Access scopes</a> are affected
in a similar way.
If a synchronization command includes a source stage mask, its first
<a href="#synchronization-dependencies-access-scopes">access scope</a> only includes
memory access performed by pipeline stages specified in that mask.
If a synchronization command includes a destination stage mask, its second
<a href="#synchronization-dependencies-access-scopes">access scope</a> only includes
memory access performed by pipeline stages specified in that mask.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Implementations <span role="normative">may</span> not support synchronization at every pipeline stage for
every synchronization operation.
If a pipeline stage that an implementation does not support synchronization
for appears in a source stage mask, then it <span role="normative">may</span> substitute that stage for
any logically later stage.
If a pipeline stage that an implementation does not support synchronization
for appears in a destination stage mask, then it <span role="normative">may</span> substitute that stage
for any logically earlier stage.</p></div>
<div class="paragraph"><p>For example, if an implementation is unable to signal an event immediately
after vertex shader execution is complete, it <span role="normative">may</span> instead signal the event
after color attachment output has completed.</p></div>
<div class="paragraph"><p>If an implementation makes such a substitution, it <span role="normative">must</span> not affect the
semantics of execution or memory dependencies or image and buffer memory
barriers.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Certain pipeline stages are only available on queues that support a
particular set of operations.
The following table lists, for each pipeline stage flag, which queue
capability flag <span role="normative">must</span> be supported by the queue.
When multiple flags are enumerated in the second column of the table, it
means that the pipeline stage is supported on the queue if it supports any
of the listed capability flags.
For further details on queue capabilities see
<a href="#devsandqueues-physical-device-enumeration">Physical Device Enumeration</a>
and <a href="#devsandqueues-queues">Queues</a>.</p></div>
<table class="tableblock frame-all grid-all" id="synchronization-pipeline-stages-supported"
style="
margin-left:auto; margin-right:auto;
width:100%;
">
<caption class="title">Table 3. Supported pipeline stage flags</caption>
<col style="width:69%;">
<col style="width:31%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Pipeline stage flag                                          </th>
<th class="tableblock halign-left valign-top" > Required queue capability flag</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">None required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code> or <code>VK_QUEUE_COMPUTE_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_QUEUE_COMPUTE_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_TRANSFER_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code>, <code>VK_QUEUE_COMPUTE_BIT</code> or <code>VK_QUEUE_TRANSFER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">None required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_HOST_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">None required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_ALL_COMMANDS_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">None required</p></td>
</tr>
</tbody>
</table>
<div class="paragraph" id="synchronization-pipeline-stages-order"><p>Pipeline stages that execute as a result of a command logically complete
execution in a specific order, such that completion of a logically later
pipeline stage <span role="normative">must</span> not happen-before completion of a logically earlier
stage.
This means that including any given stage in the source stage mask for a
particular synchronization command also implies that any logically earlier
stages are included in <strong>A<sub>S</sub></strong> for that command.</p></div>
<div class="paragraph"><p>Similarly, initiation of a logically earlier pipeline stage <span role="normative">must</span> not
happen-after initiation of a logically later pipeline stage.
Including any given stage in the destination stage mask for a particular
synchronization command also implies that any logically later stages are
included in <strong>B<sub>S</sub></strong> for that command.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Logically earlier/later stages are not included when defining the
<a href="#synchronization-dependencies-access-scopes">access scopes</a> of a
<a href="#synchronization-memory-barriers">memory barrier</a>.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph" id="synchronization-pipeline-stages-types"><p>The order of pipeline stages depends on the particular pipeline; graphics,
compute, transfer or host.</p></div>
<div class="paragraph"><p>For the graphics pipeline, the following stages occur in this order:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>For the compute pipeline, the following stages occur in this order:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>For the transfer pipeline, the following stages occur in this order:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_TRANSFER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>For host operations, only one pipeline stage occurs, so no order is
guaranteed:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_PIPELINE_STAGE_HOST_BIT</code>
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="synchronization-access-types">6.1.3. Access Types</h4>
<div class="paragraph"><p>Memory in Vulkan <span role="normative">can</span> be accessed from within shader invocations and via
some fixed-function stages of the pipeline.
The <em>access type</em> is a function of the <a href="#descriptorsets">descriptor type</a>
used, or how a fixed-function stage accesses memory.
Each access type corresponds to a bit flag in <code><a href="#VkAccessFlagBits">VkAccessFlagBits</a></code>.</p></div>
<div class="paragraph" id="synchronization-access-masks"><p>Some synchronization commands take sets of access types as parameters to
define the <a href="#synchronization-dependencies-access-scopes">access scopes</a> of
a memory dependency.
If a synchronization command includes a source access mask, its first
<a href="#synchronization-dependencies-access-scopes">access scope</a> only includes
accesses via the access types specified in that mask.
Similarly, if a synchronization command includes a destination access mask,
its second <a href="#synchronization-dependencies-access-scopes">access scope</a> only
includes accesses via the access types specified in that mask.</p></div>
<div class="paragraph"><p>Access types that can be set in an access mask include:</p></div>
<div class="listingblock">
<a id="VkAccessFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkAccessFlagBits <span style="color: #FF0000">{</span>
    VK_ACCESS_INDIRECT_COMMAND_READ_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_ACCESS_INDEX_READ_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_ACCESS_VERTEX_ATTRIBUTE_READ_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_ACCESS_UNIFORM_READ_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
    VK_ACCESS_INPUT_ATTACHMENT_READ_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000010</span><span style="color: #990000">,</span>
    VK_ACCESS_SHADER_READ_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000020</span><span style="color: #990000">,</span>
    VK_ACCESS_SHADER_WRITE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000040</span><span style="color: #990000">,</span>
    VK_ACCESS_COLOR_ATTACHMENT_READ_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000080</span><span style="color: #990000">,</span>
    VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000100</span><span style="color: #990000">,</span>
    VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000200</span><span style="color: #990000">,</span>
    VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000400</span><span style="color: #990000">,</span>
    VK_ACCESS_TRANSFER_READ_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000800</span><span style="color: #990000">,</span>
    VK_ACCESS_TRANSFER_WRITE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00001000</span><span style="color: #990000">,</span>
    VK_ACCESS_HOST_READ_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00002000</span><span style="color: #990000">,</span>
    VK_ACCESS_HOST_WRITE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00004000</span><span style="color: #990000">,</span>
    VK_ACCESS_MEMORY_READ_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00008000</span><span style="color: #990000">,</span>
    VK_ACCESS_MEMORY_WRITE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00010000</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkAccessFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ACCESS_INDIRECT_COMMAND_READ_BIT</code>: Read access to an indirect
    command structure read as part of an indirect drawing or dispatch
    command.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_INDEX_READ_BIT</code>: Read access to an index buffer as part
    of an indexed drawing command, bound by <code><a href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a></code>.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_VERTEX_ATTRIBUTE_READ_BIT</code>: Read access to a vertex
    buffer as part of a drawing command, bound by
    <code><a href="#vkCmdBindVertexBuffers">vkCmdBindVertexBuffers</a></code>.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_UNIFORM_READ_BIT</code>: Read access to a
    <a href="#descriptorsets-uniformbuffer">uniform buffer</a>.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_INPUT_ATTACHMENT_READ_BIT</code>: Read access to an
    <a href="#renderpass">input attachment</a> within a renderpass during fragment
    shading.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_SHADER_READ_BIT</code>: Read access to a
    <a href="#descriptorsets-storagebuffer">storage buffer</a>,
    <a href="#descriptorsets-uniformtexelbuffer">uniform texel buffer</a>,
    <a href="#descriptorsets-storagetexelbuffer">storage texel buffer</a>,
    <a href="#descriptorsets-sampledimage">sampled image</a>, or
    <a href="#descriptorsets-storageimage">storage image</a>.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_SHADER_WRITE_BIT</code>: Write access to a
    <a href="#descriptorsets-storagebuffer">storage buffer</a>,
    <a href="#descriptorsets-storagetexelbuffer">storage texel buffer</a>, or
    <a href="#descriptorsets-storageimage">storage image</a>.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_COLOR_ATTACHMENT_READ_BIT</code>: Read access to a
    <a href="#renderpass">color attachment</a>, such as via <a href="#framebuffer-blending">blending</a>, <a href="#framebuffer-logicop">logic operations</a>, or via certain
    <a href="#renderpass-load-store-ops">subpass load operations</a>.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>: Write access to a
    <a href="#renderpass">color or resolve attachment</a> during a <a href="#renderpass">render pass</a> or via certain <a href="#renderpass-load-store-ops">subpass load     and store operations</a>.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT</code>: Read access to a
    <a href="#renderpass">depth/stencil attachment</a>, via <a href="#fragops-ds-state">depth     or stencil operations</a> or via certain <a href="#renderpass-load-store-ops">subpass load operations</a>.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code>: Write access to a
    <a href="#renderpass">depth/stencil attachment</a>, via <a href="#fragops-ds-state">depth     or stencil operations</a> or via certain <a href="#renderpass-load-store-ops">subpass load and store operations</a>.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_TRANSFER_READ_BIT</code>: Read access to an image or buffer in
    a <a href="#copies">copy</a> operation.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_TRANSFER_WRITE_BIT</code>: Write access to an image or buffer
    in a <a href="#clears">clear</a> or <a href="#copies">copy</a> operation.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_HOST_READ_BIT</code>: Read access by a host operation.
    Accesses of this type are not performed through a resource, but directly
    on memory.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_HOST_WRITE_BIT</code>: Write access by a host operation.
    Accesses of this type are not performed through a resource, but directly
    on memory.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_MEMORY_READ_BIT</code>: Read access via non-specific entities.
    These entities include the Vulkan device and host, but <span role="normative">may</span> also include
    entities external to the Vulkan device or otherwise not part of the core
    Vulkan pipeline.
    When included in a destination access mask, makes all available writes
    visible to all future read accesses on entities known to the Vulkan
    device.
</p>
</li>
<li>
<p>
<code>VK_ACCESS_MEMORY_WRITE_BIT</code>: Write access via non-specific
    entities.
    These entities include the Vulkan device and host, but <span role="normative">may</span> also include
    entities external to the Vulkan device or otherwise not part of the core
    Vulkan pipeline.
    When included in a source access mask, all writes that are performed by
    entities known to the Vulkan device are made available.
    When included in a destination access mask, makes all available writes
    visible to all future write accesses on entities known to the Vulkan
    device.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Certain access types are only performed by a subset of pipeline stages.
Any synchronization command that takes both stage masks and access masks
uses both to define the <a href="#synchronization-dependencies-access-scopes">access scopes</a> - only the specified access types performed by the specified stages
are included in the access scope.
An application <span role="normative">must</span> not specify an access flag in a synchronization command
if it does not include a pipeline stage in the corresponding stage mask that
is able to perform accesses of that type.
The following table lists, for each access flag, which pipeline stages <span role="normative">can</span>
perform that type of access.</p></div>
<table class="tableblock frame-all grid-all" id="synchronization-access-types-supported"
style="
margin-left:auto; margin-right:auto;
width:100%;
">
<caption class="title">Table 4. Supported access types</caption>
<col style="width:67%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Access flag                                                  </th>
<th class="tableblock halign-left valign-top" > Supported pipeline stages</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_INDIRECT_COMMAND_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_INDEX_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_VERTEX_ATTRIBUTE_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_UNIFORM_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>, or <code>VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_INPUT_ATTACHMENT_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_SHADER_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>, or <code>VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_SHADER_WRITE_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>, or <code>VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_COLOR_ATTACHMENT_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code>, or <code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code>, or <code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_TRANSFER_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_TRANSFER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_TRANSFER_WRITE_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_TRANSFER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_HOST_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_HOST_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_HOST_WRITE_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PIPELINE_STAGE_HOST_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_MEMORY_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">N/A</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_ACCESS_MEMORY_WRITE_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">N/A</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="synchronization-framebuffer-regions">6.1.4. Framebuffer Region Dependencies</h4>
<div class="paragraph"><p><a href="#synchronization-pipeline-stages">Pipeline stages</a> that operate on, or
with respect to, the framebuffer are collectively the <em>framebuffer-space</em>
pipeline stages.
These stages are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>For these pipeline stages, an execution or memory dependency from the first
set of operations to the second set <span role="normative">can</span> either be a single
<em>framebuffer-global</em> dependency, or split into multiple <em>framebuffer-local</em>
dependencies.
A dependency with non-framebuffer-space pipeline stages is neither
framebuffer-global nor framebuffer-local.</p></div>
<div class="paragraph"><p>A <em>framebuffer region</em> is a set of sample (x, y, layer, sample) coordinates
that is a subset of the entire framebuffer.</p></div>
<div class="paragraph"><p>A single framebuffer-local dependency guarantees that only for a single
framebuffer region, the first set of operations and availability operations
happen-before visibility operations and the second set of operations.
No ordering guarantees are made between framebuffer regions for a
framebuffer-local dependency.</p></div>
<div class="paragraph"><p>A framebuffer-global dependency guarantees that the first set of operations
for all framebuffer regions happens-before the second set of operations for
any framebuffer region.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Since fragment invocations are not specified to run in any particular
groupings, the size of a framebuffer region is implementation-dependent, not
known to the application, and <span role="normative">must</span> be assumed to be no larger than a single
sample.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>If a synchronization command includes a <code>dependencyFlags</code> parameter, and
specifies the <code>VK_DEPENDENCY_BY_REGION_BIT</code> flag, then it defines
framebuffer-local dependencies for the framebuffer-space pipeline stages in
that synchronization command, for all framebuffer regions.
If no <code>dependencyFlags</code> parameter is included, or the
<code>VK_DEPENDENCY_BY_REGION_BIT</code> flag is not specified, then a
framebuffer-global dependency is specified for those stages.
The <code>VK_DEPENDENCY_BY_REGION_BIT</code> flag does not affect the dependencies
between non-framebuffer-space pipeline stages, nor does it affect the
dependencies between framebuffer-space and non-framebuffer-space pipeline
stages.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Framebuffer-local dependencies are more optimal for most architectures;
particularly tile-based architectures - which can keep framebuffer-regions
entirely in on-chip registers and thus avoid external bandwidth across such
a dependency.
Including a framebuffer-global dependency in your rendering will usually
force all implementations to flush data to memory, or to a higher level
cache, breaking any potential locality optimizations.</p></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="synchronization-fences">6.2. Fences</h3>
<div class="paragraph"><p>Fences are a synchronization primitive that <span role="normative">can</span> be used to insert a
dependency from a queue to the host.
Fences have two states - signaled and unsignaled.
A fence <span role="normative">can</span> be signaled as part of the execution of a
<a href="#devsandqueues-submission">queue submission</a> command.
Fences <span role="normative">can</span> be unsignaled on the host with <code><a href="#vkResetFences">vkResetFences</a></code>.
Fences <span role="normative">can</span> be waited on by the host with the <code><a href="#vkWaitForFences">vkWaitForFences</a></code> command,
and the current state <span role="normative">can</span> be queried with <code><a href="#vkGetFenceStatus">vkGetFenceStatus</a></code>.</p></div>
<div class="paragraph"><p>Fences are represented by <code>VkFence</code> handles:</p></div>
<div class="listingblock">
<a id="VkFence"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkFence<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create a fence, call:</p></div>
<div class="listingblock">
<a id="vkCreateFence"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateFence</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkFenceCreateInfo<span style="color: #990000">*</span>                    pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkFence<span style="color: #990000">*</span>                                    pFence<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the fence.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code>VkFenceCreateInfo</code> structure which contains information about how
    the fence is to be created.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pFence</code> points to a handle in which the resulting fence object is
    returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkFenceCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pFence</code> <span role="normative">must</span> be a pointer to a <code>VkFence</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkFenceCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkFenceCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkFenceCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>       sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>           pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkFenceCreateFlags</span>    flags<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkFenceCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> defines the initial state and behavior of the fence.
    Bits which <span role="normative">can</span> be set include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkFenceCreateFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkFenceCreateFlagBits <span style="color: #FF0000">{</span>
    VK_FENCE_CREATE_SIGNALED_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkFenceCreateFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="paragraph"><p>If <code>flags</code> contains <code>VK_FENCE_CREATE_SIGNALED_BIT</code> then the fence
object is created in the signaled state; otherwise it is created in the
unsignaled state.</p></div>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_FENCE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkFenceCreateFlagBits">VkFenceCreateFlagBits</a></code> values
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To destroy a fence, call:</p></div>
<div class="listingblock">
<a id="vkDestroyFence"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyFence</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkFence</span>                                     fence<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the fence.
</p>
</li>
<li>
<p>
<code>fence</code> is the handle of the fence to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All <a href="#devsandqueues-submission">queue submission</a> commands that refer
    to <code>fence</code> <span role="normative">must</span> have completed execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>fence</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>fence</code> was
    created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>fence</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>fence</code> <span role="normative">must</span> be a valid <code>VkFence</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>fence</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>fence</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To query the status of a fence from the host, call:</p></div>
<div class="listingblock">
<a id="vkGetFenceStatus"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetFenceStatus</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkFence</span>                                     fence<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the fence.
</p>
</li>
<li>
<p>
<code>fence</code> is the handle of the fence to query.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Upon success, <code>vkGetFenceStatus</code> returns the status of the fence object,
with the following return codes:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:80%;
">
<caption class="title">Table 5. Fence Object Status Codes</caption>
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Status </th>
<th class="tableblock halign-left valign-top" > Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_SUCCESS</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The fence specified by <code>fence</code> is signaled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_NOT_READY</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The fence specified by <code>fence</code> is unsignaled.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>If a <a href="#devsandqueues-submission">queue submission</a> command is pending
execution, then the value returned by this command <span role="normative">may</span> immediately be out
of date.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>fence</code> <span role="normative">must</span> be a valid <code>VkFence</code> handle
</p>
</li>
<li>
<p>
<code>fence</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_NOT_READY</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph" id="synchronization-fences-unsignaling"><p>To set the state of fences to unsignaled from the host, call:</p></div>
<div class="listingblock">
<a id="vkResetFences"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkResetFences</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    fenceCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkFence<span style="color: #990000">*</span>                              pFences<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the fences.
</p>
</li>
<li>
<p>
<code>fenceCount</code> is the number of fences to reset.
</p>
</li>
<li>
<p>
<code>pFences</code> is a pointer to an array of fence handles to reset.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When <code><a href="#vkResetFences">vkResetFences</a></code> is executed on the host, it defines a <em>fence
unsignal operation</em> for each fence, which resets the fence to the unsignaled
state.</p></div>
<div class="paragraph"><p>If any member of <code>pFences</code> is already in the unsignaled state when
<code><a href="#vkResetFences">vkResetFences</a></code> is executed, then <code><a href="#vkResetFences">vkResetFences</a></code> has no effect on
that fence.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
Any given element of <code>pFences</code> <span role="normative">must</span> not currently be associated
    with any queue command that has not yet completed execution on that
    queue
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pFences</code> <span role="normative">must</span> be a pointer to an array of <code>fenceCount</code> valid <code>VkFence</code> handles
</p>
</li>
<li>
<p>
<code>fenceCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Each element of <code>pFences</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to each member of <code>pFences</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph" id="synchronization-fences-signaling"><p>When a fence is submitted to a queue as part of a
<a href="#devsandqueues-submission">queue submission</a> command, it defines a memory
dependency on the batches that were submitted as part of that command, and
defines a <em>fence signal operation</em> which sets the fence to the signaled
state.</p></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes every batch submitted in the same <a href="#devsandqueues-submission">queue submission</a> command.
Fence signal operations that are defined by <code><a href="#vkQueueSubmit">vkQueueSubmit</a></code> additionally
include all previous queue submissions to the same queue via
<code><a href="#vkQueueSubmit">vkQueueSubmit</a></code> in the first synchronization scope.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
only includes the fence signal operation.</p></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a>
includes all memory access performed by the device.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
empty.</p></div>
<div class="paragraph"><p>To wait for one or more fences to enter the signaled state on the host,
call:</p></div>
<div class="listingblock">
<a id="vkWaitForFences"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkWaitForFences</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    fenceCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkFence<span style="color: #990000">*</span>                              pFences<span style="color: #990000">,</span>
    <span style="color: #008080">VkBool32</span>                                    waitAll<span style="color: #990000">,</span>
    <span style="color: #008080">uint64_t</span>                                    timeout<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the fences.
</p>
</li>
<li>
<p>
<code>fenceCount</code> is the number of fences to wait on.
</p>
</li>
<li>
<p>
<code>pFences</code> is a pointer to an array of <code>fenceCount</code> fence
    handles.
</p>
</li>
<li>
<p>
<code>waitAll</code> is the condition that <span role="normative">must</span> be satisfied to successfully
    unblock the wait.
    If <code>waitAll</code> is <code>VK_TRUE</code>, then the condition is that all fences
    in <code>pFences</code> are signaled.
    Otherwise, the condition is that at least one fence in <code>pFences</code> is
    signaled.
</p>
</li>
<li>
<p>
<code>timeout</code> is the timeout period in units of nanoseconds.
    <code>timeout</code> is adjusted to the closest value allowed by the
    implementation-dependent timeout accuracy, which <span role="normative">may</span> be substantially
    longer than one nanosecond, and <span role="normative">may</span> be longer than the requested
    period.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If the condition is satisfied when <code>vkWaitForFences</code> is called, then
<code>vkWaitForFences</code> returns immediately.
If the condition is not satisfied at the time <code>vkWaitForFences</code> is
called, then <code>vkWaitForFences</code> will block and wait up to <code>timeout</code>
nanoseconds for the condition to become satisfied.</p></div>
<div class="paragraph"><p>If <code>timeout</code> is zero, then <code>vkWaitForFences</code> does not wait, but
simply returns the current state of the fences.
<code>VK_TIMEOUT</code> will be returned in this case if the condition is not
satisfied, even though no actual wait was performed.</p></div>
<div class="paragraph"><p>If the specified timeout period expires before the condition is satisfied,
<code>vkWaitForFences</code> returns <code>VK_TIMEOUT</code>.
If the condition is satisfied before <code>timeout</code> nanoseconds has expired,
<code>vkWaitForFences</code> returns <code>VK_SUCCESS</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pFences</code> <span role="normative">must</span> be a pointer to an array of <code>fenceCount</code> valid <code>VkFence</code> handles
</p>
</li>
<li>
<p>
<code>fenceCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Each element of <code>pFences</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_TIMEOUT</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph" id="synchronization-fences-waiting"><p>An execution dependency is defined by waiting for a fence to become
signaled, either via <code><a href="#vkWaitForFences">vkWaitForFences</a></code> or by polling on
<code><a href="#vkGetFenceStatus">vkGetFenceStatus</a></code>.</p></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes only the fence signal operation.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes the host operations of <code><a href="#vkWaitForFences">vkWaitForFences</a></code> or
<code><a href="#vkGetFenceStatus">vkGetFenceStatus</a></code> indicating that the fence has become signaled.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Signaling a fence and waiting on the host does not guarantee that the
results of memory accesses will be visible to the host.
To provide that guarantee, the application <span role="normative">must</span> insert a memory barrier
between the device writes and the end of the submission that will signal the
fence, with <code>dstAccessMask</code> having the <code>VK_ACCESS_HOST_READ_BIT</code> bit
set, with <code>dstStageMask</code> having the <code>VK_PIPELINE_STAGE_HOST_BIT</code> bit
set, and with the appropriate <code>srcStageMask</code> and <code>srcAccessMask</code>
members set to guarantee completion of the writes.
If the memory was allocated without the
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> set, then
<code>vkInvalidateMappedMemoryRanges</code> <span role="normative">must</span> be called after the fence is
signaled in order to ensure the writes are visible to the host, as described
in <a href="#memory-device-hostaccess">Host Access to Device Memory Objects</a>.</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="synchronization-semaphores">6.3. Semaphores</h3>
<div class="paragraph"><p>Semaphores are a synchronization primitive that <span role="normative">can</span> be used to insert a
dependency between batches submitted to queues.
Semaphores have two states - signaled and unsignaled.
The state of a semaphore <span role="normative">can</span> be signaled after execution of a batch of
commands is completed.
A batch <span role="normative">can</span> wait for a semaphore to become signaled before it begins
execution, and the semaphore is also unsignaled before the batch begins
execution.</p></div>
<div class="paragraph"><p>Semaphores are represented by <code>VkSemaphore</code> handles:</p></div>
<div class="listingblock">
<a id="VkSemaphore"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkSemaphore<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create a semaphore, call:</p></div>
<div class="listingblock">
<a id="vkCreateSemaphore"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateSemaphore</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSemaphoreCreateInfo<span style="color: #990000">*</span>                pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkSemaphore<span style="color: #990000">*</span>                                pSemaphore<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the semaphore.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code>VkSemaphoreCreateInfo</code> structure which contains information about
    how the semaphore is to be created.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pSemaphore</code> points to a handle in which the resulting semaphore
    object is returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When created, the semaphore is in the unsignaled state.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkSemaphoreCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pSemaphore</code> <span role="normative">must</span> be a pointer to a <code>VkSemaphore</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkSemaphoreCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSemaphoreCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSemaphoreCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>           sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>               pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkSemaphoreCreateFlags</span>    flags<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSemaphoreCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_SEMAPHORE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To destroy a semaphore, call:</p></div>
<div class="listingblock">
<a id="vkDestroySemaphore"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroySemaphore</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkSemaphore</span>                                 semaphore<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the semaphore.
</p>
</li>
<li>
<p>
<code>semaphore</code> is the handle of the semaphore to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted batches that refer to <code>semaphore</code> <span role="normative">must</span> have completed
    execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>semaphore</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>semaphore</code> was
    created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>semaphore</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>semaphore</code> <span role="normative">must</span> be a valid <code>VkSemaphore</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>semaphore</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>semaphore</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sect3">
<h4 id="synchronization-semaphores-signaling">6.3.1. Semaphore Signaling</h4>
<div class="paragraph"><p>When a batch is submitted to a queue via a <a href="#devsandqueues-submission">queue submission</a>, and it includes semaphores to be signaled, it defines a memory
dependency on the batch, and defines <em>semaphore signal operations</em> which set
the semaphores to the signaled state.</p></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes every command submitted in the same batch.
Semaphore signal operations that are defined by <code><a href="#vkQueueSubmit">vkQueueSubmit</a></code>
additionally include all batches previously submitted to the same queue via
<code><a href="#vkQueueSubmit">vkQueueSubmit</a></code>, including batches that are submitted in the same
<a href="#devsandqueues-submission">queue submission</a> command, but at a lower index
within the array of batches.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes only the semaphore signal operation.</p></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a>
includes all memory access performed by the device.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
empty.</p></div>
</div>
<div class="sect3">
<h4 id="synchronization-semaphores-waiting">6.3.2. Semaphore Waiting &amp; Unsignaling</h4>
<div class="paragraph"><p>When a batch is submitted to a queue via a <a href="#devsandqueues-submission">queue submission</a>, and it includes semaphores to be waited on, it defines a
memory dependency between prior semaphore signal operations and the batch,
and defines <em>semaphore unsignal operations</em> which set the semaphores to the
unsignaled state.</p></div>
<div class="paragraph"><p>The first synchronization scope includes all semaphore signal operations
that operate on semaphores waited on in the same batch, and that
happen-before the wait completes.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes every command submitted in the same batch.
In the case of <code><a href="#vkQueueSubmit">vkQueueSubmit</a></code>, the second synchronization scope is
limited to operations on the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified
by the corresponding element of <code>pWaitDstStageMask</code>.
Also, in the case of <code><a href="#vkQueueSubmit">vkQueueSubmit</a></code>, the second synchronization scope
additionally includes all batches subsequently submitted to the same queue
via <code><a href="#vkQueueSubmit">vkQueueSubmit</a></code>, including batches that are submitted in the same
<a href="#devsandqueues-submission">queue submission</a> command, but at a higher
index within the array of batches.</p></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
empty.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a>
includes all memory access performed by the device.</p></div>
<div class="paragraph"><p>The semaphore unsignal operation happens-after the first set of operations
in the execution dependency, and happens-before the second set of operations
in the execution dependency.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Unlike fences or events, the act of waiting for a semaphore also unsignals
that semaphore.
If two operations are separately specified to wait for the same semaphore,
and there are no other execution dependencies between those operations,
behaviour is undefined.
An execution dependency <span role="normative">must</span> be present that guarantees that the semaphore
unsignal operation for the first of those waits, happens-before the
semaphore is signalled again, and before the second unsignal operation.
Semaphore waits and signals should thus occur in discrete 1:1 pairs.</p></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>A common scenario for using <code>pWaitDstStageMask</code> with values other than
<code>VK_PIPELINE_STAGE_ALL_COMMANDS_BIT</code> is when synchronizing a window
system presentation operation against subsequent command buffers which
render the next frame.
In this case, a presentation image <span role="normative">must</span> not be overwritten until the
presentation operation completes, but other pipeline stages <span role="normative">can</span> execute
without waiting.
A mask of <code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code> prevents
subsequent color attachment writes from executing until the semaphore
signals.
Some implementations <span role="normative">may</span> be able to execute transfer operations and/or
vertex processing work before the semaphore is signaled.</p></div>
<div class="paragraph"><p>If an image layout transition needs to be performed on a swapchain image
before it is used in a framebuffer, that <span role="normative">can</span> be performed as the first
operation submitted to the queue after acquiring the image, and <span role="normative">should</span> not
prevent other work from overlapping with the presentation operation.
For example, a <code>VkImageMemoryBarrier</code> could use:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>srcStageMask</code> = <code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code>
</p>
</li>
<li>
<p>
<code>srcAccessMask</code> = 0
</p>
</li>
<li>
<p>
<code>dstStageMask</code> = <code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code>
</p>
</li>
<li>
<p>
<code>dstAccessMask</code> = <code>VK_ACCESS_COLOR_ATTACHMENT_READ_BIT</code> |
    <code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>.
</p>
</li>
<li>
<p>
<code>oldLayout</code> = <code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>
</p>
</li>
<li>
<p>
<code>newLayout</code> = <code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Alternatively, <code>oldLayout</code> <span role="normative">can</span> be <code>VK_IMAGE_LAYOUT_UNDEFINED</code>, if
the image&#8217;s contents need not be preserved.</p></div>
<div class="paragraph"><p>This barrier accomplishes a dependency chain between previous presentation
operations and subsequent color attachment output operations, with the
layout transition performed in between, and does not introduce a dependency
between previous work and any vertex processing stages.
More precisely, the semaphore signals after the presentation operation
completes, then the semaphore wait stalls the
<code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code> stage, then there is a
dependency from that same stage to itself with the layout transition
performed in between.</p></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="synchronization-events">6.4. Events</h3>
<div class="paragraph"><p>Events are a synchronization primitive that <span role="normative">can</span> be used to insert a
fine-grained dependency between commands submitted to the same queue, or
between the host and a queue.
Events have two states - signaled and unsignaled.
An application <span role="normative">can</span> signal an event, or unsignal it, on either the host or
the device.
A device <span role="normative">can</span> wait for an event to become signaled before executing further
operations.
No command exists to wait for an event to become signaled on the host, but
the current state of an event <span role="normative">can</span> be queried.</p></div>
<div class="paragraph"><p>Events are represented by <code>VkEvent</code> handles:</p></div>
<div class="listingblock">
<a id="VkEvent"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkEvent<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create an event, call:</p></div>
<div class="listingblock">
<a id="vkCreateEvent"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateEvent</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkEventCreateInfo<span style="color: #990000">*</span>                    pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkEvent<span style="color: #990000">*</span>                                    pEvent<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the event.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code>VkEventCreateInfo</code> structure which contains information about how
    the event is to be created.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pEvent</code> points to a handle in which the resulting event object is
    returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When created, the event object is in the unsignaled state.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkEventCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pEvent</code> <span role="normative">must</span> be a pointer to a <code>VkEvent</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkEventCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkEventCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkEventCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>       sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>           pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkEventCreateFlags</span>    flags<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkEventCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_EVENT_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To destroy an event, call:</p></div>
<div class="listingblock">
<a id="vkDestroyEvent"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyEvent</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkEvent</span>                                     event<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the event.
</p>
</li>
<li>
<p>
<code>event</code> is the handle of the event to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted commands that refer to <code>event</code> <span role="normative">must</span> have completed
    execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>event</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>event</code> was
    created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>event</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>event</code> <span role="normative">must</span> be a valid <code>VkEvent</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>event</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>event</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To query the state of an event from the host, call:</p></div>
<div class="listingblock">
<a id="vkGetEventStatus"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetEventStatus</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkEvent</span>                                     event<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the event.
</p>
</li>
<li>
<p>
<code>event</code> is the handle of the event to query.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Upon success, <code>vkGetEventStatus</code> returns the state of the event object
with the following return codes:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:80%;
">
<caption class="title">Table 6. Event Object Status Codes</caption>
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Status </th>
<th class="tableblock halign-left valign-top" > Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_EVENT_SET</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The event specified by <code>event</code> is signaled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_EVENT_RESET</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The event specified by <code>event</code> is unsignaled.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>If a <code>vkCmdSetEvent</code> or <code>vkCmdResetEvent</code> command is pending
execution, then the value returned by this command <span role="normative">may</span> immediately be out
of date.</p></div>
<div class="paragraph"><p>The state of an event <span role="normative">can</span> be updated by the host.
The state of the event is immediately changed, and subsequent calls to
<code>vkGetEventStatus</code> will return the new state.
If an event is already in the requested state, then updating it to the same
state has no effect.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>event</code> <span role="normative">must</span> be a valid <code>VkEvent</code> handle
</p>
</li>
<li>
<p>
<code>event</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_EVENT_SET</code>
</p>
</li>
<li>
<p>
<code>VK_EVENT_RESET</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph" id="synchronization-events-signaling-host"><p>To set the state of an event to signaled from the host, call:</p></div>
<div class="listingblock">
<a id="vkSetEvent"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkSetEvent</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkEvent</span>                                     event<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the event.
</p>
</li>
<li>
<p>
<code>event</code> is the event to set.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When <code><a href="#vkSetEvent">vkSetEvent</a></code> is executed on the host, it defines an <em>event signal
operation</em> which sets the event to the signaled state.</p></div>
<div class="paragraph"><p>If <code>event</code> is already in the signaled state when <code><a href="#vkSetEvent">vkSetEvent</a></code> is
executed, then <code><a href="#vkSetEvent">vkSetEvent</a></code> has no effect, and no event signal operation
occurs.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>event</code> <span role="normative">must</span> be a valid <code>VkEvent</code> handle
</p>
</li>
<li>
<p>
<code>event</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>event</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph" id="synchronization-events-unsignaling-host"><p>To set the state of an event to unsignaled from the host, call:</p></div>
<div class="listingblock">
<a id="vkResetEvent"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkResetEvent</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkEvent</span>                                     event<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the event.
</p>
</li>
<li>
<p>
<code>event</code> is the event to reset.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When <code><a href="#vkResetEvent">vkResetEvent</a></code> is executed on the host, it defines an <em>event
unsignal operation</em> which resets the event to the unsignaled state.</p></div>
<div class="paragraph"><p>If <code>event</code> is already in the unsignaled state when <code><a href="#vkResetEvent">vkResetEvent</a></code> is
executed, then <code><a href="#vkResetEvent">vkResetEvent</a></code> has no effect, and no event unsignal
operation occurs.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>event</code> <span role="normative">must</span> not be waited on by a <code>vkCmdWaitEvents</code> command
    that is currently executing
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>event</code> <span role="normative">must</span> be a valid <code>VkEvent</code> handle
</p>
</li>
<li>
<p>
<code>event</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>event</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The state of an event <span role="normative">can</span> also be updated on the device by commands
inserted in command buffers.</p></div>
<div class="paragraph" id="synchronization-events-signaling-device"><p>To set the state of an event to signaled from a device, call:</p></div>
<div class="listingblock">
<a id="vkCmdSetEvent"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdSetEvent</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkEvent</span>                                     event<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineStageFlags</span>                        stageMask<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command is
    recorded.
</p>
</li>
<li>
<p>
<code>event</code> is the event that will be signaled.
</p>
</li>
<li>
<p>
<code>stageMask</code> specifies the <a href="#synchronization-pipeline-stages">source     stage mask</a> used to determine when the <code>event</code> is signaled.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When <code><a href="#vkCmdSetEvent">vkCmdSetEvent</a></code> is submitted to a queue, it defines an execution
dependency on commands that were submitted before it, and defines an event
signal operation which sets the event to the signaled state.</p></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes every command previously submitted to the same queue, including
those in the same command buffer and batch.
The synchronization scope is limited to operations on the pipeline stages
determined by the <a href="#synchronization-pipeline-stages-masks">source stage mask</a> specified by <code>stageMask</code>.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes only the event signal operation.</p></div>
<div class="paragraph"><p>If <code>event</code> is already in the signaled state when <code><a href="#vkCmdSetEvent">vkCmdSetEvent</a></code> is
executed on the device, then <code><a href="#vkCmdSetEvent">vkCmdSetEvent</a></code> has no effect, no event
signal operation occurs, and no execution dependency is generated.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>stageMask</code> <span role="normative">must</span> not include <code>VK_PIPELINE_STAGE_HOST_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-geometryShader">geometry shaders</a> feature is
    not enabled, <code>stageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-tessellationShader">tessellation shaders</a>
    feature is not enabled, <code>stageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
    <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>event</code> <span role="normative">must</span> be a valid <code>VkEvent</code> handle
</p>
</li>
<li>
<p>
<code>stageMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>stageMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics, or compute operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and <code>event</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph" id="synchronization-events-unsignaling-device"><p>To set the state of an event to unsignaled from a device, call:</p></div>
<div class="listingblock">
<a id="vkCmdResetEvent"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdResetEvent</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkEvent</span>                                     event<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineStageFlags</span>                        stageMask<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command is
    recorded.
</p>
</li>
<li>
<p>
<code>event</code> is the event that will be unsignaled.
</p>
</li>
<li>
<p>
<code>stageMask</code> specifies the <a href="#synchronization-pipeline-stages">source     stage mask</a> used to determine when the <code>event</code> is unsignaled.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When <code><a href="#vkCmdResetEvent">vkCmdResetEvent</a></code> is submitted to a queue, it defines an execution
dependency on commands that were submitted before it, and defines an event
unsignal operation which resets the event to the unsignaled state.</p></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes every command previously submitted to the same queue, including
those in the same command buffer and batch.
The synchronization scope is limited to operations on the pipeline stages
determined by the <a href="#synchronization-pipeline-stages-masks">source stage mask</a> specified by <code>stageMask</code>.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes only the event unsignal operation.</p></div>
<div class="paragraph"><p>If <code>event</code> is already in the unsignaled state when <code><a href="#vkCmdResetEvent">vkCmdResetEvent</a></code>
is executed on the device, then <code><a href="#vkCmdResetEvent">vkCmdResetEvent</a></code> has no effect, no
event unsignal operation occurs, and no execution dependency is generated.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>stageMask</code> <span role="normative">must</span> not include <code>VK_PIPELINE_STAGE_HOST_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-geometryShader">geometry shaders</a> feature is
    not enabled, <code>stageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-tessellationShader">tessellation shaders</a>
    feature is not enabled, <code>stageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
    <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</p>
</li>
<li>
<p>
When this command executes, <code>event</code> <span role="normative">must</span> not be waited on by a
    <code>vkCmdWaitEvents</code> command that is currently executing
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>event</code> <span role="normative">must</span> be a valid <code>VkEvent</code> handle
</p>
</li>
<li>
<p>
<code>stageMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>stageMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics, or compute operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and <code>event</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>To wait for one or more events to enter the signaled state on a device,
call:</p></div>
<div class="listingblock">
<a id="vkCmdWaitEvents"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdWaitEvents</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    eventCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkEvent<span style="color: #990000">*</span>                              pEvents<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineStageFlags</span>                        srcStageMask<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineStageFlags</span>                        dstStageMask<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    memoryBarrierCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkMemoryBarrier<span style="color: #990000">*</span>                      pMemoryBarriers<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    bufferMemoryBarrierCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkBufferMemoryBarrier<span style="color: #990000">*</span>                pBufferMemoryBarriers<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    imageMemoryBarrierCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkImageMemoryBarrier<span style="color: #990000">*</span>                 pImageMemoryBarriers<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command is
    recorded.
</p>
</li>
<li>
<p>
<code>eventCount</code> is the length of the <code>pEvents</code> array.
</p>
</li>
<li>
<p>
<code>pEvents</code> is an array of event object handles to wait on.
</p>
</li>
<li>
<p>
<code>srcStageMask</code> is the <a href="#synchronization-pipeline-stages">source     stage mask</a>
</p>
</li>
<li>
<p>
<code>dstStageMask</code> is the <a href="#synchronization-pipeline-stages">destination     stage mask</a>.
</p>
</li>
<li>
<p>
<code>memoryBarrierCount</code> is the length of the <code>pMemoryBarriers</code>
    array.
</p>
</li>
<li>
<p>
<code>pMemoryBarriers</code> is a pointer to an array of <code><a href="#VkMemoryBarrier">VkMemoryBarrier</a></code>
    structures.
</p>
</li>
<li>
<p>
<code>bufferMemoryBarrierCount</code> is the length of the
    <code>pBufferMemoryBarriers</code> array.
</p>
</li>
<li>
<p>
<code>pBufferMemoryBarriers</code> is a pointer to an array of
    <code><a href="#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a></code> structures.
</p>
</li>
<li>
<p>
<code>imageMemoryBarrierCount</code> is the length of the
    <code>pImageMemoryBarriers</code> array.
</p>
</li>
<li>
<p>
<code>pImageMemoryBarriers</code> is a pointer to an array of
    <code><a href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a></code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When <code>vkCmdWaitEvents</code> is submitted to a queue, it defines a memory
dependency between prior event signal operations, and subsequent commands.</p></div>
<div class="paragraph"><p>The first synchronization scope only includes event signal operations that
operate on members of <code>pEvents</code>, and the operations that happened-before
the event signal operations.
Event signal operations performed by <code><a href="#vkCmdSetEvent">vkCmdSetEvent</a></code> that were
previously submitted to the same queue are included in the first
synchronization scope, if the <a href="#synchronization-pipeline-stages-order">logically latest</a> pipeline stage in their <code>stageMask</code> parameter is
<a href="#synchronization-pipeline-stages-order">logically earlier</a> than or equal
to the <a href="#synchronization-pipeline-stages-order">logically latest</a> pipeline
stage in <code>srcStageMask</code>.
Event signal operations performed by <code><a href="#vkSetEvent">vkSetEvent</a></code> are only included in
the first synchronization scope if <code>VK_PIPELINE_STAGE_HOST_BIT</code> is
included in <code>srcStageMask</code>.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes commands subsequently submitted to the same queue, including those
in the same command buffer and batch.
The second synchronization scope is limited to operations on the pipeline
stages determined by the <a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified by <code>dstStageMask</code>.</p></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access in the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">source stage mask</a> specified by
<code>srcStageMask</code>.
Within that, the first access scope only includes the first access scopes
defined by elements of the <code>pMemoryBarriers</code>,
<code>pBufferMemoryBarriers</code> and <code>pImageMemoryBarriers</code> arrays, which
each define a set of <a href="#synchronization-memory-barriers">memory barriers</a>.
If no memory barriers are specified, then the first access scope includes no
accesses.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access in the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified
by <code>dstStageMask</code>.
Within that, the second access scope only includes the second access scopes
defined by elements of the <code>pMemoryBarriers</code>,
<code>pBufferMemoryBarriers</code> and <code>pImageMemoryBarriers</code> arrays, which
each define a set of <a href="#synchronization-memory-barriers">memory barriers</a>.
If no memory barriers are specified, then the second access scope includes
no accesses.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p><code><a href="#vkCmdWaitEvents">vkCmdWaitEvents</a></code> is used with <code><a href="#vkCmdSetEvent">vkCmdSetEvent</a></code> to define a memory
dependency between two sets of action commands, roughly in the same way as
pipeline barriers, but split into two commands such that work between the
two <span role="normative">may</span> execute unhindered.</p></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Applications <span role="normative">should</span> be careful to avoid race conditions when using events.
There is no direct ordering guarantee between a <code><a href="#vkCmdResetEvent">vkCmdResetEvent</a></code>
command and a <code><a href="#vkCmdWaitEvents">vkCmdWaitEvents</a></code> command submitted after it, so some
other execution dependency <span role="normative">must</span> be included between these commands (e.g. a
semaphore).</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>srcStageMask</code> <span role="normative">must</span> be the bitwise OR of the <code>stageMask</code>
    parameter used in previous calls to <code>vkCmdSetEvent</code> with any of the
    members of <code>pEvents</code> and <code>VK_PIPELINE_STAGE_HOST_BIT</code> if any of
    the members of <code>pEvents</code> was set using <code>vkSetEvent</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-geometryShader">geometry shaders</a> feature is
    not enabled, <code>srcStageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-geometryShader">geometry shaders</a> feature is
    not enabled, <code>dstStageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-tessellationShader">tessellation shaders</a>
    feature is not enabled, <code>srcStageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
    <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-tessellationShader">tessellation shaders</a>
    feature is not enabled, <code>dstStageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
    <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If <code>pEvents</code> includes one or more events that will be signaled by
    <code>vkSetEvent</code> after <code>commandBuffer</code> has been submitted to a
    queue, then <code>vkCmdWaitEvents</code> <span role="normative">must</span> not be called inside a render
    pass instance
</p>
</li>
<li>
<p>
Any pipeline stage included in <code>srcStageMask</code> or <code>dstStageMask</code>
    <span role="normative">must</span> be supported by the capabilities of the queue family specified by
    the <code>queueFamilyIndex</code> member of the <code><a href="#VkCommandPoolCreateInfo">VkCommandPoolCreateInfo</a></code>
    structure that was used to create the <code>VkCommandPool</code> that
    <code>commandBuffer</code> was allocated from, as specified in the
    <a href="#synchronization-pipeline-stages-supported">table of supported pipeline     stages</a>.
</p>
</li>
<li>
<p>
Any given element of <code>pMemoryBarriers</code>, <code>pBufferMemoryBarriers</code>
    or <code>pImageMemoryBarriers</code> <span role="normative">must</span> not have any access flag included in
    its <code>srcAccessMask</code> member if that bit is not supported by any of
    the pipeline stages in <code>srcStageMask</code>, as specified in the
    <a href="#synchronization-access-types-supported">table of supported access     types</a>.
</p>
</li>
<li>
<p>
Any given element of <code>pMemoryBarriers</code>, <code>pBufferMemoryBarriers</code>
    or <code>pImageMemoryBarriers</code> <span role="normative">must</span> not have any access flag included in
    its <code>dstAccessMask</code> member if that bit is not supported by any of
    the pipeline stages in <code>dstStageMask</code>, as specified in the
    <a href="#synchronization-access-types-supported">table of supported access     types</a>.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pEvents</code> <span role="normative">must</span> be a pointer to an array of <code>eventCount</code> valid <code>VkEvent</code> handles
</p>
</li>
<li>
<p>
<code>srcStageMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>srcStageMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>dstStageMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>dstStageMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>memoryBarrierCount</code> is not <span class="monospaced">0</span>, <code>pMemoryBarriers</code> <span role="normative">must</span> be a pointer to an array of <code>memoryBarrierCount</code> valid <code>VkMemoryBarrier</code> structures
</p>
</li>
<li>
<p>
If <code>bufferMemoryBarrierCount</code> is not <span class="monospaced">0</span>, <code>pBufferMemoryBarriers</code> <span role="normative">must</span> be a pointer to an array of <code>bufferMemoryBarrierCount</code> valid <code>VkBufferMemoryBarrier</code> structures
</p>
</li>
<li>
<p>
If <code>imageMemoryBarrierCount</code> is not <span class="monospaced">0</span>, <code>pImageMemoryBarriers</code> <span role="normative">must</span> be a pointer to an array of <code>imageMemoryBarrierCount</code> valid <code>VkImageMemoryBarrier</code> structures
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics, or compute operations
</p>
</li>
<li>
<p>
<code>eventCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and the elements of <code>pEvents</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
</div>
<div class="sect2">
<h3 id="synchronization-pipeline-barriers">6.5. Pipeline Barriers</h3>
<div class="paragraph"><p><code><a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code> is a synchronization command that inserts a
dependency between commands submitted to the same queue, or between commands
in the same subpass.</p></div>
<div class="paragraph"><p>To record a pipeline barrier, call:</p></div>
<div class="listingblock">
<a id="vkCmdPipelineBarrier"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdPipelineBarrier</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineStageFlags</span>                        srcStageMask<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineStageFlags</span>                        dstStageMask<span style="color: #990000">,</span>
    <span style="color: #008080">VkDependencyFlags</span>                           dependencyFlags<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    memoryBarrierCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkMemoryBarrier<span style="color: #990000">*</span>                      pMemoryBarriers<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    bufferMemoryBarrierCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkBufferMemoryBarrier<span style="color: #990000">*</span>                pBufferMemoryBarriers<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    imageMemoryBarrierCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkImageMemoryBarrier<span style="color: #990000">*</span>                 pImageMemoryBarriers<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command is
    recorded.
</p>
</li>
<li>
<p>
<code>srcStageMask</code> defines a <a href="#synchronization-pipeline-stages-masks">source stage mask</a>.
</p>
</li>
<li>
<p>
<code>dstStageMask</code> defines a <a href="#synchronization-pipeline-stages-masks">destination stage mask</a>.
</p>
</li>
<li>
<p>
<code>dependencyFlags</code> is a bitmask of <code><a href="#VkDependencyFlagBits">VkDependencyFlagBits</a></code>.
    The bits that <span role="normative">can</span> be included in <code>dependencyFlags</code> are:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkDependencyFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkDependencyFlagBits <span style="color: #FF0000">{</span>
    VK_DEPENDENCY_BY_REGION_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkDependencyFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_DEPENDENCY_BY_REGION_BIT</code> signifies that dependencies will be
     <a href="#synchronization-framebuffer-regions">framebuffer-local</a>.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>memoryBarrierCount</code> is the length of the <code>pMemoryBarriers</code>
    array.
</p>
</li>
<li>
<p>
<code>pMemoryBarriers</code> is a pointer to an array of <code><a href="#VkMemoryBarrier">VkMemoryBarrier</a></code>
    structures.
</p>
</li>
<li>
<p>
<code>bufferMemoryBarrierCount</code> is the length of the
    <code>pBufferMemoryBarriers</code> array.
</p>
</li>
<li>
<p>
<code>pBufferMemoryBarriers</code> is a pointer to an array of
    <code><a href="#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a></code> structures.
</p>
</li>
<li>
<p>
<code>imageMemoryBarrierCount</code> is the length of the
    <code>pImageMemoryBarriers</code> array.
</p>
</li>
<li>
<p>
<code>pImageMemoryBarriers</code> is a pointer to an array of
    <code><a href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a></code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When <code><a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code> is submitted to a queue, it defines a memory
dependency between commands that were submitted before it, and those
submitted after it.</p></div>
<div class="paragraph"><p>If <code><a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code> was recorded outside a render pass instance,
the first <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes every command submitted to the same queue before it, including
those in the same command buffer and batch.
If <code><a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code> was recorded inside a render pass instance,
the first synchronization scope includes only commands submitted before it
within the same subpass.
In either case, the first synchronization scope is limited to operations on
the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">source stage mask</a> specified by
<code>srcStageMask</code>.</p></div>
<div class="paragraph"><p>If <code><a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code> was recorded outside a render pass instance,
the second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes every command submitted to the same queue after it, including those
in the same command buffer and batch.
If <code><a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code> was recorded inside a render pass instance,
the second synchronization scope includes only commands submitted after it
within the same subpass.
In either case, the second synchronization scope is limited to operations on
the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified
by <code>dstStageMask</code>.</p></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access in the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">source stage mask</a> specified by
<code>srcStageMask</code>.
Within that, the first access scope only includes the first access scopes
defined by elements of the <code>pMemoryBarriers</code>,
<code>pBufferMemoryBarriers</code> and <code>pImageMemoryBarriers</code> arrays, which
each define a set of <a href="#synchronization-memory-barriers">memory barriers</a>.
If no memory barriers are specified, then the first access scope includes no
accesses.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access in the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified
by <code>dstStageMask</code>.
Within that, the second access scope only includes the second access scopes
defined by elements of the <code>pMemoryBarriers</code>,
<code>pBufferMemoryBarriers</code> and <code>pImageMemoryBarriers</code> arrays, which
each define a set of <a href="#synchronization-memory-barriers">memory barriers</a>.
If no memory barriers are specified, then the second access scope includes
no accesses.</p></div>
<div class="paragraph"><p>If <code>dependencyFlags</code> includes <code>VK_DEPENDENCY_BY_REGION_BIT</code>, then
any dependency between <a href="#synchronization-framebuffer-regions">framebuffer-space</a> pipeline stages is
<a href="#synchronization-framebuffer-regions">framebuffer-local</a> - otherwise it is
<a href="#synchronization-framebuffer-regions">framebuffer-global</a>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <a href="#features-features-geometryShader">geometry shaders</a> feature is
    not enabled, <code>srcStageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-geometryShader">geometry shaders</a> feature is
    not enabled, <code>dstStageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-tessellationShader">tessellation shaders</a>
    feature is not enabled, <code>srcStageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
    <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-tessellationShader">tessellation shaders</a>
    feature is not enabled, <code>dstStageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
    <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If <code>vkCmdPipelineBarrier</code> is called within a render pass instance,
    the render pass <span role="normative">must</span> have been created with a <code>VkSubpassDependency</code>
    instance in <code>pDependencies</code> that expresses a dependency from the
    current subpass to itself.
    Additionally:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>srcStageMask</code> <span role="normative">must</span> contain a subset of the bit values in the
     <code>srcStageMask</code> member of that instance of <code>VkSubpassDependency</code>
</p>
</li>
<li>
<p>
<code>dstStageMask</code> <span role="normative">must</span> contain a subset of the bit values in the
     <code>dstStageMask</code> member of that instance of <code>VkSubpassDependency</code>
</p>
</li>
<li>
<p>
The <code>srcAccessMask</code> of any element of <code>pMemoryBarriers</code> or
     <code>pImageMemoryBarriers</code> <span role="normative">must</span> contain a subset of the bit values the
     <code>srcAccessMask</code> member of that instance of
     <code>VkSubpassDependency</code>
</p>
</li>
<li>
<p>
The <code>dstAccessMask</code> of any element of <code>pMemoryBarriers</code> or
     <code>pImageMemoryBarriers</code> <span role="normative">must</span> contain a subset of the bit values the
     <code>dstAccessMask</code> member of that instance of
     <code>VkSubpassDependency</code>
</p>
</li>
<li>
<p>
<code>dependencyFlags</code> <span role="normative">must</span> be equal to the <code>dependencyFlags</code>
     member of that instance of <code>VkSubpassDependency</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
If <code>vkCmdPipelineBarrier</code> is called within a render pass instance,
    <code>bufferMemoryBarrierCount</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>vkCmdPipelineBarrier</code> is called within a render pass instance,
    the <code>image</code> member of any element of <code>pImageMemoryBarriers</code>
    <span role="normative">must</span> be equal to one of the elements of <code>pAttachments</code> that the
    current <code>framebuffer</code> was created with, that is also referred to by
    one of the elements of the <code>pColorAttachments</code>,
    <code>pResolveAttachments</code> or <code>pDepthStencilAttachment</code> members of
    the <code>VkSubpassDescription</code> instance that the current subpass was
    created with
</p>
</li>
<li>
<p>
If <code>vkCmdPipelineBarrier</code> is called within a render pass instance,
    the <code>oldLayout</code> and <code>newLayout</code> members of any element of
    <code>pImageMemoryBarriers</code> <span role="normative">must</span> be equal to the <code>layout</code> member of
    an element of the <code>pColorAttachments</code>, <code>pResolveAttachments</code> or
    <code>pDepthStencilAttachment</code> members of the <code>VkSubpassDescription</code>
    instance that the current subpass was created with, that refers to the
    same <code>image</code>
</p>
</li>
<li>
<p>
If <code>vkCmdPipelineBarrier</code> is called within a render pass instance,
    the <code>oldLayout</code> and <code>newLayout</code> members of an element of
    <code>pImageMemoryBarriers</code> <span role="normative">must</span> be equal
</p>
</li>
<li>
<p>
If <code>vkCmdPipelineBarrier</code> is called within a render pass instance,
    the <code>srcQueueFamilyIndex</code> and <code>dstQueueFamilyIndex</code> members of
    any element of <code>pImageMemoryBarriers</code> <span role="normative">must</span> be
    <code>VK_QUEUE_FAMILY_IGNORED</code>
</p>
</li>
<li>
<p>
Any pipeline stage included in <code>srcStageMask</code> or <code>dstStageMask</code>
    <span role="normative">must</span> be supported by the capabilities of the queue family specified by
    the <code>queueFamilyIndex</code> member of the <code><a href="#VkCommandPoolCreateInfo">VkCommandPoolCreateInfo</a></code>
    structure that was used to create the <code>VkCommandPool</code> that
    <code>commandBuffer</code> was allocated from, as specified in the
    <a href="#synchronization-pipeline-stages-supported">table of supported pipeline     stages</a>.
</p>
</li>
<li>
<p>
Any given element of <code>pMemoryBarriers</code>, <code>pBufferMemoryBarriers</code>
    or <code>pImageMemoryBarriers</code> <span role="normative">must</span> not have any access flag included in
    its <code>srcAccessMask</code> member if that bit is not supported by any of
    the pipeline stages in <code>srcStageMask</code>, as specified in the
    <a href="#synchronization-access-types-supported">table of supported access     types</a>.
</p>
</li>
<li>
<p>
Any given element of <code>pMemoryBarriers</code>, <code>pBufferMemoryBarriers</code>
    or <code>pImageMemoryBarriers</code> <span role="normative">must</span> not have any access flag included in
    its <code>dstAccessMask</code> member if that bit is not supported by any of
    the pipeline stages in <code>dstStageMask</code>, as specified in the
    <a href="#synchronization-access-types-supported">table of supported access     types</a>.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>srcStageMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>srcStageMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>dstStageMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>dstStageMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>dependencyFlags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkDependencyFlagBits">VkDependencyFlagBits</a></code> values
</p>
</li>
<li>
<p>
If <code>memoryBarrierCount</code> is not <span class="monospaced">0</span>, <code>pMemoryBarriers</code> <span role="normative">must</span> be a pointer to an array of <code>memoryBarrierCount</code> valid <code>VkMemoryBarrier</code> structures
</p>
</li>
<li>
<p>
If <code>bufferMemoryBarrierCount</code> is not <span class="monospaced">0</span>, <code>pBufferMemoryBarriers</code> <span role="normative">must</span> be a pointer to an array of <code>bufferMemoryBarrierCount</code> valid <code>VkBufferMemoryBarrier</code> structures
</p>
</li>
<li>
<p>
If <code>imageMemoryBarrierCount</code> is not <span class="monospaced">0</span>, <code>pImageMemoryBarriers</code> <span role="normative">must</span> be a pointer to an array of <code>imageMemoryBarrierCount</code> valid <code>VkImageMemoryBarrier</code> structures
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support transfer, graphics, or compute operations
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer<br>
graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="sect3">
<h4 id="synchronization-pipeline-barriers-subpass-self-dependencies">6.5.1. Subpass Self-dependency</h4>
<div class="paragraph"><p>If <code>vkCmdPipelineBarrier</code> is called inside a render pass instance, the
following restrictions apply.
For a given subpass to allow a pipeline barrier, the render pass <span role="normative">must</span>
declare a <em>self-dependency</em> from that subpass to itself.
That is, there <span role="normative">must</span> exist a <code>VkSubpassDependency</code> in the subpass
dependency list for the render pass with <code>srcSubpass</code> and
<code>dstSubpass</code> equal to that subpass index.
More than one self-dependency <span role="normative">can</span> be declared for each subpass.
Self-dependencies <span role="normative">must</span> only include pipeline stage bits that are graphics
stages.
Self-dependencies <span role="normative">must</span> not have any earlier pipeline stages depend on any
later pipeline stages.
More precisely, this means that whatever is the last pipeline stage in
<code>srcStageMask</code> <span role="normative">must</span> be no later than whatever is the first pipeline
stage in <code>dstStageMask</code> (the latest source stage <span role="normative">can</span> be equal to the
earliest destination stage).
If the source and destination stage masks both include framebuffer-space
stages, then <code>dependencyFlags</code> <span role="normative">must</span> include
<code>VK_DEPENDENCY_BY_REGION_BIT</code>.</p></div>
<div class="paragraph"><p>A <code>vkCmdPipelineBarrier</code> command inside a render pass instance <span role="normative">must</span> be
a <em>subset</em> of one of the self-dependencies of the subpass it is used in,
meaning that the stage masks and access masks <span role="normative">must</span> each include only a
subset of the bits of the corresponding mask in that self-dependency.
If the self-dependency has <code>VK_DEPENDENCY_BY_REGION_BIT</code> set, then so
<span role="normative">must</span> the pipeline barrier.
Pipeline barriers within a render pass instance <span role="normative">can</span> only be types
<code>VkMemoryBarrier</code> or <code>VkImageMemoryBarrier</code>.
If a <code>VkImageMemoryBarrier</code> is used, the image and image subresource
range specified in the barrier <span role="normative">must</span> be a subset of one of the image views
used by the framebuffer in the current subpass.
Additionally, <code>oldLayout</code> <span role="normative">must</span> be equal to <code>newLayout</code>, and both
the <code>srcQueueFamilyIndex</code> and <code>dstQueueFamilyIndex</code> <span role="normative">must</span> be
<code>VK_QUEUE_FAMILY_IGNORED</code>.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="synchronization-memory-barriers">6.6. Memory Barriers</h3>
<div class="paragraph"><p><em>Memory barriers</em> are used to explicitly control access to buffer and image
subresource ranges.
Memory barriers are used to <a href="#synchronization-queue-transfers">transfer ownership between queue families</a>,
<a href="#synchronization-image-layout-transitions">change image layouts</a>, and
define <a href="#synchronization-dependencies-available-and-visible">availability and visibility operations</a>.
They explicitly define the <a href="#synchronization-access-types">access types</a>
and buffer and image subresource ranges that are included in the
<a href="#synchronization-dependencies-access-scopes">access scopes</a> of a memory
dependency that is created by a synchronization command that includes them.</p></div>
<div class="sect3">
<h4 id="synchronization-global-memory-barriers">6.6.1. Global Memory Barriers</h4>
<div class="paragraph"><p>Global memory barriers apply to memory accesses involving all memory objects
that exist at the time of its execution.</p></div>
<div class="paragraph"><p>The <code>VkMemoryBarrier</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkMemoryBarrier"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkMemoryBarrier</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>    sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>        pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkAccessFlags</span>      srcAccessMask<span style="color: #990000">;</span>
    <span style="color: #008080">VkAccessFlags</span>      dstAccessMask<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkMemoryBarrier<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>srcAccessMask</code> defines a <a href="#synchronization-access-masks">source     access mask</a>.
</p>
</li>
<li>
<p>
<code>dstAccessMask</code> defines a <a href="#synchronization-access-masks">destination access mask</a>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access types in the <a href="#synchronization-access-masks">source access mask</a> specified by <code>srcAccessMask</code>.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access types in the <a href="#synchronization-access-masks">destination access mask</a> specified by <code>dstAccessMask</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_MEMORY_BARRIER</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>srcAccessMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>dstAccessMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect3">
<h4 id="synchronization-buffer-memory-barriers">6.6.2. Buffer Memory Barriers</h4>
<div class="paragraph"><p>Buffer memory barriers only apply to memory accesses involving a specific
buffer range.
That is, a memory dependency formed from an buffer memory barrier is
<a href="#synchronization-dependencies-access-scopes">scoped</a> to access via the
specified buffer range.
Buffer memory barriers <span role="normative">can</span> also be used to define a
<a href="#synchronization-queue-transfers">queue family ownership transfer</a> for the
specified buffer range.</p></div>
<div class="paragraph"><p>The <code>VkBufferMemoryBarrier</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkBufferMemoryBarrier"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkBufferMemoryBarrier</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>    sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>        pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkAccessFlags</span>      srcAccessMask<span style="color: #990000">;</span>
    <span style="color: #008080">VkAccessFlags</span>      dstAccessMask<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>           srcQueueFamilyIndex<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>           dstQueueFamilyIndex<span style="color: #990000">;</span>
    <span style="color: #008080">VkBuffer</span>           buffer<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>       offset<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>       size<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkBufferMemoryBarrier<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>srcAccessMask</code> defines a <a href="#synchronization-access-masks">source     access mask</a>.
</p>
</li>
<li>
<p>
<code>dstAccessMask</code> defines a <a href="#synchronization-access-masks">destination access mask</a>.
</p>
</li>
<li>
<p>
<code>srcQueueFamilyIndex</code> is the source queue family for a
    <a href="#synchronization-queue-transfers">queue family ownership transfer</a>.
</p>
</li>
<li>
<p>
<code>dstQueueFamilyIndex</code> is the destination queue family for a
    <a href="#synchronization-queue-transfers">queue family ownership transfer</a>.
</p>
</li>
<li>
<p>
<code>buffer</code> is a handle to the buffer whose backing memory is affected
    by the barrier.
</p>
</li>
<li>
<p>
<code>offset</code> is an offset in bytes into the backing memory for
    <code>buffer</code>; this is relative to the base offset as bound to the buffer
    (see <code><a href="#vkBindBufferMemory">vkBindBufferMemory</a></code>).
</p>
</li>
<li>
<p>
<code>size</code> is a size in bytes of the affected area of backing memory for
    <code>buffer</code>, or <code>VK_WHOLE_SIZE</code> to use the range from <code>offset</code>
    to the end of the buffer.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access to memory through the specified buffer range, via access
types in the <a href="#synchronization-access-masks">source access mask</a> specified
by <code>srcAccessMask</code>.
If <code>srcAccessMask</code> includes <code>VK_ACCESS_HOST_WRITE_BIT</code>, memory
writes performed by that access type are also made visible, as that access
type is not performed through a resource.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access to memory through the specified buffer range, via access
types in the <a href="#synchronization-access-masks">destination access mask</a>
specified by <code>dstAccessMask</code>.
If <code>dstAccessMask</code> includes <code>VK_ACCESS_HOST_WRITE_BIT</code> or
<code>VK_ACCESS_HOST_READ_BIT</code>, available memory writes are also made visible
to accesses of those types, as those access types are not performed through
a resource.</p></div>
<div class="paragraph"><p>If <code>srcQueueFamilyIndex</code> is not equal to <code>dstQueueFamilyIndex</code>, and
<code>srcQueueFamilyIndex</code> is equal to the current queue family, then the
memory barrier defines a <a href="#synchronization-queue-transfers-release">queue family release operation</a> for the specified buffer range, and the second
access scope includes no access, as if <code>dstAccessMask</code> was <span class="monospaced">0</span>.</p></div>
<div class="paragraph"><p>If <code>dstQueueFamilyIndex</code> is not equal to <code>srcQueueFamilyIndex</code>, and
<code>dstQueueFamilyIndex</code> is equal to the current queue family, then the
memory barrier defines a <a href="#synchronization-queue-transfers-acquire">queue family acquire operation</a> for the specified buffer range, and the first
access scope includes no access, as if <code>srcAccessMask</code> was <span class="monospaced">0</span>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be less than the size of <code>buffer</code>
</p>
</li>
<li>
<p>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <span role="normative">must</span> be
    greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <span role="normative">must</span> be
    less than or equal to than the size of <code>buffer</code> minus <code>offset</code>
</p>
</li>
<li>
<p>
If <code>buffer</code> was created with a sharing mode of
    <code>VK_SHARING_MODE_CONCURRENT</code>, <code>srcQueueFamilyIndex</code> and
    <code>dstQueueFamilyIndex</code> <span role="normative">must</span> both be <code>VK_QUEUE_FAMILY_IGNORED</code>
</p>
</li>
<li>
<p>
If <code>buffer</code> was created with a sharing mode of
    <code>VK_SHARING_MODE_EXCLUSIVE</code>, <code>srcQueueFamilyIndex</code> and
    <code>dstQueueFamilyIndex</code> <span role="normative">must</span> either both be
    <code>VK_QUEUE_FAMILY_IGNORED</code>, or both be a valid queue family (see
    <a href="#devsandqueues-queueprops">[devsandqueues-queueprops]</a>)
</p>
</li>
<li>
<p>
If <code>buffer</code> was created with a sharing mode of
    <code>VK_SHARING_MODE_EXCLUSIVE</code>, and <code>srcQueueFamilyIndex</code> and
    <code>dstQueueFamilyIndex</code> are valid queue families, at least one of them
    <span role="normative">must</span> be the same as the family of the queue that will execute this
    barrier
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_BUFFER_MEMORY_BARRIER</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>srcAccessMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>dstAccessMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect3">
<h4 id="synchronization-image-memory-barriers">6.6.3. Image Memory Barriers</h4>
<div class="paragraph"><p>Image memory barriers only apply to memory accesses involving a specific
image subresource range.
That is, a memory dependency formed from an image memory barrier is
<a href="#synchronization-dependencies-access-scopes">scoped</a> to access via the
specified image subresource range.
Image memory barriers <span role="normative">can</span> also be used to define
<a href="#synchronization-image-layout-transitions">image layout transitions</a> or a
<a href="#synchronization-queue-transfers">queue family ownership transfer</a> for the
specified image subresource range.</p></div>
<div class="paragraph"><p>The <code>VkImageMemoryBarrier</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkImageMemoryBarrier"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkImageMemoryBarrier</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>            sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkAccessFlags</span>              srcAccessMask<span style="color: #990000">;</span>
    <span style="color: #008080">VkAccessFlags</span>              dstAccessMask<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageLayout</span>              oldLayout<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageLayout</span>              newLayout<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                   srcQueueFamilyIndex<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                   dstQueueFamilyIndex<span style="color: #990000">;</span>
    <span style="color: #008080">VkImage</span>                    image<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageSubresourceRange</span>    subresourceRange<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkImageMemoryBarrier<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>srcAccessMask</code> defines a <a href="#synchronization-access-masks">source     access mask</a>.
</p>
</li>
<li>
<p>
<code>dstAccessMask</code> defines a <a href="#synchronization-access-masks">destination access mask</a>.
</p>
</li>
<li>
<p>
<code>oldLayout</code> is the old layout in an
    <a href="#synchronization-image-layout-transitions">image layout transition</a>.
</p>
</li>
<li>
<p>
<code>newLayout</code> is the new layout in an
    <a href="#synchronization-image-layout-transitions">image layout transition</a>.
</p>
</li>
<li>
<p>
<code>srcQueueFamilyIndex</code> is the source queue family for a
    <a href="#synchronization-queue-transfers">queue family ownership transfer</a>.
</p>
</li>
<li>
<p>
<code>dstQueueFamilyIndex</code> is the destination queue family for a
    <a href="#synchronization-queue-transfers">queue family ownership transfer</a>.
</p>
</li>
<li>
<p>
<code>image</code> is a handle to the image affected by this barrier.
</p>
</li>
<li>
<p>
<code>subresourceRange</code> describes the <a href="#resources-image-views">image     subresource range</a> within <code>image</code> that is affected by this barrier.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access to memory through the specified image subresource range,
via access types in the <a href="#synchronization-access-masks">source access mask</a>
specified by <code>srcAccessMask</code>.
If <code>srcAccessMask</code> includes <code>VK_ACCESS_HOST_WRITE_BIT</code>, memory
writes performed by that access type are also made visible, as that access
type is not performed through a resource.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access to memory through the specified image subresource range,
via access types in the <a href="#synchronization-access-masks">destination access mask</a> specified by <code>dstAccessMask</code>.
If <code>dstAccessMask</code> includes <code>VK_ACCESS_HOST_WRITE_BIT</code> or
<code>VK_ACCESS_HOST_READ_BIT</code>, available memory writes are also made visible
to accesses of those types, as those access types are not performed through
a resource.</p></div>
<div class="paragraph"><p>If <code>srcQueueFamilyIndex</code> is not equal to <code>dstQueueFamilyIndex</code>, and
<code>srcQueueFamilyIndex</code> is equal to the current queue family, then the
memory barrier defines a <a href="#synchronization-queue-transfers-release">queue family release operation</a> for the specified image subresource range, and
the second access scope includes no access, as if <code>dstAccessMask</code> was
<span class="monospaced">0</span>.</p></div>
<div class="paragraph"><p>If <code>dstQueueFamilyIndex</code> is not equal to <code>srcQueueFamilyIndex</code>, and
<code>dstQueueFamilyIndex</code> is equal to the current queue family, then the
memory barrier defines a <a href="#synchronization-queue-transfers-acquire">queue family acquire operation</a> for the specified image subresource range, and
the first access scope includes no access, as if <code>srcAccessMask</code> was
<span class="monospaced">0</span>.</p></div>
<div class="paragraph"><p>If <code>oldLayout</code> is not equal to <code>newLayout</code>, then the memory barrier
defines an <a href="#synchronization-image-layout-transitions">image layout transition</a> for the specified image subresource range.
Layout transitions that are performed via image memory barriers
automatically happen-after layout transitions previously submitted to the
same queue, and automatically happen-before layout transitions subsequently
submitted to the same queue; this includes layout transitions that occur as
part of a render pass instance, in both cases.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>oldLayout</code> <span role="normative">must</span> be <code>VK_IMAGE_LAYOUT_UNDEFINED</code> or the current
    layout of the image subresources affected by the barrier
</p>
</li>
<li>
<p>
<code>newLayout</code> <span role="normative">must</span> not be <code>VK_IMAGE_LAYOUT_UNDEFINED</code> or
    <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>
</p>
</li>
<li>
<p>
If <code>image</code> was created with a sharing mode of
    <code>VK_SHARING_MODE_CONCURRENT</code>, <code>srcQueueFamilyIndex</code> and
    <code>dstQueueFamilyIndex</code> <span role="normative">must</span> both be <code>VK_QUEUE_FAMILY_IGNORED</code>
</p>
</li>
<li>
<p>
If <code>image</code> was created with a sharing mode of
    <code>VK_SHARING_MODE_EXCLUSIVE</code>, <code>srcQueueFamilyIndex</code> and
    <code>dstQueueFamilyIndex</code> <span role="normative">must</span> either both be
    <code>VK_QUEUE_FAMILY_IGNORED</code>, or both be a valid queue family (see
    <a href="#devsandqueues-queueprops">[devsandqueues-queueprops]</a>)
</p>
</li>
<li>
<p>
If <code>image</code> was created with a sharing mode of
    <code>VK_SHARING_MODE_EXCLUSIVE</code>, and <code>srcQueueFamilyIndex</code> and
    <code>dstQueueFamilyIndex</code> are valid queue families, at least one of them
    <span role="normative">must</span> be the same as the family of the queue that will execute this
    barrier
</p>
</li>
<li>
<p>
<code>subresourceRange</code> <span role="normative">must</span> be a valid image subresource range for the
    image (see <a href="#resources-image-views">[resources-image-views]</a>)
</p>
</li>
<li>
<p>
If <code>image</code> has a depth/stencil format with both depth and stencil
    components, then <code>aspectMask</code> member of <code>subresourceRange</code> <span role="normative">must</span>
    include both <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> and
    <code>VK_IMAGE_ASPECT_STENCIL_BIT</code>
</p>
</li>
<li>
<p>
If either <code>oldLayout</code> or <code>newLayout</code> is
    <code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code> then <code>image</code> <span role="normative">must</span>
    have been created with <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> set
</p>
</li>
<li>
<p>
If either <code>oldLayout</code> or <code>newLayout</code> is
    <code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL</code> then <code>image</code>
    <span role="normative">must</span> have been created with
    <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> set
</p>
</li>
<li>
<p>
If either <code>oldLayout</code> or <code>newLayout</code> is
    <code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> then <code>image</code>
    <span role="normative">must</span> have been created with
    <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> set
</p>
</li>
<li>
<p>
If either <code>oldLayout</code> or <code>newLayout</code> is
    <code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code> then <code>image</code> <span role="normative">must</span>
    have been created with <code>VK_IMAGE_USAGE_SAMPLED_BIT</code> or
    <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> set
</p>
</li>
<li>
<p>
If either <code>oldLayout</code> or <code>newLayout</code> is
    <code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> then <code>image</code> <span role="normative">must</span> have
    been created with <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> set
</p>
</li>
<li>
<p>
If either <code>oldLayout</code> or <code>newLayout</code> is
    <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> then <code>image</code> <span role="normative">must</span> have
    been created with <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> set
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>srcAccessMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>dstAccessMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>oldLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
<li>
<p>
<code>newLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>subresourceRange</code> <span role="normative">must</span> be a valid <code>VkImageSubresourceRange</code> structure
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect3">
<h4 id="synchronization-queue-transfers">6.6.4. Queue Family Ownership Transfer</h4>
<div class="paragraph"><p>Resources created with a <code><a href="#VkSharingMode">VkSharingMode</a></code> of
<code>VK_SHARING_MODE_EXCLUSIVE</code> <span role="normative">must</span> have their ownership explicitly
transferred from one queue family to another in order to access their
content in a well-defined manner on a queue in a different queue family.
If memory dependencies are correctly expressed between uses of such a
resource between two queues in different families, but no ownership transfer
is defined, the contents of that resource are undefined for any read
accesses performed by the second queue family.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>If an application does not need the contents of a resource to remain valid
when transferring from one queue family to another, then the ownership
transfer <span role="normative">should</span> be skipped.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>A queue family ownership transfer consists of two distinct parts:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Release exclusive ownership from the source queue family
</p>
</li>
<li>
<p>
Acquire exclusive ownership for the destination queue family
</p>
</li>
</ol></div>
<div class="paragraph"><p>An application <span role="normative">must</span> ensure that these operations occur in the correct order
by defining an execution dependency between them, e.g. using a semaphore.</p></div>
<div class="paragraph"><p><a id="synchronization-queue-transfers-release"></a> A <em>release operation</em> is used to
release exclusive ownership of a range of a buffer or image subresource
range.
A release operation is defined by executing a
<a href="#synchronization-buffer-memory-barriers">buffer memory barrier</a> (for a
buffer range) or an <a href="#synchronization-image-memory-barriers">image memory barrier</a> (for an image subresource range), on a queue from the source queue
family.
The <code>srcQueueFamilyIndex</code> parameter of the barrier <span role="normative">must</span> be set to the
source queue family index, and the <code>dstQueueFamilyIndex</code> parameter to
the destination queue family index.
<code>dstStageMask</code> is ignored for such a barrier, such that no visibility
operation is executed - the value of this mask does not affect the validity
of the barrier.
The release operation happens-after the availability operation.</p></div>
<div class="paragraph"><p><a id="synchronization-queue-transfers-acquire"></a> An <em>acquire operation</em> is used
to acquire exclusive ownership of a range of a buffer or image subresource
range.
An acquire operation is defined by executing a
<a href="#synchronization-buffer-memory-barriers">buffer memory barrier</a> (for a
buffer range) or an <a href="#synchronization-image-memory-barriers">image memory barrier</a> (for an image subresource range), on a queue from the destination
queue family.
The <code>srcQueueFamilyIndex</code> parameter of the barrier <span role="normative">must</span> be set to the
source queue family index, and the <code>dstQueueFamilyIndex</code> parameter to
the destination queue family index.
<code>srcStageMask</code> is ignored for such a barrier, such that no availability
operation is executed - the value of this mask does not affect the validity
of the barrier.
The acquire operation happens-before the visibility operation.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Whilst it is not invalid to provide destination or source access masks for
memory barriers used for release or acquire operations, respectively, they
have no practical effect.
Access after a release operation has undefined results, and so visibility
for those accesses has no practical effect.
Similarly, write access before an acquire operation will produce undefined
results for future access, so availability of those writes has no practical
use.
In an earlier version of the specification, these were required to match on
both sides - but this was subsequently relaxed.
It is now recommended that these masks are simply set to 0.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>If the transfer is via an image memory barrier, and an
<a href="#synchronization-image-layout-transitions">image layout transition</a> is
desired, then the values of <code>oldLayout</code> and <code>newLayout</code> in the
release memory barrier <span role="normative">must</span> be equal to values of <code>oldLayout</code> and
<code>newLayout</code> in the acquire memory barrier.
Although the image layout transition is submitted twice, it will only be
executed once.
A layout transition specified in this way happens-after the release
operation and happens-before the acquire operation.</p></div>
<div class="paragraph"><p>If the values of <code>srcQueueFamilyIndex</code> and <code>dstQueueFamilyIndex</code> are
equal, no ownership transfer is performed, and the barrier operates as if
they were both set to <code>VK_QUEUE_FAMILY_IGNORED</code>.</p></div>
<div class="paragraph"><p>Queue family ownership transfers <span role="normative">may</span> perform read and write accesses on all
memory bound to the image subresource or buffer range, so applications <span role="normative">must</span>
ensure that all memory writes have been made
<a href="#synchronization-dependencies-available-and-visible">available</a> before a
queue family ownership transfer is executed.
Available memory is automatically made visible to queue family release and
acquire operations, and writes performed by those operations are
automatically made available.</p></div>
<div class="paragraph"><p>Once a queue family has acquired ownership of a buffer range or image
subresource range of an <code>VK_SHARING_MODE_EXCLUSIVE</code> resource, its
contents are undefined to other queue families unless ownership is
transferred.
The contents of any portion of another resource which aliases memory that is
bound to the transferred buffer or image subresource range are undefined
after a release or acquire operation.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="synchronization-wait-idle">6.7. Wait Idle Operations</h3>
<div class="paragraph"><p>To wait on the host for the completion of outstanding queue operations for a
given queue, call:</p></div>
<div class="listingblock">
<a id="vkQueueWaitIdle"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkQueueWaitIdle</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkQueue</span>                                     queue<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>queue</code> is the queue on which to wait.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkQueueWaitIdle</code> is equivalent to submitting a fence to a queue and
waiting with an infinite timeout for that fence to signal.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>queue</code> <span role="normative">must</span> be a valid <code>VkQueue</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>To wait on the host for the completion of outstanding queue operations for
all queues on a given logical device, call:</p></div>
<div class="listingblock">
<a id="vkDeviceWaitIdle"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkDeviceWaitIdle</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device to idle.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkDeviceWaitIdle</code> is equivalent to calling <code>vkQueueWaitIdle</code> for
all queues owned by <code>device</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to all <code>VkQueue</code> objects created from <code>device</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
</div>
<div class="sect2">
<h3 id="synchronization-submission-host-writes">6.8. Host Write Ordering Guarantees</h3>
<div class="paragraph"><p>When batches of command buffers are submitted to a queue via
<code><a href="#vkQueueSubmit">vkQueueSubmit</a></code>, it defines a memory dependency with prior host
operations, and execution of command buffers submitted to the queue.</p></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-scopes">synchronization scope</a> is
defined by the host execution model, but includes execution of
<code><a href="#vkQueueSubmit">vkQueueSubmit</a></code> on the host and anything that happened-before it.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes every command submitted in the same <a href="#devsandqueues-submission">queue submission</a> command, and all future submissions to the same queue.</p></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a>
includes all host writes to mappable device memory that are either coherent,
or have been flushed with <code><a href="#vkFlushMappedMemoryRanges">vkFlushMappedMemoryRanges</a></code>.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a>
includes all memory access performed by the device.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="renderpass">7. Render Pass</h2>
<div class="sectionbody">
<div class="paragraph"><p>A <em>render pass</em> represents a collection of attachments, subpasses, and
dependencies between the subpasses, and describes how the attachments are
used over the course of the subpasses.
The use of a render pass in a command buffer is a <em>render pass instance</em>.</p></div>
<div class="paragraph"><p>Render passes are represented by <code>VkRenderPass</code> handles:</p></div>
<div class="listingblock">
<a id="VkRenderPass"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkRenderPass<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>An <em>attachment description</em> describes the properties of an attachment
including its format, sample count, and how its contents are treated at the
beginning and end of each render pass instance.</p></div>
<div class="paragraph"><p>A <em>subpass</em> represents a phase of rendering that reads and writes a subset
of the attachments in a render pass.
Rendering commands are recorded into a particular subpass of a render pass
instance.</p></div>
<div class="paragraph"><p>A <em>subpass description</em> describes the subset of attachments that is involved
in the execution of a subpass.
Each subpass <span role="normative">can</span> read from some attachments as <em>input attachments</em>, write
to some as <em>color attachments</em> or <em>depth/stencil attachments</em>, and perform
<em>multisample resolve operations</em> to <em>resolve attachments</em>.
A subpass description <span role="normative">can</span> also include a set of <em>preserve attachments</em>,
which are attachments that are not read or written by the subpass but whose
contents <span role="normative">must</span> be preserved throughout the subpass.</p></div>
<div class="paragraph"><p>A subpass <em>uses an attachment</em> if the attachment is a color, depth/stencil,
resolve, or input attachment for that subpass (as determined by the
<code>pColorAttachments</code>, <code>pDepthStencilAttachment</code>,
<code>pResolveAttachments</code>, and <code>pInputAttachments</code> members of
<code><a href="#VkSubpassDescription">VkSubpassDescription</a></code>, respectively).
A subpass does not use an attachment if that attachment is preserved by the
subpass.
The <em>first use of an attachment</em> is in the lowest numbered subpass that uses
that attachment.
Similarly, the <em>last use of an attachment</em> is in the highest numbered
subpass that uses that attachment.</p></div>
<div class="paragraph"><p>The subpasses in a render pass all render to the same dimensions, and
fragments for pixel (x,y,layer) in one subpass <span role="normative">can</span> only read attachment
contents written by previous subpasses at that same (x,y,layer) location.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>By describing a complete set of subpasses in advance, render passes provide
the implementation an opportunity to optimize the storage and transfer of
attachment data between subpasses.</p></div>
<div class="paragraph"><p>In practice, this means that subpasses with a simple framebuffer-space
dependency <span role="normative">may</span> be merged into a single tiled rendering pass, keeping the
attachment data on-chip for the duration of a render pass instance.
However, it is also quite common for a render pass to only contain a single
subpass.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p><em>Subpass dependencies</em> describe <a href="#synchronization-dependencies">execution and memory dependencies</a> between subpasses.</p></div>
<div class="paragraph"><p>A <em>subpass dependency chain</em> is a sequence of subpass dependencies in a
render pass, where the source subpass of each subpass dependency (after the
first) equals the destination subpass of the previous dependency.</p></div>
<div class="paragraph"><p>Execution of subpasses <span role="normative">may</span> overlap or execute out of order with regards to
other subpasses, unless otherwise enforced by an execution dependency.</p></div>
<div class="paragraph"><p>A render pass describes the structure of subpasses and attachments
independent of any specific image views for the attachments.
The specific image views that will be used for the attachments, and their
dimensions, are specified in <code>VkFramebuffer</code> objects.
Framebuffers are created with respect to a specific render pass that the
framebuffer is compatible with (see <a href="#renderpass-compatibility">Render Pass Compatibility</a>).
Collectively, a render pass and a framebuffer define the complete render
target state for one or more subpasses as well as the algorithmic
dependencies between the subpasses.</p></div>
<div class="paragraph"><p>The various pipeline stages of the drawing commands for a given subpass <span role="normative">may</span>
execute concurrently and/or out of order, both within and across drawing
commands.
However for a given (x,y,layer,sample) sample location, certain per-sample
operations are performed in <a href="#primrast-order">rasterization order</a>.</p></div>
<div class="sect2">
<h3 id="renderpass-creation">7.1. Render Pass Creation</h3>
<div class="paragraph"><p>To create a render pass, call:</p></div>
<div class="listingblock">
<a id="vkCreateRenderPass"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateRenderPass</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkRenderPassCreateInfo<span style="color: #990000">*</span>               pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkRenderPass<span style="color: #990000">*</span>                               pRenderPass<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the render pass.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code><a href="#VkRenderPassCreateInfo">VkRenderPassCreateInfo</a></code> structure that describes the parameters of
    the render pass.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pRenderPass</code> points to a <code>VkRenderPass</code> handle in which the
    resulting render pass object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkRenderPassCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pRenderPass</code> <span role="normative">must</span> be a pointer to a <code>VkRenderPass</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkRenderPassCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkRenderPassCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkRenderPassCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                   sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                       pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkRenderPassCreateFlags</span>           flags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                          attachmentCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAttachmentDescription<span style="color: #990000">*</span>    pAttachments<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                          subpassCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSubpassDescription<span style="color: #990000">*</span>       pSubpasses<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                          dependencyCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSubpassDependency<span style="color: #990000">*</span>        pDependencies<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkRenderPassCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>attachmentCount</code> is the number of attachments used by this render
    pass, or zero indicating no attachments.
    Attachments are referred to by zero-based indices in the range
    [0,<code>attachmentCount</code>).
</p>
</li>
<li>
<p>
<code>pAttachments</code> points to an array of <code>attachmentCount</code> number of
    <code><a href="#VkAttachmentDescription">VkAttachmentDescription</a></code> structures describing properties of the
    attachments, or <span class="monospaced">NULL</span> if <code>attachmentCount</code> is zero.
</p>
</li>
<li>
<p>
<code>subpassCount</code> is the number of subpasses to create for this render
    pass.
    Subpasses are referred to by zero-based indices in the range
    [0,<code>subpassCount</code>).
    A render pass <span role="normative">must</span> have at least one subpass.
</p>
</li>
<li>
<p>
<code>pSubpasses</code> points to an array of <code>subpassCount</code> number of
    <code><a href="#VkSubpassDescription">VkSubpassDescription</a></code> structures describing properties of the
    subpasses.
</p>
</li>
<li>
<p>
<code>dependencyCount</code> is the number of dependencies between pairs of
    subpasses, or zero indicating no dependencies.
</p>
</li>
<li>
<p>
<code>pDependencies</code> points to an array of <code>dependencyCount</code> number
    of <code><a href="#VkSubpassDependency">VkSubpassDependency</a></code> structures describing dependencies between
    pairs of subpasses, or <span class="monospaced">NULL</span> if <code>dependencyCount</code> is zero.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If any two subpasses operate on attachments with overlapping ranges of
    the same <code>VkDeviceMemory</code> object, and at least one subpass writes to
    that area of <code>VkDeviceMemory</code>, a subpass dependency <span role="normative">must</span> be
    included (either directly or via some intermediate subpasses) between
    them
</p>
</li>
<li>
<p>
If the <code>attachment</code> member of any element of
    <code>pInputAttachments</code>, <code>pColorAttachments</code>,
    <code>pResolveAttachments</code> or <code>pDepthStencilAttachment</code>, or the
    attachment indexed by any element of <code>pPreserveAttachments</code> in any
    given element of <code>pSubpasses</code> is bound to a range of a
    <code>VkDeviceMemory</code> object that overlaps with any other attachment in
    any subpass (including the same subpass), the
    <code>VkAttachmentDescription</code> structures describing them <span role="normative">must</span> include
    <code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code> in <code>flags</code>
</p>
</li>
<li>
<p>
If the <code>attachment</code> member of any element of
    <code>pInputAttachments</code>, <code>pColorAttachments</code>,
    <code>pResolveAttachments</code> or <code>pDepthStencilAttachment</code>, or any
    element of <code>pPreserveAttachments</code> in any given element of
    <code>pSubpasses</code> is not <code>VK_ATTACHMENT_UNUSED</code>, it <span role="normative">must</span> be less
    than <code>attachmentCount</code>
</p>
</li>
<li>
<p>
The value of any element of the <code>pPreserveAttachments</code> member in any
    given element of <code>pSubpasses</code> <span role="normative">must</span> not be
    <code>VK_ATTACHMENT_UNUSED</code>
</p>
</li>
<li>
<p>
For any member of <code>pAttachments</code> with a <code>loadOp</code> equal to
    <code>VK_ATTACHMENT_LOAD_OP_CLEAR</code>, the first use of that attachment
    <span role="normative">must</span> not specify a <code>layout</code> equal to
    <code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code> or
    <code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>.
</p>
</li>
<li>
<p>
For any element of <code>pDependencies</code>, if the <code>srcSubpass</code> is not
    <code>VK_SUBPASS_EXTERNAL</code>, all stage flags included in the
    <code>srcStageMask</code> member of that dependency <span role="normative">must</span> be a pipeline stage
    supported by the <a href="#synchronization-pipeline-stages-types">pipeline</a>
    identified by the <code>pipelineBindPoint</code> member of the source subpass.
</p>
</li>
<li>
<p>
For any element of <code>pDependencies</code>, if the <code>dstSubpass</code> is not
    <code>VK_SUBPASS_EXTERNAL</code>, all stage flags included in the
    <code>dstStageMask</code> member of that dependency <span role="normative">must</span> be a pipeline stage
    supported by the <a href="#synchronization-pipeline-stages-types">pipeline</a>
    identified by the <code>pipelineBindPoint</code> member of the source subpass.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>attachmentCount</code> is not <span class="monospaced">0</span>, <code>pAttachments</code> <span role="normative">must</span> be a pointer to an array of <code>attachmentCount</code> valid <code>VkAttachmentDescription</code> structures
</p>
</li>
<li>
<p>
<code>pSubpasses</code> <span role="normative">must</span> be a pointer to an array of <code>subpassCount</code> valid <code>VkSubpassDescription</code> structures
</p>
</li>
<li>
<p>
If <code>dependencyCount</code> is not <span class="monospaced">0</span>, <code>pDependencies</code> <span role="normative">must</span> be a pointer to an array of <code>dependencyCount</code> valid <code>VkSubpassDependency</code> structures
</p>
</li>
<li>
<p>
<code>subpassCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkAttachmentDescription</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkAttachmentDescription"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkAttachmentDescription</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkAttachmentDescriptionFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkFormat</span>                        format<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlagBits</span>           samples<span style="color: #990000">;</span>
    <span style="color: #008080">VkAttachmentLoadOp</span>              loadOp<span style="color: #990000">;</span>
    <span style="color: #008080">VkAttachmentStoreOp</span>             storeOp<span style="color: #990000">;</span>
    <span style="color: #008080">VkAttachmentLoadOp</span>              stencilLoadOp<span style="color: #990000">;</span>
    <span style="color: #008080">VkAttachmentStoreOp</span>             stencilStoreOp<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageLayout</span>                   initialLayout<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageLayout</span>                   finalLayout<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkAttachmentDescription<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>flags</code> is a bitmask describing additional properties of the
    attachment.
    Bits which <span role="normative">can</span> be set include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkAttachmentDescriptionFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkAttachmentDescriptionFlagBits <span style="color: #FF0000">{</span>
    VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkAttachmentDescriptionFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
</li>
<li>
<p>
<code>format</code> is a <code><a href="#VkFormat">VkFormat</a></code> value specifying the format of the
    image that will be used for the attachment.
</p>
</li>
<li>
<p>
<code>samples</code> is the number of samples of the image as defined in
    <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code>.
</p>
</li>
<li>
<p>
<code>loadOp</code> specifies how the contents of color and depth components of
    the attachment are treated at the beginning of the subpass where it is
    first used:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkAttachmentLoadOp"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkAttachmentLoadOp <span style="color: #FF0000">{</span>
    VK_ATTACHMENT_LOAD_OP_LOAD <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_ATTACHMENT_LOAD_OP_CLEAR <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_ATTACHMENT_LOAD_OP_DONT_CARE <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkAttachmentLoadOp<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ATTACHMENT_LOAD_OP_LOAD</code> means the previous contents of the
     image within the render area will be preserved.
     For attachments with a depth/stencil format, this uses the access type
     <code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT</code>.
     For attachments with a color format, this uses the access type
     <code>VK_ACCESS_COLOR_ATTACHMENT_READ_BIT</code>.
</p>
</li>
<li>
<p>
<code>VK_ATTACHMENT_LOAD_OP_CLEAR</code> means the contents within the render
     area will be cleared to a uniform value, which is specified when a
     render pass instance is begun.
     For attachments with a depth/stencil format, this uses the access type
     <code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code>.
     For attachments with a color format, this uses the access type
     <code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>.
</p>
</li>
<li>
<p>
<code>VK_ATTACHMENT_LOAD_OP_DONT_CARE</code> means the previous contents
     within the area need not be preserved; the contents of the attachment
     will be undefined inside the render area.
     For attachments with a depth/stencil format, this uses the access type
     <code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code>.
     For attachments with a color format, this uses the access type
     <code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>storeOp</code> specifies how the contents of color and depth components
    of the attachment are treated at the end of the subpass where it is last
    used:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkAttachmentStoreOp"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkAttachmentStoreOp <span style="color: #FF0000">{</span>
    VK_ATTACHMENT_STORE_OP_STORE <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_ATTACHMENT_STORE_OP_DONT_CARE <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkAttachmentStoreOp<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ATTACHMENT_STORE_OP_STORE</code> means the contents generated during
     the render pass and within the render area are written to memory.
     For attachments with a depth/stencil format, this uses the access type
     <code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code>.
     For attachments with a color format, this uses the access type
     <code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>.
</p>
</li>
<li>
<p>
<code>VK_ATTACHMENT_STORE_OP_DONT_CARE</code> means the contents within the
     render area are not needed after rendering, and <span role="normative">may</span> be discarded; the
     contents of the attachment will be undefined inside the render area.
     For attachments with a depth/stencil format, this uses the access type
     <code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code>.
     For attachments with a color format, this uses the access type
     <code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>stencilLoadOp</code> specifies how the contents of stencil components of
    the attachment are treated at the beginning of the subpass where it is
    first used, and <span role="normative">must</span> be one of the same values allowed for <code>loadOp</code>
    above.
</p>
</li>
<li>
<p>
<code>stencilStoreOp</code> specifies how the contents of stencil components of
    the attachment are treated at the end of the last subpass where it is
    used, and <span role="normative">must</span> be one of the same values allowed for <code>storeOp</code>
    above.
</p>
</li>
<li>
<p>
<code>initialLayout</code> is the layout the attachment image subresource will
    be in when a render pass instance begins.
</p>
</li>
<li>
<p>
<code>finalLayout</code> is the layout the attachment image subresource will be
    transitioned to when a render pass instance ends.
    During a render pass instance, an attachment <span role="normative">can</span> use a different layout
    in each subpass, if desired.
</p>
</li>
</ul></div>
<div class="paragraph" id="renderpass-load-store-ops"><p>If the attachment uses a color format, then <code>loadOp</code> and <code>storeOp</code>
are used, and <code>stencilLoadOp</code> and <code>stencilStoreOp</code> are ignored.
If the format has depth and/or stencil components, <code>loadOp</code> and
<code>storeOp</code> apply only to the depth data, while <code>stencilLoadOp</code> and
<code>stencilStoreOp</code> define how the stencil data is handled.
<code>loadOp</code> and <code>stencilLoadOp</code> define the <em>load operations</em> that
execute as part of the first subpass that uses the attachment.
<code>storeOp</code> and <code>stencilStoreOp</code> define the <em>store operations</em> that
execute as part of the last subpass that uses the attachment.</p></div>
<div class="paragraph"><p>The load operation for each value in an attachment used by a subpass
happens-before any command recorded into that subpass reads from that value.
Load operations for attachments with a depth/stencil format execute in the
<code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code> pipeline stage.
Load operations for attachments with a color format execute in the
<code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code> pipeline stage.</p></div>
<div class="paragraph"><p>Store operations for each value in an attachment used by a subpass
happen-after any command recorded into that subpass writes to that value.
Store operations for attachments with a depth/stencil format execute in the
<code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code> pipeline stage.
Store operations for attachments with a color format execute in the
<code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code> pipeline stage.</p></div>
<div class="paragraph"><p>If an attachment is not used by any subpass, then <code>loadOp</code>,
<code>storeOp</code>, <code>stencilStoreOp</code>, and <code>stencilLoadOp</code> are ignored,
and the attachment&#8217;s memory contents will not be modified by execution of a
render pass instance.</p></div>
<div class="paragraph" id="renderpass-precision"><p>During a render pass instance, input/color attachments with color formats
that have a component size of 8, 16, or 32 bits <span role="normative">must</span> be represented in the
attachment&#8217;s format throughout the instance.
Attachments with other floating- or fixed-point color formats, or with depth
components <span role="normative">may</span> be represented in a format with a precision higher than the
attachment format, but <span role="normative">must</span> be represented with the same range.
When such a component is loaded via the <code>loadOp</code>, it will be converted
into an implementation-dependent format used by the render pass.
Such components <span role="normative">must</span> be converted from the render pass format, to the
format of the attachment, before they are resolved or stored at the end of a
render pass instance via <code>storeOp</code>.
Conversions occur as described in <a href="#fundamentals-numerics">Numeric Representation and Computation</a> and <a href="#fundamentals-fixedconv">Fixed-Point Data Conversions</a>.</p></div>
<div class="paragraph" id="renderpass-aliasing"><p>If <code>flags</code> includes <code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code>, then
the attachment is treated as if it shares physical memory with another
attachment in the same render pass.
This information limits the ability of the implementation to reorder certain
operations (like layout transitions and the <code>loadOp</code>) such that it is
not improperly reordered against other uses of the same physical memory via
a different attachment.
This is described in more detail below.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>finalLayout</code> <span role="normative">must</span> not be <code>VK_IMAGE_LAYOUT_UNDEFINED</code> or
    <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkAttachmentDescriptionFlagBits">VkAttachmentDescriptionFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>format</code> <span role="normative">must</span> be a valid <code><a href="#VkFormat">VkFormat</a></code> value
</p>
</li>
<li>
<p>
<code>samples</code> <span role="normative">must</span> be a valid <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> value
</p>
</li>
<li>
<p>
<code>loadOp</code> <span role="normative">must</span> be a valid <code><a href="#VkAttachmentLoadOp">VkAttachmentLoadOp</a></code> value
</p>
</li>
<li>
<p>
<code>storeOp</code> <span role="normative">must</span> be a valid <code><a href="#VkAttachmentStoreOp">VkAttachmentStoreOp</a></code> value
</p>
</li>
<li>
<p>
<code>stencilLoadOp</code> <span role="normative">must</span> be a valid <code><a href="#VkAttachmentLoadOp">VkAttachmentLoadOp</a></code> value
</p>
</li>
<li>
<p>
<code>stencilStoreOp</code> <span role="normative">must</span> be a valid <code><a href="#VkAttachmentStoreOp">VkAttachmentStoreOp</a></code> value
</p>
</li>
<li>
<p>
<code>initialLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
<li>
<p>
<code>finalLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>If a render pass uses multiple attachments that alias the same device
memory, those attachments <span role="normative">must</span> each include the
<code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code> bit in their attachment
description flags.
Attachments aliasing the same memory occurs in multiple ways:</p></div>
<div class="ulist"><ul>
<li>
<p>
Multiple attachments being assigned the same image view as part of
    framebuffer creation.
</p>
</li>
<li>
<p>
Attachments using distinct image views that correspond to the same image
    subresource of an image.
</p>
</li>
<li>
<p>
Attachments using views of distinct image subresources which are bound
    to overlapping memory ranges.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Render passes <span role="normative">must</span> include subpass dependencies (either directly or via a
subpass dependency chain) between any two subpasses that operate on the same
attachment or aliasing attachments and those subpass dependencies <span role="normative">must</span>
include execution and memory dependencies separating uses of the aliases, if
at least one of those subpasses writes to one of the aliases.
These dependencies <span role="normative">must</span> not include the <code>VK_DEPENDENCY_BY_REGION_BIT</code>
if the aliases are views of distinct image subresources which overlap in
memory.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Multiple attachments that alias the same memory <span role="normative">must</span> not be used in a
single subpass.
A given attachment index <span role="normative">must</span> not be used multiple times in a single
subpass, with one exception: two subpass attachments <span role="normative">can</span> use the same
attachment index if at least one use is as an input attachment and neither
use is as a resolve or preserve attachment.
In other words, the same view <span role="normative">can</span> be used simultaneously as an input and
color or depth/stencil attachment, but <span role="normative">must</span> not be used as multiple color
or depth/stencil attachments nor as resolve or preserve attachments.
The precise set of valid scenarios is described in more detail
<a href="#renderpass-feedbackloop">below</a>.</p></div>
<div class="paragraph"><p>If a set of attachments alias each other, then all except the first to be
used in the render pass <span role="normative">must</span> use an <code>initialLayout</code> of
<code>VK_IMAGE_LAYOUT_UNDEFINED</code>, since the earlier uses of the other aliases
make their contents undefined.
Once an alias has been used and a different alias has been used after it,
the first alias <span role="normative">must</span> not be used in any later subpasses.
However, an application <span role="normative">can</span> assign the same image view to multiple aliasing
attachment indices, which allows that image view to be used multiple times
even if other aliases are used in between.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Once an attachment needs the <code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code>
bit, there <span role="normative">should</span> be no additional cost of introducing additional aliases,
and using these additional aliases <span role="normative">may</span> allow more efficient clearing of the
attachments on multiple uses via <code>VK_ATTACHMENT_LOAD_OP_CLEAR</code>.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>The <code>VkSubpassDescription</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSubpassDescription"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSubpassDescription</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkSubpassDescriptionFlags</span>       flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineBindPoint</span>             pipelineBindPoint<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                        inputAttachmentCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAttachmentReference<span style="color: #990000">*</span>    pInputAttachments<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                        colorAttachmentCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAttachmentReference<span style="color: #990000">*</span>    pColorAttachments<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAttachmentReference<span style="color: #990000">*</span>    pResolveAttachments<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAttachmentReference<span style="color: #990000">*</span>    pDepthStencilAttachment<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                        preserveAttachmentCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> uint32_t<span style="color: #990000">*</span>                 pPreserveAttachments<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSubpassDescription<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>pipelineBindPoint</code> is a <code><a href="#VkPipelineBindPoint">VkPipelineBindPoint</a></code> value specifying
    whether this is a compute or graphics subpass.
    Currently, only graphics subpasses are supported.
</p>
</li>
<li>
<p>
<code>inputAttachmentCount</code> is the number of input attachments.
</p>
</li>
<li>
<p>
<code>pInputAttachments</code> is an array of <code><a href="#VkAttachmentReference">VkAttachmentReference</a></code>
    structures (defined below) that lists which of the render pass&#8217;s
    attachments <span role="normative">can</span> be read in the shader during the subpass, and what
    layout each attachment will be in during the subpass.
    Each element of the array corresponds to an input attachment unit number
    in the shader, i.e. if the shader declares an input variable
    <span class="monospaced">layout(input_attachment_index=X, set=Y, binding=Z)</span> then it uses the
    attachment provided in <code>pInputAttachments</code>[X].
    Input attachments <span role="normative">must</span> also be bound to the pipeline with a descriptor
    set, with the input attachment descriptor written in the location
    (set=Y, binding=Z).
</p>
</li>
<li>
<p>
<code>colorAttachmentCount</code> is the number of color attachments.
</p>
</li>
<li>
<p>
<code>pColorAttachments</code> is an array of <code>colorAttachmentCount</code>
    <code><a href="#VkAttachmentReference">VkAttachmentReference</a></code> structures that lists which of the render
    pass&#8217;s attachments will be used as color attachments in the subpass, and
    what layout each attachment will be in during the subpass.
    Each element of the array corresponds to a fragment shader output
    location, i.e. if the shader declared an output variable
    <span class="monospaced">layout(location=X)</span> then it uses the attachment provided in
    <code>pColorAttachments</code>[X].
</p>
</li>
<li>
<p>
<code>pResolveAttachments</code> is <span class="monospaced">NULL</span> or an array of
    <code>colorAttachmentCount</code> <code><a href="#VkAttachmentReference">VkAttachmentReference</a></code> structures that
    lists which of the render pass&#8217;s attachments are resolved to at the end
    of the subpass, and what layout each attachment will be in during the
    multisample resolve operation.
    If <code>pResolveAttachments</code> is not <span class="monospaced">NULL</span>, each of its elements
    corresponds to a color attachment (the element in
    <code>pColorAttachments</code> at the same index), and a multisample resolve
    operation is defined for each attachment.
    At the end of each subpass, multisample resolve operations read the
    subpass&#8217;s color attachments, and resolve the samples for each pixel to
    the same pixel location in the corresponding resolve attachments, unless
    the resolve attachment index is <code>VK_ATTACHMENT_UNUSED</code>.
    If the first use of an attachment in a render pass is as a resolve
    attachment, then the <code>loadOp</code> is effectively ignored as the resolve
    is guaranteed to overwrite all pixels in the render area.
</p>
</li>
<li>
<p>
<code>pDepthStencilAttachment</code> is a pointer to a
    <code><a href="#VkAttachmentReference">VkAttachmentReference</a></code> specifying which attachment will be used for
    depth/stencil data and the layout it will be in during the subpass.
    Setting the attachment index to <code>VK_ATTACHMENT_UNUSED</code> or leaving
    this pointer as <span class="monospaced">NULL</span> indicates that no depth/stencil attachment will
    be used in the subpass.
</p>
</li>
<li>
<p>
<code>preserveAttachmentCount</code> is the number of preserved attachments.
</p>
</li>
<li>
<p>
<code>pPreserveAttachments</code> is an array of <code>preserveAttachmentCount</code>
    render pass attachment indices describing the attachments that are not
    used by a subpass, but whose contents <span role="normative">must</span> be preserved throughout the
    subpass.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The contents of an attachment within the render area become undefined at the
start of a subpass <strong>S</strong> if all of the following conditions are true:</p></div>
<div class="ulist"><ul>
<li>
<p>
The attachment is used as a color, depth/stencil, or resolve attachment
    in any subpass in the render pass.
</p>
</li>
<li>
<p>
There is a subpass <strong>S<sub>1</sub></strong> that uses or preserves the attachment, and a
    subpass dependency from <strong>S<sub>1</sub></strong> to <strong>S</strong>.
</p>
</li>
<li>
<p>
The attachment is not used or preserved in subpass <strong>S</strong>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Once the contents of an attachment become undefined in subpass <strong>S</strong>, they
remain undefined for subpasses in subpass dependency chains starting with
subpass <strong>S</strong> until they are written again.
However, they remain valid for subpasses in other subpass dependency chains
starting with subpass <strong>S<sub>1</sub></strong> if those subpasses use or preserve the
attachment.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>pipelineBindPoint</code> <span role="normative">must</span> be <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>
</p>
</li>
<li>
<p>
<code>colorAttachmentCount</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxColorAttachments</code>
</p>
</li>
<li>
<p>
If the first use of an attachment in this render pass is as an input
    attachment, and the attachment is not also used as a color or
    depth/stencil attachment in the same subpass, then <code>loadOp</code> <span role="normative">must</span>
    not be <code>VK_ATTACHMENT_LOAD_OP_CLEAR</code>
</p>
</li>
<li>
<p>
If <code>pResolveAttachments</code> is not <span class="monospaced">NULL</span>, for each resolve attachment
    that does not have the value <code>VK_ATTACHMENT_UNUSED</code>, the
    corresponding color attachment <span role="normative">must</span> not have the value
    <code>VK_ATTACHMENT_UNUSED</code>
</p>
</li>
<li>
<p>
If <code>pResolveAttachments</code> is not <span class="monospaced">NULL</span>, the sample count of each
    element of <code>pColorAttachments</code> <span role="normative">must</span> be anything other than
    <code>VK_SAMPLE_COUNT_1_BIT</code>
</p>
</li>
<li>
<p>
Any given element of <code>pResolveAttachments</code> <span role="normative">must</span> have a sample count
    of <code>VK_SAMPLE_COUNT_1_BIT</code>
</p>
</li>
<li>
<p>
Any given element of <code>pResolveAttachments</code> <span role="normative">must</span> have the same
    <code><a href="#VkFormat">VkFormat</a></code> as its corresponding color attachment
</p>
</li>
<li>
<p>
All attachments in <code>pColorAttachments</code> and
    <code>pDepthStencilAttachment</code> that are not <code>VK_ATTACHMENT_UNUSED</code>
    <span role="normative">must</span> have the same sample count
</p>
</li>
<li>
<p>
If any input attachments are <code>VK_ATTACHMENT_UNUSED</code>, then any
    pipelines bound during the subpass <span role="normative">must</span> not access those input
    attachments from the fragment shader
</p>
</li>
<li>
<p>
The <code>attachment</code> member of any element of <code>pPreserveAttachments</code>
    <span role="normative">must</span> not be <code>VK_ATTACHMENT_UNUSED</code>
</p>
</li>
<li>
<p>
Any given element of <code>pPreserveAttachments</code> <span role="normative">must</span> not also be an
    element of any other member of the subpass description
</p>
</li>
<li>
<p>
If any attachment is used as both an input attachment and a color or
    depth/stencil attachment, then each use <span role="normative">must</span> use the same <code>layout</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>pipelineBindPoint</code> <span role="normative">must</span> be a valid <code><a href="#VkPipelineBindPoint">VkPipelineBindPoint</a></code> value
</p>
</li>
<li>
<p>
If <code>inputAttachmentCount</code> is not <span class="monospaced">0</span>, <code>pInputAttachments</code> <span role="normative">must</span> be a pointer to an array of <code>inputAttachmentCount</code> valid <code>VkAttachmentReference</code> structures
</p>
</li>
<li>
<p>
If <code>colorAttachmentCount</code> is not <span class="monospaced">0</span>, <code>pColorAttachments</code> <span role="normative">must</span> be a pointer to an array of <code>colorAttachmentCount</code> valid <code>VkAttachmentReference</code> structures
</p>
</li>
<li>
<p>
If <code>colorAttachmentCount</code> is not <span class="monospaced">0</span>, and <code>pResolveAttachments</code> is not <span class="monospaced">NULL</span>, <code>pResolveAttachments</code> <span role="normative">must</span> be a pointer to an array of <code>colorAttachmentCount</code> valid <code>VkAttachmentReference</code> structures
</p>
</li>
<li>
<p>
If <code>pDepthStencilAttachment</code> is not <span class="monospaced">NULL</span>, <code>pDepthStencilAttachment</code> <span role="normative">must</span> be a pointer to a valid <code>VkAttachmentReference</code> structure
</p>
</li>
<li>
<p>
If <code>preserveAttachmentCount</code> is not <span class="monospaced">0</span>, <code>pPreserveAttachments</code> <span role="normative">must</span> be a pointer to an array of <code>preserveAttachmentCount</code> <code>uint32_t</code> values
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkAttachmentReference</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkAttachmentReference"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkAttachmentReference</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>         attachment<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageLayout</span>    layout<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkAttachmentReference<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>attachment</code> is the index of the attachment of the render pass, and
    corresponds to the index of the corresponding element in the
    <code>pAttachments</code> array of the <code>VkRenderPassCreateInfo</code> structure.
    If any color or depth/stencil attachments are
    <code>VK_ATTACHMENT_UNUSED</code>, then no writes occur for those attachments.
</p>
</li>
<li>
<p>
<code>layout</code> is a <code><a href="#VkImageLayout">VkImageLayout</a></code> value specifying the layout the
    attachment uses during the subpass.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>layout</code> <span role="normative">must</span> not be <code>VK_IMAGE_LAYOUT_UNDEFINED</code> or
    <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>layout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkSubpassDependency</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSubpassDependency"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSubpassDependency</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>                srcSubpass<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                dstSubpass<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineStageFlags</span>    srcStageMask<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineStageFlags</span>    dstStageMask<span style="color: #990000">;</span>
    <span style="color: #008080">VkAccessFlags</span>           srcAccessMask<span style="color: #990000">;</span>
    <span style="color: #008080">VkAccessFlags</span>           dstAccessMask<span style="color: #990000">;</span>
    <span style="color: #008080">VkDependencyFlags</span>       dependencyFlags<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSubpassDependency<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>srcSubpass</code> is the subpass index of the first subpass in the
    dependency, or <code>VK_SUBPASS_EXTERNAL</code>.
</p>
</li>
<li>
<p>
<code>dstSubpass</code> is the subpass index of the second subpass in the
    dependency, or <code>VK_SUBPASS_EXTERNAL</code>.
</p>
</li>
<li>
<p>
<code>srcStageMask</code> defines a <a href="#synchronization-pipeline-stages-masks">source stage mask</a>.
</p>
</li>
<li>
<p>
<code>dstStageMask</code> defines a <a href="#synchronization-pipeline-stages-masks">destination stage mask</a>.
</p>
</li>
<li>
<p>
<code>srcAccessMask</code> defines a <a href="#synchronization-access-masks">source     access mask</a>.
</p>
</li>
<li>
<p>
<code>dstAccessMask</code> defines a <a href="#synchronization-access-masks">destination access mask</a>.
</p>
</li>
<li>
<p>
<code>dependencyFlags</code> is a bitmask of <code><a href="#VkDependencyFlagBits">VkDependencyFlagBits</a></code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>srcSubpass</code> is equal to <code>dstSubpass</code> then the
<code><a href="#VkSubpassDependency">VkSubpassDependency</a></code> describes a
<a href="#synchronization-pipeline-barriers-subpass-self-dependencies">subpass self-dependency</a>, and only constrains the pipeline barriers allowed within
a subpass instance.
Otherwise, when a render pass instance which includes a subpass dependency
is submitted to a queue, it defines a memory dependency between the
subpasses identified by <code>srcSubpass</code> and <code>dstSubpass</code>.</p></div>
<div class="paragraph"><p>If <code>srcSubpass</code> is equal to <code>VK_SUBPASS_EXTERNAL</code>, the first
<a href="#synchronization-dependencies-scopes">synchronization scope</a> includes
commands submitted to the queue before the render pass instance began.
Otherwise, the first set of commands includes all commands submitted as part
of the subpass instance identified by <code>srcSubpass</code> and any load, store
or multisample resolve operations on attachments used in <code>srcSubpass</code>.
In either case, the first synchronization scope is limited to operations on
the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">source stage mask</a> specified by
<code>srcStageMask</code>.</p></div>
<div class="paragraph"><p>If <code>dstSubpass</code> is equal to <code>VK_SUBPASS_EXTERNAL</code>, the second
<a href="#synchronization-dependencies-scopes">synchronization scope</a> includes
commands submitted after the render pass instance is ended.
Otherwise, the second set of commands includes all commands submitted as
part of the subpass instance identified by <code>dstSubpass</code> and any load,
store or multisample resolve operations on attachments used in
<code>dstSubpass</code>.
In either case, the second synchronization scope is limited to operations on
the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified
by <code>dstStageMask</code>.</p></div>
<div class="paragraph"><p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access in the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">source stage mask</a> specified by
<code>srcStageMask</code>.
It is also limited to access types in the <a href="#synchronization-access-masks">source access mask</a> specified by <code>srcAccessMask</code>.</p></div>
<div class="paragraph"><p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access in the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified
by <code>dstStageMask</code>.
It is also limited to access types in the <a href="#synchronization-access-masks">destination access mask</a> specified by <code>dstAccessMask</code>.</p></div>
<div class="paragraph"><p>The <a href="#synchronization-dependencies-available-and-visible">availability and visibility operations</a> defined by a subpass dependency affect the execution
of <a href="#renderpass-layout-transitions">image layout transitions</a> within the
render pass.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>srcSubpass</code> is not <code>VK_SUBPASS_EXTERNAL</code>, <code>srcStageMask</code>
    <span role="normative">must</span> not include <code>VK_PIPELINE_STAGE_HOST_BIT</code>
</p>
</li>
<li>
<p>
If <code>dstSubpass</code> is not <code>VK_SUBPASS_EXTERNAL</code>, <code>dstStageMask</code>
    <span role="normative">must</span> not include <code>VK_PIPELINE_STAGE_HOST_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-geometryShader">geometry shaders</a> feature is
    not enabled, <code>srcStageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-geometryShader">geometry shaders</a> feature is
    not enabled, <code>dstStageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-tessellationShader">tessellation shaders</a>
    feature is not enabled, <code>srcStageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
    <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-tessellationShader">tessellation shaders</a>
    feature is not enabled, <code>dstStageMask</code> <span role="normative">must</span> not contain
    <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
    <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</p>
</li>
<li>
<p>
<code>srcSubpass</code> <span role="normative">must</span> be less than or equal to <code>dstSubpass</code>, unless
    one of them is <code>VK_SUBPASS_EXTERNAL</code>, to avoid cyclic dependencies
    and ensure a valid execution order
</p>
</li>
<li>
<p>
<code>srcSubpass</code> and <code>dstSubpass</code> <span role="normative">must</span> not both be equal to
    <code>VK_SUBPASS_EXTERNAL</code>
</p>
</li>
<li>
<p>
If <code>srcSubpass</code> is equal to <code>dstSubpass</code>, <code>srcStageMask</code> and
    <code>dstStageMask</code> <span role="normative">must</span> only contain one of
    <code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code>,
    <code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code>,
    <code>VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code>,
    <code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code>,
    <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>,
    <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>,
    <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>,
    <code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>,
    <code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code>,
    <code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code>,
    <code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code>,
    <code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>, or
    <code>VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT</code>
</p>
</li>
<li>
<p>
If <code>srcSubpass</code> is equal to <code>dstSubpass</code>, the
    <a href="#synchronization-pipeline-stages-order">logically latest</a> pipeline
    stage in <code>srcStageMask</code> <span role="normative">must</span> be
    <a href="#synchronization-pipeline-stages-order">logically earlier</a> than or
    equal to the <a href="#synchronization-pipeline-stages-order">logically     earliest</a> pipeline stage in <code>dstStageMask</code>
</p>
</li>
<li>
<p>
Any access flag included in <code>srcAccessMask</code> <span role="normative">must</span> be supported by
    one of the pipeline stages in <code>srcStageMask</code>, as specified in the
    <a href="#synchronization-access-types-supported">table of supported access     types</a>.
</p>
</li>
<li>
<p>
Any access flag included in <code>dstAccessMask</code> <span role="normative">must</span> be supported by
    one of the pipeline stages in <code>dstStageMask</code>, as specified in the
    <a href="#synchronization-access-types-supported">table of supported access     types</a>.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>srcStageMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>srcStageMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>dstStageMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>dstStageMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>srcAccessMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>dstAccessMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>dependencyFlags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkDependencyFlagBits">VkDependencyFlagBits</a></code> values
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>If there is no subpass dependency from <code>VK_SUBPASS_EXTERNAL</code> to the
first subpass that uses an attachment, then an implicit subpass dependency
exists from <code>VK_SUBPASS_EXTERNAL</code> to the first subpass it is used in.
The subpass dependency operates as if defined with the following parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkSubpassDependency</span> implicitDependency <span style="color: #990000">=</span> <span style="color: #FF0000">{</span>
    <span style="color: #990000">.</span>srcSubpass <span style="color: #990000">=</span> VK_SUBPASS_EXTERNAL<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>dstSubpass <span style="color: #990000">=</span> firstSubpass<span style="color: #990000">;</span> <span style="font-style: italic"><span style="color: #9A1900">// First subpass attachment is used in</span></span>
    <span style="color: #990000">.</span>srcStageMask <span style="color: #990000">=</span> VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>dstStageMask <span style="color: #990000">=</span> VK_PIPELINE_STAGE_ALL_COMMANDS_BIT<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>srcAccessMask <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
    <span style="color: #990000">.</span>dstAccessMask <span style="color: #990000">=</span> VK_ACCESS_INPUT_ATTACHMENT_READ_BIT <span style="color: #990000">|</span>
                     VK_ACCESS_COLOR_ATTACHMENT_READ_BIT <span style="color: #990000">|</span>
                     VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT <span style="color: #990000">|</span>
                     VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT <span style="color: #990000">|</span>
                     VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>dependencyFlags <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>Similarly, if there is no subpass dependency from the last subpass that uses
an attachment to <code>VK_SUBPASS_EXTERNAL</code>, then an implicit subpass
dependency exists from the last subpass it is used in to
<code>VK_SUBPASS_EXTERNAL</code>.
The subpass dependency operates as if defined with the following parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkSubpassDependency</span> implicitDependency <span style="color: #990000">=</span> <span style="color: #FF0000">{</span>
    <span style="color: #990000">.</span>srcSubpass <span style="color: #990000">=</span> lastSubpass<span style="color: #990000">;</span> <span style="font-style: italic"><span style="color: #9A1900">// Last subpass attachment is used in</span></span>
    <span style="color: #990000">.</span>dstSubpass <span style="color: #990000">=</span> VK_SUBPASS_EXTERNAL<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>srcStageMask <span style="color: #990000">=</span> VK_PIPELINE_STAGE_ALL_COMMANDS_BIT<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>dstStageMask <span style="color: #990000">=</span> VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>srcAccessMask <span style="color: #990000">=</span> VK_ACCESS_INPUT_ATTACHMENT_READ_BIT <span style="color: #990000">|</span>
                     VK_ACCESS_COLOR_ATTACHMENT_READ_BIT <span style="color: #990000">|</span>
                     VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT <span style="color: #990000">|</span>
                     VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT <span style="color: #990000">|</span>
                     VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>dstAccessMask <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
    <span style="color: #990000">.</span>dependencyFlags <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph" id="renderpass-layout-transitions"><p>As subpasses <span role="normative">may</span> overlap or execute out of order with regards to other
subpasses unless a subpass dependency chain describes otherwise, the layout
transitions required between subpasses <span role="normative">cannot</span> be known to an application.
Instead, an application provides the layout that each attachment <span role="normative">must</span> be in
at the start and end of a renderpass, and the layout it <span role="normative">must</span> be in during
each subpass it is used in.
The implementation then <span role="normative">must</span> execute layout transitions between subpasses
in order to guarantee that the images are in the layouts required by each
subpass, and in the final layout at the end of the render pass.</p></div>
<div class="paragraph"><p>Automatic layout transitions away from the layout used in a subpass
happen-after the availability operations for all dependencies with that
subpass as the <code>srcSubpass</code>.</p></div>
<div class="paragraph"><p>Automatic layout transitions into the layout used in a subpass happen-before
the visibility operations for all dependencies with that subpass as the
<code>dstSubpass</code>.</p></div>
<div class="paragraph"><p>Automatic layout transitions away from <code>initialLayout</code> happens-after the
availability operations for all dependencies with a <code>srcSubpass</code> equal
to <code>VK_SUBPASS_EXTERNAL</code>, where <code>dstSubpass</code> uses the attachment
that will be transitioned.
For attachments created with <code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code>,
automatic layout transitions away from <code>initialLayout</code> happen-after the
availability operations for all dependencies with a <code>srcSubpass</code> equal
to <code>VK_SUBPASS_EXTERNAL</code>, where <code>dstSubpass</code> uses any aliased
attachment.</p></div>
<div class="paragraph"><p>Automatic layout transitions into <code>finalLayout</code> happens-before the
visibility operations for all dependencies with a <code>dstSubpass</code> equal to
<code>VK_SUBPASS_EXTERNAL</code>, where <code>srcSubpass</code> uses the attachment that
will be transitioned.
For attachments created with <code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code>,
automatic layout transitions into <code>finalLayout</code> happen-before the
visibility operations for all dependencies with a <code>dstSubpass</code> equal to
<code>VK_SUBPASS_EXTERNAL</code>, where <code>srcSubpass</code> uses any aliased
attachment.</p></div>
<div class="paragraph"><p>If two subpasses use the same attachment in different layouts, and both
layouts are read-only, no subpass dependency needs to be specified between
those subpasses.
If an implementation treats those layouts separately, it <span role="normative">must</span> insert an
implicit subpass dependency between those subpasses to separate the uses in
each layout.
The subpass dependency operates as if defined with the following parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// Used for input attachments</span></span>
<span style="color: #008080">VkPipelineStageFlags</span> inputAttachmentStages <span style="color: #990000">=</span> VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT<span style="color: #990000">;</span>
<span style="color: #008080">VkAccessFlags</span> inputAttachmentAccess <span style="color: #990000">=</span> VK_ACCESS_INPUT_ATTACHMENT_READ_BIT<span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">// Used for depth stencil attachments</span></span>
<span style="color: #008080">VkPipelineStageFlags</span> depthStencilAttachmentStages <span style="color: #990000">=</span> VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT <span style="color: #990000">|</span> VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT<span style="color: #990000">;</span>
<span style="color: #008080">VkAccessFlags</span> depthStencilAttachmentAccess <span style="color: #990000">=</span> VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT<span style="color: #990000">;</span>

<span style="color: #008080">VkSubpassDependency</span> implicitDependency <span style="color: #990000">=</span> <span style="color: #FF0000">{</span>
    <span style="color: #990000">.</span>srcSubpass <span style="color: #990000">=</span> firstSubpass<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>dstSubpass <span style="color: #990000">=</span> secondSubpass<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>srcStageMask <span style="color: #990000">=</span> inputAttachmentStages <span style="color: #990000">|</span> depthStencilAttachmentStages<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>dstStageMask <span style="color: #990000">=</span> inputAttachmentStages <span style="color: #990000">|</span> depthStencilAttachmentStages<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>srcAccessMask <span style="color: #990000">=</span> inputAttachmentAccess <span style="color: #990000">|</span> depthStencilAttachmentAccess<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>dstAccessMask <span style="color: #990000">=</span> inputAttachmentAccess <span style="color: #990000">|</span> depthStencilAttachmentAccess<span style="color: #990000">;</span>
    <span style="color: #990000">.</span>dependencyFlags <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph" id="renderpass-feedbackloop"><p>If a subpass uses the same attachment as both an input attachment and either
a color attachment or a depth/stencil attachment, writes via the color or
depth/stencil attachment are not automatically made visible to reads via the
input attachment, causing a <em>feedback loop</em>, except in any of the following
conditions:</p></div>
<div class="ulist"><ul>
<li>
<p>
If the color components or depth/stencil components read by the input
    attachment are mutually exclusive with the components written by the
    color or depth/stencil attachments, then there is no feedback loop.
    This requires the graphics pipelines used by the subpass to disable
    writes to color components that are read as inputs via the
    <code>colorWriteMask</code>, and to disable writes to depth/stencil components
    that are read as inputs via <code>depthWriteEnable</code> or
    <code>stencilTestEnable</code>.
</p>
</li>
<li>
<p>
If the attachment is used as an input attachment and depth/stencil
    attachment only, and the depth/stencil attachment is not written to.
</p>
</li>
<li>
<p>
If a memory dependency is inserted between when the attachment is
    written and when it is subsequently read by later fragments.
    <a href="#synchronization-pipeline-barriers">Pipeline barriers</a> expressing a
    <a href="#synchronization-pipeline-barriers-subpass-self-dependencies">subpass     self-dependency</a> are the only way to achieve this, and one <span role="normative">must</span> be
    inserted every time a fragment will read values at a particular sample
    (x, y, layer, sample) coordinate, if those values have been written
    since the most recent pipeline barrier; or the since start of the
    subpass if there have been no pipeline barriers since the start of the
    subpass.
</p>
</li>
</ul></div>
<div class="paragraph"><p>An attachment used as both an input attachment and a color attachment <span role="normative">must</span>
be in the <code>VK_IMAGE_LAYOUT_GENERAL</code> layout.
An attachment used as an input attachment and depth/stencil attachment <span role="normative">must</span>
be in either <code>VK_IMAGE_LAYOUT_GENERAL</code> or
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>.
An attachment <span role="normative">must</span> not be used as both a depth/stencil attachment and a
color attachment.</p></div>
<div class="paragraph"><p>To destroy a render pass, call:</p></div>
<div class="listingblock">
<a id="vkDestroyRenderPass"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyRenderPass</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkRenderPass</span>                                renderPass<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the render pass.
</p>
</li>
<li>
<p>
<code>renderPass</code> is the handle of the render pass to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted commands that refer to <code>renderPass</code> <span role="normative">must</span> have
    completed execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>renderPass</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>renderPass</code>
    was created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>renderPass</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>renderPass</code> <span role="normative">must</span> be a valid <code>VkRenderPass</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>renderPass</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>renderPass</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="renderpass-compatibility">7.2. Render Pass Compatibility</h3>
<div class="paragraph"><p>Framebuffers and graphics pipelines are created based on a specific render
pass object.
They <span role="normative">must</span> only be used with that render pass object, or one compatible with
it.</p></div>
<div class="paragraph"><p>Two attachment references are compatible if they have matching format and
sample count, or are both <code>VK_ATTACHMENT_UNUSED</code> or the pointer that
would contain the reference is <span class="monospaced">NULL</span>.</p></div>
<div class="paragraph"><p>Two arrays of attachment references are compatible if all corresponding
pairs of attachments are compatible.
If the arrays are of different lengths, attachment references not present in
the smaller array are treated as <code>VK_ATTACHMENT_UNUSED</code>.</p></div>
<div class="paragraph"><p>Two render passes that contain only a single subpass are compatible if their
corresponding color, input, resolve, and depth/stencil attachment references
are compatible.</p></div>
<div class="paragraph"><p>If two render passes contain more than one subpass, they are compatible if
they are identical except for:</p></div>
<div class="ulist"><ul>
<li>
<p>
Initial and final image layout in attachment descriptions
</p>
</li>
<li>
<p>
Load and store operations in attachment descriptions
</p>
</li>
<li>
<p>
Image layout in attachment references
</p>
</li>
</ul></div>
<div class="paragraph"><p>A framebuffer is compatible with a render pass if it was created using the
same render pass or a compatible render pass.</p></div>
</div>
<div class="sect2">
<h3 id="_framebuffers">7.3. Framebuffers</h3>
<div class="paragraph"><p>Render passes operate in conjunction with <em>framebuffers</em>.
Framebuffers represent a collection of specific memory attachments that a
render pass instance uses.</p></div>
<div class="paragraph"><p>Framebuffers are represented by <code>VkFramebuffer</code> handles:</p></div>
<div class="listingblock">
<a id="VkFramebuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkFramebuffer<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create a framebuffer, call:</p></div>
<div class="listingblock">
<a id="vkCreateFramebuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateFramebuffer</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkFramebufferCreateInfo<span style="color: #990000">*</span>              pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkFramebuffer<span style="color: #990000">*</span>                              pFramebuffer<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the framebuffer.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> points to a <code><a href="#VkFramebufferCreateInfo">VkFramebufferCreateInfo</a></code> structure
    which describes additional information about framebuffer creation.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pFramebuffer</code> points to a <code>VkFramebuffer</code> handle in which the
    resulting framebuffer object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkFramebufferCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pFramebuffer</code> <span role="normative">must</span> be a pointer to a <code>VkFramebuffer</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkFramebufferCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkFramebufferCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkFramebufferCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>             sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                 pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkFramebufferCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkRenderPass</span>                renderPass<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                    attachmentCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkImageView<span style="color: #990000">*</span>          pAttachments<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                    width<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                    height<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                    layers<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkFramebufferCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>renderPass</code> is a render pass that defines what render passes the
    framebuffer will be compatible with.
    See <a href="#renderpass-compatibility">Render Pass Compatibility</a> for details.
</p>
</li>
<li>
<p>
<code>attachmentCount</code> is the number of attachments.
</p>
</li>
<li>
<p>
<code>pAttachments</code> is an array of <code>VkImageView</code> handles, each of
    which will be used as the corresponding attachment in a render pass
    instance.
</p>
</li>
<li>
<p>
<code>width</code>, <code>height</code> and <code>layers</code> define the dimensions of the
    framebuffer.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Image subresources used as attachments <span role="normative">must</span> not be used via any
non-attachment usage for the duration of a render pass instance.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>This restriction means that the render pass has full knowledge of all uses
of all of the attachments, so that the implementation is able to make
correct decisions about when and how to perform layout transitions, when to
overlap execution of subpasses, etc.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph" id="renderpass-noattachments"><p>It is legal for a subpass to use no color or depth/stencil attachments, and
rather use shader side effects such as image stores and atomics to produce
an output.
In this case, the subpass continues to use the <code>width</code>, <code>height</code>,
and <code>layers</code> of the framebuffer to define the dimensions of the
rendering area, and the <code>rasterizationSamples</code> from each pipeline&#8217;s
<code><a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code> to define the number of samples
used in rasterization; however, if
<code><a href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a></code>::<code>variableMultisampleRate</code> is
<code>VK_FALSE</code>, then all pipelines to be bound with a given zero-attachment
subpass <span role="normative">must</span> have the same value for
<code><a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>::<code>rasterizationSamples</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>attachmentCount</code> <span role="normative">must</span> be equal to the attachment count specified
    in <code>renderPass</code>
</p>
</li>
<li>
<p>
Any given element of <code>pAttachments</code> that is used as a color
    attachment or resolve attachment by <code>renderPass</code> <span role="normative">must</span> have been
    created with a <code>usage</code> value including
    <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>
</p>
</li>
<li>
<p>
Any given element of <code>pAttachments</code> that is used as a depth/stencil
    attachment by <code>renderPass</code> <span role="normative">must</span> have been created with a
    <code>usage</code> value including
    <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>
</p>
</li>
<li>
<p>
Any given element of <code>pAttachments</code> that is used as an input
    attachment by <code>renderPass</code> <span role="normative">must</span> have been created with a
    <code>usage</code> value including <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>
</p>
</li>
<li>
<p>
Any given element of <code>pAttachments</code> <span role="normative">must</span> have been created with an
    <code><a href="#VkFormat">VkFormat</a></code> value that matches the <code><a href="#VkFormat">VkFormat</a></code> specified by the
    corresponding <code>VkAttachmentDescription</code> in <code>renderPass</code>
</p>
</li>
<li>
<p>
Any given element of <code>pAttachments</code> <span role="normative">must</span> have been created with a
    <code>samples</code> value that matches the <code>samples</code> value specified by
    the corresponding <code>VkAttachmentDescription</code> in <code>renderPass</code>
</p>
</li>
<li>
<p>
Any given element of <code>pAttachments</code> <span role="normative">must</span> have dimensions at least
    as large as the corresponding framebuffer dimension
</p>
</li>
<li>
<p>
Any given element of <code>pAttachments</code> <span role="normative">must</span> only specify a single mip
    level
</p>
</li>
<li>
<p>
Any given element of <code>pAttachments</code> <span role="normative">must</span> have been created with the
    identity swizzle
</p>
</li>
<li>
<p>
<code>width</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxFramebufferWidth</code>
</p>
</li>
<li>
<p>
<code>height</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxFramebufferHeight</code>
</p>
</li>
<li>
<p>
<code>layers</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxFramebufferLayers</code>
</p>
</li>
<li>
<p>
Any given element of <code>pAttachments</code> that is a 2D or 2D array image
    view taken from a 3D image <span role="normative">must</span> not be a depth/stencil format
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>renderPass</code> <span role="normative">must</span> be a valid <code>VkRenderPass</code> handle
</p>
</li>
<li>
<p>
If <code>attachmentCount</code> is not <span class="monospaced">0</span>, <code>pAttachments</code> <span role="normative">must</span> be a pointer to an array of <code>attachmentCount</code> valid <code>VkImageView</code> handles
</p>
</li>
<li>
<p>
Both of <code>renderPass</code>, and the elements of <code>pAttachments</code> that are valid handles <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To destroy a framebuffer, call:</p></div>
<div class="listingblock">
<a id="vkDestroyFramebuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyFramebuffer</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkFramebuffer</span>                               framebuffer<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the framebuffer.
</p>
</li>
<li>
<p>
<code>framebuffer</code> is the handle of the framebuffer to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted commands that refer to <code>framebuffer</code> <span role="normative">must</span> have
    completed execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>framebuffer</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>framebuffer</code>
    was created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>framebuffer</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>framebuffer</code> <span role="normative">must</span> be a valid <code>VkFramebuffer</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>framebuffer</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>framebuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="renderpass-commands">7.4. Render Pass Commands</h3>
<div class="paragraph"><p>An application records the commands for a render pass instance one subpass
at a time, by beginning a render pass instance, iterating over the subpasses
to record commands for that subpass, and then ending the render pass
instance.</p></div>
<div class="paragraph"><p>To begin a render pass instance, call:</p></div>
<div class="listingblock">
<a id="vkCmdBeginRenderPass"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdBeginRenderPass</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkRenderPassBeginInfo<span style="color: #990000">*</span>                pRenderPassBegin<span style="color: #990000">,</span>
    <span style="color: #008080">VkSubpassContents</span>                           contents<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer in which to record the
    command.
</p>
</li>
<li>
<p>
<code>pRenderPassBegin</code> is a pointer to a <code><a href="#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a></code>
    structure (defined below) which indicates the render pass to begin an
    instance of, and the framebuffer the instance uses.
</p>
</li>
<li>
<p>
<code>contents</code> specifies how the commands in the first subpass will be
    provided, and is one of the values:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkSubpassContents"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkSubpassContents <span style="color: #FF0000">{</span>
    VK_SUBPASS_CONTENTS_INLINE <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_SUBPASS_CONTENTS_SECONDARY_COMMAND_BUFFERS <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkSubpassContents<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="paragraph"><p>If <code>contents</code> is <code>VK_SUBPASS_CONTENTS_INLINE</code>, the contents of the
subpass will be recorded inline in the primary command buffer, and secondary
command buffers <span role="normative">must</span> not be executed within the subpass.
If <code>contents</code> is <code>VK_SUBPASS_CONTENTS_SECONDARY_COMMAND_BUFFERS</code>,
the contents are recorded in secondary command buffers that will be called
from the primary command buffer, and <code>vkCmdExecuteCommands</code> is the only
valid command on the command buffer until <code>vkCmdNextSubpass</code> or
<code>vkCmdEndRenderPass</code>.</p></div>
</li>
</ul></div>
<div class="paragraph"><p>After beginning a render pass instance, the command buffer is ready to
record the commands for the first subpass of that render pass.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If any of the <code>initialLayout</code> or <code>finalLayout</code> member of the
    <code>VkAttachmentDescription</code> structures or the <code>layout</code> member of
    the <code>VkAttachmentReference</code> structures specified when creating the
    render pass specified in the <code>renderPass</code> member of
    <code>pRenderPassBegin</code> is <code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code>
    then the corresponding attachment image subresource of the framebuffer
    specified in the <code>framebuffer</code> member of <code>pRenderPassBegin</code>
    <span role="normative">must</span> have been created with <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>
    set
</p>
</li>
<li>
<p>
If any of the <code>initialLayout</code> or <code>finalLayout</code> member of the
    <code>VkAttachmentDescription</code> structures or the <code>layout</code> member of
    the <code>VkAttachmentReference</code> structures specified when creating the
    render pass specified in the <code>renderPass</code> member of
    <code>pRenderPassBegin</code> is
    <code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL</code> or
    <code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> then the
    corresponding attachment image subresource of the framebuffer specified
    in the <code>framebuffer</code> member of <code>pRenderPassBegin</code> <span role="normative">must</span> have
    been created with <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> set
</p>
</li>
<li>
<p>
If any of the <code>initialLayout</code> or <code>finalLayout</code> member of the
    <code>VkAttachmentDescription</code> structures or the <code>layout</code> member of
    the <code>VkAttachmentReference</code> structures specified when creating the
    render pass specified in the <code>renderPass</code> member of
    <code>pRenderPassBegin</code> is <code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code>
    then the corresponding attachment image subresource of the framebuffer
    specified in the <code>framebuffer</code> member of <code>pRenderPassBegin</code>
    <span role="normative">must</span> have been created with <code>VK_IMAGE_USAGE_SAMPLED_BIT</code> or
    <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> set
</p>
</li>
<li>
<p>
If any of the <code>initialLayout</code> or <code>finalLayout</code> member of the
    <code>VkAttachmentDescription</code> structures or the <code>layout</code> member of
    the <code>VkAttachmentReference</code> structures specified when creating the
    render pass specified in the <code>renderPass</code> member of
    <code>pRenderPassBegin</code> is <code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code>
    then the corresponding attachment image subresource of the framebuffer
    specified in the <code>framebuffer</code> member of <code>pRenderPassBegin</code>
    <span role="normative">must</span> have been created with <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> set
</p>
</li>
<li>
<p>
If any of the <code>initialLayout</code> or <code>finalLayout</code> member of the
    <code>VkAttachmentDescription</code> structures or the <code>layout</code> member of
    the <code>VkAttachmentReference</code> structures specified when creating the
    render pass specified in the <code>renderPass</code> member of
    <code>pRenderPassBegin</code> is <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>
    then the corresponding attachment image subresource of the framebuffer
    specified in the <code>framebuffer</code> member of <code>pRenderPassBegin</code>
    <span role="normative">must</span> have been created with <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> set
</p>
</li>
<li>
<p>
If any of the <code>initialLayout</code> members of the
    <code>VkAttachmentDescription</code> structures specified when creating the
    render pass specified in the <code>renderPass</code> member of
    <code>pRenderPassBegin</code> is not <code>VK_IMAGE_LAYOUT_UNDEFINED</code>, then each
    such <code>initialLayout</code> <span role="normative">must</span> be equal to the current layout of the
    corresponding attachment image subresource of the framebuffer specified
    in the <code>framebuffer</code> member of <code>pRenderPassBegin</code>
</p>
</li>
<li>
<p>
The <code>srcStageMask</code> and <code>dstStageMask</code> members of any element of
    the <code>pDependencies</code> member of <code><a href="#VkRenderPassCreateInfo">VkRenderPassCreateInfo</a></code> used to
    create <code>renderpass</code> <span role="normative">must</span> be supported by the capabilities of the
    queue family identified by the <code>queueFamilyIndex</code> member of the
    <code><a href="#VkCommandPoolCreateInfo">VkCommandPoolCreateInfo</a></code> used to create the command pool which
    <code>commandBuffer</code> was allocated from.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pRenderPassBegin</code> <span role="normative">must</span> be a pointer to a valid <code>VkRenderPassBeginInfo</code> structure
</p>
</li>
<li>
<p>
<code>contents</code> <span role="normative">must</span> be a valid <code><a href="#VkSubpassContents">VkSubpassContents</a></code> value
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a primary <code>VkCommandBuffer</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>The <code>VkRenderPassBeginInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkRenderPassBeginInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkRenderPassBeginInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>        sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>            pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkRenderPass</span>           renderPass<span style="color: #990000">;</span>
    <span style="color: #008080">VkFramebuffer</span>          framebuffer<span style="color: #990000">;</span>
    <span style="color: #008080">VkRect2D</span>               renderArea<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>               clearValueCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkClearValue<span style="color: #990000">*</span>    pClearValues<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkRenderPassBeginInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>renderPass</code> is the render pass to begin an instance of.
</p>
</li>
<li>
<p>
<code>framebuffer</code> is the framebuffer containing the attachments that are
    used with the render pass.
</p>
</li>
<li>
<p>
<code>renderArea</code> is the render area that is affected by the render pass
    instance, and is described in more detail below.
</p>
</li>
<li>
<p>
<code>clearValueCount</code> is the number of elements in <code>pClearValues</code>.
</p>
</li>
<li>
<p>
<code>pClearValues</code> is an array of <code><a href="#VkClearValue">VkClearValue</a></code> structures that
    contains clear values for each attachment, if the attachment uses a
    <code>loadOp</code> value of <code>VK_ATTACHMENT_LOAD_OP_CLEAR</code> or if the
    attachment has a depth/stencil format and uses a <code>stencilLoadOp</code>
    value of <code>VK_ATTACHMENT_LOAD_OP_CLEAR</code>.
    The array is indexed by attachment number.
    Only elements corresponding to cleared attachments are used.
    Other elements of <code>pClearValues</code> are ignored.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>renderArea</code> is the render area that is affected by the render pass
instance.
The effects of attachment load, store and multisample resolve operations are
restricted to the pixels whose x and y coordinates fall within the render
area on all attachments.
The render area extends to all layers of <code>framebuffer</code>.
The application <span role="normative">must</span> ensure (using scissor if necessary) that all rendering
is contained within the render area, otherwise the pixels outside of the
render area become undefined and shader side effects <span role="normative">may</span> occur for
fragments outside the render area.
The render area <span role="normative">must</span> be contained within the framebuffer dimensions.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>There <span role="normative">may</span> be a performance cost for using a render area smaller than the
framebuffer, unless it matches the render area granularity for the render
pass.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>clearValueCount</code> <span role="normative">must</span> be greater than the largest attachment index
    in <code>renderPass</code> that specifies a <code>loadOp</code> (or
    <code>stencilLoadOp</code>, if the attachment has a depth/stencil format) of
    <code>VK_ATTACHMENT_LOAD_OP_CLEAR</code>
</p>
</li>
<li>
<p>
If <code>clearValueCount</code> is not <span class="monospaced">0</span>, <code>pClearValues</code> <span role="normative">must</span> be a
    pointer to an array of <code>clearValueCount</code> valid <code>VkClearValue</code>
    unions
</p>
</li>
<li>
<p>
<code>renderPass</code> <span role="normative">must</span> be <a href="#renderpass-compatibility">compatible</a> with
    the <code>renderPass</code> member of the <code>VkFramebufferCreateInfo</code>
    structure specified when creating <code>framebuffer</code>.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_RENDER_PASS_BEGIN_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>renderPass</code> <span role="normative">must</span> be a valid <code>VkRenderPass</code> handle
</p>
</li>
<li>
<p>
<code>framebuffer</code> <span role="normative">must</span> be a valid <code>VkFramebuffer</code> handle
</p>
</li>
<li>
<p>
Both of <code>framebuffer</code>, and <code>renderPass</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To query the render area granularity, call:</p></div>
<div class="listingblock">
<a id="vkGetRenderAreaGranularity"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetRenderAreaGranularity</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkRenderPass</span>                                renderPass<span style="color: #990000">,</span>
    VkExtent2D<span style="color: #990000">*</span>                                 pGranularity<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the render pass.
</p>
</li>
<li>
<p>
<code>renderPass</code> is a handle to a render pass.
</p>
</li>
<li>
<p>
<code>pGranularity</code> points to a <code><a href="#VkExtent2D">VkExtent2D</a></code> structure in which the
    granularity is returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The conditions leading to an optimal <code>renderArea</code> are:</p></div>
<div class="ulist"><ul>
<li>
<p>
the <code>offset.x</code> member in <code>renderArea</code> is a multiple of the
    <code>width</code> member of the returned <code><a href="#VkExtent2D">VkExtent2D</a></code> (the horizontal
    granularity).
</p>
</li>
<li>
<p>
the <code>offset.y</code> member in <code>renderArea</code> is a multiple of the
    <code>height</code> of the returned <code><a href="#VkExtent2D">VkExtent2D</a></code> (the vertical
    granularity).
</p>
</li>
<li>
<p>
either the <code>offset.width</code> member in <code>renderArea</code> is a multiple
    of the horizontal granularity or <code>offset.x</code>+<code>offset.width</code> is
    equal to the <code>width</code> of the <code>framebuffer</code> in the
    <code><a href="#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a></code>.
</p>
</li>
<li>
<p>
either the <code>offset.height</code> member in <code>renderArea</code> is a multiple
    of the vertical granularity or <code>offset.y</code>+<code>offset.height</code> is
    equal to the <code>height</code> of the <code>framebuffer</code> in the
    <code><a href="#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a></code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Subpass dependencies are not affected by the render area, and apply to the
entire image subresources attached to the framebuffer.
Similarly, pipeline barriers are valid even if their effect extends outside
the render area.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>renderPass</code> <span role="normative">must</span> be a valid <code>VkRenderPass</code> handle
</p>
</li>
<li>
<p>
<code>pGranularity</code> <span role="normative">must</span> be a pointer to a <code>VkExtent2D</code> structure
</p>
</li>
<li>
<p>
<code>renderPass</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To transition to the next subpass in the render pass instance after
recording the commands for a subpass, call:</p></div>
<div class="listingblock">
<a id="vkCmdNextSubpass"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdNextSubpass</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkSubpassContents</span>                           contents<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer in which to record the
    command.
</p>
</li>
<li>
<p>
<code>contents</code> specifies how the commands in the next subpass will be
    provided, in the same fashion as the corresponding parameter of
    <code><a href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a></code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The subpass index for a render pass begins at zero when
<code>vkCmdBeginRenderPass</code> is recorded, and increments each time
<code>vkCmdNextSubpass</code> is recorded.</p></div>
<div class="paragraph"><p>Moving to the next subpass automatically performs any multisample resolve
operations in the subpass being ended.
End-of-subpass multisample resolves are treated as color attachment writes
for the purposes of synchronization.
That is, they are considered to execute in the
<code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code> pipeline stage and their
writes are synchronized with <code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>.
Synchronization between rendering within a subpass and any resolve
operations at the end of the subpass occurs automatically, without need for
explicit dependencies or pipeline barriers.
However, if the resolve attachment is also used in a different subpass, an
explicit dependency is needed.</p></div>
<div class="paragraph"><p>After transitioning to the next subpass, the application <span role="normative">can</span> record the
commands for that subpass.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The current subpass index <span role="normative">must</span> be less than the number of subpasses in
    the render pass minus one
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>contents</code> <span role="normative">must</span> be a valid <code><a href="#VkSubpassContents">VkSubpassContents</a></code> value
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called inside of a render pass instance
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a primary <code>VkCommandBuffer</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>To record a command to end a render pass instance after recording the
commands for the last subpass, call:</p></div>
<div class="listingblock">
<a id="vkCmdEndRenderPass"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdEndRenderPass</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer in which to end the current
    render pass instance.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Ending a render pass instance performs any multisample resolve operations on
the final subpass.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The current subpass index <span role="normative">must</span> be equal to the number of subpasses in
    the render pass minus one
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called inside of a render pass instance
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a primary <code>VkCommandBuffer</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="shaders">8. Shaders</h2>
<div class="sectionbody">
<div class="paragraph"><p>A shader specifies programmable operations that execute for each vertex,
control point, tessellated vertex, primitive, fragment, or workgroup in the
corresponding stage(s) of the graphics and compute pipelines.</p></div>
<div class="paragraph"><p>Graphics pipelines include vertex shader execution as a result of
<a href="#drawing">primitive assembly</a>, followed, if enabled, by tessellation
control and evaluation shaders operating on
<a href="#drawing-primitive-topologies-patches">patches</a>, geometry shaders, if
enabled, operating on primitives, and fragment shaders, if present,
operating on fragments generated by <a href="#primsrast">Rasterization</a>.
In this specification, vertex, tessellation control, tessellation evaluation
and geometry shaders are collectively referred to as vertex processing
stages and occur in the logical pipeline before rasterization.
The fragment shader occurs logically after rasterization.</p></div>
<div class="paragraph"><p>Only the compute shader stage is included in a compute pipeline.
Compute shaders operate on compute invocations in a workgroup.</p></div>
<div class="paragraph"><p>Shaders <span role="normative">can</span> read from input variables, and read from and write to output
variables.
Input and output variables <span role="normative">can</span> be used to transfer data between shader
stages, or to allow the shader to interact with values that exist in the
execution environment.
Similarly, the execution environment provides constants that describe
capabilities.</p></div>
<div class="paragraph"><p>Shader variables are associated with execution environment-provided inputs
and outputs using <em>built-in</em> decorations in the shader.
The available decorations for each stage are documented in the following
subsections.</p></div>
<div class="sect2">
<h3 id="shader-modules">8.1. Shader Modules</h3>
<div class="paragraph"><p><em>Shader modules</em> contain <em>shader code</em> and one or more entry points.
Shaders are selected from a shader module by specifying an entry point as
part of <a href="#pipelines">pipeline</a> creation.
The stages of a pipeline <span role="normative">can</span> use shaders that come from different modules.
The shader code defining a shader module <span role="normative">must</span> be in the SPIR-V format, as
described by the <a href="#spirvenv">Vulkan Environment for SPIR-V</a> appendix.</p></div>
<div class="paragraph"><p>Shader modules are represented by <code>VkShaderModule</code> handles:</p></div>
<div class="listingblock">
<a id="VkShaderModule"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkShaderModule<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create a shader module, call:</p></div>
<div class="listingblock">
<a id="vkCreateShaderModule"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateShaderModule</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkShaderModuleCreateInfo<span style="color: #990000">*</span>             pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkShaderModule<span style="color: #990000">*</span>                             pShaderModule<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the shader module.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> parameter is a pointer to an instance of the
    <code>VkShaderModuleCreateInfo</code> structure.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pShaderModule</code> points to a <code>VkShaderModule</code> handle in which the
    resulting shader module object is returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Once a shader module has been created, any entry points it contains <span role="normative">can</span> be
used in pipeline shader stages as described in <a href="#pipelines-compute">Compute Pipelines</a> and <a href="#pipelines-graphics">Graphics Pipelines</a>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkShaderModuleCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pShaderModule</code> <span role="normative">must</span> be a pointer to a <code>VkShaderModule</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkShaderModuleCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkShaderModuleCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkShaderModuleCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>              sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                  pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkShaderModuleCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">size_t</span>                       codeSize<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> uint32_t<span style="color: #990000">*</span>              pCode<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkShaderModuleCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>codeSize</code> is the size, in bytes, of the code pointed to by
    <code>pCode</code>.
</p>
</li>
<li>
<p>
<code>pCode</code> points to code that is used to create the shader module.
    The type and format of the code is determined from the content of the
    memory addressed by <code>pCode</code>.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>codeSize</code> <span role="normative">must</span> be greater than 0
</p>
</li>
<li>
<p>
<code>codeSize</code> <span role="normative">must</span> be a multiple of 4.
    If the <span class="monospaced">VK_NV_glsl_shader extension</span> is enabled and <code>pCode</code>
    references GLSL code <code>codeSize</code> can be a multiple of 1
</p>
</li>
<li>
<p>
<code>pCode</code> <span role="normative">must</span> point to valid SPIR-V code, formatted and packed as
    described by the <a href="#spirv-spec">Khronos SPIR-V Specification</a>.
    If the <span class="monospaced">VK_NV_glsl_shader</span> extension is enabled <code>pCode</code> can instead
    reference valid GLSL code and <span role="normative">must</span> be written to the
    <span class="monospaced">GL_KHR_vulkan_glsl</span> extension specification
</p>
</li>
<li>
<p>
<code>pCode</code> <span role="normative">must</span> adhere to the validation rules described by the
    <a href="#spirvenv-module-validation">Validation Rules within a Module</a> section
    of the <a href="#spirvenv-capabilities">SPIR-V Environment</a> appendix.
    If the <span class="monospaced">VK_NV_glsl_shader</span> extension is enabled <code>pCode</code> can be valid
    GLSL code with respect to the <span class="monospaced">GL_KHR_vulkan_glsl</span> GLSL extension
    specification
</p>
</li>
<li>
<p>
<code>pCode</code> <span role="normative">must</span> declare the <code>Shader</code> capability for SPIR-V code
</p>
</li>
<li>
<p>
<code>pCode</code> <span role="normative">must</span> not declare any capability that is not supported by
    the API, as described by the <a href="#spirvenv-module-validation">Capabilities</a> section of the <a href="#spirvenv-capabilities">SPIR-V     Environment</a> appendix
</p>
</li>
<li>
<p>
If <code>pCode</code> declares any of the capabilities that are listed as not
    required by the implementation, the relevant feature <span role="normative">must</span> be enabled,
    as listed in the <a href="#spirvenv-capabilities-table">SPIR-V Environment</a>
    appendix
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>pCode</code> <span role="normative">must</span> be a pointer to an array of $codeSize \over 4$ <code>uint32_t</code> values
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To destroy a shader module, call:</p></div>
<div class="listingblock">
<a id="vkDestroyShaderModule"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyShaderModule</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkShaderModule</span>                              shaderModule<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the shader module.
</p>
</li>
<li>
<p>
<code>shaderModule</code> is the handle of the shader module to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="paragraph"><p>A shader module <span role="normative">can</span> be destroyed while pipelines created using its shaders
are still in use.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>shaderModule</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>shaderModule</code>
    was created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>shaderModule</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>shaderModule</code> <span role="normative">must</span> be a valid <code>VkShaderModule</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>shaderModule</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>shaderModule</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="shaders-execution">8.2. Shader Execution</h3>
<div class="paragraph"><p>At each stage of the pipeline, multiple invocations of a shader <span role="normative">may</span> execute
simultaneously.
Further, invocations of a single shader produced as the result of different
commands <span role="normative">may</span> execute simultaneously.
The relative execution order of invocations of the same shader type is
undefined.
Shader invocations <span role="normative">may</span> complete in a different order than that in which the
primitives they originated from were drawn or dispatched by the application.
However, fragment shader outputs are written to attachments in
<a href="#primrast-order">rasterization order</a>.</p></div>
<div class="paragraph"><p>The relative order of invocations of different shader types is largely
undefined.
However, when invoking a shader whose inputs are generated from a previous
pipeline stage, the shader invocations from the previous stage are
guaranteed to have executed far enough to generate input values for all
required inputs.</p></div>
</div>
<div class="sect2">
<h3 id="shaders-execution-memory-ordering">8.3. Shader Memory Access Ordering</h3>
<div class="paragraph"><p>The order in which image or buffer memory is read or written by shaders is
largely undefined.
For some shader types (vertex, tessellation evaluation, and in some cases,
fragment), even the number of shader invocations that <span role="normative">may</span> perform loads and
stores is undefined.</p></div>
<div class="paragraph"><p>In particular, the following rules apply:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="#shaders-vertex-execution">Vertex</a> and
    <a href="#shaders-tessellation-evaluation-execution">tessellation evaluation</a>
    shaders will be invoked at least once for each unique vertex, as defined
    in those sections.
</p>
</li>
<li>
<p>
<a href="#shaders-fragment-execution">Fragment</a> shaders will be invoked zero or
    more times, as defined in that section.
</p>
</li>
<li>
<p>
The relative order of invocations of the same shader type are undefined.
    A store issued by a shader when working on primitive B might complete
    prior to a store for primitive A, even if primitive A is specified prior
    to primitive B.
    This applies even to fragment shaders; while fragment shader outputs are
    always written to the framebuffer
    <a href="#fundamentals-queueoperation-apiorder">in primitive order</a>, stores
    executed by fragment shader invocations are not.
</p>
</li>
<li>
<p>
The relative order of invocations of different shader types is largely
    undefined.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The above limitations on shader invocation order make some forms of
synchronization between shader invocations within a single set of primitives
unimplementable.
For example, having one invocation poll memory written by another invocation
assumes that the other invocation has been launched and will complete its
writes in finite time.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Stores issued to different memory locations within a single shader
invocation <span role="normative">may</span> not be visible to other invocations, or <span role="normative">may</span> not become
visible in the order they were performed.</p></div>
<div class="paragraph"><p>The <code>OpMemoryBarrier</code> instruction <span role="normative">can</span> be used to provide stronger
ordering of reads and writes performed by a single invocation.
<code>OpMemoryBarrier</code> guarantees that any memory transactions issued by the
shader invocation prior to the instruction complete prior to the memory
transactions issued after the instruction.
Memory barriers are needed for algorithms that require multiple invocations
to access the same memory and require the operations to be performed in a
partially-defined relative order.
For example, if one shader invocation does a series of writes, followed by
an <code>OpMemoryBarrier</code> instruction, followed by another write, then the
results of the series of writes before the barrier become visible to other
shader invocations at a time earlier or equal to when the results of the
final write become visible to those invocations.
In practice it means that another invocation that sees the results of the
final write would also see the previous writes.
Without the memory barrier, the final write <span role="normative">may</span> be visible before the
previous writes.</p></div>
<div class="paragraph"><p>Writes that are the result of shader stores through a variable decorated
with <code>Coherent</code> automatically have available writes to the same buffer,
buffer view, or image view made visible to them, and are themselves
automatically made available to access by the same buffer, buffer view, or
image view.
Reads that are the result of shader loads through a variable decorated with
<code>Coherent</code> automatically have available writes to the same buffer, buffer
view, or image view made visible to them.
The order that coherent writes to different locations become available is
undefined, unless enforced by a memory barrier instruction or other memory
dependency.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Explicit memory dependencies <span role="normative">must</span> still be used to guarantee availability
and visibility for access via other buffers, buffer views, or image views.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>The built-in atomic memory transaction instructions <span role="normative">can</span> be used to read and
write a given memory address atomically.
While built-in atomic functions issued by multiple shader invocations are
executed in undefined order relative to each other, these functions perform
both a read and a write of a memory address and guarantee that no other
memory transaction will write to the underlying memory between the read and
write.
Atomic operations ensure automatic availability and visibility for writes
and reads in the same way as those to <code>Coherent</code> variables.</p></div>
<div class="exampleblock" id="NOTE">
<div class="title">Example 1. Note</div>
<div class="content">
<div class="paragraph"><p>Memory accesses performed on different resource descriptors with the same
memory backing <span role="normative">may</span> not be well-defined even with the <code>Coherent</code>
decoration or via atomics, due to things such as image layouts or ownership
of the resource - as described in the <a href="#synchronization">Synchronization and Cache Control</a> chapter.</p></div>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Atomics allow shaders to use shared global addresses for mutual exclusion or
as counters, among other uses.</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="shaders-inputs">8.4. Shader Inputs and Outputs</h3>
<div class="paragraph"><p>Data is passed into and out of shaders using variables with input or output
storage class, respectively.
User-defined inputs and outputs are connected between stages by matching
their <code>Location</code> decorations.
Additionally, data <span role="normative">can</span> be provided by or communicated to special functions
provided by the execution environment using <code>BuiltIn</code> decorations.</p></div>
<div class="paragraph"><p>In many cases, the same <code>BuiltIn</code> decoration <span role="normative">can</span> be used in multiple
shader stages with similar meaning.
The specific behavior of variables decorated as <code>BuiltIn</code> is documented
in the following sections.</p></div>
</div>
<div class="sect2">
<h3 id="shaders-vertex">8.5. Vertex Shaders</h3>
<div class="paragraph"><p>Each vertex shader invocation operates on one vertex and its associated
<a href="#fxvertex-attrib">vertex attribute</a> data, and outputs one vertex and
associated data.
Graphics pipelines <span role="normative">must</span> include a vertex shader, and the vertex shader
stage is always the first shader stage in the graphics pipeline.</p></div>
<div class="sect3">
<h4 id="shaders-vertex-execution">8.5.1. Vertex Shader Execution</h4>
<div class="paragraph"><p>A vertex shader <span role="normative">must</span> be executed at least once for each vertex specified by
a draw command.
During execution, the shader is presented with the index of the vertex and
instance for which it has been invoked.
Input variables declared in the vertex shader are filled by the
implementation with the values of vertex attributes associated with the
invocation being executed.</p></div>
<div class="paragraph"><p>If the same vertex is specified multiple times in a draw command (e.g. by
including the same index value multiple times in an index buffer) the
implementation <span role="normative">may</span> reuse the results of vertex shading if it can statically
determine that the vertex shader invocations will produce identical results.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>It is implementation-dependent when and if results of vertex shading are
reused, and thus how many times the vertex shader will be executed.
This is true also if the vertex shader contains stores or atomic operations
(see <a href="#features-features-vertexPipelineStoresAndAtomics"><code>vertexPipelineStoresAndAtomics</code></a>).</p></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-tessellation-control">8.6. Tessellation Control Shaders</h3>
<div class="paragraph"><p>The tessellation control shader is used to read an input patch provided by
the application and to produce an output patch.
Each tessellation control shader invocation operates on an input patch
(after all control points in the patch are processed by a vertex shader) and
its associated data, and outputs a single control point of the output patch
and its associated data, and <span role="normative">can</span> also output additional per-patch data.
The input patch is sized according to the <code>patchControlPoints</code> member of
<code><a href="#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a></code>, as part of input assembly.
The size of the output patch is controlled by the <code>OpExecutionMode</code>
<code>OutputVertices</code> specified in the tessellation control or tessellation
evaluation shaders, which <span role="normative">must</span> be specified in at least one of the shaders.
The size of the input and output patches <span role="normative">must</span> each be greater than zero and
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxTessellationPatchSize</code>.</p></div>
<div class="sect3">
<h4 id="shaders-tessellation-control-execution">8.6.1. Tessellation Control Shader Execution</h4>
<div class="paragraph"><p>A tessellation control shader is invoked at least once for each <em>output</em>
vertex in a patch.</p></div>
<div class="paragraph"><p>Inputs to the tessellation control shader are generated by the vertex
shader.
Each invocation of the tessellation control shader <span role="normative">can</span> read the attributes
of any incoming vertices and their associated data.
The invocations corresponding to a given patch execute logically in
parallel, with undefined relative execution order.
However, the <code>OpControlBarrier</code> instruction <span role="normative">can</span> be used to provide
limited control of the execution order by synchronizing invocations within a
patch, effectively dividing tessellation control shader execution into a set
of phases.
Tessellation control shaders will read undefined values if one invocation
reads a per-vertex or per-patch attribute written by another invocation at
any point during the same phase, or if two invocations attempt to write
different values to the same per-patch output in a single phase.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-tessellation-evaluation">8.7. Tessellation Evaluation Shaders</h3>
<div class="paragraph"><p>The Tessellation Evaluation Shader operates on an input patch of control
points and their associated data, and a single input barycentric coordinate
indicating the invocation&#8217;s relative position within the subdivided patch,
and outputs a single vertex and its associated data.</p></div>
<div class="sect3">
<h4 id="shaders-tessellation-evaluation-execution">8.7.1. Tessellation Evaluation Shader Execution</h4>
<div class="paragraph"><p>A tessellation evaluation shader is invoked at least once for each unique
vertex generated by the tessellator.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-geometry">8.8. Geometry Shaders</h3>
<div class="paragraph"><p>The geometry shader operates on a group of vertices and their associated
data assembled from a single input primitive, and emits zero or more output
primitives and the group of vertices and their associated data required for
each output primitive.</p></div>
<div class="sect3">
<h4 id="shaders-geometry-execution">8.8.1. Geometry Shader Execution</h4>
<div class="paragraph"><p>A geometry shader is invoked at least once for each primitive produced by
the tessellation stages, or at least once for each primitive generated by
<a href="#drawing">primitive assembly</a> when tessellation is not in use.
The number of geometry shader invocations per input primitive is determined
from the invocation count of the geometry shader specified by the
<code>OpExecutionMode</code> <code>Invocations</code> in the geometry shader.
If the invocation count is not specified, then a default of one invocation
is executed.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-fragment">8.9. Fragment Shaders</h3>
<div class="paragraph"><p>Fragment shaders are invoked as the result of rasterization in a graphics
pipeline.
Each fragment shader invocation operates on a single fragment and its
associated data.
With few exceptions, fragment shaders do not have access to any data
associated with other fragments and are considered to execute in isolation
of fragment shader invocations associated with other fragments.</p></div>
<div class="sect3">
<h4 id="shaders-fragment-execution">8.9.1. Fragment Shader Execution</h4>
<div class="paragraph"><p>For each fragment generated by rasterization, a fragment shader <span role="normative">may</span> be
invoked.
A fragment shader <span role="normative">must</span> not be invoked if the <a href="#fragops-early">Early Per-Fragment Tests</a> cause it to have no coverage.</p></div>
<div class="paragraph"><p>Furthermore, if it is determined that a fragment generated as the result of
rasterizing a first primitive will have its outputs entirely overwritten by
a fragment generated as the result of rasterizing a second primitive in the
same subpass, and the fragment shader used for the fragment has no other
side effects, then the fragment shader <span role="normative">may</span> not be executed for the fragment
from the first primitive.</p></div>
<div class="paragraph"><p>Relative ordering of execution of different fragment shader invocations is
not defined.</p></div>
<div class="paragraph"><p>The number of fragment shader invocations produced per-pixel is determined
as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
If per-sample shading is enabled, the fragment shader is invoked once
    per covered sample.
</p>
</li>
<li>
<p>
Otherwise, the fragment shader is invoked at least once per fragment but
    no more than once per covered sample.
</p>
</li>
</ul></div>
<div class="paragraph"><p>In addition to the conditions outlined above for the invocation of a
fragment shader, a fragment shader invocation <span role="normative">may</span> be produced as a <em>helper
invocation</em>.
A helper invocation is a fragment shader invocation that is created solely
for the purposes of evaluating derivatives for use in non-helper fragment
shader invocations.
Stores and atomics performed by helper invocations <span role="normative">must</span> not have any effect
on memory, and values returned by atomic instructions in helper invocations
are undefined.</p></div>
</div>
<div class="sect3">
<h4 id="shaders-fragment-earlytest">8.9.2. Early Fragment Tests</h4>
<div class="paragraph"><p>An explicit control is provided to allow fragment shaders to enable early
fragment tests.
If the fragment shader specifies the <code>EarlyFragmentTests</code>
<code>OpExecutionMode</code>, the per-fragment tests described in
<a href="#fragops-early-mode">Early Fragment Test Mode</a> are performed prior to
fragment shader execution.
Otherwise, they are performed after fragment shader execution.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-compute">8.10. Compute Shaders</h3>
<div class="paragraph"><p>Compute shaders are invoked via <code><a href="#vkCmdDispatch">vkCmdDispatch</a></code> and
<code><a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code> commands.
In general, they have access to similar resources as shader stages executing
as part of a graphics pipeline.</p></div>
<div class="paragraph"><p>Compute workloads are formed from groups of work items called workgroups and
processed by the compute shader in the current compute pipeline.
A workgroup is a collection of shader invocations that execute the same
shader, potentially in parallel.
Compute shaders execute in <em>global workgroups</em> which are divided into a
number of <em>local workgroups</em> with a size that <span role="normative">can</span> be set by assigning a
value to the <code>LocalSize</code> execution mode or via an object decorated by the
<code>WorkgroupSize</code> decoration.
An invocation within a local workgroup <span role="normative">can</span> share data with other members of
the local workgroup through shared variables and issue memory and control
flow barriers to synchronize with other members of the local workgroup.</p></div>
</div>
<div class="sect2">
<h3 id="shaders-interpolation-decorations">8.11. Interpolation Decorations</h3>
<div class="paragraph"><p>Interpolation decorations control the behavior of attribute interpolation in
the fragment shader stage.
Interpolation decorations <span role="normative">can</span> be applied to <code>Input</code> storage class
variables in the fragment shader stage&#8217;s interface, and control the
interpolation behavior of those variables.</p></div>
<div class="paragraph"><p>Inputs that could be interpolated <span role="normative">can</span> be decorated by at most one of the
following decorations:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>Flat</code>: no interpolation
</p>
</li>
<li>
<p>
<code>NoPerspective</code>: linear interpolation (for
    <a href="#line_linear_interpolation">lines</a> and
    <a href="#triangle_linear_interpolation">polygons</a>).
</p>
</li>
</ul></div>
<div class="paragraph"><p>Fragment input variables decorated with neither <code>Flat</code> nor
<code>NoPerspective</code> use perspective-correct interpolation (for
<a href="#line_perspective_interpolation">lines</a> and
<a href="#triangle_perspective_interpolation">polygons</a>).</p></div>
<div class="paragraph"><p>The presence of and type of interpolation is controlled by the above
interpolation decorations as well as the auxiliary decorations <code>Centroid</code>
and <code>Sample</code>.</p></div>
<div class="paragraph"><p>A variable decorated with <code>Flat</code> will not be interpolated.
Instead, it will have the same value for every fragment within a triangle.
This value will come from a single <a href="#vertexpostproc-flatshading">provoking vertex</a>.
A variable decorated with <code>Flat</code> <span role="normative">can</span> also be decorated with
<code>Centroid</code> or <code>Sample</code>, which will mean the same thing as decorating
it only as <code>Flat</code>.</p></div>
<div class="paragraph"><p>For fragment shader input variables decorated with neither <code>Centroid</code> nor
<code>Sample</code>, the assigned variable <span role="normative">may</span> be interpolated anywhere within the
pixel and a single value <span role="normative">may</span> be assigned to each sample within the pixel.</p></div>
<div class="paragraph"><p><code>Centroid</code> and <code>Sample</code> <span role="normative">can</span> be used to control the location and
frequency of the sampling of the decorated fragment shader input.
If a fragment shader input is decorated with <code>Centroid</code>, a single value
<span role="normative">may</span> be assigned to that variable for all samples in the pixel, but that
value <span role="normative">must</span> be interpolated to a location that lies in both the pixel and in
the primitive being rendered, including any of the pixel&#8217;s samples covered
by the primitive.
Because the location at which the variable is interpolated <span role="normative">may</span> be different
in neighboring pixels, and derivatives <span role="normative">may</span> be computed by computing
differences between neighboring pixels, derivatives of centroid-sampled
inputs <span role="normative">may</span> be less accurate than those for non-centroid interpolated
variables.
If a fragment shader input is decorated with <code>Sample</code>, a separate value
<span role="normative">must</span> be assigned to that variable for each covered sample in the pixel, and
that value <span role="normative">must</span> be sampled at the location of the individual sample.
When <code>rasterizationSamples</code> is <code>VK_SAMPLE_COUNT_1_BIT</code>, the pixel
center <span role="normative">must</span> be used for <code>Centroid</code>, <code>Sample</code>, and undecorated
attribute interpolation.</p></div>
<div class="paragraph"><p>Fragment shader inputs that are signed or unsigned integers, integer
vectors, or any double-precision floating-point type <span role="normative">must</span> be decorated with
<code>Flat</code>.</p></div>
</div>
<div class="sect2">
<h3 id="shaders-staticuse">8.12. Static Use</h3>
<div class="paragraph"><p>A SPIR-V module declares a global object in memory using the <code>OpVariable</code>
instruction, which results in a pointer <code>x</code> to that object.
A specific entry point in a SPIR-V module is said to <em>statically use</em> that
object if that entry point&#8217;s call tree contains a function that contains a
memory instruction or image instruction with <code>x</code> as an <code>id</code> operand.
See the &#8220;Memory Instructions&#8221; and &#8220;Image Instructions&#8221; subsections of
section 3 &#8220;Binary Form&#8221; of the SPIR-V specification for the complete list
of SPIR-V memory instructions.</p></div>
<div class="paragraph"><p>Static use is not used to control the behavior of variables with <code>Input</code>
and <code>Output</code> storage.
The effects of those variables are applied based only on whether they are
present in a shader entry point&#8217;s interface.</p></div>
</div>
<div class="sect2">
<h3 id="shaders-invocationgroups">8.13. Invocation and Derivative Groups</h3>
<div class="paragraph"><p>An <em>invocation group</em> (see the subsection &#8220;Control Flow&#8221; of section 2 of
the SPIR-V specification) for a compute shader is the set of invocations in
a single local workgroup.
For graphics shaders, an invocation group is an implementation-dependent
subset of the set of shader invocations of a given shader stage which are
produced by a single drawing command.
For indirect drawing commands with <code>drawCount</code> greater than one,
invocations from separate draws are in distinct invocation groups.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Because the partitioning of invocations into invocation groups is
implementation-dependent and not observable, applications generally need to
assume the worst case of all invocations in a draw belonging to a single
invocation group.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>A <em>derivative group</em> (see the subsection &#8220;Control Flow&#8221; of section 2 of
the SPIR-V 1.00 Revision 4 specification) for a fragment shader is the set
of invocations generated by a single primitive (point, line, or triangle),
including any helper invocations generated by that primitive.
Derivatives are undefined for a sampled image instruction if the instruction
is in flow control that is not uniform across the derivative group.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines">9. Pipelines</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following <a href="#pipelines-block-diagram">figure</a> shows a block diagram of
the Vulkan pipelines.
Some Vulkan commands specify geometric objects to be drawn or computational
work to be performed, while others specify state controlling how objects are
handled by the various pipeline stages, or control data transfer between
memory organized as images and buffers.
Commands are effectively sent through a processing pipeline, either a
<em>graphics pipeline</em> or a <em>compute pipeline</em>.</p></div>
<div class="paragraph"><p>The first stage of the <a href="#pipelines-graphics">graphics pipeline</a>
(<a href="#drawing">Input Assembler</a>) assembles vertices to form geometric
primitives such as points, lines, and triangles, based on a requested
primitive topology.
In the next stage (<a href="#shaders-vertex">Vertex Shader</a>) vertices <span role="normative">can</span> be
transformed, computing positions and attributes for each vertex.
If <a href="#tessellation">tessellation</a> and/or <a href="#geometry">geometry</a> shaders are
supported, they <span role="normative">can</span> then generate multiple primitives from a single input
primitive, possibly changing the primitive topology or generating additional
attribute data in the process.</p></div>
<div class="paragraph"><p>The final resulting primitives are <a href="#vertexpostproc-clipping">clipped</a> to a
clip volume in preparation for the next stage, <a href="#primsrast">Rasterization</a>.
The rasterizer produces a series of framebuffer addresses and values using a
two-dimensional description of a point, line segment, or triangle.
Each <em>fragment</em> so produced is fed to the next stage
(<a href="#shaders-fragment">Fragment Shader</a>) that performs operations on
individual fragments before they finally alter the framebuffer.
These operations include conditional updates into the framebuffer based on
incoming and previously stored depth values (to effect <a href="#fragops-depth">depth buffering</a>), <a href="#framebuffer-blending">blending</a> of incoming fragment colors
with stored colors, as well as <a href="#framebuffer-blendoperations">masking</a>,
<a href="#fragops-stencil">stenciling</a>, and other <a href="#framebuffer-logicop">logical operations</a> on fragment values.</p></div>
<div class="paragraph"><p>Framebuffer operations read and write the color and depth/stencil
attachments of the framebuffer for a given subpass of a <a href="#renderpass">render pass instance</a>.
The attachments <span role="normative">can</span> be used as input attachments in the fragment shader in
a later subpass of the same render pass.</p></div>
<div class="paragraph"><p>The <a href="#pipelines-compute">compute pipeline</a> is a separate pipeline from the
graphics pipeline, which operates on one-, two-, or three-dimensional
workgroups which <span role="normative">can</span> read from and write to buffer and image memory.</p></div>
<div class="paragraph"><p>This ordering is meant only as a tool for describing Vulkan, not as a strict
rule of how Vulkan is implemented, and we present it only as a means to
organize the various operations of the pipelines.</p></div>
<div class="imageblock" id="pipelines-block-diagram" style="text-align:center;">
<div class="content">
<img src="images/pipeline.svg" alt="images/pipeline.svg" width="800">
</div>
<div class="title">Figure 1. Block diagram of the Vulkan pipeline</div>
</div>
<div class="paragraph"><p>Each pipeline is controlled by a monolithic object created from a
description of all of the shader stages and any relevant fixed-function
stages.
<a href="#interfaces">Linking</a> the whole pipeline together allows the optimization
of shaders based on their input/outputs and eliminates expensive draw time
state validation.</p></div>
<div class="paragraph"><p>A pipeline object is bound to the device state in command buffers.
Any pipeline object state that is marked as dynamic is not applied to the
device state when the pipeline is bound.
Dynamic state not set by binding the pipeline object <span role="normative">can</span> be modified at any
time and persists for the lifetime of the command buffer, or until modified
by another dynamic state command or another pipeline bind.
No state, including dynamic state, is inherited from one command buffer to
another.
Only dynamic state that is <span role="normative">required</span> for the operations performed in the
command buffer needs to be set.
For example, if blending is disabled by the pipeline state then the dynamic
color blend constants do not need to be specified in the command buffer,
even if this state is marked as dynamic in the pipeline state object.
If a new pipeline object is bound with state not marked as dynamic after a
previous pipeline object with that same state as dynamic, the new pipeline
object state will override the dynamic state.
Modifying dynamic state that is not set as dynamic by the pipeline state
object will lead to undefined results.</p></div>
<div class="paragraph"><p>Compute and graphics pipelines are each represented by <code>VkPipeline</code>
handles:</p></div>
<div class="listingblock">
<a id="VkPipeline"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkPipeline<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="sect2">
<h3 id="pipelines-compute">9.1. Compute Pipelines</h3>
<div class="paragraph"><p>Compute pipelines consist of a single static compute shader stage and the
pipeline layout.</p></div>
<div class="paragraph"><p>The compute pipeline represents a compute shader and is created by calling
<code>vkCreateComputePipelines</code> with <code>module</code> and <code>pName</code> selecting
an entry point from a shader module, where that entry point defines a valid
compute shader, in the <code>VkPipelineShaderStageCreateInfo</code> structure
contained within the <code>VkComputePipelineCreateInfo</code> structure.</p></div>
<div class="paragraph"><p>To create compute pipelines, call:</p></div>
<div class="listingblock">
<a id="vkCreateComputePipelines"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateComputePipelines</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineCache</span>                             pipelineCache<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    createInfoCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkComputePipelineCreateInfo<span style="color: #990000">*</span>          pCreateInfos<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkPipeline<span style="color: #990000">*</span>                                 pPipelines<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the compute pipelines.
</p>
</li>
<li>
<p>
<code>pipelineCache</code> is either <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, indicating that
    pipeline caching is disabled; or the handle of a valid
    <a href="#pipelines-cache">pipeline cache</a> object, in which case use of that
    cache is enabled for the duration of the command.
</p>
</li>
<li>
<p>
<code>createInfoCount</code> is the length of the <code>pCreateInfos</code> and
    <code>pPipelines</code> arrays.
</p>
</li>
<li>
<p>
<code>pCreateInfos</code> is an array of <code>VkComputePipelineCreateInfo</code>
    structures.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pPipelines</code> is a pointer to an array in which the resulting compute
    pipeline objects are returned.
</p>
<div class="openblock">
<div class="content">
</div></div>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <code>flags</code> member of any given element of <code>pCreateInfos</code>
    contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and the
    <code>basePipelineIndex</code> member of that same element is not <span class="monospaced">-1</span>,
    <code>basePipelineIndex</code> <span role="normative">must</span> be less than the index into
    <code>pCreateInfos</code> that corresponds to that element
</p>
</li>
<li>
<p>
If the <code>flags</code> member of any given element of <code>pCreateInfos</code>
    contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, the base
    pipeline <span role="normative">must</span> have been created with the
    <code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>pipelineCache</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>pipelineCache</code> <span role="normative">must</span> be a valid <code>VkPipelineCache</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfos</code> <span role="normative">must</span> be a pointer to an array of <code>createInfoCount</code> valid <code>VkComputePipelineCreateInfo</code> structures
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pPipelines</code> <span role="normative">must</span> be a pointer to an array of <code>createInfoCount</code> <code>VkPipeline</code> handles
</p>
</li>
<li>
<p>
<code>createInfoCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>pipelineCache</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkComputePipelineCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkComputePipelineCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkComputePipelineCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                    sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                        pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineCreateFlags</span>              flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineShaderStageCreateInfo</span>    stage<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineLayout</span>                   layout<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipeline</span>                         basePipelineHandle<span style="color: #990000">;</span>
    <span style="color: #008080">int32_t</span>                            basePipelineIndex<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkComputePipelineCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> provides options for pipeline creation, and is of type
    <code><a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a></code>.
</p>
</li>
<li>
<p>
<code>stage</code> is a <code><a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a></code> describing the
    compute shader.
</p>
</li>
<li>
<p>
<code>layout</code> is the description of binding locations used by both the
    pipeline and descriptor sets used with the pipeline.
</p>
</li>
<li>
<p>
<code>basePipelineHandle</code> is a pipeline to derive from
</p>
</li>
<li>
<p>
<code>basePipelineIndex</code> is an index into the <code>pCreateInfos</code>
    parameter to use as a pipeline to derive from
</p>
</li>
</ul></div>
<div class="paragraph"><p>The parameters <code>basePipelineHandle</code> and <code>basePipelineIndex</code> are
described in more detail in <a href="#pipelines-pipeline-derivatives">Pipeline Derivatives</a>.</p></div>
<div class="paragraph"><p><code>stage</code> points to a structure of type
<code>VkPipelineShaderStageCreateInfo</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
    flag, and <code>basePipelineIndex</code> is not <span class="monospaced">-1</span>, <code>basePipelineHandle</code>
    <span role="normative">must</span> be <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>
</p>
</li>
<li>
<p>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
    flag, and <code>basePipelineIndex</code> is not <span class="monospaced">-1</span>, it <span role="normative">must</span> be a valid index
    into the calling command&#8217;s <code>pCreateInfos</code> parameter
</p>
</li>
<li>
<p>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
    flag, and <code>basePipelineHandle</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>,
    <code>basePipelineIndex</code> <span role="normative">must</span> be <span class="monospaced">-1</span>
</p>
</li>
<li>
<p>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
    flag, and <code>basePipelineHandle</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>,
    <code>basePipelineHandle</code> <span role="normative">must</span> be a valid <code>VkPipeline</code> handle
</p>
</li>
<li>
<p>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
    flag, and <code>basePipelineHandle</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, it <span role="normative">must</span>
    be a valid handle to a compute <code>VkPipeline</code>
</p>
</li>
<li>
<p>
The <code>stage</code> member of <code>stage</code> <span role="normative">must</span> be
    <code>VK_SHADER_STAGE_COMPUTE_BIT</code>
</p>
</li>
<li>
<p>
The shader code for the entry point identified by <code>stage</code> and the
    rest of the state identified by this structure <span role="normative">must</span> adhere to the
    pipeline linking rules described in the <a href="#interfaces">Shader Interfaces</a>
    chapter
</p>
</li>
<li>
<p>
<code>layout</code> <span role="normative">must</span> be
    <a href="#descriptorsets-pipelinelayout-consistency">consistent</a> with the layout
    of the compute shader specified in <code>stage</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_COMPUTE_PIPELINE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>stage</code> <span role="normative">must</span> be a valid <code>VkPipelineShaderStageCreateInfo</code> structure
</p>
</li>
<li>
<p>
<code>layout</code> <span role="normative">must</span> be a valid <code>VkPipelineLayout</code> handle
</p>
</li>
<li>
<p>
Both of <code>basePipelineHandle</code>, and <code>layout</code> that are valid handles <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkPipelineShaderStageCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPipelineShaderStageCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPipelineShaderStageCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                     sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                         pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineShaderStageCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkShaderStageFlagBits</span>               stage<span style="color: #990000">;</span>
    <span style="color: #008080">VkShaderModule</span>                      module<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span>                         pName<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSpecializationInfo<span style="color: #990000">*</span>         pSpecializationInfo<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPipelineShaderStageCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>stage</code> names a single pipeline stage.
    Bits which <span role="normative">can</span> be set include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkShaderStageFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkShaderStageFlagBits <span style="color: #FF0000">{</span>
    VK_SHADER_STAGE_VERTEX_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_SHADER_STAGE_GEOMETRY_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
    VK_SHADER_STAGE_FRAGMENT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000010</span><span style="color: #990000">,</span>
    VK_SHADER_STAGE_COMPUTE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000020</span><span style="color: #990000">,</span>
    VK_SHADER_STAGE_ALL_GRAPHICS <span style="color: #990000">=</span> <span style="color: #993399">0x0000001F</span><span style="color: #990000">,</span>
    VK_SHADER_STAGE_ALL <span style="color: #990000">=</span> <span style="color: #993399">0x7FFFFFFF</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkShaderStageFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
</li>
<li>
<p>
<code>module</code> is a <code>VkShaderModule</code> object that contains the shader
    for this stage.
</p>
</li>
<li>
<p>
<code>pName</code> is a pointer to a null-terminated UTF-8 string specifying
    the entry point name of the shader for this stage.
</p>
</li>
<li>
<p>
<code>pSpecializationInfo</code> is a pointer to <code><a href="#VkSpecializationInfo">VkSpecializationInfo</a></code>, as
    described in <a href="#pipelines-specialization-constants">Specialization     Constants</a>, and <span role="normative">can</span> be <span class="monospaced">NULL</span>.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <a href="#features-features-geometryShader">geometry shaders</a> feature is
    not enabled, <code>stage</code> <span role="normative">must</span> not be <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-tessellationShader">tessellation shaders</a>
    feature is not enabled, <code>stage</code> <span role="normative">must</span> not be
    <code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or
    <code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>
</p>
</li>
<li>
<p>
<code>stage</code> <span role="normative">must</span> not be <code>VK_SHADER_STAGE_ALL_GRAPHICS</code>, or
    <code>VK_SHADER_STAGE_ALL</code>
</p>
</li>
<li>
<p>
<code>pName</code> <span role="normative">must</span> be the name of an <code>OpEntryPoint</code> in <code>module</code>
    with an execution model that matches <code>stage</code>
</p>
</li>
<li>
<p>
If the identified entry point includes any variable in its interface
    that is declared with the <code>ClipDistance</code> <code>BuiltIn</code> decoration,
    that variable <span role="normative">must</span> not have an array size greater than
    <code>VkPhysicalDeviceLimits</code>::<code>maxClipDistances</code>
</p>
</li>
<li>
<p>
If the identified entry point includes any variable in its interface
    that is declared with the <code>CullDistance</code> <code>BuiltIn</code> decoration,
    that variable <span role="normative">must</span> not have an array size greater than
    <code>VkPhysicalDeviceLimits</code>::<code>maxCullDistances</code>
</p>
</li>
<li>
<p>
If the identified entry point includes any variables in its interface
    that are declared with the <code>ClipDistance</code> or <code>CullDistance</code>
    <code>BuiltIn</code> decoration, those variables <span role="normative">must</span> not have array sizes
    which sum to more than
    <code>VkPhysicalDeviceLimits</code>::<code>maxCombinedClipAndCullDistances</code>
</p>
</li>
<li>
<p>
If the identified entry point includes any variable in its interface
    that is declared with the <code>SampleMask</code> <code>BuiltIn</code> decoration, that
    variable <span role="normative">must</span> not have an array size greater than
    <code>VkPhysicalDeviceLimits</code>::<code>maxSampleMaskWords</code>
</p>
</li>
<li>
<p>
If <code>stage</code> is <code>VK_SHADER_STAGE_VERTEX_BIT</code>, the identified entry
    point <span role="normative">must</span> not include any input variable in its interface that is
    decorated with <code>CullDistance</code>
</p>
</li>
<li>
<p>
If <code>stage</code> is <code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or
    <code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, and the identified
    entry point has an <code>OpExecutionMode</code> instruction that specifies a
    patch size with <code>OutputVertices</code>, the patch size <span role="normative">must</span> be greater
    than <span class="monospaced">0</span> and less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxTessellationPatchSize</code>
</p>
</li>
<li>
<p>
If <code>stage</code> is <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, the identified
    entry point <span role="normative">must</span> have an <code>OpExecutionMode</code> instruction that
    specifies a maximum output vertex count that is greater than <span class="monospaced">0</span> and
    less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxGeometryOutputVertices</code>
</p>
</li>
<li>
<p>
If <code>stage</code> is <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, the identified
    entry point <span role="normative">must</span> have an <code>OpExecutionMode</code> instruction that
    specifies an invocation count that is greater than <span class="monospaced">0</span> and less than or
    equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxGeometryShaderInvocations</code>
</p>
</li>
<li>
<p>
If <code>stage</code> is <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, and the identified
    entry point writes to <code>Layer</code> for any primitive, it <span role="normative">must</span> write the
    same value to <code>Layer</code> for all vertices of a given primitive
</p>
</li>
<li>
<p>
If <code>stage</code> is <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, and the identified
    entry point writes to <code>ViewportIndex</code> for any primitive, it <span role="normative">must</span>
    write the same value to <code>ViewportIndex</code> for all vertices of a given
    primitive
</p>
</li>
<li>
<p>
If <code>stage</code> is <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, the identified
    entry point <span role="normative">must</span> not include any output variables in its interface
    decorated with <code>CullDistance</code>
</p>
</li>
<li>
<p>
If <code>stage</code> is <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, and the identified
    entry point writes to <code>FragDepth</code> in any execution path, it <span role="normative">must</span>
    write to <code>FragDepth</code> in all execution paths
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>stage</code> <span role="normative">must</span> be a valid <code><a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> value
</p>
</li>
<li>
<p>
<code>module</code> <span role="normative">must</span> be a valid <code>VkShaderModule</code> handle
</p>
</li>
<li>
<p>
<code>pName</code> <span role="normative">must</span> be a null-terminated string
</p>
</li>
<li>
<p>
If <code>pSpecializationInfo</code> is not <span class="monospaced">NULL</span>, <code>pSpecializationInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkSpecializationInfo</code> structure
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="pipelines-graphics">9.2. Graphics Pipelines</h3>
<div class="paragraph"><p>Graphics pipelines consist of multiple shader stages, multiple
fixed-function pipeline stages, and a pipeline layout.</p></div>
<div class="paragraph"><p>To create graphics pipelines, call:</p></div>
<div class="listingblock">
<a id="vkCreateGraphicsPipelines"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateGraphicsPipelines</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineCache</span>                             pipelineCache<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    createInfoCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkGraphicsPipelineCreateInfo<span style="color: #990000">*</span>         pCreateInfos<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkPipeline<span style="color: #990000">*</span>                                 pPipelines<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the graphics pipelines.
</p>
</li>
<li>
<p>
<code>pipelineCache</code> is either <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, indicating that
    pipeline caching is disabled; or the handle of a valid
    <a href="#pipelines-cache">pipeline cache</a> object, in which case use of that
    cache is enabled for the duration of the command.
</p>
</li>
<li>
<p>
<code>createInfoCount</code> is the length of the <code>pCreateInfos</code> and
    <code>pPipelines</code> arrays.
</p>
</li>
<li>
<p>
<code>pCreateInfos</code> is an array of <code>VkGraphicsPipelineCreateInfo</code>
    structures.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pPipelines</code> is a pointer to an array in which the resulting
    graphics pipeline objects are returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <code><a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a></code> structure includes an array of shader
create info structures containing all the desired active shader stages, as
well as creation info to define all relevant fixed-function stages, and a
pipeline layout.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <code>flags</code> member of any given element of <code>pCreateInfos</code>
    contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and the
    <code>basePipelineIndex</code> member of that same element is not <span class="monospaced">-1</span>,
    <code>basePipelineIndex</code> <span role="normative">must</span> be less than the index into
    <code>pCreateInfos</code> that corresponds to that element
</p>
</li>
<li>
<p>
If the <code>flags</code> member of any given element of <code>pCreateInfos</code>
    contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, the base
    pipeline <span role="normative">must</span> have been created with the
    <code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>pipelineCache</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>pipelineCache</code> <span role="normative">must</span> be a valid <code>VkPipelineCache</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfos</code> <span role="normative">must</span> be a pointer to an array of <code>createInfoCount</code> valid <code>VkGraphicsPipelineCreateInfo</code> structures
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pPipelines</code> <span role="normative">must</span> be a pointer to an array of <code>createInfoCount</code> <code>VkPipeline</code> handles
</p>
</li>
<li>
<p>
<code>createInfoCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>pipelineCache</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkGraphicsPipelineCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkGraphicsPipelineCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkGraphicsPipelineCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                                  sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                                      pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineCreateFlags</span>                            flags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                                         stageCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineShaderStageCreateInfo<span style="color: #990000">*</span>           pStages<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineVertexInputStateCreateInfo<span style="color: #990000">*</span>      pVertexInputState<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineInputAssemblyStateCreateInfo<span style="color: #990000">*</span>    pInputAssemblyState<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineTessellationStateCreateInfo<span style="color: #990000">*</span>     pTessellationState<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineViewportStateCreateInfo<span style="color: #990000">*</span>         pViewportState<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineRasterizationStateCreateInfo<span style="color: #990000">*</span>    pRasterizationState<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineMultisampleStateCreateInfo<span style="color: #990000">*</span>      pMultisampleState<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineDepthStencilStateCreateInfo<span style="color: #990000">*</span>     pDepthStencilState<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineColorBlendStateCreateInfo<span style="color: #990000">*</span>       pColorBlendState<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineDynamicStateCreateInfo<span style="color: #990000">*</span>          pDynamicState<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineLayout</span>                                 layout<span style="color: #990000">;</span>
    <span style="color: #008080">VkRenderPass</span>                                     renderPass<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                                         subpass<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipeline</span>                                       basePipelineHandle<span style="color: #990000">;</span>
    <span style="color: #008080">int32_t</span>                                          basePipelineIndex<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkGraphicsPipelineCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask of <code><a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a></code> controlling
    how the pipeline will be generated, as described below.
</p>
</li>
<li>
<p>
<code>stageCount</code> is the number of entries in the <code>pStages</code> array.
</p>
</li>
<li>
<p>
<code>pStages</code> is an array of size <code>stageCount</code> structures of type
    <code><a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a></code> describing the set of the shader
    stages to be included in the graphics pipeline.
</p>
</li>
<li>
<p>
<code>pVertexInputState</code> is a pointer to an instance of the
    <code><a href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a></code> structure.
</p>
</li>
<li>
<p>
<code>pInputAssemblyState</code> is a pointer to an instance of the
    <code><a href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a></code> structure which determines
    input assembly behavior, as described in <a href="#drawing">Drawing Commands</a>.
</p>
</li>
<li>
<p>
<code>pTessellationState</code> is a pointer to an instance of the
    <code><a href="#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a></code> structure, or <span class="monospaced">NULL</span> if the
    pipeline does not include a tessellation control shader stage and
    tessellation evaluation shader stage.
</p>
</li>
<li>
<p>
<code>pViewportState</code> is a pointer to an instance of the
    <code><a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></code> structure, or <span class="monospaced">NULL</span> if the
    pipeline has rasterization disabled.
</p>
</li>
<li>
<p>
<code>pRasterizationState</code> is a pointer to an instance of the
    <code><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code> structure.
</p>
</li>
<li>
<p>
<code>pMultisampleState</code> is a pointer to an instance of the
    <code><a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>, or <span class="monospaced">NULL</span> if the pipeline
    has rasterization disabled.
</p>
</li>
<li>
<p>
<code>pDepthStencilState</code> is a pointer to an instance of the
    <code><a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code> structure, or <span class="monospaced">NULL</span> if the
    pipeline has rasterization disabled or if the subpass of the render pass
    the pipeline is created against does not use a depth/stencil attachment.
</p>
</li>
<li>
<p>
<code>pColorBlendState</code> is a pointer to an instance of the
    <code><a href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a></code> structure, or <span class="monospaced">NULL</span> if the
    pipeline has rasterization disabled or if the subpass of the render pass
    the pipeline is created against does not use any color attachments.
</p>
</li>
<li>
<p>
<code>pDynamicState</code> is a pointer to
    <code><a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a></code> and is used to indicate which
    properties of the pipeline state object are dynamic and <span role="normative">can</span> be changed
    independently of the pipeline state.
    This <span role="normative">can</span> be <span class="monospaced">NULL</span>, which means no state in the pipeline is considered
    dynamic.
</p>
</li>
<li>
<p>
<code>layout</code> is the description of binding locations used by both the
    pipeline and descriptor sets used with the pipeline.
</p>
</li>
<li>
<p>
<code>renderPass</code> is a handle to a render pass object describing the
    environment in which the pipeline will be used; the pipeline <span role="normative">must</span> only
    be used with an instance of any render pass compatible with the one
    provided.
    See <a href="#renderpass-compatibility">Render Pass Compatibility</a> for more
    information.
</p>
</li>
<li>
<p>
<code>subpass</code> is the index of the subpass in the render pass where this
    pipeline will be used.
</p>
</li>
<li>
<p>
<code>basePipelineHandle</code> is a pipeline to derive from.
</p>
</li>
<li>
<p>
<code>basePipelineIndex</code> is an index into the <code>pCreateInfos</code>
    parameter to use as a pipeline to derive from.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The parameters <code>basePipelineHandle</code> and <code>basePipelineIndex</code> are
described in more detail in <a href="#pipelines-pipeline-derivatives">Pipeline Derivatives</a>.</p></div>
<div class="paragraph"><p><code>pStages</code> points to an array of <code><a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a></code>
structures, which were previously described in <a href="#pipelines-compute">Compute Pipelines</a>.</p></div>
<div class="paragraph"><p>Bits which <span role="normative">can</span> be set in <code>flags</code> are:</p></div>
<div class="listingblock">
<a id="VkPipelineCreateFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkPipelineCreateFlagBits <span style="color: #FF0000">{</span>
    VK_PIPELINE_CREATE_DISABLE_OPTIMIZATION_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_PIPELINE_CREATE_DERIVATIVE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkPipelineCreateFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_PIPELINE_CREATE_DISABLE_OPTIMIZATION_BIT</code> specifies that the
    created pipeline will not be optimized.
    Using this flag <span role="normative">may</span> reduce the time taken to create the pipeline.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> specifies that the
    pipeline to be created is allowed to be the parent of a pipeline that
    will be created in a subsequent call to <code><a href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a></code>.
</p>
</li>
<li>
<p>
<code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> specifies that the pipeline to
    be created will be a child of a previously created parent pipeline.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is valid to set both <code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> and
<code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>.
This allows a pipeline to be both a parent and possibly a child in a
pipeline hierarchy.
See <a href="#pipelines-pipeline-derivatives">Pipeline Derivatives</a> for more
information.</p></div>
<div class="paragraph"><p><code>pDynamicState</code> points to a structure of type
<code>VkPipelineDynamicStateCreateInfo</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
    flag, and <code>basePipelineIndex</code> is not <span class="monospaced">-1</span>, <code>basePipelineHandle</code>
    <span role="normative">must</span> be <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>
</p>
</li>
<li>
<p>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
    flag, and <code>basePipelineIndex</code> is not <span class="monospaced">-1</span>, it <span role="normative">must</span> be a valid index
    into the calling command&#8217;s <code>pCreateInfos</code> parameter
</p>
</li>
<li>
<p>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
    flag, and <code>basePipelineHandle</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>,
    <code>basePipelineIndex</code> <span role="normative">must</span> be <span class="monospaced">-1</span>
</p>
</li>
<li>
<p>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
    flag, and <code>basePipelineHandle</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>,
    <code>basePipelineHandle</code> <span role="normative">must</span> be a valid <code>VkPipeline</code> handle
</p>
</li>
<li>
<p>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
    flag, and <code>basePipelineHandle</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, it <span role="normative">must</span>
    be a valid handle to a graphics <code>VkPipeline</code>
</p>
</li>
<li>
<p>
The <code>stage</code> member of each element of <code>pStages</code> <span role="normative">must</span> be unique
</p>
</li>
<li>
<p>
The <code>stage</code> member of one element of <code>pStages</code> <span role="normative">must</span> be
    <code>VK_SHADER_STAGE_VERTEX_BIT</code>
</p>
</li>
<li>
<p>
The <code>stage</code> member of any given element of <code>pStages</code> <span role="normative">must</span> not
    be <code>VK_SHADER_STAGE_COMPUTE_BIT</code>
</p>
</li>
<li>
<p>
If <code>pStages</code> includes a tessellation control shader stage, it <span role="normative">must</span>
    include a tessellation evaluation shader stage
</p>
</li>
<li>
<p>
If <code>pStages</code> includes a tessellation evaluation shader stage, it
    <span role="normative">must</span> include a tessellation control shader stage
</p>
</li>
<li>
<p>
If <code>pStages</code> includes a tessellation control shader stage and a
    tessellation evaluation shader stage, <code>pTessellationState</code> <span role="normative">must</span> not
    be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
If <code>pStages</code> includes tessellation shader stages, the shader code of
    at least one stage <span role="normative">must</span> contain an <code>OpExecutionMode</code> instruction
    that specifies the type of subdivision in the pipeline
</p>
</li>
<li>
<p>
If <code>pStages</code> includes tessellation shader stages, and the shader
    code of both stages contain an <code>OpExecutionMode</code> instruction that
    specifies the type of subdivision in the pipeline, they <span role="normative">must</span> both
    specify the same subdivision mode
</p>
</li>
<li>
<p>
If <code>pStages</code> includes tessellation shader stages, the shader code of
    at least one stage <span role="normative">must</span> contain an <code>OpExecutionMode</code> instruction
    that specifies the output patch size in the pipeline
</p>
</li>
<li>
<p>
If <code>pStages</code> includes tessellation shader stages, and the shader
    code of both contain an <code>OpExecutionMode</code> instruction that specifies
    the out patch size in the pipeline, they <span role="normative">must</span> both specify the same
    patch size
</p>
</li>
<li>
<p>
If <code>pStages</code> includes tessellation shader stages, the <code>topology</code>
    member of <code>pInputAssembly</code> <span role="normative">must</span> be
    <code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>
</p>
</li>
<li>
<p>
If the <code>topology</code> member of <code>pInputAssembly</code> is
    <code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>, <code>pStages</code> <span role="normative">must</span> include
    tessellation shader stages
</p>
</li>
<li>
<p>
If <code>pStages</code> includes a geometry shader stage, and does not include
    any tessellation shader stages, its shader code <span role="normative">must</span> contain an
    <code>OpExecutionMode</code> instruction that specifies an input primitive type
    that is <a href="#shaders-geometry-execution">compatible</a> with the primitive
    topology specified in <code>pInputAssembly</code>
</p>
</li>
<li>
<p>
If <code>pStages</code> includes a geometry shader stage, and also includes
    tessellation shader stages, its shader code <span role="normative">must</span> contain an
    <code>OpExecutionMode</code> instruction that specifies an input primitive type
    that is <a href="#shaders-geometry-execution">compatible</a> with the primitive
    topology that is output by the tessellation stages
</p>
</li>
<li>
<p>
If <code>pStages</code> includes a fragment shader stage and a geometry shader
    stage, and the fragment shader code reads from an input variable that is
    decorated with <code>PrimitiveID</code>, then the geometry shader code <span role="normative">must</span>
    write to a matching output variable, decorated with <code>PrimitiveID</code>, in
    all execution paths
</p>
</li>
<li>
<p>
If <code>pStages</code> includes a fragment shader stage, its shader code <span role="normative">must</span>
    not read from any input attachment that is defined as
    <code>VK_ATTACHMENT_UNUSED</code> in <code>subpass</code>
</p>
</li>
<li>
<p>
The shader code for the entry points identified by <code>pStages</code>, and
    the rest of the state identified by this structure <span role="normative">must</span> adhere to the
    pipeline linking rules described in the <a href="#interfaces">Shader Interfaces</a>
    chapter
</p>
</li>
<li>
<p>
If <code>subpass</code> uses a depth/stencil attachment in <code>renderpass</code>
    that has a layout of
    <code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> in the
    <code>VkAttachmentReference</code> defined by <code>subpass</code>, and
    <code>pDepthStencilState</code> is not <span class="monospaced">NULL</span>, the <code>depthWriteEnable</code>
    member of <code>pDepthStencilState</code> <span role="normative">must</span> be <code>VK_FALSE</code>
</p>
</li>
<li>
<p>
If <code>subpass</code> uses a depth/stencil attachment in <code>renderpass</code>
    that has a layout of
    <code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> in the
    <code>VkAttachmentReference</code> defined by <code>subpass</code>, and
    <code>pDepthStencilState</code> is not <span class="monospaced">NULL</span>, the <code>failOp</code>, <code>passOp</code>
    and <code>depthFailOp</code> members of each of the <code>front</code> and <code>back</code>
    members of <code>pDepthStencilState</code> <span role="normative">must</span> be <code>VK_STENCIL_OP_KEEP</code>
</p>
</li>
<li>
<p>
If <code>pColorBlendState</code> is not <span class="monospaced">NULL</span>, the <code>blendEnable</code> member of
    each element of the <code>pAttachment</code> member of <code>pColorBlendState</code>
    <span role="normative">must</span> be <code>VK_FALSE</code> if the <code>format</code> of the attachment referred
    to in <code>subpass</code> of <code>renderPass</code> does not support color blend
    operations, as specified by the
    <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> or
    <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
<li>
<p>
If <code>pColorBlendState</code> is not <span class="monospaced">NULL</span>, The <code>attachmentCount</code>
    member of <code>pColorBlendState</code> <span role="normative">must</span> be equal to the
    <code>colorAttachmentCount</code> used to create <code>subpass</code>
</p>
</li>
<li>
<p>
If no element of the <code>pDynamicStates</code> member of <code>pDynamicState</code>
    is <code>VK_DYNAMIC_STATE_VIEWPORT</code>, the <code>pViewports</code> member of
    <code>pViewportState</code> <span role="normative">must</span> be a pointer to an array of
    <code>pViewportState</code>::<code>viewportCount</code> <code>VkViewport</code> structures
</p>
</li>
<li>
<p>
If no element of the <code>pDynamicStates</code> member of <code>pDynamicState</code>
    is <code>VK_DYNAMIC_STATE_SCISSOR</code>, the <code>pScissors</code> member of
    <code>pViewportState</code> <span role="normative">must</span> be a pointer to an array of
    <code>pViewportState</code>::<code>scissorCount</code> <code>VkRect2D</code> structures
</p>
</li>
<li>
<p>
If the wide lines feature is not enabled, and no element of the
    <code>pDynamicStates</code> member of <code>pDynamicState</code> is
    <code>VK_DYNAMIC_STATE_LINE_WIDTH</code>, the <code>lineWidth</code> member of
    <code>pRasterizationState</code> <span role="normative">must</span> be <span class="monospaced">1.0</span>
</p>
</li>
<li>
<p>
If the <code>rasterizerDiscardEnable</code> member of <code>pRasterizationState</code>
    is <code>VK_FALSE</code>, <code>pViewportState</code> <span role="normative">must</span> be a pointer to a valid
    <code>VkPipelineViewportStateCreateInfo</code> structure
</p>
</li>
<li>
<p>
If the <code>rasterizerDiscardEnable</code> member of <code>pRasterizationState</code>
    is <code>VK_FALSE</code>, <code>pMultisampleState</code> <span role="normative">must</span> be a pointer to a valid
    <code>VkPipelineMultisampleStateCreateInfo</code> structure
</p>
</li>
<li>
<p>
If the <code>rasterizerDiscardEnable</code> member of <code>pRasterizationState</code>
    is <code>VK_FALSE</code>, and <code>subpass</code> uses a depth/stencil attachment,
    <code>pDepthStencilState</code> <span role="normative">must</span> be a pointer to a valid
    <code>VkPipelineDepthStencilStateCreateInfo</code> structure
</p>
</li>
<li>
<p>
If the <code>rasterizerDiscardEnable</code> member of <code>pRasterizationState</code>
    is <code>VK_FALSE</code>, and <code>subpass</code> uses color attachments,
    <code>pColorBlendState</code> <span role="normative">must</span> be a pointer to a valid
    <code>VkPipelineColorBlendStateCreateInfo</code> structure
</p>
</li>
<li>
<p>
If the depth bias clamping feature is not enabled, no element of the
    <code>pDynamicStates</code> member of <code>pDynamicState</code> is
    <code>VK_DYNAMIC_STATE_DEPTH_BIAS</code>, and the <code>depthBiasEnable</code> member
    of <code>pDepthStencil</code> is <code>VK_TRUE</code>, the <code>depthBiasClamp</code> member
    of <code>pDepthStencil</code> <span role="normative">must</span> be <span class="monospaced">0.0</span>
</p>
</li>
<li>
<p>
If no element of the <code>pDynamicStates</code> member of <code>pDynamicState</code>
    is <code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code>, and the
    <code>depthBoundsTestEnable</code> member of <code>pDepthStencil</code> is
    <code>VK_TRUE</code>, the <code>minDepthBounds</code> and <code>maxDepthBounds</code> members
    of <code>pDepthStencil</code> <span role="normative">must</span> be between <span class="monospaced">0.0</span> and <span class="monospaced">1.0</span>, inclusive
</p>
</li>
<li>
<p>
<code>layout</code> <span role="normative">must</span> be
    <a href="#descriptorsets-pipelinelayout-consistency">consistent</a> with all
    shaders specified in <code>pStages</code>
</p>
</li>
<li>
<p>
If <code>subpass</code> uses color and/or depth/stencil attachments, then the
    <code>rasterizationSamples</code> member of <code>pMultisampleState</code> <span role="normative">must</span> be
    the same as the sample count for those subpass attachments
</p>
</li>
<li>
<p>
If <code>subpass</code> does not use any color and/or depth/stencil
    attachments, then the <code>rasterizationSamples</code> member of
    <code>pMultisampleState</code> <span role="normative">must</span> follow the rules for a
    <a href="#renderpass-noattachments">zero-attachment subpass</a>
</p>
</li>
<li>
<p>
<code>subpass</code> <span role="normative">must</span> be a valid subpass within <code>renderpass</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>pStages</code> <span role="normative">must</span> be a pointer to an array of <code>stageCount</code> valid <code>VkPipelineShaderStageCreateInfo</code> structures
</p>
</li>
<li>
<p>
<code>pVertexInputState</code> <span role="normative">must</span> be a pointer to a valid <code>VkPipelineVertexInputStateCreateInfo</code> structure
</p>
</li>
<li>
<p>
<code>pInputAssemblyState</code> <span role="normative">must</span> be a pointer to a valid <code>VkPipelineInputAssemblyStateCreateInfo</code> structure
</p>
</li>
<li>
<p>
<code>pRasterizationState</code> <span role="normative">must</span> be a pointer to a valid <code>VkPipelineRasterizationStateCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pDynamicState</code> is not <span class="monospaced">NULL</span>, <code>pDynamicState</code> <span role="normative">must</span> be a pointer to a valid <code>VkPipelineDynamicStateCreateInfo</code> structure
</p>
</li>
<li>
<p>
<code>layout</code> <span role="normative">must</span> be a valid <code>VkPipelineLayout</code> handle
</p>
</li>
<li>
<p>
<code>renderPass</code> <span role="normative">must</span> be a valid <code>VkRenderPass</code> handle
</p>
</li>
<li>
<p>
<code>stageCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Each of <code>basePipelineHandle</code>, <code>layout</code>, and <code>renderPass</code> that are valid handles <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkPipelineDynamicStateCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPipelineDynamicStateCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPipelineDynamicStateCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                      sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                          pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineDynamicStateCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                             dynamicStateCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDynamicState<span style="color: #990000">*</span>                pDynamicStates<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPipelineDynamicStateCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>dynamicStateCount</code> is the number of elements in the
    <code>pDynamicStates</code> array.
</p>
</li>
<li>
<p>
<code>pDynamicStates</code> is an array of <code><a href="#VkDynamicState">VkDynamicState</a></code> enums which
    indicate which pieces of pipeline state will use the values from dynamic
    state commands rather than from the pipeline state creation info.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>pDynamicStates</code> <span role="normative">must</span> be a pointer to an array of <code>dynamicStateCount</code> valid <code><a href="#VkDynamicState">VkDynamicState</a></code> values
</p>
</li>
<li>
<p>
<code>dynamicStateCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The source of difference pieces of dynamic state is determined by the
<code><a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a></code>::<code>pDynamicStates</code> property of the
currently active pipeline, which takes the following values:</p></div>
<div class="listingblock">
<a id="VkDynamicState"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkDynamicState <span style="color: #FF0000">{</span>
    VK_DYNAMIC_STATE_VIEWPORT <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_DYNAMIC_STATE_SCISSOR <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_DYNAMIC_STATE_LINE_WIDTH <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_DYNAMIC_STATE_DEPTH_BIAS <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_DYNAMIC_STATE_BLEND_CONSTANTS <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_DYNAMIC_STATE_DEPTH_BOUNDS <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">,</span>
    VK_DYNAMIC_STATE_STENCIL_WRITE_MASK <span style="color: #990000">=</span> <span style="color: #993399">7</span><span style="color: #990000">,</span>
    VK_DYNAMIC_STATE_STENCIL_REFERENCE <span style="color: #990000">=</span> <span style="color: #993399">8</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkDynamicState<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_DYNAMIC_STATE_VIEWPORT</code> indicates that the <code>pViewports</code>
    state in <code>VkPipelineViewportStateCreateInfo</code> will be ignored and
    <span role="normative">must</span> be set dynamically with <code><a href="#vkCmdSetViewport">vkCmdSetViewport</a></code> before any draw
    commands.
    The number of viewports used by a pipeline is still specified by the
    <code>viewportCount</code> member of <code>VkPipelineViewportStateCreateInfo</code>.
</p>
</li>
<li>
<p>
<code>VK_DYNAMIC_STATE_SCISSOR</code> indicates that the <code>pScissors</code> state
    in <code>VkPipelineViewportStateCreateInfo</code> will be ignored and <span role="normative">must</span> be
    set dynamically with <code><a href="#vkCmdSetScissor">vkCmdSetScissor</a></code> before any draw commands.
    The number of scissor rectangles used by a pipeline is still specified
    by the <code>scissorCount</code> member of
    <code>VkPipelineViewportStateCreateInfo</code>.
</p>
</li>
<li>
<p>
<code>VK_DYNAMIC_STATE_LINE_WIDTH</code> indicates that the <code>lineWidth</code>
    state in <code>VkPipelineRasterizationStateCreateInfo</code> will be ignored
    and <span role="normative">must</span> be set dynamically with <code><a href="#vkCmdSetLineWidth">vkCmdSetLineWidth</a></code> before any
    draw commands that generate line primitives for the rasterizer.
</p>
</li>
<li>
<p>
<code>VK_DYNAMIC_STATE_DEPTH_BIAS</code> indicates that the
    <code>depthBiasConstantFactor</code>, <code>depthBiasClamp</code> and
    <code>depthBiasSlopeFactor</code> states in
    <code>VkPipelineRasterizationStateCreateInfo</code> will be ignored and <span role="normative">must</span>
    be set dynamically with <code><a href="#vkCmdSetDepthBias">vkCmdSetDepthBias</a></code> before any draws are
    performed with <code>depthBiasEnable</code> in
    <code>VkPipelineRasterizationStateCreateInfo</code> set to <code>VK_TRUE</code>.
</p>
</li>
<li>
<p>
<code>VK_DYNAMIC_STATE_BLEND_CONSTANTS</code> indicates that the
    <code>blendConstants</code> state in <code>VkPipelineColorBlendStateCreateInfo</code>
    will be ignored and <span role="normative">must</span> be set dynamically with
    <code><a href="#vkCmdSetBlendConstants">vkCmdSetBlendConstants</a></code> before any draws are performed with a
    pipeline state with <code>VkPipelineColorBlendAttachmentState</code> member
    <code>blendEnable</code> set to <code>VK_TRUE</code> and any of the blend functions
    using a constant blend color.
</p>
</li>
<li>
<p>
<code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> indicates that the
    <code>minDepthBounds</code> and <code>maxDepthBounds</code> states of
    <code><a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code> will be ignored and <span role="normative">must</span> be
    set dynamically with <code><a href="#vkCmdSetDepthBounds">vkCmdSetDepthBounds</a></code> before any draws are
    performed with a pipeline state with
    <code>VkPipelineDepthStencilStateCreateInfo</code> member
    <code>depthBoundsTestEnable</code> set to <code>VK_TRUE</code>.
</p>
</li>
<li>
<p>
<code>VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code> indicates that the
    <code>compareMask</code> state in <code>VkPipelineDepthStencilStateCreateInfo</code>
    for both <code>front</code> and <code>back</code> will be ignored and <span role="normative">must</span> be set
    dynamically with <code><a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a></code> before any draws are
    performed with a pipeline state with
    <code>VkPipelineDepthStencilStateCreateInfo</code> member
    <code>stencilTestEnable</code> set to <code>VK_TRUE</code>
</p>
</li>
<li>
<p>
<code>VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> indicates that the
    <code>writeMask</code> state in <code>VkPipelineDepthStencilStateCreateInfo</code> for
    both <code>front</code> and <code>back</code> will be ignored and <span role="normative">must</span> be set
    dynamically with <code><a href="#vkCmdSetStencilWriteMask">vkCmdSetStencilWriteMask</a></code> before any draws are
    performed with a pipeline state with
    <code>VkPipelineDepthStencilStateCreateInfo</code> member
    <code>stencilTestEnable</code> set to <code>VK_TRUE</code>
</p>
</li>
<li>
<p>
<code>VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> indicates that the
    <code>reference</code> state in <code>VkPipelineDepthStencilStateCreateInfo</code> for
    both <code>front</code> and <code>back</code> will be ignored and <span role="normative">must</span> be set
    dynamically with <code><a href="#vkCmdSetStencilReference">vkCmdSetStencilReference</a></code> before any draws are
    performed with a pipeline state with
    <code>VkPipelineDepthStencilStateCreateInfo</code> member
    <code>stencilTestEnable</code> set to <code>VK_TRUE</code>
</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="_valid_combinations_of_stages_for_graphics_pipelines">9.2.1. Valid Combinations of Stages for Graphics Pipelines</h4>
<div class="paragraph"><p>If tessellation shader stages are omitted, the tessellation shading and
fixed-function stages of the pipeline are skipped.</p></div>
<div class="paragraph"><p>If a geometry shader is omitted, the geometry shading stage is skipped.</p></div>
<div class="paragraph"><p>If a fragment shader is omitted, the results of fragment processing are
undefined.
Specifically, any fragment color outputs are considered to have undefined
values, and the fragment depth is considered to be unmodified.
This <span role="normative">can</span> be useful for depth-only rendering.</p></div>
<div class="paragraph"><p>Presence of a shader stage in a pipeline is indicated by including a valid
<code>VkPipelineShaderStageCreateInfo</code> with <code>module</code> and <code>pName</code>
selecting an entry point from a shader module, where that entry point is
valid for the stage specified by <code>stage</code>.</p></div>
<div class="paragraph"><p>Presence of some of the fixed-function stages in the pipeline is implicitly
derived from enabled shaders and provided state.
For example, the fixed-function tessellator is always present when the
pipeline has valid Tessellation Control and Tessellation Evaluation shaders.</p></div>
<div class="ulist"><div class="title">For example:</div><ul>
<li>
<p>
Depth/stencil-only rendering in a subpass with no color attachments
</p>
<div class="ulist"><ul>
<li>
<p>
Active Pipeline Shader Stages
</p>
<div class="ulist"><ul>
<li>
<p>
Vertex Shader
</p>
</li>
</ul></div>
</li>
<li>
<p>
Required: Fixed-Function Pipeline Stages
</p>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</li>
<li>
<p>
Color-only rendering in a subpass with no depth/stencil attachment
</p>
<div class="ulist"><ul>
<li>
<p>
Active Pipeline Shader Stages
</p>
<div class="ulist"><ul>
<li>
<p>
Vertex Shader
</p>
</li>
<li>
<p>
Fragment Shader
</p>
</li>
</ul></div>
</li>
<li>
<p>
Required: Fixed-Function Pipeline Stages
</p>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a></code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</li>
<li>
<p>
Rendering pipeline with tessellation and geometry shaders
</p>
<div class="ulist"><ul>
<li>
<p>
Active Pipeline Shader Stages
</p>
<div class="ulist"><ul>
<li>
<p>
Vertex Shader
</p>
</li>
<li>
<p>
Tessellation Control Shader
</p>
</li>
<li>
<p>
Tessellation Evaluation Shader
</p>
</li>
<li>
<p>
Geometry Shader
</p>
</li>
<li>
<p>
Fragment Shader
</p>
</li>
</ul></div>
</li>
<li>
<p>
Required: Fixed-Function Pipeline Stages
</p>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a></code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-destruction">9.3. Pipeline destruction</h3>
<div class="paragraph"><p>To destroy a graphics or compute pipeline, call:</p></div>
<div class="listingblock">
<a id="vkDestroyPipeline"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyPipeline</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipeline</span>                                  pipeline<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the pipeline.
</p>
</li>
<li>
<p>
<code>pipeline</code> is the handle of the pipeline to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted commands that refer to <code>pipeline</code> <span role="normative">must</span> have completed
    execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>pipeline</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>pipeline</code> was
    created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>pipeline</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>pipeline</code> <span role="normative">must</span> be a valid <code>VkPipeline</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>pipeline</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>pipeline</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="pipelines-multiple">9.4. Multiple Pipeline Creation</h3>
<div class="paragraph"><p>Multiple pipelines <span role="normative">can</span> be created simultaneously by passing an array of
<code>VkGraphicsPipelineCreateInfo</code> or <code>VkComputePipelineCreateInfo</code>
structures into the <code><a href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a></code> and
<code><a href="#vkCreateComputePipelines">vkCreateComputePipelines</a></code> commands, respectively.
Applications <span role="normative">can</span> group together similar pipelines to be created in a single
call, and implementations are encouraged to look for reuse opportunities
within a group-create.</p></div>
<div class="paragraph"><p>When an application attempts to create many pipelines in a single command,
it is possible that some subset <span role="normative">may</span> fail creation.
In that case, the corresponding entries in the <code>pPipelines</code> output array
will be filled with <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> values.
If any pipeline fails creation (for example, due to out of memory errors),
the <code>vkCreate*Pipelines</code> commands will return an error code.
The implementation will attempt to create all pipelines, and only return
<code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> values for those that actually failed.</p></div>
</div>
<div class="sect2">
<h3 id="pipelines-pipeline-derivatives">9.5. Pipeline Derivatives</h3>
<div class="paragraph"><p>A pipeline derivative is a child pipeline created from a parent pipeline,
where the child and parent are expected to have much commonality.
The goal of derivative pipelines is that they be cheaper to create using the
parent as a starting point, and that it be more efficient (on either host or
device) to switch/bind between children of the same parent.</p></div>
<div class="paragraph"><p>A derivative pipeline is created by setting the
<code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag in the
<code>Vk*PipelineCreateInfo</code> structure.
If this is set, then exactly one of <code>basePipelineHandle</code> or
<code>basePipelineIndex</code> members of the structure <span role="normative">must</span> have a valid
handle/index, and indicates the parent pipeline.
If <code>basePipelineHandle</code> is used, the parent pipeline <span role="normative">must</span> have already
been created.
If <code>basePipelineIndex</code> is used, then the parent is being created in the
same command.
<code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> acts as the invalid handle for
<code>basePipelineHandle</code>, and -1 is the invalid index for
<code>basePipelineIndex</code>.
If <code>basePipelineIndex</code> is used, the base pipeline <span role="normative">must</span> appear earlier
in the array.
The base pipeline <span role="normative">must</span> have been created with the
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set.</p></div>
</div>
<div class="sect2">
<h3 id="pipelines-cache">9.6. Pipeline Cache</h3>
<div class="paragraph"><p>Pipeline cache objects allow the result of pipeline construction to be
reused between pipelines and between runs of an application.
Reuse between pipelines is achieved by passing the same pipeline cache
object when creating multiple related pipelines.
Reuse across runs of an application is achieved by retrieving pipeline cache
contents in one run of an application, saving the contents, and using them
to preinitialize a pipeline cache on a subsequent run.
The contents of the pipeline cache objects are managed by the
implementation.
Applications <span role="normative">can</span> manage the host memory consumed by a pipeline cache object
and control the amount of data retrieved from a pipeline cache object.</p></div>
<div class="paragraph"><p>Pipeline cache objects are represented by <code>VkPipelineCache</code> handles:</p></div>
<div class="listingblock">
<a id="VkPipelineCache"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkPipelineCache<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create pipeline cache objects, call:</p></div>
<div class="listingblock">
<a id="vkCreatePipelineCache"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreatePipelineCache</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineCacheCreateInfo<span style="color: #990000">*</span>            pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkPipelineCache<span style="color: #990000">*</span>                            pPipelineCache<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the pipeline cache
    object.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to a <code>VkPipelineCacheCreateInfo</code>
    structure that contains the initial parameters for the pipeline cache
    object.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pPipelineCache</code> is a pointer to a <code>VkPipelineCache</code> handle in
    which the resulting pipeline cache object is returned.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Applications <span role="normative">can</span> track and manage the total host memory size of a pipeline
cache object using the <code>pAllocator</code>.
Applications <span role="normative">can</span> limit the amount of data retrieved from a pipeline cache
object in <code>vkGetPipelineCacheData</code>.
Implementations <span role="normative">should</span> not internally limit the total number of entries
added to a pipeline cache object or the total host memory consumed.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Once created, a pipeline cache <span role="normative">can</span> be passed to the
<code>vkCreateGraphicsPipelines</code> and <code>vkCreateComputePipelines</code> commands.
If the pipeline cache passed into these commands is not
<code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, the implementation will query it for possible reuse
opportunities and update it with new content.
The use of the pipeline cache object in these commands is internally
synchronized, and the same pipeline cache object <span role="normative">can</span> be used in multiple
threads simultaneously.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Implementations <span role="normative">should</span> make every effort to limit any critical sections to
the actual accesses to the cache, which is expected to be significantly
shorter than the duration of the <code>vkCreateGraphicsPipelines</code> and
<code>vkCreateComputePipelines</code> commands.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkPipelineCacheCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pPipelineCache</code> <span role="normative">must</span> be a pointer to a <code>VkPipelineCache</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkPipelineCacheCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPipelineCacheCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPipelineCacheCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>               sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                   pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineCacheCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">size_t</span>                        initialDataSize<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                   pInitialData<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPipelineCacheCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>initialDataSize</code> is the number of bytes in <code>pInitialData</code>.
    If <code>initialDataSize</code> is zero, the pipeline cache will initially be
    empty.
</p>
</li>
<li>
<p>
<code>pInitialData</code> is a pointer to previously retrieved pipeline cache
    data.
    If the pipeline cache data is incompatible (as defined below) with the
    device, the pipeline cache will be initially empty.
    If <code>initialDataSize</code> is zero, <code>pInitialData</code> is ignored.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>initialDataSize</code> is not <span class="monospaced">0</span>, it <span role="normative">must</span> be equal to the size of
    <code>pInitialData</code>, as returned by <code>vkGetPipelineCacheData</code> when
    <code>pInitialData</code> was originally retrieved
</p>
</li>
<li>
<p>
If <code>initialDataSize</code> is not <span class="monospaced">0</span>, <code>pInitialData</code> <span role="normative">must</span> have been
    retrieved from a previous call to <code>vkGetPipelineCacheData</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PIPELINE_CACHE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>initialDataSize</code> is not <span class="monospaced">0</span>, <code>pInitialData</code> <span role="normative">must</span> be a pointer to an array of <code>initialDataSize</code> bytes
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Pipeline cache objects <span role="normative">can</span> be merged using the command:</p></div>
<div class="listingblock">
<a id="vkMergePipelineCaches"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkMergePipelineCaches</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineCache</span>                             dstCache<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    srcCacheCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineCache<span style="color: #990000">*</span>                      pSrcCaches<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the pipeline cache objects.
</p>
</li>
<li>
<p>
<code>dstCache</code> is the handle of the pipeline cache to merge results
    into.
</p>
</li>
<li>
<p>
<code>srcCacheCount</code> is the length of the <code>pSrcCaches</code> array.
</p>
</li>
<li>
<p>
<code>pSrcCaches</code> is an array of pipeline cache handles, which will be
    merged into <code>dstCache</code>.
    The previous contents of <code>dstCache</code> are included after the merge.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The details of the merge operation are implementation dependent, but
implementations <span role="normative">should</span> merge the contents of the specified pipelines and
prune duplicate entries.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>dstCache</code> <span role="normative">must</span> not appear in the list of source caches
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>dstCache</code> <span role="normative">must</span> be a valid <code>VkPipelineCache</code> handle
</p>
</li>
<li>
<p>
<code>pSrcCaches</code> <span role="normative">must</span> be a pointer to an array of <code>srcCacheCount</code> valid <code>VkPipelineCache</code> handles
</p>
</li>
<li>
<p>
<code>srcCacheCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>dstCache</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
<li>
<p>
Each element of <code>pSrcCaches</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>dstCache</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>Data <span role="normative">can</span> be retrieved from a pipeline cache object using the command:</p></div>
<div class="listingblock">
<a id="vkGetPipelineCacheData"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPipelineCacheData</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineCache</span>                             pipelineCache<span style="color: #990000">,</span>
    size_t<span style="color: #990000">*</span>                                     pDataSize<span style="color: #990000">,</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                                       pData<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the pipeline cache.
</p>
</li>
<li>
<p>
<code>pipelineCache</code> is the pipeline cache to retrieve data from.
</p>
</li>
<li>
<p>
<code>pDataSize</code> is a pointer to a value related to the amount of data in
    the pipeline cache, as described below.
</p>
</li>
<li>
<p>
<code>pData</code> is either <span class="monospaced">NULL</span> or a pointer to a buffer.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pData</code> is <span class="monospaced">NULL</span>, then the maximum size of the data that <span role="normative">can</span> be
retrieved from the pipeline cache, in bytes, is returned in <code>pDataSize</code>.
Otherwise, <code>pDataSize</code> <span role="normative">must</span> point to a variable set by the user to the
size of the buffer, in bytes, pointed to by <code>pData</code>, and on return the
variable is overwritten with the amount of data actually written to
<code>pData</code>.</p></div>
<div class="paragraph"><p>If <code>pDataSize</code> is less than the maximum size that <span role="normative">can</span> be retrieved by
the pipeline cache, at most <code>pDataSize</code> bytes will be written to
<code>pData</code>, and <code>vkGetPipelineCacheData</code> will return
<code>VK_INCOMPLETE</code>.
Any data written to <code>pData</code> is valid and <span role="normative">can</span> be provided as the
<code>pInitialData</code> member of the <code>VkPipelineCacheCreateInfo</code> structure
passed to <code>vkCreatePipelineCache</code>.</p></div>
<div class="paragraph"><p>Two calls to <code>vkGetPipelineCacheData</code> with the same parameters <span role="normative">must</span>
retrieve the same data unless a command that modifies the contents of the
cache is called between them.</p></div>
<div class="paragraph" id="pipelines-cache-header"><p>Applications <span role="normative">can</span> store the data retrieved from the pipeline cache, and use
these data, possibly in a future run of the application, to populate new
pipeline cache objects.
The results of pipeline compiles, however, <span role="normative">may</span> depend on the vendor ID,
device ID, driver version, and other details of the device.
To enable applications to detect when previously retrieved data is
incompatible with the device, the initial bytes written to <code>pData</code> <span role="normative">must</span>
be a header consisting of the following members:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:85%;
">
<caption class="title">Table 7. Layout for pipeline cache header version <code>VK_PIPELINE_CACHE_HEADER_VERSION_ONE</code></caption>
<col style="width:8%;">
<col style="width:21%;">
<col style="width:71%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Offset </th>
<th class="tableblock halign-left valign-top" > Size </th>
<th class="tableblock halign-left valign-top" > Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">length in bytes of the entire pipeline cache header
                             written as a stream of bytes, with the least
                             significant byte first</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">a <code><a href="#VkPipelineCacheHeaderVersion">VkPipelineCacheHeaderVersion</a></code> value
                             written as a stream of bytes, with the least
                             significant byte first</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">a vendor ID equal to
                             <code>VkPhysicalDeviceProperties</code>::<code>vendorID</code>
                             written as a stream of bytes, with the least
                             significant byte first</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">a device ID equal to
                             <code>VkPhysicalDeviceProperties</code>::<code>deviceID</code>
                             written as a stream of bytes, with the least
                             significant byte first</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_UUID_SIZE</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">a pipeline cache ID equal to
                             <code>VkPhysicalDeviceProperties</code>::<code>pipelineCacheUUID</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The first four bytes encode the length of the entire pipeline header, in
bytes.
This value includes all fields in the header including the pipeline cache
version field and the size of the length field.</p></div>
<div class="paragraph"><p>The next four bytes encode the pipeline cache version.
This field is interpreted as a <code><a href="#VkPipelineCacheHeaderVersion">VkPipelineCacheHeaderVersion</a></code> value, and
<span role="normative">must</span> have one of the following values:</p></div>
<div class="listingblock">
<a id="VkPipelineCacheHeaderVersion"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkPipelineCacheHeaderVersion <span style="color: #FF0000">{</span>
    VK_PIPELINE_CACHE_HEADER_VERSION_ONE <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkPipelineCacheHeaderVersion<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>A consumer of the pipeline cache <span role="normative">should</span> use the cache version to interpret
the remainder of the cache header.</p></div>
<div class="paragraph"><p>If <code>pDataSize</code> is less than what is necessary to store this header,
nothing will be written to <code>pData</code> and zero will be written to
<code>pDataSize</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pipelineCache</code> <span role="normative">must</span> be a valid <code>VkPipelineCache</code> handle
</p>
</li>
<li>
<p>
<code>pDataSize</code> <span role="normative">must</span> be a pointer to a <code>size_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pDataSize</code> is not <span class="monospaced">0</span>, and <code>pData</code> is not <span class="monospaced">NULL</span>, <code>pData</code> <span role="normative">must</span> be a pointer to an array of <code>pDataSize</code> bytes
</p>
</li>
<li>
<p>
<code>pipelineCache</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>To destroy a pipeline cache, call:</p></div>
<div class="listingblock">
<a id="vkDestroyPipelineCache"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyPipelineCache</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineCache</span>                             pipelineCache<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the pipeline cache
    object.
</p>
</li>
<li>
<p>
<code>pipelineCache</code> is the handle of the pipeline cache to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>pipelineCache</code>
    was created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>pipelineCache</code>
    was created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>pipelineCache</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>pipelineCache</code> <span role="normative">must</span> be a valid <code>VkPipelineCache</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>pipelineCache</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>pipelineCache</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="pipelines-specialization-constants">9.7. Specialization Constants</h3>
<div class="paragraph"><p>Specialization constants are a mechanism whereby constants in a SPIR-V
module <span role="normative">can</span> have their constant value specified at the time the
<code>VkPipeline</code> is created.
This allows a SPIR-V module to have constants that <span role="normative">can</span> be modified while
executing an application that uses the Vulkan API.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Specialization constants are useful to allow a compute shader to have its
local workgroup size changed at runtime by the user, for example.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Each instance of the <code>VkPipelineShaderStageCreateInfo</code> structure
contains a parameter <code>pSpecializationInfo</code>, which <span role="normative">can</span> be <span class="monospaced">NULL</span> to
indicate no specialization constants, or point to a
<code>VkSpecializationInfo</code> structure.</p></div>
<div class="paragraph"><p>The <code>VkSpecializationInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSpecializationInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSpecializationInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>                           mapEntryCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSpecializationMapEntry<span style="color: #990000">*</span>    pMapEntries<span style="color: #990000">;</span>
    <span style="color: #008080">size_t</span>                             dataSize<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                        pData<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSpecializationInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>mapEntryCount</code> is the number of entries in the <code>pMapEntries</code>
    array.
</p>
</li>
<li>
<p>
<code>pMapEntries</code> is a pointer to an array of
    <code>VkSpecializationMapEntry</code> which maps constant IDs to offsets in
    <code>pData</code>.
</p>
</li>
<li>
<p>
<code>dataSize</code> is the byte size of the <code>pData</code> buffer.
</p>
</li>
<li>
<p>
<code>pData</code> contains the actual constant values to specialize with.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>pMapEntries</code> points to a structure of type
<code><a href="#VkSpecializationMapEntry">VkSpecializationMapEntry</a></code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The <code>offset</code> member of any given element of <code>pMapEntries</code> <span role="normative">must</span>
    be less than <code>dataSize</code>
</p>
</li>
<li>
<p>
For any given element of <code>pMapEntries</code>, <code>size</code> <span role="normative">must</span> be less
    than or equal to <code>dataSize</code> minus <code>offset</code>
</p>
</li>
<li>
<p>
If <code>mapEntryCount</code> is not <span class="monospaced">0</span>, <code>pMapEntries</code> <span role="normative">must</span> be a pointer
    to an array of <code>mapEntryCount</code> valid <code>VkSpecializationMapEntry</code>
    structures
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
If <code>dataSize</code> is not <span class="monospaced">0</span>, <code>pData</code> <span role="normative">must</span> be a pointer to an array of <code>dataSize</code> bytes
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkSpecializationMapEntry</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSpecializationMapEntry"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSpecializationMapEntry</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>    constantID<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    offset<span style="color: #990000">;</span>
    <span style="color: #008080">size_t</span>      size<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSpecializationMapEntry<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>constantID</code> is the ID of the specialization constant in SPIR-V.
</p>
</li>
<li>
<p>
<code>offset</code> is the byte offset of the specialization constant value
    within the supplied data buffer.
</p>
</li>
<li>
<p>
<code>size</code> is the byte size of the specialization constant value within
    the supplied data buffer.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If a <code>constantID</code> value is not a specialization constant ID used in the
shader, that map entry does not affect the behavior of the pipeline.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
For a <code>constantID</code> specialization constant declared in a shader,
    <code>size</code> <span role="normative">must</span> match the byte size of the <code>constantID</code>.
    If the specialization constant is of type <code>boolean</code>, <code>size</code> <span role="normative">must</span>
    be the byte size of <code>VkBool32</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>In human readable SPIR-V:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>OpDecorate <span style="color: #990000">%</span>x SpecId <span style="color: #993399">13</span> <span style="color: #990000">;</span> decorate <span style="color: #000080">.x</span> component of WorkgroupSize with ID <span style="color: #993399">13</span>
OpDecorate <span style="color: #990000">%</span>y SpecId <span style="color: #993399">42</span> <span style="color: #990000">;</span> decorate <span style="color: #000080">.y</span> component of WorkgroupSize with ID <span style="color: #993399">42</span>
OpDecorate <span style="color: #990000">%</span>z SpecId <span style="color: #993399">3</span>  <span style="color: #990000">;</span> decorate <span style="color: #000080">.z</span> component of WorkgroupSize with ID <span style="color: #993399">3</span>
OpDecorate <span style="color: #990000">%</span>wgsize BuiltIn WorkgroupSize <span style="color: #990000">;</span> decorate WorkgroupSize onto constant
<span style="color: #990000">%</span>i32 <span style="color: #990000">=</span> OpTypeInt <span style="color: #993399">32</span> <span style="color: #993399">0</span> <span style="color: #990000">;</span> declare an unsigned <span style="color: #993399">32</span><span style="color: #990000">-</span>bit type
<span style="color: #990000">%</span>uvec3 <span style="color: #990000">=</span> OpTypeVector <span style="color: #990000">%</span>i32 <span style="color: #993399">3</span> <span style="color: #990000">;</span> declare a <span style="color: #993399">3</span> element vector type of unsigned <span style="color: #993399">32</span><span style="color: #990000">-</span>bit
<span style="color: #990000">%</span>x <span style="color: #990000">=</span> OpSpecConstant <span style="color: #990000">%</span>i32 <span style="color: #993399">1</span> <span style="color: #990000">;</span> declare the <span style="color: #000080">.x</span> component of WorkgroupSize
<span style="color: #990000">%</span>y <span style="color: #990000">=</span> OpSpecConstant <span style="color: #990000">%</span>i32 <span style="color: #993399">1</span> <span style="color: #990000">;</span> declare the <span style="color: #000080">.y</span> component of WorkgroupSize
<span style="color: #990000">%</span>z <span style="color: #990000">=</span> OpSpecConstant <span style="color: #990000">%</span>i32 <span style="color: #993399">1</span> <span style="color: #990000">;</span> declare the <span style="color: #000080">.z</span> component of WorkgroupSize
<span style="color: #990000">%</span>wgsize <span style="color: #990000">=</span> OpSpecConstantComposite <span style="color: #990000">%</span>uvec3 <span style="color: #990000">%</span>x <span style="color: #990000">%</span>y <span style="color: #990000">%</span>z <span style="color: #990000">;</span> declare WorkgroupSize</tt></pre></div></div>
<div class="paragraph"><p>From the above we have three specialization constants, one for each of the
x, y &amp; z elements of the WorkgroupSize vector.</p></div>
<div class="paragraph"><p>Now to specialize the above via the specialization constants mechanism:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkSpecializationMapEntry</span> entries<span style="color: #990000">[]</span> <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    <span style="color: #FF0000">{</span>
        <span style="color: #993399">13</span><span style="color: #990000">,</span>                             <span style="font-style: italic"><span style="color: #9A1900">// constantID</span></span>
        <span style="color: #993399">0</span> <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>uint32_t<span style="color: #990000">),</span>           <span style="font-style: italic"><span style="color: #9A1900">// offset</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>uint32_t<span style="color: #990000">)</span>                <span style="font-style: italic"><span style="color: #9A1900">// size</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">,</span>
    <span style="color: #FF0000">{</span>
        <span style="color: #993399">42</span><span style="color: #990000">,</span>                             <span style="font-style: italic"><span style="color: #9A1900">// constantID</span></span>
        <span style="color: #993399">1</span> <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>uint32_t<span style="color: #990000">),</span>           <span style="font-style: italic"><span style="color: #9A1900">// offset</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>uint32_t<span style="color: #990000">)</span>                <span style="font-style: italic"><span style="color: #9A1900">// size</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">,</span>
    <span style="color: #FF0000">{</span>
        <span style="color: #993399">3</span><span style="color: #990000">,</span>                              <span style="font-style: italic"><span style="color: #9A1900">// constantID</span></span>
        <span style="color: #993399">2</span> <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>uint32_t<span style="color: #990000">),</span>           <span style="font-style: italic"><span style="color: #9A1900">// offset</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>uint32_t<span style="color: #990000">)</span>                <span style="font-style: italic"><span style="color: #9A1900">// size</span></span>
    <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">uint32_t</span> data<span style="color: #990000">[]</span> <span style="color: #990000">=</span> <span style="color: #FF0000">{</span> <span style="color: #993399">16</span><span style="color: #990000">,</span> <span style="color: #993399">8</span><span style="color: #990000">,</span> <span style="color: #993399">4</span> <span style="color: #FF0000">}</span><span style="color: #990000">;</span> <span style="font-style: italic"><span style="color: #9A1900">// our workgroup size is 16x8x4</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkSpecializationInfo</span> info <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    <span style="color: #993399">3</span><span style="color: #990000">,</span>                                  <span style="font-style: italic"><span style="color: #9A1900">// mapEntryCount</span></span>
    entries<span style="color: #990000">,</span>                            <span style="font-style: italic"><span style="color: #9A1900">// pMapEntries</span></span>
    <span style="color: #993399">3</span> <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>uint32_t<span style="color: #990000">),</span>               <span style="font-style: italic"><span style="color: #9A1900">// dataSize</span></span>
    data<span style="color: #990000">,</span>                               <span style="font-style: italic"><span style="color: #9A1900">// pData</span></span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>Then when calling <code><a href="#vkCreateComputePipelines">vkCreateComputePipelines</a></code>, and passing the
<code>VkSpecializationInfo</code> we defined as the <code>pSpecializationInfo</code>
parameter of <code><a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a></code>, we will create a compute
pipeline with the runtime specified local workgroup size.</p></div>
<div class="paragraph"><p>Another example would be that an application has a SPIR-V module that has
some platform-dependent constants they wish to use.</p></div>
<div class="paragraph"><p>In human readable SPIR-V:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>OpDecorate <span style="color: #990000">%</span><span style="color: #993399">1</span> SpecId <span style="color: #993399">0</span>  <span style="color: #990000">;</span> decorate our signed <span style="color: #993399">32</span><span style="color: #990000">-</span>bit integer constant
OpDecorate <span style="color: #990000">%</span><span style="color: #993399">2</span> SpecId <span style="color: #993399">12</span> <span style="color: #990000">;</span> decorate our <span style="color: #993399">32</span><span style="color: #990000">-</span>bit floating<span style="color: #990000">-</span>point constant
<span style="color: #990000">%</span>i32 <span style="color: #990000">=</span> OpTypeInt <span style="color: #993399">32</span> <span style="color: #993399">1</span>   <span style="color: #990000">;</span> declare a signed <span style="color: #993399">32</span><span style="color: #990000">-</span>bit type
<span style="color: #990000">%</span><span style="color: #009900">float</span> <span style="color: #990000">=</span> OpTypeFloat <span style="color: #993399">32</span> <span style="color: #990000">;</span> declare a <span style="color: #993399">32</span><span style="color: #990000">-</span>bit floating<span style="color: #990000">-</span>point type
<span style="color: #990000">%</span><span style="color: #993399">1</span> <span style="color: #990000">=</span> OpSpecConstant <span style="color: #990000">%</span>i32 <span style="color: #990000">-</span><span style="color: #993399">1</span> <span style="color: #990000">;</span> some signed <span style="color: #993399">32</span><span style="color: #990000">-</span>bit integer constant
<span style="color: #990000">%</span><span style="color: #993399">2</span> <span style="color: #990000">=</span> OpSpecConstant <span style="color: #990000">%</span><span style="color: #009900">float</span> <span style="color: #993399">0.5</span> <span style="color: #990000">;</span> some <span style="color: #993399">32</span><span style="color: #990000">-</span>bit floating<span style="color: #990000">-</span>point constant</tt></pre></div></div>
<div class="paragraph"><p>From the above we have two specialization constants, one is a signed 32-bit
integer and the second is a 32-bit floating-point.</p></div>
<div class="paragraph"><p>Now to specialize the above via the specialization constants mechanism:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">SpecializationData</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">int32_t</span> data0<span style="color: #990000">;</span>
    <span style="color: #009900">float</span> data1<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkSpecializationMapEntry</span> entries<span style="color: #990000">[]</span> <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    <span style="color: #FF0000">{</span>
        <span style="color: #993399">0</span><span style="color: #990000">,</span>                                    <span style="font-style: italic"><span style="color: #9A1900">// constantID</span></span>
        <span style="font-weight: bold"><span style="color: #000000">offsetof</span></span><span style="color: #990000">(</span>SpecializationData<span style="color: #990000">,</span> data0<span style="color: #990000">),</span>  <span style="font-style: italic"><span style="color: #9A1900">// offset</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>SpecializationData<span style="color: #990000">::</span>data0<span style="color: #990000">)</span>     <span style="font-style: italic"><span style="color: #9A1900">// size</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">,</span>
    <span style="color: #FF0000">{</span>
        <span style="color: #993399">12</span><span style="color: #990000">,</span>                                   <span style="font-style: italic"><span style="color: #9A1900">// constantID</span></span>
        <span style="font-weight: bold"><span style="color: #000000">offsetof</span></span><span style="color: #990000">(</span>SpecializationData<span style="color: #990000">,</span> data1<span style="color: #990000">),</span>  <span style="font-style: italic"><span style="color: #9A1900">// offset</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>SpecializationData<span style="color: #990000">::</span>data1<span style="color: #990000">)</span>     <span style="font-style: italic"><span style="color: #9A1900">// size</span></span>
    <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="color: #008080">SpecializationData</span> data<span style="color: #990000">;</span>
data<span style="color: #990000">.</span>data0 <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">42</span><span style="color: #990000">;</span>    <span style="font-style: italic"><span style="color: #9A1900">// set the data for the 32-bit integer</span></span>
data<span style="color: #990000">.</span>data1 <span style="color: #990000">=</span> <span style="color: #993399">42</span><span style="color: #990000">.</span>0f<span style="color: #990000">;</span>  <span style="font-style: italic"><span style="color: #9A1900">// set the data for the 32-bit floating-point</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkSpecializationInfo</span> info <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    <span style="color: #993399">2</span><span style="color: #990000">,</span>                                  <span style="font-style: italic"><span style="color: #9A1900">// mapEntryCount</span></span>
    entries<span style="color: #990000">,</span>                            <span style="font-style: italic"><span style="color: #9A1900">// pMapEntries</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>data<span style="color: #990000">),</span>                       <span style="font-style: italic"><span style="color: #9A1900">// dataSize</span></span>
    <span style="color: #990000">&amp;</span>data<span style="color: #990000">,</span>                              <span style="font-style: italic"><span style="color: #9A1900">// pData</span></span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>It is legal for a SPIR-V module with specializations to be compiled into a
pipeline where no specialization info was provided.
SPIR-V specialization constants contain default values such that if a
specialization is not provided, the default value will be used.
In the examples above, it would be valid for an application to only
specialize some of the specialization constants within the SPIR-V module,
and let the other constants use their default values encoded within the
OpSpecConstant declarations.</p></div>
</div>
<div class="sect2">
<h3 id="pipelines-binding">9.8. Pipeline Binding</h3>
<div class="paragraph"><p>Once a pipeline has been created, it <span role="normative">can</span> be bound to the command buffer
using the command:</p></div>
<div class="listingblock">
<a id="vkCmdBindPipeline"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdBindPipeline</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineBindPoint</span>                         pipelineBindPoint<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipeline</span>                                  pipeline<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer that the pipeline will be
    bound to.
</p>
</li>
<li>
<p>
<code>pipelineBindPoint</code> specifies the bind point, and <span role="normative">must</span> have one of
    the values
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkPipelineBindPoint"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkPipelineBindPoint <span style="color: #FF0000">{</span>
    VK_PIPELINE_BIND_POINT_GRAPHICS <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_PIPELINE_BIND_POINT_COMPUTE <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkPipelineBindPoint<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="paragraph"><p>specifying whether <code>pipeline</code> will be bound as a compute
(<code>VK_PIPELINE_BIND_POINT_COMPUTE</code>) or graphics
(<code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>) pipeline.
There are separate bind points for each of graphics and compute, so binding
one does not disturb the other.</p></div>
</li>
<li>
<p>
<code>pipeline</code> is the pipeline to be bound.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Once bound, a pipeline binding affects subsequent graphics or compute
commands in the command buffer until a different pipeline is bound to the
bind point.
The pipeline bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code> controls the
behavior of <code><a href="#vkCmdDispatch">vkCmdDispatch</a></code> and <code><a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>.
The pipeline bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> controls the
behavior of <code><a href="#vkCmdDraw">vkCmdDraw</a></code>, <code><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>,
<code><a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>, and <code><a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>.
No other commands are affected by the pipeline state.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>, the
    <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span>
    support compute operations
</p>
</li>
<li>
<p>
If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, the
    <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span>
    support graphics operations
</p>
</li>
<li>
<p>
If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>,
    <code>pipeline</code> <span role="normative">must</span> be a compute pipeline
</p>
</li>
<li>
<p>
If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>,
    <code>pipeline</code> <span role="normative">must</span> be a graphics pipeline
</p>
</li>
<li>
<p>
If the <a href="#features-features-variableMultisampleRate">variable multisample     rate</a> feature is not supported, <code>pipeline</code> is a graphics pipeline,
    the current subpass has no attachments, and this is not the first call
    to this function with a graphics pipeline after transitioning to the
    current subpass, then the sample count specified by this pipeline <span role="normative">must</span>
    match that set in the previous pipeline
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pipelineBindPoint</code> <span role="normative">must</span> be a valid <code><a href="#VkPipelineBindPoint">VkPipelineBindPoint</a></code> value
</p>
</li>
<li>
<p>
<code>pipeline</code> <span role="normative">must</span> be a valid <code>VkPipeline</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics, or compute operations
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and <code>pipeline</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="memory">10. Memory Allocation</h2>
<div class="sectionbody">
<div class="paragraph"><p>Vulkan memory is broken up into two categories, <em>host memory</em> and <em>device
memory</em>.</p></div>
<div class="sect2">
<h3 id="memory-host">10.1. Host Memory</h3>
<div class="paragraph"><p>Host memory is memory needed by the Vulkan implementation for
non-device-visible storage.
This storage <span role="normative">may</span> be used for e.g. internal software structures.</p></div>
<div class="paragraph" id="memory-allocation"><p>Vulkan provides applications the opportunity to perform host memory
allocations on behalf of the Vulkan implementation.
If this feature is not used, the implementation will perform its own memory
allocations.
Since most memory allocations are off the critical path, this is not meant
as a performance feature.
Rather, this <span role="normative">can</span> be useful for certain embedded systems, for debugging
purposes (e.g. putting a guard page after all host allocations), or for
memory allocation logging.</p></div>
<div class="paragraph"><p>Allocators are provided by the application as a pointer to a
<code>VkAllocationCallbacks</code> structure:</p></div>
<div class="listingblock">
<a id="VkAllocationCallbacks"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkAllocationCallbacks</span> <span style="color: #FF0000">{</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                                   pUserData<span style="color: #990000">;</span>
    <span style="color: #008080">PFN_vkAllocationFunction</span>                pfnAllocation<span style="color: #990000">;</span>
    <span style="color: #008080">PFN_vkReallocationFunction</span>              pfnReallocation<span style="color: #990000">;</span>
    <span style="color: #008080">PFN_vkFreeFunction</span>                      pfnFree<span style="color: #990000">;</span>
    <span style="color: #008080">PFN_vkInternalAllocationNotification</span>    pfnInternalAllocation<span style="color: #990000">;</span>
    <span style="color: #008080">PFN_vkInternalFreeNotification</span>          pfnInternalFree<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkAllocationCallbacks<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>pUserData</code> is a value to be interpreted by the implementation of
    the callbacks.
    When any of the callbacks in <code>VkAllocationCallbacks</code> are called, the
    Vulkan implementation will pass this value as the first parameter to the
    callback.
    This value <span role="normative">can</span> vary each time an allocator is passed into a command,
    even when the same object takes an allocator in multiple commands.
</p>
</li>
<li>
<p>
<code>pfnAllocation</code> is a pointer to an application-defined memory
    allocation function of type <code><a href="#PFN_vkAllocationFunction">PFN_vkAllocationFunction</a></code>.
</p>
</li>
<li>
<p>
<code>pfnReallocation</code> is a pointer to an application-defined memory
    reallocation function of type <code><a href="#PFN_vkReallocationFunction">PFN_vkReallocationFunction</a></code>.
</p>
</li>
<li>
<p>
<code>pfnFree</code> is a pointer to an application-defined memory free
    function of type <code><a href="#PFN_vkFreeFunction">PFN_vkFreeFunction</a></code>.
</p>
</li>
<li>
<p>
<code>pfnInternalAllocation</code> is a pointer to an application-defined
    function that is called by the implementation when the implementation
    makes internal allocations, and it is of type
    <code><a href="#PFN_vkInternalAllocationNotification">PFN_vkInternalAllocationNotification</a></code>.
</p>
</li>
<li>
<p>
<code>pfnInternalFree</code> is a pointer to an application-defined function
    that is called by the implementation when the implementation frees
    internal allocations, and it is of type
    <code><a href="#PFN_vkInternalFreeNotification">PFN_vkInternalFreeNotification</a></code>.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>pfnAllocation</code> <span role="normative">must</span> be a pointer to a valid user-defined
    <code><a href="#PFN_vkAllocationFunction">PFN_vkAllocationFunction</a></code>
</p>
</li>
<li>
<p>
<code>pfnReallocation</code> <span role="normative">must</span> be a pointer to a valid user-defined
    <code><a href="#PFN_vkReallocationFunction">PFN_vkReallocationFunction</a></code>
</p>
</li>
<li>
<p>
<code>pfnFree</code> <span role="normative">must</span> be a pointer to a valid user-defined
    <code><a href="#PFN_vkFreeFunction">PFN_vkFreeFunction</a></code>
</p>
</li>
<li>
<p>
If either of <code>pfnInternalAllocation</code> or <code>pfnInternalFree</code> is not
    <span class="monospaced">NULL</span>, both <span role="normative">must</span> be valid callbacks
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The type of <code>pfnAllocation</code> is:</p></div>
<div class="listingblock">
<a id="PFN_vkAllocationFunction"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span> <span style="color: #990000">(</span><span style="color: #008080">VKAPI_PTR</span> <span style="color: #990000">*</span>PFN_vkAllocationFunction<span style="color: #990000">)(</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                                       pUserData<span style="color: #990000">,</span>
    <span style="color: #008080">size_t</span>                                      size<span style="color: #990000">,</span>
    <span style="color: #008080">size_t</span>                                      alignment<span style="color: #990000">,</span>
    <span style="color: #008080">VkSystemAllocationScope</span>                     allocationScope<span style="color: #990000">);</span>
</tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>pUserData</code> is the value specified for
    <code><a href="#VkAllocationCallbacks">VkAllocationCallbacks</a></code>::<code>pUserData</code> in the allocator specified
    by the application.
</p>
</li>
<li>
<p>
<code>size</code> is the size in bytes of the requested allocation.
</p>
</li>
<li>
<p>
<code>alignment</code> is the requested alignment of the allocation in bytes
    and <span role="normative">must</span> be a power of two.
</p>
</li>
<li>
<p>
<code>allocationScope</code> is a <code><a href="#VkSystemAllocationScope">VkSystemAllocationScope</a></code> value
    specifying the allocation scope of the lifetime of the allocation, as
    described <a href="#memory-host-allocation-scope">here</a>.
</p>
</li>
</ul></div>
<div class="paragraph" id="vkAllocationFunction_return_rules"><p>If <code>pfnAllocation</code> is unable to allocate the requested memory, it <span role="normative">must</span>
return <span class="monospaced">NULL</span>.
If the allocation was successful, it <span role="normative">must</span> return a valid pointer to memory
allocation containing at least <code>size</code> bytes, and with the pointer value
being a multiple of <code>alignment</code>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Correct Vulkan operation <span role="normative">cannot</span> be assumed if the application does not
follow these rules.</p></div>
<div class="paragraph"><p>For example, <code>pfnAllocation</code> (or <code>pfnReallocation</code>) could cause
termination of running Vulkan instance(s) on a failed allocation for
debugging purposes, either directly or indirectly.
In these circumstances, it <span role="normative">cannot</span> be assumed that any part of any affected
VkInstance objects are going to operate correctly (even
<code><a href="#vkDestroyInstance">vkDestroyInstance</a></code>), and the application <span role="normative">must</span> ensure it cleans up
properly via other means (e.g. process termination).</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>If <code>pfnAllocation</code> returns <span class="monospaced">NULL</span>, and if the implementation is unable
to continue correct processing of the current command without the requested
allocation, it <span role="normative">must</span> treat this as a run-time error, and generate
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code> at the appropriate time for the command in
which the condition was detected, as described in <a href="#fundamentals-errorcodes">Return Codes</a>.</p></div>
<div class="paragraph"><p>If the implementation is able to continue correct processing of the current
command without the requested allocation, then it <span role="normative">may</span> do so, and <span role="normative">must</span> not
generate <code>VK_ERROR_OUT_OF_HOST_MEMORY</code> as a result of this failed
allocation.</p></div>
<div class="paragraph"><p>The type of <code>pfnReallocation</code> is:</p></div>
<div class="listingblock">
<a id="PFN_vkReallocationFunction"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span> <span style="color: #990000">(</span><span style="color: #008080">VKAPI_PTR</span> <span style="color: #990000">*</span>PFN_vkReallocationFunction<span style="color: #990000">)(</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                                       pUserData<span style="color: #990000">,</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                                       pOriginal<span style="color: #990000">,</span>
    <span style="color: #008080">size_t</span>                                      size<span style="color: #990000">,</span>
    <span style="color: #008080">size_t</span>                                      alignment<span style="color: #990000">,</span>
    <span style="color: #008080">VkSystemAllocationScope</span>                     allocationScope<span style="color: #990000">);</span>
</tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>pUserData</code> is the value specified for
    <code><a href="#VkAllocationCallbacks">VkAllocationCallbacks</a></code>::<code>pUserData</code> in the allocator specified
    by the application.
</p>
</li>
<li>
<p>
<code>pOriginal</code> <span role="normative">must</span> be either <span class="monospaced">NULL</span> or a pointer previously returned
    by <code>pfnReallocation</code> or <code>pfnAllocation</code> of the same allocator.
</p>
</li>
<li>
<p>
<code>size</code> is the size in bytes of the requested allocation.
</p>
</li>
<li>
<p>
<code>alignment</code> is the requested alignment of the allocation in bytes
    and <span role="normative">must</span> be a power of two.
</p>
</li>
<li>
<p>
<code>allocationScope</code> is a <code><a href="#VkSystemAllocationScope">VkSystemAllocationScope</a></code> value
    specifying the allocation scope of the lifetime of the allocation, as
    described <a href="#memory-host-allocation-scope">here</a>.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>pfnReallocation</code> <span role="normative">must</span> return an allocation with enough space for
<code>size</code> bytes, and the contents of the original allocation from bytes
zero to <span class="eq">min(original size, new size) - 1</span> <span role="normative">must</span> be preserved in the
returned allocation.
If <code>size</code> is larger than the old size, the contents of the additional
space are undefined.
If satisfying these requirements involves creating a new allocation, then
the old allocation <span role="normative">should</span> be freed.</p></div>
<div class="paragraph"><p>If <code>pOriginal</code> is <span class="monospaced">NULL</span>, then <code>pfnReallocation</code> <span role="normative">must</span> behave
equivalently to a call to <code><a href="#PFN_vkAllocationFunction">PFN_vkAllocationFunction</a></code> with the same
parameter values (without <code>pOriginal</code>).</p></div>
<div class="paragraph"><p>If <code>size</code> is zero, then <code>pfnReallocation</code> <span role="normative">must</span> behave equivalently
to a call to <code><a href="#PFN_vkFreeFunction">PFN_vkFreeFunction</a></code> with the same <code>pUserData</code>
parameter value, and <code>pMemory</code> equal to <code>pOriginal</code>.</p></div>
<div class="paragraph"><p>If <code>pOriginal</code> is non-<span class="monospaced">NULL</span>, the implementation <span role="normative">must</span> ensure that
<code>alignment</code> is equal to the <code>alignment</code> used to originally allocate
<code>pOriginal</code>.</p></div>
<div class="paragraph"><p>If this function fails and <code>pOriginal</code> is non-<span class="monospaced">NULL</span> the application
<span role="normative">must</span> not free the old allocation.</p></div>
<div class="paragraph"><p><code>pfnReallocation</code> <span role="normative">must</span> follow the same
<a href="#vkAllocationFunction_return_rules">rules for return values as <code>PFN_vkAllocationFunction</code></a>.</p></div>
<div class="paragraph"><p>The type of <code>pfnFree</code> is:</p></div>
<div class="listingblock">
<a id="PFN_vkFreeFunction"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #009900">void</span> <span style="color: #990000">(</span><span style="color: #008080">VKAPI_PTR</span> <span style="color: #990000">*</span>PFN_vkFreeFunction<span style="color: #990000">)(</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                                       pUserData<span style="color: #990000">,</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                                       pMemory<span style="color: #990000">);</span>
</tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>pUserData</code> is the value specified for
    <code><a href="#VkAllocationCallbacks">VkAllocationCallbacks</a></code>::<code>pUserData</code> in the allocator specified
    by the application.
</p>
</li>
<li>
<p>
<code>pMemory</code> is the allocation to be freed.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>pMemory</code> <span role="normative">may</span> be <span class="monospaced">NULL</span>, which the callback <span role="normative">must</span> handle safely.
If <code>pMemory</code> is non-<span class="monospaced">NULL</span>, it <span role="normative">must</span> be a pointer previously allocated
by <code>pfnAllocation</code> or <code>pfnReallocation</code>.
The application <span role="normative">should</span> free this memory.</p></div>
<div class="paragraph"><p>The type of <code>pfnInternalAllocation</code> is:</p></div>
<div class="listingblock">
<a id="PFN_vkInternalAllocationNotification"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #009900">void</span> <span style="color: #990000">(</span><span style="color: #008080">VKAPI_PTR</span> <span style="color: #990000">*</span>PFN_vkInternalAllocationNotification<span style="color: #990000">)(</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                                       pUserData<span style="color: #990000">,</span>
    <span style="color: #008080">size_t</span>                                      size<span style="color: #990000">,</span>
    <span style="color: #008080">VkInternalAllocationType</span>                    allocationType<span style="color: #990000">,</span>
    <span style="color: #008080">VkSystemAllocationScope</span>                     allocationScope<span style="color: #990000">);</span>
</tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>pUserData</code> is the value specified for
    <code><a href="#VkAllocationCallbacks">VkAllocationCallbacks</a></code>::<code>pUserData</code> in the allocator specified
    by the application.
</p>
</li>
<li>
<p>
<code>size</code> is the requested size of an allocation.
</p>
</li>
<li>
<p>
<code>allocationType</code> is the requested type of an allocation.
</p>
</li>
<li>
<p>
<code>allocationScope</code> is a <code><a href="#VkSystemAllocationScope">VkSystemAllocationScope</a></code> value
    specifying the allocation scope of the lifetime of the allocation, as
    described <a href="#memory-host-allocation-scope">here</a>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>This is a purely informational callback.</p></div>
<div class="paragraph"><p>The type of <code>pfnInternalFree</code> is:</p></div>
<div class="listingblock">
<a id="PFN_vkInternalFreeNotification"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #009900">void</span> <span style="color: #990000">(</span><span style="color: #008080">VKAPI_PTR</span> <span style="color: #990000">*</span>PFN_vkInternalFreeNotification<span style="color: #990000">)(</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                                       pUserData<span style="color: #990000">,</span>
    <span style="color: #008080">size_t</span>                                      size<span style="color: #990000">,</span>
    <span style="color: #008080">VkInternalAllocationType</span>                    allocationType<span style="color: #990000">,</span>
    <span style="color: #008080">VkSystemAllocationScope</span>                     allocationScope<span style="color: #990000">);</span>
</tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>pUserData</code> is the value specified for
    <code><a href="#VkAllocationCallbacks">VkAllocationCallbacks</a></code>::<code>pUserData</code> in the allocator specified
    by the application.
</p>
</li>
<li>
<p>
<code>size</code> is the requested size of an allocation.
</p>
</li>
<li>
<p>
<code>allocationType</code> is the requested type of an allocation.
</p>
</li>
<li>
<p>
<code>allocationScope</code> is a <code><a href="#VkSystemAllocationScope">VkSystemAllocationScope</a></code> value
    specifying the allocation scope of the lifetime of the allocation, as
    described <a href="#memory-host-allocation-scope">here</a>.
</p>
</li>
</ul></div>
<div class="paragraph" id="memory-host-allocation-scope"><p>Each allocation has an <em>allocation scope</em> which defines its lifetime and
which object it is associated with.
The allocation scope is provided in the <code>allocationScope</code> parameter
passed to callbacks defined in <code><a href="#VkAllocationCallbacks">VkAllocationCallbacks</a></code>.
Possible values for this parameter are defined by
<code><a href="#VkSystemAllocationScope">VkSystemAllocationScope</a></code>:</p></div>
<div class="listingblock">
<a id="VkSystemAllocationScope"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkSystemAllocationScope <span style="color: #FF0000">{</span>
    VK_SYSTEM_ALLOCATION_SCOPE_COMMAND <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_SYSTEM_ALLOCATION_SCOPE_OBJECT <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_SYSTEM_ALLOCATION_SCOPE_CACHE <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_SYSTEM_ALLOCATION_SCOPE_DEVICE <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_SYSTEM_ALLOCATION_SCOPE_INSTANCE <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkSystemAllocationScope<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SYSTEM_ALLOCATION_SCOPE_COMMAND</code> - The allocation is scoped to
    the duration of the Vulkan command.
</p>
</li>
<li>
<p>
<code>VK_SYSTEM_ALLOCATION_SCOPE_OBJECT</code> - The allocation is scoped to
    the lifetime of the Vulkan object that is being created or used.
</p>
</li>
<li>
<p>
<code>VK_SYSTEM_ALLOCATION_SCOPE_CACHE</code> - The allocation is scoped to the
    lifetime of a <code>VkPipelineCache</code> object.
</p>
</li>
<li>
<p>
<code>VK_SYSTEM_ALLOCATION_SCOPE_DEVICE</code> - The allocation is scoped to
    the lifetime of the Vulkan device.
</p>
</li>
<li>
<p>
<code>VK_SYSTEM_ALLOCATION_SCOPE_INSTANCE</code> - The allocation is scoped to
    the lifetime of the Vulkan instance.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Most Vulkan commands operate on a single object, or there is a sole object
that is being created or manipulated.
When an allocation uses an allocation scope of
<code>VK_SYSTEM_ALLOCATION_SCOPE_OBJECT</code> or
<code>VK_SYSTEM_ALLOCATION_SCOPE_CACHE</code>, the allocation is scoped to the
object being created or manipulated.</p></div>
<div class="paragraph"><p>When an implementation requires host memory, it will make callbacks to the
application using the most specific allocator and allocation scope
available:</p></div>
<div class="ulist"><ul>
<li>
<p>
If an allocation is scoped to the duration of a command, the allocator
    will use the <code>VK_SYSTEM_ALLOCATION_SCOPE_COMMAND</code> allocation scope.
    The most specific allocator available is used: if the object being
    created or manipulated has an allocator, that object&#8217;s allocator will be
    used, else if the parent <code>VkDevice</code> has an allocator it will be
    used, else if the parent <code>VkInstance</code> has an allocator it will be
    used.
    Else,
</p>
</li>
<li>
<p>
If an allocation is associated with an object of type
    <code>VkPipelineCache</code>, the allocator will use the
    <code>VK_SYSTEM_ALLOCATION_SCOPE_CACHE</code> allocation scope.
    The most specific allocator available is used (pipeline cache, else
    device, else instance).
    Else,
</p>
</li>
<li>
<p>
If an allocation is scoped to the lifetime of an object, that object is
    being created or manipulated by the command, and that object&#8217;s type is
    not <code>VkDevice</code> or <code>VkInstance</code>, the allocator will use an
    allocation scope of <code>VK_SYSTEM_ALLOCATION_SCOPE_OBJECT</code>.
    The most specific allocator available is used (object, else device, else
    instance).
    Else,
</p>
</li>
<li>
<p>
If an allocation is scoped to the lifetime of a device, the allocator
    will use an allocation scope of ename VK_SYSTEM_ALLOCATION_SCOPE_DEVICE.
    The most specific allocator available is used (device, else instance).
    Else,
</p>
</li>
<li>
<p>
If the allocation is scoped to the lifetime of an instance and the
    instance has an allocator, its allocator will be used with an allocation
    scope of <code>VK_SYSTEM_ALLOCATION_SCOPE_INSTANCE</code>.
</p>
</li>
<li>
<p>
Otherwise an implementation will allocate memory through an alternative
    mechanism that is unspecified.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Objects that are allocated from pools do not specify their own allocator.
When an implementation requires host memory for such an object, that memory
is sourced from the object&#8217;s parent pool&#8217;s allocator.</p></div>
<div class="paragraph"><p>The application is not expected to handle allocating memory that is intended
for execution by the host due to the complexities of differing security
implementations across multiple platforms.
The implementation will allocate such memory internally and invoke an
application provided informational callback when these <em>internal
allocations</em> are allocated and freed.
Upon allocation of executable memory, <code>pfnInternalAllocation</code> will be
called.
Upon freeing executable memory, <code>pfnInternalFree</code> will be called.
An implementation will only call an informational callback for executable
memory allocations and frees.</p></div>
<div class="paragraph"><p>The <code>allocationType</code> parameter to the <code>pfnInternalAllocation</code> and
<code>pfnInternalFree</code> functions <span role="normative">may</span> be one of the following values:</p></div>
<div class="listingblock">
<a id="VkInternalAllocationType"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkInternalAllocationType <span style="color: #FF0000">{</span>
    VK_INTERNAL_ALLOCATION_TYPE_EXECUTABLE <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkInternalAllocationType<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_INTERNAL_ALLOCATION_TYPE_EXECUTABLE</code> - The allocation is
    intended for execution by the host.
</p>
</li>
</ul></div>
<div class="paragraph"><p>An implementation <span role="normative">must</span> only make calls into an application-provided
allocator during the execution of an API command.
An implementation <span role="normative">must</span> only make calls into an application-provided
allocator from the same thread that called the provoking API command.
The implementation <span role="normative">should</span> not synchronize calls to any of the callbacks.
If synchronization is needed, the callbacks <span role="normative">must</span> provide it themselves.
The informational callbacks are subject to the same restrictions as the
allocation callbacks.</p></div>
<div class="paragraph"><p>If an implementation intends to make calls through an
<code>VkAllocationCallbacks</code> structure between the time a <code>vkCreate*</code>
command returns and the time a corresponding <code>vkDestroy*</code> command
begins, that implementation <span role="normative">must</span> save a copy of the allocator before the
<code>vkCreate*</code> command returns.
The callback functions and any data structures they rely upon <span role="normative">must</span> remain
valid for the lifetime of the object they are associated with.</p></div>
<div class="paragraph"><p>If an allocator is provided to a <code>vkCreate*</code> command, a <em>compatible</em>
allocator <span role="normative">must</span> be provided to the corresponding <code>vkDestroy*</code> command.
Two <code>VkAllocationCallbacks</code> structures are compatible if memory
allocated with <code>pfnAllocation</code> or <code>pfnReallocation</code> in each <span role="normative">can</span> be
freed with <code>pfnReallocation</code> or <code>pfnFree</code> in the other.
An allocator <span role="normative">must</span> not be provided to a <code>vkDestroy*</code> command if an
allocator was not provided to the corresponding <code>vkCreate*</code> command.</p></div>
<div class="paragraph"><p>If a non-<span class="monospaced">NULL</span> allocator is used, the <code>pfnAllocation</code>,
<code>pfnReallocation</code> and <code>pfnFree</code> members <span role="normative">must</span> be non-<span class="monospaced">NULL</span> and
point to valid implementations of the callbacks.
An application <span role="normative">can</span> choose to not provide informational callbacks by setting
both <code>pfnInternalAllocation</code> and <code>pfnInternalFree</code> to <span class="monospaced">NULL</span>.
<code>pfnInternalAllocation</code> and <code>pfnInternalFree</code> <span role="normative">must</span> either both be
<span class="monospaced">NULL</span> or both be non-<span class="monospaced">NULL</span>.</p></div>
<div class="paragraph"><p>If <code>pfnAllocation</code> or <code>pfnReallocation</code> fail, the implementation
<span role="normative">may</span> fail object creation and/or generate an
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code> error, as appropriate.</p></div>
<div class="paragraph"><p>Allocation callbacks <span role="normative">must</span> not call any Vulkan commands.</p></div>
<div class="paragraph"><p>The following sets of rules define when an implementation is permitted to
call the allocator callbacks.</p></div>
<div class="paragraph"><p><code>pfnAllocation</code> or <code>pfnReallocation</code> <span role="normative">may</span> be called in the following
situations:</p></div>
<div class="ulist"><ul>
<li>
<p>
Allocations scoped to a <code>VkDevice</code> or <code>VkInstance</code> <span role="normative">may</span> be
    allocated from any API command.
</p>
</li>
<li>
<p>
Allocations scoped to a command <span role="normative">may</span> be allocated from any API command.
</p>
</li>
<li>
<p>
Allocations scoped to a <code>VkPipelineCache</code> <span role="normative">may</span> only be allocated
    from:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>vkCreatePipelineCache</code>
</p>
</li>
<li>
<p>
<code>vkMergePipelineCaches</code> for <code>dstCache</code>
</p>
</li>
<li>
<p>
<code>vkCreateGraphicsPipelines</code> for <code>pPipelineCache</code>
</p>
</li>
<li>
<p>
<code>vkCreateComputePipelines</code> for <code>pPipelineCache</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
Allocations scoped to a <code>VkDescriptorPool</code> <span role="normative">may</span> only be allocated
    from:
</p>
<div class="ulist"><ul>
<li>
<p>
any command that takes the pool as a direct argument
</p>
</li>
<li>
<p>
<code>vkAllocateDescriptorSets</code> for the <code>descriptorPool</code> member of
    its <code>pAllocateInfo</code> parameter
</p>
</li>
<li>
<p>
<code>vkCreateDescriptorPool</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
Allocations scoped to a <code>VkCommandPool</code> <span role="normative">may</span> only be allocated from:
</p>
<div class="ulist"><ul>
<li>
<p>
any command that takes the pool as a direct argument
</p>
</li>
<li>
<p>
<code>vkCreateCommandPool</code>
</p>
</li>
<li>
<p>
<code>vkAllocateCommandBuffers</code> for the <code>commandPool</code> member of its
     <code>pAllocateInfo</code> parameter
</p>
</li>
<li>
<p>
any <code>vkCmd*</code> command whose <code>commandBuffer</code> was allocated from
     that <code>VkCommandPool</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
Allocations scoped to any other object <span role="normative">may</span> only be allocated in that
    object&#8217;s <code>vkCreate*</code> command.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>pfnFree</code> <span role="normative">may</span> be called in the following situations:</p></div>
<div class="ulist"><ul>
<li>
<p>
Allocations scoped to a <code>VkDevice</code> or <code>VkInstance</code> <span role="normative">may</span> be freed
    from any API command.
</p>
</li>
<li>
<p>
Allocations scoped to a command <span role="normative">must</span> be freed by any API command which
    allocates such memory.
</p>
</li>
<li>
<p>
Allocations scoped to a <code>VkPipelineCache</code> <span role="normative">may</span> be freed from
    <code>vkDestroyPipelineCache</code>.
</p>
</li>
<li>
<p>
Allocations scoped to a <code>VkDescriptorPool</code> <span role="normative">may</span> be freed from
</p>
<div class="ulist"><ul>
<li>
<p>
any command that takes the pool as a direct argument
</p>
</li>
</ul></div>
</li>
<li>
<p>
Allocations scoped to a <code>VkCommandPool</code> <span role="normative">may</span> be freed from:
</p>
<div class="ulist"><ul>
<li>
<p>
any command that takes the pool as a direct argument
</p>
</li>
<li>
<p>
<code>vkResetCommandBuffer</code> whose <code>commandBuffer</code> was allocated from
     that <code>VkCommandPool</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
Allocations scoped to any other object <span role="normative">may</span> be freed in that object&#8217;s
    <code>vkDestroy*</code> command.
</p>
</li>
<li>
<p>
Any command that allocates host memory <span role="normative">may</span> also free host memory of the
    same scope.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="memory-device">10.2. Device Memory</h3>
<div class="paragraph"><p>Device memory is memory that is visible to the device, for example the
contents of opaque images that <span role="normative">can</span> be natively used by the device, or
uniform buffer objects that reside in on-device memory.</p></div>
<div class="paragraph"><p>Memory properties of a physical device describe the memory heaps and memory
types available.</p></div>
<div class="paragraph"><p>To query memory properties, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceMemoryProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceMemoryProperties</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    VkPhysicalDeviceMemoryProperties<span style="color: #990000">*</span>           pMemoryProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the handle to the device to query.
</p>
</li>
<li>
<p>
<code>pMemoryProperties</code> points to an instance of
    <code>VkPhysicalDeviceMemoryProperties</code> structure in which the properties
    are returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pMemoryProperties</code> <span role="normative">must</span> be a pointer to a <code>VkPhysicalDeviceMemoryProperties</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceMemoryProperties</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPhysicalDeviceMemoryProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPhysicalDeviceMemoryProperties</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>        memoryTypeCount<span style="color: #990000">;</span>
    <span style="color: #008080">VkMemoryType</span>    memoryTypes<span style="color: #990000">[</span>VK_MAX_MEMORY_TYPES<span style="color: #990000">];</span>
    <span style="color: #008080">uint32_t</span>        memoryHeapCount<span style="color: #990000">;</span>
    <span style="color: #008080">VkMemoryHeap</span>    memoryHeaps<span style="color: #990000">[</span>VK_MAX_MEMORY_HEAPS<span style="color: #990000">];</span>
<span style="color: #FF0000">}</span> VkPhysicalDeviceMemoryProperties<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>memoryTypeCount</code> is the number of valid elements in the
    <code>memoryTypes</code> array.
</p>
</li>
<li>
<p>
<code>memoryTypes</code> is an array of <code><a href="#VkMemoryType">VkMemoryType</a></code> structures
    describing the <em>memory types</em> that <span role="normative">can</span> be used to access memory
    allocated from the heaps specified by <code>memoryHeaps</code>.
</p>
</li>
<li>
<p>
<code>memoryHeapCount</code> is the number of valid elements in the
    <code>memoryHeaps</code> array.
</p>
</li>
<li>
<p>
<code>memoryHeaps</code> is an array of <code><a href="#VkMemoryHeap">VkMemoryHeap</a></code> structures
    describing the <em>memory heaps</em> from which memory <span role="normative">can</span> be allocated.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceMemoryProperties</code> structure describes a number of
<em>memory heaps</em> as well as a number of <em>memory types</em> that <span role="normative">can</span> be used to
access memory allocated in those heaps.
Each heap describes a memory resource of a particular size, and each memory
type describes a set of memory properties (e.g. host cached vs uncached)
that <span role="normative">can</span> be used with a given memory heap.
Allocations using a particular memory type will consume resources from the
heap indicated by that memory type&#8217;s heap index.
More than one memory type <span role="normative">may</span> share each heap, and the heaps and memory
types provide a mechanism to advertise an accurate size of the physical
memory resources while allowing the memory to be used with a variety of
different properties.</p></div>
<div class="paragraph"><p>The number of memory heaps is given by <code>memoryHeapCount</code> and is less
than or equal to <code>VK_MAX_MEMORY_HEAPS</code>.
Each heap is described by an element of the <code>memoryHeaps</code> array, as a
<code>VkMemoryHeap</code> structure.
The number of memory types available across all memory heaps is given by
<code>memoryTypeCount</code> and is less than or equal to
<code>VK_MAX_MEMORY_TYPES</code>.
Each memory type is described by an element of the <code>memoryTypes</code> array,
as a <code>VkMemoryType</code> structure.</p></div>
<div class="paragraph"><p>At least one heap <span role="normative">must</span> include <code>VK_MEMORY_HEAP_DEVICE_LOCAL_BIT</code> in
<code><a href="#VkMemoryHeap">VkMemoryHeap</a></code>::<code>flags</code>.
If there are multiple heaps that all have similar performance
characteristics, they <span role="normative">may</span> all include
<code>VK_MEMORY_HEAP_DEVICE_LOCAL_BIT</code>.
In a unified memory architecture (UMA) system, there is often only a single
memory heap which is considered to be equally &#8220;local&#8221; to the host and to
the device, and such an implementation <span role="normative">must</span> advertise the heap as
device-local.</p></div>
<div class="paragraph"><p>Each memory type returned by <code><a href="#vkGetPhysicalDeviceMemoryProperties">vkGetPhysicalDeviceMemoryProperties</a></code> <span role="normative">must</span>
have its <code>propertyFlags</code> set to one of the following values:</p></div>
<div class="ulist"><ul>
<li>
<p>
0
</p>
</li>
<li>
<p>
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |
    <code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |
    <code>VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |
    <code>VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code> |
    <code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> |
    <code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |
    <code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> |
    <code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |
    <code>VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> |
    <code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |
    <code>VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code> |
    <code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> |
    <code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>There <span role="normative">must</span> be at least one memory type with both the
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> and
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> bits set in its
<code>propertyFlags</code>.
There <span role="normative">must</span> be at least one memory type with the
<code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> bit set in its
<code>propertyFlags</code>.</p></div>
<div class="paragraph"><p>The memory types are sorted according to a preorder which serves to aid in
easily selecting an appropriate memory type.
Given two memory types X and Y, the preorder defines <span class="eq">X &#x2264; Y</span> if:</p></div>
<div class="ulist"><ul>
<li>
<p>
the memory property bits set for X are a strict subset of the memory
    property bits set for Y.
    Or,
</p>
</li>
<li>
<p>
the memory property bits set for X are the same as the memory property
    bits set for Y, and X uses a memory heap with greater or equal
    performance (as determined in an implementation-specific manner).
</p>
</li>
</ul></div>
<div class="paragraph"><p>Memory types are ordered in the list such that X is assigned a lesser
<code>memoryTypeIndex</code> than Y if <span class="eq">(X &#x2264; Y) &#x2227; &#x00ac; (Y &#x2264; X)</span>
according to the preorder.
Note that the list of all allowed memory property flag combinations above
satisfies this preorder, but other orders would as well.
The goal of this ordering is to enable applications to use a simple search
loop in selecting the proper memory type, along the lines of:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// Find a memory type in "memoryTypeBits" that includes all of "properties"</span></span>
<span style="color: #008080">int32_t</span> <span style="font-weight: bold"><span style="color: #000000">FindProperties</span></span><span style="color: #990000">(</span><span style="color: #008080">uint32_t</span> memoryTypeBits<span style="color: #990000">,</span> <span style="color: #008080">VkMemoryPropertyFlags</span> properties<span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">int32_t</span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> memoryTypeCount<span style="color: #990000">;</span> <span style="color: #990000">++</span>i<span style="color: #990000">)</span>
    <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">((</span>memoryTypeBits <span style="color: #990000">&amp;</span> <span style="color: #990000">(</span><span style="color: #993399">1</span> <span style="color: #990000">&lt;&lt;</span> i<span style="color: #990000">))</span> <span style="color: #990000">&amp;&amp;</span>
            <span style="color: #990000">((</span>memoryTypes<span style="color: #990000">[</span>i<span style="color: #990000">].</span>propertyFlags <span style="color: #990000">&amp;</span> properties<span style="color: #990000">)</span> <span style="color: #990000">==</span> properties<span style="color: #990000">))</span>
            <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> i<span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">-</span><span style="color: #993399">1</span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">// Try to find an optimal memory type, or if it does not exist</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// find any compatible memory type</span></span>
<span style="color: #008080">VkMemoryRequirements</span> memoryRequirements<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000000">vkGetImageMemoryRequirements</span></span><span style="color: #990000">(</span>device<span style="color: #990000">,</span> image<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>memoryRequirements<span style="color: #990000">);</span>
<span style="color: #008080">int32_t</span> memoryType <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">FindProperties</span></span><span style="color: #990000">(</span>memoryRequirements<span style="color: #990000">.</span>memoryTypeBits<span style="color: #990000">,</span> optimalProperties<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>memoryType <span style="color: #990000">==</span> <span style="color: #990000">-</span><span style="color: #993399">1</span><span style="color: #990000">)</span>
    memoryType <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">FindProperties</span></span><span style="color: #990000">(</span>memoryRequirements<span style="color: #990000">.</span>memoryTypeBits<span style="color: #990000">,</span> requiredProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>The loop will find the first supported memory type that has all bits
requested in <code>properties</code> set.
If there is no exact match, it will find a closest match (i.e. a memory type
with the fewest additional bits set), which has some additional bits set but
which are not detrimental to the behaviors requested by <code>properties</code>.
The application <span role="normative">can</span> first search for the optimal properties, e.g. a memory
type that is device-local or supports coherent cached accesses, as
appropriate for the intended usage, and if such a memory type is not present
<span role="normative">can</span> fallback to searching for a less optimal but guaranteed set of
properties such as "0" or "host-visible and coherent".</p></div>
<div class="paragraph"><p>To query memory properties, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceMemoryProperties2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceMemoryProperties2KHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    VkPhysicalDeviceMemoryProperties2KHR<span style="color: #990000">*</span>       pMemoryProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the handle to the device to query.
</p>
</li>
<li>
<p>
<code>pMemoryProperties</code> points to an instance of
    <code>VkPhysicalDeviceMemoryProperties2KHR</code> structure in which the
    properties are returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkGetPhysicalDeviceMemoryProperties2KHR</code> behaves similarly to
<code><a href="#vkGetPhysicalDeviceMemoryProperties">vkGetPhysicalDeviceMemoryProperties</a></code>, with the ability to return
extended information via chained output structures.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pMemoryProperties</code> <span role="normative">must</span> be a pointer to a <code>VkPhysicalDeviceMemoryProperties2KHR</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceMemoryProperties2KHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPhysicalDeviceMemoryProperties2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPhysicalDeviceMemoryProperties2KHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                     sType<span style="color: #990000">;</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                               pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPhysicalDeviceMemoryProperties</span>    memoryProperties<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPhysicalDeviceMemoryProperties2KHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>memoryProperties</code> is a structure of type
    <code><a href="#VkPhysicalDeviceMemoryProperties">VkPhysicalDeviceMemoryProperties</a></code> which is populated with the same
    values as in <code><a href="#vkGetPhysicalDeviceMemoryProperties">vkGetPhysicalDeviceMemoryProperties</a></code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <code>VkMemoryHeap</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkMemoryHeap"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkMemoryHeap</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkDeviceSize</span>         size<span style="color: #990000">;</span>
    <span style="color: #008080">VkMemoryHeapFlags</span>    flags<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkMemoryHeap<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>size</code> is the total memory size in bytes in the heap.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask of attribute flags for the heap.
    The bits specified in <code>flags</code> are:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkMemoryHeapFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkMemoryHeapFlagBits <span style="color: #FF0000">{</span>
    VK_MEMORY_HEAP_DEVICE_LOCAL_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkMemoryHeapFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="ulist"><ul>
<li>
<p>
if <code>flags</code> contains <code>VK_MEMORY_HEAP_DEVICE_LOCAL_BIT</code>, it means
     the heap corresponds to device local memory.
     Device local memory <span role="normative">may</span> have different performance characteristics
     than host local memory, and <span role="normative">may</span> support different memory property
     flags.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>The <code>VkMemoryType</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkMemoryType"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkMemoryType</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkMemoryPropertyFlags</span>    propertyFlags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                 heapIndex<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkMemoryType<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>heapIndex</code> describes which memory heap this memory type corresponds
    to, and <span role="normative">must</span> be less than <code>memoryHeapCount</code> from the
    <code>VkPhysicalDeviceMemoryProperties</code> structure.
</p>
</li>
<li>
<p>
<code>propertyFlags</code> is a bitmask of properties for this memory type.
    The bits specified in <code>propertyFlags</code> are:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkMemoryPropertyFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkMemoryPropertyFlagBits <span style="color: #FF0000">{</span>
    VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_MEMORY_PROPERTY_HOST_COHERENT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_MEMORY_PROPERTY_HOST_CACHED_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
    VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000010</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkMemoryPropertyFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="ulist"><ul>
<li>
<p>
if <code>propertyFlags</code> has the
     <code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> bit set, memory allocated
     with this type is the most efficient for device access.
     This property will only be set for memory types belonging to heaps with
     the <code>VK_MEMORY_HEAP_DEVICE_LOCAL_BIT</code> set.
</p>
</li>
<li>
<p>
if <code>propertyFlags</code> has the
     <code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> bit set, memory allocated
     with this type <span role="normative">can</span> be mapped for host access using <code><a href="#vkMapMemory">vkMapMemory</a></code>.
</p>
</li>
<li>
<p>
if <code>propertyFlags</code> has the
     <code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> bit set, host cache
     management commands <code>vkFlushMappedMemoryRanges</code> and
     <code>vkInvalidateMappedMemoryRanges</code> are not needed to make host writes
     visible to the device or device writes visible to the host,
     respectively.
</p>
</li>
<li>
<p>
if <code>propertyFlags</code> has the <code>VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code>
     bit set, memory allocated with this type is cached on the host.
     Host memory accesses to uncached memory are slower than to cached
     memory, however uncached memory is always host coherent.
</p>
</li>
<li>
<p>
if <code>propertyFlags</code> has the
     <code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set, the memory type
     only allows device access to the memory.
     Memory types <span role="normative">must</span> not have both
     <code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> and
     <code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> set.
     Additionally, the object&#8217;s backing memory <span role="normative">may</span> be provided by the
     implementation lazily as specified in <a href="#memory-device-lazy_allocation">Lazily Allocated Memory</a>.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>A Vulkan device operates on data in device memory via memory objects that
are represented in the API by a <code>VkDeviceMemory</code> handle.</p></div>
<div class="paragraph"><p>Memory objects are represented by <code>VkDeviceMemory</code> handles:</p></div>
<div class="listingblock">
<a id="VkDeviceMemory"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkDeviceMemory<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To allocate memory objects, call:</p></div>
<div class="listingblock">
<a id="vkAllocateMemory"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkAllocateMemory</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkMemoryAllocateInfo<span style="color: #990000">*</span>                 pAllocateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkDeviceMemory<span style="color: #990000">*</span>                             pMemory<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the memory.
</p>
</li>
<li>
<p>
<code>pAllocateInfo</code> is a pointer to an instance of the
    <code><a href="#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a></code> structure describing parameters of the
    allocation.
    A successful returned allocation <span role="normative">must</span> use the requested parameters&#8201;&#8212;&#8201;    no substitution is permitted by the implementation.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pMemory</code> is a pointer to a <code>VkDeviceMemory</code> handle in which
    information about the allocated memory is returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Allocations returned by <code>vkAllocateMemory</code> are guaranteed to meet any
alignment requirement by the implementation.
For example, if an implementation requires 128 byte alignment for images and
64 byte alignment for buffers, the device memory returned through this
mechanism would be 128-byte aligned.
This ensures that applications <span role="normative">can</span> correctly suballocate objects of
different types (with potentially different alignment requirements) in the
same memory object.</p></div>
<div class="paragraph"><p>When memory is allocated, its contents are undefined.</p></div>
<div class="paragraph"><p>There is an implementation-dependent maximum number of memory allocations
which <span role="normative">can</span> be simultaneously created on a device.
This is specified by the
<a href="#features-limits-maxMemoryAllocationCount"><code>maxMemoryAllocationCount</code></a>
member of the <code>VkPhysicalDeviceLimits</code> structure.
If <code>maxMemoryAllocationCount</code> is exceeded, <code>vkAllocateMemory</code> will
return <code>VK_ERROR_TOO_MANY_OBJECTS</code>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Some platforms <span role="normative">may</span> have a limit on the maximum size of a single allocation.
For example, certain systems <span role="normative">may</span> fail to create allocations with a size
greater than or equal to 4GB.
Such a limit is implementation-dependent, and if such a failure occurs then
the error <code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code> <span role="normative">should</span> be returned.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The number of currently valid memory objects, allocated from
    <code>device</code>, <span role="normative">must</span> be less than
    <code>VkPhysicalDeviceLimits</code>::<code>maxMemoryAllocationCount</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pAllocateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkMemoryAllocateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pMemory</code> <span role="normative">must</span> be a pointer to a <code>VkDeviceMemory</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_TOO_MANY_OBJECTS</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkMemoryAllocateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkMemoryAllocateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkMemoryAllocateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>    sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>        pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>       allocationSize<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>           memoryTypeIndex<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkMemoryAllocateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>allocationSize</code> is the size of the allocation in bytes
</p>
</li>
<li>
<p>
<code>memoryTypeIndex</code> is the memory type index, which selects the
    properties of the memory to be allocated, as well as the heap the memory
    will come from.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>allocationSize</code> <span role="normative">must</span> be less than or equal to the amount of memory
    available to the <code>VkMemoryHeap</code> specified by <code>memoryTypeIndex</code>
    and the calling command&#8217;s <code>VkDevice</code>
</p>
</li>
<li>
<p>
<code>allocationSize</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To free a memory object, call:</p></div>
<div class="listingblock">
<a id="vkFreeMemory"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkFreeMemory</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceMemory</span>                              memory<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the memory.
</p>
</li>
<li>
<p>
<code>memory</code> is the <code>VkDeviceMemory</code> object to be freed.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Before freeing a memory object, an application <span role="normative">must</span> ensure the memory
object is no longer in use by the device&#8212;for example by command buffers
queued for execution.
The memory <span role="normative">can</span> remain bound to images or buffers at the time the memory
object is freed, but any further use of them (on host or device) for
anything other than destroying those objects will result in undefined
behavior.
If there are still any bound images or buffers, the memory <span role="normative">may</span> not be
immediately released by the implementation, but <span role="normative">must</span> be released by the
time all bound images and buffers have been destroyed.
Once memory is released, it is returned to the heap from which it was
allocated.</p></div>
<div class="paragraph"><p>How memory objects are bound to Images and Buffers is described in detail in
the <a href="#resources-association">Resource Memory Association</a> section.</p></div>
<div class="paragraph"><p>If a memory object is mapped at the time it is freed, it is implicitly
unmapped.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted commands that refer to <code>memory</code> (via images or
    buffers) <span role="normative">must</span> have completed execution
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>memory</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>memory</code> <span role="normative">must</span> be a valid <code>VkDeviceMemory</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>memory</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>memory</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sect3">
<h4 id="memory-device-hostaccess">10.2.1. Host Access to Device Memory Objects</h4>
<div class="paragraph"><p>Memory objects created with <code>vkAllocateMemory</code> are not directly host
accessible.</p></div>
<div class="paragraph"><p>Memory objects created with the memory property
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> are considered <em>mappable</em>.
Memory objects <span role="normative">must</span> be mappable in order to be successfully mapped on the
host.</p></div>
<div class="paragraph"><p>To retrieve a host virtual address pointer to a region of a mappable memory
object, call:</p></div>
<div class="listingblock">
<a id="vkMapMemory"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkMapMemory</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceMemory</span>                              memory<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                offset<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                size<span style="color: #990000">,</span>
    <span style="color: #008080">VkMemoryMapFlags</span>                            flags<span style="color: #990000">,</span>
    <span style="color: #009900">void</span><span style="color: #990000">**</span>                                      ppData<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the memory.
</p>
</li>
<li>
<p>
<code>memory</code> is the <code>VkDeviceMemory</code> object to be mapped.
</p>
</li>
<li>
<p>
<code>offset</code> is a zero-based byte offset from the beginning of the
    memory object.
</p>
</li>
<li>
<p>
<code>size</code> is the size of the memory range to map, or
    <code>VK_WHOLE_SIZE</code> to map from <code>offset</code> to the end of the
    allocation.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>ppData</code> points to a pointer in which is returned a host-accessible
    pointer to the beginning of the mapped range.
    This pointer minus <code>offset</code> <span role="normative">must</span> be aligned to at least
    <code>VkPhysicalDeviceLimits</code>::<code>minMemoryMapAlignment</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is an application error to call <code>vkMapMemory</code> on a memory object that
is already mapped.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p><code>vkMapMemory</code> will fail if the implementation is unable to allocate an
appropriately sized contiguous virtual address range, e.g. due to virtual
address space fragmentation or platform limits.
In such cases, <code>vkMapMemory</code> <span role="normative">must</span> return VK_ERROR_MEMORY_MAP_FAILED.
The application <span role="normative">can</span> improve the likelihood of success by reducing the size
of the mapped range and/or removing unneeded mappings using
<code>VkUnmapMemory</code>.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph" id="memory-device-hostaccess-hazards"><p><code>vkMapMemory</code> does not check whether the device memory is currently in
use before returning the host-accessible pointer.
The application <span role="normative">must</span> guarantee that any previously submitted command that
writes to this range has completed before the host reads from or writes to
that range, and that any previously submitted command that reads from that
range has completed before the host writes to that region (see
<a href="#synchronization-submission-host-writes">here</a> for details on fulfilling
such a guarantee).
If the device memory was allocated without the
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> set, these guarantees <span role="normative">must</span> be
made for an extended range: the application <span role="normative">must</span> round down the start of
the range to the nearest multiple of
<code>VkPhysicalDeviceLimits</code>::<code>nonCoherentAtomSize</code>, and round the end
of the range up to the nearest multiple of
<code>VkPhysicalDeviceLimits</code>::<code>nonCoherentAtomSize</code>.</p></div>
<div class="paragraph"><p>While a range of device memory is mapped for host access, the application is
responsible for synchronizing both device and host access to that memory
range.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>It is important for the application developer to become meticulously
familiar with all of the mechanisms described in the chapter on
<a href="#synchronization">Synchronization and Cache Control</a> as they are crucial
to maintaining memory access ordering.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>memory</code> <span role="normative">must</span> not currently be mapped
</p>
</li>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be less than the size of <code>memory</code>
</p>
</li>
<li>
<p>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <span role="normative">must</span> be
    greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <span role="normative">must</span> be
    less than or equal to the size of the <code>memory</code> minus <code>offset</code>
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> have been created with a memory type that reports
    <code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> be a valid <code>VkDeviceMemory</code> handle
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>ppData</code> <span role="normative">must</span> be a pointer to a pointer
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>memory</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_MEMORY_MAP_FAILED</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>Two commands are provided to enable applications to work with non-coherent
memory allocations: <code>vkFlushMappedMemoryRanges</code> and
<code>vkInvalidateMappedMemoryRanges</code>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>If the memory object was created with the
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> set,
<code>vkFlushMappedMemoryRanges</code> and <code>vkInvalidateMappedMemoryRanges</code> are
unnecessary and <span role="normative">may</span> have performance cost.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>To flush ranges of non-coherent memory from the host caches, call:</p></div>
<div class="listingblock">
<a id="vkFlushMappedMemoryRanges"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkFlushMappedMemoryRanges</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    memoryRangeCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkMappedMemoryRange<span style="color: #990000">*</span>                  pMemoryRanges<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the memory ranges.
</p>
</li>
<li>
<p>
<code>memoryRangeCount</code> is the length of the <code>pMemoryRanges</code> array.
</p>
</li>
<li>
<p>
<code>pMemoryRanges</code> is a pointer to an array of
    <code><a href="#VkMappedMemoryRange">VkMappedMemoryRange</a></code> structures describing the memory ranges to
    flush.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkFlushMappedMemoryRanges</code> <span role="normative">must</span> be used to guarantee that host writes
to non-coherent memory are visible to the device.
It <span role="normative">must</span> be called after the host writes to non-coherent memory have
completed and before command buffers that will read or write any of those
memory locations are submitted to a queue.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Unmapping non-coherent memory does not implicitly flush the mapped memory,
and host writes that have not been flushed <span role="normative">may</span> not ever be visible to the
device.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pMemoryRanges</code> <span role="normative">must</span> be a pointer to an array of <code>memoryRangeCount</code> valid <code>VkMappedMemoryRange</code> structures
</p>
</li>
<li>
<p>
<code>memoryRangeCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>To invalidate ranges of non-coherent memory from the host caches, call:</p></div>
<div class="listingblock">
<a id="vkInvalidateMappedMemoryRanges"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkInvalidateMappedMemoryRanges</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    memoryRangeCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkMappedMemoryRange<span style="color: #990000">*</span>                  pMemoryRanges<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the memory ranges.
</p>
</li>
<li>
<p>
<code>memoryRangeCount</code> is the length of the <code>pMemoryRanges</code> array.
</p>
</li>
<li>
<p>
<code>pMemoryRanges</code> is a pointer to an array of
    <code><a href="#VkMappedMemoryRange">VkMappedMemoryRange</a></code> structures describing the memory ranges to
    invalidate.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkInvalidateMappedMemoryRanges</code> <span role="normative">must</span> be used to guarantee that device
writes to non-coherent memory are visible to the host.
It <span role="normative">must</span> be called after command buffers that execute and flush (via memory
barriers) the device writes have completed, and before the host will read or
write any of those locations.
If a range of non-coherent memory is written by the host and then
invalidated without first being flushed, its contents are undefined.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Mapping non-coherent memory does not implicitly invalidate the mapped
memory, and device writes that have not been invalidated <span role="normative">must</span> be made
visible before the host reads or overwrites them.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pMemoryRanges</code> <span role="normative">must</span> be a pointer to an array of <code>memoryRangeCount</code> valid <code>VkMappedMemoryRange</code> structures
</p>
</li>
<li>
<p>
<code>memoryRangeCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkMappedMemoryRange</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkMappedMemoryRange"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkMappedMemoryRange</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>    sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>        pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceMemory</span>     memory<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>       offset<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>       size<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkMappedMemoryRange<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>memory</code> is the memory object to which this range belongs.
</p>
</li>
<li>
<p>
<code>offset</code> is the zero-based byte offset from the beginning of the
    memory object.
</p>
</li>
<li>
<p>
<code>size</code> is either the size of range, or <code>VK_WHOLE_SIZE</code> to affect
    the range from <code>offset</code> to the end of the current mapping of the
    allocation.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>memory</code> <span role="normative">must</span> currently be mapped
</p>
</li>
<li>
<p>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>offset</code> and
    <code>size</code> <span role="normative">must</span> specify a range contained within the currently mapped
    range of <code>memory</code>
</p>
</li>
<li>
<p>
If <code>size</code> is equal to <code>VK_WHOLE_SIZE</code>, <code>offset</code> <span role="normative">must</span> be
    within the currently mapped range of <code>memory</code>
</p>
</li>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be a multiple of
    <code>VkPhysicalDeviceLimits</code>::<code>nonCoherentAtomSize</code>
</p>
</li>
<li>
<p>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <span role="normative">must</span> be a
    multiple of <code>VkPhysicalDeviceLimits</code>::<code>nonCoherentAtomSize</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_MAPPED_MEMORY_RANGE</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> be a valid <code>VkDeviceMemory</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Host-visible memory types that advertise the
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> property still require
<a href="#synchronization-pipeline-barriers">memory barriers</a> between host and
device in order to be coherent, but do not require additional cache
management operations to achieve coherency.
For host writes to be seen by subsequent command buffer operations, a
pipeline barrier from a source of <code>VK_ACCESS_HOST_WRITE_BIT</code> and
<code>VK_PIPELINE_STAGE_HOST_BIT</code> to a destination of the relevant device
<a href="#synchronization-pipeline-stages">pipeline stages</a> and
<a href="#synchronization-access-types">access types</a> <span role="normative">must</span> be performed.
Note that such a barrier is performed
<a href="#synchronization-submission-host-writes">implicitly</a> upon each command
buffer submission, so an explicit barrier is only rarely needed (e.g. if a
command buffer waits upon an event signaled by the host, where the host
wrote some data after submission).
A pipeline barrier is <span role="normative">required</span> to make writes visible to subsequent reads
on the host.</p></div>
<div class="paragraph"><p>To unmap a memory object once host access to it is no longer needed by the
application, call:</p></div>
<div class="listingblock">
<a id="vkUnmapMemory"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkUnmapMemory</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceMemory</span>                              memory<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the memory.
</p>
</li>
<li>
<p>
<code>memory</code> is the memory object to be unmapped.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>memory</code> <span role="normative">must</span> currently be mapped
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> be a valid <code>VkDeviceMemory</code> handle
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>memory</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect3">
<h4 id="memory-device-lazy_allocation">10.2.2. Lazily Allocated Memory</h4>
<div class="paragraph"><p>If the memory object is allocated from a heap with the
<code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set, that object&#8217;s backing
memory <span role="normative">may</span> be provided by the implementation lazily.
The actual committed size of the memory <span role="normative">may</span> initially be as small as zero
(or as large as the requested size), and monotonically increases as
additional memory is needed.</p></div>
<div class="paragraph"><p>A memory type with this flag set is only allowed to be bound to a
<code>VkImage</code> whose usage flags include
<code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Using lazily allocated memory objects for framebuffer attachments that are
not needed once a render pass instance has completed <span role="normative">may</span> allow some
implementations to never allocate memory for such attachments.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>To determine the amount of lazily-allocated memory that is currently
committed for a memory object, call:</p></div>
<div class="listingblock">
<a id="vkGetDeviceMemoryCommitment"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetDeviceMemoryCommitment</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceMemory</span>                              memory<span style="color: #990000">,</span>
    VkDeviceSize<span style="color: #990000">*</span>                               pCommittedMemoryInBytes<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the memory.
</p>
</li>
<li>
<p>
<code>memory</code> is the memory object being queried.
</p>
</li>
<li>
<p>
<code>pCommittedMemoryInBytes</code> is a pointer to a <code>VkDeviceSize</code>
    value in which the number of bytes currently committed is returned, on
    success.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The implementation <span role="normative">may</span> update the commitment at any time, and the value
returned by this query <span role="normative">may</span> be out of date.</p></div>
<div class="paragraph"><p>The implementation guarantees to allocate any committed memory from the
heapIndex indicated by the memory type that the memory object was created
with.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>memory</code> <span role="normative">must</span> have been created with a memory type that reports
    <code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> be a valid <code>VkDeviceMemory</code> handle
</p>
</li>
<li>
<p>
<code>pCommittedMemoryInBytes</code> <span role="normative">must</span> be a pointer to a <code>VkDeviceSize</code> value
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="resources">11. Resource Creation</h2>
<div class="sectionbody">
<div class="paragraph"><p>Vulkan supports two primary resource types: <em>buffers</em> and <em>images</em>.
Resources are views of memory with associated formatting and dimensionality.
Buffers are essentially unformatted arrays of bytes whereas images contain
format information, <span role="normative">can</span> be multidimensional and <span role="normative">may</span> have associated
metadata.</p></div>
<div class="sect2">
<h3 id="resources-buffers">11.1. Buffers</h3>
<div class="paragraph"><p>Buffers represent linear arrays of data which are used for various purposes
by binding them to a graphics or compute pipeline via descriptor sets or via
certain commands, or by directly specifying them as parameters to certain
commands.</p></div>
<div class="paragraph"><p>Buffers are represented by <code>VkBuffer</code> handles:</p></div>
<div class="listingblock">
<a id="VkBuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkBuffer<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create buffers, call:</p></div>
<div class="listingblock">
<a id="vkCreateBuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateBuffer</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkBufferCreateInfo<span style="color: #990000">*</span>                   pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkBuffer<span style="color: #990000">*</span>                                   pBuffer<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the buffer object.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code>VkBufferCreateInfo</code> structure containing parameters affecting
    creation of the buffer.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pBuffer</code> points to a <code>VkBuffer</code> handle in which the resulting
    buffer object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <code>flags</code> member of <code>pCreateInfo</code> includes
    <code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code>, creating this <code>VkBuffer</code>
    <span role="normative">must</span> not cause the total required sparse memory for all currently valid
    sparse resources on the device to exceed
    <code>VkPhysicalDeviceLimits</code>::<code>sparseAddressSpaceSize</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkBufferCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pBuffer</code> <span role="normative">must</span> be a pointer to a <code>VkBuffer</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkBufferCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkBufferCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkBufferCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>        sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>            pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkBufferCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>           size<span style="color: #990000">;</span>
    <span style="color: #008080">VkBufferUsageFlags</span>     usage<span style="color: #990000">;</span>
    <span style="color: #008080">VkSharingMode</span>          sharingMode<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>               queueFamilyIndexCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> uint32_t<span style="color: #990000">*</span>        pQueueFamilyIndices<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkBufferCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask describing additional parameters of the buffer.
    See <code><a href="#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a></code> below for a description of the
    supported bits.
</p>
</li>
<li>
<p>
<code>size</code> is the size in bytes of the buffer to be created.
</p>
</li>
<li>
<p>
<code>usage</code> is a bitmask describing the allowed usages of the buffer.
    See <code><a href="#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a></code> below for a description of the supported
    bits.
</p>
</li>
<li>
<p>
<code>sharingMode</code> is the sharing mode of the buffer when it will be
    accessed by multiple queue families, see <code><a href="#VkSharingMode">VkSharingMode</a></code> in the
    <a href="#resources-sharing">Resource Sharing</a> section below for supported
    values.
</p>
</li>
<li>
<p>
<code>queueFamilyIndexCount</code> is the number of entries in the
    <code>pQueueFamilyIndices</code> array.
</p>
</li>
<li>
<p>
<code>pQueueFamilyIndices</code> is a list of queue families that will access
    this buffer (ignored if <code>sharingMode</code> is not
    <code>VK_SHARING_MODE_CONCURRENT</code>).
</p>
</li>
</ul></div>
<div class="paragraph"><p>Bits which <span role="normative">can</span> be set in <code>usage</code> are:</p></div>
<div class="listingblock">
<a id="VkBufferUsageFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkBufferUsageFlagBits <span style="color: #FF0000">{</span>
    VK_BUFFER_USAGE_TRANSFER_SRC_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_BUFFER_USAGE_TRANSFER_DST_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
    VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000010</span><span style="color: #990000">,</span>
    VK_BUFFER_USAGE_STORAGE_BUFFER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000020</span><span style="color: #990000">,</span>
    VK_BUFFER_USAGE_INDEX_BUFFER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000040</span><span style="color: #990000">,</span>
    VK_BUFFER_USAGE_VERTEX_BUFFER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000080</span><span style="color: #990000">,</span>
    VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000100</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkBufferUsageFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_BUFFER_USAGE_TRANSFER_SRC_BIT</code> indicates that the buffer <span role="normative">can</span> be
    used as the source of a <em>transfer command</em> (see the definition of
    <a href="#synchronization-pipeline-stages-transfer"><code>VK_PIPELINE_STAGE_TRANSFER_BIT</code></a>).
</p>
</li>
<li>
<p>
<code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> indicates that the buffer <span role="normative">can</span> be
    used as the destination of a transfer command.
</p>
</li>
<li>
<p>
<code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> indicates that the buffer
    <span role="normative">can</span> be used to create a <code>VkBufferView</code> suitable for occupying a
    <code>VkDescriptorSet</code> slot of type
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>.
</p>
</li>
<li>
<p>
<code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code> indicates that the buffer
    <span role="normative">can</span> be used to create a <code>VkBufferView</code> suitable for occupying a
    <code>VkDescriptorSet</code> slot of type
    <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>.
</p>
</li>
<li>
<p>
<code>VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</code> indicates that the buffer <span role="normative">can</span>
    be used in a <code>VkDescriptorBufferInfo</code> suitable for occupying a
    <code>VkDescriptorSet</code> slot either of type
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>.
</p>
</li>
<li>
<p>
<code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code> indicates that the buffer <span role="normative">can</span>
    be used in a <code>VkDescriptorBufferInfo</code> suitable for occupying a
    <code>VkDescriptorSet</code> slot either of type
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>.
</p>
</li>
<li>
<p>
<code>VK_BUFFER_USAGE_INDEX_BUFFER_BIT</code> indicates that the buffer is
    suitable for passing as the <code>buffer</code> parameter to
    <code>vkCmdBindIndexBuffer</code>.
</p>
</li>
<li>
<p>
<code>VK_BUFFER_USAGE_VERTEX_BUFFER_BIT</code> indicates that the buffer is
    suitable for passing as an element of the <code>pBuffers</code> array to
    <code>vkCmdBindVertexBuffers</code>.
</p>
</li>
<li>
<p>
<code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> indicates that the buffer is
    suitable for passing as the <code>buffer</code> parameter to
    <code>vkCmdDrawIndirect</code>, <code>vkCmdDrawIndexedIndirect</code>, or
    <code>vkCmdDispatchIndirect</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Any combination of bits <span role="normative">can</span> be specified for <code>usage</code>, but at least one
of the bits <span role="normative">must</span> be set in order to create a valid buffer.</p></div>
<div class="paragraph"><p>Bits which <span role="normative">can</span> be set in <code>flags</code> are:</p></div>
<div class="listingblock">
<a id="VkBufferCreateFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkBufferCreateFlagBits <span style="color: #FF0000">{</span>
    VK_BUFFER_CREATE_SPARSE_BINDING_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_BUFFER_CREATE_SPARSE_ALIASED_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkBufferCreateFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>These bits have the following meanings:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> indicates that the buffer will
    be backed using sparse memory binding.
</p>
</li>
<li>
<p>
<code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> indicates that the buffer
    <span role="normative">can</span> be partially backed using sparse memory binding.
    Buffers created with this flag <span role="normative">must</span> also be created with the
    <code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> flag.
</p>
</li>
<li>
<p>
<code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code> indicates that the buffer will
    be backed using sparse memory binding with memory ranges that might also
    simultaneously be backing another buffer (or another portion of the same
    buffer).
    Buffers created with this flag <span role="normative">must</span> also be created with the
    <code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> flag.
</p>
</li>
</ul></div>
<div class="paragraph"><p>See <a href="#sparsememory-sparseresourcefeatures">Sparse Resource Features</a> and
<a href="#features-features">Physical Device Features</a> for details of the sparse
memory features supported on a device.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>size</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
    <code>pQueueFamilyIndices</code> <span role="normative">must</span> be a pointer to an array of
    <code>queueFamilyIndexCount</code> <code>uint32_t</code> values
</p>
</li>
<li>
<p>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
    <code>queueFamilyIndexCount</code> <span role="normative">must</span> be greater than <span class="monospaced">1</span>
</p>
</li>
<li>
<p>
If the <a href="#features-features-sparseBinding">sparse bindings</a> feature is
    not enabled, <code>flags</code> <span role="normative">must</span> not contain
    <code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-sparseResidencyBuffer">sparse buffer     residency</a> feature is not enabled, <code>flags</code> <span role="normative">must</span> not contain
    <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-sparseResidencyAliased">sparse aliased     residency</a> feature is not enabled, <code>flags</code> <span role="normative">must</span> not contain
    <code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code>
</p>
</li>
<li>
<p>
If <code>flags</code> contains <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> or
    <code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code>, it <span role="normative">must</span> also contain
    <code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>usage</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>usage</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>sharingMode</code> <span role="normative">must</span> be a valid <code><a href="#VkSharingMode">VkSharingMode</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To destroy a buffer, call:</p></div>
<div class="listingblock">
<a id="vkDestroyBuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyBuffer</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    buffer<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the buffer.
</p>
</li>
<li>
<p>
<code>buffer</code> is the buffer to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted commands that refer to <code>buffer</code>, either directly or
    via a <code>VkBufferView</code>, <span role="normative">must</span> have completed execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>buffer</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>buffer</code> was
    created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>buffer</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>buffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>buffer</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>buffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="resources-buffer-views">11.2. Buffer Views</h3>
<div class="paragraph"><p>A <em>buffer view</em> represents a contiguous range of a buffer and a specific
format to be used to interpret the data.
Buffer views are used to enable shaders to access buffer contents
interpreted as formatted data.
In order to create a valid buffer view, the buffer <span role="normative">must</span> have been created
with at least one of the following usage flags:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code>
</p>
</li>
<li>
<p>
<code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Buffer views are represented by <code>VkBufferView</code> handles:</p></div>
<div class="listingblock">
<a id="VkBufferView"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkBufferView<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create a buffer view, call:</p></div>
<div class="listingblock">
<a id="vkCreateBufferView"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateBufferView</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkBufferViewCreateInfo<span style="color: #990000">*</span>               pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkBufferView<span style="color: #990000">*</span>                               pView<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the buffer view.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code>VkBufferViewCreateInfo</code> structure containing parameters to be used
    to create the buffer.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pView</code> points to a <code>VkBufferView</code> handle in which the resulting
    buffer view object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkBufferViewCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pView</code> <span role="normative">must</span> be a pointer to a <code>VkBufferView</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkBufferViewCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkBufferViewCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkBufferViewCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>            sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkBufferViewCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkBuffer</span>                   buffer<span style="color: #990000">;</span>
    <span style="color: #008080">VkFormat</span>                   format<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>               offset<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>               range<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkBufferViewCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>buffer</code> is a <code>VkBuffer</code> on which the view will be created.
</p>
</li>
<li>
<p>
<code>format</code> is a <code><a href="#VkFormat">VkFormat</a></code> describing the format of the data
    elements in the buffer.
</p>
</li>
<li>
<p>
<code>offset</code> is an offset in bytes from the base address of the buffer.
    Accesses to the buffer view from shaders use addressing that is relative
    to this starting offset.
</p>
</li>
<li>
<p>
<code>range</code> is a size in bytes of the buffer view.
    If <code>range</code> is equal to <code>VK_WHOLE_SIZE</code>, the range from
    <code>offset</code> to the end of the buffer is used.
    If <code>VK_WHOLE_SIZE</code> is used and the remaining size of the buffer is
    not a multiple of the element size of <code>format</code>, then the nearest
    smaller multiple is used.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be less than the size of <code>buffer</code>
</p>
</li>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be a multiple of
    <code>VkPhysicalDeviceLimits</code>::<code>minTexelBufferOffsetAlignment</code>
</p>
</li>
<li>
<p>
If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>range</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>range</code> <span role="normative">must</span> be a multiple of the element size of <code>format</code>
</p>
</li>
<li>
<p>
<code>range</code> divided by the element size of <code>format</code>, <span role="normative">must</span> be less
     than or equal to
     <code>VkPhysicalDeviceLimits</code>::<code>maxTexelBufferElements</code>
</p>
</li>
<li>
<p>
the sum of <code>offset</code> and <code>range</code> <span role="normative">must</span> be less than or equal to
     the size of <code>buffer</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> have been created with a <code>usage</code> value containing
    at least one of <code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> or
    <code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code>
</p>
</li>
<li>
<p>
If <code>buffer</code> was created with <code>usage</code> containing
    <code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code>, <code>format</code> <span role="normative">must</span> be
    supported for uniform texel buffers, as specified by the
    <code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>bufferFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
<li>
<p>
If <code>buffer</code> was created with <code>usage</code> containing
    <code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code>, <code>format</code> <span role="normative">must</span> be
    supported for storage texel buffers, as specified by the
    <code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>bufferFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
<li>
<p>
If <code>buffer</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_BUFFER_VIEW_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>format</code> <span role="normative">must</span> be a valid <code><a href="#VkFormat">VkFormat</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To destroy a buffer view, call:</p></div>
<div class="listingblock">
<a id="vkDestroyBufferView"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyBufferView</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkBufferView</span>                                bufferView<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the buffer view.
</p>
</li>
<li>
<p>
<code>bufferView</code> is the buffer view to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted commands that refer to <code>bufferView</code> <span role="normative">must</span> have
    completed execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>bufferView</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>bufferView</code>
    was created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>bufferView</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>bufferView</code> <span role="normative">must</span> be a valid <code>VkBufferView</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>bufferView</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>bufferView</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="resources-images">11.3. Images</h3>
<div class="paragraph"><p>Images represent multidimensional - up to 3 - arrays of data which <span role="normative">can</span> be
used for various purposes (e.g. attachments, textures), by binding them to a
graphics or compute pipeline via descriptor sets, or by directly specifying
them as parameters to certain commands.</p></div>
<div class="paragraph"><p>Images are represented by <code>VkImage</code> handles:</p></div>
<div class="listingblock">
<a id="VkImage"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkImage<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create images, call:</p></div>
<div class="listingblock">
<a id="vkCreateImage"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateImage</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkImageCreateInfo<span style="color: #990000">*</span>                    pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkImage<span style="color: #990000">*</span>                                    pImage<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the image.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code>VkImageCreateInfo</code> structure containing parameters to be used to
    create the image.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pImage</code> points to a <code>VkImage</code> handle in which the resulting
    image object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <code>flags</code> member of <code>pCreateInfo</code> includes
    <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>, creating this <code>VkImage</code>
    <span role="normative">must</span> not cause the total required sparse memory for all currently valid
    sparse resources on the device to exceed
    <code>VkPhysicalDeviceLimits</code>::<code>sparseAddressSpaceSize</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkImageCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pImage</code> <span role="normative">must</span> be a pointer to a <code>VkImage</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkImageCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkImageCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkImageCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>          sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>              pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageCreateFlags</span>       flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageType</span>              imageType<span style="color: #990000">;</span>
    <span style="color: #008080">VkFormat</span>                 format<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent3D</span>               extent<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                 mipLevels<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                 arrayLayers<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlagBits</span>    samples<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageTiling</span>            tiling<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageUsageFlags</span>        usage<span style="color: #990000">;</span>
    <span style="color: #008080">VkSharingMode</span>            sharingMode<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                 queueFamilyIndexCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> uint32_t<span style="color: #990000">*</span>          pQueueFamilyIndices<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageLayout</span>            initialLayout<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkImageCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask describing additional parameters of the image.
    See <code><a href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a></code> below for a description of the supported
    bits.
</p>
</li>
<li>
<p>
<code>imageType</code> is a <code><a href="#VkImageType">VkImageType</a></code> specifying the basic
    dimensionality of the image, as described below.
    Layers in array textures do not count as a dimension for the purposes of
    the image type.
</p>
</li>
<li>
<p>
<code>format</code> is a <code><a href="#VkFormat">VkFormat</a></code> describing the format and type of the
    data elements that will be contained in the image.
</p>
</li>
<li>
<p>
<code>extent</code> is a <code><a href="#VkExtent3D">VkExtent3D</a></code> describing the number of data
    elements in each dimension of the base level.
</p>
</li>
<li>
<p>
<code>mipLevels</code> describes the number of levels of detail available for
    minified sampling of the image.
</p>
</li>
<li>
<p>
<code>arrayLayers</code> is the number of layers in the image.
</p>
</li>
<li>
<p>
<code>samples</code> is the number of sub-data element samples in the image as
    defined in <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code>.
    See <a href="#primsrast-multisampling">Multisampling</a>.
</p>
</li>
<li>
<p>
<code>tiling</code> is a <code><a href="#VkImageTiling">VkImageTiling</a></code> specifying the tiling arrangement
    of the data elements in memory, as described below.
</p>
</li>
<li>
<p>
<code>usage</code> is a bitmask describing the intended usage of the image.
    See <code><a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code> below for a description of the supported
    bits.
</p>
</li>
<li>
<p>
<code>sharingMode</code> is the sharing mode of the image when it will be
    accessed by multiple queue families, and <span role="normative">must</span> be one of the values
    described for <code><a href="#VkSharingMode">VkSharingMode</a></code> in the <a href="#resources-sharing">Resource     Sharing</a> section below.
</p>
</li>
<li>
<p>
<code>queueFamilyIndexCount</code> is the number of entries in the
    <code>pQueueFamilyIndices</code> array.
</p>
</li>
<li>
<p>
<code>pQueueFamilyIndices</code> is a list of queue families that will access
    this image (ignored if <code>sharingMode</code> is not
    <code>VK_SHARING_MODE_CONCURRENT</code>).
</p>
</li>
<li>
<p>
<code>initialLayout</code> selects the initial <code><a href="#VkImageLayout">VkImageLayout</a></code> state of all
    image subresources of the image.
    See <a href="#resources-image-layouts">Image Layouts</a>.
    <code>initialLayout</code> <span role="normative">must</span> be <code>VK_IMAGE_LAYOUT_UNDEFINED</code> or
    <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Images created with <code>tiling</code> equal to <code>VK_IMAGE_TILING_LINEAR</code> have
further restrictions on their limits and capabilities compared to images
created with <code>tiling</code> equal to <code>VK_IMAGE_TILING_OPTIMAL</code>.
Creation of images with tiling <code>VK_IMAGE_TILING_LINEAR</code> <span role="normative">may</span> not be
supported unless other parameters meet all of the constraints:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>imageType</code> is <code>VK_IMAGE_TYPE_2D</code>
</p>
</li>
<li>
<p>
<code>format</code> is not a depth/stencil format
</p>
</li>
<li>
<p>
<code>mipLevels</code> is 1
</p>
</li>
<li>
<p>
<code>arrayLayers</code> is 1
</p>
</li>
<li>
<p>
<code>samples</code> is <code>VK_SAMPLE_COUNT_1_BIT</code>
</p>
</li>
<li>
<p>
<code>usage</code> only includes <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> and/or
    <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Implementations <span role="normative">may</span> support additional limits and capabilities beyond those
listed above.</p></div>
<div class="paragraph"><p>To query an implementation&#8217;s specific capabilities for a given combination
of <code>format</code>, <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code>,
call <code><a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a></code>.
The return value indicates whether that combination of image settings is
supported.
On success, the <code>VkImageFormatProperties</code> output parameter indicates the
set of valid <code>samples</code> bits and the limits for <code>extent</code>,
<code>mipLevels</code>, and <code>arrayLayers</code>.</p></div>
<div class="paragraph"><p>To determine the set of valid <code>usage</code> bits for a given format, call
<code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The combination of <code>format</code>, <code>type</code>, <code>tiling</code>, <code>usage</code>,
    and <code>flags</code> <span role="normative">must</span> be supported, as indicated by a VK_SUCCESS return
    value from <code>vkGetPhysicalDeviceImageFormatProperties</code> invoked with
    the same values passed to the corresponding parameters.
</p>
</li>
<li>
<p>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
    <code>pQueueFamilyIndices</code> <span role="normative">must</span> be a pointer to an array of
    <code>queueFamilyIndexCount</code> <code>uint32_t</code> values
</p>
</li>
<li>
<p>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
    <code>queueFamilyIndexCount</code> <span role="normative">must</span> be greater than <span class="monospaced">1</span>
</p>
</li>
<li>
<p>
<code>format</code> <span role="normative">must</span> not be <code>VK_FORMAT_UNDEFINED</code>
</p>
</li>
<li>
<p>
The <code>width</code>, <code>height</code>, and <code>depth</code> members of <code>extent</code>
    <span role="normative">must</span> all be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>mipLevels</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>arrayLayers</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>flags</code> contains <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>,
    <code>imageType</code> must be <code>VK_IMAGE_TYPE_2D</code>
</p>
</li>
<li>
<p>
If <code>flags</code> contains
    <code>VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT_KHR</code>, <code>imageType</code> must
    be <code>VK_IMAGE_TYPE_3D</code>
</p>
</li>
<li>
<p>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_1D</code>, <code>extent.width</code> <span role="normative">must</span>
    be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxImageDimension1D</code>, or
    <code>VkImageFormatProperties</code>::<code>maxExtent.width</code> (as returned by
    <code>vkGetPhysicalDeviceImageFormatProperties</code> with <code>format</code>,
    <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code> equal to those in
    this structure) - whichever is higher
</p>
</li>
<li>
<p>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_2D</code> and <code>flags</code> does not
    contain <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>, <code>extent.width</code>
    and <code>extent.height</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxImageDimension2D</code>, or
    <code>VkImageFormatProperties</code>::<code>maxExtent.width</code>/height (as returned
    by <code>vkGetPhysicalDeviceImageFormatProperties</code> with <code>format</code>,
    <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code> equal to those in
    this structure) - whichever is higher
</p>
</li>
<li>
<p>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_2D</code> and <code>flags</code> contains
    <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>, <code>extent.width</code> and
    <code>extent.height</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxImageDimensionCube</code>, or
    <code>VkImageFormatProperties</code>::<code>maxExtent.width</code>/height (as returned
    by <code>vkGetPhysicalDeviceImageFormatProperties</code> with <code>format</code>,
    <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code> equal to those in
    this structure) - whichever is higher
</p>
</li>
<li>
<p>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_2D</code> and <code>flags</code> contains
    <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>, <code>extent.width</code> and
    <code>extent.height</code> <span role="normative">must</span> be equal and <code>arrayLayers</code> <span role="normative">must</span> be
    greater than or equal to 6
</p>
</li>
<li>
<p>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_3D</code>, <code>extent.width</code>,
    <code>extent.height</code> and <code>extent.depth</code> <span role="normative">must</span> be less than or equal
    to <code>VkPhysicalDeviceLimits</code>::<code>maxImageDimension3D</code>, or
    <code>VkImageFormatProperties</code>::<code>maxExtent.width</code>/height/depth (as
    returned by <code>vkGetPhysicalDeviceImageFormatProperties</code> with
    <code>format</code>, <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code>
    equal to those in this structure) - whichever is higher
</p>
</li>
<li>
<p>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_1D</code>, both <code>extent.height</code>
    and <code>extent.depth</code> <span role="normative">must</span> be <span class="monospaced">1</span>
</p>
</li>
<li>
<p>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_2D</code>, <code>extent.depth</code> <span role="normative">must</span>
    be <span class="monospaced">1</span>
</p>
</li>
<li>
<p>
<code>mipLevels</code> <span role="normative">must</span> be less than or equal to
    <span class="eq">&#x230a;log<sub>2</sub>(max(<code>extent.width</code>, <code>extent.height</code>,
    <code>extent.depth</code>))&#x230b; + 1</span>.
</p>
</li>
<li>
<p>
If any of <code>extent.width</code>, <code>extent.height</code>, or <code>extent.depth</code>
    are greater than the equivalently named members of
    <code>VkPhysicalDeviceLimits</code>::<code>maxImageDimension3D</code>, <code>mipLevels</code>
    <span role="normative">must</span> be less than or equal to
    <code>VkImageFormatProperties</code>::<code>maxMipLevels</code> (as returned by
    <code>vkGetPhysicalDeviceImageFormatProperties</code> with <code>format</code>,
    <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code> equal to those in
    this structure)
</p>
</li>
<li>
<p>
<code>arrayLayers</code> <span role="normative">must</span> be less than or equal to
    <code>VkImageFormatProperties</code>::<code>maxArrayLayers</code> (as returned by
    <code>vkGetPhysicalDeviceImageFormatProperties</code> with <code>format</code>,
    <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code> equal to those in
    this structure)
</p>
</li>
<li>
<p>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_3D</code>, <code>arrayLayers</code> <span role="normative">must</span> be
    <span class="monospaced">1</span>.
</p>
</li>
<li>
<p>
If <code>samples</code> is not <code>VK_SAMPLE_COUNT_1_BIT</code>, <code>imageType</code>
    <span role="normative">must</span> be <code>VK_IMAGE_TYPE_2D</code>, <code>flags</code> <span role="normative">must</span> not contain
    <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>, <code>tiling</code> <span role="normative">must</span> be
    <code>VK_IMAGE_TILING_OPTIMAL</code>, and <code>mipLevels</code> <span role="normative">must</span> be equal to <span class="monospaced">1</span>
</p>
</li>
<li>
<p>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>,
    then bits other than <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
    <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and
    <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> <span role="normative">must</span> not be set
</p>
</li>
<li>
<p>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
    <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>,
    <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>, or
    <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>, <code>extent.width</code> <span role="normative">must</span> be
    less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxFramebufferWidth</code>
</p>
</li>
<li>
<p>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
    <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>,
    <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>, or
    <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>, <code>extent.height</code> <span role="normative">must</span> be
    less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxFramebufferHeight</code>
</p>
</li>
<li>
<p>
<code>samples</code> <span role="normative">must</span> be a bit value that is set in
    <code>VkImageFormatProperties</code>::<code>sampleCounts</code> returned by
    <code>vkGetPhysicalDeviceImageFormatProperties</code> with <code>format</code>,
    <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code> equal to those in
    this structure
</p>
</li>
<li>
<p>
If the <a href="#features-features-textureCompressionETC2">ETC2 texture     compression</a> feature is not enabled, <code>format</code> <span role="normative">must</span> not be
    <code>VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code>,
    <code>VK_FORMAT_EAC_R11_UNORM_BLOCK</code>,
    <code>VK_FORMAT_EAC_R11_SNORM_BLOCK</code>,
    <code>VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code>, or
    <code>VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-textureCompressionASTC_LDR">ASTC LDR texture     compression</a> feature is not enabled, <code>format</code> <span role="normative">must</span> not be
    <code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code>, or
    <code>VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-textureCompressionBC">BC texture compression</a>
    feature is not enabled, <code>format</code> <span role="normative">must</span> not be
    <code>VK_FORMAT_BC1_RGB_UNORM_BLOCK</code>, <code>VK_FORMAT_BC1_RGB_SRGB_BLOCK</code>,
    <code>VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code>,
    <code>VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code>, <code>VK_FORMAT_BC2_UNORM_BLOCK</code>,
    <code>VK_FORMAT_BC2_SRGB_BLOCK</code>, <code>VK_FORMAT_BC3_UNORM_BLOCK</code>,
    <code>VK_FORMAT_BC3_SRGB_BLOCK</code>, <code>VK_FORMAT_BC4_UNORM_BLOCK</code>,
    <code>VK_FORMAT_BC4_SNORM_BLOCK</code>, <code>VK_FORMAT_BC5_UNORM_BLOCK</code>,
    <code>VK_FORMAT_BC5_SNORM_BLOCK</code>, <code>VK_FORMAT_BC6H_UFLOAT_BLOCK</code>,
    <code>VK_FORMAT_BC6H_SFLOAT_BLOCK</code>, <code>VK_FORMAT_BC7_UNORM_BLOCK</code>, or
    <code>VK_FORMAT_BC7_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-shaderStorageImageMultisample">multisampled     storage images</a> feature is not enabled, and <code>usage</code> contains
    <code>VK_IMAGE_USAGE_STORAGE_BIT</code>, <code>samples</code> <span role="normative">must</span> be
    <code>VK_SAMPLE_COUNT_1_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-sparseBinding">sparse bindings</a> feature is
    not enabled, <code>flags</code> <span role="normative">must</span> not contain
    <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>
</p>
</li>
<li>
<p>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_1D</code>, <code>flags</code> <span role="normative">must</span> not
    contain <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-sparseResidencyImage2D">sparse residency for     2D images</a> feature is not enabled, and <code>imageType</code> is
    <code>VK_IMAGE_TYPE_2D</code>, <code>flags</code> <span role="normative">must</span> not contain
    <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-sparseResidencyImage3D">sparse residency for     3D images</a> feature is not enabled, and <code>imageType</code> is
    <code>VK_IMAGE_TYPE_3D</code>, <code>flags</code> <span role="normative">must</span> not contain
    <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-sparseResidency2Samples">sparse residency for     images with 2 samples</a> feature is not enabled, <code>imageType</code> is
    <code>VK_IMAGE_TYPE_2D</code>, and <code>samples</code> is
    <code>VK_SAMPLE_COUNT_2_BIT</code>, <code>flags</code> <span role="normative">must</span> not contain
    <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-sparseResidency4Samples">sparse residency for     images with 4 samples</a> feature is not enabled, <code>imageType</code> is
    <code>VK_IMAGE_TYPE_2D</code>, and <code>samples</code> is
    <code>VK_SAMPLE_COUNT_4_BIT</code>, <code>flags</code> <span role="normative">must</span> not contain
    <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-sparseResidency8Samples">sparse residency for     images with 8 samples</a> feature is not enabled, <code>imageType</code> is
    <code>VK_IMAGE_TYPE_2D</code>, and <code>samples</code> is
    <code>VK_SAMPLE_COUNT_8_BIT</code>, <code>flags</code> <span role="normative">must</span> not contain
    <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-sparseResidency16Samples">sparse residency for     images with 16 samples</a> feature is not enabled, <code>imageType</code> is
    <code>VK_IMAGE_TYPE_2D</code>, and <code>samples</code> is
    <code>VK_SAMPLE_COUNT_16_BIT</code>, <code>flags</code> <span role="normative">must</span> not contain
    <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
</p>
</li>
<li>
<p>
If <code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code>, <code>format</code> <span role="normative">must</span> be a
    format that has at least one supported feature bit present in the value
    of <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>
</p>
</li>
<li>
<p>
If <code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code>, and
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (as returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>) does not include
    <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>, <code>usage</code> <span role="normative">must</span> not contain
    <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>
</p>
</li>
<li>
<p>
If <code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code>, and
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (as returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>) does not include
    <code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code>, <code>usage</code> <span role="normative">must</span> not contain
    <code>VK_IMAGE_USAGE_STORAGE_BIT</code>
</p>
</li>
<li>
<p>
If <code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code>, and
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (as returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>) does not include
    <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>, <code>usage</code> <span role="normative">must</span> not
    contain <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>
</p>
</li>
<li>
<p>
If <code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code>, and
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (as returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>) does not include
    <code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, <code>usage</code> <span role="normative">must</span>
    not contain <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>
</p>
</li>
<li>
<p>
If <code>tiling</code> is <code>VK_IMAGE_TILING_OPTIMAL</code>, <code>format</code> <span role="normative">must</span> be
    a format that has at least one supported feature bit present in the
    value of <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> returned
    by <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>
</p>
</li>
<li>
<p>
If <code>tiling</code> is <code>VK_IMAGE_TILING_OPTIMAL</code>, and
    <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (as returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>) does not include
    <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>, <code>usage</code> <span role="normative">must</span> not contain
    <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>
</p>
</li>
<li>
<p>
If <code>tiling</code> is <code>VK_IMAGE_TILING_OPTIMAL</code>, and
    <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (as returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>) does not include
    <code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code>, <code>usage</code> <span role="normative">must</span> not contain
    <code>VK_IMAGE_USAGE_STORAGE_BIT</code>
</p>
</li>
<li>
<p>
If <code>tiling</code> is <code>VK_IMAGE_TILING_OPTIMAL</code>, and
    <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (as returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>) does not include
    <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>, <code>usage</code> <span role="normative">must</span> not
    contain <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>
</p>
</li>
<li>
<p>
If <code>tiling</code> is <code>VK_IMAGE_TILING_OPTIMAL</code>, and
    <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (as returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>) does not include
    <code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, <code>usage</code> <span role="normative">must</span>
    not contain <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>
</p>
</li>
<li>
<p>
If <code>flags</code> contains <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> or
    <code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code>, it <span role="normative">must</span> also contain
    <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>imageType</code> <span role="normative">must</span> be a valid <code><a href="#VkImageType">VkImageType</a></code> value
</p>
</li>
<li>
<p>
<code>format</code> <span role="normative">must</span> be a valid <code><a href="#VkFormat">VkFormat</a></code> value
</p>
</li>
<li>
<p>
<code>samples</code> <span role="normative">must</span> be a valid <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> value
</p>
</li>
<li>
<p>
<code>tiling</code> <span role="normative">must</span> be a valid <code><a href="#VkImageTiling">VkImageTiling</a></code> value
</p>
</li>
<li>
<p>
<code>usage</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>usage</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>sharingMode</code> <span role="normative">must</span> be a valid <code><a href="#VkSharingMode">VkSharingMode</a></code> value
</p>
</li>
<li>
<p>
<code>initialLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The intended usage of an image is specified by the bitmask
<code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>usage</code>.
Bits which <span role="normative">can</span> be set include:</p></div>
<div class="listingblock">
<a id="VkImageUsageFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkImageUsageFlagBits <span style="color: #FF0000">{</span>
    VK_IMAGE_USAGE_TRANSFER_SRC_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_IMAGE_USAGE_TRANSFER_DST_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_IMAGE_USAGE_SAMPLED_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_IMAGE_USAGE_STORAGE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
    VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000010</span><span style="color: #990000">,</span>
    VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000020</span><span style="color: #990000">,</span>
    VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000040</span><span style="color: #990000">,</span>
    VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000080</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkImageUsageFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>These bits have the following meanings:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> indicates that the image <span role="normative">can</span> be
    used as the source of a transfer command.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> indicates that the image <span role="normative">can</span> be
    used as the destination of a transfer command.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_USAGE_SAMPLED_BIT</code> indicates that the image <span role="normative">can</span> be used
    to create a <code>VkImageView</code> suitable for occupying a
    <code>VkDescriptorSet</code> slot either of type
    <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> or
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and be sampled by a
    shader.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_USAGE_STORAGE_BIT</code> indicates that the image <span role="normative">can</span> be used
    to create a <code>VkImageView</code> suitable for occupying a
    <code>VkDescriptorSet</code> slot of type
    <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> indicates that the image <span role="normative">can</span>
    be used to create a <code>VkImageView</code> suitable for use as a color or
    resolve attachment in a <code>VkFramebuffer</code>.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> indicates that the
    image <span role="normative">can</span> be used to create a <code>VkImageView</code> suitable for use as a
    depth/stencil attachment in a <code>VkFramebuffer</code>.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> indicates that the memory
    bound to this image will have been allocated with the
    <code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> (see <a href="#memory">[memory]</a> for more
    detail).
    This bit <span role="normative">can</span> be set for any image that <span role="normative">can</span> be used to create a
    <code>VkImageView</code> suitable for use as a color, resolve, depth/stencil,
    or input attachment.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> indicates that the image <span role="normative">can</span>
    be used to create a <code>VkImageView</code> suitable for occupying
    <code>VkDescriptorSet</code> slot of type
    <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>; be read from a shader as an
    input attachment; and be used as an input attachment in a framebuffer.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Additional parameters of an image are specified by
<code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>flags</code>.
Bits which <span role="normative">can</span> be set include:</p></div>
<div class="listingblock">
<a id="VkImageCreateFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkImageCreateFlagBits <span style="color: #FF0000">{</span>
    VK_IMAGE_CREATE_SPARSE_BINDING_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_IMAGE_CREATE_SPARSE_ALIASED_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
    VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000010</span><span style="color: #990000">,</span>
    VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000020</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkImageCreateFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>These bits have the following meanings:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> indicates that the image will
    be backed using sparse memory binding.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> indicates that the image <span role="normative">can</span>
    be partially backed using sparse memory binding.
    Images created with this flag <span role="normative">must</span> also be created with the
    <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flag.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> indicates that the image will
    be backed using sparse memory binding with memory ranges that might also
    simultaneously be backing another image (or another portion of the same
    image).
    Images created with this flag <span role="normative">must</span> also be created with the
    <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flag
</p>
</li>
<li>
<p>
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> indicates that the image <span role="normative">can</span>
    be used to create a <code>VkImageView</code> with a different format from the
    image.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> indicates that the image <span role="normative">can</span>
    be used to create a <code>VkImageView</code> of type
    <code>VK_IMAGE_VIEW_TYPE_CUBE</code> or <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT_KHR</code> indicates that the
    image <span role="normative">can</span> be used to create a <code>VkImageView</code> of type
    <code>VK_IMAGE_VIEW_TYPE_2D</code> or <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If any of the bits <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>,
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>, or
<code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> are set,
<code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> <span role="normative">must</span> not also be set.</p></div>
<div class="paragraph"><p>See <a href="#sparsememory-sparseresourcefeatures">Sparse Resource Features</a> and
<a href="#sparsememory-physicalfeatures">Sparse Physical Device Features</a> for more
details.</p></div>
<div class="paragraph"><p>The basic dimensionality of an image is specified by
<code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>imageType</code>, which <span role="normative">must</span> be one of the values</p></div>
<div class="listingblock">
<a id="VkImageType"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkImageType <span style="color: #FF0000">{</span>
    VK_IMAGE_TYPE_1D <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_IMAGE_TYPE_2D <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_IMAGE_TYPE_3D <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkImageType<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>These values specify one-, two-, or three-dimensional images, respectively.</p></div>
<div class="paragraph"><p>The tiling arrangement of data elements in an image is specified by
<code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>tiling</code>, which <span role="normative">must</span> be one of the values</p></div>
<div class="listingblock">
<a id="VkImageTiling"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkImageTiling <span style="color: #FF0000">{</span>
    VK_IMAGE_TILING_OPTIMAL <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_IMAGE_TILING_LINEAR <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkImageTiling<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p><code>VK_IMAGE_TILING_OPTIMAL</code> specifies optimal tiling (texels are laid out
in an implementation-dependent arrangement, for more optimal memory access),
and <code>VK_IMAGE_TILING_LINEAR</code> specifies linear tiling (texels are laid
out in memory in row-major order, possibly with some padding on each row).</p></div>
<div class="paragraph"><p>To query the host access layout of an image subresource, for an image
created with linear tiling, call:</p></div>
<div class="listingblock">
<a id="vkGetImageSubresourceLayout"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetImageSubresourceLayout</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     image<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkImageSubresource<span style="color: #990000">*</span>                   pSubresource<span style="color: #990000">,</span>
    VkSubresourceLayout<span style="color: #990000">*</span>                        pLayout<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the image.
</p>
</li>
<li>
<p>
<code>image</code> is the image whose layout is being queried.
</p>
</li>
<li>
<p>
<code>pSubresource</code> is a pointer to a <code><a href="#VkImageSubresource">VkImageSubresource</a></code> structure
    selecting a specific image for the image subresource.
</p>
</li>
<li>
<p>
<code>pLayout</code> points to a <code><a href="#VkSubresourceLayout">VkSubresourceLayout</a></code> structure in which
    the layout is returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code><a href="#vkGetImageSubresourceLayout">vkGetImageSubresourceLayout</a></code> is invariant for the lifetime of a single
image.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>image</code> <span role="normative">must</span> have been created with <code>tiling</code> equal to
    <code>VK_IMAGE_TILING_LINEAR</code>
</p>
</li>
<li>
<p>
The <code>aspectMask</code> member of <code>pSubresource</code> <span role="normative">must</span> only have a
    single bit set
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>pSubresource</code> <span role="normative">must</span> be a pointer to a valid <code>VkImageSubresource</code> structure
</p>
</li>
<li>
<p>
<code>pLayout</code> <span role="normative">must</span> be a pointer to a <code>VkSubresourceLayout</code> structure
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkImageSubresource</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkImageSubresource"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkImageSubresource</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkImageAspectFlags</span>    aspectMask<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              mipLevel<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              arrayLayer<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkImageSubresource<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>aspectMask</code> is a <code><a href="#VkImageAspectFlags">VkImageAspectFlags</a></code> selecting the image
    <em>aspect</em>.
</p>
</li>
<li>
<p>
<code>mipLevel</code> selects the mipmap level.
</p>
</li>
<li>
<p>
<code>arrayLayer</code> selects the array layer.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>mipLevel</code> <span role="normative">must</span> be less than the <code>mipLevels</code> specified in
    <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the image was created
</p>
</li>
<li>
<p>
<code>arrayLayer</code> <span role="normative">must</span> be less than the <code>arrayLayers</code> specified in
    <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the image was created
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>aspectMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>aspectMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Information about the layout of the image subresource is returned in a
<code>VkSubresourceLayout</code> structure:</p></div>
<div class="listingblock">
<a id="VkSubresourceLayout"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSubresourceLayout</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkDeviceSize</span>    offset<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>    size<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>    rowPitch<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>    arrayPitch<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>    depthPitch<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSubresourceLayout<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>offset</code> is the byte offset from the start of the image where the
    image subresource begins.
</p>
</li>
<li>
<p>
<code>size</code> is the size in bytes of the image subresource.
    <code>size</code> includes any extra memory that is required based on
    <code>rowPitch</code>.
</p>
</li>
<li>
<p>
<code>rowPitch</code> describes the number of bytes between each row of texels
    in an image.
</p>
</li>
<li>
<p>
<code>arrayPitch</code> describes the number of bytes between each array layer
    of an image.
</p>
</li>
<li>
<p>
<code>depthPitch</code> describes the number of bytes between each slice of 3D
    image.
</p>
</li>
</ul></div>
<div class="paragraph"><p>For images created with linear tiling, <code>rowPitch</code>, <code>arrayPitch</code> and
<code>depthPitch</code> describe the layout of the image subresource in linear
memory.
For uncompressed formats, <code>rowPitch</code> is the number of bytes between
texels with the same x coordinate in adjacent rows (y coordinates differ by
one).
<code>arrayPitch</code> is the number of bytes between texels with the same x and y
coordinate in adjacent array layers of the image (array layer values differ
by one).
<code>depthPitch</code> is the number of bytes between texels with the same x and y
coordinate in adjacent slices of a 3D image (z coordinates differ by one).
Expressed as an addressing formula, the starting byte of a texel in the
image subresource has address:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// (x,y,z,layer) are in texel coordinates</span></span>
<span style="font-weight: bold"><span style="color: #000000">address</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>z<span style="color: #990000">,</span>layer<span style="color: #990000">)</span> <span style="color: #990000">=</span> layer<span style="color: #990000">*</span>arrayPitch <span style="color: #990000">+</span> z<span style="color: #990000">*</span>depthPitch <span style="color: #990000">+</span> y<span style="color: #990000">*</span>rowPitch <span style="color: #990000">+</span> x<span style="color: #990000">*</span>elementSize <span style="color: #990000">+</span> offset</tt></pre></div></div>
<div class="paragraph"><p>For compressed formats, the <code>rowPitch</code> is the number of bytes between
compressed texel blocks in adjacent rows.
<code>arrayPitch</code> is the number of bytes between compressed texel blocks in
adjacent array layers.
<code>depthPitch</code> is the number of bytes between compressed texel blocks in
adjacent slices of a 3D image.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// (x,y,z,layer) are in compressed texel block coordinates</span></span>
<span style="font-weight: bold"><span style="color: #000000">address</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>z<span style="color: #990000">,</span>layer<span style="color: #990000">)</span> <span style="color: #990000">=</span> layer<span style="color: #990000">*</span>arrayPitch <span style="color: #990000">+</span> z<span style="color: #990000">*</span>depthPitch <span style="color: #990000">+</span> y<span style="color: #990000">*</span>rowPitch <span style="color: #990000">+</span> x<span style="color: #990000">*</span>compressedTexelBlockByteSize <span style="color: #990000">+</span> offset<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p><code>arrayPitch</code> is undefined for images that were not created as arrays.
<code>depthPitch</code> is defined only for 3D images.</p></div>
<div class="paragraph"><p>For color formats, the <code>aspectMask</code> member of <code>VkImageSubresource</code>
<span role="normative">must</span> be <code>VK_IMAGE_ASPECT_COLOR_BIT</code>.
For depth/stencil formats, <code>aspectMask</code> <span role="normative">must</span> be either
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or <code>VK_IMAGE_ASPECT_STENCIL_BIT</code>.
On implementations that store depth and stencil aspects separately, querying
each of these image subresource layouts will return a different <code>offset</code>
and <code>size</code> representing the region of memory used for that aspect.
On implementations that store depth and stencil aspects interleaved, the
same <code>offset</code> and <code>size</code> are returned and represent the interleaved
memory allocation.</p></div>
<div class="paragraph"><p>To destroy an image, call:</p></div>
<div class="listingblock">
<a id="vkDestroyImage"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyImage</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     image<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the image.
</p>
</li>
<li>
<p>
<code>image</code> is the image to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted commands that refer to <code>image</code>, either directly or via
    a <code>VkImageView</code>, <span role="normative">must</span> have completed execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>image</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>image</code> was
    created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>image</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>image</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>image</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>image</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="resources-image-layouts">11.4. Image Layouts</h3>
<div class="paragraph"><p>Images are stored in implementation-dependent opaque layouts in memory.
Implementations <span role="normative">may</span> support several opaque layouts, and the layout used at
any given time is determined by the <code><a href="#VkImageLayout">VkImageLayout</a></code> state of the image
subresource.
Each layout has limitations on what kinds of operations are supported for
image subresources using the layout.
Applications have control over which layout each image subresource uses, and
<span role="normative">can</span> transition an image subresource from one layout to another.
Transitions <span role="normative">can</span> happen with an image memory barrier, included as part of a
<code>vkCmdPipelineBarrier</code> or a <code>vkCmdWaitEvents</code> command buffer command
(see <a href="#synchronization-image-memory-barriers">[synchronization-image-memory-barriers]</a>), or as part of a subpass
dependency within a render pass (see <code>VkSubpassDependency</code>).
The image layout state is per-image subresource, and separate image
subresources of the same image <span role="normative">can</span> be in different layouts at the same time
with one exception - depth and stencil aspects of a given image subresource
<span role="normative">must</span> always be in the same layout.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Each layout <span role="normative">may</span> offer optimal performance for a specific usage of image
memory.
For example, an image with a layout of
<code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code> <span role="normative">may</span> provide optimal
performance for use as a color attachment, but be unsupported for use in
transfer commands.
Applications <span role="normative">can</span> transition an image subresource from one layout to another
in order to achieve optimal performance when the image subresource is used
for multiple kinds of operations.
After initialization, applications need not use any layout other than the
general layout, though this <span role="normative">may</span> produce suboptimal performance on some
implementations.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Upon creation, all image subresources of an image are initially in the same
layout, where that layout is selected by the
<code>VkImageCreateInfo</code>::<code>initialLayout</code> member.
The <code>initialLayout</code> <span role="normative">must</span> be either <code>VK_IMAGE_LAYOUT_UNDEFINED</code> or
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>.
If it is <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>, then the image data <span role="normative">can</span> be
preinitialized by the host while using this layout, and the transition away
from this layout will preserve that data.
If it is <code>VK_IMAGE_LAYOUT_UNDEFINED</code>, then the contents of the data are
considered to be undefined, and the transition away from this layout is not
guaranteed to preserve that data.
For either of these initial layouts, any image subresources <span role="normative">must</span> be
transitioned to another layout before they are accessed by the device.</p></div>
<div class="paragraph"><p>Host access to image memory is only well-defined for images created with
<code>VK_IMAGE_TILING_LINEAR</code> tiling and for image subresources of those
images which are currently in either the
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> or <code>VK_IMAGE_LAYOUT_GENERAL</code>
layout.
Calling <code><a href="#vkGetImageSubresourceLayout">vkGetImageSubresourceLayout</a></code> for a linear image returns a
subresource layout mapping that is valid for either of those image layouts.</p></div>
<div class="paragraph"><p>The set of image layouts consists of:</p></div>
<div class="listingblock">
<a id="VkImageLayout"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkImageLayout <span style="color: #FF0000">{</span>
    VK_IMAGE_LAYOUT_UNDEFINED <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_IMAGE_LAYOUT_GENERAL <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">,</span>
    VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL <span style="color: #990000">=</span> <span style="color: #993399">7</span><span style="color: #990000">,</span>
    VK_IMAGE_LAYOUT_PREINITIALIZED <span style="color: #990000">=</span> <span style="color: #993399">8</span><span style="color: #990000">,</span>
    VK_IMAGE_LAYOUT_PRESENT_SRC_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000001002</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkImageLayout<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The type(s) of device access supported by each layout are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_IMAGE_LAYOUT_UNDEFINED</code>: Supports no device access.
    This layout <span role="normative">must</span> only be used as the <code>initialLayout</code> member of
    <code>VkImageCreateInfo</code> or <code>VkAttachmentDescription</code>, or as the
    <code>oldLayout</code> in an image transition.
    When transitioning out of this layout, the contents of the memory are
    not guaranteed to be preserved.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>: Supports no device access.
    This layout <span role="normative">must</span> only be used as the <code>initialLayout</code> member of
    <code>VkImageCreateInfo</code> or <code>VkAttachmentDescription</code>, or as the
    <code>oldLayout</code> in an image transition.
    When transitioning out of this layout, the contents of the memory are
    preserved.
    This layout is intended to be used as the initial layout for an image
    whose contents are written by the host, and hence the data <span role="normative">can</span> be
    written to memory immediately, without first executing a layout
    transition.
    Currently, <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> is only useful with
    <code>VK_IMAGE_TILING_LINEAR</code> images because there is not a standard
    layout defined for <code>VK_IMAGE_TILING_OPTIMAL</code> images.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_LAYOUT_GENERAL</code>: Supports all types of device access.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code>: <span role="normative">must</span> only be used as a
    color or resolve attachment in a <code>VkFramebuffer</code>.
    This layout is valid only for image subresources of images created with
    the <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> usage bit enabled.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL</code>: <span role="normative">must</span> only be
    used as a depth/stencil attachment in a <code>VkFramebuffer</code>.
    This layout is valid only for image subresources of images created with
    the <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> usage bit enabled.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>: <span role="normative">must</span> only be
    used as a read-only depth/stencil attachment in a <code>VkFramebuffer</code>
    and/or as a read-only image in a shader (which <span role="normative">can</span> be read as a sampled
    image, combined image/sampler and/or input attachment).
    This layout is valid only for image subresources of images created with
    the <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> usage bit enabled.
    Only image subresources of images created with
    <code>VK_IMAGE_USAGE_SAMPLED_BIT</code> <span role="normative">can</span> be used as sampled image or
    combined image/sampler in a shader.
    Similarly, only image subresources of images created with
    <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> <span role="normative">can</span> be used as input
    attachments.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code>: <span role="normative">must</span> only be used as a
    read-only image in a shader (which <span role="normative">can</span> be read as a sampled image,
    combined image/sampler and/or input attachment).
    This layout is valid only for image subresources of images created with
    the <code>VK_IMAGE_USAGE_SAMPLED_BIT</code> or
    <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> usage bit enabled.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code>: <span role="normative">must</span> only be used as a
    source image of a transfer command (see the definition of
    <a href="#synchronization-pipeline-stages-transfer"><code>VK_PIPELINE_STAGE_TRANSFER_BIT</code></a>).
    This layout is valid only for image subresources of images created with
    the <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage bit enabled.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>: <span role="normative">must</span> only be used as a
    destination image of a transfer command.
    This layout is valid only for image subresources of images created with
    the <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage bit enabled.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>: <span role="normative">must</span> only be used for presenting
    a swapchain image for display.
    A swapchain&#8217;s image <span role="normative">must</span> be transitioned to this layout before calling
    <code><a href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code>, and <span role="normative">must</span> be transitioned away from this layout
    after calling <code><a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>For each mechanism of accessing an image in the API, there is a parameter or
structure member that controls the image layout used to access the image.
For transfer commands, this is a parameter to the command (see <a href="#clears">[clears]</a>
and <a href="#copies">[copies]</a>).
For use as a framebuffer attachment, this is a member in the substructures
of the <code>VkRenderPassCreateInfo</code> (see <a href="#renderpass">Render Pass</a>).
For use in a descriptor set, this is a member in the
<code>VkDescriptorImageInfo</code> structure (see <a href="#descriptorsets-updates">[descriptorsets-updates]</a>).
At the time that any command buffer command accessing an image executes on
any queue, the layouts of the image subresources that are accessed <span role="normative">must</span> all
match the layout specified via the API controlling those accesses.</p></div>
<div class="paragraph"><p>The image layout of each image subresource <span role="normative">must</span> be well-defined at each
point in the image subresource&#8217;s lifetime.
This means that when performing a layout transition on the image
subresource, the old layout value <span role="normative">must</span> either equal the current layout of
the image subresource (at the time the transition executes), or else be
<code>VK_IMAGE_LAYOUT_UNDEFINED</code> (implying that the contents of the image
subresource need not be preserved).
The new layout used in a transition <span role="normative">must</span> not be
<code>VK_IMAGE_LAYOUT_UNDEFINED</code> or <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>.</p></div>
</div>
<div class="sect2">
<h3 id="resources-image-views">11.5. Image Views</h3>
<div class="paragraph"><p>Image objects are not directly accessed by pipeline shaders for reading or
writing image data.
Instead, <em>image views</em> representing contiguous ranges of the image
subresources and containing additional metadata are used for that purpose.
Views <span role="normative">must</span> be created on images of compatible types, and <span role="normative">must</span> represent a
valid subset of image subresources.</p></div>
<div class="paragraph"><p>Image views are represented by <code>VkImageView</code> handles:</p></div>
<div class="listingblock">
<a id="VkImageView"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkImageView<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>The types of image views that <span role="normative">can</span> be created are:</p></div>
<div class="listingblock">
<a id="VkImageViewType"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkImageViewType <span style="color: #FF0000">{</span>
    VK_IMAGE_VIEW_TYPE_1D <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_IMAGE_VIEW_TYPE_2D <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_IMAGE_VIEW_TYPE_3D <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_IMAGE_VIEW_TYPE_CUBE <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_IMAGE_VIEW_TYPE_1D_ARRAY <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_IMAGE_VIEW_TYPE_2D_ARRAY <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_IMAGE_VIEW_TYPE_CUBE_ARRAY <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkImageViewType<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The exact image view type is partially implicit, based on the image&#8217;s type
and sample count, as well as the view creation parameters as described in
the <a href="#resources-image-views-compatibility">table below</a>.
This table also shows which SPIR-V OpTypeImage Dim and Arrayed parameters
correspond to each image view type.</p></div>
<div class="paragraph"><p>To create an image view, call:</p></div>
<div class="listingblock">
<a id="vkCreateImageView"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateImageView</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkImageViewCreateInfo<span style="color: #990000">*</span>                pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkImageView<span style="color: #990000">*</span>                                pView<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the image view.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code>VkImageViewCreateInfo</code> structure containing parameters to be used
    to create the image view.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pView</code> points to a <code>VkImageView</code> handle in which the resulting
    image view object is returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Some of the image creation parameters are inherited by the view.
The remaining parameters are contained in the <code>pCreateInfo</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkImageViewCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pView</code> <span role="normative">must</span> be a pointer to a <code>VkImageView</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkImageViewCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkImageViewCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkImageViewCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>            sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageViewCreateFlags</span>     flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkImage</span>                    image<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageViewType</span>            viewType<span style="color: #990000">;</span>
    <span style="color: #008080">VkFormat</span>                   format<span style="color: #990000">;</span>
    <span style="color: #008080">VkComponentMapping</span>         components<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageSubresourceRange</span>    subresourceRange<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkImageViewCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>image</code> is a <code>VkImage</code> on which the view will be created.
</p>
</li>
<li>
<p>
<code>viewType</code> is the type of the image view.
</p>
</li>
<li>
<p>
<code>format</code> is a <code><a href="#VkFormat">VkFormat</a></code> describing the format and type used to
    interpret data elements in the image.
</p>
</li>
<li>
<p>
<code>components</code> specifies a remapping of color components (or of depth
    or stencil components after they have been converted into color
    components).
    See <code><a href="#VkComponentMapping">VkComponentMapping</a></code>.
</p>
</li>
<li>
<p>
<code>subresourceRange</code> is a <code><a href="#VkImageSubresourceRange">VkImageSubresourceRange</a></code> selecting the
    set of mipmap levels and array layers to be accessible to the view.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>image</code> was created with the <code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code>
flag, <code>format</code> <span role="normative">can</span> be different from the image&#8217;s format, but if they
are not equal they <span role="normative">must</span> be <em>compatible</em>.
Image format compatibility is defined in the
<a href="#features-formats-compatibility-classes">Format Compatibility Classes</a>
section.</p></div>
<table class="tableblock frame-all grid-all" id="resources-image-views-compatibility"
style="
width:100%;
">
<caption class="title">Table 8. Image and image view parameter compatibility requirements</caption>
<col style="width:15%;">
<col style="width:35%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Dim, Arrayed, MS </th>
<th class="tableblock halign-left valign-top" > Image parameters </th>
<th class="tableblock halign-left valign-top" > View parameters</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock header"></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>imageType</code> = ci.<code>imageType</code><br>
    <code>width</code> = ci.<code>extent.width</code><br>
    <code>height</code> = ci.<code>extent.height</code><br>
    <code>depth</code> = ci.<code>extent.depth</code><br>
    <code>arrayLayers</code> = ci.<code>arrayLayers</code><br>
    <code>samples</code> = ci.<code>samples</code><br>
    where ci is the <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code> used to create <code>image</code>.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>baseArrayLayer</code> and <code>layerCount</code> are members of the
    <code>subresourceRange</code> member.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock header">1D, 0, 0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_1D</code><br>
<code>width</code> &#x2265; 1<br>
<code>height</code> = 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> &#x2265; 1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewType</code> = <code>VK_VIEW_TYPE_1D</code><br>
<code>baseArrayLayer</code> &#x2265; 0<br>
<code>layerCount</code> = 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock header">1D, 1, 0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_1D</code><br>
<code>width</code> &#x2265; 1<br>
<code>height</code> = 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> &#x2265; 1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewType</code> = <code>VK_VIEW_TYPE_1D_ARRAY</code><br>
<code>baseArrayLayer</code> &#x2265; 0<br>
<code>layerCount</code> &#x2265; 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock header">2D, 0, 0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code> &#x2265; 1<br>
<code>height</code> &#x2265; 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> &#x2265; 1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewType</code> = <code>VK_VIEW_TYPE_2D</code><br>
<code>baseArrayLayer</code> &#x2265; 0<br>
<code>layerCount</code> = 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock header">2D, 1, 0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code> &#x2265; 1<br>
<code>height</code> &#x2265; 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> &#x2265; 1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewType</code> = <code>VK_VIEW_TYPE_2D_ARRAY</code><br>
<code>baseArrayLayer</code> &#x2265; 0<br>
<code>layerCount</code> &#x2265; 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock header">2D, 0, 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code> &#x2265; 1<br>
<code>height</code> &#x2265; 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> &#x2265; 1<br>
<code>samples</code> &gt; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewType</code> = <code>VK_VIEW_TYPE_2D</code><br>
<code>baseArrayLayer</code> &#x2265; 0<br>
<code>layerCount</code> = 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock header">2D, 1, 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code> &#x2265; 1<br>
<code>height</code> &#x2265; 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> &#x2265; 1<br>
<code>samples</code> &gt; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewType</code> = <code>VK_VIEW_TYPE_2D_ARRAY</code><br>
<code>baseArrayLayer</code> &#x2265; 0<br>
<code>layerCount</code> &#x2265; 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock header">CUBE, 0, 0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code> &#x2265; 1<br>
<code>height</code> = <code>width</code><br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> &#x2265; 6<br>
<code>samples</code> = 1<br>
<code>flags</code> includes <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewType</code> = <code>VK_VIEW_TYPE_CUBE</code><br>
<code>baseArrayLayer</code> &#x2265; 0<br>
<code>layerCount</code> = 6</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock header">CUBE, 1, 0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code> &#x2265; 1<br>
<code>height</code> = width<br>
<code>depth</code> = 1<br>
<em>N</em> &#x2265; 1<br>
<code>arrayLayers</code> &#x2265; 6 &#x00d7; <em>N</em><br>
<code>samples</code> = 1<br>
<code>flags</code> includes <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewType</code> = <code>VK_VIEW_TYPE_CUBE_ARRAY</code><br>
<code>baseArrayLayer</code> &#x2265; 0<br>
<code>layerCount</code> = 6 &#x00d7; <em>N</em>, <em>N</em> &#x2265; 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock header">3D, 0, 0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_3D</code><br>
<code>width</code> &#x2265; 1<br>
<code>height</code> &#x2265; 1<br>
<code>depth</code> &#x2265; 1<br>
<code>arrayLayers</code> = 1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewType</code> = <code>VK_VIEW_TYPE_3D</code><br>
<code>baseArrayLayer</code> = 0<br>
<code>layerCount</code> = 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock header">3D, 0, 0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_3D</code><br>
<code>width</code> &#x2265; 1<br>
<code>height</code> &#x2265; 1<br>
<code>depth</code> &#x2265; 1<br>
<code>arrayLayers</code> = 1<br>
<code>samples</code> = 1<br>
<code>flags</code> includes <code>VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT</code><br>
<code>flags</code> does not include VK_IMAGE_CREATE_SPARSE_BINDING_BIT, VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT, and VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewType</code> = <code>VK_VIEW_TYPE_2D</code><br>
<code>levelCount</code> = 1<br>
<code>baseArrayLayer</code> &#x2265; 0<br>
<code>layerCount</code> = 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock header">3D, 0, 0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_3D</code><br>
<code>width</code> &#x2265; 1<br>
<code>height</code> &#x2265; 1<br>
<code>depth</code> &#x2265; 1<br>
<code>arrayLayers</code> = 1<br>
<code>samples</code> = 1<br>
<code>flags</code> includes <code>VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT</code><br>
<code>flags</code> does not include VK_IMAGE_CREATE_SPARSE_BINDING_BIT, VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT, and VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewType</code> = <code>VK_VIEW_TYPE_2D_ARRAY</code><br>
<code>levelCount</code> = 1<br>
<code>baseArrayLayer</code> &#x2265; 0<br>
<code>layerCount</code> &#x2265; 1</p></td>
</tr>
</tbody>
</table>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>image</code> was not created with
    <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> then <code>viewType</code> <span role="normative">must</span> not
    be <code>VK_IMAGE_VIEW_TYPE_CUBE</code> or <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-imageCubeArray">image cubemap arrays</a> feature
    is not enabled, <code>viewType</code> <span role="normative">must</span> not be
    <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>
</p>
</li>
<li>
<p>
If <code>image</code> was created with <code>VK_IMAGE_TYPE_3D</code> but without
    <code>VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT_KHR</code> set then
    <code>viewType</code> <span role="normative">must</span> not be <code>VK_IMAGE_VIEW_TYPE_2D</code> or
    <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-textureCompressionETC2">ETC2 texture     compression</a> feature is not enabled, <code>format</code> <span role="normative">must</span> not be
    <code>VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code>,
    <code>VK_FORMAT_EAC_R11_UNORM_BLOCK</code>,
    <code>VK_FORMAT_EAC_R11_SNORM_BLOCK</code>,
    <code>VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code>, or
    <code>VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-textureCompressionASTC_LDR">ASTC LDR texture     compression</a> feature is not enabled, <code>format</code> <span role="normative">must</span> not be
    <code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code>,
    <code>VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code>,
    <code>VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code>, or
    <code>VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-textureCompressionBC">BC texture compression</a>
    feature is not enabled, <code>format</code> <span role="normative">must</span> not be
    <code>VK_FORMAT_BC1_RGB_UNORM_BLOCK</code>, <code>VK_FORMAT_BC1_RGB_SRGB_BLOCK</code>,
    <code>VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code>,
    <code>VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code>, <code>VK_FORMAT_BC2_UNORM_BLOCK</code>,
    <code>VK_FORMAT_BC2_SRGB_BLOCK</code>, <code>VK_FORMAT_BC3_UNORM_BLOCK</code>,
    <code>VK_FORMAT_BC3_SRGB_BLOCK</code>, <code>VK_FORMAT_BC4_UNORM_BLOCK</code>,
    <code>VK_FORMAT_BC4_SNORM_BLOCK</code>, <code>VK_FORMAT_BC5_UNORM_BLOCK</code>,
    <code>VK_FORMAT_BC5_SNORM_BLOCK</code>, <code>VK_FORMAT_BC6H_UFLOAT_BLOCK</code>,
    <code>VK_FORMAT_BC6H_SFLOAT_BLOCK</code>, <code>VK_FORMAT_BC7_UNORM_BLOCK</code>, or
    <code>VK_FORMAT_BC7_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
If <code>image</code> was created with <code>VK_IMAGE_TILING_LINEAR</code>,
    <code>format</code> <span role="normative">must</span> be format that has at least one supported feature bit
    present in the value of
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> have been created with a <code>usage</code> value containing
    at least one of <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>,
    <code>VK_IMAGE_USAGE_STORAGE_BIT</code>,
    <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
    <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, or
    <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>
</p>
</li>
<li>
<p>
If <code>image</code> was created with <code>VK_IMAGE_TILING_LINEAR</code> and
    <code>usage</code> containing <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, <code>format</code>
    <span role="normative">must</span> be supported for sampled images, as specified by the
    <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>
</p>
</li>
<li>
<p>
If <code>image</code> was created with <code>VK_IMAGE_TILING_LINEAR</code> and
    <code>usage</code> containing <code>VK_IMAGE_USAGE_STORAGE_BIT</code>, <code>format</code>
    <span role="normative">must</span> be supported for storage images, as specified by the
    <code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>
</p>
</li>
<li>
<p>
If <code>image</code> was created with <code>VK_IMAGE_TILING_LINEAR</code> and
    <code>usage</code> containing <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
    <code>format</code> <span role="normative">must</span> be supported for color attachments, as specified by
    the <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>
</p>
</li>
<li>
<p>
If <code>image</code> was created with <code>VK_IMAGE_TILING_LINEAR</code> and
    <code>usage</code> containing
    <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, <code>format</code> <span role="normative">must</span> be
    supported for depth/stencil attachments, as specified by the
    <code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>
</p>
</li>
<li>
<p>
If <code>image</code> was created with <code>VK_IMAGE_TILING_OPTIMAL</code>,
    <code>format</code> <span role="normative">must</span> be format that has at least one supported feature bit
    present in the value of
    <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>
</p>
</li>
<li>
<p>
If <code>image</code> was created with <code>VK_IMAGE_TILING_OPTIMAL</code> and
    <code>usage</code> containing <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, <code>format</code>
    <span role="normative">must</span> be supported for sampled images, as specified by the
    <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>
</p>
</li>
<li>
<p>
If <code>image</code> was created with <code>VK_IMAGE_TILING_OPTIMAL</code> and
    <code>usage</code> containing <code>VK_IMAGE_USAGE_STORAGE_BIT</code>, <code>format</code>
    <span role="normative">must</span> be supported for storage images, as specified by the
    <code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>
</p>
</li>
<li>
<p>
If <code>image</code> was created with <code>VK_IMAGE_TILING_OPTIMAL</code> and
    <code>usage</code> containing <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
    <code>format</code> <span role="normative">must</span> be supported for color attachments, as specified by
    the <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>
</p>
</li>
<li>
<p>
If <code>image</code> was created with <code>VK_IMAGE_TILING_OPTIMAL</code> and
    <code>usage</code> containing
    <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, <code>format</code> <span role="normative">must</span> be
    supported for depth/stencil attachments, as specified by the
    <code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code> with the same value of
    <code>format</code>
</p>
</li>
<li>
<p>
<code>subresourceRange</code> <span role="normative">must</span> be a valid image subresource range for
    <code>image</code> (see <a href="#resources-image-views">[resources-image-views]</a>)
</p>
</li>
<li>
<p>
If <code>image</code> was created with the
    <code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> flag, <code>format</code> <span role="normative">must</span> be
    compatible with the <code>format</code> used to create <code>image</code>, as defined
    in <a href="#features-formats-compatibility-classes">Format Compatibility     Classes</a>
</p>
</li>
<li>
<p>
If <code>image</code> was not created with the
    <code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> flag, <code>format</code> <span role="normative">must</span> be
    identical to the <code>format</code> used to create <code>image</code>
</p>
</li>
<li>
<p>
If <code>image</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>subResourceRange</code> and <code>viewType</code> <span role="normative">must</span> be compatible with the
    image, as described in the
    <a href="#resources-image-views-compatibility">compatibility table</a>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>viewType</code> <span role="normative">must</span> be a valid <code><a href="#VkImageViewType">VkImageViewType</a></code> value
</p>
</li>
<li>
<p>
<code>format</code> <span role="normative">must</span> be a valid <code><a href="#VkFormat">VkFormat</a></code> value
</p>
</li>
<li>
<p>
<code>components</code> <span role="normative">must</span> be a valid <code>VkComponentMapping</code> structure
</p>
</li>
<li>
<p>
<code>subresourceRange</code> <span role="normative">must</span> be a valid <code>VkImageSubresourceRange</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkImageSubresourceRange</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkImageSubresourceRange"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkImageSubresourceRange</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkImageAspectFlags</span>    aspectMask<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              baseMipLevel<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              levelCount<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              baseArrayLayer<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              layerCount<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkImageSubresourceRange<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>aspectMask</code> is a bitmask indicating which aspect(s) of the image
    are included in the view.
    See <code><a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code>.
</p>
</li>
<li>
<p>
<code>baseMipLevel</code> is the first mipmap level accessible to the view.
</p>
</li>
<li>
<p>
<code>levelCount</code> is the number of mipmap levels (starting from
    <code>baseMipLevel</code>) accessible to the view.
</p>
</li>
<li>
<p>
<code>baseArrayLayer</code> is the first array layer accessible to the view.
</p>
</li>
<li>
<p>
<code>layerCount</code> is the number of array layers (starting from
    <code>baseArrayLayer</code>) accessible to the view.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The number of mipmap levels and array layers <span role="normative">must</span> be a subset of the image
subresources in the image.
If an application wants to use all mip levels or layers in an image after
the <code>baseMipLevel</code> or <code>baseArrayLayer</code>, it <span role="normative">can</span> set <code>levelCount</code>
and <code>layerCount</code> to the special values <code>VK_REMAINING_MIP_LEVELS</code> and
<code>VK_REMAINING_ARRAY_LAYERS</code> without knowing the exact number of mip
levels or layers.</p></div>
<div class="paragraph"><p>For cube and cube array image views, the layers of the image view starting
at <code>baseArrayLayer</code> correspond to faces in the order +X, -X, +Y, -Y, +Z,
-Z.
For cube arrays, each set of six sequential layers is a single cube, so the
number of cube maps in a cube map array view is <em><code>layerCount</code> / 6</em>, and
image array layer <em><code>baseArrayLayer</code> + i</em> is face index <em>i mod 6</em> of cube
<em>i / 6</em>.
If the number of layers in the view, whether set explicitly in
<code>layerCount</code> or implied by <code>VK_REMAINING_ARRAY_LAYERS</code>, is not a
multiple of 6, behavior when indexing the last cube is undefined.</p></div>
<div class="paragraph"><p><code>aspectMask</code> is a bitmask indicating the format being used.
Bits which <span role="normative">may</span> be set include:</p></div>
<div class="listingblock">
<a id="VkImageAspectFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkImageAspectFlagBits <span style="color: #FF0000">{</span>
    VK_IMAGE_ASPECT_COLOR_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_IMAGE_ASPECT_DEPTH_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_IMAGE_ASPECT_STENCIL_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_IMAGE_ASPECT_METADATA_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkImageAspectFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The mask <span role="normative">must</span> be only <code>VK_IMAGE_ASPECT_COLOR_BIT</code>,
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or <code>VK_IMAGE_ASPECT_STENCIL_BIT</code> if
<code>format</code> is a color, depth-only or stencil-only format, respectively.
If using a depth/stencil format with both depth and stencil components,
<code>aspectMask</code> <span role="normative">must</span> include at least one of
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> and <code>VK_IMAGE_ASPECT_STENCIL_BIT</code>, and
<span role="normative">can</span> include both.</p></div>
<div class="paragraph"><p>When using an imageView of a depth/stencil image to populate a descriptor
set (e.g. for sampling in the shader, or for use as an input attachment),
the <code>aspectMask</code> <span role="normative">must</span> only include one bit and selects whether the
imageView is used for depth reads (i.e. using a floating-point sampler or
input attachment in the shader) or stencil reads (i.e. using an unsigned
integer sampler or input attachment in the shader).
When an imageView of a depth/stencil image is used as a depth/stencil
framebuffer attachment, the <code>aspectMask</code> is ignored and both depth and
stencil image subresources are used.</p></div>
<div class="paragraph"><p>The <code>components</code> member is of type <code><a href="#VkComponentMapping">VkComponentMapping</a></code>, and
describes a remapping from components of the image to components of the
vector returned by shader image instructions.
This remapping <span role="normative">must</span> be identity for storage image descriptors, input
attachment descriptors, and framebuffer attachments.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>levelCount</code> is not <code>VK_REMAINING_MIP_LEVELS</code>,
    <span class="eq"><code>levelCount</code></span> <span role="normative">must</span> be non-zero and <span class="eq">(<code>baseMipLevel</code>
    &#x002b; <code>levelCount</code>)</span> <span role="normative">must</span> be less than or equal to the
    <code>mipLevels</code> specified in <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the image was
    created
</p>
</li>
<li>
<p>
If the <code>imageType</code> specified in <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the
    image was created was <code>VK_IMAGE_TYPE_3D</code> and the image view is
    created with the <code>viewType</code> of <code><a href="#VkImageViewCreateInfo">VkImageViewCreateInfo</a></code> set to
    <code>VK_VIEW_TYPE_2D_ARRAY</code> then <code>layerCount</code> <span role="normative">must</span> be
    <code>VK_REMAINING_ARRAY_LAYERS</code>, or <span class="eq"><code>layerCount</code></span> <span role="normative">must</span> be
    non-zero and <span class="eq">(<code>baseArrayLayer</code> + <code>layerCount</code>)</span> <span role="normative">must</span> be
    less than or equal to the <code>extent.depth</code> specified in
    <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the image was created
</p>
</li>
<li>
<p>
If the <code>imageType</code> specified in <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the
    image was created was not <code>VK_IMAGE_TYPE_3D</code> or the image view is
    not created with the <code>viewType</code> of <code><a href="#VkImageViewCreateInfo">VkImageViewCreateInfo</a></code> set
    to <code>VK_VIEW_TYPE_2D_ARRAY</code> then <code>layerCount</code> <span role="normative">must</span> be
    <code>VK_REMAINING_ARRAY_LAYERS</code>, or <span class="eq"><code>layerCount</code></span> <span role="normative">must</span> be
    non-zero and <span class="eq">(<code>baseArrayLayer</code> + <code>layerCount</code>)</span> <span role="normative">must</span> be
    less than or equal to the <code>arrayLayers</code> specified in
    <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the image was created
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>aspectMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>aspectMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkComponentMapping</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkComponentMapping"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkComponentMapping</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkComponentSwizzle</span>    r<span style="color: #990000">;</span>
    <span style="color: #008080">VkComponentSwizzle</span>    g<span style="color: #990000">;</span>
    <span style="color: #008080">VkComponentSwizzle</span>    b<span style="color: #990000">;</span>
    <span style="color: #008080">VkComponentSwizzle</span>    a<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkComponentMapping<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>r</code> determines the component value placed in the R component of the
    output vector.
</p>
</li>
<li>
<p>
<code>g</code> determines the component value placed in the G component of the
    output vector.
</p>
</li>
<li>
<p>
<code>b</code> determines the component value placed in the B component of the
    output vector.
</p>
</li>
<li>
<p>
<code>a</code> determines the component value placed in the A component of the
    output vector.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Each of <code>r</code>, <code>g</code>, <code>b</code>, and <code>a</code> is one of the values:</p></div>
<div class="listingblock">
<a id="VkComponentSwizzle"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkComponentSwizzle <span style="color: #FF0000">{</span>
    VK_COMPONENT_SWIZZLE_IDENTITY <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_COMPONENT_SWIZZLE_ZERO <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_COMPONENT_SWIZZLE_ONE <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_COMPONENT_SWIZZLE_R <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_COMPONENT_SWIZZLE_G <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_COMPONENT_SWIZZLE_B <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_COMPONENT_SWIZZLE_A <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkComponentSwizzle<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_COMPONENT_SWIZZLE_IDENTITY</code>: the component is set to the
    identity swizzle.
</p>
</li>
<li>
<p>
<code>VK_COMPONENT_SWIZZLE_ZERO</code>: the component is set to zero.
</p>
</li>
<li>
<p>
<code>VK_COMPONENT_SWIZZLE_ONE</code>: the component is set to either 1 or 1.0
    depending on whether the type of the image view format is integer or
    floating-point respectively, as determined by the
    <a href="#features-formats-definition">Format Definition</a> section for each
    <code><a href="#VkFormat">VkFormat</a></code>.
</p>
</li>
<li>
<p>
<code>VK_COMPONENT_SWIZZLE_R</code>: the component is set to the value of the R
    component of the image.
</p>
</li>
<li>
<p>
<code>VK_COMPONENT_SWIZZLE_G</code>: the component is set to the value of the G
    component of the image.
</p>
</li>
<li>
<p>
<code>VK_COMPONENT_SWIZZLE_B</code>: the component is set to the value of the B
    component of the image.
</p>
</li>
<li>
<p>
<code>VK_COMPONENT_SWIZZLE_A</code>: the component is set to the value of the A
    component of the image.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Setting the identity swizzle on a component is equivalent to setting the
identity mapping on that component.
That is:</p></div>
<table class="tableblock frame-all grid-all" id="resources-image-views-identity-mappings"
style="
width:100%;
">
<caption class="title">Table 9. Component Mappings Equivalent To <code>VK_COMPONENT_SWIZZLE_IDENTITY</code></caption>
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Component          </th>
<th class="tableblock halign-left valign-top" > Identity Mapping</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>components.r</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_COMPONENT_SWIZZLE_R</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>components.g</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_COMPONENT_SWIZZLE_G</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>components.b</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_COMPONENT_SWIZZLE_B</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>components.a</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_COMPONENT_SWIZZLE_A</code></p></td>
</tr>
</tbody>
</table>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>r</code> <span role="normative">must</span> be a valid <code><a href="#VkComponentSwizzle">VkComponentSwizzle</a></code> value
</p>
</li>
<li>
<p>
<code>g</code> <span role="normative">must</span> be a valid <code><a href="#VkComponentSwizzle">VkComponentSwizzle</a></code> value
</p>
</li>
<li>
<p>
<code>b</code> <span role="normative">must</span> be a valid <code><a href="#VkComponentSwizzle">VkComponentSwizzle</a></code> value
</p>
</li>
<li>
<p>
<code>a</code> <span role="normative">must</span> be a valid <code><a href="#VkComponentSwizzle">VkComponentSwizzle</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To destroy an image view, call:</p></div>
<div class="listingblock">
<a id="vkDestroyImageView"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyImageView</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageView</span>                                 imageView<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the image view.
</p>
</li>
<li>
<p>
<code>imageView</code> is the image view to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted commands that refer to <code>imageView</code> <span role="normative">must</span> have
    completed execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>imageView</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>imageView</code> was
    created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>imageView</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>imageView</code> <span role="normative">must</span> be a valid <code>VkImageView</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>imageView</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>imageView</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="resources-association">11.6. Resource Memory Association</h3>
<div class="paragraph"><p>Resources are initially created as <em>virtual allocations</em> with no backing
memory.
Device memory is allocated separately (see <a href="#memory-device">[memory-device]</a>) and then
associated with the resource.
This association is done differently for sparse and non-sparse resources.</p></div>
<div class="paragraph"><p>Resources created with any of the sparse creation flags are considered
sparse resources.
Resources created without these flags are non-sparse.
The details on resource memory association for sparse resources is described
in <a href="#sparsememory">[sparsememory]</a>.</p></div>
<div class="paragraph"><p>Non-sparse resources <span role="normative">must</span> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object before the resource is passed as a parameter to
any of the following operations:</p></div>
<div class="ulist"><ul>
<li>
<p>
creating image or buffer views
</p>
</li>
<li>
<p>
updating descriptor sets
</p>
</li>
<li>
<p>
recording commands in a command buffer
</p>
</li>
</ul></div>
<div class="paragraph"><p>Once bound, the memory binding is immutable for the lifetime of the
resource.</p></div>
<div class="paragraph"><p>To determine the memory requirements for a buffer resource, call:</p></div>
<div class="listingblock">
<a id="vkGetBufferMemoryRequirements"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetBufferMemoryRequirements</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    buffer<span style="color: #990000">,</span>
    VkMemoryRequirements<span style="color: #990000">*</span>                       pMemoryRequirements<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the buffer.
</p>
</li>
<li>
<p>
<code>buffer</code> is the buffer to query.
</p>
</li>
<li>
<p>
<code>pMemoryRequirements</code> points to an instance of the
    <code><a href="#VkMemoryRequirements">VkMemoryRequirements</a></code> structure in which the memory requirements of
    the buffer object are returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pMemoryRequirements</code> <span role="normative">must</span> be a pointer to a <code>VkMemoryRequirements</code> structure
</p>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To determine the memory requirements for an image resource, call:</p></div>
<div class="listingblock">
<a id="vkGetImageMemoryRequirements"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetImageMemoryRequirements</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     image<span style="color: #990000">,</span>
    VkMemoryRequirements<span style="color: #990000">*</span>                       pMemoryRequirements<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the image.
</p>
</li>
<li>
<p>
<code>image</code> is the image to query.
</p>
</li>
<li>
<p>
<code>pMemoryRequirements</code> points to an instance of the
    <code><a href="#VkMemoryRequirements">VkMemoryRequirements</a></code> structure in which the memory requirements of
    the image object are returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>pMemoryRequirements</code> <span role="normative">must</span> be a pointer to a <code>VkMemoryRequirements</code> structure
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkMemoryRequirements</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkMemoryRequirements"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkMemoryRequirements</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkDeviceSize</span>    size<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>    alignment<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>        memoryTypeBits<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkMemoryRequirements<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>size</code> is the size, in bytes, of the memory allocation <span role="normative">required</span> for
    the resource.
</p>
</li>
<li>
<p>
<code>alignment</code> is the alignment, in bytes, of the offset within the
    allocation <span role="normative">required</span> for the resource.
</p>
</li>
<li>
<p>
<code>memoryTypeBits</code> is a bitmask and contains one bit set for every
    supported memory type for the resource.
    Bit <span class="monospaced">i</span> is set if and only if the memory type <span class="monospaced">i</span> in the
    <code>VkPhysicalDeviceMemoryProperties</code> structure for the physical device
    is supported for the resource.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The implementation guarantees certain properties about the memory
requirements returned by <code><a href="#vkGetBufferMemoryRequirements">vkGetBufferMemoryRequirements</a></code> and
<code><a href="#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a></code>:</p></div>
<div class="ulist"><ul>
<li>
<p>
The <code>memoryTypeBits</code> member always contains at least one bit set.
</p>
</li>
<li>
<p>
If <code>buffer</code> is a <code>VkBuffer</code> not created with the
    <code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> bit set, or if <code>image</code> is
    a <code>VkImage</code> that was created with a <code>VK_IMAGE_TILING_LINEAR</code>
    value in the <code>tiling</code> member of the <code>VkImageCreateInfo</code>
    structure passed to <code>vkCreateImage</code>, then the <code>memoryTypeBits</code>
    member always contains at least one bit set corresponding to a
    <code>VkMemoryType</code> with a <code>propertyFlags</code> that has both the
    <code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> bit and the
    <code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> bit set.
    In other words, mappable coherent memory <span role="normative">can</span> always be attached to
    these objects.
</p>
</li>
<li>
<p>
The <code>memoryTypeBits</code> member always contains at least one bit set
    corresponding to a <code>VkMemoryType</code> with a <code>propertyFlags</code> that
    has the <code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> bit set.
</p>
</li>
<li>
<p>
The <code>memoryTypeBits</code> member is identical for all <code>VkBuffer</code>
    objects created with the same value for the <code>flags</code> and <code>usage</code>
    members in the <code>VkBufferCreateInfo</code> structure passed to
    <code>vkCreateBuffer</code>.
    Further, if <code>usage1</code> and <code>usage2</code> of type <code><a href="#VkBufferUsageFlags">VkBufferUsageFlags</a></code>
    are such that the bits set in <code>usage2</code> are a subset of the bits set
    in <code>usage1</code>, and they have the same <code>flags</code>, then the bits set in
    <code>memoryTypeBits</code> returned for <code>usage1</code> <span role="normative">must</span> be a subset of the
    bits set in <code>memoryTypeBits</code> returned for <code>usage2</code>, for all
    values of <code>flags</code>.
</p>
</li>
<li>
<p>
The <code>alignment</code> member is a power of two.
</p>
</li>
<li>
<p>
The <code>alignment</code> member is identical for all <code>VkBuffer</code> objects
    created with the same combination of values for the <code>usage</code> and
    <code>flags</code> members in the <code>VkBufferCreateInfo</code> structure passed to
    <code>vkCreateBuffer</code>.
</p>
</li>
<li>
<p>
For images created with a color format, the <code>memoryTypeBits</code> member
    is identical for all <code>VkImage</code> objects created with the same
    combination of values for the <code>tiling</code> member, the
    <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> bit of the <code>flags</code> member,
    and the <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> of the <code>usage</code>
    member in the <code>VkImageCreateInfo</code> structure passed to
    <code>vkCreateImage</code>.
</p>
</li>
<li>
<p>
For images created with a depth/stencil format, the <code>memoryTypeBits</code>
    member is identical for all <code>VkImage</code> objects created with the same
    combination of values for the <code>format</code> member, the <code>tiling</code>
    member, the <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> bit of the
    <code>flags</code> member, and the
    <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> of the <code>usage</code> member
    in the <code>VkImageCreateInfo</code> structure passed to <code>vkCreateImage</code>.
</p>
</li>
<li>
<p>
If the memory requirements are for a <code>VkImage</code>, the
    <code>memoryTypeBits</code> member <span role="normative">must</span> not refer to a <code>VkMemoryType</code> with
    a <code>propertyFlags</code> that has the
    <code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set if the
    <code><a href="#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a></code>::<code>image</code> did not have
    <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> bit set in the <code>usage</code>
    member of the <code>VkImageCreateInfo</code> structure passed to
    <code>vkCreateImage</code>.
</p>
</li>
<li>
<p>
If the memory requirements are for a <code>VkBuffer</code>, the
    <code>memoryTypeBits</code> member <span role="normative">must</span> not refer to a <code>VkMemoryType</code> with
    a <code>propertyFlags</code> that has the
    <code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set.
</p>
<div class="openblock">
<div class="content">
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The implication of this requirement is that lazily allocated memory is
disallowed for buffers in all cases.</p></div>
</td>
</tr></table>
</div>
</div></div>
</li>
</ul></div>
<div class="paragraph"><p>To attach memory to a buffer object, call:</p></div>
<div class="listingblock">
<a id="vkBindBufferMemory"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkBindBufferMemory</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    buffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceMemory</span>                              memory<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                memoryOffset<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the buffer and memory.
</p>
</li>
<li>
<p>
<code>buffer</code> is the buffer.
</p>
</li>
<li>
<p>
<code>memory</code> is a <code>VkDeviceMemory</code> object describing the device
    memory to attach.
</p>
</li>
<li>
<p>
<code>memoryOffset</code> is the start offset of the region of <code>memory</code>
    which is to be bound to the buffer.
    The number of bytes returned in the
    <code>VkMemoryRequirements</code>::<code>size</code> member in <code>memory</code>, starting
    from <code>memoryOffset</code> bytes, will be bound to the specified buffer.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> not already be backed by a memory object
</p>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> not have been created with any sparse memory binding
    flags
</p>
</li>
<li>
<p>
<code>memoryOffset</code> <span role="normative">must</span> be less than the size of <code>memory</code>
</p>
</li>
<li>
<p>
If <code>buffer</code> was created with the
    <code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> or
    <code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code>, <code>memoryOffset</code> <span role="normative">must</span>
    be a multiple of
    <code>VkPhysicalDeviceLimits</code>::<code>minTexelBufferOffsetAlignment</code>
</p>
</li>
<li>
<p>
If <code>buffer</code> was created with the
    <code>VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</code>, <code>memoryOffset</code> <span role="normative">must</span> be a
    multiple of
    <code>VkPhysicalDeviceLimits</code>::<code>minUniformBufferOffsetAlignment</code>
</p>
</li>
<li>
<p>
If <code>buffer</code> was created with the
    <code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code>, <code>memoryOffset</code> <span role="normative">must</span> be a
    multiple of
    <code>VkPhysicalDeviceLimits</code>::<code>minStorageBufferOffsetAlignment</code>
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> have been allocated using one of the memory types
    allowed in the <code>memoryTypeBits</code> member of the
    <code>VkMemoryRequirements</code> structure returned from a call to
    <code>vkGetBufferMemoryRequirements</code> with <code>buffer</code>
</p>
</li>
<li>
<p>
<code>memoryOffset</code> <span role="normative">must</span> be an integer multiple of the <code>alignment</code>
    member of the <code>VkMemoryRequirements</code> structure returned from a call
    to <code>vkGetBufferMemoryRequirements</code> with <code>buffer</code>
</p>
</li>
<li>
<p>
The <code>size</code> member of the <code>VkMemoryRequirements</code> structure
    returned from a call to <code>vkGetBufferMemoryRequirements</code> with
    <code>buffer</code> <span role="normative">must</span> be less than or equal to the size of <code>memory</code>
    minus <code>memoryOffset</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> be a valid <code>VkDeviceMemory</code> handle
</p>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>buffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>To attach memory to an image object, call:</p></div>
<div class="listingblock">
<a id="vkBindImageMemory"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkBindImageMemory</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     image<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceMemory</span>                              memory<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                memoryOffset<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the image and memory.
</p>
</li>
<li>
<p>
<code>image</code> is the image.
</p>
</li>
<li>
<p>
<code>memory</code> is the a <code>VkDeviceMemory</code> object describing the device
    memory to attach.
</p>
</li>
<li>
<p>
<code>memoryOffset</code> is the start offset of the region of <code>memory</code>
    which is to be bound to the image.
    The number of bytes returned in the
    <code>VkMemoryRequirements</code>::<code>size</code> member in <code>memory</code>, starting
    from <code>memoryOffset</code> bytes, will be bound to the specified image.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>image</code> <span role="normative">must</span> not already be backed by a memory object
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> not have been created with any sparse memory binding
    flags
</p>
</li>
<li>
<p>
<code>memoryOffset</code> <span role="normative">must</span> be less than the size of <code>memory</code>
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> have been allocated using one of the memory types
    allowed in the <code>memoryTypeBits</code> member of the
    <code>VkMemoryRequirements</code> structure returned from a call to
    <code>vkGetImageMemoryRequirements</code> with <code>image</code>
</p>
</li>
<li>
<p>
<code>memoryOffset</code> <span role="normative">must</span> be an integer multiple of the <code>alignment</code>
    member of the <code>VkMemoryRequirements</code> structure returned from a call
    to <code>vkGetImageMemoryRequirements</code> with <code>image</code>
</p>
</li>
<li>
<p>
The <code>size</code> member of the <code>VkMemoryRequirements</code> structure
    returned from a call to <code>vkGetImageMemoryRequirements</code> with
    <code>image</code> <span role="normative">must</span> be less than or equal to the size of <code>memory</code>
    minus <code>memoryOffset</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> be a valid <code>VkDeviceMemory</code> handle
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
<li>
<p>
<code>memory</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>image</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph" id="resources-bufferimagegranularity"><div class="title">Buffer-Image Granularity</div><p>There is an implementation-dependent limit, <code>bufferImageGranularity</code>,
which specifies a page-like granularity at which buffer, linear image and
optimal image resources <span role="normative">must</span> be placed in adjacent memory locations to
avoid aliasing.
Two resources which do not satisfy this granularity requirement are said to
<a href="#resources-memory-aliasing">alias</a>.
Linear image resource are images created with <code>VK_IMAGE_TILING_LINEAR</code>
and optimal image resources are those created with
<code>VK_IMAGE_TILING_OPTIMAL</code>.
<code>bufferImageGranularity</code> is specified in bytes, and <span role="normative">must</span> be a power of
two.
Implementations which do not require such an additional granularity <span role="normative">may</span>
report a value of one.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p><code>bufferImageGranularity</code> is really a granularity between "linear"
resources, including buffers and images with linear tiling, vs.
"optimal" resources, i.e. images with optimal tiling.
It would have been better named "linearOptimalGranularity".</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Given resourceA at the lower memory offset and resourceB at the higher
memory offset in the same <code>VkDeviceMemory</code> object, where one of the
resources is a buffer or a linear image and the other is an optimal image,
and the following:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>resourceA<span style="color: #990000">.</span>end       <span style="color: #990000">=</span> resourceA<span style="color: #990000">.</span>memoryOffset <span style="color: #990000">+</span> resourceA<span style="color: #990000">.</span>size <span style="color: #990000">-</span> <span style="color: #993399">1</span>
resourceA<span style="color: #990000">.</span>endPage   <span style="color: #990000">=</span> resourceA<span style="color: #990000">.</span>end <span style="color: #990000">&amp;</span> <span style="color: #990000">~(</span>bufferImageGranularity<span style="color: #990000">-</span><span style="color: #993399">1</span><span style="color: #990000">)</span>
resourceB<span style="color: #990000">.</span>start     <span style="color: #990000">=</span> resourceB<span style="color: #990000">.</span>memoryOffset
resourceB<span style="color: #990000">.</span>startPage <span style="color: #990000">=</span> resourceB<span style="color: #990000">.</span>start <span style="color: #990000">&amp;</span> <span style="color: #990000">~(</span>bufferImageGranularity<span style="color: #990000">-</span><span style="color: #993399">1</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>The following property <span role="normative">must</span> hold:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>resourceA<span style="color: #990000">.</span>endPage <span style="color: #990000">&lt;</span> resourceB<span style="color: #990000">.</span>startPage</tt></pre></div></div>
<div class="paragraph"><p>That is, the end of the first resource (A) and the beginning of the second
resource (B) <span role="normative">must</span> be on separate &#8220;pages&#8221; of size
<code>bufferImageGranularity</code>.
<code>bufferImageGranularity</code> <span role="normative">may</span> be different than the physical page size
of the memory heap.
This restriction is only needed when a buffer or a linear image is at
adjacent memory location with an optimal image and both will be used
simultaneously.
Adjacent buffers' or adjacent images' memory ranges <span role="normative">can</span> be closer than
<code>bufferImageGranularity</code>, provided they meet the <code>alignment</code>
requirement for the objects in question.</p></div>
<div class="paragraph"><p>Sparse block size in bytes and sparse image and buffer memory alignments
<span role="normative">must</span> all be multiples of the <code>bufferImageGranularity</code>.
Therefore, memory bound to sparse resources naturally satisfies the
<code>bufferImageGranularity</code>.</p></div>
</div>
<div class="sect2">
<h3 id="resources-sharing">11.7. Resource Sharing Mode</h3>
<div class="paragraph"><p>Buffer and image objects are created with a <em>sharing mode</em> controlling how
they <span role="normative">can</span> be accessed from queues.
The supported sharing modes are:</p></div>
<div class="listingblock">
<a id="VkSharingMode"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkSharingMode <span style="color: #FF0000">{</span>
    VK_SHARING_MODE_EXCLUSIVE <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_SHARING_MODE_CONCURRENT <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkSharingMode<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SHARING_MODE_EXCLUSIVE</code> specifies that access to any range or
    image subresource of the object will be exclusive to a single queue
    family at a time.
</p>
</li>
<li>
<p>
<code>VK_SHARING_MODE_CONCURRENT</code> specifies that concurrent access to any
    range or image subresource of the object from multiple queue families is
    supported.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p><code>VK_SHARING_MODE_CONCURRENT</code> <span role="normative">may</span> result in lower performance access to
the buffer or image than <code>VK_SHARING_MODE_EXCLUSIVE</code>.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Ranges of buffers and image subresources of image objects created using
<code>VK_SHARING_MODE_EXCLUSIVE</code> <span role="normative">must</span> only be accessed by queues in the same
queue family at any given time.
In order for a different queue family to be able to interpret the memory
contents of a range or image subresource, the application <span role="normative">must</span> perform a
<a href="#synchronization-queue-transfers">queue family ownership transfer</a>.</p></div>
<div class="paragraph"><p>Upon creation, resources using <code>VK_SHARING_MODE_EXCLUSIVE</code> are not owned
by any queue family.
A buffer or image memory barrier is not required to acquire <em>ownership</em> when
no queue family owns the resource - it is implicitly acquired upon first use
within a queue.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Images still require a <a href="#resources-image-layouts">layout transition</a> from
<code>VK_IMAGE_LAYOUT_UNDEFINED</code> or <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>
before being used on the first queue.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>A queue family <span role="normative">can</span> take ownership of an image subresource or buffer range
of a resource created with <code>VK_SHARING_MODE_EXCLUSIVE</code>, without an
ownership transfer, in the same way as for a resource that was just created;
however, taking ownership in this way has the effect that the contents of
the image subresource or buffer range are undefined.</p></div>
<div class="paragraph"><p>Ranges of buffers and image subresources of image objects created using
<code>VK_SHARING_MODE_CONCURRENT</code> <span role="normative">must</span> only be accessed by queues from the
queue families specified through the <code>queueFamilyIndexCount</code> and
<code>pQueueFamilyIndices</code> members of the corresponding create info
structures.</p></div>
</div>
<div class="sect2">
<h3 id="resources-memory-aliasing">11.8. Memory Aliasing</h3>
<div class="paragraph"><p>A range of a <code>VkDeviceMemory</code> allocation is <em>aliased</em> if it is bound to
multiple resources simultaneously, via <code><a href="#vkBindImageMemory">vkBindImageMemory</a></code>,
<code><a href="#vkBindBufferMemory">vkBindBufferMemory</a></code>, or via <a href="#sparsememory-resource-binding">sparse memory bindings</a>.
A memory range aliased between two images or two buffers is defined to be
the intersection of the memory ranges bound to the two resources.
A memory range aliased between two resources where one is a buffer or a
linear image, and the other is an optimal image, is defined to be the
intersection of the memory ranges bound to the two resources, where each
range is first padded to be aligned to the <code>bufferImageGranularity</code>.
Applications <span role="normative">can</span> alias memory, but use of multiple aliases is subject to
several constraints.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Memory aliasing <span role="normative">can</span> be useful to reduce the total device memory footprint
of an application, if some large resources are used for disjoint periods of
time.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>When an opaque, non-<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> image is
bound to an aliased range, all image subresources of the image <em>overlap</em> the
range.
When a linear image is bound to an aliased range, the image subresources
that (according to the image&#8217;s advertised layout) include bytes from the
aliased range overlap the range.
When a <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> image has sparse image
blocks bound to an aliased range, only image subresources including those
sparse image blocks overlap the range, and when the memory bound to the
image&#8217;s mip tail overlaps an aliased range all image subresources in the mip
tail overlap the range.</p></div>
<div class="paragraph"><p>Buffers, and linear image subresources in either the
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> or <code>VK_IMAGE_LAYOUT_GENERAL</code>
layouts, are <em>host-accessible subresources</em>.
That is, the host has a well-defined addressing scheme to interpret the
contents, and thus the layout of the data in memory <span role="normative">can</span> be consistently
interpreted across aliases if each of those aliases is a host-accessible
subresource.
Opaque images and linear image subresources in other layouts are not
host-accessible.</p></div>
<div class="paragraph"><p>If two aliases are both host-accessible, then they interpret the contents of
the memory in consistent ways, and data written to one alias <span role="normative">can</span> be read by
the other alias.</p></div>
<div class="paragraph"><p>If either of two aliases is not host-accessible, then the aliases interpret
the contents of the memory differently, and writes via one alias make the
contents of memory partially or completely undefined to the other alias.
If the first alias is a host-accessible subresource, then the bytes affected
are those written by the memory operations according to its addressing
scheme.
If the first alias is not host-accessible, then the bytes affected are those
overlapped by the image subresources that were written.
If the second alias is a host-accessible subresource, the affected bytes
become undefined.
If the second alias is a not host-accessible, all sparse image blocks (for
sparse partially-resident images) or all image subresources (for non-sparse
image and fully resident sparse images) that overlap the affected bytes
become undefined.</p></div>
<div class="paragraph"><p>If any image subresources are made undefined due to writes to an alias, then
each of those image subresources <span role="normative">must</span> have its layout transitioned from
<code>VK_IMAGE_LAYOUT_UNDEFINED</code> to a valid layout before it is used, or from
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> if the memory has been written by the
host.
If any sparse blocks of a sparse image have been made undefined, then only
the image subresources containing them <span role="normative">must</span> be transitioned.</p></div>
<div class="paragraph"><p>Use of an overlapping range by two aliases <span role="normative">must</span> be separated by a memory
dependency using the appropriate <a href="#synchronization-access-types">access types</a> if at least one of those uses performs writes, whether the aliases
interpret memory consistently or not.
If buffer or image memory barriers are used, the scope of the barrier <span role="normative">must</span>
contain the entire range and/or set of image subresources that overlap.</p></div>
<div class="paragraph"><p>If two aliasing image views are used in the same framebuffer, then the
render pass <span role="normative">must</span> declare the attachments using the
<a href="#renderpass-aliasing"><code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code></a>, and
follow the other rules listed in that section.</p></div>
<div class="paragraph"><p>Access to resources which alias memory from shaders using variables
decorated with <code>Coherent</code> are not automatically coherent with each other.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Memory recycled via an application suballocator (i.e. without freeing and
reallocating the memory objects) is not substantially different from memory
aliasing.
However, a suballocator usually waits on a fence before recycling a region
of memory, and signaling a fence involves sufficient implicit dependencies
to satisfy all the above requirements.</p></div>
</td>
</tr></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="samplers">12. Samplers</h2>
<div class="sectionbody">
<div class="paragraph"><p><code>VkSampler</code> objects represent the state of an image sampler which is
used by the implementation to read image data and apply filtering and other
transformations for the shader.</p></div>
<div class="paragraph"><p>Samplers are represented by <code>VkSampler</code> handles:</p></div>
<div class="listingblock">
<a id="VkSampler"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkSampler<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create a sampler object, call:</p></div>
<div class="listingblock">
<a id="vkCreateSampler"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateSampler</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSamplerCreateInfo<span style="color: #990000">*</span>                  pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkSampler<span style="color: #990000">*</span>                                  pSampler<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the sampler.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code><a href="#VkSamplerCreateInfo">VkSamplerCreateInfo</a></code> structure specifying the state of the sampler
    object.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pSampler</code> points to a <code>VkSampler</code> handle in which the resulting
    sampler object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkSamplerCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pSampler</code> <span role="normative">must</span> be a pointer to a <code>VkSampler</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_TOO_MANY_OBJECTS</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkSamplerCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSamplerCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSamplerCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>         sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>             pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkSamplerCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkFilter</span>                magFilter<span style="color: #990000">;</span>
    <span style="color: #008080">VkFilter</span>                minFilter<span style="color: #990000">;</span>
    <span style="color: #008080">VkSamplerMipmapMode</span>     mipmapMode<span style="color: #990000">;</span>
    <span style="color: #008080">VkSamplerAddressMode</span>    addressModeU<span style="color: #990000">;</span>
    <span style="color: #008080">VkSamplerAddressMode</span>    addressModeV<span style="color: #990000">;</span>
    <span style="color: #008080">VkSamplerAddressMode</span>    addressModeW<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                   mipLodBias<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                anisotropyEnable<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                   maxAnisotropy<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                compareEnable<span style="color: #990000">;</span>
    <span style="color: #008080">VkCompareOp</span>             compareOp<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                   minLod<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                   maxLod<span style="color: #990000">;</span>
    <span style="color: #008080">VkBorderColor</span>           borderColor<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                unnormalizedCoordinates<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSamplerCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>magFilter</code> is the magnification filter to apply to lookups, and is
    of type:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkFilter"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkFilter <span style="color: #FF0000">{</span>
    VK_FILTER_NEAREST <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_FILTER_LINEAR <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkFilter<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
</li>
<li>
<p>
<code>minFilter</code> is the minification filter to apply to lookups, and is
    of type <code><a href="#VkFilter">VkFilter</a></code>.
</p>
</li>
<li>
<p>
<code>mipmapMode</code> is the mipmap filter to apply to lookups as described
    in the <a href="#textures-texel-filtering">Texel Filtering</a> section, and is of
    type:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkSamplerMipmapMode"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkSamplerMipmapMode <span style="color: #FF0000">{</span>
    VK_SAMPLER_MIPMAP_MODE_NEAREST <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_SAMPLER_MIPMAP_MODE_LINEAR <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkSamplerMipmapMode<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
</li>
<li>
<p>
<code>addressModeU</code> is the addressing mode for outside [0..1] range for U
    coordinate.
    See <code><a href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code>.
</p>
</li>
<li>
<p>
<code>addressModeV</code> is the addressing mode for outside [0..1] range for V
    coordinate.
    See <code><a href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code>.
</p>
</li>
<li>
<p>
<code>addressModeW</code> is the addressing mode for outside [0..1] range for W
    coordinate.
    See <code><a href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code>.
</p>
</li>
<li>
<p>
<a id="samplers-mipLodBias"></a> <code>mipLodBias</code> is the bias to be added to
    mipmap LOD calculation and bias provided by image sampling functions in
    SPIR-V, as described in the <a href="#textures-level-of-detail-operation">Level-of-Detail Operation</a> section.
</p>
</li>
<li>
<p>
<a id="samplers-maxAnisotropy"></a> <code>anisotropyEnable</code> is <code>VK_TRUE</code> to
    enable anisotropic filtering, as described in the
    <a href="#textures-texel-anisotropic-filtering">Texel Anisotropic Filtering</a>
    section, or <code>VK_FALSE</code> otherwise.
</p>
</li>
<li>
<p>
<code>maxAnisotropy</code> is the anisotropy value clamp.
</p>
</li>
<li>
<p>
<code>compareEnable</code> is <code>VK_TRUE</code> to enable comparison against a
    reference value during lookups, or <code>VK_FALSE</code> otherwise.
</p>
<div class="ulist"><ul>
<li>
<p>
Note: Some implementations will default to shader state if this member
     does not match.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>compareOp</code> is the comparison function to apply to fetched data
    before filtering as described in the <a href="#textures-depth-compare-operation">Depth Compare Operation</a> section.
    See <code><a href="#VkCompareOp">VkCompareOp</a></code>.
</p>
</li>
<li>
<p>
<code>minLod</code> and <code>maxLod</code> are the values used to clamp the computed
    level-of-detail value, as described in the
    <a href="#textures-level-of-detail-operation">Level-of-Detail Operation</a>
    section.
    <code>maxLod</code> <span role="normative">must</span> be greater than or equal to <code>minLod</code>.
</p>
</li>
<li>
<p>
<code>borderColor</code> is the predefined border color to use, as described in
    the <a href="#textures-texel-replacement">Texel Replacement</a> section, and is of
    type:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkBorderColor"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkBorderColor <span style="color: #FF0000">{</span>
    VK_BORDER_COLOR_FLOAT_TRANSPARENT_BLACK <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_BORDER_COLOR_INT_TRANSPARENT_BLACK <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_BORDER_COLOR_FLOAT_OPAQUE_BLACK <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_BORDER_COLOR_INT_OPAQUE_BLACK <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_BORDER_COLOR_FLOAT_OPAQUE_WHITE <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_BORDER_COLOR_INT_OPAQUE_WHITE <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkBorderColor<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
</li>
<li>
<p>
<a id="samplers-unnormalizedCoordinates"></a> <code>unnormalizedCoordinates</code>
    controls whether to use unnormalized or normalized texel coordinates to
    address texels of the image.
    When set to <code>VK_TRUE</code>, the range of the image coordinates used to
    lookup the texel is in the range of zero to the image dimensions for x,
    y and z.
    When set to <code>VK_FALSE</code> the range of image coordinates is zero to
    one.
    When <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, samplers have the
    following requirements:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>minFilter</code> and <code>magFilter</code> <span role="normative">must</span> be equal.
</p>
</li>
<li>
<p>
<code>mipmapMode</code> <span role="normative">must</span> be <code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code>.
</p>
</li>
<li>
<p>
<code>minLod</code> and <code>maxLod</code> <span role="normative">must</span> be zero.
</p>
</li>
<li>
<p>
<code>addressModeU</code> and <code>addressModeV</code> <span role="normative">must</span> each be either
     <code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code> or
     <code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER</code>.
</p>
</li>
<li>
<p>
<code>anisotropyEnable</code> <span role="normative">must</span> be <code>VK_FALSE</code>.
</p>
</li>
<li>
<p>
<code>compareEnable</code> <span role="normative">must</span> be <code>VK_FALSE</code>.
</p>
</li>
</ul></div>
</li>
<li>
<p>
When <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, images the sampler
    is used with in the shader have the following requirements:
</p>
<div class="ulist"><ul>
<li>
<p>
The <code>viewType</code> <span role="normative">must</span> be either <code>VK_IMAGE_VIEW_TYPE_1D</code> or
     <code>VK_IMAGE_VIEW_TYPE_2D</code>.
</p>
</li>
<li>
<p>
The image view <span role="normative">must</span> have a single layer and a single mip level.
</p>
</li>
</ul></div>
</li>
<li>
<p>
When <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, image built-in
    functions in the shader that use the sampler have the following
    requirements:
</p>
<div class="ulist"><ul>
<li>
<p>
The functions <span role="normative">must</span> not use projection.
</p>
</li>
<li>
<p>
The functions <span role="normative">must</span> not use offsets.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Mapping of OpenGL to Vulkan filter modes</div>
<div class="paragraph"><p><code>magFilter</code> values of <code>VK_FILTER_NEAREST</code> and <code>VK_FILTER_LINEAR</code>
directly correspond to <code>GL_NEAREST</code> and <code>GL_LINEAR</code> magnification
filters.
<code>minFilter</code> and <code>mipmapMode</code> combine to correspond to the similarly
named OpenGL minification filter of <code>GL_minFilter_MIPMAP_mipmapMode</code>
(e.g. <code>minFilter</code> of <code>VK_FILTER_LINEAR</code> and <code>mipmapMode</code> of
<code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code> correspond to
<code>GL_LINEAR_MIPMAP_NEAREST</code>).</p></div>
<div class="paragraph"><p>There are no Vulkan filter modes that directly correspond to OpenGL
minification filters of <code>GL_LINEAR</code> or <code>GL_NEAREST</code>, but they <span role="normative">can</span> be
emulated using <code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code>, <code>minLod</code> = 0, and
<code>maxLod</code> = 0.25, and using <code>minFilter</code> = <code>VK_FILTER_LINEAR</code> or
<code>minFilter</code> = <code>VK_FILTER_NEAREST</code>, respectively.</p></div>
<div class="paragraph"><p>Note that using a <code>maxLod</code> of zero would cause
<a href="#textures-texel-filtering">magnification</a> to always be performed, and the
<code>magFilter</code> to always be used.
This is valid, just not an exact match for OpenGL behavior.
Clamping the maximum LOD to 0.25 allows the <span class="eq">&#x03bb;</span> value to be
non-zero and minification to be performed, while still always rounding down
to the base level.
If the <code>minFilter</code> and <code>magFilter</code> are equal, then using a
<code>maxLod</code> of zero also works.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p><code>addressModeU</code>, <code>addressModeV</code>, and <code>addressModeW</code> <span role="normative">must</span> each
have one of the following values:</p></div>
<div class="listingblock">
<a id="VkSamplerAddressMode"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkSamplerAddressMode <span style="color: #FF0000">{</span>
    VK_SAMPLER_ADDRESS_MODE_REPEAT <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_SAMPLER_ADDRESS_MODE_MIRRORED_REPEAT <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkSamplerAddressMode<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>These values control the behavior of sampling with coordinates outside the
range <span class="eq">[0,1]</span> for the respective u, v, or w coordinate as defined in the
<a href="#textures-wrapping-operation">Wrapping Operation</a> section.</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SAMPLER_ADDRESS_MODE_REPEAT</code> indicates that the repeat wrap mode
    will be used.
</p>
</li>
<li>
<p>
<code>VK_SAMPLER_ADDRESS_MODE_MIRRORED_REPEAT</code> indicates that the
    mirrored repeat wrap mode will be used.
</p>
</li>
<li>
<p>
<code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code> indicates that the clamp to
    edge wrap mode will be used.
</p>
</li>
<li>
<p>
<code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER</code> indicates that the clamp
    to border wrap mode will be used.
</p>
</li>
<li>
<p>
<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code> indicates that the
    mirror clamp to edge wrap mode will be used.
    This is only valid if the <span class="monospaced">VK_KHR_mirror_clamp_to_edge</span> extension is
    enabled.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The maximum number of sampler objects which <span role="normative">can</span> be simultaneously created
on a device is implementation-dependent and specified by the
<a href="#features-limits-maxSamplerAllocationCount"><code>maxSamplerAllocationCount</code></a>
member of the <code>VkPhysicalDeviceLimits</code> structure.
If <code>maxSamplerAllocationCount</code> is exceeded, <code>vkCreateSampler</code> will
return <code>VK_ERROR_TOO_MANY_OBJECTS</code>.</p></div>
<div class="paragraph"><p>Since <code>VkSampler</code> is a non-dispatchable handle type, implementations
<span role="normative">may</span> return the same handle for sampler state vectors that are identical.
In such cases, all such objects would only count once against the
<code>maxSamplerAllocationCount</code> limit.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The absolute value of <code>mipLodBias</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxSamplerLodBias</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-samplerAnisotropy">anisotropic sampling</a>
    feature is not enabled, <code>anisotropyEnable</code> <span role="normative">must</span> be <code>VK_FALSE</code>
</p>
</li>
<li>
<p>
If <code>anisotropyEnable</code> is <code>VK_TRUE</code>, <code>maxAnisotropy</code> <span role="normative">must</span> be
    between <span class="monospaced">1.0</span> and
    <code>VkPhysicalDeviceLimits</code>::<code>maxSamplerAnisotropy</code>, inclusive
</p>
</li>
<li>
<p>
If <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, <code>minFilter</code> and
    <code>magFilter</code> <span role="normative">must</span> be equal
</p>
</li>
<li>
<p>
If <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, <code>mipmapMode</code>
    <span role="normative">must</span> be <code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code>
</p>
</li>
<li>
<p>
If <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, <code>minLod</code> and
    <code>maxLod</code> <span role="normative">must</span> be zero
</p>
</li>
<li>
<p>
If <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, <code>addressModeU</code>
    and <code>addressModeV</code> <span role="normative">must</span> each be either
    <code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code> or
    <code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER</code>
</p>
</li>
<li>
<p>
If <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>,
    <code>anisotropyEnable</code> <span role="normative">must</span> be <code>VK_FALSE</code>
</p>
</li>
<li>
<p>
If <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, <code>compareEnable</code>
    <span role="normative">must</span> be <code>VK_FALSE</code>
</p>
</li>
<li>
<p>
If any of <code>addressModeU</code>, <code>addressModeV</code> or <code>addressModeW</code>
    are <code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER</code>, <code>borderColor</code>
    <span role="normative">must</span> be a valid <code><a href="#VkBorderColor">VkBorderColor</a></code> value
</p>
</li>
<li>
<p>
If the <span class="monospaced">VK_KHR_sampler_mirror_clamp_to_edge</span> extension is not enabled,
    <code>addressModeU</code>, <code>addressModeV</code> and <code>addressModeW</code> <span role="normative">must</span> not
    be <code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code>
</p>
</li>
<li>
<p>
If <code>compareEnable</code> is <code>VK_TRUE</code>, <code>compareOp</code> <span role="normative">must</span> be a
    valid <code><a href="#VkCompareOp">VkCompareOp</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>magFilter</code> <span role="normative">must</span> be a valid <code><a href="#VkFilter">VkFilter</a></code> value
</p>
</li>
<li>
<p>
<code>minFilter</code> <span role="normative">must</span> be a valid <code><a href="#VkFilter">VkFilter</a></code> value
</p>
</li>
<li>
<p>
<code>mipmapMode</code> <span role="normative">must</span> be a valid <code><a href="#VkSamplerMipmapMode">VkSamplerMipmapMode</a></code> value
</p>
</li>
<li>
<p>
<code>addressModeU</code> <span role="normative">must</span> be a valid <code><a href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code> value
</p>
</li>
<li>
<p>
<code>addressModeV</code> <span role="normative">must</span> be a valid <code><a href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code> value
</p>
</li>
<li>
<p>
<code>addressModeW</code> <span role="normative">must</span> be a valid <code><a href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To destroy a sampler, call:</p></div>
<div class="listingblock">
<a id="vkDestroySampler"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroySampler</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkSampler</span>                                   sampler<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the sampler.
</p>
</li>
<li>
<p>
<code>sampler</code> is the sampler to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted commands that refer to <code>sampler</code> <span role="normative">must</span> have completed
    execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>sampler</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>sampler</code> was
    created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>sampler</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>sampler</code> <span role="normative">must</span> be a valid <code>VkSampler</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>sampler</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>sampler</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="descriptorsets">13. Resource Descriptors</h2>
<div class="sectionbody">
<div class="paragraph"><p>Shaders access buffer and image resources by using special shader variables
which are indirectly bound to buffer and image views via the API.
These variables are organized into sets, where each set of bindings is
represented by a <em>descriptor set</em> object in the API and a descriptor set is
bound all at once.
A <em>descriptor</em> is an opaque data structure representing a shader resource
such as a buffer view, image view, sampler, or combined image sampler.
The content of each set is determined by its <em>descriptor set layout</em> and the
sequence of set layouts that <span role="normative">can</span> be used by resource variables in shaders
within a pipeline is specified in a <em>pipeline layout</em>.</p></div>
<div class="paragraph"><p>Each shader <span role="normative">can</span> use up to <code>maxBoundDescriptorSets</code> (see
<a href="#features-limits">Limits</a>) descriptor sets, and each descriptor set <span role="normative">can</span>
include bindings for descriptors of all descriptor types.
Each shader resource variable is assigned a tuple of (set number, binding
number, array element) that defines its location within a descriptor set
layout.
In GLSL, the set number and binding number are assigned via layout
qualifiers, and the array element is implicitly assigned consecutively
starting with index equal to zero for the first element of an array (and
array element is zero for non-array variables):</p></div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// Assign set number = M, binding number = N, array element = 0</span></span>
<span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>set<span style="color: #990000">=</span>M<span style="color: #990000">,</span> binding<span style="color: #990000">=</span>N<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">uniform</span></span> <span style="color: #009900">sampler2D</span> variableName<span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">// Assign set number = M, binding number = N for all array elements, and</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// array element = I for the I'th member of the array.</span></span>
<span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>set<span style="color: #990000">=</span>M<span style="color: #990000">,</span> binding<span style="color: #990000">=</span>N<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">uniform</span></span> <span style="color: #009900">sampler2D</span> variableNameArray<span style="color: #990000">[</span>I<span style="color: #990000">];</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content monospaced">
<pre>// Assign set number = M, binding number = N, array element = 0
               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %10 "variableName"
               OpDecorate %10 DescriptorSet M
               OpDecorate %10 Binding N
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 1 Unknown
          %8 = OpTypeSampledImage %7
          %9 = OpTypePointer UniformConstant %8
         %10 = OpVariable %9 UniformConstant
               ...

// Assign set number = M, binding number = N for all array elements, and
// array element = I for the I'th member of the array.
               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %13 "variableNameArray"
               OpDecorate %13 DescriptorSet M
               OpDecorate %13 Binding N
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 1 Unknown
          %8 = OpTypeSampledImage %7
          %9 = OpTypeInt 32 0
         %10 = OpConstant %9 I
         %11 = OpTypeArray %8 %10
         %12 = OpTypePointer UniformConstant %11
         %13 = OpVariable %12 UniformConstant
               ...</pre>
</div></div>
<div class="sect2">
<h3 id="descriptorsets-types">13.1. Descriptor Types</h3>
<div class="paragraph"><p>The following sections outline the various descriptor types supported by
Vulkan.
Each section defines a descriptor type, and each descriptor type has a
manifestation in the shading language and SPIR-V as well as in descriptor
sets.
There is mostly a one-to-one correspondence between descriptor types and
classes of opaque types in the shading language, where the opaque types in
the shading language <span role="normative">must</span> refer to a descriptor in the pipeline layout of
the corresponding descriptor type.
But there is an exception to this rule as described in
<a href="#descriptorsets-combinedimagesampler">Combined Image Sampler</a>.</p></div>
<div class="sect3">
<h4 id="descriptorsets-storageimage">13.1.1. Storage Image</h4>
<div class="paragraph"><p>A <em>storage image</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>) is a descriptor
type that is used for load, store, and atomic operations on image memory
from within shaders bound to pipelines.</p></div>
<div class="paragraph"><p>Loads from storage images do not use samplers and are unfiltered and do not
support coordinate wrapping or clamping.
Loads are supported in all shader stages for image formats which report
support for the
<a href="#features-formats-properties"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></a>
feature bit via <code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>.</p></div>
<div class="paragraph"><p>Stores to storage images are supported in compute shaders for image formats
which report support for the <code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code>
feature.</p></div>
<div class="paragraph"><p>Storage images also support atomic operations in compute shaders for image
formats which report support for the
<a href="#features-formats-properties"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></a>
feature.</p></div>
<div class="paragraph"><p>Load and store operations on storage images <span role="normative">can</span> only be done on images in
<code>VK_IMAGE_LAYOUT_GENERAL</code> layout.</p></div>
<div class="paragraph"><p>When the <a href="#features-features-fragmentStoresAndAtomics"><code>fragmentStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported for storage images in fragment shaders with
the same set of image formats as supported in compute shaders.
When the <a href="#features-features-vertexPipelineStoresAndAtomics"><code>vertexPipelineStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported in vertex, tessellation, and geometry shaders
with the same set of image formats as supported in compute shaders.</p></div>
<div class="paragraph"><p>Storage image declarations <span role="normative">must</span> specify the image format in the shader if
the variable is used for atomic operations.</p></div>
<div class="paragraph"><p>If the <a href="#features-features-shaderStorageImageReadWithoutFormat"><code>shaderStorageImageReadWithoutFormat</code></a> feature is not enabled, storage
image declarations <span role="normative">must</span> specify the image format in the shader if the
variable is used for load operations.</p></div>
<div class="paragraph"><p>If the <a href="#features-features-shaderStorageImageWriteWithoutFormat"><code>shaderStorageImageWriteWithoutFormat</code></a> feature is not enabled, storage
image declarations <span role="normative">must</span> specify the image format in the shader if the
variable is used for store operations.</p></div>
<div class="paragraph"><p>Storage images are declared in GLSL shader source using uniform <code>image</code>
variables of the appropriate dimensionality as well as a format layout
qualifier (if necessary):</p></div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>set<span style="color: #990000">=</span>m<span style="color: #990000">,</span> binding<span style="color: #990000">=</span>n<span style="color: #990000">,</span> r32f<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">uniform</span></span> image2D myStorageImage<span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content monospaced">
<pre>               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "myStorageImage"
               OpDecorate %9 DescriptorSet m
               OpDecorate %9 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 2 R32f
          %8 = OpTypePointer UniformConstant %7
          %9 = OpVariable %8 UniformConstant
               ...</pre>
</div></div>
</div>
<div class="sect3">
<h4 id="descriptorsets-sampler">13.1.2. Sampler</h4>
<div class="paragraph"><p>A <em>sampler</em> (<code>VK_DESCRIPTOR_TYPE_SAMPLER</code>) represents a set of
parameters which control address calculations, filtering behavior, and other
properties, that <span role="normative">can</span> be used to perform filtered loads from <em>sampled
images</em> (see <a href="#descriptorsets-sampledimage">Sampled Image</a>).</p></div>
<div class="paragraph"><p>Samplers are declared in GLSL shader source using uniform <code>sampler</code>
variables, where the sampler type has no associated texture dimensionality:</p></div>
<div class="listingblock">
<div class="title">GLSL Example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>set<span style="color: #990000">=</span>m<span style="color: #990000">,</span> binding<span style="color: #990000">=</span>n<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">uniform</span></span> sampler mySampler<span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">SPIR-V Example</div>
<div class="content monospaced">
<pre>               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %8 "mySampler"
               OpDecorate %8 DescriptorSet m
               OpDecorate %8 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeSampler
          %7 = OpTypePointer UniformConstant %6
          %8 = OpVariable %7 UniformConstant
               ...</pre>
</div></div>
</div>
<div class="sect3">
<h4 id="descriptorsets-sampledimage">13.1.3. Sampled Image</h4>
<div class="paragraph"><p>A <em>sampled image</em> (<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>) <span role="normative">can</span> be used
(usually in conjunction with a sampler) to retrieve sampled image data.
Shaders use a sampled image handle and a sampler handle to sample data,
where the image handle generally defines the shape and format of the memory
and the sampler generally defines how coordinate addressing is performed.
The same sampler <span role="normative">can</span> be used to sample from multiple images, and it is
possible to sample from the same sampled image with multiple samplers, each
containing a different set of sampling parameters.</p></div>
<div class="paragraph"><p>Sampled images are declared in GLSL shader source using uniform <code>texture</code>
variables of the appropriate dimensionality:</p></div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>set<span style="color: #990000">=</span>m<span style="color: #990000">,</span> binding<span style="color: #990000">=</span>n<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">uniform</span></span> <span style="font-weight: bold"><span style="color: #000080">texture2D</span></span> mySampledImage<span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content monospaced">
<pre>               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "mySampledImage"
               OpDecorate %9 DescriptorSet m
               OpDecorate %9 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 1 Unknown
          %8 = OpTypePointer UniformConstant %7
          %9 = OpVariable %8 UniformConstant
               ...</pre>
</div></div>
</div>
<div class="sect3">
<h4 id="descriptorsets-combinedimagesampler">13.1.4. Combined Image Sampler</h4>
<div class="paragraph"><p>A <em>combined image sampler</em> (<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>)
represents a sampled image along with a set of sampling parameters.
It is logically considered a sampled image and a sampler bound together.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>On some implementations, it <span role="normative">may</span> be more efficient to sample from an image
using a combination of sampler and sampled image that are stored together in
the descriptor set in a combined descriptor.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Combined image samplers are declared in GLSL shader source using uniform
<code>sampler</code> variables of the appropriate dimensionality:</p></div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>set<span style="color: #990000">=</span>m<span style="color: #990000">,</span> binding<span style="color: #990000">=</span>n<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">uniform</span></span> <span style="color: #009900">sampler2D</span> myCombinedImageSampler<span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content monospaced">
<pre>               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %10 "myCombinedImageSampler"
               OpDecorate %10 DescriptorSet m
               OpDecorate %10 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 1 Unknown
          %8 = OpTypeSampledImage %7
          %9 = OpTypePointer UniformConstant %8
         %10 = OpVariable %9 UniformConstant
               ...</pre>
</div></div>
<div class="paragraph"><p><code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> descriptor set entries <span role="normative">can</span>
also be accessed via separate sampler and sampled image shader variables.
Such variables refer exclusively to the corresponding half of the
descriptor, and <span role="normative">can</span> be combined in the shader with samplers or sampled
images that <span role="normative">can</span> come from the same descriptor or from other combined or
separate descriptor types.
There are no additional restrictions on how a separate sampler or sampled
image variable is used due to it originating from a combined descriptor.</p></div>
</div>
<div class="sect3">
<h4 id="descriptorsets-uniformtexelbuffer">13.1.5. Uniform Texel Buffer</h4>
<div class="paragraph"><p>A <em>uniform texel buffer</em> (<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>)
represents a tightly packed array of homogeneous formatted data that is
stored in a buffer and is made accessible to shaders.
Uniform texel buffers are read-only.</p></div>
<div class="paragraph"><p>Uniform texel buffers are declared in GLSL shader source using uniform
<code>samplerBuffer</code> variables:</p></div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>set<span style="color: #990000">=</span>m<span style="color: #990000">,</span> binding<span style="color: #990000">=</span>n<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">uniform</span></span> samplerBuffer myUniformTexelBuffer<span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content monospaced">
<pre>               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %10 "myUniformTexelBuffer"
               OpDecorate %10 DescriptorSet m
               OpDecorate %10 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 Buffer 0 0 0 1 Unknown
          %8 = OpTypeSampledImage %7
          %9 = OpTypePointer UniformConstant %8
         %10 = OpVariable %9 UniformConstant
               ...</pre>
</div></div>
</div>
<div class="sect3">
<h4 id="descriptorsets-storagetexelbuffer">13.1.6. Storage Texel Buffer</h4>
<div class="paragraph"><p>A <em>storage texel buffer</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>)
represents a tightly packed array of homogeneous formatted data that is
stored in a buffer and is made accessible to shaders.
Storage texel buffers differ from uniform texel buffers in that they support
stores and atomic operations in shaders, <span role="normative">may</span> support a different maximum
length, and <span role="normative">may</span> have different performance characteristics.</p></div>
<div class="paragraph"><p>Storage texel buffers are declared in GLSL shader source using uniform
<code>imageBuffer</code> variables:</p></div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>set<span style="color: #990000">=</span>m<span style="color: #990000">,</span> binding<span style="color: #990000">=</span>n<span style="color: #990000">,</span> r32f<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">uniform</span></span> imageBuffer myStorageTexelBuffer<span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content monospaced">
<pre>               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "myStorageTexelBuffer"
               OpDecorate %9 DescriptorSet m
               OpDecorate %9 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 Buffer 0 0 0 2 R32f
          %8 = OpTypePointer UniformConstant %7
          %9 = OpVariable %8 UniformConstant
               ...</pre>
</div></div>
</div>
<div class="sect3">
<h4 id="descriptorsets-uniformbuffer">13.1.7. Uniform Buffer</h4>
<div class="paragraph"><p>A <em>uniform buffer</em> (<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>) is a region of
structured storage that is made accessible for read-only access to shaders.
It is typically used to store medium sized arrays of constants such as
shader parameters, matrices and other related data.</p></div>
<div class="paragraph"><p>Uniform buffers are declared in GLSL shader source using the uniform storage
qualifier and block syntax:</p></div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>set<span style="color: #990000">=</span>m<span style="color: #990000">,</span> binding<span style="color: #990000">=</span>n<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">uniform</span></span> myUniformBuffer
<span style="color: #FF0000">{</span>
    <span style="color: #009900">vec4</span> myElement<span style="color: #990000">[</span><span style="color: #993399">32</span><span style="color: #990000">];</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content monospaced">
<pre>               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %11 "myUniformBuffer"
               OpMemberName %11 0 "myElement"
               OpName %13 ""
               OpDecorate %10 ArrayStride 16
               OpMemberDecorate %11 0 Offset 0
               OpDecorate %11 Block
               OpDecorate %13 DescriptorSet m
               OpDecorate %13 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeVector %6 4
          %8 = OpTypeInt 32 0
          %9 = OpConstant %8 32
         %10 = OpTypeArray %7 %9
         %11 = OpTypeStruct %10
         %12 = OpTypePointer Uniform %11
         %13 = OpVariable %12 Uniform
               ...</pre>
</div></div>
</div>
<div class="sect3">
<h4 id="descriptorsets-storagebuffer">13.1.8. Storage Buffer</h4>
<div class="paragraph"><p>A <em>storage buffer</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>) is a region of
structured storage that supports both read and write access for shaders.
In addition to general read and write operations, some members of storage
buffers <span role="normative">can</span> be used as the target of atomic operations.
In general, atomic operations are only supported on members that have
unsigned integer formats.</p></div>
<div class="paragraph"><p>Storage buffers are declared in GLSL shader source using buffer storage
qualifier and block syntax:</p></div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>set<span style="color: #990000">=</span>m<span style="color: #990000">,</span> binding<span style="color: #990000">=</span>n<span style="color: #990000">)</span> buffer myStorageBuffer
<span style="color: #FF0000">{</span>
    <span style="color: #009900">vec4</span> myElement<span style="color: #990000">[];</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content monospaced">
<pre>               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "myStorageBuffer"
               OpMemberName %9 0 "myElement"
               OpName %11 ""
               OpDecorate %8 ArrayStride 16
               OpMemberDecorate %9 0 Offset 0
               OpDecorate %9 BufferBlock
               OpDecorate %11 DescriptorSet m
               OpDecorate %11 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeVector %6 4
          %8 = OpTypeRuntimeArray %7
          %9 = OpTypeStruct %8
         %10 = OpTypePointer Uniform %9
         %11 = OpVariable %10 Uniform
               ...</pre>
</div></div>
</div>
<div class="sect3">
<h4 id="descriptorsets-uniformbufferdynamic">13.1.9. Dynamic Uniform Buffer</h4>
<div class="paragraph"><p>A <em>dynamic uniform buffer</em> (<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>)
differs from a uniform buffer only in how its address and length are
specified.
Uniform buffers bind a buffer address and length that is specified in the
descriptor set update by a buffer handle, offset and range (see
<a href="#descriptorsets-updates">Descriptor Set Updates</a>).
With dynamic uniform buffers the buffer handle, offset and range specified
in the descriptor set define the base address and length.
The dynamic offset which is relative to this base address is taken from the
<code>pDynamicOffsets</code> parameter to <code><a href="#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a></code> (see
<a href="#descriptorsets-binding">Descriptor Set Binding</a>).
The address used for a dynamic uniform buffer is the sum of the buffer base
address and the relative offset.
The length is unmodified and remains the range as specified in the
descriptor update.
The shader syntax is identical for uniform buffers and dynamic uniform
buffers.</p></div>
</div>
<div class="sect3">
<h4 id="descriptorsets-storagebufferdynamic">13.1.10. Dynamic Storage Buffer</h4>
<div class="paragraph"><p>A <em>dynamic storage buffer</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>)
differs from a storage buffer only in how its address and length are
specified.
The difference is identical to the difference between uniform buffers and
dynamic uniform buffers (see <a href="#descriptorsets-uniformbufferdynamic">Dynamic Uniform Buffer</a>).
The shader syntax is identical for storage buffers and dynamic storage
buffers.</p></div>
</div>
<div class="sect3">
<h4 id="descriptorsets-inputattachment">13.1.11. Input Attachment</h4>
<div class="paragraph"><p>An <em>input attachment</em> (<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>) is an
image view that <span role="normative">can</span> be used for pixel local load operations from within
fragment shaders bound to pipelines.
Loads from input attachments are unfiltered.
All image formats that are supported for color attachments
(<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>) or depth/stencil attachments
(<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>) for a given image
tiling mode are also supported for input attachments.</p></div>
<div class="paragraph"><p>In the shader, input attachments <span role="normative">must</span> be decorated with their input
attachment index in addition to descriptor set and binding numbers.</p></div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>input_attachment_index<span style="color: #990000">=</span>i<span style="color: #990000">,</span> set<span style="color: #990000">=</span>m<span style="color: #990000">,</span> binding<span style="color: #990000">=</span>n<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">uniform</span></span> subpassInput myInputAttachment<span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content monospaced">
<pre>               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "myInputAttachment"
               OpDecorate %9 DescriptorSet m
               OpDecorate %9 Binding n
               OpDecorate %9 InputAttachmentIndex i
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 SubpassData 0 0 0 2 Unknown
          %8 = OpTypePointer UniformConstant %7
          %9 = OpVariable %8 UniformConstant
               ...</pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-sets">13.2. Descriptor Sets</h3>
<div class="paragraph"><p>Descriptors are grouped together into descriptor set objects.
A descriptor set object is an opaque object that contains storage for a set
of descriptors, where the types and number of descriptors is defined by a
descriptor set layout.
The layout object <span role="normative">may</span> be used to define the association of each descriptor
binding with memory or other hardware resources.
The layout is used both for determining the resources that need to be
associated with the descriptor set, and determining the interface between
shader stages and shader resources.</p></div>
<div class="sect3">
<h4 id="descriptorsets-setlayout">13.2.1. Descriptor Set Layout</h4>
<div class="paragraph"><p>A descriptor set layout object is defined by an array of zero or more
descriptor bindings.
Each individual descriptor binding is specified by a descriptor type, a
count (array size) of the number of descriptors in the binding, a set of
shader stages that <span role="normative">can</span> access the binding, and (if using immutable
samplers) an array of sampler descriptors.</p></div>
<div class="paragraph"><p>Descriptor set layout objects are represented by <code>VkDescriptorSetLayout</code>
handles:</p></div>
<div class="listingblock">
<a id="VkDescriptorSetLayout"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkDescriptorSetLayout<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create descriptor set layout objects, call:</p></div>
<div class="listingblock">
<a id="vkCreateDescriptorSetLayout"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateDescriptorSetLayout</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDescriptorSetLayoutCreateInfo<span style="color: #990000">*</span>      pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkDescriptorSetLayout<span style="color: #990000">*</span>                      pSetLayout<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the descriptor set
    layout.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code><a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a></code> structure specifying the state of
    the descriptor set layout object.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pSetLayout</code> points to a <code>VkDescriptorSetLayout</code> handle in which
    the resulting descriptor set layout object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkDescriptorSetLayoutCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pSetLayout</code> <span role="normative">must</span> be a pointer to a <code>VkDescriptorSetLayout</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>Information about the descriptor set layout is passed in an instance of the
<code>VkDescriptorSetLayoutCreateInfo</code> structure:</p></div>
<div class="listingblock">
<a id="VkDescriptorSetLayoutCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDescriptorSetLayoutCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                        sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                            pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkDescriptorSetLayoutCreateFlags</span>       flags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                               bindingCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDescriptorSetLayoutBinding<span style="color: #990000">*</span>    pBindings<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDescriptorSetLayoutCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>bindingCount</code> is the number of elements in <code>pBindings</code>.
</p>
</li>
<li>
<p>
<code>pBindings</code> is a pointer to an array of
    <code><a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a></code> structures.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The <code><a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a></code>::<code>binding</code> members of the
    elements of the <code>pBindings</code> array <span role="normative">must</span> each have different values.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>bindingCount</code> is not <span class="monospaced">0</span>, <code>pBindings</code> <span role="normative">must</span> be a pointer to an array of <code>bindingCount</code> valid <code>VkDescriptorSetLayoutBinding</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkDescriptorSetLayoutBinding</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDescriptorSetLayoutBinding"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDescriptorSetLayoutBinding</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>              binding<span style="color: #990000">;</span>
    <span style="color: #008080">VkDescriptorType</span>      descriptorType<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              descriptorCount<span style="color: #990000">;</span>
    <span style="color: #008080">VkShaderStageFlags</span>    stageFlags<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSampler<span style="color: #990000">*</span>      pImmutableSamplers<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDescriptorSetLayoutBinding<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>binding</code> is the binding number of this entry and corresponds to a
    resource of the same binding number in the shader stages.
</p>
</li>
<li>
<p>
<code>descriptorType</code> is a <code><a href="#VkDescriptorType">VkDescriptorType</a></code> specifying which type
    of resource descriptors are used for this binding.
</p>
</li>
<li>
<p>
<code>descriptorCount</code> is the number of descriptors contained in the
    binding, accessed in a shader as an array.
    If <code>descriptorCount</code> is zero this binding entry is reserved and the
    resource <span role="normative">must</span> not be accessed from any stage via this binding within
    any pipeline using the set layout.
</p>
</li>
<li>
<p>
<code>stageFlags</code> member is a bitmask of <code><a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code>
    specifying which pipeline shader stages <span role="normative">can</span> access a resource for this
    binding.
    <code>VK_SHADER_STAGE_ALL</code> is a shorthand specifying that all defined
    shader stages, including any additional stages defined by extensions,
    <span role="normative">can</span> access the resource.
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>If a shader stage is not included in <code>stageFlags</code>, then a resource <span role="normative">must</span>
not be accessed from that stage via this binding within any pipeline using
the set layout.
There are no limitations on what combinations of stages <span role="normative">can</span> be used by a
descriptor binding, and in particular a binding <span role="normative">can</span> be used by both
graphics stages and the compute stage.</p></div>
</div></div>
</li>
<li>
<p>
<code>pImmutableSamplers</code> affects initialization of samplers.
    If <code>descriptorType</code> specifies a <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> type descriptor, then
    <code>pImmutableSamplers</code> <span role="normative">can</span> be used to initialize a set of <em>immutable
    samplers</em>.
    Immutable samplers are permanently bound into the set layout; later
    binding a sampler into an immutable sampler slot in a descriptor set is
    not allowed.
    If <code>pImmutableSamplers</code> is not <span class="monospaced">NULL</span>, then it is considered to be a
    pointer to an array of sampler handles that will be consumed by the set
    layout and used for the corresponding binding.
    If <code>pImmutableSamplers</code> is <span class="monospaced">NULL</span>, then the sampler slots are
    dynamic and sampler handles <span role="normative">must</span> be bound into descriptor sets using
    this layout.
    If <code>descriptorType</code> is not one of these descriptor types, then
    <code>pImmutableSamplers</code> is ignored.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The above layout definition allows the descriptor bindings to be specified
sparsely such that not all binding numbers between 0 and the maximum binding
number need to be specified in the <code>pBindings</code> array.
Bindings that are not specified have a <code>descriptorCount</code> and
<code>stageFlags</code> of zero, and the <code>descriptorType</code> is treated as
undefined.
However, all binding numbers between 0 and the maximum binding number in the
<code><a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a></code>::<code>pBindings</code> array <span role="normative">may</span> consume
memory in the descriptor set layout even if not all descriptor bindings are
used, though it <span role="normative">should</span> not consume additional memory from the descriptor
pool.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The maximum binding number specified <span role="normative">should</span> be as compact as possible to
avoid wasted memory.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
    <code>descriptorCount</code> is not <span class="monospaced">0</span> and <code>pImmutableSamplers</code> is not
    <span class="monospaced">NULL</span>, <code>pImmutableSamplers</code> <span role="normative">must</span> be a pointer to an array of
    <code>descriptorCount</code> valid <code>VkSampler</code> handles
</p>
</li>
<li>
<p>
If <code>descriptorCount</code> is not <span class="monospaced">0</span>, <code>stageFlags</code> <span role="normative">must</span> be a valid
    combination of <code><a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> values
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>descriptorType</code> <span role="normative">must</span> be a valid <code><a href="#VkDescriptorType">VkDescriptorType</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The following examples show a shader snippet using two descriptor sets, and
application code that creates corresponding descriptor set layouts.</p></div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// binding to a single sampled image descriptor in set 0</span></span>
<span style="font-style: italic"><span style="color: #9A1900">//</span></span>
<span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>set<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">,</span> binding<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">uniform</span></span> <span style="font-weight: bold"><span style="color: #000080">texture2D</span></span> mySampledImage<span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">//</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// binding to an array of sampled image descriptors in set 0</span></span>
<span style="font-style: italic"><span style="color: #9A1900">//</span></span>
<span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>set<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">,</span> binding<span style="color: #990000">=</span><span style="color: #993399">1</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">uniform</span></span> <span style="font-weight: bold"><span style="color: #000080">texture2D</span></span> myArrayOfSampledImages<span style="color: #990000">[</span><span style="color: #993399">12</span><span style="color: #990000">];</span>

<span style="font-style: italic"><span style="color: #9A1900">//</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// binding to a single uniform buffer descriptor in set 1</span></span>
<span style="font-style: italic"><span style="color: #9A1900">//</span></span>
<span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>set<span style="color: #990000">=</span><span style="color: #993399">1</span><span style="color: #990000">,</span> binding<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">uniform</span></span> myUniformBuffer
<span style="color: #FF0000">{</span>
    <span style="color: #009900">vec4</span> myElement<span style="color: #990000">[</span><span style="color: #993399">32</span><span style="color: #990000">];</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content monospaced">
<pre>               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "mySampledImage"
               OpName %14 "myArrayOfSampledImages"
               OpName %18 "myUniformBuffer"
               OpMemberName %18 0 "myElement"
               OpName %20 ""
               OpDecorate %9 DescriptorSet 0
               OpDecorate %9 Binding 0
               OpDecorate %14 DescriptorSet 0
               OpDecorate %14 Binding 1
               OpDecorate %17 ArrayStride 16
               OpMemberDecorate %18 0 Offset 0
               OpDecorate %18 Block
               OpDecorate %20 DescriptorSet 1
               OpDecorate %20 Binding 0
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 1 Unknown
          %8 = OpTypePointer UniformConstant %7
          %9 = OpVariable %8 UniformConstant
         %10 = OpTypeInt 32 0
         %11 = OpConstant %10 12
         %12 = OpTypeArray %7 %11
         %13 = OpTypePointer UniformConstant %12
         %14 = OpVariable %13 UniformConstant
         %15 = OpTypeVector %6 4
         %16 = OpConstant %10 32
         %17 = OpTypeArray %15 %16
         %18 = OpTypeStruct %17
         %19 = OpTypePointer Uniform %18
         %20 = OpVariable %19 Uniform
               ...</pre>
</div></div>
<div class="listingblock">
<div class="title">API example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> myResult<span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkDescriptorSetLayoutBinding</span> myDescriptorSetLayoutBinding<span style="color: #990000">[]</span> <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    <span style="font-style: italic"><span style="color: #9A1900">// binding to a single image descriptor</span></span>
    <span style="color: #FF0000">{</span>
        <span style="color: #993399">0</span><span style="color: #990000">,</span>                                      <span style="font-style: italic"><span style="color: #9A1900">// binding</span></span>
        VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE<span style="color: #990000">,</span>       <span style="font-style: italic"><span style="color: #9A1900">// descriptorType</span></span>
        <span style="color: #993399">1</span><span style="color: #990000">,</span>                                      <span style="font-style: italic"><span style="color: #9A1900">// descriptorCount</span></span>
        VK_SHADER_STAGE_FRAGMENT_BIT<span style="color: #990000">,</span>           <span style="font-style: italic"><span style="color: #9A1900">// stageFlags</span></span>
        NULL                                    <span style="font-style: italic"><span style="color: #9A1900">// pImmutableSamplers</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">,</span>

    <span style="font-style: italic"><span style="color: #9A1900">// binding to an array of image descriptors</span></span>
    <span style="color: #FF0000">{</span>
        <span style="color: #993399">1</span><span style="color: #990000">,</span>                                      <span style="font-style: italic"><span style="color: #9A1900">// binding</span></span>
        VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE<span style="color: #990000">,</span>       <span style="font-style: italic"><span style="color: #9A1900">// descriptorType</span></span>
        <span style="color: #993399">12</span><span style="color: #990000">,</span>                                     <span style="font-style: italic"><span style="color: #9A1900">// descriptorCount</span></span>
        VK_SHADER_STAGE_FRAGMENT_BIT<span style="color: #990000">,</span>           <span style="font-style: italic"><span style="color: #9A1900">// stageFlags</span></span>
        NULL                                    <span style="font-style: italic"><span style="color: #9A1900">// pImmutableSamplers</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">,</span>

    <span style="font-style: italic"><span style="color: #9A1900">// binding to a single uniform buffer descriptor</span></span>
    <span style="color: #FF0000">{</span>
        <span style="color: #993399">0</span><span style="color: #990000">,</span>                                      <span style="font-style: italic"><span style="color: #9A1900">// binding</span></span>
        VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER<span style="color: #990000">,</span>      <span style="font-style: italic"><span style="color: #9A1900">// descriptorType</span></span>
        <span style="color: #993399">1</span><span style="color: #990000">,</span>                                      <span style="font-style: italic"><span style="color: #9A1900">// descriptorCount</span></span>
        VK_SHADER_STAGE_FRAGMENT_BIT<span style="color: #990000">,</span>           <span style="font-style: italic"><span style="color: #9A1900">// stageFlags</span></span>
        NULL                                    <span style="font-style: italic"><span style="color: #9A1900">// pImmutableSamplers</span></span>
    <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkDescriptorSetLayoutCreateInfo</span> myDescriptorSetLayoutCreateInfo<span style="color: #990000">[]</span> <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    <span style="font-style: italic"><span style="color: #9A1900">// Create info for first descriptor set with two descriptor bindings</span></span>
    <span style="color: #FF0000">{</span>
        VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO<span style="color: #990000">,</span>    <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
        NULL<span style="color: #990000">,</span>                                                   <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
        <span style="color: #993399">0</span><span style="color: #990000">,</span>                                                      <span style="font-style: italic"><span style="color: #9A1900">// flags</span></span>
        <span style="color: #993399">2</span><span style="color: #990000">,</span>                                                      <span style="font-style: italic"><span style="color: #9A1900">// bindingCount</span></span>
        <span style="color: #990000">&amp;</span>myDescriptorSetLayoutBinding<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]</span>                        <span style="font-style: italic"><span style="color: #9A1900">// pBindings</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">,</span>

    <span style="font-style: italic"><span style="color: #9A1900">// Create info for second descriptor set with one descriptor binding</span></span>
    <span style="color: #FF0000">{</span>
        VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO<span style="color: #990000">,</span>    <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
        NULL<span style="color: #990000">,</span>                                                   <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
        <span style="color: #993399">0</span><span style="color: #990000">,</span>                                                      <span style="font-style: italic"><span style="color: #9A1900">// flags</span></span>
        <span style="color: #993399">1</span><span style="color: #990000">,</span>                                                      <span style="font-style: italic"><span style="color: #9A1900">// bindingCount</span></span>
        <span style="color: #990000">&amp;</span>myDescriptorSetLayoutBinding<span style="color: #990000">[</span><span style="color: #993399">2</span><span style="color: #990000">]</span>                        <span style="font-style: italic"><span style="color: #9A1900">// pBindings</span></span>
    <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="color: #008080">VkDescriptorSetLayout</span> myDescriptorSetLayout<span style="color: #990000">[</span><span style="color: #993399">2</span><span style="color: #990000">];</span>

<span style="font-style: italic"><span style="color: #9A1900">//</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// Create first descriptor set layout</span></span>
<span style="font-style: italic"><span style="color: #9A1900">//</span></span>
myResult <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateDescriptorSetLayout</span></span><span style="color: #990000">(</span>
    myDevice<span style="color: #990000">,</span>
    <span style="color: #990000">&amp;</span>myDescriptorSetLayoutCreateInfo<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">],</span>
    NULL<span style="color: #990000">,</span>
    <span style="color: #990000">&amp;</span>myDescriptorSetLayout<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]);</span>

<span style="font-style: italic"><span style="color: #9A1900">//</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// Create second descriptor set layout</span></span>
<span style="font-style: italic"><span style="color: #9A1900">//</span></span>
myResult <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateDescriptorSetLayout</span></span><span style="color: #990000">(</span>
    myDevice<span style="color: #990000">,</span>
    <span style="color: #990000">&amp;</span>myDescriptorSetLayoutCreateInfo<span style="color: #990000">[</span><span style="color: #993399">1</span><span style="color: #990000">],</span>
    NULL<span style="color: #990000">,</span>
    <span style="color: #990000">&amp;</span>myDescriptorSetLayout<span style="color: #990000">[</span><span style="color: #993399">1</span><span style="color: #990000">]);</span></tt></pre></div></div>
<div class="paragraph"><p>To destroy a descriptor set layout, call:</p></div>
<div class="listingblock">
<a id="vkDestroyDescriptorSetLayout"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyDescriptorSetLayout</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkDescriptorSetLayout</span>                       descriptorSetLayout<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the descriptor set
    layout.
</p>
</li>
<li>
<p>
<code>descriptorSetLayout</code> is the descriptor set layout to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when
    <code>descriptorSetLayout</code> was created, a compatible set of callbacks
    <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when
    <code>descriptorSetLayout</code> was created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>descriptorSetLayout</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>descriptorSetLayout</code> <span role="normative">must</span> be a valid <code>VkDescriptorSetLayout</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>descriptorSetLayout</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>descriptorSetLayout</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect3">
<h4 id="descriptorsets-pipelinelayout">13.2.2. Pipeline Layouts</h4>
<div class="paragraph"><p>Access to descriptor sets from a pipeline is accomplished through a
<em>pipeline layout</em>.
Zero or more descriptor set layouts and zero or more push constant ranges
are combined to form a pipeline layout object which describes the complete
set of resources that <span role="normative">can</span> be accessed by a pipeline.
The pipeline layout represents a sequence of descriptor sets with each
having a specific layout.
This sequence of layouts is used to determine the interface between shader
stages and shader resources.
Each pipeline is created using a pipeline layout.</p></div>
<div class="paragraph"><p>Pipeline layout objects are represented by <code>VkPipelineLayout</code> handles:</p></div>
<div class="listingblock">
<a id="VkPipelineLayout"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkPipelineLayout<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create a pipeline layout, call:</p></div>
<div class="listingblock">
<a id="vkCreatePipelineLayout"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreatePipelineLayout</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineLayoutCreateInfo<span style="color: #990000">*</span>           pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkPipelineLayout<span style="color: #990000">*</span>                           pPipelineLayout<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the pipeline layout.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code><a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a></code> structure specifying the state of the
    pipeline layout object.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pPipelineLayout</code> points to a <code>VkPipelineLayout</code> handle in which
    the resulting pipeline layout object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkPipelineLayoutCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pPipelineLayout</code> <span role="normative">must</span> be a pointer to a <code>VkPipelineLayout</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code><a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a></code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPipelineLayoutCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPipelineLayoutCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                 sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                     pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineLayoutCreateFlags</span>     flags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                        setLayoutCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDescriptorSetLayout<span style="color: #990000">*</span>    pSetLayouts<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                        pushConstantRangeCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPushConstantRange<span style="color: #990000">*</span>      pPushConstantRanges<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPipelineLayoutCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>setLayoutCount</code> is the number of descriptor sets included in the
    pipeline layout.
</p>
</li>
<li>
<p>
<code>pSetLayouts</code> is a pointer to an array of
    <code>VkDescriptorSetLayout</code> objects.
</p>
</li>
<li>
<p>
<code>pushConstantRangeCount</code> is the number of push constant ranges
    included in the pipeline layout.
</p>
</li>
<li>
<p>
<code>pPushConstantRanges</code> is a pointer to an array of
    <code>VkPushConstantRange</code> structures defining a set of push constant
    ranges for use in a single pipeline layout.
    In addition to descriptor set layouts, a pipeline layout also describes
    how many push constants <span role="normative">can</span> be accessed by each stage of the pipeline.
</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Push constants represent a high speed path to modify constant data in
pipelines that is expected to outperform memory-backed resource updates.</p></div>
</td>
</tr></table>
</div>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>setLayoutCount</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxBoundDescriptorSets</code>
</p>
</li>
<li>
<p>
The total number of descriptors of the type
    <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> accessible to any given
    shader stage across all elements of <code>pSetLayouts</code> <span role="normative">must</span> be less than
    or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorSamplers</code>
</p>
</li>
<li>
<p>
The total number of descriptors of the type
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> and
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> accessible to any given
    shader stage across all elements of <code>pSetLayouts</code> <span role="normative">must</span> be less than
    or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorUniformBuffers</code>
</p>
</li>
<li>
<p>
The total number of descriptors of the type
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> and
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> accessible to any given
    shader stage across all elements of <code>pSetLayouts</code> <span role="normative">must</span> be less than
    or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorStorageBuffers</code>
</p>
</li>
<li>
<p>
The total number of descriptors of the type
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
    <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, and
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> accessible to any given
    shader stage across all elements of <code>pSetLayouts</code> <span role="normative">must</span> be less than
    or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorSampledImages</code>
</p>
</li>
<li>
<p>
The total number of descriptors of the type
    <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, and
    <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> accessible to any given
    shader stage across all elements of <code>pSetLayouts</code> <span role="normative">must</span> be less than
    or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorStorageImages</code>
</p>
</li>
<li>
<p>
Any two elements of <code>pPushConstantRanges</code> <span role="normative">must</span> not include the same
    stage in <code>stageFlags</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>setLayoutCount</code> is not <span class="monospaced">0</span>, <code>pSetLayouts</code> <span role="normative">must</span> be a pointer to an array of <code>setLayoutCount</code> valid <code>VkDescriptorSetLayout</code> handles
</p>
</li>
<li>
<p>
If <code>pushConstantRangeCount</code> is not <span class="monospaced">0</span>, <code>pPushConstantRanges</code> <span role="normative">must</span> be a pointer to an array of <code>pushConstantRangeCount</code> valid <code>VkPushConstantRange</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkPushConstantRange</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPushConstantRange"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPushConstantRange</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkShaderStageFlags</span>    stageFlags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              offset<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              size<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPushConstantRange<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>stageFlags</code> is a set of stage flags describing the shader stages
    that will access a range of push constants.
    If a particular stage is not included in the range, then accessing
    members of that range of push constants from the corresponding shader
    stage will result in undefined data being read.
</p>
</li>
<li>
<p>
<code>offset</code> and <code>size</code> are the start offset and size, respectively,
    consumed by the range.
    Both <code>offset</code> and <code>size</code> are in units of bytes and <span role="normative">must</span> be a
    multiple of 4.
    The layout of the push constant variables is specified in the shader.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be less than
    <code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code>
</p>
</li>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be a multiple of <span class="monospaced">4</span>
</p>
</li>
<li>
<p>
<code>size</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>size</code> <span role="normative">must</span> be a multiple of <span class="monospaced">4</span>
</p>
</li>
<li>
<p>
<code>size</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code> minus
    <code>offset</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>stageFlags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>stageFlags</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Once created, pipeline layouts are used as part of pipeline creation (see
<a href="#pipelines">Pipelines</a>), as part of binding descriptor sets (see
<a href="#descriptorsets-binding">Descriptor Set Binding</a>), and as part of setting
push constants (see <a href="#descriptorsets-push-constants">Push Constant Updates</a>).
Pipeline creation accepts a pipeline layout as input, and the layout <span role="normative">may</span> be
used to map (set, binding, arrayElement) tuples to hardware resources or
memory locations within a descriptor set.
The assignment of hardware resources depends only on the bindings defined in
the descriptor sets that comprise the pipeline layout, and not on any shader
source.</p></div>
<div class="paragraph" id="descriptorsets-pipelinelayout-consistency"><p>All resource variables <a href="#shaders-staticuse">statically used</a> in all shaders
in a pipeline <span role="normative">must</span> be declared with a (set,binding,arrayElement) that
exists in the corresponding descriptor set layout and is of an appropriate
descriptor type and includes the set of shader stages it is used by in
<code>stageFlags</code>.
The pipeline layout <span role="normative">can</span> include entries that are not used by a particular
pipeline, or that are dead-code eliminated from any of the shaders.
The pipeline layout allows the application to provide a consistent set of
bindings across multiple pipeline compiles, which enables those pipelines to
be compiled in a way that the implementation <span role="normative">may</span> cheaply switch pipelines
without reprogramming the bindings.</p></div>
<div class="paragraph"><p>Similarly, the push constant block declared in each shader (if present)
<span role="normative">must</span> only place variables at offsets that are each included in a push
constant range with <code>stageFlags</code> including the bit corresponding to the
shader stage that uses it.
The pipeline layout <span role="normative">can</span> include ranges or portions of ranges that are not
used by a particular pipeline, or for which the variables have been
dead-code eliminated from any of the shaders.</p></div>
<div class="paragraph"><p>There is a limit on the total number of resources of each type that <span role="normative">can</span> be
included in bindings in all descriptor set layouts in a pipeline layout as
shown in <a href="#descriptorsets-pipelinelayout-limits">Pipeline Layout Resource Limits</a>.
The &#8220;Total Resources Available&#8221; column gives the limit on the number of
each type of resource that <span role="normative">can</span> be included in bindings in all descriptor
sets in the pipeline layout.
Some resource types count against multiple limits.
Additionally, there are limits on the total number of each type of resource
that <span role="normative">can</span> be used in any pipeline stage as described in
<a href="#interfaces-resources-limits">Shader Resource Limits</a>.</p></div>
<table class="tableblock frame-all grid-all" id="descriptorsets-pipelinelayout-limits"
style="
width:80%;
">
<caption class="title">Table 10. Pipeline Layout Resource Limits</caption>
<col style="width:62%;">
<col style="width:37%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Total Resources Available </th>
<th class="tableblock halign-left valign-top" > Resource Types</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2" ><p class="tableblock"><code>maxDescriptorSetSamplers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3" ><p class="tableblock"><code>maxDescriptorSetSampledImages</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">sampled image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">uniform texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2" ><p class="tableblock"><code>maxDescriptorSetStorageImages</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2" ><p class="tableblock"><code>maxDescriptorSetUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">uniform buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">uniform buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetUniformBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">uniform buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2" ><p class="tableblock"><code>maxDescriptorSetStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetStorageBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">input attachment</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To destroy a pipeline layout, call:</p></div>
<div class="listingblock">
<a id="vkDestroyPipelineLayout"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyPipelineLayout</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineLayout</span>                            pipelineLayout<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the pipeline layout.
</p>
</li>
<li>
<p>
<code>pipelineLayout</code> is the pipeline layout to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>pipelineLayout</code>
    was created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when
    <code>pipelineLayout</code> was created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>pipelineLayout</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>pipelineLayout</code> <span role="normative">must</span> be a valid <code>VkPipelineLayout</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>pipelineLayout</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>pipelineLayout</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sect4">
<h5 id="descriptorsets-compatibility">Pipeline Layout Compatibility</h5>
<div class="paragraph"><p>Two pipeline layouts are defined to be &#8220;compatible for
<a href="#descriptorsets-push-constants">push constants</a>&#8221; if they were created
with identical push constant ranges.
Two pipeline layouts are defined to be &#8220;compatible for set N&#8221; if they were
created with matching (the same, or identically defined) descriptor set
layouts for sets zero through N, and if they were created with identical
push constant ranges.</p></div>
<div class="paragraph"><p>When binding a descriptor set (see <a href="#descriptorsets-binding">Descriptor Set Binding</a>) to set number N, if the previously bound descriptor sets for sets
zero through N-1 were all bound using compatible pipeline layouts, then
performing this binding does not disturb any of the lower numbered sets.
If, additionally, the previous bound descriptor set for set N was bound
using a pipeline layout compatible for set N, then the bindings in sets
numbered greater than N are also not disturbed.</p></div>
<div class="paragraph"><p>Similarly, when binding a pipeline, the pipeline <span role="normative">can</span> correctly access any
previously bound descriptor sets which were bound with compatible pipeline
layouts, as long as all lower numbered sets were also bound with compatible
layouts.</p></div>
<div class="paragraph"><p>Layout compatibility means that descriptor sets <span role="normative">can</span> be bound to a command
buffer for use by any pipeline created with a compatible pipeline layout,
and without having bound a particular pipeline first.
It also means that descriptor sets <span role="normative">can</span> remain valid across a pipeline
change, and the same resources will be accessible to the newly bound
pipeline.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Implementor&#8217;s Note</div>
<div class="paragraph"><p>A consequence of layout compatibility is that when the implementation
compiles a pipeline layout and assigns hardware units to resources, the
mechanism to assign hardware units for set N <span role="normative">should</span> only be a function of
sets [0..N].</p></div>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Place the least frequently changing descriptor sets near the start of the
pipeline layout, and place the descriptor sets representing the most
frequently changing resources near the end.
When pipelines are switched, only the descriptor set bindings that have been
invalidated will need to be updated and the remainder of the descriptor set
bindings will remain in place.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>The maximum number of descriptor sets that <span role="normative">can</span> be bound to a pipeline
layout is queried from physical device properties (see
<code>maxBoundDescriptorSets</code> in <a href="#features-limits">Limits</a>).</p></div>
<div class="listingblock">
<div class="title">API example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkDescriptorSetLayout</span> layouts<span style="color: #990000">[]</span> <span style="color: #990000">=</span> <span style="color: #FF0000">{</span> layout1<span style="color: #990000">,</span> layout2 <span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkPushConstantRange</span> ranges<span style="color: #990000">[]</span> <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    <span style="color: #FF0000">{</span>
        VK_PIPELINE_STAGE_VERTEX_SHADER_BIT<span style="color: #990000">,</span>    <span style="font-style: italic"><span style="color: #9A1900">// stageFlags</span></span>
        <span style="color: #993399">0</span><span style="color: #990000">,</span>                                      <span style="font-style: italic"><span style="color: #9A1900">// offset</span></span>
        <span style="color: #993399">4</span>                                       <span style="font-style: italic"><span style="color: #9A1900">// size</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">,</span>

    <span style="color: #FF0000">{</span>
        VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT<span style="color: #990000">,</span>  <span style="font-style: italic"><span style="color: #9A1900">// stageFlags</span></span>
        <span style="color: #993399">4</span><span style="color: #990000">,</span>                                      <span style="font-style: italic"><span style="color: #9A1900">// offset</span></span>
        <span style="color: #993399">4</span>                                       <span style="font-style: italic"><span style="color: #9A1900">// size</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkPipelineLayoutCreateInfo</span> createInfo <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO<span style="color: #990000">,</span>  <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
    NULL<span style="color: #990000">,</span>                                           <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
    <span style="color: #993399">0</span><span style="color: #990000">,</span>                                              <span style="font-style: italic"><span style="color: #9A1900">// flags</span></span>
    <span style="color: #993399">2</span><span style="color: #990000">,</span>                                              <span style="font-style: italic"><span style="color: #9A1900">// setLayoutCount</span></span>
    layouts<span style="color: #990000">,</span>                                        <span style="font-style: italic"><span style="color: #9A1900">// pSetLayouts</span></span>
    <span style="color: #993399">2</span><span style="color: #990000">,</span>                                              <span style="font-style: italic"><span style="color: #9A1900">// pushConstantRangeCount</span></span>
    ranges                                          <span style="font-style: italic"><span style="color: #9A1900">// pPushConstantRanges</span></span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="color: #008080">VkPipelineLayout</span> myPipelineLayout<span style="color: #990000">;</span>
myResult <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">vkCreatePipelineLayout</span></span><span style="color: #990000">(</span>
    myDevice<span style="color: #990000">,</span>
    <span style="color: #990000">&amp;</span>createInfo<span style="color: #990000">,</span>
    NULL<span style="color: #990000">,</span>
    <span style="color: #990000">&amp;</span>myPipelineLayout<span style="color: #990000">);</span></tt></pre></div></div>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-allocation">13.2.3. Allocation of Descriptor Sets</h4>
<div class="paragraph"><p>A <em>descriptor pool</em> maintains a pool of descriptors, from which descriptor
sets are allocated.
Descriptor pools are externally synchronized, meaning that the application
<span role="normative">must</span> not allocate and/or free descriptor sets from the same pool in
multiple threads simultaneously.</p></div>
<div class="paragraph"><p>Descriptor pools are represented by <code>VkDescriptorPool</code> handles:</p></div>
<div class="listingblock">
<a id="VkDescriptorPool"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkDescriptorPool<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create a descriptor pool object, call:</p></div>
<div class="listingblock">
<a id="vkCreateDescriptorPool"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateDescriptorPool</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDescriptorPoolCreateInfo<span style="color: #990000">*</span>           pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkDescriptorPool<span style="color: #990000">*</span>                           pDescriptorPool<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the descriptor pool.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code><a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a></code> structure specifying the state of the
    descriptor pool object.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pDescriptorPool</code> points to a <code>VkDescriptorPool</code> handle in which
    the resulting descriptor pool object is returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p></div>
<div class="paragraph"><p>The created descriptor pool is returned in <code>pDescriptorPool</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkDescriptorPoolCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pDescriptorPool</code> <span role="normative">must</span> be a pointer to a <code>VkDescriptorPool</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>Additional information about the pool is passed in an instance of the
<code>VkDescriptorPoolCreateInfo</code> structure:</p></div>
<div class="listingblock">
<a id="VkDescriptorPoolCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDescriptorPoolCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                    pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkDescriptorPoolCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                       maxSets<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                       poolSizeCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDescriptorPoolSize<span style="color: #990000">*</span>    pPoolSizes<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDescriptorPoolCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> specifies certain supported operations on the pool.
    Bits which <span role="normative">can</span> be set include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkDescriptorPoolCreateFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkDescriptorPoolCreateFlagBits <span style="color: #FF0000">{</span>
    VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkDescriptorPoolCreateFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="paragraph"><p>If <code>flags</code> includes
<code>VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code>, then descriptor
sets <span role="normative">can</span> return their individual allocations to the pool, i.e. all of
<code>vkAllocateDescriptorSets</code>, <code>vkFreeDescriptorSets</code>, and
<code>vkResetDescriptorPool</code> are allowed.
Otherwise, descriptor sets allocated from the pool <span role="normative">must</span> not be individually
freed back to the pool, i.e. only <code>vkAllocateDescriptorSets</code> and
<code>vkResetDescriptorPool</code> are allowed.</p></div>
</li>
<li>
<p>
<code>maxSets</code> is the maximum number of descriptor sets that <span role="normative">can</span> be
    allocated from the pool.
</p>
</li>
<li>
<p>
<code>poolSizeCount</code> is the number of elements in <code>pPoolSizes</code>.
</p>
</li>
<li>
<p>
<code>pPoolSizes</code> is a pointer to an array of <code>VkDescriptorPoolSize</code>
    structures, each containing a descriptor type and number of descriptors
    of that type to be allocated in the pool.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If multiple <code>VkDescriptorPoolSize</code> structures appear in the
<code>pPoolSizes</code> array then the pool will be created with enough storage for
the total number of descriptors of each type.</p></div>
<div class="paragraph"><p>Fragmentation of a descriptor pool is possible and <span role="normative">may</span> lead to descriptor
set allocation failures.
A failure due to fragmentation is defined as failing a descriptor set
allocation despite the sum of all outstanding descriptor set allocations
from the pool plus the requested allocation requiring no more than the total
number of descriptors requested at pool creation.
Implementations provide certain guarantees of when fragmentation <span role="normative">must</span> not
cause allocation failure, as described below.</p></div>
<div class="paragraph"><p>If a descriptor pool has not had any descriptor sets freed since it was
created or most recently reset then fragmentation <span role="normative">must</span> not cause an
allocation failure (note that this is always the case for a pool created
without the <code>VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code> bit
set).
Additionally, if all sets allocated from the pool since it was created or
most recently reset use the same number of descriptors (of each type) and
the requested allocation also uses that same number of descriptors (of each
type), then fragmentation <span role="normative">must</span> not cause an allocation failure.</p></div>
<div class="paragraph"><p>If an allocation failure occurs due to fragmentation, an application <span role="normative">can</span>
create an additional descriptor pool to perform further descriptor set
allocations.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>maxSets</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkDescriptorPoolCreateFlagBits">VkDescriptorPoolCreateFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>pPoolSizes</code> <span role="normative">must</span> be a pointer to an array of <code>poolSizeCount</code> valid <code>VkDescriptorPoolSize</code> structures
</p>
</li>
<li>
<p>
<code>poolSizeCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkDescriptorPoolSize</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDescriptorPoolSize"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDescriptorPoolSize</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkDescriptorType</span>    type<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>            descriptorCount<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDescriptorPoolSize<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>type</code> is the type of descriptor.
</p>
</li>
<li>
<p>
<code>descriptorCount</code> is the number of descriptors of that type to
    allocate.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>descriptorCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>type</code> <span role="normative">must</span> be a valid <code><a href="#VkDescriptorType">VkDescriptorType</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To destroy a descriptor pool, call:</p></div>
<div class="listingblock">
<a id="vkDestroyDescriptorPool"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyDescriptorPool</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkDescriptorPool</span>                            descriptorPool<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the descriptor pool.
</p>
</li>
<li>
<p>
<code>descriptorPool</code> is the descriptor pool to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When a pool is destroyed, all descriptor sets allocated from the pool are
implicitly freed and become invalid.
Descriptor sets allocated from a given pool do not need to be freed before
destroying that descriptor pool.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted commands that refer to <code>descriptorPool</code> (via any
    allocated descriptor sets) <span role="normative">must</span> have completed execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>descriptorPool</code>
    was created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when
    <code>descriptorPool</code> was created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>descriptorPool</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>descriptorPool</code> <span role="normative">must</span> be a valid <code>VkDescriptorPool</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>descriptorPool</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>descriptorPool</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Descriptor sets are allocated from descriptor pool objects, and are
represented by <code>VkDescriptorSet</code> handles:</p></div>
<div class="listingblock">
<a id="VkDescriptorSet"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkDescriptorSet<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To allocate descriptor sets from a descriptor pool, call:</p></div>
<div class="listingblock">
<a id="vkAllocateDescriptorSets"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkAllocateDescriptorSets</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDescriptorSetAllocateInfo<span style="color: #990000">*</span>          pAllocateInfo<span style="color: #990000">,</span>
    VkDescriptorSet<span style="color: #990000">*</span>                            pDescriptorSets<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the descriptor pool.
</p>
</li>
<li>
<p>
<code>pAllocateInfo</code> is a pointer to an instance of the
    <code><a href="#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a></code> structure describing parameters of the
    allocation.
</p>
</li>
<li>
<p>
<code>pDescriptorSets</code> is a pointer to an array of <code>VkDescriptorSet</code>
    handles in which the resulting descriptor set objects are returned.
    The array <span role="normative">must</span> be at least the length specified by the
    <code>descriptorSetCount</code> member of <code>pAllocateInfo</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The allocated descriptor sets are returned in <code>pDescriptorSets</code>.</p></div>
<div class="paragraph"><p>When a descriptor set is allocated, the initial state is largely
uninitialized and all descriptors are undefined.
However, the descriptor set <span role="normative">can</span> be bound in a command buffer without
causing errors or exceptions.
All entries that are statically used by a pipeline in a drawing or
dispatching command <span role="normative">must</span> have been populated before the descriptor set is
bound for use by that command.
Entries that are not statically used by a pipeline <span role="normative">can</span> have uninitialized
descriptors or descriptors of resources that have been destroyed, and
executing a draw or dispatch with such a descriptor set bound does not cause
undefined behavior.
This means applications need not populate unused entries with dummy
descriptors.</p></div>
<div class="paragraph"><p>If an allocation fails due to fragmentation, an indeterminate error is
returned with an unspecified error code.
Any returned error other than <code>VK_ERROR_FRAGMENTED_POOL</code> does not imply
its usual meaning: applications <span role="normative">should</span> assume that the allocation failed
due to fragmentation, and create a new descriptor pool.</p></div>
<div class="paragraph"><p>If the allocation fails due to no more space in the descriptor pool, and not
because of system or device memory exhaustion, then
<code>VK_ERROR_OUT_OF_POOL_MEMORY_KHR</code> <span role="normative">must</span> be returned.</p></div>
<div class="paragraph"><p><code>vkAllocateDescriptorSets</code> <span role="normative">can</span> be used to create multiple descriptor
sets.
If the creation of any of those descriptor sets fails, then the
implementation <span role="normative">must</span> destroy all successfully created descriptor set objects
from this command, set all entries of the <code>pDescriptorSets</code> array to
<code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> and return the error.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Applications <span role="normative">should</span> check for a negative return value when allocating new
descriptor sets, assume that any error effectively means
<code>VK_ERROR_FRAGMENTED_POOL</code>, and try to create a new descriptor pool.
If <code>VK_ERROR_FRAGMENTED_POOL</code> is the actual return value, it adds
certainty to that decision.</p></div>
<div class="paragraph"><p>The reason for this is that <code>VK_ERROR_FRAGMENTED_POOL</code> was only added in
a later revision of the 1.0 specification, and so drivers <span role="normative">may</span> return other
errors if they were written against earlier revisions.
To ensure full compatibility with earlier patch revisions, these other
errors are allowed.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pAllocateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkDescriptorSetAllocateInfo</code> structure
</p>
</li>
<li>
<p>
<code>pDescriptorSets</code> <span role="normative">must</span> be a pointer to an array of <code>pAllocateInfo</code>::descriptorSetCount <code>VkDescriptorSet</code> handles
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>pAllocateInfo</code>::descriptorPool <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_FRAGMENTED_POOL</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkDescriptorSetAllocateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDescriptorSetAllocateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDescriptorSetAllocateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                 sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                     pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkDescriptorPool</span>                descriptorPool<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                        descriptorSetCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDescriptorSetLayout<span style="color: #990000">*</span>    pSetLayouts<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDescriptorSetAllocateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>descriptorPool</code> is the pool which the sets will be allocated from.
</p>
</li>
<li>
<p>
<code>descriptorSetCount</code> determines the number of descriptor sets to be
    allocated from the pool.
</p>
</li>
<li>
<p>
<code>pSetLayouts</code> is an array of descriptor set layouts, with each
    member specifying how the corresponding descriptor set is allocated.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>descriptorSetCount</code> <span role="normative">must</span> not be greater than the number of sets
    that are currently available for allocation in <code>descriptorPool</code>
</p>
</li>
<li>
<p>
<code>descriptorPool</code> <span role="normative">must</span> have enough free descriptor capacity
    remaining to allocate the descriptor sets of the specified layouts
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_ALLOCATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>descriptorPool</code> <span role="normative">must</span> be a valid <code>VkDescriptorPool</code> handle
</p>
</li>
<li>
<p>
<code>pSetLayouts</code> <span role="normative">must</span> be a pointer to an array of <code>descriptorSetCount</code> valid <code>VkDescriptorSetLayout</code> handles
</p>
</li>
<li>
<p>
<code>descriptorSetCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Both of <code>descriptorPool</code>, and the elements of <code>pSetLayouts</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To free allocated descriptor sets, call:</p></div>
<div class="listingblock">
<a id="vkFreeDescriptorSets"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkFreeDescriptorSets</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkDescriptorPool</span>                            descriptorPool<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    descriptorSetCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDescriptorSet<span style="color: #990000">*</span>                      pDescriptorSets<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the descriptor pool.
</p>
</li>
<li>
<p>
<code>descriptorPool</code> is the descriptor pool from which the descriptor
    sets were allocated.
</p>
</li>
<li>
<p>
<code>descriptorSetCount</code> is the number of elements in the
    <code>pDescriptorSets</code> array.
</p>
</li>
<li>
<p>
<code>pDescriptorSets</code> is an array of handles to <code>VkDescriptorSet</code>
    objects.
</p>
</li>
</ul></div>
<div class="paragraph"><p>After a successful call to <code>vkFreeDescriptorSets</code>, all descriptor sets
in <code>pDescriptorSets</code> are invalid.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted commands that refer to any element of
    <code>pDescriptorSets</code> <span role="normative">must</span> have completed execution
</p>
</li>
<li>
<p>
<code>pDescriptorSets</code> <span role="normative">must</span> be a pointer to an array of
    <code>descriptorSetCount</code> <code>VkDescriptorSet</code> handles, each element of
    which <span role="normative">must</span> either be a valid handle or <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>
</p>
</li>
<li>
<p>
Each valid handle in <code>pDescriptorSets</code> <span role="normative">must</span> have been allocated
    from <code>descriptorPool</code>
</p>
</li>
<li>
<p>
<code>descriptorPool</code> <span role="normative">must</span> have been created with the
    <code>VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code> flag
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>descriptorPool</code> <span role="normative">must</span> be a valid <code>VkDescriptorPool</code> handle
</p>
</li>
<li>
<p>
<code>descriptorSetCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>descriptorPool</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
<li>
<p>
Each element of <code>pDescriptorSets</code> that is a valid handle <span role="normative">must</span> have been created, allocated, or retrieved from <code>descriptorPool</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>descriptorPool</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to each member of <code>pDescriptorSets</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>To return all descriptor sets allocated from a given pool to the pool,
rather than freeing individual descriptor sets, call:</p></div>
<div class="listingblock">
<a id="vkResetDescriptorPool"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkResetDescriptorPool</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkDescriptorPool</span>                            descriptorPool<span style="color: #990000">,</span>
    <span style="color: #008080">VkDescriptorPoolResetFlags</span>                  flags<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the descriptor pool.
</p>
</li>
<li>
<p>
<code>descriptorPool</code> is the descriptor pool to be reset.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Resetting a descriptor pool recycles all of the resources from all of the
descriptor sets allocated from the descriptor pool back to the descriptor
pool, and the descriptor sets are implicitly freed.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All uses of <code>descriptorPool</code> (via any allocated descriptor sets)
    <span role="normative">must</span> have completed execution
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>descriptorPool</code> <span role="normative">must</span> be a valid <code>VkDescriptorPool</code> handle
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>descriptorPool</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>descriptorPool</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to any <code>VkDescriptorSet</code> objects allocated from <code>descriptorPool</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
</div>
<div class="sect3">
<h4 id="descriptorsets-updates">13.2.4. Descriptor Set Updates</h4>
<div class="paragraph"><p>Once allocated, descriptor sets <span role="normative">can</span> be updated with a combination of write
and copy operations.
To update descriptor sets, call:</p></div>
<div class="listingblock">
<a id="vkUpdateDescriptorSets"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkUpdateDescriptorSets</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    descriptorWriteCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkWriteDescriptorSet<span style="color: #990000">*</span>                 pDescriptorWrites<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    descriptorCopyCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkCopyDescriptorSet<span style="color: #990000">*</span>                  pDescriptorCopies<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that updates the descriptor sets.
</p>
</li>
<li>
<p>
<code>descriptorWriteCount</code> is the number of elements in the
    <code>pDescriptorWrites</code> array.
</p>
</li>
<li>
<p>
<code>pDescriptorWrites</code> is a pointer to an array of
    <code><a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a></code> structures describing the descriptor sets to
    write to.
</p>
</li>
<li>
<p>
<code>descriptorCopyCount</code> is the number of elements in the
    <code>pDescriptorCopies</code> array.
</p>
</li>
<li>
<p>
<code>pDescriptorCopies</code> is a pointer to an array of
    <code><a href="#VkCopyDescriptorSet">VkCopyDescriptorSet</a></code> structures describing the descriptor sets to
    copy between.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The operations described by <code>pDescriptorWrites</code> are performed first,
followed by the operations described by <code>pDescriptorCopies</code>.
Within each array, the operations are performed in the order they appear in
the array.</p></div>
<div class="paragraph"><p>Each element in the <code>pDescriptorWrites</code> array describes an operation
updating the descriptor set using descriptors for resources specified in the
structure.</p></div>
<div class="paragraph"><p>Each element in the <code>pDescriptorCopies</code> array is a
<code><a href="#VkCopyDescriptorSet">VkCopyDescriptorSet</a></code> structure describing an operation copying
descriptors between sets.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>descriptorWriteCount</code> is not <span class="monospaced">0</span>, <code>pDescriptorWrites</code> <span role="normative">must</span> be a pointer to an array of <code>descriptorWriteCount</code> valid <code>VkWriteDescriptorSet</code> structures
</p>
</li>
<li>
<p>
If <code>descriptorCopyCount</code> is not <span class="monospaced">0</span>, <code>pDescriptorCopies</code> <span role="normative">must</span> be a pointer to an array of <code>descriptorCopyCount</code> valid <code>VkCopyDescriptorSet</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>pDescriptorWrites</code>[].dstSet <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>pDescriptorCopies</code>[].dstSet <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkWriteDescriptorSet</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkWriteDescriptorSet"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkWriteDescriptorSet</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                  sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                      pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkDescriptorSet</span>                  dstSet<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                         dstBinding<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                         dstArrayElement<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                         descriptorCount<span style="color: #990000">;</span>
    <span style="color: #008080">VkDescriptorType</span>                 descriptorType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDescriptorImageInfo<span style="color: #990000">*</span>     pImageInfo<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDescriptorBufferInfo<span style="color: #990000">*</span>    pBufferInfo<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkBufferView<span style="color: #990000">*</span>              pTexelBufferView<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkWriteDescriptorSet<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>dstSet</code> is the destination descriptor set to update.
</p>
</li>
<li>
<p>
<code>dstBinding</code> is the descriptor binding within that set.
</p>
</li>
<li>
<p>
<code>dstArrayElement</code> is the starting element in that array.
</p>
</li>
<li>
<p>
<code>descriptorCount</code> is the number of descriptors to update (the number
    of elements in <code>pImageInfo</code>, <code>pBufferInfo</code>, or
    <code>pTexelBufferView</code>).
</p>
</li>
<li>
<p>
<code>descriptorType</code> is a <code><a href="#VkDescriptorType">VkDescriptorType</a></code> specifying the type of
    each descriptor in <code>pImageInfo</code>, <code>pBufferInfo</code>, or
    <code>pTexelBufferView</code>, as described below.
    It <span role="normative">must</span> be the same type as that specified in
    <code>VkDescriptorSetLayoutBinding</code> for <code>dstSet</code> at <code>dstBinding</code>.
    The type of the descriptor also controls which array the descriptors are
    taken from.
</p>
</li>
<li>
<p>
<code>pImageInfo</code> points to an array of <code><a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a></code>
    structures or is ignored, as described below.
</p>
</li>
<li>
<p>
<code>pBufferInfo</code> points to an array of <code><a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a></code>
    structures or is ignored, as described below.
</p>
</li>
<li>
<p>
<code>pTexelBufferView</code> points to an array of <code><a href="#VkBufferView">VkBufferView</a></code> handles
    as described in the <a href="#resources-buffer-views">Buffer Views</a> section or
    is ignored, as described below.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Only one of <code>pImageInfo</code>, <code>pBufferInfo</code>, or <code>pTexelBufferView</code>
members is used according to the descriptor type specified in the
<code>descriptorType</code> member of the containing <code>VkWriteDescriptorSet</code>
structure, as specified below.</p></div>
<div class="paragraph" id="descriptorsets-updates-consecutive"><p>If the <code>dstBinding</code> has fewer than <code>descriptorCount</code> array elements
remaining starting from <code>dstArrayElement</code>, then the remainder will be
used to update the subsequent binding - <code>dstBinding</code>+1 starting at array
element zero.
If a binding has a <code>descriptorCount</code> of zero, it is skipped.
This behavior applies recursively, with the update affecting consecutive
bindings as needed to update all <code>descriptorCount</code> descriptors.
All consecutive bindings updated via a single <code>VkWriteDescriptorSet</code>
structure, except those with a <code>descriptorCount</code> of zero, <span role="normative">must</span> have
identical <code>descriptorType</code> and <code>stageFlags</code>, and <span role="normative">must</span> all either
use immutable samplers or <span role="normative">must</span> all not use immutable samplers.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>dstBinding</code> <span role="normative">must</span> be less than or equal to the maximum value of
    <code>binding</code> of all <code><a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a></code> structures
    specified when <code>dstSet</code>&#8217;s descriptor set layout was created
</p>
</li>
<li>
<p>
<code>dstBinding</code> <span role="normative">must</span> be a binding with a non-zero
    <code>descriptorCount</code>
</p>
</li>
<li>
<p>
<code>descriptorType</code> <span role="normative">must</span> match the type of <code>dstBinding</code> within
    <code>dstSet</code>
</p>
</li>
<li>
<p>
The sum of <code>dstArrayElement</code> and <code>descriptorCount</code> <span role="normative">must</span> be less
    than or equal to the number of array elements in the descriptor set
    binding specified by <code>dstBinding</code>, and all applicable consecutive
    bindings, as described by <a href="#descriptorsets-updates-consecutive">[descriptorsets-updates-consecutive]</a>
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>,
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
    <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
    <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
    <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, <code>pImageInfo</code> <span role="normative">must</span> be a
    pointer to an array of <code>descriptorCount</code> valid
    <code>VkDescriptorImageInfo</code> structures
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>
    or <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, <code>pTexelBufferView</code>
    <span role="normative">must</span> be a pointer to an array of <code>descriptorCount</code> valid
    <code>VkBufferView</code> handles
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, <code>pBufferInfo</code> <span role="normative">must</span>
    be a pointer to an array of <code>descriptorCount</code> valid
    <code>VkDescriptorBufferInfo</code> structures
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and <code>dstSet</code> was
    not allocated with a layout that included immutable samplers for
    <code>dstBinding</code> with <code>descriptorType</code>, the <code>sampler</code> member of
    any given element of <code>pImageInfo</code> <span role="normative">must</span> be a valid <code>VkSampler</code>
    object
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
    <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
    <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
    <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, the <code>imageView</code> and
    <code>imageLayout</code> members of any given element of <code>pImageInfo</code> <span role="normative">must</span>
    be a valid <code>VkImageView</code> and <code><a href="#VkImageLayout">VkImageLayout</a></code>, respectively
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <code>offset</code> member
    of any given element of <code>pBufferInfo</code> <span role="normative">must</span> be a multiple of
    <code>VkPhysicalDeviceLimits</code>::<code>minUniformBufferOffsetAlignment</code>
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>offset</code> member
    of any given element of <code>pBufferInfo</code> <span role="normative">must</span> be a multiple of
    <code>VkPhysicalDeviceLimits</code>::<code>minStorageBufferOffsetAlignment</code>
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>,
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>, or
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>buffer</code> member
    of any given element of <code>pBufferInfo</code> that is non-sparse <span role="normative">must</span> be
    bound completely and contiguously to a single <code>VkDeviceMemory</code>
    object
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <code>buffer</code> member
    of any given element of <code>pBufferInfo</code> <span role="normative">must</span> have been created with
    <code>VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</code> set
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>buffer</code> member
    of any given element of <code>pBufferInfo</code> <span role="normative">must</span> have been created with
    <code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code> set
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <code>range</code> member
    of any given element of <code>pBufferInfo</code>, or the effective range if
    <code>range</code> is <code>VK_WHOLE_SIZE</code>, <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxUniformBufferRange</code>
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>range</code> member
    of any given element of <code>pBufferInfo</code>, or the effective range if
    <code>range</code> is <code>VK_WHOLE_SIZE</code>, <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxStorageBufferRange</code>
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>, the <code>VkBuffer</code> that
    any given element of <code>pTexelBufferView</code> was created from <span role="normative">must</span> have
    been created with <code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> set
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is
    <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, the <code>VkBuffer</code> that
    any given element of <code>pTexelBufferView</code> was created from <span role="normative">must</span> have
    been created with <code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code> set
</p>
</li>
<li>
<p>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> or
    <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, the <code>imageView</code> member of
    any given element of <code>pImageInfo</code> <span role="normative">must</span> have been created with the
    identity swizzle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>dstSet</code> <span role="normative">must</span> be a valid <code>VkDescriptorSet</code> handle
</p>
</li>
<li>
<p>
<code>descriptorType</code> <span role="normative">must</span> be a valid <code><a href="#VkDescriptorType">VkDescriptorType</a></code> value
</p>
</li>
<li>
<p>
<code>descriptorCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Both of <code>dstSet</code>, and the elements of <code>pTexelBufferView</code> that are valid handles <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The type of descriptors in a descriptor set is specified by
<code><a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a></code>::<code>descriptorType</code>, which <span role="normative">must</span> be one of the
values:</p></div>
<div class="listingblock">
<a id="VkDescriptorType"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkDescriptorType <span style="color: #FF0000">{</span>
    VK_DESCRIPTOR_TYPE_SAMPLER <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_DESCRIPTOR_TYPE_STORAGE_IMAGE <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">,</span>
    VK_DESCRIPTOR_TYPE_STORAGE_BUFFER <span style="color: #990000">=</span> <span style="color: #993399">7</span><span style="color: #990000">,</span>
    VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC <span style="color: #990000">=</span> <span style="color: #993399">8</span><span style="color: #990000">,</span>
    VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC <span style="color: #990000">=</span> <span style="color: #993399">9</span><span style="color: #990000">,</span>
    VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT <span style="color: #990000">=</span> <span style="color: #993399">10</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkDescriptorType<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the elements of the
<code><a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a></code>::<code>pBufferInfo</code> array of
<code><a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a></code> structures will be used to update the
descriptors, and other arrays will be ignored.</p></div>
<div class="paragraph"><p>If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, the
<code><a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a></code>::<code>pTexelBufferView</code> array will be used to
update the descriptors, and other arrays will be ignored.</p></div>
<div class="paragraph"><p>If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, the elements of the
<code><a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a></code>::<code>pImageInfo</code> array of
<code><a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a></code> structures will be used to update the
descriptors, and other arrays will be ignored.</p></div>
<div class="paragraph"><p>The <code>VkDescriptorBufferInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDescriptorBufferInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDescriptorBufferInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkBuffer</span>        buffer<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>    offset<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>    range<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDescriptorBufferInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>buffer</code> is the buffer resource.
</p>
</li>
<li>
<p>
<code>offset</code> is the offset in bytes from the start of <code>buffer</code>.
    Access to buffer memory via this descriptor uses addressing that is
    relative to this starting offset.
</p>
</li>
<li>
<p>
<code>range</code> is the size in bytes that is used for this descriptor
    update, or <code>VK_WHOLE_SIZE</code> to use the range from <code>offset</code> to the
    end of the buffer.
</p>
<div class="openblock">
<div class="content">
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>When using <code>VK_WHOLE_SIZE</code>, the effective range <span role="normative">must</span> not be larger than
the maximum range for the descriptor type
(<a href="#features-limits-maxUniformBufferRange">maxUniformBufferRange</a> or
<a href="#features-limits-maxStorageBufferRange">maxStorageBufferRange</a>).
This means that <code>VK_WHOLE_SIZE</code> is not typically useful in the common
case where uniform buffer descriptors are suballocated from a buffer that is
much larger than <code>maxUniformBufferRange</code>.</p></div>
</td>
</tr></table>
</div>
</div></div>
<div class="paragraph"><p>For <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> and
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> descriptor types,
<code>offset</code> is the base offset from which the dynamic offset is applied and
<code>range</code> is the static size used for all dynamic offsets.</p></div>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be less than the size of <code>buffer</code>
</p>
</li>
<li>
<p>
If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> <span role="normative">must</span> be
    greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> <span role="normative">must</span> be
    less than or equal to the size of <code>buffer</code> minus <code>offset</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkDescriptorImageInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDescriptorImageInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDescriptorImageInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkSampler</span>        sampler<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageView</span>      imageView<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageLayout</span>    imageLayout<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDescriptorImageInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sampler</code> is a sampler handle, and is used in descriptor updates for
    types <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> if the binding being
    updated does not use immutable samplers.
</p>
</li>
<li>
<p>
<code>imageView</code> is an image view handle, and is used in descriptor
    updates for types <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
    <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
    <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>.
</p>
</li>
<li>
<p>
<code>imageLayout</code> is the layout that the image will be in at the time
    this descriptor is accessed.
    <code>imageLayout</code> is used in descriptor updates for types
    <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
    <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
    <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Members of <code>VkDescriptorImageInfo</code> that are not used in an update (as
described above) are ignored.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
Both of <code>imageView</code>, and <code>sampler</code> that are valid handles <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkCopyDescriptorSet</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkCopyDescriptorSet"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkCopyDescriptorSet</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>    sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>        pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkDescriptorSet</span>    srcSet<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>           srcBinding<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>           srcArrayElement<span style="color: #990000">;</span>
    <span style="color: #008080">VkDescriptorSet</span>    dstSet<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>           dstBinding<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>           dstArrayElement<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>           descriptorCount<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkCopyDescriptorSet<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>srcSet</code>, <code>srcBinding</code>, and <code>srcArrayElement</code> are the source
    set, binding, and array element, respectively.
</p>
</li>
<li>
<p>
<code>dstSet</code>, <code>dstBinding</code>, and <code>dstArrayElement</code> are the
    destination set, binding, and array element, respectively.
</p>
</li>
<li>
<p>
<code>descriptorCount</code> is the number of descriptors to copy from the
    source to destination.
    If <code>descriptorCount</code> is greater than the number of remaining array
    elements in the source or destination binding, those affect consecutive
    bindings in a manner similar to <code><a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a></code> above.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>srcBinding</code> <span role="normative">must</span> be a valid binding within <code>srcSet</code>
</p>
</li>
<li>
<p>
The sum of <code>srcArrayElement</code> and <code>descriptorCount</code> <span role="normative">must</span> be less
    than or equal to the number of array elements in the descriptor set
    binding specified by <code>srcBinding</code>, and all applicable consecutive
    bindings, as described by <a href="#descriptorsets-updates-consecutive">[descriptorsets-updates-consecutive]</a>
</p>
</li>
<li>
<p>
<code>dstBinding</code> <span role="normative">must</span> be a valid binding within <code>dstSet</code>
</p>
</li>
<li>
<p>
The sum of <code>dstArrayElement</code> and <code>descriptorCount</code> <span role="normative">must</span> be less
    than or equal to the number of array elements in the descriptor set
    binding specified by <code>dstBinding</code>, and all applicable consecutive
    bindings, as described by <a href="#descriptorsets-updates-consecutive">[descriptorsets-updates-consecutive]</a>
</p>
</li>
<li>
<p>
If <code>srcSet</code> is equal to <code>dstSet</code>, then the source and
    destination ranges of descriptors <span role="normative">must</span> not overlap, where the ranges
    <span role="normative">may</span> include array elements from consecutive bindings as described by
    <a href="#descriptorsets-updates-consecutive">[descriptorsets-updates-consecutive]</a>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_COPY_DESCRIPTOR_SET</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>srcSet</code> <span role="normative">must</span> be a valid <code>VkDescriptorSet</code> handle
</p>
</li>
<li>
<p>
<code>dstSet</code> <span role="normative">must</span> be a valid <code>VkDescriptorSet</code> handle
</p>
</li>
<li>
<p>
Both of <code>dstSet</code>, and <code>srcSet</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect3">
<h4 id="descriptorsets-binding">13.2.5. Descriptor Set Binding</h4>
<div class="paragraph"><p>To bind one or more descriptor sets to a command buffer, call:</p></div>
<div class="listingblock">
<a id="vkCmdBindDescriptorSets"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdBindDescriptorSets</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineBindPoint</span>                         pipelineBindPoint<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineLayout</span>                            layout<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    firstSet<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    descriptorSetCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDescriptorSet<span style="color: #990000">*</span>                      pDescriptorSets<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    dynamicOffsetCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> uint32_t<span style="color: #990000">*</span>                             pDynamicOffsets<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer that the descriptor sets will
    be bound to.
</p>
</li>
<li>
<p>
<code>pipelineBindPoint</code> is a <code><a href="#VkPipelineBindPoint">VkPipelineBindPoint</a></code> indicating
    whether the descriptors will be used by graphics pipelines or compute
    pipelines.
    There is a separate set of bind points for each of graphics and compute,
    so binding one does not disturb the other.
</p>
</li>
<li>
<p>
<code>layout</code> is a <code>VkPipelineLayout</code> object used to program the
    bindings.
</p>
</li>
<li>
<p>
<code>firstSet</code> is the set number of the first descriptor set to be
    bound.
</p>
</li>
<li>
<p>
<code>descriptorSetCount</code> is the number of elements in the
    <code>pDescriptorSets</code> array.
</p>
</li>
<li>
<p>
<code>pDescriptorSets</code> is an array of handles to <code>VkDescriptorSet</code>
    objects describing the descriptor sets to write to.
</p>
</li>
<li>
<p>
<code>dynamicOffsetCount</code> is the number of dynamic offsets in the
    <code>pDynamicOffsets</code> array.
</p>
</li>
<li>
<p>
<code>pDynamicOffsets</code> is a pointer to an array of <code>uint32_t</code> values
    specifying dynamic offsets.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkCmdBindDescriptorSets</code> causes the sets numbered [<code>firstSet</code>..
<code>firstSet</code>+<code>descriptorSetCount</code>-1] to use the bindings stored in
<code>pDescriptorSets</code>[0..<code>descriptorSetCount</code>-1] for subsequent
rendering commands (either compute or graphics, according to the
<code>pipelineBindPoint</code>).
Any bindings that were previously applied via these sets are no longer
valid.</p></div>
<div class="paragraph"><p>Once bound, a descriptor set affects rendering of subsequent graphics or
compute commands in the command buffer until a different set is bound to the
same set number, or else until the set is disturbed as described in
<a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a>.</p></div>
<div class="paragraph"><p>A compatible descriptor set <span role="normative">must</span> be bound for all set numbers that any
shaders in a pipeline access, at the time that a draw or dispatch command is
recorded to execute using that pipeline.
However, if none of the shaders in a pipeline statically use any bindings
with a particular set number, then no descriptor set need be bound for that
set number, even if the pipeline layout includes a non-trivial descriptor
set layout for that set number.</p></div>
<div class="paragraph"><p>If any of the sets being bound include dynamic uniform or storage buffers,
then <code>pDynamicOffsets</code> includes one element for each array element in
each dynamic descriptor type binding in each set.
Values are taken from <code>pDynamicOffsets</code> in an order such that all
entries for set N come before set N+1; within a set, entries are ordered by
the binding numbers in the descriptor set layouts; and within a binding
array, elements are in order.
<code>dynamicOffsetCount</code> <span role="normative">must</span> equal the total number of dynamic descriptors
in the sets being bound.</p></div>
<div class="paragraph"><p>The effective offset used for dynamic uniform and storage buffer bindings is
the sum of the relative offset taken from <code>pDynamicOffsets</code>, and the
base address of the buffer plus base offset in the descriptor set.
The length of the dynamic uniform and storage buffer bindings is the buffer
range as specified in the descriptor set.</p></div>
<div class="paragraph"><p>Each of the <code>pDescriptorSets</code> <span role="normative">must</span> be compatible with the pipeline
layout specified by <code>layout</code>.
The layout used to program the bindings <span role="normative">must</span> also be compatible with the
pipeline used in subsequent graphics or compute commands, as defined in the
<a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a> section.</p></div>
<div class="paragraph"><p>The descriptor set contents bound by a call to <code>vkCmdBindDescriptorSets</code>
<span role="normative">may</span> be consumed during host execution of the command, or during shader
execution of the resulting draws, or any time in between.
Thus, the contents <span role="normative">must</span> not be altered (overwritten by an update command,
or freed) between when the command is recorded and when the command
completes executing on the queue.
The contents of <code>pDynamicOffsets</code> are consumed immediately during
execution of <code>vkCmdBindDescriptorSets</code>.
Once all pending uses have completed, it is legal to update and reuse a
descriptor set.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
Any given element of <code>pDescriptorSets</code> <span role="normative">must</span> have been allocated
    with a <code>VkDescriptorSetLayout</code> that matches (is the same as, or
    defined identically to) the <code>VkDescriptorSetLayout</code> at set <em>n</em> in
    <code>layout</code>, where <em>n</em> is the sum of <code>firstSet</code> and the index into
    <code>pDescriptorSets</code>
</p>
</li>
<li>
<p>
<code>dynamicOffsetCount</code> <span role="normative">must</span> be equal to the total number of dynamic
    descriptors in <code>pDescriptorSets</code>
</p>
</li>
<li>
<p>
The sum of <code>firstSet</code> and <code>descriptorSetCount</code> <span role="normative">must</span> be less
    than or equal to <code>VkPipelineLayoutCreateInfo</code>::<code>setLayoutCount</code>
    provided when <code>layout</code> was created
</p>
</li>
<li>
<p>
<code>pipelineBindPoint</code> <span role="normative">must</span> be supported by the <code>commandBuffer</code>&#8217;s
    parent <code>VkCommandPool</code>&#8217;s queue family
</p>
</li>
<li>
<p>
Any given element of <code>pDynamicOffsets</code> <span role="normative">must</span> satisfy the required
    alignment for the corresponding descriptor binding&#8217;s descriptor type
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pipelineBindPoint</code> <span role="normative">must</span> be a valid <code><a href="#VkPipelineBindPoint">VkPipelineBindPoint</a></code> value
</p>
</li>
<li>
<p>
<code>layout</code> <span role="normative">must</span> be a valid <code>VkPipelineLayout</code> handle
</p>
</li>
<li>
<p>
<code>pDescriptorSets</code> <span role="normative">must</span> be a pointer to an array of <code>descriptorSetCount</code> valid <code>VkDescriptorSet</code> handles
</p>
</li>
<li>
<p>
If <code>dynamicOffsetCount</code> is not <span class="monospaced">0</span>, <code>pDynamicOffsets</code> <span role="normative">must</span> be a pointer to an array of <code>dynamicOffsetCount</code> <code>uint32_t</code> values
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics, or compute operations
</p>
</li>
<li>
<p>
<code>descriptorSetCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Each of <code>commandBuffer</code>, <code>layout</code>, and the elements of <code>pDescriptorSets</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
</div>
<div class="sect3">
<h4 id="_push_constant_updates">13.2.6. Push Constant Updates</h4>
<div class="paragraph" id="descriptorsets-push-constants"><p>As described above in section <a href="#descriptorsets-pipelinelayout">Pipeline Layouts</a>, the pipeline layout defines shader push constants which are
updated via Vulkan commands rather than via writes to memory or copy
commands.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Push constants represent a high speed path to modify constant data in
pipelines that is expected to outperform memory-backed resource updates.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>The values of push constants are undefined at the start of a command buffer.</p></div>
<div class="paragraph"><p>To update push constants, call:</p></div>
<div class="listingblock">
<a id="vkCmdPushConstants"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdPushConstants</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineLayout</span>                            layout<span style="color: #990000">,</span>
    <span style="color: #008080">VkShaderStageFlags</span>                          stageFlags<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    offset<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    size<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                                 pValues<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer in which the push constant
    update will be recorded.
</p>
</li>
<li>
<p>
<code>layout</code> is the pipeline layout used to program the push constant
    updates.
</p>
</li>
<li>
<p>
<code>stageFlags</code> is a bitmask of <code><a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> specifying
    the shader stages that will use the push constants in the updated range.
</p>
</li>
<li>
<p>
<code>offset</code> is the start offset of the push constant range to update,
    in units of bytes.
</p>
</li>
<li>
<p>
<code>size</code> is the size of the push constant range to update, in units of
    bytes.
</p>
</li>
<li>
<p>
<code>pValues</code> is an array of <code>size</code> bytes containing the new push
    constant values.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>stageFlags</code> <span role="normative">must</span> match exactly the shader stages used in
    <code>layout</code> for the range specified by <code>offset</code> and <code>size</code>
</p>
</li>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be a multiple of <span class="monospaced">4</span>
</p>
</li>
<li>
<p>
<code>size</code> <span role="normative">must</span> be a multiple of <span class="monospaced">4</span>
</p>
</li>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be less than
    <code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code>
</p>
</li>
<li>
<p>
<code>size</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code> minus
    <code>offset</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>layout</code> <span role="normative">must</span> be a valid <code>VkPipelineLayout</code> handle
</p>
</li>
<li>
<p>
<code>stageFlags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>stageFlags</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>pValues</code> <span role="normative">must</span> be a pointer to an array of <code>size</code> bytes
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics, or compute operations
</p>
</li>
<li>
<p>
<code>size</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and <code>layout</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="interfaces">14. Shader Interfaces</h2>
<div class="sectionbody">
<div class="paragraph"><p>When a pipeline is created, the set of shaders specified in the
corresponding <code>Vk*PipelineCreateInfo</code> structure are implicitly linked at
a number of different interfaces.</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="#interfaces-iointerfaces">Shader Input and Output Interface</a>
</p>
</li>
<li>
<p>
<a href="#interfaces-vertexinput">Vertex Input Interface</a>
</p>
</li>
<li>
<p>
<a href="#interfaces-fragmentoutput">Fragment Output Interface</a>
</p>
</li>
<li>
<p>
<a href="#interfaces-inputattachment">Fragment Input Attachment Interface</a>
</p>
</li>
<li>
<p>
<a href="#interfaces-resources">Shader Resource Interface</a>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Interface definitions make use of the following SPIR-V decorations:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>DescriptorSet</code> and <code>Binding</code>
</p>
</li>
<li>
<p>
<code>Location</code>, <code>Component</code>, and <code>Index</code>
</p>
</li>
<li>
<p>
<code>Flat</code>, <code>NoPerspective</code>, <code>Centroid</code>, and <code>Sample</code>
</p>
</li>
<li>
<p>
<code>Block</code> and <code>BufferBlock</code>
</p>
</li>
<li>
<p>
<code>InputAttachmentIndex</code>
</p>
</li>
<li>
<p>
<code>Offset</code>, <code>ArrayStride</code>, and <code>MatrixStride</code>
</p>
</li>
<li>
<p>
<code>BuiltIn</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>This specification describes valid uses for Vulkan of these decorations.
Any other use of one of these decorations is invalid.</p></div>
<div class="sect2">
<h3 id="interfaces-iointerfaces">14.1. Shader Input and Output Interfaces</h3>
<div class="paragraph"><p>When multiple stages are present in a pipeline, the outputs of one stage
form an interface with the inputs of the next stage.
When such an interface involves a shader, shader outputs are matched against
the inputs of the next stage, and shader inputs are matched against the
outputs of the previous stage.</p></div>
<div class="paragraph"><p>There are two classes of variables that <span role="normative">can</span> be matched between shader
stages, built-in variables and user-defined variables.
Each class has a different set of matching criteria.
Generally, when non-shader stages are between shader stages, the
user-defined variables, and most built-in variables, form an interface
between the shader stages.</p></div>
<div class="paragraph"><p>The variables forming the input or output <em>interfaces</em> are listed as
operands to the <code>OpEntryPoint</code> instruction and are declared with the
<code>Input</code> or <code>Output</code> storage classes, respectively, in the SPIR-V
module.</p></div>
<div class="paragraph"><p><code>Output</code> variables of a shader stage have undefined values until the
shader writes to them or uses the <code>Initializer</code> operand when declaring
the variable.</p></div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-builtin">14.1.1. Built-in Interface Block</h4>
<div class="paragraph"><p>Shader <a href="#interfaces-builtin-variables">built-in</a> variables meeting the
following requirements define the <em>built-in interface block</em>.
They <span role="normative">must</span></p></div>
<div class="ulist"><ul>
<li>
<p>
be explicitly declared (there are no implicit built-ins),
</p>
</li>
<li>
<p>
be identified with a <code>BuiltIn</code> decoration,
</p>
</li>
<li>
<p>
form object types as described in the
    <a href="#interfaces-builtin-variables">Built-in Variables</a> section, and
</p>
</li>
<li>
<p>
be declared in a block whose top-level members are the built-ins.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Built-ins only participate in interface matching if they are declared in
such a block.
They <span role="normative">must</span> not have any <code>Location</code> or <code>Component</code> decorations.</p></div>
<div class="paragraph"><p>There <span role="normative">must</span> be no more than one built-in interface block per shader per
interface.</p></div>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-user">14.1.2. User-defined Variable Interface</h4>
<div class="paragraph"><p>The remaining variables listed by <code>OpEntryPoint</code> with the <code>Input</code> or
<code>Output</code> storage class form the <em>user-defined variable interface</em>.
These variables <span role="normative">must</span> be identified with a <code>Location</code> decoration and <span role="normative">can</span>
also be identified with a <code>Component</code> decoration.</p></div>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-matching">14.1.3. Interface Matching</h4>
<div class="paragraph"><p>A user-defined output variable is considered to match an input variable in
the subsequent stage if the two variables are declared with the same
<code>Location</code> and <code>Component</code> decoration and match in type and
decoration, except that <a href="#shaders-interpolation-decorations">interpolation decorations</a> are not <span role="normative">required</span> to match.
For the purposes of interface matching, variables declared without a
<code>Component</code> decoration are considered to have a <code>Component</code> decoration
of zero.</p></div>
<div class="paragraph"><p>Variables or block members declared as structures are considered to match in
type if and only if the structure members match in type, decoration, number,
and declaration order.
Variables or block members declared as arrays are considered to match in
type only if both declarations specify the same element type and size.</p></div>
<div class="paragraph"><p>Tessellation control shader per-vertex output variables and blocks, and
tessellation control, tessellation evaluation, and geometry shader
per-vertex input variables and blocks are required to be declared as arrays,
with each element representing input or output values for a single vertex of
a multi-vertex primitive.
For the purposes of interface matching, the outermost array dimension of
such variables and blocks is ignored.</p></div>
<div class="paragraph"><p>At an interface between two non-fragment shader stages, the built-in
interface block <span role="normative">must</span> match exactly, as described above.
At an interface involving the fragment shader inputs, the presence or
absence of any built-in output does not affect the interface matching.</p></div>
<div class="paragraph"><p>At an interface between two shader stages, the user-defined variable
interface <span role="normative">must</span> match exactly, as described above.</p></div>
<div class="paragraph"><p>Any input value to a shader stage is well-defined as long as the preceding
stages writes to a matching output, as described above.</p></div>
<div class="paragraph"><p>Additionally, scalar and vector inputs are well-defined if there is a
corresponding output satisfying all of the following conditions:</p></div>
<div class="ulist"><ul>
<li>
<p>
the input and output match exactly in decoration,
</p>
</li>
<li>
<p>
the output is a vector with the same basic type and has at least as many
    components as the input, and
</p>
</li>
<li>
<p>
the common component type of the input and output is 32-bit integer or
    floating-point (64-bit component types are excluded).
</p>
</li>
</ul></div>
<div class="paragraph"><p>In this case, the components of the input will be taken from the first
components of the output, and any extra components of the output will be
ignored.</p></div>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-locations">14.1.4. Location Assignment</h4>
<div class="paragraph"><p>This section describes how many locations are consumed by a given type.
As mentioned above, geometry shader inputs, tessellation control shader
inputs and outputs, and tessellation evaluation inputs all have an
additional level of arrayness relative to other shader inputs and outputs.
This outer array level is removed from the type before considering how many
locations the type consumes.</p></div>
<div class="paragraph"><p>The <code>Location</code> value specifies an interface slot comprised of a 32-bit
four-component vector conveyed between stages.
The <code>Component</code> specifies
<a href="#interfaces-iointerfaces-components">components</a> within these vector
locations.
Only types with widths of 32 or 64 are supported in shader interfaces.</p></div>
<div class="paragraph"><p>Inputs and outputs of the following types consume a single interface
location:</p></div>
<div class="ulist"><ul>
<li>
<p>
32-bit scalar and vector types, and
</p>
</li>
<li>
<p>
64-bit scalar and 2-component vector types.
</p>
</li>
</ul></div>
<div class="paragraph"><p>64-bit three- and four-component vectors consume two consecutive locations.</p></div>
<div class="paragraph"><p>If a declared input or output is an array of size <em>n</em> and each element takes
<em>m</em> locations, it will be assigned <em>m</em> &#x00d7; <em>n</em> consecutive locations
starting with the location specified.</p></div>
<div class="paragraph"><p>If the declared input or output is an <em>n</em> &#x00d7; <em>m</em> 32- or 64-bit matrix,
it will be assigned multiple locations starting with the location specified.
The number of locations assigned for each matrix will be the same as for an
<em>n</em>-element array of <em>m</em>-component vectors.</p></div>
<div class="paragraph"><p>The layout of a structure type used as an <code>Input</code> or <code>Output</code> depends
on whether it is also a <code>Block</code> (i.e. has a <code>Block</code> decoration).</p></div>
<div class="paragraph"><p>If it is a not a <code>Block</code>, then the structure type <span role="normative">must</span> have a
<code>Location</code> decoration.
Its members are assigned consecutive locations in their declaration order,
with the first member assigned to the location specified for the structure
type.
The members, and their nested types, <span role="normative">must</span> not themselves have <code>Location</code>
decorations.</p></div>
<div class="paragraph"><p>If the structure type is a <code>Block</code> but without a <code>Location</code>, then each
of its members <span role="normative">must</span> have a <code>Location</code> decoration.
If it is a <code>Block</code> with a <code>Location</code> decoration, then its members are
assigned consecutive locations in declaration order, starting from the first
member which is initially assigned the location specified for the
<code>Block</code>.
Any member with its own <code>Location</code> decoration is assigned that location.
Each remaining member is assigned the location after the immediately
preceding member in declaration order.</p></div>
<div class="paragraph"><p>The locations consumed by block and structure members are determined by
applying the rules above in a depth-first traversal of the instantiated
members as though the structure or block member were declared as an input or
output variable of the same type.</p></div>
<div class="paragraph"><p>Any two inputs listed as operands on the same <code>OpEntryPoint</code> <span role="normative">must</span> not be
assigned the same location, either explicitly or implicitly.
Any two outputs listed as operands on the same <code>OpEntryPoint</code> <span role="normative">must</span> not
be assigned the same location, either explicitly or implicitly.</p></div>
<div class="paragraph"><p>The number of input and output locations available for a shader input or
output interface are limited, and dependent on the shader stage as described
in <a href="#interfaces-iointerfaces-limits">[interfaces-iointerfaces-limits]</a>.</p></div>
<table class="tableblock frame-all grid-all" id="interfaces-iointerfaces-limits"
style="
width:90%;
">
<caption class="title">Table 11. Shader Input and Output Locations</caption>
<col style="width:31%;">
<col style="width:68%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Shader Interface              </th>
<th class="tableblock halign-left valign-top" > Locations Available</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">vertex input</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxVertexInputAttributes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">vertex output</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxVertexOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">tessellation control input</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationControlPerVertexInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">tessellation control output</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationControlPerVertexOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">tessellation evaluation input</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationEvaluationInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">tessellation evaluation output</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationEvaluationOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">geometry input</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxGeometryInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">geometry output</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxGeometryOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">fragment input</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFragmentInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">fragment output</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFragmentOutputAttachments</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-components">14.1.5. Component Assignment</h4>
<div class="paragraph"><p>The <code>Component</code> decoration allows the <code>Location</code> to be more finely
specified for scalars and vectors, down to the individual components within
a location that are consumed.
The components within a location are 0, 1, 2, and 3.
A variable or block member starting at component N will consume components
N, N+1, N+2, &#8230;
up through its size.
For single precision types, it is invalid if this sequence of components
gets larger than 3.
A scalar 64-bit type will consume two of these components in sequence, and a
two-component 64-bit vector type will consume all four components available
within a location.
A three- or four-component 64-bit vector type <span role="normative">must</span> not specify a
<code>Component</code> decoration.
A three-component 64-bit vector type will consume all four components of the
first location and components 0 and 1 of the second location.
This leaves components 2 and 3 available for other component-qualified
declarations.</p></div>
<div class="paragraph"><p>A scalar or two-component 64-bit data type <span role="normative">must</span> not specify a
<code>Component</code> decoration of 1 or 3.
A <code>Component</code> decoration <span role="normative">must</span> not be specified for any type that is not
a scalar or vector.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-vertexinput">14.2. Vertex Input Interface</h3>
<div class="paragraph"><p>When the vertex stage is present in a pipeline, the vertex shader input
variables form an interface with the vertex input attributes.
The vertex shader input variables are matched by the <code>Location</code> and
<code>Component</code> decorations to the vertex input attributes specified in the
<code>pVertexInputState</code> member of the <code><a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a></code>
structure.</p></div>
<div class="paragraph"><p>The vertex shader input variables listed by <code>OpEntryPoint</code> with the
<code>Input</code> storage class form the <em>vertex input interface</em>.
These variables <span role="normative">must</span> be identified with a <code>Location</code> decoration and <span role="normative">can</span>
also be identified with a <code>Component</code> decoration.</p></div>
<div class="paragraph"><p>For the purposes of interface matching: variables declared without a
<code>Component</code> decoration are considered to have a <code>Component</code> decoration
of zero.
The number of available vertex input locations is given by the
<code>maxVertexInputAttributes</code> member of the <code>VkPhysicalDeviceLimits</code>
structure.</p></div>
<div class="paragraph"><p>See <a href="#fxvertex-attrib-location">[fxvertex-attrib-location]</a> for details.</p></div>
<div class="paragraph"><p>All vertex shader inputs declared as above <span role="normative">must</span> have a corresponding
attribute and binding in the pipeline.</p></div>
</div>
<div class="sect2">
<h3 id="interfaces-fragmentoutput">14.3. Fragment Output Interface</h3>
<div class="paragraph"><p>When the fragment stage is present in a pipeline, the fragment shader
outputs form an interface with the output attachments of the current
subpass.
The fragment shader output variables are matched by the <code>Location</code> and
<code>Component</code> decorations to the color attachments specified in the
<code>pColorAttachments</code> array of the <code><a href="#VkSubpassDescription">VkSubpassDescription</a></code> structure
that describes the subpass that the fragment shader is executed in.</p></div>
<div class="paragraph"><p>The fragment shader output variables listed by <code>OpEntryPoint</code> with the
<code>Output</code> storage class form the <em>fragment output interface</em>.
These variables <span role="normative">must</span> be identified with a <code>Location</code> decoration.
They <span role="normative">can</span> also be identified with a <code>Component</code> decoration and/or an
<code>Index</code> decoration.
For the purposes of interface matching: variables declared without a
<code>Component</code> decoration are considered to have a <code>Component</code> decoration
of zero, and variables declared without an <code>Index</code> decoration are
considered to have an <code>Index</code> decoration of zero.</p></div>
<div class="paragraph"><p>A fragment shader output variable identified with a <code>Location</code> decoration
of <em>i</em> is directed to the color attachment indicated by
<code>pColorAttachments</code>[<em>i</em>], after passing through the blending unit as
described in <a href="#framebuffer-blending">[framebuffer-blending]</a>, if enabled.
Locations are consumed as described in
<a href="#interfaces-iointerfaces-locations">Location Assignment</a>.
The number of available fragment output locations is given by the
<code>maxFragmentOutputAttachments</code> member of the
<code>VkPhysicalDeviceLimits</code> structure.</p></div>
<div class="paragraph"><p>Components of the output variables are assigned as described in
<a href="#interfaces-iointerfaces-components">Component Assignment</a>.
Output components identified as 0, 1, 2, and 3 will be directed to the R, G,
B, and A inputs to the blending unit, respectively, or to the output
attachment if blending is disabled.
If two variables are placed within the same location, they <span role="normative">must</span> have the
same underlying type (floating-point or integer).
The input to blending or color attachment writes is undefined for components
which do not correspond to a fragment shader output.</p></div>
<div class="paragraph"><p>Fragment outputs identified with an <code>Index</code> of zero are directed to the
first input of the blending unit associated with the corresponding
<code>Location</code>.
Outputs identified with an <code>Index</code> of one are directed to the second
input of the corresponding blending unit.</p></div>
<div class="paragraph"><p>No <em>component aliasing</em> of output variables is allowed, that is there <span role="normative">must</span>
not be two output variables which have the same location, component, and
index, either explicitly declared or implied.</p></div>
<div class="paragraph"><p>Output values written by a fragment shader <span role="normative">must</span> be declared with either
<code>OpTypeFloat</code> or <code>OpTypeInt</code>, and a Width of 32.
Composites of these types are also permitted.
If the color attachment has a signed or unsigned normalized fixed-point
format, color values are assumed to be floating-point and are converted to
fixed-point as described in <a href="#fundamentals-fixedfpconv">[fundamentals-fixedfpconv]</a>; otherwise no type
conversion is applied.
If the type of the values written by the fragment shader do not match the
format of the corresponding color attachment, the result is undefined for
those components.</p></div>
</div>
<div class="sect2">
<h3 id="interfaces-inputattachment">14.4. Fragment Input Attachment Interface</h3>
<div class="paragraph"><p>When a fragment stage is present in a pipeline, the fragment shader subpass
inputs form an interface with the input attachments of the current subpass.
The fragment shader subpass input variables are matched by
<code>InputAttachmentIndex</code> decorations to the input attachments specified in
the <code>pInputAttachments</code> array of the <code><a href="#VkSubpassDescription">VkSubpassDescription</a></code>
structure that describes the subpass that the fragment shader is executed
in.</p></div>
<div class="paragraph"><p>The fragment shader subpass input variables with the <code>UniformConstant</code>
storage class and a decoration of <code>InputAttachmentIndex</code> that are
statically used by <code>OpEntryPoint</code> form the <em>fragment input attachment
interface</em>.
These variables <span role="normative">must</span> be declared with a type of <code>OpTypeImage</code>, a
<code>Dim</code> operand of <code>SubpassData</code>, and a <code>Sampled</code> operand of 2.</p></div>
<div class="paragraph"><p>A subpass input variable identified with an <code>InputAttachmentIndex</code>
decoration of <em>i</em> reads from the input attachment indicated by
<code>pInputAttachments</code>[<em>i</em>] member of <code>VkSubpassDescription</code>.
If the subpass input variable is declared as an array of size N, it consumes
N consecutive input attachments, starting with the index specified.
There <span role="normative">must</span> not be more than one input variable with the same
<code>InputAttachmentIndex</code> whether explicitly declared or implied by an array
declaration.
The number of available input attachment indices is given by the
<code>maxPerStageDescriptorInputAttachments</code> member of the
<code>VkPhysicalDeviceLimits</code> structure.</p></div>
<div class="paragraph"><p>Variables identified with the <code>InputAttachmentIndex</code> <span role="normative">must</span> only be used
by a fragment stage.
The basic data type (floating-point, integer, unsigned integer) of the
subpass input <span role="normative">must</span> match the basic format of the corresponding input
attachment, or the values of subpass loads from these variables are
undefined.</p></div>
<div class="paragraph"><p>See <a href="#descriptorsets-inputattachment">[descriptorsets-inputattachment]</a> for more details.</p></div>
</div>
<div class="sect2">
<h3 id="interfaces-resources">14.5. Shader Resource Interface</h3>
<div class="paragraph"><p>When a shader stage accesses buffer or image resources, as described in the
<a href="#descriptorsets">Resource Descriptors</a> section, the shader resource
variables <span role="normative">must</span> be matched with the <a href="#descriptorsets-pipelinelayout">pipeline layout</a> that is provided at pipeline creation time.</p></div>
<div class="paragraph"><p>The set of shader resources that form the <em>shader resource interface</em> for a
stage are the variables statically used by <code>OpEntryPoint</code> with the
storage class of <code>Uniform</code>, <code>UniformConstant</code>, or <code>PushConstant</code>.
For the fragment shader, this includes the <a href="#interfaces-inputattachment">fragment input attachment interface</a>.</p></div>
<div class="paragraph"><p>The shader resource interface consists of two sub-interfaces: the push
constant interface and the descriptor set interface.</p></div>
<div class="sect3">
<h4 id="interfaces-resources-pushconst">14.5.1. Push Constant Interface</h4>
<div class="paragraph"><p>The shader variables defined with a storage class of <code>PushConstant</code> that
are statically used by the shader entry points for the pipeline define the
<em>push constant interface</em>.
They <span role="normative">must</span> be:</p></div>
<div class="ulist"><ul>
<li>
<p>
typed as <code>OpTypeStruct</code>,
</p>
</li>
<li>
<p>
identified with a <code>Block</code> decoration, and
</p>
</li>
<li>
<p>
laid out explicitly using the <code>Offset</code>, <code>ArrayStride</code>, and
    <code>MatrixStride</code> decorations as specified in
    <a href="#interfaces-resources-layout">Offset and Stride Assignment</a>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>There <span role="normative">must</span> be no more than one push constant block statically used per
shader entry point.</p></div>
<div class="paragraph"><p>Each variable in a push constant block <span role="normative">must</span> be placed at an <code>Offset</code>
such that the entire constant value is entirely contained within the
<code><a href="#VkPushConstantRange">VkPushConstantRange</a></code> for each <code>OpEntryPoint</code> that uses it, and the
<code>stageFlags</code> for that range <span role="normative">must</span> specify the appropriate
<code><a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> for that stage.
The <code>Offset</code> decoration for any variable in a push constant block <span role="normative">must</span>
not cause the space required for that variable to extend outside the range
<span class="eq">[0, <code>maxPushConstantsSize</code>)</span>.</p></div>
<div class="paragraph"><p>Any variable in a push constant block that is declared as an array <span role="normative">must</span>
only be accessed with <em>dynamically uniform</em> indices.</p></div>
</div>
<div class="sect3">
<h4 id="interfaces-resources-descset">14.5.2. Descriptor Set Interface</h4>
<div class="paragraph"><p>The <em>descriptor set interface</em> is comprised of the shader variables with the
storage class of <code>Uniform</code> or <code>UniformConstant</code> (including the
variables in the <a href="#interfaces-inputattachment">fragment input attachment interface</a>) that are statically used by the shader entry points for the
pipeline.</p></div>
<div class="paragraph"><p>These variables <span role="normative">must</span> have <code>DescriptorSet</code> and <code>Binding</code> decorations
specified, which are assigned and matched with the
<code>VkDescriptorSetLayout</code> objects in the pipeline layout as described in
<a href="#interfaces-resources-setandbinding">DescriptorSet and Binding Assignment</a>.</p></div>
<div class="paragraph"><p>Variables identified with the <code>UniformConstant</code> storage class are used
only as handles to refer to opaque resources.
Such variables <span role="normative">must</span> be typed as <code>OpTypeImage</code>, <code>OpTypeSampler</code>,
<code>OpTypeSampledImage</code>, or arrays of only these types.
Variables of type <code>OpTypeImage</code> <span role="normative">must</span> have a <code>Sampled</code> operand of 1
(sampled image) or 2 (storage image).</p></div>
<div class="paragraph"><p>Any array of these types <span role="normative">must</span> only be indexed with constant integral
expressions, except under the following conditions:</p></div>
<div class="ulist"><ul>
<li>
<p>
For arrays of <code>OpTypeImage</code> variables with <code>Sampled</code> operand of 2,
    if the <code>shaderStorageImageArrayDynamicIndexing</code> feature is enabled
    and the shader module declares the <code>StorageImageArrayDynamicIndexing</code>
    capability, the array <span role="normative">must</span> only be indexed by dynamically uniform
    expressions.
</p>
</li>
<li>
<p>
For arrays of <code>OpTypeSampler</code>, <code>OpTypeSampledImage</code> variables, or
    <code>OpTypeImage</code> variables with <code>Sampled</code> operand of 1, if the
    <code>shaderSampledImageArrayDynamicIndexing</code> feature is enabled and the
    shader module declares the <code>SampledImageArrayDynamicIndexing</code>
    capability, the array <span role="normative">must</span> only be indexed by dynamically uniform
    expressions.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <code>Sampled</code> <code>Type</code> of an <code>OpTypeImage</code> declaration <span role="normative">must</span> match
the same basic data type as the corresponding resource, or the values
obtained by reading or sampling from this image are undefined.</p></div>
<div class="paragraph"><p>The <code>Image</code> <code>Format</code> of an <code>OpTypeImage</code> declaration <span role="normative">must</span> not be
<strong>Unknown</strong>, for variables which are used for <code>OpImageRead</code> or
<code>OpImageWrite</code> operations, except under the following conditions:</p></div>
<div class="ulist"><ul>
<li>
<p>
For <code>OpImageWrite</code>, if the <code>shaderStorageImageWriteWithoutFormat</code>
    feature is enabled and the shader module declares the
    <code>StorageImageWriteWithoutFormat</code> capability.
</p>
</li>
<li>
<p>
For <code>OpImageRead</code>, if the <code>shaderStorageImageReadWithoutFormat</code>
    feature is enabled and the shader module declares the
    <code>StorageImageReadWithoutFormat</code> capability.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Variables identified with the <code>Uniform</code> storage class are used to access
transparent buffer backed resources.
Such variables <span role="normative">must</span> be:</p></div>
<div class="ulist"><ul>
<li>
<p>
typed as <code>OpTypeStruct</code>, or arrays of only this type,
</p>
</li>
<li>
<p>
identified with a <code>Block</code> or <code>BufferBlock</code> decoration, and
</p>
</li>
<li>
<p>
laid out explicitly using the <code>Offset</code>, <code>ArrayStride</code>, and
    <code>MatrixStride</code> decorations as specified in
    <a href="#interfaces-resources-layout">Offset and Stride Assignment</a>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Any array of these types <span role="normative">must</span> only be indexed with constant integral
expressions, except under the following conditions.</p></div>
<div class="ulist"><ul>
<li>
<p>
For arrays of <code>Block</code> variables, if the
    <code>shaderUniformBufferArrayDynamicIndexing</code> feature is enabled and the
    shader module declares the <code>UniformBufferArrayDynamicIndexing</code>
    capability, the array <span role="normative">must</span> only be indexed by dynamically uniform
    expressions.
</p>
</li>
<li>
<p>
For arrays of <code>BufferBlock</code> variables, if the
    <code>shaderStorageBufferArrayDynamicIndexing</code> feature is enabled and the
    shader module declares the <code>StorageBufferArrayDynamicIndexing</code>
    capability, the array <span role="normative">must</span> only be indexed by dynamically uniform
    expressions.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <code>Offset</code> decoration for any variable in a <code>Block</code> <span role="normative">must</span> not cause
the space required for that variable to extend outside the range <span class="eq">[0,
<code>maxUniformBufferRange</code>)</span>.
The <code>Offset</code> decoration for any variable in a <code>BufferBlock</code> <span role="normative">must</span> not
cause the space required for that variable to extend outside the range
<span class="eq">[0, <code>maxStorageBufferRange</code>)</span>.</p></div>
<div class="paragraph"><p>Variables identified with a storage class of <code>UniformConstant</code> and a
decoration of <code>InputAttachmentIndex</code> <span role="normative">must</span> be declared as described in
<a href="#interfaces-inputattachment">Fragment Input Attachment Interface</a>.</p></div>
<div class="paragraph"><p>Each shader variable declaration <span role="normative">must</span> refer to the same type of resource as
is indicated by the <code>descriptorType</code>.
See <a href="#interfaces-resources-correspondence">Shader Resource and Descriptor Type Correspondence</a> for the relationship between shader declarations and
descriptor types.</p></div>
<table class="tableblock frame-all grid-all" id="interfaces-resources-correspondence"
style="
width:90%;
">
<caption class="title">Table 12. Shader Resource and Descriptor Type Correspondence</caption>
<col style="width:33%;">
<col style="width:66%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Resource type          </th>
<th class="tableblock halign-left valign-top" > Descriptor Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">sampler</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_SAMPLER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">sampled image</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage image</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">combined image sampler</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">uniform texel buffer</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage texel buffer</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">uniform buffer</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code><br>
                           <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage buffer</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code><br>
                           <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">input attachment</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 13. Shader Resource and Storage Class Correspondence</caption>
<col style="width:21%;">
<col style="width:22%;">
<col style="width:27%;">
<col style="width:30%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Resource type   </th>
<th class="tableblock halign-left valign-top" > Storage Class </th>
<th class="tableblock halign-left valign-top" > Type </th>
<th class="tableblock halign-left valign-top" > Decoration(s)<sup>1</sup></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">sampler</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpTypeSampler</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">sampled image</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpTypeImage</code> (<code>Sampled</code>=1)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage image</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpTypeImage</code> (<code>Sampled</code>=2)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">combined image sampler</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpTypeSampledImage</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">uniform texel buffer</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpTypeImage</code> (<code>Dim</code>=<code>Buffer</code>, <code>Sampled</code>=1)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage texel buffer</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpTypeImage</code> (<code>Dim</code>=<code>Buffer</code>, <code>Sampled</code>=2)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">uniform buffer</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Uniform</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpTypeStruct</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Block</code>, <code>Offset</code>, (<code>ArrayStride</code>), (<code>MatrixStride</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage buffer</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Uniform</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpTypeStruct</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>BufferBlock</code>, <code>Offset</code>, (<code>ArrayStride</code>), (<code>MatrixStride</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">input attachment</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpTypeImage</code> (<code>Dim</code>=<code>SubpassData</code>, <code>Sampled</code>=2)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>InputAttachmentIndex</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist"><dl>
<dt class="hdlist1">
1
</dt>
<dd>
<p>
in addition to <code>DescriptorSet</code> and <code>Binding</code>
</p>
</dd>
</dl></div>
</div>
<div class="sect3">
<h4 id="interfaces-resources-setandbinding">14.5.3. DescriptorSet and Binding Assignment</h4>
<div class="paragraph"><p>A variable identified with a <code>DescriptorSet</code> decoration of <span class="eq">s</span> and a
<code>Binding</code> decoration of <span class="eq">b</span> indicates that this variable is
associated with the <code><a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a></code> that has a
<code>binding</code> equal to <span class="eq">b</span> in <code>pSetLayouts</code>[<em>s</em>] that was specified
in <code><a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a></code>.</p></div>
<div class="paragraph"><p>The range of descriptor sets is between zero and
<code>maxBoundDescriptorSets</code> minus one.
If a descriptor set value is statically used by an entry point there <span role="normative">must</span>
be an associated <code>pSetLayout</code> in the corresponding pipeline layout as
described in <a href="#descriptorsets-pipelinelayout-consistency">Pipeline Layouts consistency</a>.</p></div>
<div class="paragraph"><p>If the <code>Binding</code> decoration is used with an array, the entire array is
identified with that binding value.
The size of the array declaration <span role="normative">must</span> be no larger than the
<code>descriptorCount</code> of that <code>VkDescriptorSetLayoutBinding</code>.
The index of each element of the array is referred to as the <em>arrayElement</em>.
For the purposes of interface matching and descriptor set
<a href="#descriptorsets-updates">operations</a>, if a resource variable is not an
array, it is treated as if it has an arrayElement of zero.</p></div>
<div class="paragraph"><p>The binding <span role="normative">can</span> be any 32-bit unsigned integer value, as described in
<a href="#descriptorsets-setlayout">[descriptorsets-setlayout]</a>.
Each descriptor set has its own binding name space.</p></div>
<div class="paragraph"><p>There is a limit on the number of resources of each type that <span role="normative">can</span> be
accessed by a pipeline stage as shown in
<a href="#interfaces-resources-limits">Shader Resource Limits</a>.
The &#8220;Resources Per Stage&#8221; column gives the limit on the number each type
of resource that <span role="normative">can</span> be statically used for an entry point in any given
stage in a pipeline.
The &#8220;Resource Types&#8221; column lists which resource types are counted against
the limit.
Some resource types count against multiple limits.</p></div>
<div class="paragraph"><p>If multiple entry points in the same pipeline refer to the same set and
binding, all variable definitions with that <code>DescriptorSet</code> and
<code>Binding</code> <span role="normative">must</span> have the same basic type.</p></div>
<div class="paragraph"><p>Not all descriptor sets and bindings specified in a pipeline layout need to
be used in a particular shader stage or pipeline, but if a
<code>DescriptorSet</code> and <code>Binding</code> decoration is specified for a variable
that is statically used in that shader there <span role="normative">must</span> be a pipeline layout
entry identified with that descriptor set and <code>binding</code> and the
corresponding <code>stageFlags</code> <span role="normative">must</span> specify the appropriate
<code><a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> for that stage.</p></div>
<table class="tableblock frame-all grid-all" id="interfaces-resources-limits"
style="
width:80%;
">
<caption class="title">Table 14. Shader Resource Limits</caption>
<col style="width:60%;">
<col style="width:39%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Resources per Stage                   </th>
<th class="tableblock halign-left valign-top" > Resource Types</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2" ><p class="tableblock"><code>maxPerStageDescriptorSamplers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3" ><p class="tableblock"><code>maxPerStageDescriptorSampledImages</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">sampled image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">uniform texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2" ><p class="tableblock"><code>maxPerStageDescriptorStorageImages</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2" ><p class="tableblock"><code>maxPerStageDescriptorUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">uniform buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">uniform buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2" ><p class="tableblock"><code>maxPerStageDescriptorStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">storage buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageDescriptorInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">input attachment<sup>1</sup></p></td>
</tr>
</tbody>
</table>
<div class="dlist"><dl>
<dt class="hdlist1">
1
</dt>
<dd>
<p>
    Input attachments <span role="normative">can</span> only be used in the fragment shader stage
</p>
</dd>
</dl></div>
</div>
<div class="sect3">
<h4 id="interfaces-resources-layout">14.5.4. Offset and Stride Assignment</h4>
<div class="paragraph"><p>All variables with a storage class of <code>PushConstant</code> or <code>Uniform</code>
<span role="normative">must</span> be explicitly laid out using the <code>Offset</code>, <code>ArrayStride</code>, and
<code>MatrixStride</code> decorations.
There are two different layouts requirements depending on the specific
resources.</p></div>
<div class="paragraph" id="interfaces-resources-layout-std140"><p><strong>Standard Uniform Buffer Layout</strong></p></div>
<div class="paragraph"><p>Member variables of an <code>OpTypeStruct</code> with storage class of <code>Uniform</code>
and a decoration of <code>Block</code> (uniform buffers) <span role="normative">must</span> be laid out according
to the following rules.</p></div>
<div class="ulist"><ul>
<li>
<p>
The <code>Offset</code> Decoration <span role="normative">must</span> be a multiple of its base alignment,
    computed recursively as follows:
</p>
<div class="ulist"><ul>
<li>
<p>
a scalar of size <span class="eq">N</span> has a base alignment of <span class="eq">N</span>
</p>
</li>
<li>
<p>
a two-component vector, with components of size <span class="eq">N</span>, has a base
     alignment of <span class="eq">2 N</span>
</p>
</li>
<li>
<p>
a three- or four-component vector, with components of size <span class="eq">N</span>, has
     a base alignment of <span class="eq">4 N</span>
</p>
</li>
<li>
<p>
an array has a base alignment equal to the base alignment of its
     element type, rounded up to a multiple of <span class="eq">16</span>
</p>
</li>
<li>
<p>
a structure has a base alignment equal to the largest base alignment of
     any of its members, rounded up to a multiple of <span class="eq">16</span>
</p>
</li>
<li>
<p>
a row-major matrix of <span class="eq">C</span> columns has a base alignment equal to the
     base alignment of vector of <span class="eq">C</span> matrix components
</p>
</li>
<li>
<p>
a column-major matrix has a base alignment equal to the base alignment
     of the matrix column type
</p>
</li>
</ul></div>
</li>
<li>
<p>
Any <code>ArrayStride</code> or <code>MatrixStride</code> decoration <span role="normative">must</span> be an integer
    multiple of the base alignment of the array or matrix from above.
</p>
</li>
<li>
<p>
The <code>Offset</code> Decoration of a member <span role="normative">must</span> not place it between the
    end of a structure or an array and the next multiple of the base
    alignment of that structure or array.
</p>
</li>
<li>
<p>
The numeric order of <code>Offset</code> Decorations need not follow member
    declaration order.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The <strong>std140 layout</strong> in GLSL satisfies these rules.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph" id="interfaces-resources-layout-std430"><p><strong>Standard Storage Buffer Layout</strong></p></div>
<div class="paragraph"><p>Member variables of an <code>OpTypeStruct</code> with a storage class of
<code>PushConstant</code> (push constants), or a storage class of <code>Uniform</code> with
a decoration of <code>BufferBlock</code> (storage buffers) <span role="normative">must</span> be laid out as
<a href="#interfaces-resources-layout-std140">above</a>, except for array and structure
base alignment which do not need to be rounded up to a multiple of <span class="eq">16</span>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The <strong>std430 layout</strong> in GLSL satisfies these rules.</p></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-builtin-variables">14.6. Built-In Variables</h3>
<div class="paragraph"><p>Built-in variables are accessed in shaders by declaring a variable decorated
with a <code>BuiltIn</code> decoration.
The meaning of each <code>BuiltIn</code> decoration is as follows.
In the remainder of this section, the name of a built-in is used
interchangeably with a term equivalent to a variable decorated with that
particular built-in.
Built-ins that represent integer values <span role="normative">can</span> be declared as either signed or
unsigned 32-bit integers.</p></div>
<div class="dlist" id="interfaces-builtin-variables-baseinstance"><dl>
<dt class="hdlist1">
<code>BaseInstance</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>BaseInstance</code> built-in will make that
variable contain the integer value corresponding to the first instance that
was passed to the command that invoked the current vertex shader invocation.
<code>BaseInstance</code> is the <code>firstInstance</code> parameter to a <em>direct drawing
command</em> or the <code>firstInstance</code> member of a structure consumed by an
<em>indirect drawing command</em>.
</p>
<div class="paragraph"><p>The <code>BaseInstance</code> decoration <span role="normative">must</span> be used only within vertex shaders.</p></div>
<div class="paragraph"><p>The variable decorated with BaseInstance <span role="normative">must</span> be declared using the input
storage class.</p></div>
<div class="paragraph"><p>The variable decorated with BaseInstance <span role="normative">must</span> be declared as a scalar
32-bit integer.</p></div>
</dd>
<dt class="hdlist1">
<code>BaseVertex</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>BaseVertex</code> built-in will make that
variable contain the integer value corresponding to the first vertex or
vertex offset that was passed to the command that invoked the current vertex
shader invocation.
For <em>non-indexed drawing commands</em>, this variable is the <code>firstVertex</code>
parameter to a <em>direct drawing command</em> or the <code>firstVertex</code> member of
the structure consumed by an <em>indirect drawing command</em>.
For <em>indexed drawing commands</em>, this variable is the <code>vertexOffset</code>
parameter to a <em>direct drawing command</em> or the <code>vertexOffset</code> member of
the structure consumed by an <em>indirect drawing command</em>.
</p>
<div class="paragraph" id="interfaces-builtin-variables-basevertex"><p>The <code>BaseVertex</code> decoration <span role="normative">must</span> be used only within vertex shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>BaseVertex</code> <span role="normative">must</span> be declared using the
input storage class.</p></div>
<div class="paragraph"><p>The variable decorated with codeBaseVertex <span role="normative">must</span> be declared as a scalar
32-bit integer.</p></div>
</dd>
<dt class="hdlist1">
<code>ClipDistance</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>ClipDistance</code> built-in decoration will
make that variable contain the mechanism for controlling user clipping.
<code>ClipDistance</code> is an array such that the i<sup>th</sup> element of the array
specifies the clip distance for plane i.
A clip distance of 0 means the vertex is on the plane, a positive distance
means the vertex is inside the clip half-space, and a negative distance
means the point is outside the clip half-space.
</p>
<div class="paragraph"><p>The <code>ClipDistance</code> decoration <span role="normative">must</span> be used only within vertex, fragment,
tessellation control, tessellation evaluation, and geometry shaders.</p></div>
<div class="paragraph"><p>In vertex shaders, any variable decorated with <code>ClipDistance</code> <span role="normative">must</span> be
declared using the <code>Output</code> storage class.</p></div>
<div class="paragraph"><p>In fragment shaders, any variable decorated with <code>ClipDistance</code> <span role="normative">must</span> be
declared using the <code>Input</code> storage class.</p></div>
<div class="paragraph"><p>In tessellation control, tessellation evaluation, or geometry shaders, any
variable decorated with <code>ClipDistance</code> <span role="normative">must</span> not be in a storage class
other than <code>Input</code> or <code>Output</code>.</p></div>
<div class="paragraph"><p>Any variable decorated with <code>ClipDistance</code> <span role="normative">must</span> be declared as an array
of 32-bit floating-point values.</p></div>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The array variable decorated with <code>ClipDistance</code> is explicitly sized by
the shader.</p></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>In the last vertex processing stage, these values will be linearly
interpolated across the primitive and the portion of the primitive with
interpolated distances less than 0 will be considered outside the clip
volume.
If <code>ClipDistance</code> is then used by a fragment shader, <code>ClipDistance</code>
contains these linearly interpolated values.</p></div>
</td>
</tr></table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>CullDistance</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>CullDistance</code> built-in decoration will
make that variable contain the mechanism for controlling user culling.
If any member of this array is assigned a negative value for all vertices
belonging to a primitive, then the primitive is discarded before
rasterization.
</p>
<div class="paragraph"><p>The <code>CullDistance</code> decoration <span role="normative">must</span> be used only within vertex, fragment,
tessellation control, tessellation evaluation, and geometry shaders.</p></div>
<div class="paragraph"><p>In vertex shaders, any variable decorated with <code>CullDistance</code> <span role="normative">must</span> be
declared using the <code>Output</code> storage class.</p></div>
<div class="paragraph"><p>In fragment shaders, any variable decorated with <code>CullDistance</code> <span role="normative">must</span> be
declared using the <code>Input</code> storage class.</p></div>
<div class="paragraph"><p>In tessellation control, tessellation evaluation, or geometry shaders, any
variable decorated with <code>CullDistance</code> <span role="normative">must</span> not be declared in a storage
class other than input or output.</p></div>
<div class="paragraph"><p>Any variable decorated with <code>CullDistance</code> <span role="normative">must</span> be declared as an array
of 32-bit floating-point values.</p></div>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>In fragment shaders, the values of the <code>CullDistance</code> array are linearly
interpolated across each primitive.</p></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>If <code>CullDistance</code> decorates an input variable, that variable will contain
the corresponding value from the <code>CullDistance</code> decorated output variable
from the previous shader stage.</p></div>
</td>
</tr></table>
</div>
<div class="dlist" id="interfaces-builtin-variables-drawindex"><dl>
<dt class="hdlist1">
<code>DrawIndex</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>DrawIndex</code> built-in will make that
variable contain the integer value corresponding to the zero-based index of
the drawing command that invoked the current vertex shader invocation.
For <em>indirect drawing commands</em>, <code>DrawIndex</code> begins at zero and
increments by one for each draw command executed.
The number of draw commands is given by the <code>drawCount</code> parameter.
For <em>direct drawing commands</em>, <code>DrawIndex</code> is always zero.
<code>DrawIndex</code> is dynamically uniform.
</p>
<div class="paragraph"><p>The <code>DrawIndex</code> decoration <span role="normative">must</span> be used only within vertex shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>DrawIndex</code> <span role="normative">must</span> be declared using the input
storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>DrawIndex</code> <span role="normative">must</span> be declared as a scalar
32-bit integer.</p></div>
</dd>
<dt class="hdlist1">
<code>FragCoord</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>FragCoord</code> built-in decoration will make
that variable contain the framebuffer coordinate
$(x,y,z,\frac{1}{w})$ of the fragment being processed.
The <span class="eq">(x,y)</span> coordinate <span class="eq">(0,0)</span> is the upper left corner of the upper
left pixel in the framebuffer.
</p>
<div class="paragraph"><p>When sample shading is enabled, the <span class="eq">x</span> and <span class="eq">y</span> components of
<code>FragCoord</code> reflect the location of the sample corresponding to the
shader invocation.</p></div>
<div class="paragraph"><p>When sample shading is not enabled, the x and y components of <code>FragCoord</code>
reflect the location of the center of the pixel, <span class="eq">(0.5,0.5)</span>.</p></div>
<div class="paragraph"><p>The <span class="eq">z</span> component of <code>FragCoord</code> is the interpolated depth value of
the primitive.</p></div>
<div class="paragraph"><p>The <span class="eq">w</span> component is the interpolated $\frac{1}{w}$.</p></div>
<div class="paragraph"><p>The <code>FragCoord</code> decoration <span role="normative">must</span> be used only within fragment shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>FragCoord</code> <span role="normative">must</span> be declared using the
<code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The <code>Centroid</code> interpolation decoration is ignored, but allowed, on
<code>FragCoord</code>.</p></div>
<div class="paragraph"><p>The variable decorated with <code>FragCoord</code> <span role="normative">must</span> be declared as a
four-component vector of 32-bit floating-point values.</p></div>
</dd>
<dt class="hdlist1">
<code>FragDepth</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>FragDepth</code> built-in decoration will make
that variable contain the new depth value for all samples covered by the
fragment.
This value will be used for depth testing and, if the depth test passes, any
subsequent write to the depth/stencil attachment.
</p>
<div class="paragraph"><p>To write to <code>FragDepth</code>, a shader <span role="normative">must</span> declare the <code>DepthReplacing</code>
execution mode.
If a shader declares the <code>DepthReplacing</code> execution mode and there is an
execution path through the shader that does not set <code>FragDepth</code>, then the
fragment&#8217;s depth value is undefined for executions of the shader that take
that path.</p></div>
<div class="paragraph"><p>The <code>FragDepth</code> decoration <span role="normative">must</span> be used only within fragment shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>FragDepth</code> <span role="normative">must</span> be declared using the
<code>Output</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>FragDepth</code> <span role="normative">must</span> be declared as a scalar
32-bit floating-point value.</p></div>
</dd>
<dt class="hdlist1">
<code>FrontFacing</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>FrontFacing</code> built-in decoration will
make that variable contain whether a primitive is front or back facing.
This variable is non-zero if the current fragment is considered to be part
of a <a href="#primsrast-polygons-basic">front-facing</a> primitive and is zero if the
fragment is considered to be part of a back-facing primitive.
</p>
<div class="paragraph"><p>The <code>FrontFacing</code> decoration <span role="normative">must</span> be used only within fragment shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>FrontFacing</code> <span role="normative">must</span> be declared using the
<code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>FrontFacing</code> <span role="normative">must</span> be declared as a boolean.</p></div>
</dd>
<dt class="hdlist1">
<code>GlobalInvocationId</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>GlobalInvocationId</code> built-in decoration
will make that variable contain the location of the current invocation
within the global workgroup.
Each component is equal to the index of the local workgroup multiplied by
the size of the local workgroup plus <code>LocalInvocationId</code>.
</p>
<div class="paragraph"><p>The <code>GlobalInvocationId</code> decoration <span role="normative">must</span> be used only within compute
shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>GlobalInvocationId</code> <span role="normative">must</span> be declared using
the <code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>GlobalInvocationId</code> <span role="normative">must</span> be declared as a
three-component vector of 32-bit integers.</p></div>
</dd>
<dt class="hdlist1">
<code>HelperInvocation</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>HelperInvocation</code> built-in decoration
will make that variable contain whether the current invocation is a helper
invocation.
This variable is non-zero if the current fragment being shaded is a helper
invocation and zero otherwise.
A helper invocation is an invocation of the shader that is produced to
satisfy internal requirements such as the generation of derivatives.
</p>
<div class="paragraph"><p>The <code>HelperInvocation</code> decoration <span role="normative">must</span> be used only within fragment
shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>HelperInvocation</code> <span role="normative">must</span> be declared using
the <code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>HelperInvocation</code> <span role="normative">must</span> be declared as a
boolean.</p></div>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>It is very likely that a helper invocation will have a value of
<code>SampleMask</code> fragment shader input value that is zero.</p></div>
</td>
</tr></table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>InvocationId</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>InvocationId</code> built-in decoration will
make that variable contain the index of the current shader invocation in a
geometry shader, or the index of the output patch vertex in a tessellation
control shader.
</p>
<div class="paragraph"><p>In a geometry shader, the index of the current shader invocation ranges from
zero to the number of <a href="#geometry-invocations">instances</a> declared in the
shader minus one.
If the instance count of the geometry shader is one or is not specified,
then <code>InvocationId</code> will be zero.</p></div>
<div class="paragraph"><p>The <code>InvocationId</code> decoration <span role="normative">must</span> be used only within tessellation
control and geometry shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>InvocationId</code> <span role="normative">must</span> be declared using the
<code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>InvocationId</code> <span role="normative">must</span> be declared as a scalar
32-bit integer.</p></div>
</dd>
<dt class="hdlist1">
<code>InstanceIndex</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>InstanceIndex</code> built-in decoration will
make that variable contain the index of the instance that is being processed
by the current vertex shader invocation.
<code>InstanceIndex</code> begins at the <code>firstInstance</code> parameter to
<code><a href="#vkCmdDraw">vkCmdDraw</a></code> or <code><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code> or at the <code>firstInstance</code>
member of a structure consumed by <code><a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code> or
<code><a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>.
</p>
<div class="paragraph"><p>The <code>InstanceIndex</code> decoration <span role="normative">must</span> be used only within vertex shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>InstanceIndex</code> <span role="normative">must</span> be declared using the
<code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>InstanceIndex</code> <span role="normative">must</span> be declared as a scalar
32-bit integer.</p></div>
</dd>
<dt class="hdlist1">
<code>Layer</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>Layer</code> built-in decoration will make that
variable contain the select layer of a multi-layer framebuffer attachment.
</p>
<div class="paragraph"><p>In a geometry shader, any variable decorated with <code>Layer</code> can be written
with the framebuffer layer index to which the primitive produced by the
geometry shader will be directed.
If a geometry shader entry point&#8217;s interface does not include a variable
decorated with <code>Layer</code>, then the first layer is used.
If a geometry shader entry point&#8217;s interface includes a variable decorated
with <code>Layer</code>, it <span role="normative">must</span> write the same value to <code>Layer</code> for all output
vertices of a given primitive.</p></div>
<div class="paragraph"><p>In a fragment shader, a variable decorated with <code>Layer</code> contains the
layer index of the primitive that the fragment invocation belongs to.</p></div>
<div class="paragraph"><p>The <code>Layer</code> decoration <span role="normative">must</span> be used only within geometry and fragment
shaders.</p></div>
<div class="paragraph"><p>In a geometry shader, any variable decorated with <code>Layer</code> <span role="normative">must</span> be
declared using the <code>Output</code> storage class.</p></div>
<div class="paragraph"><p>In a fragment shader, any variable decorated with <code>Layer</code> <span role="normative">must</span> be
declared using the <code>Input</code> storage class.</p></div>
<div class="paragraph"><p>Any variable decorated with <code>Layer</code> <span role="normative">must</span> be declared as a scalar 32-bit
integer.</p></div>
</dd>
<dt class="hdlist1">
<code>LocalInvocationId</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>LocalInvocationId</code> built-in decoration
will make that variable contain the location of the current compute shader
invocation within the local workgroup.
Each component ranges from zero through to the size of the workgroup in that
dimension minus one.
</p>
<div class="paragraph"><p>The <code>LocalInvocationId</code> decoration <span role="normative">must</span> be used only within compute
shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>LocalInvocationId</code> <span role="normative">must</span> be declared using
the <code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>LocalInvocationId</code> <span role="normative">must</span> be declared as a
three-component vector of 32-bit integers.</p></div>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>If the size of the workgroup in a particular dimension is one, then the
<code>LocalInvocationId</code> in that dimension will be zero.
If the workgroup is effectively two-dimensional, then
<code>LocalInvocationId</code>.z will be zero.
If the workgroup is effectively one-dimensional, then both
<code>LocalInvocationId</code>.y and <code>LocalInvocationId</code>.z will be zero.</p></div>
</td>
</tr></table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>NumWorkgroups</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>NumWorkgroups</code> built-in decoration will
make that variable contain the number of local workgroups that are part of
the dispatch that the invocation belongs to.
Each component is equal to the values of the parameters passed into
<code><a href="#vkCmdDispatch">vkCmdDispatch</a></code> or read from the <code>VkDispatchIndirectCommand</code>
structure read through a call to <code><a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>.
</p>
<div class="paragraph"><p>The <code>NumWorkgroups</code> decoration <span role="normative">must</span> be used only within compute shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>NumWorkgroups</code> <span role="normative">must</span> be declared using the
<code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>NumWorkgroups</code> <span role="normative">must</span> be declared as a
three-component vector of 32-bit integers.</p></div>
</dd>
<dt class="hdlist1">
<code>PatchVertices</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>PatchVertices</code> built-in decoration will
make that variable contain the number of vertices in the input patch being
processed by the shader.
A single tessellation control or tessellation evaluation shader <span role="normative">can</span> read
patches of differing sizes, so the value of the <code>PatchVertices</code> variable
<span role="normative">may</span> differ between patches.
</p>
<div class="paragraph"><p>The <code>PatchVertices</code> decoration <span role="normative">must</span> be used only within tessellation
control and tessellation evaluation shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>PatchVertices</code> <span role="normative">must</span> be declared using the
<code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>PatchVertices</code> <span role="normative">must</span> be declared as a scalar
32-bit integer.</p></div>
</dd>
<dt class="hdlist1">
<code>PointCoord</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>PointCoord</code> built-in decoration will make
that variable contain the coordinate of the current fragment within the
point being rasterized, normalized to the size of the point with origin in
the upper left corner of the point, as described in
<a href="#primsrast-points-basic">Basic Point Rasterization</a>.
If the primitive the fragment shader invocation belongs to is not a point,
then the variable decorated with <code>PointCoord</code> contains an undefined
value.
</p>
<div class="paragraph"><p>The <code>PointCoord</code> decoration <span role="normative">must</span> be used only within fragment shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>PointCoord</code> <span role="normative">must</span> be declared using the
<code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>PointCoord</code> <span role="normative">must</span> be declared as
two-component vector of 32-bit floating-point values.</p></div>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Depending on how the point is rasterized, <code>PointCoord</code> <span role="normative">may</span> never reach
<span class="eq">(0,0)</span> or <span class="eq">(1,1)</span>.</p></div>
</td>
</tr></table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>PointSize</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>PointSize</code> built-in decoration will make
that variable contain the size of point primitives.
The value written to the variable decorated with <code>PointSize</code> by the last
vertex processing stage in the pipeline is used as the framebuffer-space
size of points produced by rasterization.
</p>
<div class="paragraph"><p>The <code>PointSize</code> decoration <span role="normative">must</span> be used only within vertex, tessellation
control, tessellation evaluation, and geometry shaders.</p></div>
<div class="paragraph"><p>In a vertex shader, any variable decorated with <code>PointSize</code> <span role="normative">must</span> be
declared using the <code>Output</code> storage class.</p></div>
<div class="paragraph"><p>In a tessellation control, tessellation evaluation, or geometry shader, any
variable decorated with <code>PointSize</code> <span role="normative">must</span> be declared using either the
<code>Input</code> or <code>Output</code> storage class.</p></div>
<div class="paragraph"><p>Any variable decorated with <code>PointSize</code> <span role="normative">must</span> be declared as a scalar
32-bit floating-point value.</p></div>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>When <code>PointSize</code> decorates a variable in the <code>Input</code> storage class, it
contains the data written to the output variable decorated with
<code>PointSize</code> from the previous shader stage.</p></div>
</td>
</tr></table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>Position</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>Position</code> built-in decoration will make
that variable contain the position of the current vertex.
In the last vertex processing stage, the value of the variable decorated
with <code>Position</code> is used in subsequent primitive assembly, clipping, and
rasterization operations.
</p>
<div class="paragraph"><p>The <code>Position</code> decoration <span role="normative">must</span> be used only within vertex, tessellation
control, tessellation evaluation, and geometry shaders.</p></div>
<div class="paragraph"><p>In a vertex shader, any variable decorated with <code>Position</code> <span role="normative">must</span> be
declared using the <code>Output</code> storage class.</p></div>
<div class="paragraph"><p>In a tessellation control, tessellation evaluation, or geometry shader, any
variable decorated with <code>Position</code> <span role="normative">must</span> not be declared in a storage
class other than input or output.</p></div>
<div class="paragraph"><p>Any variable decorated with <code>Position</code> <span role="normative">must</span> be declared as a
four-component vector of 32-bit floating-point values.</p></div>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>When <code>Position</code> decorates a variable in the <code>Input</code> storage class, it
contains the data written to the output variable decorated with
<code>Position</code> from the previous shader stage.</p></div>
</td>
</tr></table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>PrimitiveId</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>PrimitiveId</code> built-in decoration will
make that variable contain the index of the current primitive.
</p>
<div class="paragraph"><p>In tessellation control and tessellation evaluation shaders, it will contain
the index of the patch within the current set of rendering primitives that
correspond to the shader invocation.</p></div>
<div class="paragraph"><p>In a geometry shader, it will contain the number of primitives presented as
input to the shader since the current set of rendering primitives was
started.</p></div>
<div class="paragraph"><p>In a fragment shader, it will contain the primitive index written by the
geometry shader if a geometry shader is present, or with the value that
would have been presented as input to the geometry shader had it been
present.</p></div>
<div class="paragraph"><p>If a geometry shader is present and the fragment shader reads from an input
variable decorated with <code>PrimitiveId</code>, then the geometry shader <span role="normative">must</span>
write to an output variable decorated with <code>PrimitiveId</code> in all execution
paths.</p></div>
<div class="paragraph"><p>The <code>PrimitiveId</code> decoration <span role="normative">must</span> be used only within fragment,
tessellation control, tessellation evaluation, and geometry shaders.</p></div>
<div class="paragraph"><p>In a tessellation control or tessellation evaluation shader, any variable
decorated with <code>PrimitiveId</code> <span role="normative">must</span> be declared using the <code>Output</code>
storage class.</p></div>
<div class="paragraph"><p>In a geometry shader, any variable decorated with <code>PrimitiveId</code> <span role="normative">must</span> be
declared using either the <code>Input</code> or <code>Output</code> storage class.</p></div>
<div class="paragraph"><p>In a fragment shader, any variable decorated with <code>PrimitiveId</code> <span role="normative">must</span> be
declared using the <code>Input</code> storage class, and either the <code>Geometry</code> or
<code>Tessellation</code> capability must also be declared.</p></div>
<div class="paragraph"><p>Any variable decorated with <code>PrimitiveId</code> <span role="normative">must</span> be declared as a scalar
32-bit integer.</p></div>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>When the <code>PrimitiveId</code> decoration is applied to an output variable in the
geometry shader, the resulting value is seen through the <code>PrimitiveId</code>
decorated input variable in the fragment shader.</p></div>
</td>
</tr></table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>SampleId</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>SampleId</code> built-in decoration will make
that variable contain the zero-based index of the sample the invocation
corresponds to.
<code>SampleId</code> ranges from zero to the number of samples in the framebuffer
minus one.
If a fragment shader entry point&#8217;s interface includes an input variable
decorated with <code>SampleId</code>, per-sample shading is enabled for draws that
use that fragment shader.
</p>
<div class="paragraph"><p>The <code>SampleId</code> decoration <span role="normative">must</span> be used only within fragment shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>SampleId</code> <span role="normative">must</span> be declared using the
<code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>SampleId</code> <span role="normative">must</span> be declared as a scalar
32-bit integer.</p></div>
</dd>
<dt class="hdlist1">
<code>SampleMask</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>SampleMask</code> built-in decoration will make
any variable contain the sample coverage mask for the current fragment
shader invocation.
</p>
<div class="paragraph"><p>A variable in the <code>Input</code> storage class decorated with <code>SampleMask</code>
will contain a bitmask of the set of samples covered by the primitive
generating the fragment during rasterization.
It has a sample bit set if and only if the sample is considered covered for
this fragment shader invocation.
<code>SampleMask</code>[] is an array of integers.
Bits are mapped to samples in a manner where bit B of mask M
(<span class="monospaced">SampleMask[M]</span>) corresponds to sample <span class="eq">32 &#x00d7; M + B</span>.</p></div>
<div class="paragraph"><p>When state specifies multiple fragment shader invocations for a given
fragment, the sample mask for any single fragment shader invocation
specifies the subset of the covered samples for the fragment that correspond
to the invocation.
In this case, the bit corresponding to each covered sample will be set in
exactly one fragment shader invocation.</p></div>
<div class="paragraph"><p>A variable in the <code>Output</code> storage class decorated with <code>SampleMask</code>
is an array of integers forming a bit array in a manner similar an input
variable decorated with <code>SampleMask</code>, but where each bit represents
coverage as computed by the shader.
Modifying the sample mask by writing zero to a bit of <code>SampleMask</code> causes
the sample to be considered uncovered.
However, setting sample mask bits to one will never enable samples not
covered by the original primitive.
If the fragment shader is being evaluated at any frequency other than
per-fragment, bits of the sample mask not corresponding to the current
fragment shader invocation are ignored.
This array <span role="normative">must</span> be sized in the fragment shader either implicitly or
explicitly, to be no larger than the implementation-dependent maximum
sample-mask (as an array of 32-bit elements), determined by the maximum
number of samples.
If a fragment shader entry point&#8217;s interface includes an output variable
decorated with <code>SampleMask</code>, the sample mask will be undefined for any
array elements of any fragment shader invocations that fail to assign a
value.
If a fragment shader entry point&#8217;s interface does not include an output
variable decorated with <code>SampleMask</code>, the sample mask has no effect on
the processing of a fragment.</p></div>
<div class="paragraph"><p>The <code>SampleMask</code> decoration <span role="normative">must</span> be used only within fragment shaders.</p></div>
<div class="paragraph"><p>Any variable decorated with <code>SampleMask</code> <span role="normative">must</span> be declared using either
the <code>Input</code> or <code>Output</code> storage class.</p></div>
<div class="paragraph"><p>Any variable decorated with <code>SampleMask</code> <span role="normative">must</span> be declared as an array of
32-bit integers.</p></div>
</dd>
<dt class="hdlist1">
<code>SamplePosition</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>SamplePosition</code> built-in decoration will
make that variable contain the sub-pixel position of the sample being
shaded.
The top left of the pixel is considered to be at coordinate <span class="eq">(0,0)</span> and
the bottom right of the pixel is considered to be at coordinate <span class="eq">(1,1)</span>.
If a fragment shader entry point&#8217;s interface includes an input variable
decorated with <code>SamplePosition</code>, per-sample shading is enabled for draws
that use that fragment shader.
</p>
<div class="paragraph"><p>The <code>SamplePosition</code> decoration <span role="normative">must</span> be used only within fragment
shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>SamplePosition</code> <span role="normative">must</span> be declared using the
<code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>SamplePosition</code> <span role="normative">must</span> be declared as a
two-component vector of 32-bit floating-point values.</p></div>
</dd>
<dt class="hdlist1">
<code>TessCoord</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>TessCoord</code> built-in decoration will make
that variable contain the three-dimensional <span class="eq">(u,v,w)</span> barycentric
coordinate of the tessellated vertex within the patch.
<span class="eq">u</span>, <span class="eq">v</span>, and <span class="eq">w</span> are in the range <span class="eq">[0,1]</span> and vary linearly
across the primitive being subdivided.
For the tessellation modes of <code>Quads</code> or <code>IsoLines</code>, the third
component is always zero.
</p>
<div class="paragraph"><p>The <code>TessCoord</code> decoration <span role="normative">must</span> be used only within tessellation
evaluation shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>TessCoord</code> <span role="normative">must</span> be declared using the
<code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>TessCoord</code> <span role="normative">must</span> be declared as
three-component vector of 32-bit floating-point values.</p></div>
</dd>
<dt class="hdlist1">
<code>TessLevelOuter</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>TessLevelOuter</code> built-in decoration will
make that variable contain the outer tessellation levels for the current
patch.
</p>
<div class="paragraph"><p>In tessellation control shaders, the variable decorated with
<code>TessLevelOuter</code> <span role="normative">can</span> be written to which controls the tessellation
factors for the resulting patch.
These values are used by the tessellator to control primitive tessellation
and <span role="normative">can</span> be read by tessellation evaluation shaders.</p></div>
<div class="paragraph"><p>In tessellation evaluation shaders, the variable decorated with
<code>TessLevelOuter</code> <span role="normative">can</span> read the values written by the tessellation control
shader.</p></div>
<div class="paragraph"><p>The <code>TessLevelOuter</code> decoration <span role="normative">must</span> be used only within tessellation
control and tessellation evaluation shaders.</p></div>
<div class="paragraph"><p>In a tessellation control shader, any variable decorated with
<code>TessLevelOuter</code> <span role="normative">must</span> be declared using the <code>Output</code> storage class.</p></div>
<div class="paragraph"><p>In a tessellation evaluation shader, any variable decorated with
<code>TessLevelOuter</code> <span role="normative">must</span> be declared using the <code>Input</code> storage class.</p></div>
<div class="paragraph"><p>Any variable decorated with <code>TessLevelOuter</code> <span role="normative">must</span> be declared as an
array of size four, containing 32-bit floating-point values.</p></div>
</dd>
<dt class="hdlist1">
<code>TessLevelInner</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>TessLevelInner</code> built-in decoration will
make that variable contain the inner tessellation levels for the current
patch.
</p>
<div class="paragraph"><p>In tessellation control shaders, the variable decorated with
<code>TessLevelInner</code> <span role="normative">can</span> be written to, which controls the tessellation
factors for the resulting patch.
These values are used by the tessellator to control primitive tessellation
and <span role="normative">can</span> be read by tessellation evaluation shaders.</p></div>
<div class="paragraph"><p>In tessellation evaluation shaders, the variable decorated with
<code>TessLevelInner</code> <span role="normative">can</span> read the values written by the tessellation control
shader.</p></div>
<div class="paragraph"><p>The <code>TessLevelInner</code> decoration <span role="normative">must</span> be used only within tessellation
control and tessellation evaluation shaders.</p></div>
<div class="paragraph"><p>In a tessellation control shader, any variable decorated with
<code>TessLevelInner</code> <span role="normative">must</span> be declared using the <code>Output</code> storage class.</p></div>
<div class="paragraph"><p>In a tessellation evaluation shader, any variable decorated with
<code>TessLevelInner</code> <span role="normative">must</span> be declared using the <code>Input</code> storage class.</p></div>
<div class="paragraph"><p>Any variable decorated with <code>TessLevelInner</code> <span role="normative">must</span> be declared as an
array of size two, containing 32-bit floating-point values.</p></div>
</dd>
<dt class="hdlist1">
<code>VertexIndex</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>VertexIndex</code> built-in decoration will
make that variable contain the index of the vertex that is being processed
by the current vertex shader invocation.
For non-indexed draws, this variable begins at the <code>firstVertex</code>
parameter to <code><a href="#vkCmdDraw">vkCmdDraw</a></code> or the <code>firstVertex</code> member of a structure
consumed by <code><a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code> and increments by one for each vertex in
the draw.
For indexed draws, its value is the content of the index buffer for the
vertex plus the <code>vertexOffset</code> parameter to <code><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code> or
the <code>vertexOffset</code> member of the structure consumed by
<code><a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>.
</p>
<div class="paragraph"><p>The <code>VertexIndex</code> decoration <span role="normative">must</span> be used only within vertex shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>VertexIndex</code> <span role="normative">must</span> be declared using the
<code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>VertexIndex</code> <span role="normative">must</span> be declared as a scalar
32-bit integer.</p></div>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p><code>VertexIndex</code> starts at the same starting value for each instance.</p></div>
</td>
</tr></table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>ViewportIndex</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>ViewportIndex</code> built-in decoration will
make that variable contain the index of the viewport.
</p>
<div class="paragraph"><p>In a geometry shader, the variable decorated with <code>ViewportIndex</code> can be
written to with the viewport index to which the primitive produced by the
geometry shader will be directed.
The selected viewport index is used to select the viewport transform and
scissor rectangle.
If a geometry shader entry point&#8217;s interface does not include a variable
decorated with <code>ViewportIndex</code>, then the first viewport is used.
If a geometry shader entry point&#8217;s interface includes a variable decorated
with <code>ViewportIndex</code>, it <span role="normative">must</span> write the same value to <code>ViewportIndex</code>
for all output vertices of a given primitive.</p></div>
<div class="paragraph"><p>In a fragment shader, the variable decorated with <code>ViewportIndex</code>
contains the viewport index of the primitive that the fragment invocation
belongs to.</p></div>
<div class="paragraph"><p>The <code>ViewportIndex</code> decoration <span role="normative">must</span> be used only within geometry and
fragment shaders.</p></div>
<div class="paragraph"><p>In a geometry shader, any variable decorated with <code>ViewportIndex</code> <span role="normative">must</span>
be declared using the <code>Output</code> storage class.</p></div>
<div class="paragraph"><p>In a fragment shader, any variable decorated with <code>ViewportIndex</code> <span role="normative">must</span>
be declared using the <code>Input</code> storage class.</p></div>
<div class="paragraph"><p>Any variable decorated with <code>ViewportIndex</code> <span role="normative">must</span> be declared as a scalar
32-bit integer.</p></div>
</dd>
<dt class="hdlist1">
<code>WorkgroupId</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>WorkgroupId</code> built-in decoration will
make that variable contain the global workgroup that the current invocation
is a member of.
Each component ranges from zero to the values of the parameters passed into
<code><a href="#vkCmdDispatch">vkCmdDispatch</a></code> or read from the <code>VkDispatchIndirectCommand</code>
structure read through a call to <code><a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>.
</p>
<div class="paragraph"><p>The <code>WorkgroupId</code> decoration <span role="normative">must</span> be used only within compute shaders.</p></div>
<div class="paragraph"><p>The variable decorated with <code>WorkgroupId</code> <span role="normative">must</span> be declared using the
<code>Input</code> storage class.</p></div>
<div class="paragraph"><p>The variable decorated with <code>WorkgroupId</code> <span role="normative">must</span> be declared as a
three-component vector of 32-bit integers.</p></div>
</dd>
<dt class="hdlist1">
<code>WorkgroupSize</code>
</dt>
<dd>
<p>
Decorating a variable with the <code>WorkgroupSize</code> built-in decoration will
make that variable contain the dimensions of a local workgroup.
If an object is decorated with the <code>WorkgroupSize</code> decoration, this <span role="normative">must</span>
take precedence over any execution mode set for <code>LocalSize</code>.
</p>
<div class="paragraph"><p>The <code>WorkgroupSize</code> decoration <span role="normative">must</span> be used only within compute shaders.</p></div>
<div class="paragraph"><p>The object decorated with <code>WorkgroupSize</code> <span role="normative">must</span> be a specialization
constant or a constant.</p></div>
<div class="paragraph"><p>The object decorated with <code>WorkgroupSize</code> <span role="normative">must</span> be declared as a
three-component vector of 32-bit integers.</p></div>
</dd>
</dl></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="textures">15. Image Operations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_image_operations_overview">15.1. Image Operations Overview</h3>
<div class="paragraph"><p>Image Operations are steps performed by SPIR-V image instructions, where
those instructions which take an <code>OpTypeImage</code> (representing a
<code>VkImageView</code>) or <code>OpTypeSampledImage</code> (representing a
(<code>VkImageView</code>, <code>VkSampler</code>) pair) and texel coordinates as
operands, and return a value based on one or more neighboring texture
elements (<em>texels</em>) in the image.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Texel is a term which is a combination of the words texture and element.
Early interactive computer graphics supported texture operations on
textures, a small subset of the image operations on images described here.
The discrete samples remain essentially equivalent, however, so we retain
the historical term texel to refer to them.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>SPIR-V Image Instructions include the following functionality:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>OpImageSample</code>* and <code>OpImageSparseSample</code>* read one or more
    neighboring texels of the image, and <a href="#textures-texel-filtering">filter</a>
    the texel values based on the state of the sampler.
</p>
<div class="ulist"><ul>
<li>
<p>
Instructions with <code>ImplicitLod</code> in the name
     <a href="#textures-level-of-detail-operation">determine</a> the level of detail
     used in the sampling operation based on the coordinates used in
     neighboring fragments.
</p>
</li>
<li>
<p>
Instructions with <code>ExplicitLod</code> in the name
     <a href="#textures-level-of-detail-operation">determine</a> the level of detail
     used in the sampling operation based on additional coordinates.
</p>
</li>
<li>
<p>
Instructions with <code>Proj</code> in the name apply homogeneous
     <a href="#textures-projection">projection</a> to the coordinates.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>OpImageFetch</code> and <code>OpImageSparseFetch</code> return a single texel of
    the image.
    No sampler is used.
</p>
</li>
<li>
<p>
<code>OpImage</code>*<code>Gather</code> and <code>OpImageSparse</code>*<code>Gather</code> read
    neighboring texels and <a href="#textures-gather">return a single component</a> of
    each.
</p>
</li>
<li>
<p>
<code>OpImageRead</code> (and <code>OpImageSparseRead</code>) and <code>OpImageWrite</code> read
    and write, respectively, a texel in the image.
    No sampler is used.
</p>
</li>
<li>
<p>
Instructions with <code>Dref</code> in the name apply
    <a href="#textures-depth-compare-operation">depth comparison</a> on the texel
    values.
</p>
</li>
<li>
<p>
Instructions with <code>Sparse</code> in the name additionally return a
    <a href="#textures-sparse-residency">sparse residency</a> code.
</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="_texel_coordinate_systems">15.1.1. Texel Coordinate Systems</h4>
<div class="paragraph"><p>Images are addressed by <em>texel coordinates</em>.
There are three <em>texel coordinate systems</em>:</p></div>
<div class="ulist"><ul>
<li>
<p>
normalized texel coordinates <span class="eq">[0.0, 1.0]</span>
</p>
</li>
<li>
<p>
unnormalized texel coordinates <span class="eq">[0.0, width / height / depth)</span>
</p>
</li>
<li>
<p>
integer texel coordinates <span class="eq">[0, width / height / depth)</span>
</p>
</li>
</ul></div>
<div class="paragraph"><p>SPIR-V <code>OpImageFetch</code>, <code>OpImageSparseFetch</code>, <code>OpImageRead</code>,
<code>OpImageSparseRead</code>, and <code>OpImageWrite</code> instructions use integer texel
coordinates.
Other image instructions <span role="normative">can</span> use either normalized or unnormalized texel
coordinates (selected by the <code>unnormalizedCoordinates</code> state of the
sampler used in the instruction), but there are
<a href="#samplers-unnormalizedCoordinates">limitations</a> on what operations, image
state, and sampler state is supported.
Normalized coordinates are logically
<a href="#textures-normalized-to-unnormalized">converted</a> to unnormalized as part of
image operations, and <a href="#textures-normalized-operations">certain steps</a> are
only performed on normalized coordinates.
The array layer coordinate is always treated as unnormalized even when other
coordinates are normalized.</p></div>
<div class="paragraph"><p>Normalized texel coordinates are referred to as <span class="eq">(s,t,r,q,a)</span>, with the
coordinates having the following meanings:</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="eq">s</span>: Coordinate in the first dimension of an image.
</p>
</li>
<li>
<p>
<span class="eq">t</span>: Coordinate in the second dimension of an image.
</p>
</li>
<li>
<p>
<span class="eq">r</span>: Coordinate in the third dimension of an image.
</p>
<div class="ulist"><ul>
<li>
<p>
<span class="eq">(s,t,r)</span> are interpreted as a direction vector for Cube images.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<span class="eq">q</span>: Fourth coordinate, for homogeneous (projective) coordinates.
</p>
</li>
<li>
<p>
<span class="eq">a</span>: Coordinate for array layer.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The coordinates are extracted from the SPIR-V operand based on the
dimensionality of the image variable and type of instruction.
For <code>Proj</code> instructions, the components are in order (s, [t,] [r,] q)
with t and r being conditionally present based on the <code>Dim</code> of the image.
For non-<code>Proj</code> instructions, the coordinates are (s [,t] [,r] [,a]), with
t and r being conditionally present based on the <code>Dim</code> of the image and a
being conditionally present based on the <code>Arrayed</code> property of the image.
Projective image instructions are not supported on <code>Arrayed</code> images.</p></div>
<div class="paragraph"><p>Unnormalized texel coordinates are referred to as <span class="eq">(u,v,w,a)</span>, with the
coordinates having the following meanings:</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="eq">u</span>: Coordinate in the first dimension of an image.
</p>
</li>
<li>
<p>
<span class="eq">v</span>: Coordinate in the second dimension of an image.
</p>
</li>
<li>
<p>
<span class="eq">w</span>: Coordinate in the third dimension of an image.
</p>
</li>
<li>
<p>
<span class="eq">a</span>: Coordinate for array layer.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Only the <span class="eq">u</span> and <span class="eq">v</span> coordinates are directly extracted from the
SPIR-V operand, because only 1D and 2D (non-<code>Arrayed</code>) dimensionalities
support unnormalized coordinates.
The components are in order <span class="eq">(u [,v])</span>, with <span class="eq">v</span> being conditionally
present when the dimensionality is 2D.
When normalized coordinates are converted to unnormalized coordinates, all
four coordinates are used.</p></div>
<div class="paragraph"><p>Integer texel coordinates are referred to as <span class="eq">(i,j,k,l,n)</span>, and the
first four in that order have the same meanings as unnormalized texel
coordinates.
They are extracted from the SPIR-V operand in order <span class="eq">(i, [,j], [,k],
[,l])</span>, with <span class="eq">j</span> and <span class="eq">k</span> conditionally present based on the <code>Dim</code>
of the image, and l conditionally present based on the <code>Arrayed</code> property
of the image.
n is the sample index and is taken from the <code>Sample</code> image operand.</p></div>
<div class="paragraph"><p>For all coordinate types, unused coordinates are assigned a value of zero.</p></div>
<div class="imageblock" id="textures-texel-coordinate-systems-diagrams" style="text-align:center;">
<div class="content">
<img src="images/vulkantexture0.png" alt="images/vulkantexture0.png" width="800">
</div>
<div class="title">Figure 2. Texel Coordinate Systems</div>
</div>
<div class="paragraph"><p>The Texel Coordinate Systems - For the example shown of an 8x4 texel two
dimensional image.</p></div>
<div class="ulist"><ul>
<li>
<p>
Normalized texel coordinates:
</p>
<div class="ulist"><ul>
<li>
<p>
The <span class="eq">s</span> coordinate goes from 0.0 to 1.0, left to right.
</p>
</li>
<li>
<p>
The <span class="eq">t</span> coordinate goes from 0.0 to 1.0, top to bottom.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Unnormalized texel coordinates:
</p>
<div class="ulist"><ul>
<li>
<p>
The <span class="eq">u</span> coordinate goes from -1.0 to 9.0, left to right.
     The <span class="eq">u</span> coordinate within the range 0.0 to 8.0 is within the image,
     otherwise it is within the border.
</p>
</li>
<li>
<p>
The <span class="eq">v</span> coordinate goes from -1.0 to 5.0, top to bottom.
     The <span class="eq">v</span> coordinate within the range 0.0 to 4.0 is within the image,
     otherwise it is within the border.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Integer texel coordinates:
</p>
<div class="ulist"><ul>
<li>
<p>
The <span class="eq">i</span> coordinate goes from -1 to 8, left to right.
     The <span class="eq">i</span> coordinate within the range 0 to 7 addresses texels within
     the image, otherwise it addresses a border texel.
</p>
</li>
<li>
<p>
The <span class="eq">j</span> coordinate goes from -1 to 5, top to bottom.
     The <span class="eq">j</span> coordinate within the range 0 to 3 addresses texels within
     the image, otherwise it addresses a border texel.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Also shown for linear filtering:
</p>
<div class="ulist"><ul>
<li>
<p>
Given the unnormalized coordinates <span class="eq">(u,v)</span>, the four texels
     selected are <span class="eq">i<sub>0</sub>j<sub>0</sub></span>, <span class="eq">i<sub>1</sub>j<sub>0</sub></span>, <span class="eq">i<sub>0</sub>j<sub>1</sub></span>, and
     <span class="eq">i<sub>1</sub>j<sub>1</sub></span>.
</p>
</li>
<li>
<p>
The weights <span class="eq">&#x03b1;</span> and <span class="eq">&#x03b2;</span>.
</p>
</li>
<li>
<p>
Given the offset <span class="eq">&#x0394;<sub>i</sub></span> and <span class="eq">&#x0394;<sub>j</sub></span>, the
     four texels selected by the offset are <span class="eq">i<sub>0</sub>j'<sub>0</sub></span>,
     <span class="eq">i<sub>1</sub>j'<sub>0</sub></span>, <span class="eq">i<sub>0</sub>j'<sub>1</sub></span>, and <span class="eq">i<sub>1</sub>j'<sub>1</sub></span>.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/vulkantexture1.png" alt="images/vulkantexture1.png" width="800">
</div>
<div class="title">Figure 3. Texel Coordinate Systems</div>
</div>
<div class="paragraph"><p>The Texel Coordinate Systems - For the example shown of an 8x4 texel two
dimensional image.</p></div>
<div class="ulist"><ul>
<li>
<p>
Texel coordinates as above.
    Also shown for nearest filtering:
</p>
<div class="ulist"><ul>
<li>
<p>
Given the unnormalized coordinates <span class="eq">(u,v)</span>, the texel selected is
     <span class="eq">ij</span>.
</p>
</li>
<li>
<p>
Given the offset <span class="eq">&#x0394;<sub>i</sub></span> and <span class="eq">&#x0394;<sub>j</sub></span>, the
     texel selected by the offset is <span class="eq">ij'</span>.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="_conversion_formulas">15.2. Conversion Formulas</h3>
<div class="sect3">
<h4 id="textures-RGB-sexp">15.2.1. RGB to Shared Exponent Conversion</h4>
<div class="paragraph"><p>An RGB color <span class="eq">(red, green, blue)</span> is transformed to a shared exponent
color <span class="eq">(red<sub>shared</sub>, green<sub>shared</sub>, blue<sub>shared</sub>, exp<sub>shared</sub>)</span> as
follows:</p></div>
<div class="paragraph"><p>First, the components <span class="eq">(red, green, blue)</span> are clamped to
<span class="eq">(red<sub>clamped</sub>, green<sub>clamped</sub>, blue<sub>clamped</sub>)</span> as:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">red<sub>clamped</sub> = max(0, min(sharedexp<sub>max</sub>, red))</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">green<sub>clamped</sub> = max(0, min(sharedexp<sub>max</sub>, green))</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">blue<sub>clamped</sub> = max(0, min(sharedexp<sub>max</sub>, blue))</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Where:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
N               & = 9  & \text{number of mantissa bits per component} \\
B               & = 15 & \text{exponent bias} \\
E_{max}         & = 31 & \text{maximum possible biased exponent value} \\
sharedexp_{max} & = \frac{(2^N-1)}{2^N} \times 2^{(E_{max}-B)}
\end{aligned} \]</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p><span class="eq">NaN</span>, if supported, is handled as in <a href="#ieee-754">IEEE 754-2008</a>
<span class="monospaced">minNum()</span> and <span class="monospaced">maxNum()</span>.
That is the result is a <span class="eq">NaN</span> is mapped to zero.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>The largest clamped component, <span class="eq">max<sub>clamped</sub></span> is determined:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">max<sub>clamped</sub> = max(red<sub>clamped</sub>, green<sub>clamped</sub>, blue<sub>clamped</sub>)</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>A preliminary shared exponent <span class="eq">exp'</span> is computed:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
exp' =
  \begin{cases}
    \left \lfloor \log_2(max_{clamped}) \right \rfloor + (B+1)
      & \text{for } max_{clamped} > 2^{-(B+1)} \\
    0
      & \text{for } max_{clamped} \leq 2^{-(B+1)}
  \end{cases}
\end{aligned} \]</div></div>
<div class="paragraph"><p>The shared exponent <span class="eq">exp<sub>shared</sub></span> is computed:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
max_{shared} =
\left \lfloor
\frac{max_{clamped}}{2^{(exp'-B-N)}}+\frac{1}{2}
\right \rfloor
\end{aligned} \]</div></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
exp_{shared} =
  \begin{cases}
    exp'   & \text{for } 0 \leq max_{shared} < 2^N \\
    exp'+1 & \text{for } max_{shared} = 2^N
  \end{cases}
\end{aligned} \]</div></div>
<div class="paragraph"><p>Finally, three integer values in the range <span class="eq">0</span> to <span class="eq">2<sup>N</sup></span> are
computed:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
red_{shared} & =
    \left \lfloor
    \frac{red_{clamped}}{2^{(exp_{shared}-B-N)}}+ \frac{1}{2}
    \right \rfloor \\
green_{shared} & =
    \left \lfloor
    \frac{green_{clamped}}{2^{(exp_{shared}-B-N)}}+ \frac{1}{2}
    \right \rfloor \\
blue_{shared} & =
    \left \lfloor
    \frac{blue_{clamped}}{2^{(exp_{shared}-B-N)}}+ \frac{1}{2}
    \right \rfloor
\end{aligned} \]</div></div>
</div>
<div class="sect3">
<h4 id="textures-sexp-RGB">15.2.2. Shared Exponent to RGB</h4>
<div class="paragraph"><p>A shared exponent color <span class="eq">(red<sub>shared</sub>, green<sub>shared</sub>, blue<sub>shared</sub>,
exp<sub>shared</sub>)</span> is transformed to an RGB color <span class="eq">(red, green, blue)</span> as
follows:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">red = red<sub>shared</sub> &#x00d7; 2<sup>(exp<sub>shared</sub> - B - N)</sup></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">green = green<sub>shared</sub> &#x00d7; 2<sup>(exp<sub>shared</sub> - B - N)</sup></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">blue = blue<sub>shared</sub> &#x00d7; 2<sup>(exp<sub>shared</sub> - B - N)</sup></span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Where:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">N = 9</span> (number of mantissa bits per component)
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">B = 15</span> (exponent bias)
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect2">
<h3 id="_texel_input_operations">15.3. Texel Input Operations</h3>
<div class="paragraph"><p><em>Texel input instructions</em> are SPIR-V image instructions that read from an
image.
<em>Texel input operations</em> are a set of steps that are performed on state,
coordinates, and texel values while processing a texel input instruction,
and which are common to some or all texel input instructions.
They include the following steps, which are performed in the listed order:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="#textures-input-validation">Validation operations</a>
</p>
<div class="ulist"><ul>
<li>
<p>
<a href="#textures-operation-validation">Instruction/Sampler/Image validation</a>
</p>
</li>
<li>
<p>
<a href="#textures-integer-coordinate-validation">Coordinate validation</a>
</p>
</li>
<li>
<p>
<a href="#textures-sparse-validation">Sparse validation</a>
</p>
</li>
</ul></div>
</li>
<li>
<p>
<a href="#textures-format-conversion">Format conversion</a>
</p>
</li>
<li>
<p>
<a href="#textures-texel-replacement">Texel replacement</a>
</p>
</li>
<li>
<p>
<a href="#textures-depth-compare-operation">Depth comparison</a>
</p>
</li>
<li>
<p>
<a href="#textures-conversion-to-rgba">Conversion to RGBA</a>
</p>
</li>
<li>
<p>
<a href="#textures-component-swizzle">Component swizzle</a>
</p>
</li>
</ul></div>
<div class="paragraph"><p>For texel input instructions involving multiple texels (for sampling or
gathering), these steps are applied for each texel that is used in the
instruction.
Depending on the type of image instruction, other steps are conditionally
performed between these steps or involving multiple coordinate or texel
values.</p></div>
<div class="sect3">
<h4 id="textures-input-validation">15.3.1. Texel Input Validation Operations</h4>
<div class="paragraph"><p><em>Texel input validation operations</em> inspect instruction/image/sampler state
or coordinates, and in certain circumstances cause the texel value to be
replaced or become undefined.
There are a series of validations that the texel undergoes.</p></div>
<div class="sect4">
<h5 id="textures-operation-validation">Instruction/Sampler/Image Validation</h5>
<div class="paragraph"><p>There are a number of cases where a SPIR-V instruction <span role="normative">can</span> mismatch with
the sampler, the image, or both.
There are a number of cases where the sampler <span role="normative">can</span> mismatch with the image.
In such cases the value of the texel returned is undefined.</p></div>
<div class="paragraph"><p>These cases include:</p></div>
<div class="ulist"><ul>
<li>
<p>
The sampler <code>borderColor</code> is an integer type and the image
    <code>format</code> is not one of the <code><a href="#VkFormat">VkFormat</a></code> integer types or a stencil
    component of a depth/stencil format.
</p>
</li>
<li>
<p>
The sampler <code>borderColor</code> is a float type and the image <code>format</code>
    is not one of the <code><a href="#VkFormat">VkFormat</a></code> float types or a depth component of a
    depth/stencil format.
</p>
</li>
<li>
<p>
The sampler <code>borderColor</code> is one of the opaque black colors
    (<code>VK_BORDER_COLOR_FLOAT_OPAQUE_BLACK</code> or
    <code>VK_BORDER_COLOR_INT_OPAQUE_BLACK</code>) and the image
    <code><a href="#VkComponentSwizzle">VkComponentSwizzle</a></code> for any of the <code><a href="#VkComponentMapping">VkComponentMapping</a></code>
    components is not <code>VK_COMPONENT_SWIZZLE_IDENTITY</code>.
</p>
</li>
<li>
<p>
If the instruction is <code>OpImageRead</code> or <code>OpImageSparseRead</code> and the
    <code>shaderStorageImageReadWithoutFormat</code> feature is not enabled, or the
    instruction is <code>OpImageWrite</code> and the
    <code>shaderStorageImageWriteWithoutFormat</code> feature is not enabled, then
    the SPIR-V Image Format <span role="normative">must</span> be <a href="#spirvenv-image-formats">compatible</a>
    with the image view&#8217;s <code>format</code>.
</p>
</li>
<li>
<p>
The sampler <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code> and any of
    the <a href="#samplers-unnormalizedCoordinates">limitations of unnormalized     coordinates</a> are violated.
</p>
</li>
<li>
<p>
The SPIR-V instruction is one of the <code>OpImage</code>*<code>Dref</code>*
    instructions and the sampler <code>compareEnable</code> is <code>VK_FALSE</code>
</p>
</li>
<li>
<p>
The SPIR-V instruction is not one of the <code>OpImage</code>*<code>Dref</code>*
    instructions and the sampler <code>compareEnable</code> is <code>VK_TRUE</code>
</p>
</li>
<li>
<p>
The SPIR-V instruction is one of the <code>OpImage</code>*<code>Dref</code>*
    instructions and the image <code>format</code> is not one of the depth/stencil
    formats with a depth component, or the image aspect is not
    <code>VK_IMAGE_ASPECT_DEPTH_BIT</code>.
</p>
</li>
<li>
<p>
The SPIR-V instruction&#8217;s image variable&#8217;s properties are not compatible
    with the image view:
</p>
<div class="ulist"><ul>
<li>
<p>
Rules for <code>viewType</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_IMAGE_VIEW_TYPE_1D</code> <span role="normative">must</span> have <code>Dim</code> = 1D, <code>Arrayed</code> =
      0, <code>MS</code> = 0.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_VIEW_TYPE_2D</code> <span role="normative">must</span> have <code>Dim</code> = 2D, <code>Arrayed</code> =
      0.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_VIEW_TYPE_3D</code> <span role="normative">must</span> have <code>Dim</code> = 3D, <code>Arrayed</code> =
      0, <code>MS</code> = 0.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_VIEW_TYPE_CUBE</code> <span role="normative">must</span> have <code>Dim</code> = Cube, <code>Arrayed</code>
      = 0, <code>MS</code> = 0.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code> <span role="normative">must</span> have <code>Dim</code> = 1D,
      <code>Arrayed</code> = 1, <code>MS</code> = 0.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> <span role="normative">must</span> have <code>Dim</code> = 2D,
      <code>Arrayed</code> = 1.
</p>
</li>
<li>
<p>
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code> <span role="normative">must</span> have <code>Dim</code> = Cube,
      <code>Arrayed</code> = 1, <code>MS</code> = 0.
</p>
</li>
</ul></div>
</li>
<li>
<p>
If the image was created with <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>samples</code>
     equal to <code>VK_SAMPLE_COUNT_1_BIT</code>, the instruction <span role="normative">must</span> have
     <code>MS</code> = 0.
</p>
</li>
<li>
<p>
If the image was created with <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>samples</code>
     not equal to <code>VK_SAMPLE_COUNT_1_BIT</code>, the instruction <span role="normative">must</span> have
     <code>MS</code> = 1.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="textures-integer-coordinate-validation">Integer Texel Coordinate Validation</h5>
<div class="paragraph"><p>Integer texel coordinates are validated against the size of the image level,
and the number of layers and number of samples in the image.
For SPIR-V instructions that use integer texel coordinates, this is
performed directly on the integer coordinates.
For instructions that use normalized or unnormalized texel coordinates, this
is performed on the coordinates that result after
<a href="#textures-unnormalized-to-integer">conversion</a> to integer texel
coordinates.</p></div>
<div class="paragraph"><p>If the integer texel coordinates do not satisfy all of the conditions</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">0 &#x2264; i &lt; w<sub>s</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">0 &#x2264; j &lt; h<sub>s</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">0 &#x2264; k &lt; d<sub>s</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">0 &#x2264; l &lt; layers</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">0 &#x2264; n &lt; samples</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>where:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">w<sub>s</sub> =</span> width of the image level
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">h<sub>s</sub> =</span> height of the image level
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">d<sub>s</sub> =</span> depth of the image level
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">layers =</span> number of layers in the image
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">samples =</span> number of samples per texel in the image
</p>
</dd>
</dl></div>
<div class="paragraph"><p>then the texel fails integer texel coordinate validation.</p></div>
<div class="paragraph"><p>There are four cases to consider:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Valid Texel Coordinates
</p>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
If the texel coordinates pass validation (that is, the coordinates lie
     within the image),
</p>
</li>
</ul></div>
<div class="paragraph"><p>then the texel value comes from the value in image memory.</p></div>
</div></div>
</li>
<li>
<p>
Border Texel
</p>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
If the texel coordinates fail validation, and
</p>
</li>
<li>
<p>
If the read is the result of an image sample instruction or image gather
     instruction, and
</p>
</li>
<li>
<p>
If the image is not a cube image,
</p>
</li>
</ul></div>
<div class="paragraph"><p>then the texel is a border texel and <a href="#textures-texel-replacement">texel replacement</a> is performed.</p></div>
</div></div>
</li>
<li>
<p>
Invalid Texel
</p>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
If the texel coordinates fail validation, and
</p>
</li>
<li>
<p>
If the read is the result of an image fetch instruction, image read
    instruction, or atomic instruction,
</p>
</li>
</ul></div>
<div class="paragraph"><p>then the texel is an invalid texel and <a href="#textures-texel-replacement">texel replacement</a> is performed.</p></div>
</div></div>
</li>
<li>
<p>
Cube Map Edge or Corner
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Otherwise the texel coordinates lie on the borders along the edges and
corners of a cube map image, and <a href="#textures-cubemapedge">Cube map edge handling</a> is performed.</p></div>
</div></div>
</li>
</ol></div>
</div>
<div class="sect4">
<h5 id="textures-cubemapedge">Cube Map Edge Handling</h5>
<div class="paragraph"><p>If the texel coordinates lie on the borders along the edges and corners of a
cube map image, the following steps are performed.
Note that this only occurs when using <code>VK_FILTER_LINEAR</code> filtering
within a mip level, since <code>VK_FILTER_NEAREST</code> is treated as using
<code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code>.</p></div>
<div class="ulist"><ul>
<li>
<p>
Cube Map Edge Texel
</p>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
If the texel lies along the border in either only <span class="eq">i</span> or only
    <span class="eq">j</span>
</p>
</li>
</ul></div>
<div class="paragraph"><p>then the texel lies along an edge, so the coordinates <span class="eq">(i,j)</span> and the
array layer <span class="eq">l</span> are transformed to select the adjacent texel from the
appropriate neighboring face.</p></div>
</div></div>
</li>
<li>
<p>
Cube Map Corner Texel
</p>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
If the texel lies along the border in both <span class="eq">i</span> and <span class="eq">j</span>
</p>
</li>
</ul></div>
<div class="paragraph"><p>then the texel lies at a corner and there is no unique neighboring face from
which to read that texel.
The texel <span role="normative">should</span> be replaced by the average of the three values of the
adjacent texels in each incident face.
However, implementations <span role="normative">may</span> replace the cube map corner texel by other
methods, subject to the constraint that if the three available samples have
the same value, the replacement texel also has that value.</p></div>
</div></div>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="textures-sparse-validation">Sparse Validation</h5>
<div class="paragraph"><p>If the texel reads from an unbound region of a sparse image, the texel is a
<em>sparse unbound texel</em>, and processing continues with
<a href="#textures-texel-replacement">texel replacement</a>.</p></div>
</div>
</div>
<div class="sect3">
<h4 id="textures-format-conversion">15.3.2. Format Conversion</h4>
<div class="paragraph"><p>Texels undergo a format conversion from the <code><a href="#VkFormat">VkFormat</a></code> of the image view
to a vector of either floating point or signed or unsigned integer
components, with the number of components based on the number of components
present in the format.</p></div>
<div class="ulist"><ul>
<li>
<p>
Color formats have one, two, three, or four components, according to the
    format.
</p>
</li>
<li>
<p>
Depth/stencil formats are one component.
    The depth or stencil component is selected by the <code>aspectMask</code> of
    the image view.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Each component is converted based on its type and size (as defined in the
<a href="#features-formats-definition">Format Definition</a> section for each
<code><a href="#VkFormat">VkFormat</a></code>), using the appropriate equations in
<a href="#fundamentals-fp16">16-Bit Floating-Point Numbers</a>,
<a href="#fundamentals-fp11">Unsigned 11-Bit Floating-Point Numbers</a>,
<a href="#fundamentals-fp10">Unsigned 10-Bit Floating-Point Numbers</a>,
<a href="#fundamentals-fixedconv">Fixed-Point Data Conversion</a>, and
<a href="#textures-sexp-RGB">Shared Exponent to RGB</a>.
Signed integer components smaller than 32 bits are sign-extended.</p></div>
<div class="paragraph"><p>If the image format is sRGB, the color components are first converted as if
they are UNORM, and then sRGB to linear conversion is applied to the R, G,
and B components as described in the &#8220;KHR_DF_TRANSFER_SRGB&#8221; section of the
<a href="#data-format">Khronos Data Format Specification</a>.
The A component, if present, is unchanged.</p></div>
<div class="paragraph"><p>If the image view format is block-compressed, then the texel value is first
decoded, then converted based on the type and number of components defined
by the compressed format.</p></div>
</div>
<div class="sect3">
<h4 id="textures-texel-replacement">15.3.3. Texel Replacement</h4>
<div class="paragraph"><p>A texel is replaced if it is one (and only one) of:</p></div>
<div class="ulist"><ul>
<li>
<p>
a border texel,
</p>
</li>
<li>
<p>
an invalid texel, or
</p>
</li>
<li>
<p>
a sparse unbound texel.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Border texels are replaced with a value based on the image format and the
<code>borderColor</code> of the sampler.
The border color is:</p></div>
<table class="tableblock frame-all grid-all" id="textures-border-replacement-color"
style="
width:100%;
">
<caption class="title">Table 15. Border Color <span class="eq">B</span></caption>
<col style="width:60%;">
<col style="width:40%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Sampler <code>borderColor</code>                     </th>
<th class="tableblock halign-left valign-top" > Corresponding Border Color</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BORDER_COLOR_FLOAT_TRANSPARENT_BLACK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">B = (0.0, 0.0, 0.0, 0.0)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BORDER_COLOR_FLOAT_OPAQUE_BLACK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">B = (0.0, 0.0, 0.0, 1.0)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BORDER_COLOR_FLOAT_OPAQUE_WHITE</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">B = (1.0, 1.0, 1.0, 1.0)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BORDER_COLOR_INT_TRANSPARENT_BLACK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">B = (0, 0, 0, 0)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BORDER_COLOR_INT_OPAQUE_BLACK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">B = (0, 0, 0, 1)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BORDER_COLOR_INT_OPAQUE_WHITE</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">B = (1, 1, 1, 1)</span></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The names <code>VK_BORDER_COLOR_*_TRANSPARENT_BLACK</code>,
<code>VK_BORDER_COLOR_*_OPAQUE_BLACK</code>, and
<code>VK_BORDER_COLOR_*_OPAQUE_WHITE</code> are meant to describe which components
are zeros and ones in the vocabulary of compositing, and are not meant to
imply that the numerical value of <code>VK_BORDER_COLOR_INT_OPAQUE_WHITE</code> is
a saturating value for integers.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>This is substituted for the texel value by replacing the number of
components in the image format</p></div>
<table class="tableblock frame-all grid-all" id="textures-border-replacement-table"
style="
width:80%;
">
<caption class="title">Table 16. Border Texel Components After Replacement</caption>
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Texel Aspect or Format      </th>
<th class="tableblock halign-left valign-top" > Component Assignment</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Depth aspect</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">D       = B<sub>r</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Stencil aspect</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">S       = B<sub>r</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">One component color format</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">C<sub>r</sub>    = B<sub>r</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Two component color format</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">C<sub>rg</sub>   = (B<sub>r</sub>,B<sub>g</sub>)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Three component color format</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">C<sub>rgb</sub>  = (B<sub>r</sub>,B<sub>g</sub>,B<sub>b</sub>)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Four component color format</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">C<sub>rgba</sub> = (B<sub>r</sub>,B<sub>g</sub>,B<sub>b</sub>,B<sub>a</sub>)</span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>If the read operation is from a buffer resource, and the
<code>robustBufferAccess</code> feature is enabled, an invalid texel is replaced as
described <a href="#features-features-robustBufferAccess">here</a>.</p></div>
<div class="paragraph"><p>If the <code>robustBufferAccess</code> feature is not enabled, the value of an
invalid texel is undefined.</p></div>
<div class="paragraph"><p>If the <code>VkPhysicalDeviceSparseProperties</code> property
<code>residencyNonResidentStrict</code> is true, a sparse unbound texel is replaced
with 0 or 0.0 values for integer and floating-point components of the image
format, respectively.</p></div>
<div class="paragraph"><p>If <code>residencyNonResidentStrict</code> is false, the read <span role="normative">must</span> be safe, but
the value of the sparse unbound texel is undefined.</p></div>
</div>
<div class="sect3">
<h4 id="textures-depth-compare-operation">15.3.4. Depth Compare Operation</h4>
<div class="paragraph"><p>If the image view has a depth/stencil format, the depth component is
selected by the <code>aspectMask</code>, and the operation is a <code>Dref</code>
instruction, a depth comparison is performed.
The value of the result <span class="eq">D</span> is <span class="eq">1.0</span> if the result of the compare
operation is <span class="eq">true</span>, and <span class="eq">0.0</span> otherwise.
The compare operation is selected by the <code>compareOp</code> member of the
sampler.</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
D & = 1.0 &
  \begin{cases}
    D_{ref} \leq D & \text{for LEQUAL}   \\
    D_{ref} \geq D & \text{for GEQUAL}   \\
    D_{ref} < D    & \text{for LESS}     \\
    D_{ref} > D    & \text{for GREATER}  \\
    D_{ref} = D    & \text{for EQUAL}    \\
    D_{ref} \neq D & \text{for NOTEQUAL} \\
    true           & \text{for ALWAYS}   \\
    false          & \text{for NEVER}
  \end{cases} \\
D & = 0.0 & \text{otherwise}
\end{aligned} \]</div></div>
<div class="paragraph"><p>where, in the depth comparison:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">D<sub>ref</sub> = shaderOp.D<sub>ref</sub></span> (from optional SPIR-V operand)
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">D</span> (texel depth value)
</p>
</dd>
</dl></div>
</div>
<div class="sect3">
<h4 id="textures-conversion-to-rgba">15.3.5. Conversion to RGBA</h4>
<div class="paragraph"><p>The texel is expanded from one, two, or three to four components based on
the image base color:</p></div>
<table class="tableblock frame-all grid-all" id="textures-texel-color-rgba-conversion-table"
style="
width:100%;
">
<caption class="title">Table 17. Texel Color After Conversion To RGBA</caption>
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Texel Aspect or Format      </th>
<th class="tableblock halign-left valign-top" > RGBA Color</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Depth aspect</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">C<sub>rgba</sub> = (D,0,0,one)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Stencil aspect</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">C<sub>rgba</sub> = (S,0,0,one)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">One component color format</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">C<sub>rgba</sub> = (C<sub>r</sub>,0,0,one)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Two component color format</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">C<sub>rgba</sub> = (C<sub>rg</sub>,0,one)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Three component color format</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">C<sub>rgba</sub> = (C<sub>rgb</sub>,one)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Four component color format</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">C<sub>rgba</sub> = C<sub>rgba</sub></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>where <span class="eq">one = 1.0f</span> for floating-point formats and depth aspects, and
<span class="eq">one = 1</span> for integer formats and stencil aspects.</p></div>
</div>
<div class="sect3">
<h4 id="textures-component-swizzle">15.3.6. Component Swizzle</h4>
<div class="paragraph"><p>All texel input instructions apply a <em>swizzle</em> based on the
<code><a href="#VkComponentSwizzle">VkComponentSwizzle</a></code> enums in the <code>components</code> member of the
<code><a href="#VkImageViewCreateInfo">VkImageViewCreateInfo</a></code> structure for the image being read.
The swizzle <span role="normative">can</span> rearrange the components of the texel, or substitute zero
and one for any components.
It is defined as follows for the R component, and operates similarly for the
other components.</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
C'_{rgba}[R] & =
  \begin{cases}
    C_{rgba}[R] & \text{for RED swizzle}   \\
    C_{rgba}[G] & \text{for GREEN swizzle} \\
    C_{rgba}[B] & \text{for BLUE swizzle}  \\
    C_{rgba}[A] & \text{for ALPHA swizzle} \\
    0           & \text{for ZERO swizzle}  \\
    one         & \text{for ONE swizzle} \\
    C_{rgba}[R] & \text{for IDENTITY swizzle}
  \end{cases}
\end{aligned} \]</div></div>
<div class="paragraph"><p>where:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
C_{rgba}[R] & \text{is the RED component} \\
C_{rgba}[G] & \text{is the GREEN component} \\
C_{rgba}[B] & \text{is the BLUE component} \\
C_{rgba}[A] & \text{is the ALPHA component} \\
one         & = 1.0\text{f}  & \text{for floating point components} \\
one         & = 1              & \text{for integer components}
\end{aligned} \]</div></div>
<div class="paragraph"><p>For each component this is applied to, the
<code>VK_COMPONENT_SWIZZLE_IDENTITY</code> swizzle selects the corresponding
component from <span class="eq">C<sub>rgba</sub></span>.</p></div>
<div class="paragraph"><p>If the border color is one of the <code>VK_BORDER_COLOR_*_OPAQUE_BLACK</code> enums
and the <code><a href="#VkComponentSwizzle">VkComponentSwizzle</a></code> is not <code>VK_COMPONENT_SWIZZLE_IDENTITY</code>
for all components (or the
<a href="#resources-image-views-identity-mappings">equivalent identity mapping</a>),
the value of the texel after swizzle is undefined.</p></div>
</div>
<div class="sect3">
<h4 id="textures-sparse-residency">15.3.7. Sparse Residency</h4>
<div class="paragraph"><p><code>OpImageSparse</code>* instructions return a structure which includes a
<em>residency code</em> indicating whether any texels accessed by the instruction
are sparse unbound texels.
This code <span role="normative">can</span> be interpreted by the <code>OpImageSparseTexelsResident</code>
instruction which converts the residency code to a boolean value.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_texel_output_operations">15.4. Texel Output Operations</h3>
<div class="paragraph"><p><em>Texel output instructions</em> are SPIR-V image instructions that write to an
image.
<em>Texel output operations</em> are a set of steps that are performed on state,
coordinates, and texel values while processing a texel output instruction,
and which are common to some or all texel output instructions.
They include the following steps, which are performed in the listed order:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="#textures-output-validation">Validation operations</a>
</p>
<div class="ulist"><ul>
<li>
<p>
<a href="#textures-format-validation">Format validation</a>
</p>
</li>
<li>
<p>
<a href="#textures-output-coordinate-validation">Coordinate validation</a>
</p>
</li>
<li>
<p>
<a href="#textures-output-sparse-validation">Sparse validation</a>
</p>
</li>
</ul></div>
</li>
<li>
<p>
<a href="#textures-output-format-conversion">Texel output format conversion</a>
</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="textures-output-validation">15.4.1. Texel Output Validation Operations</h4>
<div class="paragraph"><p><em>Texel output validation operations</em> inspect instruction/image state or
coordinates, and in certain circumstances cause the write to have no effect.
There are a series of validations that the texel undergoes.</p></div>
<div class="sect4">
<h5 id="textures-format-validation">Texel Format Validation</h5>
<div class="paragraph"><p>If the image format of the <code>OpTypeImage</code> is not compatible with the
<code>VkImageView</code>&#8217;s <code>format</code>, the effect of the write on the image
view&#8217;s memory is undefined, but the write <span role="normative">must</span> not access memory outside of
the image view.</p></div>
</div>
</div>
<div class="sect3">
<h4 id="textures-output-coordinate-validation">15.4.2. Integer Texel Coordinate Validation</h4>
<div class="paragraph"><p>The integer texel coordinates are validated according to the same rules as
for texel input <a href="#textures-integer-coordinate-validation">coordinate validation</a>.</p></div>
<div class="paragraph"><p>If the texel fails integer texel coordinate validation, then the write has
no effect.</p></div>
</div>
<div class="sect3">
<h4 id="textures-output-sparse-validation">15.4.3. Sparse Texel Operation</h4>
<div class="paragraph"><p>If the texel attempts to write to an unbound region of a sparse image, the
texel is a sparse unbound texel.
In such a case, if the <code>VkPhysicalDeviceSparseProperties</code> property
<code>residencyNonResidentStrict</code> is <code>VK_TRUE</code>, the sparse unbound texel
write has no effect.
If <code>residencyNonResidentStrict</code> is <code>VK_FALSE</code>, the effect of the
write is undefined but <span role="normative">must</span> be safe.
In addition, the write <span role="normative">may</span> have a side effect that is visible to other
image instructions, but <span role="normative">must</span> not be written to any device memory
allocation.</p></div>
</div>
<div class="sect3">
<h4 id="textures-output-format-conversion">15.4.4. Texel Output Format Conversion</h4>
<div class="paragraph"><p>Texels undergo a format conversion from the floating point, signed, or
unsigned integer type of the texel data to the <code><a href="#VkFormat">VkFormat</a></code> of the image
view.
Any unused components are ignored.</p></div>
<div class="paragraph"><p>Each component is converted based on its type and size (as defined in the
<a href="#features-formats-definition">Format Definition</a> section for each
<code><a href="#VkFormat">VkFormat</a></code>), using the appropriate equations in
<a href="#fundamentals-fp16">16-Bit Floating-Point Numbers</a> and
<a href="#fundamentals-fixedconv">Fixed-Point Data Conversion</a>.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_derivative_operations">15.5. Derivative Operations</h3>
<div class="paragraph"><p>SPIR-V derivative instructions include <code>OpDPdx</code>, <code>OpDPdy</code>,
<code>OpDPdxFine</code>, <code>OpDPdyFine</code>, <code>OpDPdxCoarse</code>, and <code>OpDPdyCoarse</code>.
Derivative instructions are only available in a fragment shader.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/vulkantexture2.png" alt="images/vulkantexture2.png" width="800">
</div>
<div class="title">Figure 4. Implicit Derivatives</div>
</div>
<div class="paragraph"><p>Derivatives are computed as if there is a 2x2 neighborhood of fragments for
each fragment shader invocation.
These neighboring fragments are used to compute derivatives with the
assumption that the values of P in the neighborhood are piecewise linear.
It is further assumed that the values of P in the neighborhood are locally
continuous, therefore derivatives in non-uniform control flow are undefined.</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
dPdx_{i_1,j_0} & = dPdx_{i_0,j_0} & = P_{i_1,j_0} - P_{i_0,j_0}  \\
dPdx_{i_1,j_1} & = dPdx_{i_0,j_1} & = P_{i_1,j_1} - P_{i_0,j_1}  \\
\\
dPdy_{i_0,j_1} & = dPdy_{i_0,j_0} & = P_{i_0,j_1} - P_{i_0,j_0}  \\
dPdy_{i_1,j_1} & = dPdy_{i_1,j_0} & = P_{i_1,j_1} - P_{i_1,j_0}
\end{aligned} \]</div></div>
<div class="paragraph"><p>The <code>Fine</code> derivative instructions <span role="normative">must</span> return the values above, for a
group of fragments in a 2x2 neighborhood.
Coarse derivatives <span role="normative">may</span> return only two values.
In this case, the values <span role="normative">should</span> be:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
dPdx & =
  \begin{cases}
    dPdx_{i_0,j_0} & \text{preferred}\\
    dPdx_{i_0,j_1}
  \end{cases} \\
dPdy & =
  \begin{cases}
    dPdy_{i_0,j_0} & \text{preferred}\\
    dPdy_{i_1,j_0}
  \end{cases}
\end{aligned} \]</div></div>
<div class="paragraph"><p><code>OpDPdx</code> and <code>OpDPdy</code> <span role="normative">must</span> return the same result as either
<code>OpDPdxFine</code> or <code>OpDPdxCoarse</code> and either <code>OpDPdyFine</code> or
<code>OpDPdyCoarse</code>, respectively.
Implementations <span role="normative">must</span> make the same choice of either coarse or fine for both
<code>OpDPdx</code> and <code>OpDPdy</code>, and implementations <span role="normative">should</span> make the choice
that is more efficient to compute.</p></div>
</div>
<div class="sect2">
<h3 id="textures-normalized-operations">15.6. Normalized Texel Coordinate Operations</h3>
<div class="paragraph"><p>If the image sampler instruction provides normalized texel coordinates, some
of the following operations are performed.</p></div>
<div class="sect3">
<h4 id="textures-projection">15.6.1. Projection Operation</h4>
<div class="paragraph"><p>For <code>Proj</code> image operations, the normalized texel coordinates
<span class="eq">(s,t,r,q,a)</span> and (if present) the <span class="eq">D<sub>ref</sub></span> coordinate are
transformed as follows:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
s       & = \frac{s}{q},       & \text{for 1D, 2D, or 3D image} \\
\\
t       & = \frac{t}{q},       & \text{for 2D or 3D image} \\
\\
r       & = \frac{r}{q},       & \text{for 3D image} \\
\\
D_{ref} & = \frac{D_{ref}}{q}, & \text{if provided}
\end{aligned} \]</div></div>
</div>
<div class="sect3">
<h4 id="_derivative_image_operations">15.6.2. Derivative Image Operations</h4>
<div class="paragraph"><p>Derivatives are used for level-of-detail selection.
These derivatives are either implicit (in an <code>ImplicitLod</code> image
instruction in a fragment shader) or explicit (provided explicitly by shader
to the image instruction in any shader).</p></div>
<div class="paragraph"><p>For implicit derivatives image instructions, the derivatives of texel
coordinates are calculated in the same manner as derivative operations
above.
That is:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\partial{s}/\partial{x} & = dPdx(s), & \partial{s}/\partial{y} & = dPdy(s), & \text{for 1D, 2D, Cube, or 3D image} \\
\partial{t}/\partial{x} & = dPdx(t), & \partial{t}/\partial{y} & = dPdy(t), & \text{for 2D, Cube, or 3D image} \\
\partial{u}/\partial{x} & = dPdx(u), & \partial{u}/\partial{y} & = dPdy(u), & \text{for Cube or 3D image}
\end{aligned} \]</div></div>
<div class="paragraph"><p>Partial derivatives not defined above for certain image dimensionalities are
set to zero.</p></div>
<div class="paragraph"><p>For explicit level-of-detail image instructions, if the <span role="normative">optional</span> SPIR-V
operand <span class="eq">Grad</span> is provided, then the operand values are used for the
derivatives.
The number of components present in each derivative for a given image
dimensionality matches the number of partial derivatives computed above.</p></div>
<div class="paragraph"><p>If the <span role="normative">optional</span> SPIR-V operand <span class="eq">Lod</span> is provided, then derivatives are
set to zero, the cube map derivative transformation is skipped, and the
scale factor operation is skipped.
Instead, the floating point scalar coordinate is directly assigned to
<span class="eq">&#x03bb;<sub>base</sub></span> as described in
<a href="#textures-level-of-detail-operation">Level-of-Detail Operation</a>.</p></div>
</div>
<div class="sect3">
<h4 id="_cube_map_face_selection_and_transformations">15.6.3. Cube Map Face Selection and Transformations</h4>
<div class="paragraph"><p>For cube map image instructions, the <span class="eq">(s,t,r)</span> coordinates are treated
as a direction vector <span class="eq">(r<sub>x</sub>,r<sub>y</sub>,r<sub>z</sub>)</span>.
The direction vector is used to select a cube map face.
The direction vector is transformed to a per-face texel coordinate system
<span class="eq">(s<sub>face</sub>,t<sub>face</sub>)</span>, The direction vector is also used to transform the
derivatives to per-face derivatives.</p></div>
</div>
<div class="sect3">
<h4 id="_cube_map_face_selection">15.6.4. Cube Map Face Selection</h4>
<div class="paragraph"><p>The direction vector selects one of the cube map&#8217;s faces based on the
largest magnitude coordinate direction (the major axis direction).
Since two or more coordinates <span role="normative">can</span> have identical magnitude, the
implementation <span role="normative">must</span> have rules to disambiguate this situation.</p></div>
<div class="paragraph"><p>The rules <span role="normative">should</span> have as the first rule that <span class="eq">r<sub>z</sub></span> wins over
<span class="eq">r<sub>y</sub></span> and <span class="eq">r<sub>x</sub></span>, and the second rule that <span class="eq">r<sub>y</sub></span> wins over
<span class="eq">r<sub>x</sub></span>.
An implementation <span role="normative">may</span> choose other rules, but the rules <span role="normative">must</span> be
deterministic and depend only on <span class="eq">(r<sub>x</sub>,r<sub>y</sub>,r<sub>z</sub>)</span>.</p></div>
<div class="paragraph"><p>The layer number (corresponding to a cube map face), the coordinate
selections for <span class="eq">s<sub>c</sub></span>, <span class="eq">t<sub>c</sub></span>, <span class="eq">r<sub>c</sub></span>, and the selection of
derivatives, are determined by the major axis direction as specified in the
following two tables.</p></div>
<table class="tableblock frame-all grid-all"
style="
width:75%;
">
<caption class="title">Table 18. Cube map face and coordinate selection</caption>
<col style="width:16%;">
<col style="width:16%;">
<col style="width:16%;">
<col style="width:16%;">
<col style="width:16%;">
<col style="width:16%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Major Axis Direction </th>
<th class="tableblock halign-left valign-top" > Layer Number </th>
<th class="tableblock halign-left valign-top" > Cube Map Face </th>
<th class="tableblock halign-left valign-top" > <span class="eq">s<sub>c</sub></span>  </th>
<th class="tableblock halign-left valign-top" > <span class="eq">t<sub>c</sub></span>  </th>
<th class="tableblock halign-left valign-top" > <span class="eq">r<sub>c</sub></span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">0</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Positive X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">r<sub>x</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">1</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Negative X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">r<sub>x</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Positive Y</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">r<sub>y</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">3</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Negative Y</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">r<sub>y</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">4</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Positive Z</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">r<sub>z</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">5</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Negative Z</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">r<sub>z</sub></span></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all"
style="
width:75%;
">
<caption class="title">Table 19. Cube map derivative selection</caption>
<col style="width:14%;">
<col style="width:14%;">
<col style="width:14%;">
<col style="width:14%;">
<col style="width:14%;">
<col style="width:14%;">
<col style="width:14%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Major Axis Direction </th>
<th class="tableblock halign-left valign-top" > <span class="eq">&#x2202;s<sub>c</sub> / &#x2202;x</span> </th>
<th class="tableblock halign-left valign-top" > <span class="eq">&#x2202;s<sub>c</sub> / &#x2202;y</span> </th>
<th class="tableblock halign-left valign-top" > <span class="eq">&#x2202;t<sub>c</sub> / &#x2202;x</span> </th>
<th class="tableblock halign-left valign-top" > <span class="eq">&#x2202;t<sub>c</sub> / &#x2202;y</span> </th>
<th class="tableblock halign-left valign-top" > <span class="eq">&#x2202;r<sub>c</sub> / &#x2202;x</span> </th>
<th class="tableblock halign-left valign-top" > <span class="eq">&#x2202;r<sub>c</sub> / &#x2202;y</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>z</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>z</sub> / &#x2202;y</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>y</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>y</sub> / &#x2202;y</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>x</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>x</sub> / &#x2202;y</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>z</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>z</sub> / &#x2202;y</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>y</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>y</sub> / &#x2202;y</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>x</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>x</sub> / &#x2202;y</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>x</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>x</sub> / &#x2202;y</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>z</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>z</sub> / &#x2202;y</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>y</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>y</sub> / &#x2202;y</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>x</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>x</sub> / &#x2202;y</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>z</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>z</sub> / &#x2202;y</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>y</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>y</sub> / &#x2202;y</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>x</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>x</sub> / &#x2202;y</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>y</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>y</sub> / &#x2202;y</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>z</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">+&#x2202;r<sub>z</sub> / &#x2202;y</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>x</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>x</sub> / &#x2202;y</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>y</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>y</sub> / &#x2202;y</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>z</sub> / &#x2202;x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">-&#x2202;r<sub>z</sub> / &#x2202;y</span></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_cube_map_coordinate_transformation">15.6.5. Cube Map Coordinate Transformation</h4>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
s_{face} & =
    \frac{1}{2} \times \frac{s_c}{|r_c|} + \frac{1}{2} \\
t_{face} & =
    \frac{1}{2} \times \frac{t_c}{|r_c|} + \frac{1}{2} \\
\end{aligned} \]</div></div>
</div>
<div class="sect3">
<h4 id="_cube_map_derivative_transformation">15.6.6. Cube Map Derivative Transformation</h4>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\frac{\partial{s_{face}}}{\partial{x}} &=
    \frac{\partial}{\partial{x}} \left ( \frac{1}{2} \times \frac{s_{c}}{|r_{c}|}
    + \frac{1}{2}\right ) \\
\frac{\partial{s_{face}}}{\partial{x}} &=
    \frac{1}{2} \times \frac{\partial}{\partial{x}}
    \left ( \frac{s_{c}}{|r_{c}|}  \right ) \\
\frac{\partial{s_{face}}}{\partial{x}} &=
    \frac{1}{2} \times
    \left (
    \frac{
      |r_{c}| \times \partial{s_c}/\partial{x}
      -s_c \times {\partial{r_{c}}}/{\partial{x}}}
    {\left ( r_{c} \right )^2}
    \right )
\end{aligned} \]</div></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\frac{\partial{s_{face}}}{\partial{y}} &=
    \frac{1}{2} \times
    \left (
    \frac{
      |r_{c}| \times \partial{s_c}/\partial{y}
      -s_c \times {\partial{r_{c}}}/{\partial{y}}}
    {\left ( r_{c} \right )^2}
    \right )\\
\frac{\partial{t_{face}}}{\partial{x}} &=
    \frac{1}{2} \times
    \left (
    \frac{
      |r_{c}| \times \partial{t_c}/\partial{x}
      -t_c \times {\partial{r_{c}}}/{\partial{x}}}
    {\left ( r_{c} \right )^2}
    \right ) \\
\frac{\partial{t_{face}}}{\partial{y}} &=
    \frac{1}{2} \times
    \left (
    \frac{
       |r_{c}| \times \partial{t_c}/\partial{y}
      -t_c \times {\partial{r_{c}}}/{\partial{y}}}
    {\left ( r_{c} \right )^2}
    \right )
\end{aligned} \]</div></div>
</div>
<div class="sect3">
<h4 id="_scale_factor_operation_level_of_detail_operation_and_image_level_s_selection">15.6.7. Scale Factor Operation, Level-of-Detail Operation and Image Level(s) Selection</h4>
<div class="paragraph"><p>Level-of-detail selection <span role="normative">can</span> be either explicit (provided explicitly by
the image instruction) or implicit (determined from a scale factor
calculated from the derivatives).</p></div>
<div class="sect4">
<h5 id="textures-scale-factor">Scale Factor Operation</h5>
<div class="paragraph"><p>The magnitude of the derivatives are calculated by:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">m<sub>ux</sub> = &#x007c;&#x2202;s/&#x2202;x&#x007c; &#x00d7; w<sub>base</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">m<sub>vx</sub> = &#x007c;&#x2202;t/&#x2202;x&#x007c; &#x00d7; h<sub>base</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">m<sub>wx</sub> = &#x007c;&#x2202;r/&#x2202;x&#x007c; &#x00d7; d<sub>base</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">m<sub>uy</sub> = &#x007c;&#x2202;s/&#x2202;y&#x007c; &#x00d7; w<sub>base</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">m<sub>vy</sub> = &#x007c;&#x2202;t/&#x2202;y&#x007c; &#x00d7; h<sub>base</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">m<sub>wy</sub> = &#x007c;&#x2202;r/&#x2202;y&#x007c; &#x00d7; d<sub>base</sub></span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>where:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">&#x2202;t/&#x2202;x = &#x2202;t/&#x2202;y = 0</span> (for 1D images)
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">&#x2202;r/&#x2202;x = &#x2202;r/&#x2202;y = 0</span> (for 1D, 2D or
     Cube images)
</p>
</dd>
</dl></div>
<div class="paragraph"><p>and</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">w<sub>base</sub> = image.w</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">h<sub>base</sub> = image.h</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">d<sub>base</sub> = image.d</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>(for the <code>baseMipLevel</code>, from the image descriptor).</p></div>
<div class="paragraph"><p>A point sampled in screen space has an elliptical footprint in texture
space.
The minimum and maximum scale factors <span class="eq">(&#x03c1;<sub>min</sub>, &#x03c1;<sub>max</sub>)</span> <span role="normative">should</span>
be the minor and major axes of this ellipse.</p></div>
<div class="paragraph"><p>The <em>scale factors</em> <span class="eq">&#x03c1;<sub>x</sub></span> and <span class="eq">&#x03c1;<sub>y</sub></span>, calculated from the
magnitude of the derivatives in x and y, are used to compute the minimum and
maximum scale factors.</p></div>
<div class="paragraph"><p><span class="eq">&#x03c1;<sub>x</sub></span> and <span class="eq">&#x03c1;<sub>y</sub></span> <span role="normative">may</span> be approximated with functions
<span class="eq">f<sub>x</sub></span> and <span class="eq">f<sub>y</sub></span>, subject to the following constraints:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
& f_x \textrm{ is continuous and monotonically increasing in each of }
    m_{ux},
    m_{vx}, \textrm{ and }
    m_{wx} \\
& f_y \textrm{ is continuous and monotonically increasing in each of }
    m_{uy},
    m_{vy}, \textrm{ and }
    m_{wy}
\end{aligned} \]
\[ \begin{aligned}
\max(|m_{ux}|, |m_{vx}|, |m_{wx}|) \leq f_{x}
\leq \sqrt{2} (|m_{ux}| + |m_{vx}| + |m_{wx}|) \\
\max(|m_{uy}|, |m_{vy}|, |m_{wy}|) \leq f_{y}
\leq \sqrt{2} (|m_{uy}| + |m_{vy}| + |m_{wy}|)
\end{aligned} \]</div></div>
<div class="paragraph"><p>The minimum and maximum scale factors <span class="eq">(&#x03c1;<sub>min</sub>,&#x03c1;<sub>max</sub>)</span> are
determined by:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">&#x03c1;<sub>max</sub> = max(&#x03c1;<sub>x</sub>, &#x03c1;<sub>y</sub>)</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">&#x03c1;<sub>min</sub> = min(&#x03c1;<sub>x</sub>, &#x03c1;<sub>y</sub>)</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>The sampling rate is determined by:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
N & = \min \left (\left \lceil \frac{\rho_{max}}{\rho_{min}}  \right \rceil ,max_{Aniso} \right )
\end{aligned} \]</div></div>
<div class="paragraph"><p>where:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">sampler.max<sub>Aniso</sub> = <code>maxAnisotropy</code></span> (from sampler
     descriptor)
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">limits.max<sub>Aniso</sub> = <code>maxSamplerAnisotropy</code></span> (from physical
     device limits)
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">max<sub>Aniso</sub> = min(sampler.max<sub>Aniso</sub>, limits.max<sub>Aniso</sub>)</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>If <span class="eq">&#x03c1;<sub>max</sub> = &#x03c1;<sub>min</sub> = 0</span>, then all the partial derivatives are
zero, the fragment&#8217;s footprint in texel space is a point, and <span class="eq">N</span>
<span role="normative">should</span> be treated as 1.
If <span class="eq">&#x03c1;<sub>max</sub> &#x2260; 0</span> and <span class="eq">&#x03c1;<sub>min</sub> = 0</span> then all partial
derivatives along one axis are zero, the fragment&#8217;s footprint in texel space
is a line segment, and <span class="eq">N</span> <span role="normative">should</span> be treated as <span class="eq">max<sub>Aniso</sub></span>.
However, anytime the footprint is small in texel space the implementation
<span role="normative">may</span> use a smaller value of <span class="eq">N</span>, even when <span class="eq">&#x03c1;<sub>min</sub></span> is zero or
close to zero.</p></div>
<div class="paragraph"><p>An implementation <span role="normative">may</span> round <span class="eq">N</span> up to the nearest supported sampling
rate.</p></div>
<div class="paragraph"><p>If <span class="eq">N = 1</span>, sampling is isotropic.
If <span class="eq">N &gt; 1</span>, sampling is anisotropic.</p></div>
</div>
<div class="sect4">
<h5 id="textures-level-of-detail-operation">Level-of-Detail Operation</h5>
<div class="paragraph"><p>The <em>level-of-detail</em> parameter <span class="eq">&#x03bb;</span> is computed as follows:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\lambda_{base}(x,y) & =
  \begin{cases}
    shaderOp.Lod                                 & \text{(from optional SPIR-V operand)} \\
    \log_2 \left ( \frac{\rho_{max}}{N} \right ) & \text{otherwise}
  \end{cases} \\
\lambda'(x,y)       & = \lambda_{base} + \mathop{clamp}(sampler.bias + shaderOp.bias,-maxSamplerLodBias,maxSamplerLodBias) \\
\lambda             & =
  \begin{cases}
    lod_{max}, & \lambda' > lod_{max} \\
    \lambda',  & lod_{min} \leq \lambda' \leq lod_{max} \\
    lod_{min}, & \lambda' < lod_{min} \\
    undefined, & lod_{min} > lod_{max} \\
  \end{cases}
\end{aligned} \]</div></div>
<div class="paragraph"><p>where:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
sampler.bias       & = mipLodBias & \text{(from sampler descriptor)} \\
shaderOp.bias      & =
  \begin{cases}
    Bias & \text{(from optional SPIR-V operand)} \\
    0    & \text{otherwise}
  \end{cases} \\
sampler.lod_{min}  & = minLod & \text{(from sampler descriptor)} \\
shaderOp.lod_{min} & =
  \begin{cases}
    MinLod & \text{(from optional SPIR-V operand)} \\
    0      & \text{otherwise}
  \end{cases} \\
\\
lod_{min}          & = \max(sampler.lod_{min}, shaderOp.lod_{min}) \\
lod_{max}          & = maxLod & \text{(from sampler descriptor)}
\end{aligned} \]</div></div>
<div class="paragraph"><p>and <span class="eq">maxSamplerLodBias</span> is the value of the <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>
feature <a href="#features-limits-maxSamplerLodBias"><code>maxSamplerLodBias</code></a>.</p></div>
</div>
<div class="sect4">
<h5 id="textures-image-level-selection">Image Level(s) Selection</h5>
<div class="paragraph"><p>The image level(s) <span class="eq">d</span>, <span class="eq">d<sub>hi</sub></span>, and <span class="eq">d<sub>lo</sub></span> which texels are
read from are selected based on the level-of-detail parameter, as follows.
If the sampler&#8217;s <code>mipmapMode</code> is <code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code>,
then level d is used:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
d =
  \begin{cases}
    level_{base},     & \lambda \leq \frac{1}{2} \\[.5em]
    nearest(\lambda), & \lambda > \frac{1}{2},
                        level_{base} + \lambda \leq
                        q + \frac{1}{2} \\[.5em]
    q,                & \lambda > \frac{1}{2},
                        level_{base} + \lambda > q + \frac{1}{2}
  \end{cases}
\end{aligned} \]</div></div>
<div class="paragraph"><p>where:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
nearest(\lambda) & =
  \begin{cases}
    \left \lceil level_{base}+\lambda + \frac{1}{2}\right \rceil - 1, &
        \text{preferred} \\
    \left \lfloor level_{base}+\lambda + \frac{1}{2}\right \rfloor,   &
        \text{alternative}
  \end{cases}
\end{aligned} \]</div></div>
<div class="paragraph"><p>and</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">q = <code>levelCount</code> - 1</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p><code>levelCount</code> is taken from the <code>subresourceRange</code> of the image view.</p></div>
<div class="paragraph"><p>If the sampler&#8217;s <code>mipmapMode</code> is <code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code>,
two neighboring levels are selected:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
d_{hi} & =
  \begin{cases}
    q,                                                 & level_{base} + \lambda \geq q \\
    \left \lfloor level_{base}+\lambda \right \rfloor, & \text{otherwise}
  \end{cases} \\
d_{lo} & =
  \begin{cases}
    q,        & level_{base} + \lambda \geq q \\
    d_{hi}+1, & \text{otherwise}
  \end{cases}
\end{aligned} \]</div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">&#x03b4; = frac(&#x03bb;)</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>is the fractional value used for <a href="#textures-texel-filtering">linear filtering</a> between levels.</p></div>
</div>
</div>
<div class="sect3">
<h4 id="textures-normalized-to-unnormalized">15.6.8. (s,t,r,q,a) to (u,v,w,a) Transformation</h4>
<div class="paragraph"><p>The normalized texel coordinates are scaled by the image level dimensions
and the array layer is selected.
This transformation is performed once for each level (<span class="eq">d</span> or <span class="eq">d<sub>hi</sub></span>
and <span class="eq">d<sub>lo</sub></span>) used in <a href="#textures-texel-filtering">filtering</a>.</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
u(x,y) & = s(x,y) \times width_{level} \\
v(x,y) & =
  \begin{cases}
    0                         & \text{for 1D images} \\
    t(x,y) \times height_{level} & \text{otherwise}
  \end{cases} \\
w(x,y) & =
  \begin{cases}
    0                         & \text{for 2D or Cube images} \\
    r(x,y) \times depth_{level}  & \text{otherwise}
  \end{cases} \\
\\
a(x,y) & =
  \begin{cases}
    a(x,y)                    & \text{for array images} \\
    0                         & \text{otherwise}
  \end{cases}
\end{aligned} \]</div></div>
<div class="paragraph"><p>Operations then proceed to Unnormalized Texel Coordinate Operations.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_unnormalized_texel_coordinate_operations">15.7. Unnormalized Texel Coordinate Operations</h3>
<div class="sect3">
<h4 id="textures-unnormalized-to-integer">15.7.1. (u,v,w,a) to (i,j,k,l,n) Transformation And Array Layer Selection</h4>
<div class="paragraph"><p>The unnormalized texel coordinates are transformed to integer texel
coordinates relative to the selected mipmap level.</p></div>
<div class="paragraph"><p>The layer index <span class="eq">l</span> is computed as:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">l = clamp(RNE(a), 0, <code>layerCount</code> - 1) + <code>baseArrayLayer</code></span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>where <code>layerCount</code> is the number of layers in the image subresource
range of the image view, <code>baseArrayLayer</code> is the first layer from the
subresource range, and where:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\mathop{RNE}(a) & =
  \begin{cases}
    \mathop{roundTiesToEven}(a)                  & \text{preferred, from IEEE Std 754-2008 Floating-Point Arithmetic} \\
    \left \lfloor a + \frac{1}{2} \right \rfloor & \text{alternative}
  \end{cases}
\end{aligned} \]</div></div>
<div class="paragraph"><p>The sample index n is assigned the value zero.</p></div>
<div class="paragraph"><p>Nearest filtering (<code>VK_FILTER_NEAREST</code>) computes the integer texel
coordinates that the unnormalized coordinates lie within:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">i = &#x230a; u &#x230b;</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">j = &#x230a; v &#x230b;</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">k = &#x230a; w &#x230b;</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Linear filtering (<code>VK_FILTER_LINEAR</code>) computes a set of neighboring
coordinates which bound the unnormalized coordinates.
The integer texel coordinates are combinations of <span class="eq">i<sub>0</sub></span> or <span class="eq">i<sub>1</sub></span>,
<span class="eq">j<sub>0</sub></span> or <span class="eq">j<sub>1</sub></span>, <span class="eq">k<sub>0</sub></span> or <span class="eq">k<sub>1</sub></span>, as well as weights
<span class="eq">&#x03b1;, &#x03b2;</span>, and <span class="eq">&#x03b3;</span>.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">i<sub>0</sub> = &#x230a;u - &#x00bd;&#x230b;</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">i<sub>1</sub> = i<sub>0</sub> + 1</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">j<sub>0</sub> = &#x230a;v - &#x00bd;&#x230b;</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">j<sub>1</sub> = j<sub>0</sub> + 1</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">k<sub>0</sub> = &#x230a;w - &#x00bd;&#x230b;</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">k<sub>1</sub> = k<sub>0</sub> + 1</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">&#x03b1; = frac(u - &#x00bd;)</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">&#x03b2; = frac(v - &#x00bd;)</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">&#x03b3; = frac(w - &#x00bd;)</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>If the image instruction includes a <span class="eq">ConstOffset</span> operand, the constant
offsets <span class="eq">(&#x0394;<sub>i</sub>, &#x0394;<sub>j</sub>, &#x0394;<sub>k</sub>)</span> are added
to <span class="eq">(i,j,k)</span> components of the integer texel coordinates.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="textures-sample-operations">15.8. Image Sample Operations</h3>
<div class="sect3">
<h4 id="textures-wrapping-operation">15.8.1. Wrapping Operation</h4>
<div class="paragraph"><p><code>Cube</code> images ignore the wrap modes specified in the sampler.
Instead, if <code>VK_FILTER_NEAREST</code> is used within a mip level then
<code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code> is used, and if
<code>VK_FILTER_LINEAR</code> is used within a mip level then sampling at the edges
is performed as described earlier in the <a href="#textures-cubemapedge">Cube map edge handling</a> section.</p></div>
<div class="paragraph"><p>The first integer texel coordinate i is transformed based on the
<code>addressModeU</code> parameter of the sampler.</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
i &=
  \begin{cases}
    i \bmod size                                & \text{for repeat} \\
    (size - 1) - \mathop{mirror}
        ((i \bmod (2 \times size)) - size)      & \text{for mirrored repeat} \\
    \mathop{clamp}(i,0,size-1)                  & \text{for clamp to edge} \\
    \mathop{clamp}(i,-1,size)                   & \text{for clamp to border} \\
    \mathop{clamp}(\mathop{mirror}(i),0,size-1) & \text{for mirror clamp to edge}
  \end{cases}
\end{aligned} \]</div></div>
<div class="paragraph"><p>where:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
& \mathop{mirror}(n) =
  \begin{cases}
    n      & \text{for } n \geq 0 \\
    -(1+n) & \text{otherwise}
  \end{cases}
\end{aligned} \]</div></div>
<div class="paragraph"><p><span class="eq">j</span> (for 2D and Cube image) and <span class="eq">k</span> (for 3D image) are similarly
transformed based on the <code>addressModeV</code> and <code>addressModeW</code>
parameters of the sampler, respectively.</p></div>
</div>
<div class="sect3">
<h4 id="textures-gather">15.8.2. Texel Gathering</h4>
<div class="paragraph"><p>SPIR-V instructions with <code>Gather</code> in the name return a vector derived
from a 2x2 rectangular region of texels in the base level of the image view.
The rules for the <code>VK_FILTER_LINEAR</code> minification filter are applied to
identify the four selected texels.
Each texel is then converted to an RGBA value according to
<a href="#textures-conversion-to-rgba">conversion to RGBA</a> and then
<a href="#textures-component-swizzle">swizzled</a>.
A four-component vector is then assembled by taking the component indicated
by the <code>Component</code> value in the instruction from the swizzled color value
of the four texels:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\tau[R] &= \tau_{i0j1}[level_{base}][comp] \\
\tau[G] &= \tau_{i1j1}[level_{base}][comp] \\
\tau[B] &= \tau_{i1j0}[level_{base}][comp] \\
\tau[A] &= \tau_{i0j0}[level_{base}][comp]
\end{aligned} \]</div></div>
<div class="paragraph"><p>where:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\tau[level_{base}][comp] &=
  \begin{cases}
    \tau[level_{base}][R], & \text{for } comp = 0 \\
    \tau[level_{base}][G], & \text{for } comp = 1 \\
    \tau[level_{base}][B], & \text{for } comp = 2 \\
    \tau[level_{base}][A], & \text{for } comp = 3
  \end{cases}\\
comp & \,\text{from SPIR-V operand Component}
\end{aligned} \]</div></div>
</div>
<div class="sect3">
<h4 id="textures-texel-filtering">15.8.3. Texel Filtering</h4>
<div class="paragraph"><p>If <span class="eq">&#x03bb;</span> is less than or equal to zero, the texture is said to be
<em>magnified</em>, and the filter mode within a mip level is selected by the
<code>magFilter</code> in the sampler.
If <span class="eq">&#x03bb;</span> is greater than zero, the texture is said to be
<em>minified</em>, and the filter mode within a mip level is selected by the
<code>minFilter</code> in the sampler.</p></div>
<div class="paragraph"><p>Within a mip level, <code>VK_FILTER_NEAREST</code> filtering selects a single value
using the <span class="eq">(i, j, k)</span> texel coordinates, with all texels taken from
layer l.</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\tau[level] &=
  \begin{cases}
     \tau_{ijk}[level], & \text{for 3D image} \\
     \tau_{ij}[level],  & \text{for 2D or Cube image} \\
     \tau_{i}[level],   & \text{for 1D image}
   \end{cases}
\end{aligned} \]</div></div>
<div class="paragraph"><p>Within a mip level, <code>VK_FILTER_LINEAR</code> filtering computes a weighted
average of 8 (for 3D), 4 (for 2D or Cube), or 2 (for 1D) texel values, using
the weights computed earlier:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\tau_{3D}[level] & = (1-\alpha)(1-\beta)(1-\gamma)\tau_{i0j0k0}[level] \\
          & \, + (\alpha)(1-\beta)(1-\gamma)\tau_{i1j0k0}[level] \\
          & \, + (1-\alpha)(\beta)(1-\gamma)\tau_{i0j1k0}[level] \\
          & \, + (\alpha)(\beta)(1-\gamma)\tau_{i1j1k0}[level]   \\
          & \, + (1-\alpha)(1-\beta)(\gamma)\tau_{i0j0k1}[level] \\
          & \, + (\alpha)(1-\beta)(\gamma)\tau_{i1j0k1}[level]   \\
          & \, + (1-\alpha)(\beta)(\gamma)\tau_{i0j1k1}[level]   \\
          & \, + (\alpha)(\beta)(\gamma)\tau_{i1j1k1}[level]
\end{aligned} \]</div></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\tau_{2D}[level] & = (1-\alpha)(1-\beta)\tau_{i0j0}[level] \\
          & \, + (\alpha)(1-\beta)\tau_{i1j0}[level] \\
          & \, + (1-\alpha)(\beta)\tau_{i0j1}[level] \\
          & \, + (\alpha)(\beta)\tau_{i1j1}[level]
\end{aligned} \]</div></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\tau_{1D}[level] & = (1-\alpha)\tau_{i0}[level] \\
          & \, + (\alpha)\tau_{i1}[level]
\end{aligned} \]</div></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\tau[level] &=
  \begin{cases}
     \tau_{3D}[level], & \text{for 3D image} \\
     \tau_{2D}[level], & \text{for 2D or Cube image} \\
     \tau_{1D}[level], & \text{for 1D image}
   \end{cases}
\end{aligned} \]</div></div>
<div class="paragraph"><p>Finally, mipmap filtering either selects a value from one mip level or
computes a weighted average between neighboring mip levels:</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\tau &=
  \begin{cases}
    \tau[d], & \text{for mip mode BASE or NEAREST} \\
    (1-\delta)\tau[d_{hi}]+\delta\tau[d_{lo}], & \text{for mip mode LINEAR}
  \end{cases}
\end{aligned} \]</div></div>
</div>
<div class="sect3">
<h4 id="textures-texel-anisotropic-filtering">15.8.4. Texel Anisotropic Filtering</h4>
<div class="paragraph"><p>Anisotropic filtering is enabled by the <code>anisotropyEnable</code> in the
sampler.
When enabled, the image filtering scheme accounts for a degree of
anisotropy.</p></div>
<div class="paragraph"><p>The particular scheme for anisotropic texture filtering is implementation
dependent.
Implementations <span role="normative">should</span> consider the <code>magFilter</code>, <code>minFilter</code> and
<code>mipmapMode</code> of the sampler to control the specifics of the anisotropic
filtering scheme used.
In addition, implementations <span role="normative">should</span> consider <code>minLod</code> and <code>maxLod</code>
of the sampler.</p></div>
<div class="paragraph"><p>The following describes one particular approach to implementing anisotropic
filtering for the 2D Image case, implementations <span role="normative">may</span> choose other methods:</p></div>
<div class="paragraph"><p>Given a <code>magFilter</code>, <code>minFilter</code> of <code>VK_FILTER_LINEAR</code> and a
<code>mipmapMode</code> of <code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code>:</p></div>
<div class="paragraph"><p>Instead of a single isotropic sample, N isotropic samples are be sampled
within the image footprint of the image level <span class="eq">d</span> to approximate an
anisotropic filter.
The sum <span class="eq">&#x03c4;<sub>2Daniso</sub></span> is defined using the single isotropic
<span class="eq">&#x03c4;<sub>2D</sub>(u,v)</span> at level <span class="eq">d</span>.</p></div>
<div class="mathblock">
<div class="content">\[ \begin{aligned}
\tau_{2Daniso} & =
     \frac{1}{N}\sum_{i=1}^{N}
     {\tau_{2D}\left (
       u \left ( x - \frac{1}{2} + \frac{i}{N+1} , y \right ),
         \left ( v \left (x-\frac{1}{2}+\frac{i}{N+1} \right ), y
\right )
     \right )},
     & \text{when } \rho_{x} > \rho_{y} \\
\tau_{2Daniso} &=
     \frac{1}{N}\sum_{i=1}^{N}
     {\tau_{2D}\left (
        u \left  ( x, y - \frac{1}{2} + \frac{i}{N+1} \right ),
          \left ( v \left (x,y-\frac{1}{2}+\frac{i}{N+1} \right )
\right )
     \right )},
     & \text{when } \rho_{y} \geq \rho_{x}
\end{aligned} \]</div></div>
</div>
</div>
<div class="sect2">
<h3 id="textures-instructions">15.9. Image Operation Steps</h3>
<div class="paragraph"><p>Each step described in this chapter is performed by a subset of the image
instructions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Texel Input Validation Operations, Format Conversion, Texel Replacement,
    Conversion to RGBA, and Component Swizzle: Performed by all instructions
    except <code>OpImageWrite</code>.
</p>
</li>
<li>
<p>
Depth Comparison: Performed by <code>OpImage</code>*<code>Dref</code> instructions.
</p>
</li>
<li>
<p>
All Texel output operations: Performed by <code>OpImageWrite</code>.
</p>
</li>
<li>
<p>
Projection: Performed by all <code>OpImage</code>*<code>Proj</code> instructions.
</p>
</li>
<li>
<p>
Derivative Image Operations, Cube Map Operations, Scale Factor
    Operation, Level-of-Detail Operation and Image Level(s) Selection, and
    Texel Anisotropic Filtering: Performed by all <code>OpImageSample</code>* and
    <code>OpImageSparseSample</code>* instructions.
</p>
</li>
<li>
<p>
(s,t,r,q,a) to (u,v,w,a) Transformation, Wrapping, and (u,v,w,a) to
    (i,j,k,l,n) Transformation And Array Layer Selection: Performed by all
    <code>OpImageSample</code>, <code>OpImageSparseSample</code>, and
    <code>OpImage</code>*<code>Gather</code> instructions.
</p>
</li>
<li>
<p>
Texel Gathering: Performed by <code>OpImage</code>*<code>Gather</code> instructions.
</p>
</li>
<li>
<p>
Texel Filtering: Performed by all <code>OpImageSample</code>* and
    <code>OpImageSparseSample</code>* instructions.
</p>
</li>
<li>
<p>
Sparse Residency: Performed by all <code>OpImageSparse</code>* instructions.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="queries">16. Queries</h2>
<div class="sectionbody">
<div class="paragraph"><p><em>Queries</em> provide a mechanism to return information about the processing of
a sequence of Vulkan commands.
Query operations are asynchronous, and as such, their results are not
returned immediately.
Instead, their results, and their availability status, are stored in a
<a href="#queries-pools">Query Pool</a>.
The state of these queries <span role="normative">can</span> be read back on the host, or copied to a
buffer object on the device.</p></div>
<div class="paragraph"><p>The supported query types are <a href="#queries-occlusion">Occlusion Queries</a>,
<a href="#queries-pipestats">Pipeline Statistics Queries</a>, and <a href="#queries-timestamps">Timestamp Queries</a>.</p></div>
<div class="sect2">
<h3 id="queries-pools">16.1. Query Pools</h3>
<div class="paragraph"><p>Queries are managed using <em>query pool</em> objects.
Each query pool is a collection of a specific number of queries of a
particular type.</p></div>
<div class="paragraph"><p>Query pools are represented by <code>VkQueryPool</code> handles:</p></div>
<div class="listingblock">
<a id="VkQueryPool"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>VkQueryPool<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>To create a query pool, call:</p></div>
<div class="listingblock">
<a id="vkCreateQueryPool"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateQueryPool</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkQueryPoolCreateInfo<span style="color: #990000">*</span>                pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkQueryPool<span style="color: #990000">*</span>                                pQueryPool<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that creates the query pool.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code>VkQueryPoolCreateInfo</code> structure containing the number and type of
    queries to be managed by the pool.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
<li>
<p>
<code>pQueryPool</code> is a pointer to a <code>VkQueryPool</code> handle in which the
    resulting query pool object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkQueryPoolCreateInfo</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pQueryPool</code> <span role="normative">must</span> be a pointer to a <code>VkQueryPool</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkQueryPoolCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkQueryPoolCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkQueryPoolCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                  sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                      pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkQueryPoolCreateFlags</span>           flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkQueryType</span>                      queryType<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                         queryCount<span style="color: #990000">;</span>
    <span style="color: #008080">VkQueryPipelineStatisticFlags</span>    pipelineStatistics<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkQueryPoolCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>queryType</code> is the type of queries managed by the pool, and <span role="normative">must</span> be
    one of the values
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkQueryType"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkQueryType <span style="color: #FF0000">{</span>
    VK_QUERY_TYPE_OCCLUSION <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_QUERY_TYPE_PIPELINE_STATISTICS <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_QUERY_TYPE_TIMESTAMP <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkQueryType<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
</li>
<li>
<p>
<code>queryCount</code> is the number of queries managed by the pool.
</p>
</li>
<li>
<p>
<code>pipelineStatistics</code> is a bitmask indicating which counters will be
    returned in queries on the new pool, as described below in
    <a href="#queries-pipestats">[queries-pipestats]</a>.
    <code>pipelineStatistics</code> is ignored if <code>queryType</code> is not
    <code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code>.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <a href="#features-features-pipelineStatisticsQuery">pipeline statistics     queries</a> feature is not enabled, <code>queryType</code> <span role="normative">must</span> not be
    <code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code>
</p>
</li>
<li>
<p>
If <code>queryType</code> is <code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code>,
    <code>pipelineStatistics</code> <span role="normative">must</span> be a valid combination of
    <code><a href="#VkQueryPipelineStatisticFlagBits">VkQueryPipelineStatisticFlagBits</a></code> values
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_QUERY_POOL_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>queryType</code> <span role="normative">must</span> be a valid <code><a href="#VkQueryType">VkQueryType</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To destroy a query pool, call:</p></div>
<div class="listingblock">
<a id="vkDestroyQueryPool"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroyQueryPool</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkQueryPool</span>                                 queryPool<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that destroys the query pool.
</p>
</li>
<li>
<p>
<code>queryPool</code> is the query pool to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> controls host memory allocation as described in the
    <a href="#memory-allocation">Memory Allocation</a> chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All submitted commands that refer to <code>queryPool</code> <span role="normative">must</span> have
    completed execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>queryPool</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>queryPool</code> was
    created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>queryPool</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>queryPool</code> <span role="normative">must</span> be a valid <code>VkQueryPool</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>queryPool</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>queryPool</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="queries-operation">16.2. Query Operation</h3>
<div class="paragraph"><p>The operation of queries is controlled by the commands
<code><a href="#vkCmdBeginQuery">vkCmdBeginQuery</a></code>, <code><a href="#vkCmdEndQuery">vkCmdEndQuery</a></code>, <code><a href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a></code>,
<code><a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code>, and <code><a href="#vkCmdWriteTimestamp">vkCmdWriteTimestamp</a></code>.</p></div>
<div class="paragraph"><p>In order for a <code>VkCommandBuffer</code> to record query management commands,
the queue family for which its <code>VkCommandPool</code> was created <span role="normative">must</span> support
the appropriate type of operations (graphics, compute) suitable for the
query type of a given query pool.</p></div>
<div class="paragraph"><p>Each query in a query pool has a status that is either <em>unavailable</em> or
<em>available</em>, and also has state to store the numerical results of a query
operation of the type requested when the query pool was created.
Resetting a query via <code><a href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a></code> sets the status to
unavailable and makes the numerical results undefined.
Performing a query operation with <code><a href="#vkCmdBeginQuery">vkCmdBeginQuery</a></code> and
<code><a href="#vkCmdEndQuery">vkCmdEndQuery</a></code> changes the status to available when the query
<a href="#queries-operation-finished">finishes</a>, and updates the numerical results.
Both the availability status and numerical results are retrieved by calling
either <code><a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code> or <code><a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code>.</p></div>
<div class="paragraph"><p>All query commands execute in order and are guaranteed to see the effects of
each other&#8217;s memory accesses, with one significant exception:
<code>vkCmdCopyQueryPoolResults</code> <span role="normative">may</span> execute before the results of
<code>vkCmdEndQuery</code> are available.
However, if <code>VK_QUERY_RESULT_WAIT_BIT</code> is used, then
<code>vkCmdCopyQueryPoolResults</code> <span role="normative">must</span> reflect the result of any previously
executed queries.
Other sequences of commands, such as <code>vkCmdResetQueryPool</code> followed by
<code>vkCmdBeginQuery</code>, <span role="normative">must</span> make the effects of the first command visible
to the second command.</p></div>
<div class="paragraph"><p>After query pool creation, each query is in an undefined state and <span role="normative">must</span> be
reset prior to use.
Queries <span role="normative">must</span> also be reset between uses.
Using a query that has not been reset will result in undefined behavior.</p></div>
<div class="paragraph"><p>To reset a range of queries in a query pool, call:</p></div>
<div class="listingblock">
<a id="vkCmdResetQueryPool"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdResetQueryPool</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkQueryPool</span>                                 queryPool<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    firstQuery<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    queryCount<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which this command will
    be recorded.
</p>
</li>
<li>
<p>
<code>queryPool</code> is the handle of the query pool managing the queries
    being reset.
</p>
</li>
<li>
<p>
<code>firstQuery</code> is the initial query index to reset.
</p>
</li>
<li>
<p>
<code>queryCount</code> is the number of queries to reset.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When executed on a queue, this command sets the status of query indices
<span class="eq">[<code>firstQuery</code>, <code>firstQuery</code> + <code>queryCount</code> - 1]</span> to
unavailable.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>firstQuery</code> <span role="normative">must</span> be less than the number of queries in
    <code>queryPool</code>
</p>
</li>
<li>
<p>
The sum of <code>firstQuery</code> and <code>queryCount</code> <span role="normative">must</span> be less than or
    equal to the number of queries in <code>queryPool</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>queryPool</code> <span role="normative">must</span> be a valid <code>VkQueryPool</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics, or compute operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and <code>queryPool</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>Once queries are reset and ready for use, query commands <span role="normative">can</span> be issued to a
command buffer.
Occlusion queries and pipeline statistics queries count events - drawn
samples and pipeline stage invocations, respectively - resulting from
commands that are recorded between a <code><a href="#vkCmdBeginQuery">vkCmdBeginQuery</a></code> command and a
<code><a href="#vkCmdEndQuery">vkCmdEndQuery</a></code> command within a specified command buffer, effectively
scoping a set of drawing and/or compute commands.
Timestamp queries write timestamps to a query pool.</p></div>
<div class="paragraph"><p>A query <span role="normative">must</span> begin and end in the same command buffer, although if it is a
primary command buffer, and the
<a href="#features-features-inheritedQueries">inherited queries</a> feature is enabled,
it <span role="normative">can</span> execute secondary command buffers during the query operation.
For a secondary command buffer to be executed while a query is active, it
<span role="normative">must</span> set the <code>occlusionQueryEnable</code>, <code>queryFlags</code>, and/or
<code>pipelineStatistics</code> members of <code><a href="#VkCommandBufferInheritanceInfo">VkCommandBufferInheritanceInfo</a></code> to
conservative values, as described in the <a href="#commandbuffers-recording">Command Buffer Recording</a> section.
A query <span role="normative">must</span> either begin and end inside the same subpass of a render pass
instance, or <span role="normative">must</span> both begin and end outside of a render pass instance
(i.e. contain entire render pass instances).</p></div>
<div class="paragraph"><p>To begin a query, call:</p></div>
<div class="listingblock">
<a id="vkCmdBeginQuery"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdBeginQuery</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkQueryPool</span>                                 queryPool<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    query<span style="color: #990000">,</span>
    <span style="color: #008080">VkQueryControlFlags</span>                         flags<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which this command will
    be recorded.
</p>
</li>
<li>
<p>
<code>queryPool</code> is the query pool that will manage the results of the
    query.
</p>
</li>
<li>
<p>
<code>query</code> is the query index within the query pool that will contain
    the results.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask indicating constraints on the types of queries
    that <span role="normative">can</span> be performed.
    Bits which <span role="normative">can</span> be set include:
</p>
</li>
</ul></div>
<div class="listingblock">
<a id="VkQueryControlFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkQueryControlFlagBits <span style="color: #FF0000">{</span>
    VK_QUERY_CONTROL_PRECISE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkQueryControlFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>If the <code>queryType</code> of the pool is <code>VK_QUERY_TYPE_OCCLUSION</code> and
<code>flags</code> contains <code>VK_QUERY_CONTROL_PRECISE_BIT</code>, an implementation
<span role="normative">must</span> return a result that matches the actual number of samples passed.
This is described in more detail in <a href="#queries-occlusion">Occlusion Queries</a>.</p></div>
<div class="paragraph" id="queries-operation-active"><p>After beginning a query, that query is considered <em>active</em> within the
command buffer it was called in until that same query is ended.
Queries active in a primary command buffer when secondary command buffers
are executed are considered active for those secondary command buffers.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The query identified by <code>queryPool</code> and <code>query</code> <span role="normative">must</span> currently
    not be <a href="#queries-operation-active">active</a>
</p>
</li>
<li>
<p>
The query identified by <code>queryPool</code> and <code>query</code> <span role="normative">must</span> be
    unavailable
</p>
</li>
<li>
<p>
If the <a href="#features-features-occlusionQueryPrecise">precise occlusion     queries</a> feature is not enabled, or the <code>queryType</code> used to create
    <code>queryPool</code> was not <code>VK_QUERY_TYPE_OCCLUSION</code>, <code>flags</code> <span role="normative">must</span>
    not contain <code>VK_QUERY_CONTROL_PRECISE_BIT</code>
</p>
</li>
<li>
<p>
<code>queryPool</code> <span role="normative">must</span> have been created with a <code>queryType</code> that
    differs from that of any other queries that have been made
    <a href="#queries-operation-active">active</a>, and are currently still active
    within <code>commandBuffer</code>
</p>
</li>
<li>
<p>
<code>query</code> <span role="normative">must</span> be less than the number of queries in <code>queryPool</code>
</p>
</li>
<li>
<p>
If the <code>queryType</code> used to create <code>queryPool</code> was
    <code>VK_QUERY_TYPE_OCCLUSION</code>, the <code>VkCommandPool</code> that
    <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
If the <code>queryType</code> used to create <code>queryPool</code> was
    <code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code> and any of the
    <code>pipelineStatistics</code> indicate graphics operations, the
    <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span>
    support graphics operations
</p>
</li>
<li>
<p>
If the <code>queryType</code> used to create <code>queryPool</code> was
    <code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code> and any of the
    <code>pipelineStatistics</code> indicate compute operations, the
    <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span>
    support compute operations
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>queryPool</code> <span role="normative">must</span> be a valid <code>VkQueryPool</code> handle
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkQueryControlFlagBits">VkQueryControlFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics, or compute operations
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and <code>queryPool</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>To end a query after the set of desired draw or dispatch commands is
executed, call:</p></div>
<div class="listingblock">
<a id="vkCmdEndQuery"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdEndQuery</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkQueryPool</span>                                 queryPool<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    query<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which this command will
    be recorded.
</p>
</li>
<li>
<p>
<code>queryPool</code> is the query pool that is managing the results of the
    query.
</p>
</li>
<li>
<p>
<code>query</code> is the query index within the query pool where the result is
    stored.
</p>
</li>
</ul></div>
<div class="paragraph" id="queries-operation-finished"><p>As queries operate asynchronously, ending a query does not immediately set
the query&#8217;s status to available.
A query is considered <em>finished</em> when the final results of the query are
ready to be retrieved by <code><a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code> and
<code><a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code>, and this is when the query&#8217;s status is set
to available.</p></div>
<div class="paragraph"><p>Once a query is ended the query <span role="normative">must</span> finish in finite time, unless the
state of the query is changed using other commands, e.g. by issuing a reset
of the query.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The query identified by <code>queryPool</code> and <code>query</code> <span role="normative">must</span> currently
    be <a href="#queries-operation-active">active</a>
</p>
</li>
<li>
<p>
<code>query</code> <span role="normative">must</span> be less than the number of queries in <code>queryPool</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>queryPool</code> <span role="normative">must</span> be a valid <code>VkQueryPool</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics, or compute operations
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and <code>queryPool</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph" id="queries-operation-memorylayout"><p>An application <span role="normative">can</span> retrieve results either by requesting they be written
into application-provided memory, or by requesting they be copied into a
<code>VkBuffer</code>.
In either case, the layout in memory is defined as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
The first query&#8217;s result is written starting at the first byte requested
    by the command, and each subsequent query&#8217;s result begins <code>stride</code>
    bytes later.
</p>
</li>
<li>
<p>
Each query&#8217;s result is a tightly packed array of unsigned integers,
    either 32- or 64-bits as requested by the command, storing the numerical
    results and, if requested, the availability status.
</p>
</li>
<li>
<p>
If <code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is used, the final
    element of each query&#8217;s result is an integer indicating whether the
    query&#8217;s result is available, with any non-zero value indicating that it
    is available.
</p>
</li>
<li>
<p>
Occlusion queries write one integer value - the number of samples
    passed.
    Pipeline statistics queries write one integer value for each bit that is
    enabled in the <code>pipelineStatistics</code> when the pool is created, and
    the statistics values are written in bit order starting from the least
    significant bit.
    Timestamps write one integer value.
</p>
</li>
<li>
<p>
If more than one query is retrieved and <code>stride</code> is not at least as
    large as the size of the array of integers corresponding to a single
    query, the values written to memory are undefined.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To retrieve status and results for a set of queries, call:</p></div>
<div class="listingblock">
<a id="vkGetQueryPoolResults"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetQueryPoolResults</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkQueryPool</span>                                 queryPool<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    firstQuery<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    queryCount<span style="color: #990000">,</span>
    <span style="color: #008080">size_t</span>                                      dataSize<span style="color: #990000">,</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                                       pData<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                stride<span style="color: #990000">,</span>
    <span style="color: #008080">VkQueryResultFlags</span>                          flags<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the query pool.
</p>
</li>
<li>
<p>
<code>queryPool</code> is the query pool managing the queries containing the
    desired results.
</p>
</li>
<li>
<p>
<code>firstQuery</code> is the initial query index.
</p>
</li>
<li>
<p>
<code>queryCount</code> is the number of queries.
    <code>firstQuery</code> and <code>queryCount</code> together define a range of
    queries.
</p>
</li>
<li>
<p>
<code>dataSize</code> is the size in bytes of the buffer pointed to by
    <code>pData</code>.
</p>
</li>
<li>
<p>
<code>pData</code> is a pointer to a user-allocated buffer where the results
    will be written
</p>
</li>
<li>
<p>
<code>stride</code> is the stride in bytes between results for individual
    queries within <code>pData</code>.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask of <code><a href="#VkQueryResultFlagBits">VkQueryResultFlagBits</a></code> specifying how
    and when results are returned.
    Bits which <span role="normative">can</span> be set include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkQueryResultFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkQueryResultFlagBits <span style="color: #FF0000">{</span>
    VK_QUERY_RESULT_64_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_QUERY_RESULT_WAIT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_QUERY_RESULT_WITH_AVAILABILITY_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_QUERY_RESULT_PARTIAL_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkQueryResultFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_QUERY_RESULT_64_BIT</code> indicates the results will be written as
     an array of 64-bit unsigned integer values.
     If this bit is not set, the results will be written as an array of
     32-bit unsigned integer values.
</p>
</li>
<li>
<p>
<code>VK_QUERY_RESULT_WAIT_BIT</code> indicates that Vulkan will wait for each
     query&#8217;s status to become available before retrieving its results.
</p>
</li>
<li>
<p>
<code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> indicates that the
     availability status accompanies the results.
</p>
</li>
<li>
<p>
<code>VK_QUERY_RESULT_PARTIAL_BIT</code> indicates that returning partial
     results is acceptable.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>If no bits are set in <code>flags</code>, and all requested queries are in the
available state, results are written as an array of 32-bit unsigned integer
values.
The behavior when not all queries are available, is described
<a href="#queries-wait-bit-not-set">below</a>.</p></div>
<div class="paragraph"><p>If <code>VK_QUERY_RESULT_64_BIT</code> is not set and the result overflows a 32-bit
value, the value <span role="normative">may</span> either wrap or saturate.
Similarly, if <code>VK_QUERY_RESULT_64_BIT</code> is set and the result overflows a
64-bit value, the value <span role="normative">may</span> either wrap or saturate.</p></div>
<div class="paragraph"><p>If <code>VK_QUERY_RESULT_WAIT_BIT</code> is set, Vulkan will wait for each query to
be in the available state before retrieving the numerical results for that
query.
In this case, <code>vkGetQueryPoolResults</code> is guaranteed to succeed and
return <code>VK_SUCCESS</code> if the queries become available in a finite time
(i.e. if they have been issued and not reset).
If queries will never finish (e.g. due to being reset but not issued), then
<code>vkGetQueryPoolResults</code> <span role="normative">may</span> not return in finite time.</p></div>
<div class="paragraph" id="queries-wait-bit-not-set"><p>If <code>VK_QUERY_RESULT_WAIT_BIT</code> and <code>VK_QUERY_RESULT_PARTIAL_BIT</code> are
both not set then no result values are written to <code>pData</code> for queries
that are in the unavailable state at the time of the call, and
<code>vkGetQueryPoolResults</code> returns <code>VK_NOT_READY</code>.
However, availability state is still written to <code>pData</code> for those
queries if <code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is set.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Applications <span role="normative">must</span> take care to ensure that use of the
<code>VK_QUERY_RESULT_WAIT_BIT</code> bit has the desired effect.</p></div>
<div class="paragraph"><p>For example, if a query has been used previously and a command buffer
records the commands <code>vkCmdResetQueryPool</code>, <code>vkCmdBeginQuery</code>, and
<code>vkCmdEndQuery</code> for that query, then the query will remain in the
available state until the <code>vkCmdResetQueryPool</code> command executes on a
queue.
Applications <span role="normative">can</span> use fences or events to ensure that a query has already
been reset before checking for its results or availability status.
Otherwise, a stale value could be returned from a previous use of the query.</p></div>
<div class="paragraph"><p>The above also applies when <code>VK_QUERY_RESULT_WAIT_BIT</code> is used in
combination with <code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code>.
In this case, the returned availability status <span role="normative">may</span> reflect the result of a
previous use of the query unless the <code>vkCmdResetQueryPool</code> command has
been executed since the last use of the query.</p></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Applications <span role="normative">can</span> double-buffer query pool usage, with a pool per frame, and
reset queries at the end of the frame in which they are read.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>If <code>VK_QUERY_RESULT_PARTIAL_BIT</code> is set, <code>VK_QUERY_RESULT_WAIT_BIT</code>
is not set, and the query&#8217;s status is unavailable, an intermediate result
value between zero and the final result value is written to <code>pData</code> for
that query.</p></div>
<div class="paragraph"><p><code>VK_QUERY_RESULT_PARTIAL_BIT</code> <span role="normative">must</span> not be used if the pool&#8217;s
<code>queryType</code> is <code>VK_QUERY_TYPE_TIMESTAMP</code>.</p></div>
<div class="paragraph"><p>If <code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is set, the final integer
value written for each query is non-zero if the query&#8217;s status was available
or zero if the status was unavailable.
When <code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is used, implementations
<span role="normative">must</span> guarantee that if they return a non-zero availability value then the
numerical results <span role="normative">must</span> be valid, assuming the results are not reset by a
subsequent command.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Satisfying this guarantee <span role="normative">may</span> require careful ordering by the application,
e.g. to read the availability status before reading the results.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>firstQuery</code> <span role="normative">must</span> be less than the number of queries in
    <code>queryPool</code>
</p>
</li>
<li>
<p>
If <code>VK_QUERY_RESULT_64_BIT</code> is not set in <code>flags</code> then
    <code>pData</code> and <code>stride</code> <span role="normative">must</span> be multiples of <span class="monospaced">4</span>
</p>
</li>
<li>
<p>
If <code>VK_QUERY_RESULT_64_BIT</code> is set in <code>flags</code> then <code>pData</code>
    and <code>stride</code> <span role="normative">must</span> be multiples of <span class="monospaced">8</span>
</p>
</li>
<li>
<p>
The sum of <code>firstQuery</code> and <code>queryCount</code> <span role="normative">must</span> be less than or
    equal to the number of queries in <code>queryPool</code>
</p>
</li>
<li>
<p>
<code>dataSize</code> <span role="normative">must</span> be large enough to contain the result of each
    query, as described <a href="#queries-operation-memorylayout">here</a>
</p>
</li>
<li>
<p>
If the <code>queryType</code> used to create <code>queryPool</code> was
    <code>VK_QUERY_TYPE_TIMESTAMP</code>, <code>flags</code> <span role="normative">must</span> not contain
    <code>VK_QUERY_RESULT_PARTIAL_BIT</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>queryPool</code> <span role="normative">must</span> be a valid <code>VkQueryPool</code> handle
</p>
</li>
<li>
<p>
<code>pData</code> <span role="normative">must</span> be a pointer to an array of <code>dataSize</code> bytes
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkQueryResultFlagBits">VkQueryResultFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>dataSize</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>queryPool</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_NOT_READY</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>To copy query statuses and numerical results directly to buffer memory,
call:</p></div>
<div class="listingblock">
<a id="vkCmdCopyQueryPoolResults"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdCopyQueryPoolResults</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkQueryPool</span>                                 queryPool<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    firstQuery<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    queryCount<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    dstBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                dstOffset<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                stride<span style="color: #990000">,</span>
    <span style="color: #008080">VkQueryResultFlags</span>                          flags<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which this command will
    be recorded.
</p>
</li>
<li>
<p>
<code>queryPool</code> is the query pool managing the queries containing the
    desired results.
</p>
</li>
<li>
<p>
<code>firstQuery</code> is the initial query index.
</p>
</li>
<li>
<p>
<code>queryCount</code> is the number of queries.
    <code>firstQuery</code> and <code>queryCount</code> together define a range of
    queries.
</p>
</li>
<li>
<p>
<code>dstBuffer</code> is a <code>VkBuffer</code> object that will receive the results
    of the copy command.
</p>
</li>
<li>
<p>
<code>dstOffset</code> is an offset into <code>dstBuffer</code>.
</p>
</li>
<li>
<p>
<code>stride</code> is the stride in bytes between results for individual
    queries within <code>dstBuffer</code>.
    The required size of the backing memory for <code>dstBuffer</code> is
    determined as described above for <code><a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code>.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask of <code><a href="#VkQueryResultFlagBits">VkQueryResultFlagBits</a></code> specifying how
    and when results are returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkCmdCopyQueryPoolResults</code> is guaranteed to see the effect of previous
uses of <code>vkCmdResetQueryPool</code> in the same queue, without any additional
synchronization.
Thus, the results will always reflect the most recent use of the query.</p></div>
<div class="paragraph"><p><code>flags</code> has the same possible values described above for the <code>flags</code>
parameter of <code><a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code>, but the different style of
execution causes some subtle behavioral differences.
Because <code>vkCmdCopyQueryPoolResults</code> executes in order with respect to
other query commands, there is less ambiguity about which use of a query is
being requested.</p></div>
<div class="paragraph"><p>If no bits are set in <code>flags</code>, results for all requested queries in the
available state are written as 32-bit unsigned integer values, and nothing
is written for queries in the unavailable state.</p></div>
<div class="paragraph"><p>If <code>VK_QUERY_RESULT_64_BIT</code> is set, the results are written as an array
of 64-bit unsigned integer values as described for
<code><a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code>.</p></div>
<div class="paragraph"><p>If <code>VK_QUERY_RESULT_WAIT_BIT</code> is set, the implementation will wait for
each query&#8217;s status to be in the available state before retrieving the
numerical results for that query.
This is guaranteed to reflect the most recent use of the query on the same
queue, assuming that the query is not being simultaneously used by other
queues.
If the query does not become available in a finite amount of time (e.g. due
to not issuing a query since the last reset), a <code>VK_ERROR_DEVICE_LOST</code>
error <span role="normative">may</span> occur.</p></div>
<div class="paragraph"><p>Similarly, if <code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is set and
<code>VK_QUERY_RESULT_WAIT_BIT</code> is not set, the availability is guaranteed to
reflect the most recent use of the query on the same queue, assuming that
the query is not being simultaneously used by other queues.
As with <code>vkGetQueryPoolResults</code>, implementations <span role="normative">must</span> guarantee that if
they return a non-zero availability value, then the numerical results are
valid.</p></div>
<div class="paragraph"><p>If <code>VK_QUERY_RESULT_PARTIAL_BIT</code> is set, <code>VK_QUERY_RESULT_WAIT_BIT</code>
is not set, and the query&#8217;s status is unavailable, an intermediate result
value between zero and the final result value is written for that query.</p></div>
<div class="paragraph"><p><code>VK_QUERY_RESULT_PARTIAL_BIT</code> <span role="normative">must</span> not be used if the pool&#8217;s
<code>queryType</code> is <code>VK_QUERY_TYPE_TIMESTAMP</code>.</p></div>
<div class="paragraph"><p><code>vkCmdCopyQueryPoolResults</code> is considered to be a transfer operation,
and its writes to buffer memory <span role="normative">must</span> be synchronized using
<code>VK_PIPELINE_STAGE_TRANSFER_BIT</code> and <code>VK_ACCESS_TRANSFER_WRITE_BIT</code>
before using the results.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>dstOffset</code> <span role="normative">must</span> be less than the size of <code>dstBuffer</code>
</p>
</li>
<li>
<p>
<code>firstQuery</code> <span role="normative">must</span> be less than the number of queries in
    <code>queryPool</code>
</p>
</li>
<li>
<p>
The sum of <code>firstQuery</code> and <code>queryCount</code> <span role="normative">must</span> be less than or
    equal to the number of queries in <code>queryPool</code>
</p>
</li>
<li>
<p>
If <code>VK_QUERY_RESULT_64_BIT</code> is not set in <code>flags</code> then
    <code>dstOffset</code> and <code>stride</code> <span role="normative">must</span> be multiples of <span class="monospaced">4</span>
</p>
</li>
<li>
<p>
If <code>VK_QUERY_RESULT_64_BIT</code> is set in <code>flags</code> then
    <code>dstOffset</code> and <code>stride</code> <span role="normative">must</span> be multiples of <span class="monospaced">8</span>
</p>
</li>
<li>
<p>
<code>dstBuffer</code> <span role="normative">must</span> have enough storage, from <code>dstOffset</code>, to
    contain the result of each query, as described
    <a href="#queries-operation-memorylayout">here</a>
</p>
</li>
<li>
<p>
<code>dstBuffer</code> <span role="normative">must</span> have been created with
    <code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>dstBuffer</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
If the <code>queryType</code> used to create <code>queryPool</code> was
    <code>VK_QUERY_TYPE_TIMESTAMP</code>, <code>flags</code> <span role="normative">must</span> not contain
    <code>VK_QUERY_RESULT_PARTIAL_BIT</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>queryPool</code> <span role="normative">must</span> be a valid <code>VkQueryPool</code> handle
</p>
</li>
<li>
<p>
<code>dstBuffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkQueryResultFlagBits">VkQueryResultFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics, or compute operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
Each of <code>commandBuffer</code>, <code>dstBuffer</code>, and <code>queryPool</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph" id="queries-operation-undefined"><p>Rendering operations such as clears, MSAA resolves, attachment load/store
operations, and blits <span role="normative">may</span> count towards the results of queries.
This behavior is implementation-dependent and <span role="normative">may</span> vary depending on the
path used within an implementation.
For example, some implementations have several types of clears, some of
which <span role="normative">may</span> include vertices and some not.</p></div>
</div>
<div class="sect2">
<h3 id="queries-occlusion">16.3. Occlusion Queries</h3>
<div class="paragraph"><p>Occlusion queries track the number of samples that pass the per-fragment
tests for a set of drawing commands.
As such, occlusion queries are only available on queue families supporting
graphics operations.
The application <span role="normative">can</span> then use these results to inform future rendering
decisions.
An occlusion query is begun and ended by calling <code>vkCmdBeginQuery</code> and
<code>vkCmdEndQuery</code>, respectively.
When an occlusion query begins, the count of passing samples always starts
at zero.
For each drawing command, the count is incremented as described in
<a href="#fragops-samplecount">Sample Counting</a>.
If <code>flags</code> does not contain <code>VK_QUERY_CONTROL_PRECISE_BIT</code> an
implementation <span role="normative">may</span> generate any non-zero result value for the query if the
count of passing samples is non-zero.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Not setting <code>VK_QUERY_CONTROL_PRECISE_BIT</code> mode <span role="normative">may</span> be more efficient
on some implementations, and <span role="normative">should</span> be used where it is sufficient to know
a boolean result on whether any samples passed the per-fragment tests.
In this case, some implementations <span role="normative">may</span> only return zero or one, indifferent
to the actual number of samples passing the per-fragment tests.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>When an occlusion query finishes, the result for that query is marked as
available.
The application <span role="normative">can</span> then either copy the result to a buffer (via
<code>vkCmdCopyQueryPoolResults</code>) or request it be put into host memory (via
<code>vkGetQueryPoolResults</code>).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>If occluding geometry is not drawn first, samples <span role="normative">can</span> pass the depth test,
but still not be visible in a final image.</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="queries-pipestats">16.4. Pipeline Statistics Queries</h3>
<div class="paragraph"><p>Pipeline statistics queries allow the application to sample a specified set
of <code>VkPipeline</code> counters.
These counters are accumulated by Vulkan for a set of either draw or
dispatch commands while a pipeline statistics query is active.
As such, pipeline statistics queries are available on queue families
supporting either graphics or compute operations.
Further, the availability of pipeline statistics queries is indicated by the
<code>pipelineStatisticsQuery</code> member of the <code>VkPhysicalDeviceFeatures</code>
object (see <code>vkGetPhysicalDeviceFeatures</code> and <code>vkCreateDevice</code> for
detecting and requesting this query type on a <code>VkDevice</code>).</p></div>
<div class="paragraph"><p>A pipeline statistics query is begun and ended by calling
<code>vkCmdBeginQuery</code> and <code>vkCmdEndQuery</code>, respectively.
When a pipeline statistics query begins, all statistics counters are set to
zero.
While the query is active, the pipeline type determines which set of
statistics are available, but these <span role="normative">must</span> be configured on the query pool
when it is created.
If a statistic counter is issued on a command buffer that does not support
the corresponding operation, that counter is undefined after the query has
finished.
At least one statistic counter relevant to the operations supported on the
recording command buffer <span role="normative">must</span> be enabled.</p></div>
<div class="paragraph"><p>The pipeline statistic counters are individually enabled for query pools
with <code>VkQueryPoolCreateInfo</code>::<code>pipelineStatistics</code>, and for
secondary command buffers with
<code>VkCommandBufferInheritanceInfo</code>::<code>pipelineStatistics</code>.</p></div>
<div class="paragraph"><p>Bits which <span role="normative">can</span> be set in <code>pipelineStatistics</code> include:</p></div>
<div class="listingblock">
<a id="VkQueryPipelineStatisticFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkQueryPipelineStatisticFlagBits <span style="color: #FF0000">{</span>
    VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
    VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000010</span><span style="color: #990000">,</span>
    VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000020</span><span style="color: #990000">,</span>
    VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000040</span><span style="color: #990000">,</span>
    VK_QUERY_PIPELINE_STATISTIC_FRAGMENT_SHADER_INVOCATIONS_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000080</span><span style="color: #990000">,</span>
    VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000100</span><span style="color: #990000">,</span>
    VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000200</span><span style="color: #990000">,</span>
    VK_QUERY_PIPELINE_STATISTIC_COMPUTE_SHADER_INVOCATIONS_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000400</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkQueryPipelineStatisticFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>These bits have the following meanings:</p></div>
<div class="ulist"><ul>
<li>
<p>
If <code>VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT</code> is set,
    queries managed by the pool will count the number of vertices processed
    by the <a href="#drawing">input assembly</a> stage.
    Vertices corresponding to incomplete primitives <span role="normative">may</span> contribute to the
    count.
</p>
</li>
<li>
<p>
If <code>VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT</code> is
    set, queries managed by the pool will count the number of primitives
    processed by the <a href="#drawing">input assembly</a> stage.
    If primitive restart is enabled, restarting the primitive topology has
    no effect on the count.
    Incomplete primitives <span role="normative">may</span> be counted.
</p>
</li>
<li>
<p>
If <code>VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT</code> is
    set, queries managed by the pool will count the number of vertex shader
    invocations.
    This counter&#8217;s value is incremented each time a vertex shader is
    <a href="#shaders-vertex-execution">invoked</a>.
</p>
</li>
<li>
<p>
If <code>VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT</code> is
    set, queries managed by the pool will count the number of geometry
    shader invocations.
    This counter&#8217;s value is incremented each time a geometry shader is
    <a href="#shaders-geometry-execution">invoked</a>.
    In the case of <a href="#geometry-invocations">instanced geometry shaders</a>, the
    geometry shader invocations count is incremented for each separate
    instanced invocation.
</p>
</li>
<li>
<p>
If <code>VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT</code> is
    set, queries managed by the pool will count the number of primitives
    generated by geometry shader invocations.
    The counter&#8217;s value is incremented each time the geometry shader emits a
    primitive.
    Restarting primitive topology using the SPIR-V instructions
    <code>OpEndPrimitive</code> or <code>OpEndStreamPrimitive</code> has no effect on the
    geometry shader output primitives count.
</p>
</li>
<li>
<p>
If <code>VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT</code> is set,
    queries managed by the pool will count the number of primitives
    processed by the <a href="#vertexpostproc-clipping">Primitive Clipping</a> stage of
    the pipeline.
    The counter&#8217;s value is incremented each time a primitive reaches the
    primitive clipping stage.
</p>
</li>
<li>
<p>
If <code>VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT</code> is set,
    queries managed by the pool will count the number of primitives output
    by the <a href="#vertexpostproc-clipping">Primitive Clipping</a> stage of the
    pipeline.
    The counter&#8217;s value is incremented each time a primitive passes the
    primitive clipping stage.
    The actual number of primitives output by the primitive clipping stage
    for a particular input primitive is implementation-dependent but <span role="normative">must</span>
    satisfy the following conditions:
</p>
<div class="ulist"><ul>
<li>
<p>
If at least one vertex of the input primitive lies inside the clipping
     volume, the counter is incremented by one or more.
</p>
</li>
<li>
<p>
Otherwise, the counter is incremented by zero or more.
</p>
</li>
</ul></div>
</li>
<li>
<p>
If <code>VK_QUERY_PIPELINE_STATISTIC_FRAGMENT_SHADER_INVOCATIONS_BIT</code> is
    set, queries managed by the pool will count the number of fragment
    shader invocations.
    The counter&#8217;s value is incremented each time the fragment shader is
    <a href="#shaders-fragment-execution">invoked</a>.
</p>
</li>
<li>
<p>
If
    <code>VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT</code>
    is set, queries managed by the pool will count the number of patches
    processed by the tessellation control shader.
    The counter&#8217;s value is incremented once for each patch for which a
    tessellation control shader is
    <a href="#shaders-tessellation-control-execution">invoked</a>.
</p>
</li>
<li>
<p>
If
    <code>VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT</code>
    is set, queries managed by the pool will count the number of invocations
    of the tessellation evaluation shader.
    The counter&#8217;s value is incremented each time the tessellation evaluation
    shader is <a href="#shaders-tessellation-evaluation-execution">invoked</a>.
</p>
</li>
<li>
<p>
If <code>VK_QUERY_PIPELINE_STATISTIC_COMPUTE_SHADER_INVOCATIONS_BIT</code> is
    set, queries managed by the pool will count the number of compute shader
    invocations.
    The counter&#8217;s value is incremented every time the compute shader is
    invoked.
    Implementations <span role="normative">may</span> skip the execution of certain compute shader
    invocations or execute additional compute shader invocations for
    implementation-dependent reasons as long as the results of rendering
    otherwise remain unchanged.
</p>
</li>
</ul></div>
<div class="paragraph"><p>These values are intended to measure relative statistics on one
implementation.
Various device architectures will count these values differently.
Any or all counters <span role="normative">may</span> be affected by the issues described in
<a href="#queries-operation-undefined">Query Operation</a>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>For example, tile-based rendering devices <span role="normative">may</span> need to replay the scene
multiple times, affecting some of the counts.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>If a pipeline has <code>rasterizerDiscardEnable</code> enabled, implementations
<span role="normative">may</span> discard primitives after the final vertex processing stage.
As a result, if <code>rasterizerDiscardEnable</code> is enabled, the clipping input
and output primitives counters <span role="normative">may</span> not be incremented.</p></div>
<div class="paragraph"><p>When a pipeline statistics query finishes, the result for that query is
marked as available.
The application <span role="normative">can</span> copy the result to a buffer (via
<code>vkCmdCopyQueryPoolResults</code>), or request it be put into host memory (via
<code>vkGetQueryPoolResults</code>).</p></div>
</div>
<div class="sect2">
<h3 id="queries-timestamps">16.5. Timestamp Queries</h3>
<div class="paragraph"><p><em>Timestamps</em> provide applications with a mechanism for timing the execution
of commands.
A timestamp is an integer value generated by the <code>VkPhysicalDevice</code>.
Unlike other queries, timestamps do not operate over a range, and so do not
use <code><a href="#vkCmdBeginQuery">vkCmdBeginQuery</a></code> or <code><a href="#vkCmdEndQuery">vkCmdEndQuery</a></code>.
The mechanism is built around a set of commands that allow the application
to tell the <code>VkPhysicalDevice</code> to write timestamp values to a
<a href="#queries-pools">query pool</a> and then either read timestamp values on the
host (using <code><a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code>) or copy timestamp values to a
<code>VkBuffer</code> (using <code><a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code>).
The application <span role="normative">can</span> then compute differences between timestamps to
determine execution time.</p></div>
<div class="paragraph"><p>The number of valid bits in a timestamp value is determined by the
<code>VkQueueFamilyProperties</code>::<code>timestampValidBits</code> property of the
queue on which the timestamp is written.
Timestamps are supported on any queue which reports a non-zero value for
<code>timestampValidBits</code> via <code><a href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a></code>.
If the <a href="#features-limits-timestampComputeAndGraphics"><code>timestampComputeAndGraphics</code></a> limit is <code>VK_TRUE</code>, timestamps are
supported by every queue family that supports either graphics or compute
operations (see <code><a href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a></code>).</p></div>
<div class="paragraph"><p>The number of nanoseconds it takes for a timestamp value to be incremented
by 1 <span role="normative">can</span> be obtained from
<code>VkPhysicalDeviceLimits</code>::<code>timestampPeriod</code> after a call to
<code>vkGetPhysicalDeviceProperties</code>.</p></div>
<div class="paragraph"><p>To request a timestamp, call:</p></div>
<div class="listingblock">
<a id="vkCmdWriteTimestamp"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdWriteTimestamp</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkPipelineStageFlagBits</span>                     pipelineStage<span style="color: #990000">,</span>
    <span style="color: #008080">VkQueryPool</span>                                 queryPool<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    query<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>pipelineStage</code> is one of the <code><a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code>,
    specifying a stage of the pipeline.
</p>
</li>
<li>
<p>
<code>queryPool</code> is the query pool that will manage the timestamp.
</p>
</li>
<li>
<p>
<code>query</code> is the query within the query pool that will contain the
    timestamp.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkCmdWriteTimestamp</code> latches the value of the timer when all previous
commands have completed executing as far as the specified pipeline stage,
and writes the timestamp value to memory.
When the timestamp value is written, the availability status of the query is
set to available.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>If an implementation is unable to detect completion and latch the timer at
any specific stage of the pipeline, it <span role="normative">may</span> instead do so at any logically
later stage.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p><code><a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code> <span role="normative">can</span> then be called to copy the timestamp
value from the query pool into buffer memory, with ordering and
synchronization behavior equivalent to how other queries operate.
Timestamp values <span role="normative">can</span> also be retrieved from the query pool using
<code><a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code>.
As with other queries, the query <span role="normative">must</span> be reset using
<code><a href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a></code> before requesting the timestamp value be written
to it.</p></div>
<div class="paragraph"><p>While <code>vkCmdWriteTimestamp</code> <span role="normative">can</span> be called inside or outside of a render
pass instance, <code><a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code> <span role="normative">must</span> only be called outside
of a render pass instance.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The query identified by <code>queryPool</code> and <code>query</code> <span role="normative">must</span> be
    <em>unavailable</em>
</p>
</li>
<li>
<p>
The command pool&#8217;s queue family <span role="normative">must</span> support a non-zero
    <code>timestampValidBits</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pipelineStage</code> <span role="normative">must</span> be a valid <code><a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> value
</p>
</li>
<li>
<p>
<code>queryPool</code> <span role="normative">must</span> be a valid <code>VkQueryPool</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics, or compute operations
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and <code>queryPool</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clears">17. Clear Commands</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="clears-outside">17.1. Clearing Images Outside A Render Pass Instance</h3>
<div class="paragraph"><p>Color and depth/stencil images <span role="normative">can</span> be cleared outside a render pass
instance using <code><a href="#vkCmdClearColorImage">vkCmdClearColorImage</a></code> or
<code><a href="#vkCmdClearDepthStencilImage">vkCmdClearDepthStencilImage</a></code>, respectively.
These commands are only allowed outside of a render pass instance.</p></div>
<div class="paragraph"><p>To clear one or more subranges of a color image, call:</p></div>
<div class="listingblock">
<a id="vkCmdClearColorImage"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdClearColorImage</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     image<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageLayout</span>                               imageLayout<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkClearColorValue<span style="color: #990000">*</span>                    pColor<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    rangeCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkImageSubresourceRange<span style="color: #990000">*</span>              pRanges<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>image</code> is the image to be cleared.
</p>
</li>
<li>
<p>
<code>imageLayout</code> specifies the current layout of the image subresource
    ranges to be cleared, and <span role="normative">must</span> be <code>VK_IMAGE_LAYOUT_GENERAL</code> or
    <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>.
</p>
</li>
<li>
<p>
<code>pColor</code> is a pointer to a <code><a href="#VkClearColorValue">VkClearColorValue</a></code> structure that
    contains the values the image subresource ranges will be cleared to (see
    <a href="#clears-values">[clears-values]</a> below).
</p>
</li>
<li>
<p>
<code>rangeCount</code> is the number of image subresource range structures in
    <code>pRanges</code>.
</p>
</li>
<li>
<p>
<code>pRanges</code> points to an array of <code><a href="#VkImageSubresourceRange">VkImageSubresourceRange</a></code>
    structures that describe a range of mipmap levels, array layers, and
    aspects to be cleared, as described in <a href="#resources-image-views">Image     Views</a>.
    The <code>aspectMask</code> of all image subresource ranges <span role="normative">must</span> only include
    <code>VK_IMAGE_ASPECT_COLOR_BIT</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Each specified range in <code>pRanges</code> is cleared to the value specified by
<code>pColor</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>image</code> <span role="normative">must</span> use a format that supports
    <code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code>, which is indicated by
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for linearly tiled
    images) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (for
    optimally tiled images) - as returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> have been created with
    <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>image</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>imageLayout</code> <span role="normative">must</span> specify the layout of the image subresource
    ranges of <code>image</code> specified in <code>pRanges</code> at the time this
    command is executed on a <code>VkDevice</code>
</p>
</li>
<li>
<p>
<code>imageLayout</code> <span role="normative">must</span> be either of
    <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or
    <code>VK_IMAGE_LAYOUT_GENERAL</code>
</p>
</li>
<li>
<p>
The image range of any given element of <code>pRanges</code> <span role="normative">must</span> be an image
    subresource range that is contained within <code>image</code>
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> not have a compressed or depth/stencil format
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>imageLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
<li>
<p>
<code>pColor</code> <span role="normative">must</span> be a pointer to a valid <code>VkClearColorValue</code> union
</p>
</li>
<li>
<p>
<code>pRanges</code> <span role="normative">must</span> be a pointer to an array of <code>rangeCount</code> valid <code>VkImageSubresourceRange</code> structures
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics, or compute operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
<code>rangeCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and <code>image</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>To clear one or more subranges of a depth/stencil image, call:</p></div>
<div class="listingblock">
<a id="vkCmdClearDepthStencilImage"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdClearDepthStencilImage</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     image<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageLayout</span>                               imageLayout<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkClearDepthStencilValue<span style="color: #990000">*</span>             pDepthStencil<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    rangeCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkImageSubresourceRange<span style="color: #990000">*</span>              pRanges<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>image</code> is the image to be cleared.
</p>
</li>
<li>
<p>
<code>imageLayout</code> specifies the current layout of the image subresource
    ranges to be cleared, and <span role="normative">must</span> be <code>VK_IMAGE_LAYOUT_GENERAL</code> or
    <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>.
</p>
</li>
<li>
<p>
<code>pDepthStencil</code> is a pointer to a <code><a href="#VkClearDepthStencilValue">VkClearDepthStencilValue</a></code>
    structure that contains the values the depth and stencil image
    subresource ranges will be cleared to (see <a href="#clears-values">[clears-values]</a> below).
</p>
</li>
<li>
<p>
<code>rangeCount</code> is the number of image subresource range structures in
    <code>pRanges</code>.
</p>
</li>
<li>
<p>
<code>pRanges</code> points to an array of <code><a href="#VkImageSubresourceRange">VkImageSubresourceRange</a></code>
    structures that describe a range of mipmap levels, array layers, and
    aspects to be cleared, as described in <a href="#resources-image-views">Image     Views</a>.
    The <code>aspectMask</code> of each image subresource range in <code>pRanges</code>
    <span role="normative">can</span> include <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> if the image format has a
    depth component, and <code>VK_IMAGE_ASPECT_STENCIL_BIT</code> if the image
    format has a stencil component.
    <code>pDepthStencil</code> is a pointer to a <code>VkClearDepthStencilValue</code>
    structure that contains the values the image subresource ranges will be
    cleared to (see <a href="#clears-values">[clears-values]</a> below).
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>image</code> <span role="normative">must</span> use a format that supports
    <code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code>, which is indicated by
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for linearly tiled
    images) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (for
    optimally tiled images) - as returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> have been created with
    <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>image</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>imageLayout</code> <span role="normative">must</span> specify the layout of the image subresource
    ranges of <code>image</code> specified in <code>pRanges</code> at the time this
    command is executed on a <code>VkDevice</code>
</p>
</li>
<li>
<p>
<code>imageLayout</code> <span role="normative">must</span> be either of
    <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or
    <code>VK_IMAGE_LAYOUT_GENERAL</code>
</p>
</li>
<li>
<p>
The image range of any given element of <code>pRanges</code> <span role="normative">must</span> be an image
    subresource range that is contained within <code>image</code>
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> have a depth/stencil format
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>imageLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
<li>
<p>
<code>pDepthStencil</code> <span role="normative">must</span> be a pointer to a valid <code>VkClearDepthStencilValue</code> structure
</p>
</li>
<li>
<p>
<code>pRanges</code> <span role="normative">must</span> be a pointer to an array of <code>rangeCount</code> valid <code>VkImageSubresourceRange</code> structures
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
<code>rangeCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and <code>image</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>Clears outside render pass instances are treated as transfer operations for
the purposes of memory barriers.</p></div>
</div>
<div class="sect2">
<h3 id="clears-inside">17.2. Clearing Images Inside A Render Pass Instance</h3>
<div class="paragraph"><p>To clear one or more regions of color and depth/stencil attachments inside a
render pass instance, call:</p></div>
<div class="listingblock">
<a id="vkCmdClearAttachments"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdClearAttachments</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    attachmentCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkClearAttachment<span style="color: #990000">*</span>                    pAttachments<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    rectCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkClearRect<span style="color: #990000">*</span>                          pRects<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>attachmentCount</code> is the number of entries in the <code>pAttachments</code>
    array.
</p>
</li>
<li>
<p>
<code>pAttachments</code> is a pointer to an array of <code><a href="#VkClearAttachment">VkClearAttachment</a></code>
    structures defining the attachments to clear and the clear values to
    use.
</p>
</li>
<li>
<p>
<code>rectCount</code> is the number of entries in the <code>pRects</code> array.
</p>
</li>
<li>
<p>
<code>pRects</code> points to an array of <code><a href="#VkClearRect">VkClearRect</a></code> structures defining
    regions within each selected attachment to clear.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkCmdClearAttachments</code> <span role="normative">can</span> clear multiple regions of each attachment
used in the current subpass of a render pass instance.
This command <span role="normative">must</span> be called only inside a render pass instance, and
implicitly selects the images to clear based on the current framebuffer
attachments and the command parameters.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <code>aspectMask</code> member of any given element of
    <code>pAttachments</code> contains <code>VK_IMAGE_ASPECT_COLOR_BIT</code>, the
    <code>colorAttachment</code> member of those elements <span role="normative">must</span> refer to a valid
    color attachment in the current subpass
</p>
</li>
<li>
<p>
The rectangular region specified by a given element of <code>pRects</code>
    <span role="normative">must</span> be contained within the render area of the current render pass
    instance
</p>
</li>
<li>
<p>
The layers specified by a given element of <code>pRects</code> <span role="normative">must</span> be
    contained within every attachment that <code>pAttachments</code> refers to
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pAttachments</code> <span role="normative">must</span> be a pointer to an array of <code>attachmentCount</code> valid <code>VkClearAttachment</code> structures
</p>
</li>
<li>
<p>
<code>pRects</code> <span role="normative">must</span> be a pointer to an array of <code>rectCount</code> <code>VkClearRect</code> structures
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called inside of a render pass instance
</p>
</li>
<li>
<p>
<code>attachmentCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>rectCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>The <code>VkClearRect</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkClearRect"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkClearRect</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkRect2D</span>    rect<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    baseArrayLayer<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    layerCount<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkClearRect<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>rect</code> is the two-dimensional region to be cleared.
</p>
</li>
<li>
<p>
<code>baseArrayLayer</code> is the first layer to be cleared.
</p>
</li>
<li>
<p>
<code>layerCount</code> is the number of layers to clear.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The layers <span class="eq">[<code>baseArrayLayer</code>, <code>baseArrayLayer</code> &#x002b;
<code>layerCount</code>)</span> counting from the base layer of the attachment image view
are cleared.</p></div>
<div class="paragraph"><p>The <code>VkClearAttachment</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkClearAttachment"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkClearAttachment</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkImageAspectFlags</span>    aspectMask<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              colorAttachment<span style="color: #990000">;</span>
    <span style="color: #008080">VkClearValue</span>          clearValue<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkClearAttachment<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>aspectMask</code> is a mask selecting the color, depth and/or stencil
    aspects of the attachment to be cleared.
    <code>aspectMask</code> <span role="normative">can</span> include <code>VK_IMAGE_ASPECT_COLOR_BIT</code> for color
    attachments, <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> for depth/stencil
    attachments with a depth component, and
    <code>VK_IMAGE_ASPECT_STENCIL_BIT</code> for depth/stencil attachments with a
    stencil component.
    If the subpass&#8217;s depth/stencil attachment is <code>VK_ATTACHMENT_UNUSED</code>,
    then the clear has no effect.
</p>
</li>
<li>
<p>
<code>colorAttachment</code> is only meaningful if
    <code>VK_IMAGE_ASPECT_COLOR_BIT</code> is set in <code>aspectMask</code>, in which
    case it is an index to the <code>pColorAttachments</code> array in the
    <code><a href="#VkSubpassDescription">VkSubpassDescription</a></code> structure of the current subpass which
    selects the color attachment to clear.
    If <code>colorAttachment</code> is <code>VK_ATTACHMENT_UNUSED</code> then the clear
    has no effect.
</p>
</li>
<li>
<p>
<code>clearValue</code> is the color or depth/stencil value to clear the
    attachment to, as described in <a href="#clears-values">Clear Values</a> below.
</p>
</li>
</ul></div>
<div class="paragraph"><p>No memory barriers are needed between <code>vkCmdClearAttachments</code> and
preceding or subsequent draw or attachment clear commands in the same
subpass.</p></div>
<div class="paragraph"><p>The <code>vkCmdClearAttachments</code> command is not affected by the bound
pipeline state.</p></div>
<div class="paragraph"><p>Attachments <span role="normative">can</span> also be cleared at the beginning of a render pass instance
by setting <code>loadOp</code> (or <code>stencilLoadOp</code>) of
<code><a href="#VkAttachmentDescription">VkAttachmentDescription</a></code> to <code>VK_ATTACHMENT_LOAD_OP_CLEAR</code>, as
described for <code><a href="#vkCreateRenderPass">vkCreateRenderPass</a></code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>aspectMask</code> includes <code>VK_IMAGE_ASPECT_COLOR_BIT</code>, it <span role="normative">must</span>
    not include <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or
    <code>VK_IMAGE_ASPECT_STENCIL_BIT</code>
</p>
</li>
<li>
<p>
<code>aspectMask</code> <span role="normative">must</span> not include <code>VK_IMAGE_ASPECT_METADATA_BIT</code>
</p>
</li>
<li>
<p>
<code>clearValue</code> <span role="normative">must</span> be a valid <code>VkClearValue</code> union
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>aspectMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>aspectMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="clears-values">17.3. Clear Values</h3>
<div class="paragraph"><p>The <code>VkClearColorValue</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkClearColorValue"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">union</span></span> VkClearColorValue <span style="color: #FF0000">{</span>
    <span style="color: #009900">float</span>       float32<span style="color: #990000">[</span><span style="color: #993399">4</span><span style="color: #990000">];</span>
    <span style="color: #008080">int32_t</span>     int32<span style="color: #990000">[</span><span style="color: #993399">4</span><span style="color: #990000">];</span>
    <span style="color: #008080">uint32_t</span>    uint32<span style="color: #990000">[</span><span style="color: #993399">4</span><span style="color: #990000">];</span>
<span style="color: #FF0000">}</span> VkClearColorValue<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>float32</code> are the color clear values when the format of the image or
    attachment is one of the formats in the
    <a href="#features-formats-numericformat">Interpretation of Numeric Format</a>
    table other than signed integer (<code>SINT</code>) or unsigned integer
    (<code>UINT</code>).
    Floating point values are automatically converted to the format of the
    image, with the clear value being treated as linear if the image is
    sRGB.
</p>
</li>
<li>
<p>
<code>int32</code> are the color clear values when the format of the image or
    attachment is signed integer (<code>SINT</code>).
    Signed integer values are converted to the format of the image by
    casting to the smaller type (with negative 32-bit values mapping to
    negative values in the smaller type).
    If the integer clear value is not representable in the target type (e.g.
    would overflow in conversion to that type), the clear value is
    undefined.
</p>
</li>
<li>
<p>
<code>uint32</code> are the color clear values when the format of the image or
    attachment is unsigned integer (<code>UINT</code>).
    Unsigned integer values are converted to the format of the image by
    casting to the integer type with fewer bits.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The four array elements of the clear color map to R, G, B, and A components
of image formats, in order.</p></div>
<div class="paragraph"><p>If the image has more than one sample, the same value is written to all
samples for any pixels being cleared.</p></div>
<div class="paragraph"><p>The <code>VkClearDepthStencilValue</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkClearDepthStencilValue"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkClearDepthStencilValue</span> <span style="color: #FF0000">{</span>
    <span style="color: #009900">float</span>       depth<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    stencil<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkClearDepthStencilValue<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>depth</code> is the clear value for the depth aspect of the depth/stencil
    attachment.
    It is a floating-point value which is automatically converted to the
    attachment&#8217;s format.
</p>
</li>
<li>
<p>
<code>stencil</code> is the clear value for the stencil aspect of the
    depth/stencil attachment.
    It is a 32-bit integer value which is converted to the attachment&#8217;s
    format by taking the appropriate number of LSBs.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>depth</code> <span role="normative">must</span> be between <span class="monospaced">0.0</span> and <span class="monospaced">1.0</span>, inclusive
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkClearValue</code> union is defined as:</p></div>
<div class="listingblock">
<a id="VkClearValue"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">union</span></span> VkClearValue <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkClearColorValue</span>           color<span style="color: #990000">;</span>
    <span style="color: #008080">VkClearDepthStencilValue</span>    depthStencil<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkClearValue<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>color</code> specifies the color image clear values to use when clearing
    a color image or attachment.
</p>
</li>
<li>
<p>
<code>depthStencil</code> specifies the depth and stencil clear values to use
    when clearing a depth/stencil image or attachment.
</p>
</li>
</ul></div>
<div class="paragraph"><p>This union is used where part of the API requires either color or
depth/stencil clear values, depending on the attachment, and defines the
initial clear values in the <code><a href="#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a></code> structure.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>depthStencil</code> <span role="normative">must</span> be a valid <code>VkClearDepthStencilValue</code>
    structure
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="clears-filling-buffers">17.4. Filling Buffers</h3>
<div class="paragraph"><p>To clear buffer data, call:</p></div>
<div class="listingblock">
<a id="vkCmdFillBuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdFillBuffer</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    dstBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                dstOffset<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                size<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    data<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>dstBuffer</code> is the buffer to be filled.
</p>
</li>
<li>
<p>
<code>dstOffset</code> is the byte offset into the buffer at which to start
    filling, and <span role="normative">must</span> be a multiple of 4.
</p>
</li>
<li>
<p>
<code>size</code> is the number of bytes to fill, and <span role="normative">must</span> be either a
    multiple of 4, or <code>VK_WHOLE_SIZE</code> to fill the range from
    <code>offset</code> to the end of the buffer.
    If <code>VK_WHOLE_SIZE</code> is used and the remaining size of the buffer is
    not a multiple of 4, then the nearest smaller multiple is used.
</p>
</li>
<li>
<p>
<code>data</code> is the 4-byte word written repeatedly to the buffer to fill
    <code>size</code> bytes of data.
    The data word is written to memory according to the host endianness.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkCmdFillBuffer</code> is treated as &#8220;transfer&#8221; operation for the purposes
of synchronization barriers.
The <code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> <span role="normative">must</span> be specified in <code>usage</code>
of <code>VkBufferCreateInfo</code> in order for the buffer to be compatible with
<code>vkCmdFillBuffer</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>dstOffset</code> <span role="normative">must</span> be less than the size of <code>dstBuffer</code>
</p>
</li>
<li>
<p>
<code>dstOffset</code> <span role="normative">must</span> be a multiple of <span class="monospaced">4</span>
</p>
</li>
<li>
<p>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <span role="normative">must</span> be
    greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <span role="normative">must</span> be
    less than or equal to the size of <code>dstBuffer</code> minus <code>dstOffset</code>
</p>
</li>
<li>
<p>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <span role="normative">must</span> be a
    multiple of <span class="monospaced">4</span>
</p>
</li>
<li>
<p>
<code>dstBuffer</code> <span role="normative">must</span> have been created with
    <code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>dstBuffer</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>dstBuffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support transfer, graphics, or compute operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and <code>dstBuffer</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer<br>
graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div></div>
</div>
<div class="sect2">
<h3 id="clears-updating-buffers">17.5. Updating Buffers</h3>
<div class="paragraph"><p>To update buffer data inline in a command buffer, call:</p></div>
<div class="listingblock">
<a id="vkCmdUpdateBuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdUpdateBuffer</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    dstBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                dstOffset<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                dataSize<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                                 pData<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>dstBuffer</code> is a handle to the buffer to be updated.
</p>
</li>
<li>
<p>
<code>dstOffset</code> is the byte offset into the buffer to start updating,
    and <span role="normative">must</span> be a multiple of 4.
</p>
</li>
<li>
<p>
<code>dataSize</code> is the number of bytes to update, and <span role="normative">must</span> be a multiple
    of 4.
</p>
</li>
<li>
<p>
<code>pData</code> is a pointer to the source data for the buffer update, and
    <span role="normative">must</span> be at least <code>dataSize</code> bytes in size.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>dataSize</code> <span role="normative">must</span> be less than or equal to 65536 bytes.
For larger updates, applications <span role="normative">can</span> use buffer to buffer
<a href="#copies-buffers">copies</a>.</p></div>
<div class="paragraph"><p>The source data is copied from the user pointer to the command buffer when
the command is called.</p></div>
<div class="paragraph"><p><code>vkCmdUpdateBuffer</code> is only allowed outside of a render pass.
This command is treated as &#8220;transfer&#8221; operation, for the purposes of
synchronization barriers.
The <code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> <span role="normative">must</span> be specified in <code>usage</code>
of <code><a href="#VkBufferCreateInfo">VkBufferCreateInfo</a></code> in order for the buffer to be compatible with
<code>vkCmdUpdateBuffer</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>dstOffset</code> <span role="normative">must</span> be less than the size of <code>dstBuffer</code>
</p>
</li>
<li>
<p>
<code>dataSize</code> <span role="normative">must</span> be less than or equal to the size of
    <code>dstBuffer</code> minus <code>dstOffset</code>
</p>
</li>
<li>
<p>
<code>dstBuffer</code> <span role="normative">must</span> have been created with
    <code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>dstBuffer</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>dstOffset</code> <span role="normative">must</span> be a multiple of <span class="monospaced">4</span>
</p>
</li>
<li>
<p>
<code>dataSize</code> <span role="normative">must</span> be less than or equal to <span class="monospaced">65536</span>
</p>
</li>
<li>
<p>
<code>dataSize</code> <span role="normative">must</span> be a multiple of <span class="monospaced">4</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>dstBuffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pData</code> <span role="normative">must</span> be a pointer to an array of <code>dataSize</code> bytes
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support transfer, graphics, or compute operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
<code>dataSize</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and <code>dstBuffer</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer<br>
graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The <code>pData</code> parameter was of type <code>uint32_t</code>*` instead of <code>void</code>*
prior to revision 1.0.19 of the Specification and <code><a href="#VK_HEADER_VERSION">VK_HEADER_VERSION</a></code> 19
of <span class="monospaced">vulkan.h</span>.
This was a historical anomaly, as the source data may be of other types.</p></div>
</td>
</tr></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copies">18. Copy Commands</h2>
<div class="sectionbody">
<div class="paragraph"><p>An application <span role="normative">can</span> copy buffer and image data using several methods
depending on the type of data transfer.
Data <span role="normative">can</span> be copied between buffer objects with <code>vkCmdCopyBuffer</code> and a
portion of an image <span role="normative">can</span> be copied to another image with
<code>vkCmdCopyImage</code>.
Image data <span role="normative">can</span> also be copied to and from buffer memory using
<code>vkCmdCopyImageToBuffer</code> and <code>vkCmdCopyBufferToImage</code>.
Image data <span role="normative">can</span> be blitted (with or without scaling and filtering) with
<code>vkCmdBlitImage</code>.
Multisampled images <span role="normative">can</span> be resolved to a non-multisampled image with
<code>vkCmdResolveImage</code>.</p></div>
<div class="sect2">
<h3 id="_common_operation">18.1. Common Operation</h3>
<div class="paragraph"><p>Some rules for valid operation are common to all copy commands:</p></div>
<div class="ulist"><ul>
<li>
<p>
Copy commands <span role="normative">must</span> be recorded outside of a render pass instance.
</p>
</li>
<li>
<p>
For non-sparse resources, the union of the source regions in a given
    buffer or image <span role="normative">must</span> not overlap the union of the destination regions
    in the same buffer or image.
</p>
</li>
<li>
<p>
For sparse resources, the set of bytes used by all the source regions
    <span role="normative">must</span> not intersect the set of bytes used by all the destination
    regions.
</p>
</li>
<li>
<p>
Copy regions <span role="normative">must</span> be non-empty.
</p>
</li>
<li>
<p>
Regions <span role="normative">must</span> not extend outside the bounds of the buffer or image
    level, except that regions of compressed images <span role="normative">can</span> extend as far as
    the dimension of the image level rounded up to a complete compressed
    texel block.
</p>
</li>
<li>
<p>
Source image subresources <span role="normative">must</span> be in either the
    <code>VK_IMAGE_LAYOUT_GENERAL</code> or
    <code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> layout.
    Destination image subresources <span role="normative">must</span> be in either the
    <code>VK_IMAGE_LAYOUT_GENERAL</code> or
    <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> layout.
    As a consequence, if an image subresource is used as both source and
    destination of a copy, it <span role="normative">must</span> be in the <code>VK_IMAGE_LAYOUT_GENERAL</code>
    layout.
</p>
</li>
<li>
<p>
Source images <span role="normative">must</span> use a format that supports
    <code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code>, which is indicated by
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for linearly tiled
    images) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (for
    optimally tiled images) - as returned by
    <code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>.
</p>
</li>
<li>
<p>
Destination images <span role="normative">must</span> use a format that supports
    <code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code>, which is indicated by
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for linearly tiled
    images) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (for
    optimally tiled images) - as returned by
    <code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>.
</p>
</li>
<li>
<p>
Source images <span role="normative">must</span> have been created with the
    <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage bit enabled and destination
    images <span role="normative">must</span> have been created with the
    <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage bit enabled.
</p>
</li>
<li>
<p>
Source buffers <span role="normative">must</span> have been created with the
    <code>VK_BUFFER_USAGE_TRANSFER_SRC_BIT</code> usage bit enabled and destination
    buffers <span role="normative">must</span> have been created with the
    <code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage bit enabled.
</p>
</li>
</ul></div>
<div class="paragraph"><p>All copy commands are treated as &#8220;transfer&#8221; operations for the purposes of
synchronization barriers.</p></div>
</div>
<div class="sect2">
<h3 id="copies-buffers">18.2. Copying Data Between Buffers</h3>
<div class="paragraph"><p>To copy data between buffer objects, call:</p></div>
<div class="listingblock">
<a id="vkCmdCopyBuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdCopyBuffer</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    srcBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    dstBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    regionCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkBufferCopy<span style="color: #990000">*</span>                         pRegions<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>srcBuffer</code> is the source buffer.
</p>
</li>
<li>
<p>
<code>dstBuffer</code> is the destination buffer.
</p>
</li>
<li>
<p>
<code>regionCount</code> is the number of regions to copy.
</p>
</li>
<li>
<p>
<code>pRegions</code> is a pointer to an array of <code><a href="#VkBufferCopy">VkBufferCopy</a></code> structures
    specifying the regions to copy.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Each region in <code>pRegions</code> is copied from the source buffer to the same
region of the destination buffer.
<code>srcBuffer</code> and <code>dstBuffer</code> <span role="normative">can</span> be the same buffer or alias the
same memory, but the result is undefined if the copy regions overlap in
memory.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The <code>size</code> member of a given element of <code>pRegions</code> <span role="normative">must</span> be
    greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
The <code>srcOffset</code> member of a given element of <code>pRegions</code> <span role="normative">must</span> be
    less than the size of <code>srcBuffer</code>
</p>
</li>
<li>
<p>
The <code>dstOffset</code> member of a given element of <code>pRegions</code> <span role="normative">must</span> be
    less than the size of <code>dstBuffer</code>
</p>
</li>
<li>
<p>
The <code>size</code> member of a given element of <code>pRegions</code> <span role="normative">must</span> be less
    than or equal to the size of <code>srcBuffer</code> minus <code>srcOffset</code>
</p>
</li>
<li>
<p>
The <code>size</code> member of a given element of <code>pRegions</code> <span role="normative">must</span> be less
    than or equal to the size of <code>dstBuffer</code> minus <code>dstOffset</code>
</p>
</li>
<li>
<p>
The union of the source regions, and the union of the destination
    regions, specified by the elements of <code>pRegions</code>, <span role="normative">must</span> not overlap
    in memory
</p>
</li>
<li>
<p>
<code>srcBuffer</code> <span role="normative">must</span> have been created with
    <code>VK_BUFFER_USAGE_TRANSFER_SRC_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>srcBuffer</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>dstBuffer</code> <span role="normative">must</span> have been created with
    <code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>dstBuffer</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>srcBuffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>dstBuffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pRegions</code> <span role="normative">must</span> be a pointer to an array of <code>regionCount</code> <code>VkBufferCopy</code> structures
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support transfer, graphics, or compute operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
<code>regionCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Each of <code>commandBuffer</code>, <code>dstBuffer</code>, and <code>srcBuffer</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer<br>
graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>The <code>VkBufferCopy</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkBufferCopy"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkBufferCopy</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkDeviceSize</span>    srcOffset<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>    dstOffset<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>    size<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkBufferCopy<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>srcOffset</code> is the starting offset in bytes from the start of
    <code>srcBuffer</code>.
</p>
</li>
<li>
<p>
<code>dstOffset</code> is the starting offset in bytes from the start of
    <code>dstBuffer</code>.
</p>
</li>
<li>
<p>
<code>size</code> is the number of bytes to copy.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="copies-images">18.3. Copying Data Between Images</h3>
<div class="paragraph"><p><code>vkCmdCopyImage</code> performs image copies in a similar manner to a host
memcpy.
It does not perform general-purpose conversions such as scaling, resizing,
blending, color-space conversion, or format conversions.
Rather, it simply copies raw image data.
<code>vkCmdCopyImage</code> <span role="normative">can</span> copy between images with different formats,
provided the formats are compatible as defined below.</p></div>
<div class="paragraph"><p>To copy data between image objects, call:</p></div>
<div class="listingblock">
<a id="vkCmdCopyImage"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdCopyImage</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     srcImage<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageLayout</span>                               srcImageLayout<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     dstImage<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageLayout</span>                               dstImageLayout<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    regionCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkImageCopy<span style="color: #990000">*</span>                          pRegions<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>srcImage</code> is the source image.
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> is the current layout of the source image
    subresource.
</p>
</li>
<li>
<p>
<code>dstImage</code> is the destination image.
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> is the current layout of the destination image
    subresource.
</p>
</li>
<li>
<p>
<code>regionCount</code> is the number of regions to copy.
</p>
</li>
<li>
<p>
<code>pRegions</code> is a pointer to an array of <code><a href="#VkImageCopy">VkImageCopy</a></code> structures
    specifying the regions to copy.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Each region in <code>pRegions</code> is copied from the source image to the same
region of the destination image.
<code>srcImage</code> and <code>dstImage</code> <span role="normative">can</span> be the same image or alias the same
memory.</p></div>
<div class="paragraph"><p>Copies are done layer by layer starting with <code>baseArrayLayer</code> member of
<code>srcSubresource</code> for the source and <code>dstSubresource</code> for the
destination.
<code>layerCount</code> layers are copied to the destination image.</p></div>
<div class="paragraph" id="copies-images-format-compatibility"><p>The formats of <code>srcImage</code> and <code>dstImage</code> <span role="normative">must</span> be compatible.
Formats are considered compatible if their element size is the same between
both formats.
For example, <code>VK_FORMAT_R8G8B8A8_UNORM</code> is compatible with
<code>VK_FORMAT_R32_UINT</code> because both texels are 4 bytes in size.
Depth/stencil formats <span role="normative">must</span> match exactly.</p></div>
<div class="paragraph"><p><code>vkCmdCopyImage</code> allows copying between size-compatible compressed and
uncompressed internal formats.
Formats are size-compatible if the element size of the uncompressed format
is equal to the element size (compressed texel block size) of the compressed
format.
Such a copy does not perform on-the-fly compression or decompression.
When copying from an uncompressed format to a compressed format, each texel
of uncompressed data of the source image is copied as a raw value to the
corresponding compressed texel block of the destination image.
When copying from a compressed format to an uncompressed format, each
compressed texel block of the source image is copied as a raw value to the
corresponding texel of uncompressed data in the destination image.
Thus, for example, it is legal to copy between a 128-bit uncompressed format
and a compressed format which has a 128-bit sized compressed texel block
representing 4x4 texels (using 8 bits per texel), or between a 64-bit
uncompressed format and a compressed format which has a 64-bit sized
compressed texel block representing 4x4 texels (using 4 bits per texel).</p></div>
<div class="paragraph"><p>When copying between compressed and uncompressed formats the <code>extent</code>
members represent the texel dimensions of the source image and not the
destination.
When copying from a compressed image to an uncompressed image the image
texel dimensions written to the uncompressed image will be source extent
divided by the compressed texel block dimensions.
When copying from an uncompressed image to a compressed image the image
texel dimensions written to the compressed image will be the source extent
multiplied by the compressed texel block dimensions.
In both cases the number of bytes read and the number of bytes written will
be identical.</p></div>
<div class="paragraph"><p>Copying to or from block-compressed images is typically done in multiples of
the compressed texel block size.
For this reason the <code>extent</code> <span role="normative">must</span> be a multiple of the compressed texel
block dimension.
There is one exception to this rule which is <span role="normative">required</span> to handle compressed
images created with dimensions that are not a multiple of the compressed
texel block dimensions: if the <code>srcImage</code> is compressed, then:</p></div>
<div class="ulist"><ul>
<li>
<p>
If <code>extent.width</code> is not a multiple of the compressed texel block
    width, then <span class="eq">(<code>extent.width</code> + <code>srcOffset.x</code>)</span> <span role="normative">must</span> equal
    the image subresource width.
</p>
</li>
<li>
<p>
If <code>extent.height</code> is not a multiple of the compressed texel block
    height, then <span class="eq">(<code>extent.height</code> + <code>srcOffset.y</code>)</span> <span role="normative">must</span> equal
    the image subresource height.
</p>
</li>
<li>
<p>
If <code>extent.depth</code> is not a multiple of the compressed texel block
    depth, then <span class="eq">(<code>extent.depth</code> + <code>srcOffset.z</code>)</span> <span role="normative">must</span> equal
    the image subresource depth.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Similarly, if the <code>dstImage</code> is compressed, then:</p></div>
<div class="ulist"><ul>
<li>
<p>
If <code>extent.width</code> is not a multiple of the compressed texel block
    width, then <span class="eq">(<code>extent.width</code> + <code>dstOffset.x</code>)</span> <span role="normative">must</span> equal
    the image subresource width.
</p>
</li>
<li>
<p>
If <code>extent.height</code> is not a multiple of the compressed texel block
    height, then <span class="eq">(<code>extent.height</code> + <code>dstOffset.y</code>)</span> <span role="normative">must</span> equal
    the image subresource height.
</p>
</li>
<li>
<p>
If <code>extent.depth</code> is not a multiple of the compressed texel block
    depth, then <span class="eq">(<code>extent.depth</code> + <code>dstOffset.z</code>)</span> <span role="normative">must</span> equal
    the image subresource depth.
</p>
</li>
</ul></div>
<div class="paragraph"><p>This allows the last compressed texel block of the image in each
non-multiple dimension to be included as a source or destination of the
copy.</p></div>
<div class="paragraph"><p><code>vkCmdCopyImage</code> <span role="normative">can</span> be used to copy image data between multisample
images, but both images <span role="normative">must</span> have the same number of samples.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The source region specified by a given element of <code>pRegions</code> <span role="normative">must</span>
    be a region that is contained within <code>srcImage</code>
</p>
</li>
<li>
<p>
The destination region specified by a given element of <code>pRegions</code>
    <span role="normative">must</span> be a region that is contained within <code>dstImage</code>
</p>
</li>
<li>
<p>
The union of all source regions, and the union of all destination
    regions, specified by the elements of <code>pRegions</code>, <span role="normative">must</span> not overlap
    in memory
</p>
</li>
<li>
<p>
<code>srcImage</code> <span role="normative">must</span> use a format that supports
    <code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code>, which is indicated by
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for linearly tiled
    images) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (for
    optimally tiled images) - as returned by
    <code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>
</p>
</li>
<li>
<p>
<code>srcImage</code> <span role="normative">must</span> have been created with
    <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>srcImage</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> <span role="normative">must</span> specify the layout of the image subresources
    of <code>srcImage</code> specified in <code>pRegions</code> at the time this command
    is executed on a <code>VkDevice</code>
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> <span role="normative">must</span> be either of
    <code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> or
    <code>VK_IMAGE_LAYOUT_GENERAL</code>
</p>
</li>
<li>
<p>
<code>dstImage</code> <span role="normative">must</span> use a format that supports
    <code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code>, which is indicated by
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for linearly tiled
    images) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (for
    optimally tiled images) - as returned by
    <code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>
</p>
</li>
<li>
<p>
<code>dstImage</code> <span role="normative">must</span> have been created with
    <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>dstImage</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> <span role="normative">must</span> specify the layout of the image subresources
    of <code>dstImage</code> specified in <code>pRegions</code> at the time this command
    is executed on a <code>VkDevice</code>
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> <span role="normative">must</span> be either of
    <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or
    <code>VK_IMAGE_LAYOUT_GENERAL</code>
</p>
</li>
<li>
<p>
The <code><a href="#VkFormat">VkFormat</a></code> of each of <code>srcImage</code> and <code>dstImage</code> <span role="normative">must</span> be
    compatible, as defined <a href="#copies-images-format-compatibility">below</a>
</p>
</li>
<li>
<p>
The sample count of <code>srcImage</code> and <code>dstImage</code> <span role="normative">must</span> match
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>srcImage</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
<li>
<p>
<code>dstImage</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
<li>
<p>
<code>pRegions</code> <span role="normative">must</span> be a pointer to an array of <code>regionCount</code> valid <code>VkImageCopy</code> structures
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support transfer, graphics, or compute operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
<code>regionCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Each of <code>commandBuffer</code>, <code>dstImage</code>, and <code>srcImage</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer<br>
graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>The <code>VkImageCopy</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkImageCopy"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkImageCopy</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkImageSubresourceLayers</span>    srcSubresource<span style="color: #990000">;</span>
    <span style="color: #008080">VkOffset3D</span>                  srcOffset<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageSubresourceLayers</span>    dstSubresource<span style="color: #990000">;</span>
    <span style="color: #008080">VkOffset3D</span>                  dstOffset<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent3D</span>                  extent<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkImageCopy<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>srcSubresource</code> and <code>dstSubresource</code> are
    <code><a href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a></code> structures specifying the image
    subresources of the images used for the source and destination image
    data, respectively.
</p>
</li>
<li>
<p>
<code>srcOffset</code> and <code>dstOffset</code> select the initial x, y, and z
    offsets in texels of the sub-regions of the source and destination image
    data.
</p>
</li>
<li>
<p>
<code>extent</code> is the size in texels of the source image to copy in
    <code>width</code>, <code>height</code> and <code>depth</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>For <code>VK_IMAGE_TYPE_3D</code> images, copies are performed slice by slice
starting with the <code>z</code> member of the <code>srcOffset</code> or <code>dstOffset</code>,
and copying <code>depth</code> slices.
For images with multiple layers, copies are performed layer by layer
starting with the <code>baseArrayLayer</code> member of the <code>srcSubresource</code> or
<code>dstSubresource</code> and copying <code>layerCount</code> layers.
Image data <span role="normative">can</span> be copied between images with different image types.
If one image is <code>VK_IMAGE_TYPE_3D</code> and the other image is
<code>VK_IMAGE_TYPE_2D</code> with multiple layers, then each slice is copied to or
from a different layer.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The <code>aspectMask</code> member of <code>srcSubresource</code> and
    <code>dstSubresource</code> <span role="normative">must</span> match
</p>
</li>
<li>
<p>
The number of slices of the <code>extent</code> (for 3D) or layers of the
    <code>srcSubresource</code> (for non-3D) <span role="normative">must</span> match the number of slices of
    the <code>extent</code> (for 3D) or layers of the <code>dstSubresource</code> (for
    non-3D)
</p>
</li>
<li>
<p>
If either of the calling command&#8217;s <code>srcImage</code> or <code>dstImage</code>
    parameters are of <code><a href="#VkImageType">VkImageType</a></code> <code>VK_IMAGE_TYPE_3D</code>, the
    <code>baseArrayLayer</code> and <code>layerCount</code> members of the corresponding
    subresource <span role="normative">must</span> be <span class="monospaced">0</span> and <span class="monospaced">1</span>, respectively
</p>
</li>
<li>
<p>
The <code>aspectMask</code> member of <code>srcSubresource</code> <span role="normative">must</span> specify
    aspects present in the calling command&#8217;s <code>srcImage</code>
</p>
</li>
<li>
<p>
The <code>aspectMask</code> member of <code>dstSubresource</code> <span role="normative">must</span> specify
    aspects present in the calling command&#8217;s <code>dstImage</code>
</p>
</li>
<li>
<p>
<code>srcOffset.x</code> and (<code>extent.width</code> + <code>srcOffset.x</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the
    source image subresource width
</p>
</li>
<li>
<p>
<code>srcOffset.y</code> and (<code>extent.height</code> + <code>srcOffset.y</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the
    source image subresource height
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>srcImage</code> is of type
    <code>VK_IMAGE_TYPE_1D</code>, then <code>srcOffset.y</code> <span role="normative">must</span> be <span class="monospaced">0</span> and
    <code>extent.height</code> <span role="normative">must</span> be <span class="monospaced">1</span>.
</p>
</li>
<li>
<p>
<code>srcOffset.z</code> and (<code>extent.depth</code> + <code>srcOffset.z</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the
    source image subresource depth
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>srcImage</code> is of type
    <code>VK_IMAGE_TYPE_1D</code> or <code>VK_IMAGE_TYPE_2D</code>, then <code>srcOffset.z</code>
    <span role="normative">must</span> be <span class="monospaced">0</span> and <code>extent.depth</code> <span role="normative">must</span> be <span class="monospaced">1</span>.
</p>
</li>
<li>
<p>
<code>srcSubresource.baseArrayLayer</code> <span role="normative">must</span> be less than and
    (<code>srcSubresource.layerCount</code> + <code>srcSubresource.baseArrayLayer</code>)
    <span role="normative">must</span> be less than or equal to the number of layers in the source image
</p>
</li>
<li>
<p>
<code>dstOffset.x</code> and (<code>extent.width</code> + <code>dstOffset.x</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the
    destination image subresource width
</p>
</li>
<li>
<p>
<code>dstOffset.y</code> and (<code>extent.height</code> + <code>dstOffset.y</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the
    destination image subresource height
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>dstImage</code> is of type
    <code>VK_IMAGE_TYPE_1D</code>, then <code>dstOffset.y</code> <span role="normative">must</span> be <span class="monospaced">0</span> and
    <code>extent.height</code> <span role="normative">must</span> be <span class="monospaced">1</span>.
</p>
</li>
<li>
<p>
<code>dstOffset.z</code> and (<code>extent.depth</code> + <code>dstOffset.z</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the
    destination image subresource depth
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>dstImage</code> is of type
    <code>VK_IMAGE_TYPE_1D</code> or <code>VK_IMAGE_TYPE_2D</code>, then <code>dstOffset.z</code>
    <span role="normative">must</span> be <span class="monospaced">0</span> and <code>extent.depth</code> <span role="normative">must</span> be <span class="monospaced">1</span>.
</p>
</li>
<li>
<p>
<code>dstSubresource.baseArrayLayer</code> <span role="normative">must</span> be less than and
    (<code>dstSubresource.layerCount</code> + <code>dstSubresource.baseArrayLayer</code>)
    <span role="normative">must</span> be less than or equal to the number of layers in the destination
    image
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>srcImage</code> is a compressed format image:
</p>
<div class="ulist"><ul>
<li>
<p>
all members of <code>srcOffset</code> <span role="normative">must</span> be a multiple of the corresponding
     dimensions of the compressed texel block
</p>
</li>
<li>
<p>
<code>extent.width</code> <span role="normative">must</span> be a multiple of the compressed texel block
     width or (<code>extent.width</code> + <code>srcOffset.x</code>) <span role="normative">must</span> equal the
     source image subresource width
</p>
</li>
<li>
<p>
<code>extent.height</code> <span role="normative">must</span> be a multiple of the compressed texel block
     height or (<code>extent.height</code> + <code>srcOffset.y</code>) <span role="normative">must</span> equal the
     source image subresource height
</p>
</li>
<li>
<p>
<code>extent.depth</code> <span role="normative">must</span> be a multiple of the compressed texel block
     depth or (<code>extent.depth</code> + <code>srcOffset.z</code>) <span role="normative">must</span> equal the
     source image subresource depth
</p>
</li>
</ul></div>
</li>
<li>
<p>
If the calling command&#8217;s <code>dstImage</code> is a compressed format image:
</p>
<div class="ulist"><ul>
<li>
<p>
all members of <code>dstOffset</code> <span role="normative">must</span> be a multiple of the corresponding
     dimensions of the compressed texel block
</p>
</li>
<li>
<p>
<code>extent.width</code> <span role="normative">must</span> be a multiple of the compressed texel block
     width or (<code>extent.width</code> + <code>dstOffset.x</code>) <span role="normative">must</span> equal the
     destination image subresource width
</p>
</li>
<li>
<p>
<code>extent.height</code> <span role="normative">must</span> be a multiple of the compressed texel block
     height or (<code>extent.height</code> + <code>dstOffset.y</code>) <span role="normative">must</span> equal the
     destination image subresource height
</p>
</li>
<li>
<p>
<code>extent.depth</code> <span role="normative">must</span> be a multiple of the compressed texel block
     depth or (<code>extent.depth</code> + <code>dstOffset.z</code>) <span role="normative">must</span> equal the
     destination image subresource depth
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>srcOffset</code>, <code>dstOffset</code>, and <code>extent</code> <span role="normative">must</span> respect the
    image transfer granularity requirements of the queue family that it will
    be submitted against, as described in
    <a href="#devsandqueues-physical-device-enumeration">Physical Device     Enumeration</a>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>srcSubresource</code> <span role="normative">must</span> be a valid <code>VkImageSubresourceLayers</code> structure
</p>
</li>
<li>
<p>
<code>dstSubresource</code> <span role="normative">must</span> be a valid <code>VkImageSubresourceLayers</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkImageSubresourceLayers</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkImageSubresourceLayers"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkImageSubresourceLayers</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkImageAspectFlags</span>    aspectMask<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              mipLevel<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              baseArrayLayer<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              layerCount<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkImageSubresourceLayers<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>aspectMask</code> is a combination of <code><a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code>,
    selecting the color, depth and/or stencil aspects to be copied.
</p>
</li>
<li>
<p>
<code>mipLevel</code> is the mipmap level to copy from.
</p>
</li>
<li>
<p>
<code>baseArrayLayer</code> and <code>layerCount</code> are the starting layer and
    number of layers to copy.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>aspectMask</code> contains <code>VK_IMAGE_ASPECT_COLOR_BIT</code>, it <span role="normative">must</span>
    not contain either of <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or
    <code>VK_IMAGE_ASPECT_STENCIL_BIT</code>
</p>
</li>
<li>
<p>
<code>aspectMask</code> <span role="normative">must</span> not contain <code>VK_IMAGE_ASPECT_METADATA_BIT</code>
</p>
</li>
<li>
<p>
<code>mipLevel</code> <span role="normative">must</span> be less than the <code>mipLevels</code> specified in
    <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the image was created
</p>
</li>
<li>
<p>
<span class="eq">(<code>baseArrayLayer</code> + <code>layerCount</code>)</span> <span role="normative">must</span> be less than or
    equal to the <code>arrayLayers</code> specified in <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when
    the image was created
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>aspectMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>aspectMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="copies-buffers-images">18.4. Copying Data Between Buffers and Images</h3>
<div class="paragraph"><p>To copy data from a buffer object to an image object, call:</p></div>
<div class="listingblock">
<a id="vkCmdCopyBufferToImage"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdCopyBufferToImage</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    srcBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     dstImage<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageLayout</span>                               dstImageLayout<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    regionCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkBufferImageCopy<span style="color: #990000">*</span>                    pRegions<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>srcBuffer</code> is the source buffer.
</p>
</li>
<li>
<p>
<code>dstImage</code> is the destination image.
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> is the layout of the destination image subresources
    for the copy.
</p>
</li>
<li>
<p>
<code>regionCount</code> is the number of regions to copy.
</p>
</li>
<li>
<p>
<code>pRegions</code> is a pointer to an array of <code><a href="#VkBufferImageCopy">VkBufferImageCopy</a></code>
    structures specifying the regions to copy.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Each region in <code>pRegions</code> is copied from the specified region of the
source buffer to the specified region of the destination image.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The buffer region specified by a given element of <code>pRegions</code> <span role="normative">must</span>
    be a region that is contained within <code>srcBuffer</code>
</p>
</li>
<li>
<p>
The image region specified by a given element of <code>pRegions</code> <span role="normative">must</span> be
    a region that is contained within <code>dstImage</code>
</p>
</li>
<li>
<p>
The union of all source regions, and the union of all destination
    regions, specified by the elements of <code>pRegions</code>, <span role="normative">must</span> not overlap
    in memory
</p>
</li>
<li>
<p>
<code>srcBuffer</code> <span role="normative">must</span> have been created with
    <code>VK_BUFFER_USAGE_TRANSFER_SRC_BIT</code> usage flag
</p>
</li>
<li>
<p>
<code>dstImage</code> <span role="normative">must</span> use a format that supports
    <code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code>, which is indicated by
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for linearly tiled
    images) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (for
    optimally tiled images) - as returned by
    <code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>
</p>
</li>
<li>
<p>
If <code>srcBuffer</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>dstImage</code> <span role="normative">must</span> have been created with
    <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>dstImage</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>dstImage</code> <span role="normative">must</span> have a sample count equal to
    <code>VK_SAMPLE_COUNT_1_BIT</code>
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> <span role="normative">must</span> specify the layout of the image subresources
    of <code>dstImage</code> specified in <code>pRegions</code> at the time this command
    is executed on a <code>VkDevice</code>
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> <span role="normative">must</span> be either of
    <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or
    <code>VK_IMAGE_LAYOUT_GENERAL</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>srcBuffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>dstImage</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
<li>
<p>
<code>pRegions</code> <span role="normative">must</span> be a pointer to an array of <code>regionCount</code> valid <code>VkBufferImageCopy</code> structures
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support transfer, graphics, or compute operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
<code>regionCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Each of <code>commandBuffer</code>, <code>dstImage</code>, and <code>srcBuffer</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer<br>
graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>To copy data from an image object to a buffer object, call:</p></div>
<div class="listingblock">
<a id="vkCmdCopyImageToBuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdCopyImageToBuffer</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     srcImage<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageLayout</span>                               srcImageLayout<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    dstBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    regionCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkBufferImageCopy<span style="color: #990000">*</span>                    pRegions<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>srcImage</code> is the source image.
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> is the layout of the source image subresources for
    the copy.
</p>
</li>
<li>
<p>
<code>dstBuffer</code> is the destination buffer.
</p>
</li>
<li>
<p>
<code>regionCount</code> is the number of regions to copy.
</p>
</li>
<li>
<p>
<code>pRegions</code> is a pointer to an array of <code><a href="#VkBufferImageCopy">VkBufferImageCopy</a></code>
    structures specifying the regions to copy.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Each region in <code>pRegions</code> is copied from the specified region of the
source image to the specified region of the destination buffer.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The image region specified by a given element of <code>pRegions</code> <span role="normative">must</span> be
    a region that is contained within <code>srcImage</code>
</p>
</li>
<li>
<p>
The buffer region specified by a given element of <code>pRegions</code> <span role="normative">must</span>
    be a region that is contained within <code>dstBuffer</code>
</p>
</li>
<li>
<p>
The union of all source regions, and the union of all destination
    regions, specified by the elements of <code>pRegions</code>, <span role="normative">must</span> not overlap
    in memory
</p>
</li>
<li>
<p>
<code>srcImage</code> <span role="normative">must</span> use a format that supports
    <code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code>, which is indicated by
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for linearly tiled
    images) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (for
    optimally tiled images) - as returned by
    <code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>
</p>
</li>
<li>
<p>
<code>srcImage</code> <span role="normative">must</span> have been created with
    <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>srcImage</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>srcImage</code> <span role="normative">must</span> have a sample count equal to
    <code>VK_SAMPLE_COUNT_1_BIT</code>
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> <span role="normative">must</span> specify the layout of the image subresources
    of <code>srcImage</code> specified in <code>pRegions</code> at the time this command
    is executed on a <code>VkDevice</code>
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> <span role="normative">must</span> be either of
    <code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> or
    <code>VK_IMAGE_LAYOUT_GENERAL</code>
</p>
</li>
<li>
<p>
<code>dstBuffer</code> <span role="normative">must</span> have been created with
    <code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>dstBuffer</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>srcImage</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
<li>
<p>
<code>dstBuffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pRegions</code> <span role="normative">must</span> be a pointer to an array of <code>regionCount</code> valid <code>VkBufferImageCopy</code> structures
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support transfer, graphics, or compute operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
<code>regionCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Each of <code>commandBuffer</code>, <code>dstBuffer</code>, and <code>srcImage</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer<br>
graphics<br>
compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>For both <code><a href="#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a></code> and <code><a href="#vkCmdCopyImageToBuffer">vkCmdCopyImageToBuffer</a></code>, each
element of <code>pRegions</code> is a structure defined as:</p></div>
<div class="listingblock">
<a id="VkBufferImageCopy"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkBufferImageCopy</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkDeviceSize</span>                bufferOffset<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                    bufferRowLength<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                    bufferImageHeight<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageSubresourceLayers</span>    imageSubresource<span style="color: #990000">;</span>
    <span style="color: #008080">VkOffset3D</span>                  imageOffset<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent3D</span>                  imageExtent<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkBufferImageCopy<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>bufferOffset</code> is the offset in bytes from the start of the buffer
    object where the image data is copied from or to.
</p>
</li>
<li>
<p>
<code>bufferRowLength</code> and <code>bufferImageHeight</code> specify the data in
    buffer memory as a subregion of a larger two- or three-dimensional
    image, and control the addressing calculations of data in buffer memory.
    If either of these values is zero, that aspect of the buffer memory is
    considered to be tightly packed according to the <code>imageExtent</code>.
</p>
</li>
<li>
<p>
<code>imageSubresource</code> is a <code><a href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a></code> used to
    specify the specific image subresources of the image used for the source
    or destination image data.
</p>
</li>
<li>
<p>
<code>imageOffset</code> selects the initial x, y, z offsets in texels of the
    sub-region of the source or destination image data.
</p>
</li>
<li>
<p>
<code>imageExtent</code> is the size in texels of the image to copy in
    <code>width</code>, <code>height</code> and <code>depth</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When copying to or from a depth or stencil aspect, the data in buffer memory
uses a layout that is a (mostly) tightly packed representation of the depth
or stencil data.
Specifically:</p></div>
<div class="ulist"><ul>
<li>
<p>
data copied to or from the stencil aspect of any depth/stencil format is
    tightly packed with one <code>VK_FORMAT_S8_UINT</code> value per texel.
</p>
</li>
<li>
<p>
data copied to or from the depth aspect of a <code>VK_FORMAT_D16_UNORM</code>
    or <code>VK_FORMAT_D16_UNORM_S8_UINT</code> format is tightly packed with one
    <code>VK_FORMAT_D16_UNORM</code> value per texel.
</p>
</li>
<li>
<p>
data copied to or from the depth aspect of a <code>VK_FORMAT_D32_SFLOAT</code>
    or <code>VK_FORMAT_D32_SFLOAT_S8_UINT</code> format is tightly packed with one
    <code>VK_FORMAT_D32_SFLOAT</code> value per texel.
</p>
</li>
<li>
<p>
data copied to or from the depth aspect of a
    <code>VK_FORMAT_X8_D24_UNORM_PACK32</code> or <code>VK_FORMAT_D24_UNORM_S8_UINT</code>
    format is packed with one 32-bit word per texel with the D24 value in
    the LSBs of the word, and undefined values in the eight MSBs.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>To copy both the depth and stencil aspects of a depth/stencil format, two
entries in <code>pRegions</code> <span role="normative">can</span> be used, where one specifies the depth aspect
in <code>imageSubresource</code>, and the other specifies the stencil aspect.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Because depth or stencil aspect buffer to image copies <span role="normative">may</span> require format
conversions on some implementations, they are not supported on queues that
do not support graphics.
When copying to a depth aspect, the data in buffer memory <span role="normative">must</span> be in the
the range <span class="eq">[0,1]</span> or undefined results occur.</p></div>
<div class="paragraph"><p>Copies are done layer by layer starting with image layer
<code>baseArrayLayer</code> member of <code>imageSubresource</code>.
<code>layerCount</code> layers are copied from the source image or to the
destination image.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the the calling command&#8217;s <code>VkImage</code> parameter&#8217;s format is not a
    depth/stencil format, then <code>bufferOffset</code> <span role="normative">must</span> be a multiple of the
    format&#8217;s element size
</p>
</li>
<li>
<p>
<code>bufferOffset</code> <span role="normative">must</span> be a multiple of <span class="monospaced">4</span>
</p>
</li>
<li>
<p>
<code>bufferRowLength</code> <span role="normative">must</span> be <span class="monospaced">0</span>, or greater than or equal to the
    <code>width</code> member of <code>imageExtent</code>
</p>
</li>
<li>
<p>
<code>bufferImageHeight</code> <span role="normative">must</span> be <span class="monospaced">0</span>, or greater than or equal to the
    <code>height</code> member of <code>imageExtent</code>
</p>
</li>
<li>
<p>
<code>imageOffset.x</code> and (<code>imageExtent.width</code> + <code>imageOffset.x</code>)
    <span role="normative">must</span> both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the
    image subresource width
</p>
</li>
<li>
<p>
<code>imageOffset.y</code> and (imageExtent.height + <code>imageOffset.y</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the image
    subresource height
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>srcImage</code> (<code><a href="#vkCmdCopyImageToBuffer">vkCmdCopyImageToBuffer</a></code>)
    or <code>dstImage</code> (<code><a href="#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a></code>) is of type
    <code>VK_IMAGE_TYPE_1D</code>, then <code>imageOffset.y</code> <span role="normative">must</span> be <span class="monospaced">0</span> and
    <code>imageExtent.height</code> <span role="normative">must</span> be <span class="monospaced">1</span>.
</p>
</li>
<li>
<p>
<code>imageOffset.z</code> and (imageExtent.depth + <code>imageOffset.z</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the image
    subresource depth
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>srcImage</code> (<code><a href="#vkCmdCopyImageToBuffer">vkCmdCopyImageToBuffer</a></code>)
    or <code>dstImage</code> (<code><a href="#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a></code>) is of type
    <code>VK_IMAGE_TYPE_1D</code> or <code>VK_IMAGE_TYPE_2D</code>, then
    <code>imageOffset.z</code> <span role="normative">must</span> be <span class="monospaced">0</span> and <code>imageExtent.depth</code> <span role="normative">must</span> be
    <span class="monospaced">1</span>.
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>VkImage</code> parameter is a compressed format
    image:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>bufferRowLength</code> <span role="normative">must</span> be a multiple of the compressed texel block
     width
</p>
</li>
<li>
<p>
<code>bufferImageHeight</code> <span role="normative">must</span> be a multiple of the compressed texel
     block height
</p>
</li>
<li>
<p>
all members of <code>imageOffset</code> <span role="normative">must</span> be a multiple of the
     corresponding dimensions of the compressed texel block
</p>
</li>
<li>
<p>
<code>bufferOffset</code> <span role="normative">must</span> be a multiple of the compressed texel block
     size in bytes
</p>
</li>
<li>
<p>
<code>imageExtent.width</code> <span role="normative">must</span> be a multiple of the compressed texel
     block width or (<code>imageExtent.width</code> + <code>imageOffset.x</code>) <span role="normative">must</span>
     equal the image subresource width
</p>
</li>
<li>
<p>
<code>imageExtent.height</code> <span role="normative">must</span> be a multiple of the compressed texel
     block height or (<code>imageExtent.height</code> + <code>imageOffset.y</code>) <span role="normative">must</span>
     equal the image subresource height
</p>
</li>
<li>
<p>
<code>imageExtent.depth</code> <span role="normative">must</span> be a multiple of the compressed texel
     block depth or (<code>imageExtent.depth</code> + <code>imageOffset.z</code>) <span role="normative">must</span>
     equal the image subresource depth
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>bufferOffset</code>, <code>bufferRowLength</code>, <code>bufferImageHeight</code> and
    all members of <code>imageOffset</code> and <code>imageExtent</code> <span role="normative">must</span> respect the
    image transfer granularity requirements of the queue family that it will
    be submitted against, as described in
    <a href="#devsandqueues-physical-device-enumeration">Physical Device     Enumeration</a>
</p>
</li>
<li>
<p>
The <code>aspectMask</code> member of <code>imageSubresource</code> <span role="normative">must</span> specify
    aspects present in the calling command&#8217;s <code>VkImage</code> parameter
</p>
</li>
<li>
<p>
The <code>aspectMask</code> member of <code>imageSubresource</code> <span role="normative">must</span> only have a
    single bit set
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>VkImage</code> parameter is of <code><a href="#VkImageType">VkImageType</a></code>
    <code>VK_IMAGE_TYPE_3D</code>, the <code>baseArrayLayer</code> and <code>layerCount</code>
    members of <code>imageSubresource</code> <span role="normative">must</span> be <span class="monospaced">0</span> and <span class="monospaced">1</span>, respectively
</p>
</li>
<li>
<p>
When copying to the depth aspect of an image subresource, the data in
    the source buffer <span role="normative">must</span> be in the range <span class="eq">[0,1]</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>imageSubresource</code> <span role="normative">must</span> be a valid <code>VkImageSubresourceLayers</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Pseudocode for image/buffer addressing is:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>rowLength <span style="color: #990000">=</span> region<span style="color: #990000">-&gt;</span>bufferRowLength<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>rowLength <span style="color: #990000">==</span> <span style="color: #993399">0</span><span style="color: #990000">)</span>
    rowLength <span style="color: #990000">=</span> region<span style="color: #990000">-&gt;</span>imageExtent<span style="color: #990000">.</span>width<span style="color: #990000">;</span>

imageHeight <span style="color: #990000">=</span> region<span style="color: #990000">-&gt;</span>bufferImageHeight<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>imageHeight <span style="color: #990000">==</span> <span style="color: #993399">0</span><span style="color: #990000">)</span>
    imageHeight <span style="color: #990000">=</span> region<span style="color: #990000">-&gt;</span>imageExtent<span style="color: #990000">.</span>height<span style="color: #990000">;</span>

elementSize <span style="color: #990000">=</span> <span style="color: #990000">&lt;</span>element size of the format of <span style="color: #008080">the</span> src<span style="color: #990000">/</span>dstImage<span style="color: #990000">&gt;;</span>

<span style="color: #008080">address</span> <span style="font-weight: bold"><span style="color: #000000">of</span></span> <span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>z<span style="color: #990000">)</span> <span style="color: #990000">=</span> region<span style="color: #990000">-&gt;</span>bufferOffset <span style="color: #990000">+</span> <span style="color: #990000">(((</span>z <span style="color: #990000">*</span> imageHeight<span style="color: #990000">)</span> <span style="color: #990000">+</span> y<span style="color: #990000">)</span> <span style="color: #990000">*</span> rowLength <span style="color: #990000">+</span> x<span style="color: #990000">)</span> <span style="color: #990000">*</span> elementSize<span style="color: #990000">;</span>

<span style="color: #008080">where</span> x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>z <span style="color: #008080">range</span> <span style="font-weight: bold"><span style="color: #000000">from</span></span> <span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #008080">to</span> region<span style="color: #990000">-&gt;</span>imageExtent<span style="color: #990000">.</span><span style="color: #FF0000">{</span>width<span style="color: #990000">,</span>height<span style="color: #990000">,</span>depth<span style="color: #FF0000">}</span><span style="color: #990000">.</span></tt></pre></div></div>
<div class="paragraph"><p>Note that <code>imageOffset</code> does not affect addressing calculations for
buffer memory.
Instead, <code>bufferOffset</code> <span role="normative">can</span> be used to select the starting address in
buffer memory.</p></div>
<div class="paragraph"><p>For block-compression formats, all parameters are still specified in texels
rather than compressed texel blocks, but the addressing math operates on
whole compressed texel blocks.
Pseudocode for compressed copy addressing is:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>rowLength <span style="color: #990000">=</span> region<span style="color: #990000">-&gt;</span>bufferRowLength<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>rowLength <span style="color: #990000">==</span> <span style="color: #993399">0</span><span style="color: #990000">)</span>
    rowLength <span style="color: #990000">=</span> region<span style="color: #990000">-&gt;</span>imageExtent<span style="color: #990000">.</span>width<span style="color: #990000">;</span>

imageHeight <span style="color: #990000">=</span> region<span style="color: #990000">-&gt;</span>bufferImageHeight<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>imageHeight <span style="color: #990000">==</span> <span style="color: #993399">0</span><span style="color: #990000">)</span>
    imageHeight <span style="color: #990000">=</span> region<span style="color: #990000">-&gt;</span>imageExtent<span style="color: #990000">.</span>height<span style="color: #990000">;</span>

compressedTexelBlockSizeInBytes <span style="color: #990000">=</span> <span style="color: #990000">&lt;</span>compressed texel block size taken from <span style="color: #008080">the</span> src<span style="color: #990000">/</span>dstImage<span style="color: #990000">&gt;;</span>
rowLength <span style="color: #990000">/=</span> compressedTexelBlockWidth<span style="color: #990000">;</span>
imageHeight <span style="color: #990000">/=</span> compressedTexelBlockHeight<span style="color: #990000">;</span>

<span style="color: #008080">address</span> <span style="font-weight: bold"><span style="color: #000000">of</span></span> <span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>z<span style="color: #990000">)</span> <span style="color: #990000">=</span> region<span style="color: #990000">-&gt;</span>bufferOffset <span style="color: #990000">+</span> <span style="color: #990000">(((</span>z <span style="color: #990000">*</span> imageHeight<span style="color: #990000">)</span> <span style="color: #990000">+</span> y<span style="color: #990000">)</span> <span style="color: #990000">*</span> rowLength <span style="color: #990000">+</span> x<span style="color: #990000">)</span> <span style="color: #990000">*</span> compressedTexelBlockSizeInBytes<span style="color: #990000">;</span>

<span style="color: #008080">where</span> x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>z <span style="color: #008080">range</span> <span style="font-weight: bold"><span style="color: #000000">from</span></span> <span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #008080">to</span> region<span style="color: #990000">-&gt;</span>imageExtent<span style="color: #990000">.</span><span style="color: #FF0000">{</span>width<span style="color: #990000">/</span>compressedTexelBlockWidth<span style="color: #990000">,</span>height<span style="color: #990000">/</span>compressedTexelBlockHeight<span style="color: #990000">,</span>depth<span style="color: #990000">/</span>compressedTexelBlockDepth<span style="color: #FF0000">}</span><span style="color: #990000">.</span></tt></pre></div></div>
<div class="paragraph"><p>Copying to or from block-compressed images is typically done in multiples of
the compressed texel block size.
For this reason the <code>imageExtent</code> <span role="normative">must</span> be a multiple of the compressed
texel block dimension.
There is one exception to this rule which is <span role="normative">required</span> to handle compressed
images created with dimensions that are not a multiple of the compressed
texel block dimensions:</p></div>
<div class="ulist"><ul>
<li>
<p>
If <code>imageExtent.width</code> is not a multiple of the compressed texel
    block width, then <span class="eq">(<code>imageExtent.width</code> + <code>imageOffset.x</code>)</span>
    <span role="normative">must</span> equal the image subresource width.
</p>
</li>
<li>
<p>
If <code>imageExtent.height</code> is not a multiple of the compressed texel
    block height, then <span class="eq">(<code>imageExtent.height</code> &#x002b;
    <code>imageOffset.y</code>)</span> <span role="normative">must</span> equal the image subresource height.
</p>
</li>
<li>
<p>
If <code>imageExtent.depth</code> is not a multiple of the compressed texel
    block depth, then <span class="eq">(<code>imageExtent.depth</code> + <code>imageOffset.z</code>)</span>
    <span role="normative">must</span> equal the image subresource depth.
</p>
</li>
</ul></div>
<div class="paragraph"><p>This allows the last compressed texel block of the image in each
non-multiple dimension to be included as a source or destination of the
copy.</p></div>
</div>
<div class="sect2">
<h3 id="copies-imagescaling">18.5. Image Copies with Scaling</h3>
<div class="paragraph"><p>To copy regions of a source image into a destination image, potentially
performing format conversion, arbitrary scaling, and filtering, call:</p></div>
<div class="listingblock">
<a id="vkCmdBlitImage"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdBlitImage</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     srcImage<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageLayout</span>                               srcImageLayout<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     dstImage<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageLayout</span>                               dstImageLayout<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    regionCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkImageBlit<span style="color: #990000">*</span>                          pRegions<span style="color: #990000">,</span>
    <span style="color: #008080">VkFilter</span>                                    filter<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>srcImage</code> is the source image.
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> is the layout of the source image subresources for
    the blit.
</p>
</li>
<li>
<p>
<code>dstImage</code> is the destination image.
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> is the layout of the destination image subresources
    for the blit.
</p>
</li>
<li>
<p>
<code>regionCount</code> is the number of regions to blit.
</p>
</li>
<li>
<p>
<code>pRegions</code> is a pointer to an array of <code><a href="#VkImageBlit">VkImageBlit</a></code> structures
    specifying the regions to blit.
</p>
</li>
<li>
<p>
<code>filter</code> is a <code><a href="#VkFilter">VkFilter</a></code> specifying the filter to apply if the
    blits require scaling.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkCmdBlitImage</code> <span role="normative">must</span> not be used for multisampled source or
destination images.
Use <code><a href="#vkCmdResolveImage">vkCmdResolveImage</a></code> for this purpose.</p></div>
<div class="paragraph"><p>As the sizes of the source and destination extents <span role="normative">can</span> differ in any
dimension, texels in the source extent are scaled and filtered to the
destination extent.
Scaling occurs via the following operations:</p></div>
<div class="ulist"><ul>
<li>
<p>
For each destination texel, the integer coordinate of that texel is
      converted to an unnormalized texture coordinate, using the effective
      inverse of the equations described in
      <a href="#textures-unnormalized-to-integer">unnormalized to integer       conversion</a>:
</p>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">u<sub>base</sub> = i + &#x00bd;</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">v<sub>base</sub> = j + &#x00bd;</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">w<sub>base</sub> = k + &#x00bd;</span>
</p>
</dd>
</dl></div>
</li>
<li>
<p>
These base coordinates are then offset by the first destination
      offset:
</p>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">u<sub>offset</sub> = u<sub>base</sub> - x<sub>dst0</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">v<sub>offset</sub> = v<sub>base</sub> - y<sub>dst0</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">w<sub>offset</sub> = w<sub>base</sub> - z<sub>dst0</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">a<sub>offset</sub> = a - <code>baseArrayCount</code><sub>dst</sub></span>
</p>
</dd>
</dl></div>
</li>
<li>
<p>
The scale is determined from the source and destination regions, and
      applied to the offset coordinates:
</p>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">scale_u = (x<sub>src1</sub> - x<sub>src0</sub>) / (x<sub>dst1</sub> - x<sub>dst0</sub>)</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">scale_v = (y<sub>src1</sub> - y<sub>src0</sub>) / (y<sub>dst1</sub> - y<sub>dst0</sub>)</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">scale_w = (z<sub>src1</sub> - z<sub>src0</sub>) / (z<sub>dst1</sub> - z<sub>dst0</sub>)</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">u<sub>scaled</sub> = u<sub>offset</sub> * scale<sub>u</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">v<sub>scaled</sub> = v<sub>offset</sub> * scale<sub>v</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">w<sub>scaled</sub> = w<sub>offset</sub> * scale<sub>w</sub></span>
</p>
</dd>
</dl></div>
</li>
<li>
<p>
Finally the source offset is added to the scaled coordinates, to
      determine the final unnormalized coordinates used to sample from
      <code>srcImage</code>:<br>
</p>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">u = u<sub>scaled</sub> + x<sub>src0</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">v = v<sub>scaled</sub> + y<sub>src0</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">w = w<sub>scaled</sub> + z<sub>src0</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">q = <code>mipLevel</code></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">a = a<sub>offset</sub> + <code>baseArrayCount</code><sub>src</sub></span>
</p>
</dd>
</dl></div>
</li>
</ul></div>
<div class="paragraph"><p>These coordinates are used to sample from the source image, as described in
<a href="#textures">Image Operations chapter</a>, with the filter mode equal to that
of <code>filter</code>, a mipmap mode of <code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code> and
an address mode of <code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code>.
Implementations <span role="normative">must</span> clamp at the edge of the source image, and <span role="normative">may</span>
additionally clamp to the edge of the source region.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Due to allowable rounding errors in the generation of the source texture
coordinates, it is not always possible to guarantee exactly which source
texels will be sampled for a given blit.
As rounding errors are implementation dependent, the exact results of a
blitting operation are also implementation dependent.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Blits are done layer by layer starting with the <code>baseArrayLayer</code> member
of <code>srcSubresource</code> for the source and <code>dstSubresource</code> for the
destination.
<code>layerCount</code> layers are blitted to the destination image.</p></div>
<div class="paragraph"><p>3D textures are blitted slice by slice.
Slices in the source region bounded by <code>srcOffsets</code>[0].<code>z</code> and
<code>srcOffsets</code>[1].<code>z</code> are copied to slices in the destination region
bounded by <code>dstOffsets</code>[0].<code>z</code> and <code>dstOffsets</code>[1].<code>z</code>.
For each destination slice, a source z coordinate is linearly interpolated
between <code>srcOffsets</code>[0].<code>z</code> and <code>srcOffsets</code>[1].<code>z</code>.
If the <code>filter</code> parameter is <code>VK_FILTER_LINEAR</code> then the value
sampled from the source image is taken by doing linear filtering using the
interpolated z coordinate.
If <code>filter</code> parameter is <code>VK_FILTER_NEAREST</code> then value sampled from
the source image is taken from the single nearest slice (with undefined
rounding mode).</p></div>
<div class="paragraph"><p>The following filtering and conversion rules apply:</p></div>
<div class="ulist"><ul>
<li>
<p>
Integer formats <span role="normative">can</span> only be converted to other integer formats with the
    same signedness.
</p>
</li>
<li>
<p>
No format conversion is supported between depth/stencil images.
    The formats <span role="normative">must</span> match.
</p>
</li>
<li>
<p>
Format conversions on unorm, snorm, unscaled and packed float formats of
    the copied aspect of the image are performed by first converting the
    pixels to float values.
</p>
</li>
<li>
<p>
For sRGB source formats, nonlinear RGB values are converted to linear
    representation prior to filtering.
</p>
</li>
<li>
<p>
After filtering, the float values are first clamped and then cast to the
    destination image format.
    In case of sRGB destination format, linear RGB values are converted to
    nonlinear representation before writing the pixel to the image.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Signed and unsigned integers are converted by first clamping to the
representable range of the destination format, then casting the value.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The source region specified by a given element of <code>pRegions</code> <span role="normative">must</span>
    be a region that is contained within <code>srcImage</code>
</p>
</li>
<li>
<p>
The destination region specified by a given element of <code>pRegions</code>
    <span role="normative">must</span> be a region that is contained within <code>dstImage</code>
</p>
</li>
<li>
<p>
The union of all destination regions, specified by the elements of
    <code>pRegions</code>, <span role="normative">must</span> not overlap in memory with any texel that <span role="normative">may</span> be
    sampled during the blit operation
</p>
</li>
<li>
<p>
<code>srcImage</code> <span role="normative">must</span> use a format that supports
    <code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code>, which is indicated by
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for linear tiled
    images) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (for
    optimally tiled images) - as returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
<li>
<p>
<code>srcImage</code> <span role="normative">must</span> have been created with
    <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>srcImage</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> <span role="normative">must</span> specify the layout of the image subresources
    of <code>srcImage</code> specified in <code>pRegions</code> at the time this command
    is executed on a <code>VkDevice</code>
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> <span role="normative">must</span> be either of
    <code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> or
    <code>VK_IMAGE_LAYOUT_GENERAL</code>
</p>
</li>
<li>
<p>
<code>dstImage</code> <span role="normative">must</span> use a format that supports
    <code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code>, which is indicated by
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for linear tiled
    images) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> (for
    optimally tiled images) - as returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
<li>
<p>
<code>dstImage</code> <span role="normative">must</span> have been created with
    <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag
</p>
</li>
<li>
<p>
If <code>dstImage</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> <span role="normative">must</span> specify the layout of the image subresources
    of <code>dstImage</code> specified in <code>pRegions</code> at the time this command
    is executed on a <code>VkDevice</code>
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> <span role="normative">must</span> be either of
    <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or
    <code>VK_IMAGE_LAYOUT_GENERAL</code>
</p>
</li>
<li>
<p>
The sample count of <code>srcImage</code> and <code>dstImage</code> <span role="normative">must</span> both be
    equal to <code>VK_SAMPLE_COUNT_1_BIT</code>
</p>
</li>
<li>
<p>
If either of <code>srcImage</code> or <code>dstImage</code> was created with a signed
    integer <code><a href="#VkFormat">VkFormat</a></code>, the other <span role="normative">must</span> also have been created with a
    signed integer <code><a href="#VkFormat">VkFormat</a></code>
</p>
</li>
<li>
<p>
If either of <code>srcImage</code> or <code>dstImage</code> was created with an
    unsigned integer <code><a href="#VkFormat">VkFormat</a></code>, the other <span role="normative">must</span> also have been created
    with an unsigned integer <code><a href="#VkFormat">VkFormat</a></code>
</p>
</li>
<li>
<p>
If either of <code>srcImage</code> or <code>dstImage</code> was created with a
    depth/stencil format, the other <span role="normative">must</span> have exactly the same format
</p>
</li>
<li>
<p>
If <code>srcImage</code> was created with a depth/stencil format, <code>filter</code>
    <span role="normative">must</span> be <code>VK_FILTER_NEAREST</code>
</p>
</li>
<li>
<p>
<code>srcImage</code> <span role="normative">must</span> have been created with a <code>samples</code> value of
    <code>VK_SAMPLE_COUNT_1_BIT</code>
</p>
</li>
<li>
<p>
<code>dstImage</code> <span role="normative">must</span> have been created with a <code>samples</code> value of
    <code>VK_SAMPLE_COUNT_1_BIT</code>
</p>
</li>
<li>
<p>
If <code>filter</code> is <code>VK_FILTER_LINEAR</code>, <code>srcImage</code> <span role="normative">must</span> be of a
    format which supports linear filtering, as specified by the
    <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for a linear
    image) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code>(for an
    optimally tiled image) returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>srcImage</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
<li>
<p>
<code>dstImage</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
<li>
<p>
<code>pRegions</code> <span role="normative">must</span> be a pointer to an array of <code>regionCount</code> valid <code>VkImageBlit</code> structures
</p>
</li>
<li>
<p>
<code>filter</code> <span role="normative">must</span> be a valid <code><a href="#VkFilter">VkFilter</a></code> value
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
<code>regionCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Each of <code>commandBuffer</code>, <code>dstImage</code>, and <code>srcImage</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>The <code>VkImageBlit</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkImageBlit"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkImageBlit</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkImageSubresourceLayers</span>    srcSubresource<span style="color: #990000">;</span>
    <span style="color: #008080">VkOffset3D</span>                  srcOffsets<span style="color: #990000">[</span><span style="color: #993399">2</span><span style="color: #990000">];</span>
    <span style="color: #008080">VkImageSubresourceLayers</span>    dstSubresource<span style="color: #990000">;</span>
    <span style="color: #008080">VkOffset3D</span>                  dstOffsets<span style="color: #990000">[</span><span style="color: #993399">2</span><span style="color: #990000">];</span>
<span style="color: #FF0000">}</span> VkImageBlit<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>srcSubresource</code> is the subresource to blit from.
</p>
</li>
<li>
<p>
<code>srcOffsets</code> is an array of two <code><a href="#VkOffset3D">VkOffset3D</a></code> structures
    specifying the bounds of the source region within <code>srcSubresource</code>.
</p>
</li>
<li>
<p>
<code>dstSubresource</code> is the subresource to blit into.
</p>
</li>
<li>
<p>
<code>dstOffsets</code> is an array of two <code><a href="#VkOffset3D">VkOffset3D</a></code> structures
    specifying the bounds of the destination region within
    <code>dstSubresource</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>For each element of the <code>pRegions</code> array, a blit operation is performed
the specified source and destination regions.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The <code>aspectMask</code> member of <code>srcSubresource</code> and
    <code>dstSubresource</code> <span role="normative">must</span> match
</p>
</li>
<li>
<p>
The <code>layerCount</code> member of <code>srcSubresource</code> and
    <code>dstSubresource</code> <span role="normative">must</span> match
</p>
</li>
<li>
<p>
If either of the calling command&#8217;s <code>srcImage</code> or <code>dstImage</code>
    parameters are of <code><a href="#VkImageType">VkImageType</a></code> <code>VK_IMAGE_TYPE_3D</code>, the
    <code>baseArrayLayer</code> and <code>layerCount</code> members of both
    <code>srcSubresource</code> and <code>dstSubresource</code> <span role="normative">must</span> be <span class="monospaced">0</span> and <span class="monospaced">1</span>,
    respectively
</p>
</li>
<li>
<p>
The <code>aspectMask</code> member of <code>srcSubresource</code> <span role="normative">must</span> specify
    aspects present in the calling command&#8217;s <code>srcImage</code>
</p>
</li>
<li>
<p>
The <code>aspectMask</code> member of <code>dstSubresource</code> <span role="normative">must</span> specify
    aspects present in the calling command&#8217;s <code>dstImage</code>
</p>
</li>
<li>
<p>
The <code>layerCount</code> member of <code>dstSubresource</code> <span role="normative">must</span> be equal to
    the <code>layerCount</code> member of <code>srcSubresource</code>
</p>
</li>
<li>
<p>
<code>srcOffset</code>[0].<code>x</code> and <code>srcOffset</code>[1].<code>x</code> <span role="normative">must</span> both be
    greater than or equal to <span class="monospaced">0</span> and less than or equal to the source image
    subresource width
</p>
</li>
<li>
<p>
<code>srcOffset</code>[0].<code>y</code> and <code>srcOffset</code>[1].<code>y</code> <span role="normative">must</span> both be
    greater than or equal to <span class="monospaced">0</span> and less than or equal to the source image
    subresource height
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>srcImage</code> is of type
    <code>VK_IMAGE_TYPE_1D</code>, then <code>srcOffset</code>[0].y <span role="normative">must</span> be <span class="monospaced">0</span> and
    <code>srcOffset</code>[1].y <span role="normative">must</span> be <span class="monospaced">1</span>.
</p>
</li>
<li>
<p>
<code>srcOffset</code>[0].<code>z</code> and <code>srcOffset</code>[1].<code>z</code> <span role="normative">must</span> both be
    greater than or equal to <span class="monospaced">0</span> and less than or equal to the source image
    subresource depth
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>srcImage</code> is of type
    <code>VK_IMAGE_TYPE_1D</code> or <code>VK_IMAGE_TYPE_2D</code>, then
    <code>srcOffset</code>[0].z <span role="normative">must</span> be <span class="monospaced">0</span> and <code>srcOffset</code>[1].z <span role="normative">must</span> be <span class="monospaced">1</span>.
</p>
</li>
<li>
<p>
<code>dstOffset</code>[0].<code>x</code> and <code>dstOffset</code>[1].<code>x</code> <span role="normative">must</span> both be
    greater than or equal to <span class="monospaced">0</span> and less than or equal to the destination
    image subresource width
</p>
</li>
<li>
<p>
<code>dstOffset</code>[0].<code>y</code> and <code>dstOffset</code>[1].<code>y</code> <span role="normative">must</span> both be
    greater than or equal to <span class="monospaced">0</span> and less than or equal to the destination
    image subresource height
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>dstImage</code> is of type
    <code>VK_IMAGE_TYPE_1D</code>, then <code>dstOffset</code>[0].y <span role="normative">must</span> be <span class="monospaced">0</span> and
    <code>dstOffset</code>[1].y <span role="normative">must</span> be <span class="monospaced">1</span>.
</p>
</li>
<li>
<p>
<code>dstOffset</code>[0].<code>z</code> and <code>dstOffset</code>[1].<code>z</code> <span role="normative">must</span> both be
    greater than or equal to <span class="monospaced">0</span> and less than or equal to the destination
    image subresource depth
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>dstImage</code> is of type
    <code>VK_IMAGE_TYPE_1D</code> or <code>VK_IMAGE_TYPE_2D</code>, then
    <code>dstOffset</code>[0].z <span role="normative">must</span> be <span class="monospaced">0</span> and <code>dstOffset</code>[1].z <span role="normative">must</span> be <span class="monospaced">1</span>.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>srcSubresource</code> <span role="normative">must</span> be a valid <code>VkImageSubresourceLayers</code> structure
</p>
</li>
<li>
<p>
<code>dstSubresource</code> <span role="normative">must</span> be a valid <code>VkImageSubresourceLayers</code> structure
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="copies-resolve">18.6. Resolving Multisample Images</h3>
<div class="paragraph"><p>To resolve a multisample image to a non-multisample image, call:</p></div>
<div class="listingblock">
<a id="vkCmdResolveImage"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdResolveImage</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     srcImage<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageLayout</span>                               srcImageLayout<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     dstImage<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageLayout</span>                               dstImageLayout<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    regionCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkImageResolve<span style="color: #990000">*</span>                       pRegions<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>srcImage</code> is the source image.
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> is the layout of the source image subresources for
    the resolve.
</p>
</li>
<li>
<p>
<code>dstImage</code> is the destination image.
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> is the layout of the destination image subresources
    for the resolve.
</p>
</li>
<li>
<p>
<code>regionCount</code> is the number of regions to resolve.
</p>
</li>
<li>
<p>
<code>pRegions</code> is a pointer to an array of <code><a href="#VkImageResolve">VkImageResolve</a></code>
    structures specifying the regions to resolve.
</p>
</li>
</ul></div>
<div class="paragraph"><p>During the resolve the samples corresponding to each pixel location in the
source are converted to a single sample before being written to the
destination.
If the source formats are floating-point or normalized types, the sample
values for each pixel are resolved in an implementation-dependent manner.
If the source formats are integer types, a single sample&#8217;s value is selected
for each pixel.</p></div>
<div class="paragraph"><p><code>srcOffset</code> and <code>dstOffset</code> select the initial x, y, and z offsets
in texels of the sub-regions of the source and destination image data.
<code>extent</code> is the size in texels of the source image to resolve in
<code>width</code>, <code>height</code> and <code>depth</code>.</p></div>
<div class="paragraph"><p>Resolves are done layer by layer starting with <code>baseArrayLayer</code> member
of <code>srcSubresource</code> for the source and <code>dstSubresource</code> for the
destination.
<code>layerCount</code> layers are resolved to the destination image.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The source region specified by a given element of <code>pRegions</code> <span role="normative">must</span>
    be a region that is contained within <code>srcImage</code>
</p>
</li>
<li>
<p>
The destination region specified by a given element of <code>pRegions</code>
    <span role="normative">must</span> be a region that is contained within <code>dstImage</code>
</p>
</li>
<li>
<p>
The union of all source regions, and the union of all destination
    regions, specified by the elements of <code>pRegions</code>, <span role="normative">must</span> not overlap
    in memory
</p>
</li>
<li>
<p>
If <code>srcImage</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>srcImage</code> <span role="normative">must</span> have a sample count equal to any valid sample count
    value other than <code>VK_SAMPLE_COUNT_1_BIT</code>
</p>
</li>
<li>
<p>
If <code>dstImage</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>dstImage</code> <span role="normative">must</span> have a sample count equal to
    <code>VK_SAMPLE_COUNT_1_BIT</code>
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> <span role="normative">must</span> specify the layout of the image subresources
    of <code>srcImage</code> specified in <code>pRegions</code> at the time this command
    is executed on a <code>VkDevice</code>
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> <span role="normative">must</span> be either of
    <code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> or
    <code>VK_IMAGE_LAYOUT_GENERAL</code>
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> <span role="normative">must</span> specify the layout of the image subresources
    of <code>dstImage</code> specified in <code>pRegions</code> at the time this command
    is executed on a <code>VkDevice</code>
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> <span role="normative">must</span> be either of
    <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or
    <code>VK_IMAGE_LAYOUT_GENERAL</code>
</p>
</li>
<li>
<p>
If <code>dstImage</code> was created with <code>tiling</code> equal to
    <code>VK_IMAGE_TILING_LINEAR</code>, <code>dstImage</code> <span role="normative">must</span> have been created
    with a <code>format</code> that supports being a color attachment, as specified
    by the <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
<li>
<p>
If <code>dstImage</code> was created with <code>tiling</code> equal to
    <code>VK_IMAGE_TILING_OPTIMAL</code>, <code>dstImage</code> <span role="normative">must</span> have been created
    with a <code>format</code> that supports being a color attachment, as specified
    by the <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>srcImage</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>srcImageLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
<li>
<p>
<code>dstImage</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>dstImageLayout</code> <span role="normative">must</span> be a valid <code><a href="#VkImageLayout">VkImageLayout</a></code> value
</p>
</li>
<li>
<p>
<code>pRegions</code> <span role="normative">must</span> be a pointer to an array of <code>regionCount</code> valid <code>VkImageResolve</code> structures
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
<code>regionCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Each of <code>commandBuffer</code>, <code>dstImage</code>, and <code>srcImage</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>The <code>VkImageResolve</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkImageResolve"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkImageResolve</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkImageSubresourceLayers</span>    srcSubresource<span style="color: #990000">;</span>
    <span style="color: #008080">VkOffset3D</span>                  srcOffset<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageSubresourceLayers</span>    dstSubresource<span style="color: #990000">;</span>
    <span style="color: #008080">VkOffset3D</span>                  dstOffset<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent3D</span>                  extent<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkImageResolve<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>srcSubresource</code> and <code>dstSubresource</code> are
    <code><a href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a></code> structures specifying the image
    subresources of the images used for the source and destination image
    data, respectively.
    Resolve of depth/stencil images is not supported.
</p>
</li>
<li>
<p>
<code>srcOffset</code> and <code>dstOffset</code> select the initial x, y, and z
    offsets in texels of the sub-regions of the source and destination image
    data.
</p>
</li>
<li>
<p>
<code>extent</code> is the size in texels of the source image to resolve in
    <code>width</code>, <code>height</code> and <code>depth</code>.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The <code>aspectMask</code> member of <code>srcSubresource</code> and
    <code>dstSubresource</code> <span role="normative">must</span> only contain <code>VK_IMAGE_ASPECT_COLOR_BIT</code>
</p>
</li>
<li>
<p>
The <code>layerCount</code> member of <code>srcSubresource</code> and
    <code>dstSubresource</code> <span role="normative">must</span> match
</p>
</li>
<li>
<p>
If either of the calling command&#8217;s <code>srcImage</code> or <code>dstImage</code>
    parameters are of <code><a href="#VkImageType">VkImageType</a></code> <code>VK_IMAGE_TYPE_3D</code>, the
    <code>baseArrayLayer</code> and <code>layerCount</code> members of both
    <code>srcSubresource</code> and <code>dstSubresource</code> <span role="normative">must</span> be <span class="monospaced">0</span> and <span class="monospaced">1</span>,
    respectively
</p>
</li>
<li>
<p>
<code>srcOffset.x</code> and (<code>extent.width</code> + <code>srcOffset.x</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the
    source image subresource width
</p>
</li>
<li>
<p>
<code>srcOffset.y</code> and (<code>extent.height</code> + <code>srcOffset.y</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the
    source image subresource height
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>srcImage</code> is of type
    <code>VK_IMAGE_TYPE_1D</code>, then <code>srcOffset.y</code> <span role="normative">must</span> be <span class="monospaced">0</span> and
    <code>extent.height</code> <span role="normative">must</span> be <span class="monospaced">1</span>.
</p>
</li>
<li>
<p>
<code>srcOffset.z</code> and (<code>extent.depth</code> + <code>srcOffset.z</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the
    source image subresource depth
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>srcImage</code> is of type
    <code>VK_IMAGE_TYPE_1D</code> or <code>VK_IMAGE_TYPE_2D</code>, then <code>srcOffset.z</code>
    <span role="normative">must</span> be <span class="monospaced">0</span> and <code>extent.depth</code> <span role="normative">must</span> be <span class="monospaced">1</span>.
</p>
</li>
<li>
<p>
<code>dstOffset.x</code> and (<code>extent.width</code> + <code>dstOffset.x</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the
    destination image subresource width
</p>
</li>
<li>
<p>
<code>dstOffset.y</code> and (<code>extent.height</code> + <code>dstOffset.y</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the
    destination image subresource height
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>dstImage</code> is of type
    <code>VK_IMAGE_TYPE_1D</code>, then <code>dstOffset.y</code> <span role="normative">must</span> be <span class="monospaced">0</span> and
    <code>extent.height</code> <span role="normative">must</span> be <span class="monospaced">1</span>.
</p>
</li>
<li>
<p>
<code>dstOffset.z</code> and (<code>extent.depth</code> + <code>dstOffset.z</code>) <span role="normative">must</span>
    both be greater than or equal to <span class="monospaced">0</span> and less than or equal to the
    destination image subresource depth
</p>
</li>
<li>
<p>
If the calling command&#8217;s <code>dstImage</code> is of type
    <code>VK_IMAGE_TYPE_1D</code> or <code>VK_IMAGE_TYPE_2D</code>, then <code>dstOffset.z</code>
    <span role="normative">must</span> be <span class="monospaced">0</span> and <code>extent.depth</code> <span role="normative">must</span> be <span class="monospaced">1</span>.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>srcSubresource</code> <span role="normative">must</span> be a valid <code>VkImageSubresourceLayers</code> structure
</p>
</li>
<li>
<p>
<code>dstSubresource</code> <span role="normative">must</span> be a valid <code>VkImageSubresourceLayers</code> structure
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="drawing">19. Drawing Commands</h2>
<div class="sectionbody">
<div class="paragraph"><p><em>Drawing commands</em> (commands with <code>Draw</code> in the name) provoke work in a
graphics pipeline.
Drawing commands are recorded into a command buffer and when executed by a
queue, will produce work which executes according to the currently bound
graphics pipeline.
A graphics pipeline <span role="normative">must</span> be bound to a command buffer before any drawing
commands are recorded in that command buffer.</p></div>
<div class="paragraph"><p>Each draw is made up of zero or more vertices and zero or more instances,
which are processed by the device and result in the assembly of primitives.
Primitives are assembled according to the <code>pInputAssemblyState</code> member
of the <code>VkGraphicsPipelineCreateInfo</code> structure, which is of type
<code>VkPipelineInputAssemblyStateCreateInfo</code>:</p></div>
<div class="listingblock">
<a id="VkPipelineInputAssemblyStateCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPipelineInputAssemblyStateCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                            sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                                pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineInputAssemblyStateCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkPrimitiveTopology</span>                        topology<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                                   primitiveRestartEnable<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPipelineInputAssemblyStateCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>topology</code> is a <code><a href="#VkPrimitiveTopology">VkPrimitiveTopology</a></code> defining the primitive
    topology, as described below.
</p>
</li>
<li>
<p>
<code>primitiveRestartEnable</code> controls whether a special vertex index
    value is treated as restarting the assembly of primitives.
    This enable only applies to indexed draws (<code><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code> and
    <code><a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>), and the special index value is either
    0xFFFFFFFF when the <code>indexType</code> parameter of
    <code>vkCmdBindIndexBuffer</code> is equal to <code>VK_INDEX_TYPE_UINT32</code>, or
    0xFFFF when <code>indexType</code> is equal to <code>VK_INDEX_TYPE_UINT16</code>.
    Primitive restart is not allowed for &#8220;list&#8221; topologies.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Restarting the assembly of primitives discards the most recent index values
if those elements formed an incomplete primitive, and restarts the primitive
assembly using the subsequent indices, but only assembling the immediately
following element through the end of the originally specified elements.
The primitive restart index value comparison is performed before adding the
<code>vertexOffset</code> value to the index value.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>topology</code> is <code>VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code>,
    <code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code>,
    <code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code>,
    <code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code>,
    <code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code> or
    <code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>, <code>primitiveRestartEnable</code>
    <span role="normative">must</span> be <code>VK_FALSE</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-geometryShader">geometry shaders</a> feature is
    not enabled, <code>topology</code> <span role="normative">must</span> not be any of
    <code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code>,
    <code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY</code>,
    <code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code> or
    <code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-tessellationShader">tessellation shaders</a>
    feature is not enabled, <code>topology</code> <span role="normative">must</span> not be
    <code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>topology</code> <span role="normative">must</span> be a valid <code><a href="#VkPrimitiveTopology">VkPrimitiveTopology</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="sect2">
<h3 id="drawing-primitive-topologies">19.1. Primitive Topologies</h3>
<div class="paragraph"><p><em>Primitive topology</em> determines how consecutive vertices are organized into
primitives, and determines the type of primitive that is used at the
beginning of the graphics pipeline.
The effective topology for later stages of the pipeline is altered by
tessellation or geometry shading (if either is in use) and depends on the
execution modes of those shaders.
Supported topologies are defined by <code><a href="#VkPrimitiveTopology">VkPrimitiveTopology</a></code> and include:</p></div>
<div class="listingblock">
<a id="VkPrimitiveTopology"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkPrimitiveTopology <span style="color: #FF0000">{</span>
    VK_PRIMITIVE_TOPOLOGY_POINT_LIST <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_PRIMITIVE_TOPOLOGY_LINE_LIST <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_PRIMITIVE_TOPOLOGY_LINE_STRIP <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">,</span>
    VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY <span style="color: #990000">=</span> <span style="color: #993399">7</span><span style="color: #990000">,</span>
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY <span style="color: #990000">=</span> <span style="color: #993399">8</span><span style="color: #990000">,</span>
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY <span style="color: #990000">=</span> <span style="color: #993399">9</span><span style="color: #990000">,</span>
    VK_PRIMITIVE_TOPOLOGY_PATCH_LIST <span style="color: #990000">=</span> <span style="color: #993399">10</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkPrimitiveTopology<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>Each primitive topology, and its construction from a list of vertices, is
summarized below.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The terminology &#8220;the vertex <span class="eq">i</span> &#8221; means &#8220;the vertex
with index <span class="eq">i</span> in the ordered list of vertices defining this
primitive&#8221;.</p></div>
</td>
</tr></table>
</div>
<div class="sect3">
<h4 id="_points">19.1.1. Points</h4>
<div class="paragraph"><p>A series of individual points are specified with <code>topology</code>
<code>VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code>.
Each vertex defines a separate point.</p></div>
</div>
<div class="sect3">
<h4 id="_separate_lines">19.1.2. Separate Lines</h4>
<div class="paragraph"><p>Individual line segments, each defined by a pair of vertices, are specified
with <code>topology</code> <code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code>.
The first two vertices define the first segment, with subsequent pairs of
vertices each defining one more segment.
If the number of vertices is odd, then the last vertex is ignored.</p></div>
</div>
<div class="sect3">
<h4 id="_line_strips">19.1.3. Line Strips</h4>
<div class="paragraph"><p>A series of one or more connected line segments are specified with
<code>topology</code> <code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP</code>.
In this case, the first vertex specifies the first segment&#8217;s start point
while the second vertex specifies the first segment&#8217;s endpoint and the
second segment&#8217;s start point.
In general, vertex <span class="eq">i</span> (for <span class="eq">i &gt; 0</span>) specifies the beginning of the
<span class="eq">i</span>th segment and the end of the previous segment.
The last vertex specifies the end of the last segment.
If only one vertex is specified, then no primitive is generated.</p></div>
</div>
<div class="sect3">
<h4 id="_triangle_strips">19.1.4. Triangle Strips</h4>
<div class="paragraph"><p>A triangle strip is a series of triangles connected along shared edges, and
is specified with <code>topology</code> <code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code>.
In this case, the first three vertices define the first triangle, and their
order is significant.
Each subsequent vertex defines a new triangle using that point along with
the last two vertices from the previous triangle, as shown in figure
<a href="#fig-triangles">[fig-triangles]</a>.
If fewer than three vertices are specified, no primitive is produced.
The order of vertices in successive triangles changes as shown in the
figure, so that all triangle faces have the same orientation.</p></div>
<div class="imageblock" id="fig-triangles" style="text-align:center;">
<div class="content">
<img src="images/triangles.svg" alt="images/triangles.svg" width="800">
</div>
<div class="title">Figure 5. Triangle strips, fans, and lists</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Caption</div>
<div class="paragraph"><p>In the <a href="#fig-triangles">Triangle strips</a>, fans, and lists diagram, the
sub-sections represent:</p></div>
<div class="ulist"><ul>
<li>
<p>
(a) A triangle strip.
</p>
</li>
<li>
<p>
(b) A triangle fan.
</p>
</li>
<li>
<p>
(c) Independent triangles.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The numbers give the sequencing of the vertices in order within the vertex
arrays.
Note that in (a) and (b) triangle edge ordering is determined by the first
triangle, while in (c) the order of each triangle&#8217;s edges is independent of
the other triangles.</p></div>
</div></div>
</div>
<div class="sect3">
<h4 id="_triangle_fans">19.1.5. Triangle Fans</h4>
<div class="paragraph"><p>A triangle fan is specified with <code>topology</code>
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code>.
It is similar to a triangle strip, but changes the vertex replaced from the
previous triangle as shown in figure <a href="#fig-triangles">[fig-triangles]</a>, so that all
triangles in the fan share a common vertex.</p></div>
</div>
<div class="sect3">
<h4 id="_separate_triangles">19.1.6. Separate Triangles</h4>
<div class="paragraph"><p>Separate triangles are specified with <code>topology</code>
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code>, as shown in figure
<a href="#fig-triangles">[fig-triangles]</a>.
In this case, vertices <span class="eq">3 i</span>, <span class="eq">3 i + 1</span>, and <span class="eq">3 i + 2</span> (in that
order) determine a triangle for each <span class="eq">i = 0, 1, &#8230;, n-1</span>, where there
are <span class="eq">3 n + k</span> vertices drawn.
<span class="eq">k</span> is either 0, 1, or 2; if <span class="eq">k</span> is not zero, the final <span class="eq">k</span>
vertices are ignored.</p></div>
</div>
<div class="sect3">
<h4 id="_lines_with_adjacency">19.1.7. Lines With Adjacency</h4>
<div class="paragraph"><p>Lines with adjacency are specified with <code>topology</code>
<code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code>, and are independent
line segments where each endpoint has a corresponding <em>adjacent</em> vertex that
is accessible in a <a href="#geometry">geometry shader</a>.
If a geometry shader is not active, the adjacent vertices are ignored.</p></div>
<div class="paragraph"><p>A line segment is drawn from vertex <span class="eq">4 i + 1</span> to vertex <span class="eq">4 i + 2</span>
for each <span class="eq">i = 0, 1, &#8230;, n-1</span>, where there are <span class="eq">4 n + k</span> vertices.
<span class="eq">k</span> is either 0, 1, 2, or 3; if <span class="eq">k</span> is not zero, the final <span class="eq">k</span>
vertices are ignored.
For line segment <span class="eq">i</span>, vertices <span class="eq">4 i</span> and <span class="eq">4 i + 3</span> vertices are
considered adjacent to vertices <span class="eq">4 i + 1</span> and <span class="eq">4 i + 2</span>,
respectively, as shown in figure <a href="#fig-lineadj">[fig-lineadj]</a>.</p></div>
<div class="imageblock" id="fig-lineadj" style="text-align:center;">
<div class="content">
<img src="images/lineadj.svg" alt="images/lineadj.svg" width="800">
</div>
<div class="title">Figure 6. Lines with adjacency</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Caption</div>
<div class="paragraph"><p>In the <a href="#fig-lineadj">Lines with adjacency</a> diagram, the sub-sections
represent:</p></div>
<div class="ulist"><ul>
<li>
<p>
(a) Lines with adjacency.
</p>
</li>
<li>
<p>
(b) Line strips with adjacency.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The vertices connected with solid lines belong to the main primitives.
The vertices connected by dashed lines are the adjacent vertices that are
accessible in a geometry shader.</p></div>
</div></div>
</div>
<div class="sect3">
<h4 id="_line_strips_with_adjacency">19.1.8. Line Strips With Adjacency</h4>
<div class="paragraph"><p>Line strips with adjacency are specified with <code>topology</code>
<code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY</code> and are similar to
line strips, except that each line segment has a pair of adjacent vertices
that are accessible in a geometry shader.
If a geometry shader is not active, the adjacent vertices are ignored.</p></div>
<div class="paragraph"><p>A line segment is drawn from vertex <span class="eq">i + 1</span> vertex to vertex <span class="eq">i + 2</span>
for each <span class="eq">i = 0, 1, &#8230;, n-1</span>, where there are <span class="eq">n + 3</span> vertices.
If there are fewer than four vertices, all vertices are ignored.
For line segment <span class="eq">i</span>, vertices <span class="eq">i</span> and <span class="eq">i + 3</span> are considered
adjacent to vertices <span class="eq">i + 1</span> and <span class="eq">i + 2</span>, respectively, as shown in
figure <a href="#fig-lineadj">[fig-lineadj]</a>.</p></div>
</div>
<div class="sect3">
<h4 id="_triangle_list_with_adjacency">19.1.9. Triangle List With Adjacency</h4>
<div class="paragraph"><p>Triangles with adjacency are specified with <code>topology</code>
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code>, and are similar to
separate triangles except that each triangle edge has an adjacent vertex
that is accessible in a geometry shader.
If a geometry shader is not active, the adjacent vertices are ignored.</p></div>
<div class="paragraph"><p>Vertices <span class="eq">6 i</span>, <span class="eq">6 i + 2</span>, and <span class="eq">6 i + 4</span> (in that order)
determine a triangle for each <span class="eq">i = 0, 1, &#8230;, n-1</span>, where there are
<span class="eq">6 n+k</span> vertices.
<span class="eq">k</span> is either 0, 1, 2, 3, 4, or 5; if <span class="eq">k</span> is non-zero, the final
<span class="eq">k</span> vertices are ignored.
For triangle <span class="eq">i</span>, vertices <span class="eq">6 i + 1</span>, <span class="eq">6 i + 3</span>, and <span class="eq">6 i
&#x002b; 5</span> vertices are considered adjacent to edges from vertex <span class="eq">6 i</span> to
<span class="eq">6 i + 2</span>, from <span class="eq">6 i + 2</span> to <span class="eq">6 i + 4</span>, and from <span class="eq">6 i + 4</span>
to <span class="eq">6 i</span> vertices, respectively, as shown in figure <a href="#fig-triadj">[fig-triadj]</a>.</p></div>
<div class="imageblock" id="fig-triadj" style="text-align:center;">
<div class="content">
<img src="images/triadj.svg" alt="images/triadj.svg" width="800">
</div>
<div class="title">Figure 7. Triangles with adjacency</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Caption</div>
<div class="paragraph"><p>In the <a href="#fig-triadj">Triangles with adjacency</a> diagram, the vertices
connected with solid lines belong to the main primitive.
The vertices connected by dashed lines are the adjacent vertices that are
accessible in a geometry shader.</p></div>
</div></div>
</div>
<div class="sect3">
<h4 id="_triangle_strips_with_adjacency">19.1.10. Triangle Strips With Adjacency</h4>
<div class="paragraph"><p>Triangle strips with adjacency are specified with <code>topology</code>
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code>, and are similar
to triangle strips except that each triangle edge has an adjacent vertex
that is accessible in a geometry shader.
If a geometry shader is not active, the adjacent vertices are ignored.</p></div>
<div class="imageblock" id="fig-tstripadj" style="text-align:center;">
<div class="content">
<img src="images/tstripadj.svg" alt="images/tstripadj.svg" width="800">
</div>
<div class="title">Figure 8. Triangle strips with adjacency</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Caption</div>
<div class="paragraph"><p>In the <a href="#fig-tstripadj">Triangle strips with adjacency</a> diagram, the
vertices connected with solid lines belong to the main primitive; the
vertices connected by dashed lines are the adjacent vertices that are
accessible in a geometry shader.</p></div>
</div></div>
<div class="paragraph"><p>In triangle strips with adjacency, <span class="eq">n</span> triangles are drawn where there
are <span class="eq">2 (n + 2) + k</span> vertices.
<span class="eq">k</span> is either 0 or 1; if <span class="eq">k</span> is 1, the final vertex is ignored.
If there are fewer than 6 vertices, the entire primitive is ignored.
Table <a href="#trigenadj">[trigenadj]</a> describes the vertices and order used to draw each
triangle, and which vertices are considered adjacent to each edge of the
triangle, as shown in figure <a href="#fig-tstripadj">[fig-tstripadj]</a>.</p></div>
<table class="tableblock frame-all grid-all" id="trigenadj"
style="
width:100%;
">
<caption class="title">Table 20. Triangles generated by triangle strips with adjacency.</caption>
<col style="width:25%;">
<col style="width:12%;">
<col style="width:12%;">
<col style="width:12%;">
<col style="width:12%;">
<col style="width:12%;">
<col style="width:12%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >                                </th>
<th class="tableblock halign-left valign-top" colspan="3" > Primitive Vertices                             </th>
<th class="tableblock halign-left valign-top" colspan="3" > Adjacent Vertices</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primitive</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1st</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2nd</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">3rd</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1/2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2/3</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">3/1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">only (<span class="eq">i = 0, n = 1</span>)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">first (<span class="eq">i = 0</span>)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">middle (<span class="eq">i</span> odd)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 2</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 4</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i-2</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 3</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 6</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">middle (<span class="eq">i</span> even)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 2</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 4</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i-2</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 6</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 3</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">last (<span class="eq">i=n-1</span>, <span class="eq">i</span> odd)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 2</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 4</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i-2</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 3</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 5</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">last (<span class="eq">i=n-1</span>, <span class="eq">i</span> even)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 2</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 4</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i-2</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 5</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i + 3</span></p></td>
</tr>
</tbody>
</table>
<div class="sidebarblock">
<div class="content">
<div class="title">Caption</div>
<div class="paragraph"><p>In the <a href="#trigenadj">Triangles generated by triangle strips with adjacency</a>
table, each triangle is drawn using the vertices whose numbers are in the
<strong>1st</strong>, <strong>2nd</strong>, and <strong>3rd</strong> columns under <strong>Primitive Vertices</strong>, in that order.
The vertices in the 1/2, 2/3, and 3/1 columns under <strong>Adjacent Vertices</strong> are
considered adjacent to the edges from the first to the second, from the
second to the third, and from the third to the first vertex of the triangle,
respectively.
The six rows correspond to six cases: the first and only triangle <span class="eq">(i =
0, n = 1)</span>, the first triangle of several <span class="eq">(i = 0, n &gt; 0)</span>, <em>odd</em> middle
triangles <span class="eq">(i = 1, 3, 5 &#8230;)</span>, <em>even</em> middle triangles <span class="eq">(i = 2, 4,
6, &#8230;)</span>, and special cases for the last triangle, when <span class="eq">i</span> is either
even or odd.
For the purposes of this table, both the first vertex and first triangle are
numbered <span class="eq">0</span>.</p></div>
</div></div>
</div>
<div class="sect3">
<h4 id="drawing-primitive-topologies-patches">19.1.11. Separate Patches</h4>
<div class="paragraph"><p>Separate patches are specified with <code>topology</code>
<code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>.
A patch is an ordered collection of vertices used for
<a href="#tessellation">primitive tessellation</a>.
The vertices comprising a patch have no implied geometric ordering, and are
used by tessellation shaders and the fixed-function tessellator to generate
new point, line, or triangle primitives.</p></div>
<div class="paragraph"><p>Each patch in the series has a fixed number of vertices, specified by the
<code>patchControlPoints</code> member of the
<code><a href="#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a></code> structure passed to
<code><a href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a></code>.
Once assembled and vertex shaded, these patches are provided as input to the
tessellation control shader stage.</p></div>
<div class="paragraph"><p>If the number of vertices in a patch is given by <span class="eq">v</span>, vertices <span class="eq">v
&#x00d7; i</span> through <span class="eq">v &#x00d7; i + v - 1</span> (in that order) determine a
patch for each <span class="eq">i = 0, 1, &#8230;, n-1</span>, where there are <span class="eq">v &#x00d7; n
&#x002b; k</span> vertices.
<span class="eq">k</span> is in the range <span class="eq">[0, v - 1]</span>; if <span class="eq">k</span> is not zero, the final
<span class="eq">k</span> vertices are ignored.</p></div>
</div>
<div class="sect3">
<h4 id="_general_considerations_for_polygon_primitives">19.1.12. General Considerations For Polygon Primitives</h4>
<div class="paragraph"><p>Depending on the <a href="#primsrast-polygonmode">polygon mode</a>, a <em>polygon
primitive</em> generated from a drawing command with <code>topology</code>
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code>,
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code>,
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code>,
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code>, or
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code> is rendered in one
of several ways, such as outlining its border or filling its interior.
The order of vertices in such a primitive is significant during
<a href="#primsrast-polygons-basic">polygon rasterization</a> and
<a href="#shaders-fragment">fragment shading</a>.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_programmable_primitive_shading">19.2. Programmable Primitive Shading</h3>
<div class="paragraph"><p>Once primitives are assembled, they proceed to the vertex shading stage of
the pipeline.
If the draw includes multiple instances, then the set of primitives is sent
to the vertex shading stage multiple times, once for each instance.</p></div>
<div class="paragraph"><p>It is undefined whether vertex shading occurs on vertices that are discarded
as part of incomplete primitives, but if it does occur then it operates as
if they were vertices in complete primitives and such invocations <span role="normative">can</span> have
side effects.</p></div>
<div class="paragraph"><p>Vertex shading receives two per-vertex inputs from the primitive assembly
stage - the <code>vertexIndex</code> and the <code>instanceIndex</code>.
How these values are generated is defined below, with each command.</p></div>
<div class="paragraph"><p>Drawing commands fall roughly into two categories:</p></div>
<div class="ulist"><ul>
<li>
<p>
Non-indexed drawing commands present a sequential <code>vertexIndex</code> to
    the vertex shader.
    The sequential index is generated automatically by the device (see
    <a href="#fxvertex">Fixed-Function Vertex Processing</a> for details on both
    specifying the vertex attributes indexed by <code>vertexIndex</code>, as well as
    binding vertex buffers containing those attributes to a command buffer).
    These commands are:
</p>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkCmdDraw">vkCmdDraw</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
Indexed drawing commands read index values from an <em>index buffer</em> and
    use this to compute the <code>vertexIndex</code> value for the vertex shader.
    These commands are:
</p>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>To bind an index buffer to a command buffer, call:</p></div>
<div class="listingblock">
<a id="vkCmdBindIndexBuffer"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdBindIndexBuffer</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    buffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                offset<span style="color: #990000">,</span>
    <span style="color: #008080">VkIndexType</span>                                 indexType<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command is
    recorded.
</p>
</li>
<li>
<p>
<code>buffer</code> is the buffer being bound.
</p>
</li>
<li>
<p>
<code>offset</code> is the starting offset in bytes within <code>buffer</code> used in
    index buffer address calculations.
</p>
</li>
<li>
<p>
<code>indexType</code> selects whether indices are treated as 16 bits or 32
    bits.
    Possible values include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkIndexType"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkIndexType <span style="color: #FF0000">{</span>
    VK_INDEX_TYPE_UINT16 <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_INDEX_TYPE_UINT32 <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkIndexType<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be less than the size of <code>buffer</code>
</p>
</li>
<li>
<p>
The sum of <code>offset</code> and the address of the range of
    <code>VkDeviceMemory</code> object that is backing <code>buffer</code>, <span role="normative">must</span> be a
    multiple of the type indicated by <code>indexType</code>
</p>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> have been created with the
    <code>VK_BUFFER_USAGE_INDEX_BUFFER_BIT</code> flag
</p>
</li>
<li>
<p>
If <code>buffer</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>indexType</code> <span role="normative">must</span> be a valid <code><a href="#VkIndexType">VkIndexType</a></code> value
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
Both of <code>buffer</code>, and <code>commandBuffer</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>The parameters for each drawing command are specified directly in the
command or read from buffer memory, depending on the command.
Drawing commands that source their parameters from buffer memory are known
as <em>indirect</em> drawing commands.</p></div>
<div class="paragraph"><p>All drawing commands interact with the
<a href="#features-features-robustBufferAccess">Robust Buffer Access</a> feature.</p></div>
<div class="paragraph" id="drawing-primitive-assembly-apiorder"><p>Primitives assembled by draw commands are considered to have an
<a href="#fundamentals-queueoperation-apiorder">API order</a>, which defines the order
their fragments affect the framebuffer.
When a draw command includes multiple instances, the lower numbered
instances are earlier in API order.
For non-indexed draws, primitives with lower numbered <code>vertexIndex</code>
values are earlier in API order.
For indexed draws, primitives assembled from lower index buffer addresses
are earlier in API order.</p></div>
<div class="paragraph"><p>To record a non-indexed draw, call:</p></div>
<div class="listingblock">
<a id="vkCmdDraw"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdDraw</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    vertexCount<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    instanceCount<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    firstVertex<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    firstInstance<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command is
    recorded.
</p>
</li>
<li>
<p>
<code>vertexCount</code> is the number of vertices to draw.
</p>
</li>
<li>
<p>
<code>instanceCount</code> is the number of instances to draw.
</p>
</li>
<li>
<p>
<code>firstVertex</code> is the index of the first vertex to draw.
</p>
</li>
<li>
<p>
<code>firstInstance</code> is the instance ID of the first instance to draw.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When the command is executed, primitives are assembled using the current
primitive topology and <code>vertexCount</code> consecutive vertex indices with the
first <code>vertexIndex</code> value equal to <code>firstVertex</code>.
The primitives are drawn <code>instanceCount</code> times with <code>instanceIndex</code>
starting with <code>firstInstance</code> and increasing sequentially for each
instance.
The assembled primitives execute the currently bound graphics pipeline.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The current render pass <span role="normative">must</span> be <a href="#renderpass-compatibility">compatible</a>
    with the <code>renderPass</code> member of the
    <code>VkGraphicsPipelineCreateInfo</code> structure specified when creating the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.
</p>
</li>
<li>
<p>
The subpass index of the current render pass <span role="normative">must</span> be equal to the
    <code>subpass</code> member of the <code>VkGraphicsPipelineCreateInfo</code> structure
    specified when creating the <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.
</p>
</li>
<li>
<p>
For each set <em>n</em> that is statically used by the <code>VkPipeline</code>
    currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a descriptor
    set <span role="normative">must</span> have been bound to <em>n</em> at
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code>VkPipelineLayout</code>
    that is compatible for set <em>n</em>, with the <code>VkPipelineLayout</code> used to
    create the current <code>VkPipeline</code>, as described in
    <a href="#descriptorsets-compatibility">[descriptorsets-compatibility]</a>
</p>
</li>
<li>
<p>
For each push constant that is statically used by the <code>VkPipeline</code>
    currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a push
    constant value <span role="normative">must</span> have been set for
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code>VkPipelineLayout</code>
    that is compatible for push constants, with the <code>VkPipelineLayout</code>
    used to create the current <code>VkPipeline</code>, as described in
    <a href="#descriptorsets-compatibility">[descriptorsets-compatibility]</a>
</p>
</li>
<li>
<p>
Descriptors in each bound descriptor set, specified via
    <code>vkCmdBindDescriptorSets</code>, <span role="normative">must</span> be valid if they are statically
    used by the currently bound <code>VkPipeline</code> object, specified via
    <code>vkCmdBindPipeline</code>
</p>
</li>
<li>
<p>
All vertex input bindings accessed via vertex input variables declared
    in the vertex shader entry point&#8217;s interface <span role="normative">must</span> have valid buffers
    bound
</p>
</li>
<li>
<p>
For a given vertex buffer binding, any attribute data fetched <span role="normative">must</span> be
    entirely contained within the corresponding vertex buffer binding, as
    described in <a href="#fxvertex-input">[fxvertex-input]</a>
</p>
</li>
<li>
<p>
A valid graphics pipeline <span role="normative">must</span> be bound to the current command buffer
    with <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>
</p>
</li>
<li>
<p>
If the <code>VkPipeline</code> object currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> requires any dynamic state, that
    state <span role="normative">must</span> have been set on the current command buffer
</p>
</li>
<li>
<p>
Every input attachment used by the current subpass <span role="normative">must</span> be bound to the
    pipeline via a descriptor set
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it
    <span role="normative">must</span> not be used to sample from any <code>VkImage</code> with a
    <code>VkImageView</code> of the type <code>VK_IMAGE_VIEW_TYPE_3D</code>,
    <code>VK_IMAGE_VIEW_TYPE_CUBE</code>, <code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>,
    <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
    <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it
    <span role="normative">must</span> not be used with any of the SPIR-V <span class="monospaced">OpImageSample*</span> or
    <span class="monospaced">OpImageSparseSample*</span> instructions with <code>ImplicitLod</code>, <code>Dref</code> or
    <code>Proj</code> in their name, in any shader stage
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it
    <span role="normative">must</span> not be used with any of the SPIR-V <span class="monospaced">OpImageSample*</span> or
    <span class="monospaced">OpImageSparseSample*</span> instructions that includes a LOD bias or any
    offset values, in any shader stage
</p>
</li>
<li>
<p>
If the <a href="#features-features-robustBufferAccess">robust buffer access</a>
    feature is not enabled, and any shader stage in the <code>VkPipeline</code>
    object currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses
    a uniform buffer, it <span role="normative">must</span> not access values outside of the range of
    that buffer specified in the currently bound descriptor set
</p>
</li>
<li>
<p>
If the <a href="#features-features-robustBufferAccess">robust buffer access</a>
    feature is not enabled, and any shader stage in the <code>VkPipeline</code>
    object currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses
    a storage buffer, it <span role="normative">must</span> not access values outside of the range of
    that buffer specified in the currently bound descriptor set
</p>
</li>
<li>
<p>
Any <code>VkImageView</code> being sampled with <code>VK_FILTER_LINEAR</code> as a
    result of this command <span role="normative">must</span> be of a format which supports linear
    filtering, as specified by the
    <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for a linear
    image) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code>(for an
    optimally tiled image) returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called inside of a render pass instance
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>To record an indexed draw, call:</p></div>
<div class="listingblock">
<a id="vkCmdDrawIndexed"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdDrawIndexed</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    indexCount<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    instanceCount<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    firstIndex<span style="color: #990000">,</span>
    <span style="color: #008080">int32_t</span>                                     vertexOffset<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    firstInstance<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command is
    recorded.
</p>
</li>
<li>
<p>
<code>indexCount</code> is the number of vertices to draw.
</p>
</li>
<li>
<p>
<code>instanceCount</code> is the number of instances to draw.
</p>
</li>
<li>
<p>
<code>firstIndex</code> is the base index within the index buffer.
</p>
</li>
<li>
<p>
<code>vertexOffset</code> is the value added to the vertex index before
    indexing into the vertex buffer.
</p>
</li>
<li>
<p>
<code>firstInstance</code> is the instance ID of the first instance to draw.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When the command is executed, primitives are assembled using the current
primitive topology and <code>indexCount</code> vertices whose indices are retrieved
from the index buffer.
The index buffer is treated as an array of tightly packed unsigned integers
of size defined by the <code><a href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a></code>::<code>indexType</code> parameter
with which the buffer was bound.</p></div>
<div class="paragraph"><p>The first vertex index is at an offset of <code>firstIndex</code> * <code>indexSize</code>
+ <code>offset</code> within the currently bound index buffer, where <code>offset</code>
is the offset specified by <code>vkCmdBindIndexBuffer</code> and <code>indexSize</code> is
the byte size of the type specified by <code>indexType</code>.
Subsequent index values are retrieved from consecutive locations in the
index buffer.
Indices are first compared to the primitive restart value, then zero
extended to 32 bits (if the <code>indexType</code> is <code>VK_INDEX_TYPE_UINT16</code>)
and have <code>vertexOffset</code> added to them, before being supplied as the
<code>vertexIndex</code> value.</p></div>
<div class="paragraph"><p>The primitives are drawn <code>instanceCount</code> times with <code>instanceIndex</code>
starting with <code>firstInstance</code> and increasing sequentially for each
instance.
The assembled primitives execute the currently bound graphics pipeline.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The current render pass <span role="normative">must</span> be <a href="#renderpass-compatibility">compatible</a>
    with the <code>renderPass</code> member of the
    <code>VkGraphicsPipelineCreateInfo</code> structure specified when creating the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.
</p>
</li>
<li>
<p>
The subpass index of the current render pass <span role="normative">must</span> be equal to the
    <code>subpass</code> member of the <code>VkGraphicsPipelineCreateInfo</code> structure
    specified when creating the <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.
</p>
</li>
<li>
<p>
For each set <em>n</em> that is statically used by the <code>VkPipeline</code>
    currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a descriptor
    set <span role="normative">must</span> have been bound to <em>n</em> at
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code>VkPipelineLayout</code>
    that is compatible for set <em>n</em>, with the <code>VkPipelineLayout</code> used to
    create the current <code>VkPipeline</code>, as described in
    <a href="#descriptorsets-compatibility">[descriptorsets-compatibility]</a>
</p>
</li>
<li>
<p>
For each push constant that is statically used by the <code>VkPipeline</code>
    currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a push
    constant value <span role="normative">must</span> have been set for
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code>VkPipelineLayout</code>
    that is compatible for push constants, with the <code>VkPipelineLayout</code>
    used to create the current <code>VkPipeline</code>, as described in
    <a href="#descriptorsets-compatibility">[descriptorsets-compatibility]</a>
</p>
</li>
<li>
<p>
Descriptors in each bound descriptor set, specified via
    <code>vkCmdBindDescriptorSets</code>, <span role="normative">must</span> be valid if they are statically
    used by the currently bound <code>VkPipeline</code> object, specified via
    <code>vkCmdBindPipeline</code>
</p>
</li>
<li>
<p>
All vertex input bindings accessed via vertex input variables declared
    in the vertex shader entry point&#8217;s interface <span role="normative">must</span> have valid buffers
    bound
</p>
</li>
<li>
<p>
For a given vertex buffer binding, any attribute data fetched <span role="normative">must</span> be
    entirely contained within the corresponding vertex buffer binding, as
    described in <a href="#fxvertex-input">[fxvertex-input]</a>
</p>
</li>
<li>
<p>
A valid graphics pipeline <span role="normative">must</span> be bound to the current command buffer
    with <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>
</p>
</li>
<li>
<p>
If the <code>VkPipeline</code> object currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> requires any dynamic state, that
    state <span role="normative">must</span> have been set on the current command buffer
</p>
</li>
<li>
<p>
(<code>indexSize</code> * (<code>firstIndex</code> + <code>indexCount</code>) + <code>offset</code>)
    <span role="normative">must</span> be less than or equal to the size of the currently bound index
    buffer, with indexSize being based on the type specified by
    <code>indexType</code>, where the index buffer, <code>indexType</code>, and
    <code>offset</code> are specified via <code>vkCmdBindIndexBuffer</code>
</p>
</li>
<li>
<p>
Every input attachment used by the current subpass <span role="normative">must</span> be bound to the
    pipeline via a descriptor set
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it
    <span role="normative">must</span> not be used to sample from any <code>VkImage</code> with a
    <code>VkImageView</code> of the type <code>VK_IMAGE_VIEW_TYPE_3D</code>,
    <code>VK_IMAGE_VIEW_TYPE_CUBE</code>, <code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>,
    <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
    <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it
    <span role="normative">must</span> not be used with any of the SPIR-V <span class="monospaced">OpImageSample*</span> or
    <span class="monospaced">OpImageSparseSample*</span> instructions with <code>ImplicitLod</code>, <code>Dref</code> or
    <code>Proj</code> in their name, in any shader stage
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it
    <span role="normative">must</span> not be used with any of the SPIR-V <span class="monospaced">OpImageSample*</span> or
    <span class="monospaced">OpImageSparseSample*</span> instructions that includes a LOD bias or any
    offset values, in any shader stage
</p>
</li>
<li>
<p>
If the <a href="#features-features-robustBufferAccess">robust buffer access</a>
    feature is not enabled, and any shader stage in the <code>VkPipeline</code>
    object currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses
    a uniform buffer, it <span role="normative">must</span> not access values outside of the range of
    that buffer specified in the currently bound descriptor set
</p>
</li>
<li>
<p>
If the <a href="#features-features-robustBufferAccess">robust buffer access</a>
    feature is not enabled, and any shader stage in the <code>VkPipeline</code>
    object currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses
    a storage buffer, it <span role="normative">must</span> not access values outside of the range of
    that buffer specified in the currently bound descriptor set
</p>
</li>
<li>
<p>
Any <code>VkImageView</code> being sampled with <code>VK_FILTER_LINEAR</code> as a
    result of this command <span role="normative">must</span> be of a format which supports linear
    filtering, as specified by the
    <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for a linear
    image) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code>(for an
    optimally tiled image) returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called inside of a render pass instance
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>To record a non-indexed indirect draw, call:</p></div>
<div class="listingblock">
<a id="vkCmdDrawIndirect"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdDrawIndirect</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    buffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                offset<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    drawCount<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    stride<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command is
    recorded.
</p>
</li>
<li>
<p>
<code>buffer</code> is the buffer containing draw parameters.
</p>
</li>
<li>
<p>
<code>offset</code> is the byte offset into <code>buffer</code> where parameters
    begin.
</p>
</li>
<li>
<p>
<code>drawCount</code> is the number of draws to execute, and <span role="normative">can</span> be zero.
</p>
</li>
<li>
<p>
<code>stride</code> is the byte stride between successive sets of draw
    parameters.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkCmdDrawIndirect</code> behaves similarly to <code><a href="#vkCmdDraw">vkCmdDraw</a></code> except that the
parameters are read by the device from a buffer during execution.
<code>drawCount</code> draws are executed by the command, with parameters taken
from <code>buffer</code> starting at <code>offset</code> and increasing by <code>stride</code>
bytes for each successive draw.
The parameters of each draw are encoded in an array of
<code><a href="#VkDrawIndirectCommand">VkDrawIndirectCommand</a></code> structures.
If <code>drawCount</code> is less than or equal to one, <code>stride</code> is ignored.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>buffer</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be a multiple of <span class="monospaced">4</span>
</p>
</li>
<li>
<p>
If <code>drawCount</code> is greater than <span class="monospaced">1</span>, <code>stride</code> <span role="normative">must</span> be a multiple
    of <span class="monospaced">4</span> and <span role="normative">must</span> be greater than or equal to
    sizeof(<code>VkDrawIndirectCommand</code>)
</p>
</li>
<li>
<p>
If the <a href="#features-features-multiDrawIndirect">multi-draw indirect</a>
    feature is not enabled, <code>drawCount</code> <span role="normative">must</span> be <span class="monospaced">0</span> or <span class="monospaced">1</span>
</p>
</li>
<li>
<p>
If the
    <a href="#features-features-drawIndirectFirstInstance">drawIndirectFirstInstance</a>
    feature is not enabled, all the <code>firstInstance</code> members of the
    <code>VkDrawIndirectCommand</code> structures accessed by this command <span role="normative">must</span> be
    <code>0</code>
</p>
</li>
<li>
<p>
The current render pass <span role="normative">must</span> be <a href="#renderpass-compatibility">compatible</a>
    with the <code>renderPass</code> member of the
    <code>VkGraphicsPipelineCreateInfo</code> structure specified when creating the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.
</p>
</li>
<li>
<p>
The subpass index of the current render pass <span role="normative">must</span> be equal to the
    <code>subpass</code> member of the <code>VkGraphicsPipelineCreateInfo</code> structure
    specified when creating the <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.
</p>
</li>
<li>
<p>
For each set <em>n</em> that is statically used by the <code>VkPipeline</code>
    currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a descriptor
    set <span role="normative">must</span> have been bound to <em>n</em> at
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code>VkPipelineLayout</code>
    that is compatible for set <em>n</em>, with the <code>VkPipelineLayout</code> used to
    create the current <code>VkPipeline</code>, as described in
    <a href="#descriptorsets-compatibility">[descriptorsets-compatibility]</a>
</p>
</li>
<li>
<p>
For each push constant that is statically used by the <code>VkPipeline</code>
    currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a push
    constant value <span role="normative">must</span> have been set for
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code>VkPipelineLayout</code>
    that is compatible for push constants, with the <code>VkPipelineLayout</code>
    used to create the current <code>VkPipeline</code>, as described in
    <a href="#descriptorsets-compatibility">[descriptorsets-compatibility]</a>
</p>
</li>
<li>
<p>
Descriptors in each bound descriptor set, specified via
    <code>vkCmdBindDescriptorSets</code>, <span role="normative">must</span> be valid if they are statically
    used by the currently bound <code>VkPipeline</code> object, specified via
    <code>vkCmdBindPipeline</code>
</p>
</li>
<li>
<p>
All vertex input bindings accessed via vertex input variables declared
    in the vertex shader entry point&#8217;s interface <span role="normative">must</span> have valid buffers
    bound
</p>
</li>
<li>
<p>
A valid graphics pipeline <span role="normative">must</span> be bound to the current command buffer
    with <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>
</p>
</li>
<li>
<p>
If the <code>VkPipeline</code> object currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> requires any dynamic state, that
    state <span role="normative">must</span> have been set on the current command buffer
</p>
</li>
<li>
<p>
If <code>drawCount</code> is equal to <span class="monospaced">1</span>, <span class="eq">(<code>offset</code> &#x002b;
    sizeof(<code><a href="#VkDrawIndirectCommand">VkDrawIndirectCommand</a></code>))</span> <span role="normative">must</span> be less than or equal to the
    size of <code>buffer</code>
</p>
</li>
<li>
<p>
If <code>drawCount</code> is greater than <span class="monospaced">1</span>, <span class="eq">(<code>stride</code> &#x00d7;
    (<code>drawCount</code> - 1) + <code>offset</code> &#x002b;
    sizeof(<code><a href="#VkDrawIndirectCommand">VkDrawIndirectCommand</a></code>))</span> <span role="normative">must</span> be less than or equal to the
    size of <code>buffer</code>
</p>
</li>
<li>
<p>
<code>drawCount</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxDrawIndirectCount</code>
</p>
</li>
<li>
<p>
Every input attachment used by the current subpass <span role="normative">must</span> be bound to the
    pipeline via a descriptor set
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it
    <span role="normative">must</span> not be used to sample from any <code>VkImage</code> with a
    <code>VkImageView</code> of the type <code>VK_IMAGE_VIEW_TYPE_3D</code>,
    <code>VK_IMAGE_VIEW_TYPE_CUBE</code>, <code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>,
    <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
    <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it
    <span role="normative">must</span> not be used with any of the SPIR-V <span class="monospaced">OpImageSample*</span> or
    <span class="monospaced">OpImageSparseSample*</span> instructions with <code>ImplicitLod</code>, <code>Dref</code> or
    <code>Proj</code> in their name, in any shader stage
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it
    <span role="normative">must</span> not be used with any of the SPIR-V <span class="monospaced">OpImageSample*</span> or
    <span class="monospaced">OpImageSparseSample*</span> instructions that includes a LOD bias or any
    offset values, in any shader stage
</p>
</li>
<li>
<p>
If the <a href="#features-features-robustBufferAccess">robust buffer access</a>
    feature is not enabled, and any shader stage in the <code>VkPipeline</code>
    object currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses
    a uniform buffer, it <span role="normative">must</span> not access values outside of the range of
    that buffer specified in the currently bound descriptor set
</p>
</li>
<li>
<p>
If the <a href="#features-features-robustBufferAccess">robust buffer access</a>
    feature is not enabled, and any shader stage in the <code>VkPipeline</code>
    object currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses
    a storage buffer, it <span role="normative">must</span> not access values outside of the range of
    that buffer specified in the currently bound descriptor set
</p>
</li>
<li>
<p>
Any <code>VkImageView</code> being sampled with <code>VK_FILTER_LINEAR</code> as a
    result of this command <span role="normative">must</span> be of a format which supports linear
    filtering, as specified by the
    <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for a linear
    image) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code>(for an
    optimally tiled image) returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called inside of a render pass instance
</p>
</li>
<li>
<p>
Both of <code>buffer</code>, and <code>commandBuffer</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>The <code>VkDrawIndirectCommand</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDrawIndirectCommand"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDrawIndirectCommand</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>    vertexCount<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    instanceCount<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    firstVertex<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    firstInstance<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDrawIndirectCommand<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>vertexCount</code> is the number of vertices to draw.
</p>
</li>
<li>
<p>
<code>instanceCount</code> is the number of instances to draw.
</p>
</li>
<li>
<p>
<code>firstVertex</code> is the index of the first vertex to draw.
</p>
</li>
<li>
<p>
<code>firstInstance</code> is the instance ID of the first instance to draw.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The members of <code>VkDrawIndirectCommand</code> have the same meaning as the
similarly named parameters of <code><a href="#vkCmdDraw">vkCmdDraw</a></code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
For a given vertex buffer binding, any attribute data fetched <span role="normative">must</span> be
    entirely contained within the corresponding vertex buffer binding, as
    described in <a href="#fxvertex-input">[fxvertex-input]</a>
</p>
</li>
<li>
<p>
If the
    <a href="#features-features-drawIndirectFirstInstance">drawIndirectFirstInstance</a>
    feature is not enabled, <code>firstInstance</code> <span role="normative">must</span> be <code>0</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To record an indexed indirect draw, call:</p></div>
<div class="listingblock">
<a id="vkCmdDrawIndexedIndirect"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdDrawIndexedIndirect</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    buffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                offset<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    drawCount<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    stride<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command is
    recorded.
</p>
</li>
<li>
<p>
<code>buffer</code> is the buffer containing draw parameters.
</p>
</li>
<li>
<p>
<code>offset</code> is the byte offset into <code>buffer</code> where parameters
    begin.
</p>
</li>
<li>
<p>
<code>drawCount</code> is the number of draws to execute, and <span role="normative">can</span> be zero.
</p>
</li>
<li>
<p>
<code>stride</code> is the byte stride between successive sets of draw
    parameters.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkCmdDrawIndexedIndirect</code> behaves similarly to <code><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>
except that the parameters are read by the device from a buffer during
execution.
<code>drawCount</code> draws are executed by the command, with parameters taken
from <code>buffer</code> starting at <code>offset</code> and increasing by <code>stride</code>
bytes for each successive draw.
The parameters of each draw are encoded in an array of
<code><a href="#VkDrawIndexedIndirectCommand">VkDrawIndexedIndirectCommand</a></code> structures.
If <code>drawCount</code> is less than or equal to one, <code>stride</code> is ignored.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>buffer</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be a multiple of <span class="monospaced">4</span>
</p>
</li>
<li>
<p>
If <code>drawCount</code> is greater than <span class="monospaced">1</span>, <code>stride</code> <span role="normative">must</span> be a multiple
    of <span class="monospaced">4</span> and <span role="normative">must</span> be greater than or equal to
    sizeof(<code>VkDrawIndexedIndirectCommand</code>)
</p>
</li>
<li>
<p>
If the <a href="#features-features-multiDrawIndirect">multi-draw indirect</a>
    feature is not enabled, <code>drawCount</code> <span role="normative">must</span> be <span class="monospaced">0</span> or <span class="monospaced">1</span>
</p>
</li>
<li>
<p>
If the
    <a href="#features-features-drawIndirectFirstInstance">drawIndirectFirstInstance</a>
    feature is not enabled, all the <code>firstInstance</code> members of the
    <code>VkDrawIndexedIndirectCommand</code> structures accessed by this command
    <span role="normative">must</span> be <code>0</code>
</p>
</li>
<li>
<p>
The current render pass <span role="normative">must</span> be <a href="#renderpass-compatibility">compatible</a>
    with the <code>renderPass</code> member of the
    <code>VkGraphicsPipelineCreateInfo</code> structure specified when creating the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.
</p>
</li>
<li>
<p>
The subpass index of the current render pass <span role="normative">must</span> be equal to the
    <code>subpass</code> member of the <code>VkGraphicsPipelineCreateInfo</code> structure
    specified when creating the <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.
</p>
</li>
<li>
<p>
For each set <em>n</em> that is statically used by the <code>VkPipeline</code>
    currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a descriptor
    set <span role="normative">must</span> have been bound to <em>n</em> at
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code>VkPipelineLayout</code>
    that is compatible for set <em>n</em>, with the <code>VkPipelineLayout</code> used to
    create the current <code>VkPipeline</code>, as described in
    <a href="#descriptorsets-compatibility">[descriptorsets-compatibility]</a>
</p>
</li>
<li>
<p>
For each push constant that is statically used by the <code>VkPipeline</code>
    currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a push
    constant value <span role="normative">must</span> have been set for
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code>VkPipelineLayout</code>
    that is compatible for push constants, with the <code>VkPipelineLayout</code>
    used to create the current <code>VkPipeline</code>, as described in
    <a href="#descriptorsets-compatibility">[descriptorsets-compatibility]</a>
</p>
</li>
<li>
<p>
Descriptors in each bound descriptor set, specified via
    <code>vkCmdBindDescriptorSets</code>, <span role="normative">must</span> be valid if they are statically
    used by the currently bound <code>VkPipeline</code> object, specified via
    <code>vkCmdBindPipeline</code>
</p>
</li>
<li>
<p>
All vertex input bindings accessed via vertex input variables declared
    in the vertex shader entry point&#8217;s interface <span role="normative">must</span> have valid buffers
    bound
</p>
</li>
<li>
<p>
A valid graphics pipeline <span role="normative">must</span> be bound to the current command buffer
    with <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>
</p>
</li>
<li>
<p>
If the <code>VkPipeline</code> object currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> requires any dynamic state, that
    state <span role="normative">must</span> have been set on the current command buffer
</p>
</li>
<li>
<p>
If <code>drawCount</code> is equal to <span class="monospaced">1</span>, <span class="eq">(<code>offset</code> &#x002b;
    sizeof(<code>VkDrawIndexedIndirectCommand</code>))</span> <span role="normative">must</span> be less than or equal
    to the size of <code>buffer</code>
</p>
</li>
<li>
<p>
If <code>drawCount</code> is greater than <span class="monospaced">1</span>, <span class="eq">(<code>stride</code> &#x00d7;
    (<code>drawCount</code> - 1) + <code>offset</code> &#x002b;
    sizeof(<code>VkDrawIndexedIndirectCommand</code>))</span> <span role="normative">must</span> be less than or equal
    to the size of <code>buffer</code>
</p>
</li>
<li>
<p>
<code>drawCount</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxDrawIndirectCount</code>
</p>
</li>
<li>
<p>
Every input attachment used by the current subpass <span role="normative">must</span> be bound to the
    pipeline via a descriptor set
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it
    <span role="normative">must</span> not be used to sample from any <code>VkImage</code> with a
    <code>VkImageView</code> of the type <code>VK_IMAGE_VIEW_TYPE_3D</code>,
    <code>VK_IMAGE_VIEW_TYPE_CUBE</code>, <code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>,
    <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
    <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it
    <span role="normative">must</span> not be used with any of the SPIR-V <span class="monospaced">OpImageSample*</span> or
    <span class="monospaced">OpImageSparseSample*</span> instructions with <code>ImplicitLod</code>, <code>Dref</code> or
    <code>Proj</code> in their name, in any shader stage
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to
    <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it
    <span role="normative">must</span> not be used with any of the SPIR-V <span class="monospaced">OpImageSample*</span> or
    <span class="monospaced">OpImageSparseSample*</span> instructions that includes a LOD bias or any
    offset values, in any shader stage
</p>
</li>
<li>
<p>
If the <a href="#features-features-robustBufferAccess">robust buffer access</a>
    feature is not enabled, and any shader stage in the <code>VkPipeline</code>
    object currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses
    a uniform buffer, it <span role="normative">must</span> not access values outside of the range of
    that buffer specified in the currently bound descriptor set
</p>
</li>
<li>
<p>
If the <a href="#features-features-robustBufferAccess">robust buffer access</a>
    feature is not enabled, and any shader stage in the <code>VkPipeline</code>
    object currently bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses
    a storage buffer, it <span role="normative">must</span> not access values outside of the range of
    that buffer specified in the currently bound descriptor set
</p>
</li>
<li>
<p>
Any <code>VkImageView</code> being sampled with <code>VK_FILTER_LINEAR</code> as a
    result of this command <span role="normative">must</span> be of a format which supports linear
    filtering, as specified by the
    <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for a linear
    image) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code>(for an
    optimally tiled image) returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called inside of a render pass instance
</p>
</li>
<li>
<p>
Both of <code>buffer</code>, and <code>commandBuffer</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>The <code>VkDrawIndexedIndirectCommand</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDrawIndexedIndirectCommand"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDrawIndexedIndirectCommand</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>    indexCount<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    instanceCount<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    firstIndex<span style="color: #990000">;</span>
    <span style="color: #008080">int32_t</span>     vertexOffset<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    firstInstance<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDrawIndexedIndirectCommand<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>indexCount</code> is the number of vertices to draw.
</p>
</li>
<li>
<p>
<code>instanceCount</code> is the number of instances to draw.
</p>
</li>
<li>
<p>
<code>firstIndex</code> is the base index within the index buffer.
</p>
</li>
<li>
<p>
<code>vertexOffset</code> is the value added to the vertex index before
    indexing into the vertex buffer.
</p>
</li>
<li>
<p>
<code>firstInstance</code> is the instance ID of the first instance to draw.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The members of <code>VkDrawIndexedIndirectCommand</code> have the same meaning as
the similarly named parameters of <code><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
For a given vertex buffer binding, any attribute data fetched <span role="normative">must</span> be
    entirely contained within the corresponding vertex buffer binding, as
    described in <a href="#fxvertex-input">[fxvertex-input]</a>
</p>
</li>
<li>
<p>
(<code>indexSize</code> * (<code>firstIndex</code> + <code>indexCount</code>) + <code>offset</code>)
    <span role="normative">must</span> be less than or equal to the size of the currently bound index
    buffer, with <code>indexSize</code> being based on the type specified by
    <code>indexType</code>, where the index buffer, <code>indexType</code>, and
    <code>offset</code> are specified via <code>vkCmdBindIndexBuffer</code>
</p>
</li>
<li>
<p>
If the
    <a href="#features-features-drawIndirectFirstInstance">drawIndirectFirstInstance</a>
    feature is not enabled, <code>firstInstance</code> <span role="normative">must</span> be <code>0</code>
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fxvertex">20. Fixed-Function Vertex Processing</h2>
<div class="sectionbody">
<div class="paragraph"><p>Some implementations have specialized fixed-function hardware for fetching
and format-converting vertex input data from buffers, rather than performing
the fetch as part of the vertex shader.
Vulkan includes a vertex attribute fetch stage in the graphics pipeline in
order to take advantage of this.</p></div>
<div class="sect2">
<h3 id="fxvertex-attrib">20.1. Vertex Attributes</h3>
<div class="paragraph"><p>Vertex shaders <span role="normative">can</span> define input variables, which receive <em>vertex attribute</em>
data transferred from one or more <code>VkBuffer</code>(s) by drawing commands.
Vertex shader input variables are bound to buffers via an indirect binding
where the vertex shader associates a <em>vertex input attribute</em> number with
each variable, vertex input attributes are associated to <em>vertex input
bindings</em> on a per-pipeline basis, and vertex input bindings are associated
with specific buffers on a per-draw basis via the
<code>vkCmdBindVertexBuffers</code> command.
Vertex input attribute and vertex input binding descriptions also contain
format information controlling how data is extracted from buffer memory and
converted to the format expected by the vertex shader.</p></div>
<div class="paragraph"><p>There are <code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputAttributes</code>
number of vertex input attributes and
<code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindings</code> number of vertex
input bindings (each referred to by zero-based indices), where there are at
least as many vertex input attributes as there are vertex input bindings.
Applications <span role="normative">can</span> store multiple vertex input attributes interleaved in a
single buffer, and use a single vertex input binding to access those
attributes.</p></div>
<div class="paragraph"><p>In GLSL, vertex shaders associate input variables with a vertex input
attribute number using the <code>location</code> layout qualifier.
The <code>component</code> layout qualifier associates components of a vertex shader
input variable with components of a vertex input attribute.</p></div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// Assign location M to variableName</span></span>
<span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>location<span style="color: #990000">=</span>M<span style="color: #990000">,</span> component<span style="color: #990000">=</span><span style="color: #993399">2</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">in</span></span> <span style="color: #009900">vec2</span> variableName<span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">// Assign locations [N,N+L) to the array elements of variableNameArray</span></span>
<span style="font-weight: bold"><span style="color: #000000">layout</span></span> <span style="color: #990000">(</span>location<span style="color: #990000">=</span>N<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">in</span></span> <span style="color: #009900">vec4</span> variableNameArray<span style="color: #990000">[</span>L<span style="color: #990000">];</span></tt></pre></div></div>
<div class="paragraph"><p>In SPIR-V, vertex shaders associate input variables with a vertex input
attribute number using the <code>Location</code> decoration.
The <code>Component</code> decoration associates components of a vertex shader input
variable with components of a vertex input attribute.
The <code>Location</code> and <code>Component</code> decorations are specified via the
<code>OpDecorate</code> instruction.</p></div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content monospaced">
<pre>               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "variableName"
               OpName %15 "variableNameArray"
               OpDecorate %18 Builtin VertexIndex
               OpDecorate %19 Builtin InstanceIndex
               OpDecorate %9 Location M
               OpDecorate %9 Component 2
               OpDecorate %15 Location N
               ...
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeVector %6 2
          %8 = OpTypePointer Input %7
          %9 = OpVariable %8 Input
         %10 = OpTypeVector %6 4
         %11 = OpTypeInt 32 0
         %12 = OpConstant %11 L
         %13 = OpTypeArray %10 %12
         %14 = OpTypePointer Input %13
         %15 = OpVariable %14 Input
               ...</pre>
</div></div>
<div class="sect3">
<h4 id="fxvertex-attrib-location">20.1.1. Attribute Location and Component Assignment</h4>
<div class="paragraph"><p>Vertex shaders allow <code>Location</code> and <code>Component</code> decorations on input
variable declarations.
The <code>Location</code> decoration specifies which vertex input attribute is used
to read and interpret the data that a variable will consume.
The <code>Component</code> decoration allows the location to be more finely
specified for scalars and vectors, down to the individual components within
a location that are consumed.
The components within a location are 0, 1, 2, and 3.
A variable starting at component N will consume components N, N+1, N+2, &#8230;
up through its size.
For single precision types, it is invalid if the sequence of components gets
larger than 3.</p></div>
<div class="paragraph"><p>When a vertex shader input variable declared using a scalar or vector 32-bit
data type is assigned a location, its value(s) are taken from the components
of the input attribute specified with the corresponding
<code>VkVertexInputAttributeDescription</code>::<code>location</code>.
The components used depend on the type of variable and the <code>Component</code>
decoration specified in the variable declaration, as identified in
<a href="#fxvertex-attrib-components">[fxvertex-attrib-components]</a>.
Any 32-bit scalar or vector input will consume a single location.
For 32-bit data types, missing components are filled in with default values
as described <a href="#fxvertex-input-extraction">below</a>.</p></div>
<table class="tableblock frame-all grid-all" id="fxvertex-attrib-components"
style="
width:65%;
">
<caption class="title">Table 21. Input attribute components accessed by 32-bit input variables</caption>
<col style="width:45%;">
<col style="width:27%;">
<col style="width:27%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > 32-bit data type      </th>
<th class="tableblock halign-left valign-top" > <code>Component</code> decoration </th>
<th class="tableblock halign-left valign-top" > Components consumed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, o, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(o, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(o, o, z, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(o, o, o, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(o, y, z, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(o, o, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(o, y, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">four-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, w)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Components indicated by &#8216;o&#8217; are available for use by other input variables
which are sourced from the same attribute, and if used, are either filled
with the corresponding component from the input format (if present), or the
default value.</p></div>
<div class="paragraph"><p>When a vertex shader input variable declared using a 32-bit floating point
matrix type is assigned a location <em>i</em>, its values are taken from
consecutive input attributes starting with the corresponding
<code>VkVertexInputAttributeDescription</code>::<code>location</code>.
Such matrices are treated as an array of column vectors with values taken
from the input attributes identified in <a href="#fxvertex-attrib-matrix">[fxvertex-attrib-matrix]</a>.
The <code>VkVertexInputAttributeDescription</code>::<code>format</code> <span role="normative">must</span> be specified
with a <code><a href="#VkFormat">VkFormat</a></code> that corresponds to the appropriate type of column
vector.
The <code>Component</code> decoration <span role="normative">must</span> not be used with matrix types.</p></div>
<table class="tableblock frame-all grid-all" id="fxvertex-attrib-matrix"
style="
width:100%;
">
<caption class="title">Table 22. Input attributes accessed by 32-bit input matrix variables</caption>
<col style="width:10%;">
<col style="width:24%;">
<col style="width:21%;">
<col style="width:45%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Data type     </th>
<th class="tableblock halign-left valign-top" > Column vector type        </th>
<th class="tableblock halign-left valign-top" > Locations consumed    </th>
<th class="tableblock halign-left valign-top" > Components consumed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">mat2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">i, i+1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, o, o), (x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">mat2x3</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">i, i+1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, o), (x, y, z, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">mat2x4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">four-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">i, i+1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, w), (x, y, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">mat3x2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">i, i+1, i+2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, o, o), (x, y, o, o), (x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">mat3</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">i, i+1, i+2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, o), (x, y, z, o), (x, y, z, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">mat3x4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">four-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">i, i+1, i+2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, w), (x, y, z, w), (x, y, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">mat4x2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">i, i+1, i+2, i+3</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, o, o), (x, y, o, o), (x, y, o, o), (x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">mat4x3</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">i, i+1, i+2, i+3</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, o), (x, y, z, o), (x, y, z, o), (x, y, z, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">mat4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">four-component vector</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">i, i+1, i+2, i+3</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, w), (x, y, z, w), (x, y, z, w), (x, y, z, w)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Components indicated by &#8216;o&#8217; are available for use by other input variables
which are sourced from the same attribute, and if used, are either filled
with the corresponding component from the input (if present), or the default
value.</p></div>
<div class="paragraph"><p>When a vertex shader input variable declared using a scalar or vector 64-bit
data type is assigned a location <em>i</em>, its values are taken from consecutive
input attributes starting with the corresponding
<code>VkVertexInputAttributeDescription</code>::<code>location</code>.
The locations and components used depend on the type of variable and the
<code>Component</code> decoration specified in the variable declaration, as
identified in <a href="#fxvertex-attrib-double">[fxvertex-attrib-double]</a>.
For 64-bit data types, no default attribute values are provided.
Input variables <span role="normative">must</span> not use more components than provided by the
attribute.
Input attributes which have one- or two-component 64-bit formats will
consume a single location.
Input attributes which have three- or four-component 64-bit formats will
consume two consecutive locations.
A 64-bit scalar data type will consume two components, and a 64-bit
two-component vector data type will consume all four components available
within a location.
A three- or four-component 64-bit data type <span role="normative">must</span> not specify a component.
A three-component 64-bit data type will consume all four components of the
first location and components 0 and 1 of the second location.
This leaves components 2 and 3 available for other component-qualified
declarations.
A four-component 64-bit data type will consume all four components of the
first location and all four components of the second location.
It is invalid for a scalar or two-component 64-bit data type to specify a
component of 1 or 3.</p></div>
<table class="tableblock frame-all grid-all" id="fxvertex-attrib-double"
style="
width:100%;
">
<caption class="title">Table 23. Input attribute locations and components accessed by 64-bit input variables</caption>
<col style="width:18%;">
<col style="width:12%;">
<col style="width:25%;">
<col style="width:14%;">
<col style="width:18%;">
<col style="width:13%;">
<thead>
<tr>
<th class="tableblock halign-center valign-middle" > Input format </th>
<th class="tableblock halign-center valign-top" > Locations consumed
        </th>
<th class="tableblock halign-center valign-middle" > 64-bit data type   </th>
<th class="tableblock halign-center valign-top" ><code>Location</code> decoration </th>
<th class="tableblock halign-center valign-top" ><code>Component</code> decoration </th>
<th class="tableblock halign-center valign-top" > 32-bit components consumed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">R64</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, -, -)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3" ><p class="tableblock">R64G64</p></td>
<td class="tableblock halign-center valign-middle" rowspan="3" ><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(o, o, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="5" ><p class="tableblock">R64G64B64</p></td>
<td class="tableblock halign-center valign-middle" rowspan="5" ><p class="tableblock">i, i+1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, o, o), (o, o, -, -)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(o, o, z, w), (o, o, -, -)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i+1</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(o, o, o, o), (x, y, -, -)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, w), (o, o, -, -)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, w), (x, y, -, -)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="8" ><p class="tableblock">R64G64B64A64</p></td>
<td class="tableblock halign-center valign-middle" rowspan="8" ><p class="tableblock">i, i+1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, o, o), (o, o, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(o, o, z, w), (o, o, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i+1</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(o, o, o, o), (x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i+1</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(o, o, o, o), (o, o, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, w), (o, o, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i+1</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(o, o, o, o), (x, y, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, w), (x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">four-component vector</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">unspecified</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(x, y, z, w), (x, y, z, w)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Components indicated by &#8216;o&#8217; are available for use by other input variables
which are sourced from the same attribute.
Components indicated by &#8216;-&#8217; are not available for input variables as there
are no default values provided for 64-bit data types, and there is no data
provided by the input format.</p></div>
<div class="paragraph"><p>When a vertex shader input variable declared using a 64-bit floating-point
matrix type is assigned a location <em>i</em>, its values are taken from
consecutive input attribute locations.
Such matrices are treated as an array of column vectors with values taken
from the input attributes as shown in <a href="#fxvertex-attrib-double">[fxvertex-attrib-double]</a>.
Each column vector starts at the location immediately following the last
location of the previous column vector.
The number of attributes and components assigned to each matrix is
determined by the matrix dimensions and ranges from two to eight locations.</p></div>
<div class="paragraph"><p>When a vertex shader input variable declared using an array type is assigned
a location, its values are taken from consecutive input attributes starting
with the corresponding
<code>VkVertexInputAttributeDescription</code>::<code>location</code>.
The number of attributes and components assigned to each element are
determined according to the data type of the array elements and
<code>Component</code> decoration (if any) specified in the declaration of the
array, as described above.
Each element of the array, in order, is assigned to consecutive locations,
but all at the same specified component within each location.</p></div>
<div class="paragraph"><p>Only input variables declared with the data types and component decorations
as specified above are supported.
<em>Location aliasing</em> is causing two variables to have the same location
number.
<em>Component aliasing</em> is assigning the same (or overlapping) component number
for two location aliases.
Location aliasing is allowed only if it does not cause component aliasing.
Further, when location aliasing, the aliases sharing the location <span role="normative">must</span> all
have the same SPIR-V floating-point component type or all have the same
width integer-type components.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="fxvertex-input">20.2. Vertex Input Description</h3>
<div class="paragraph"><p>Applications specify vertex input attribute and vertex input binding
descriptions as part of graphics pipeline creation.
The <code><a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a></code>::<code>pVertexInputState</code> points to a
structure of type <code>VkPipelineVertexInputStateCreateInfo</code>.</p></div>
<div class="paragraph"><p>The <code>VkPipelineVertexInputStateCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPipelineVertexInputStateCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPipelineVertexInputStateCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                             sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                                 pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineVertexInputStateCreateFlags</span>       flags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                                    vertexBindingDescriptionCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkVertexInputBindingDescription<span style="color: #990000">*</span>      pVertexBindingDescriptions<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                                    vertexAttributeDescriptionCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkVertexInputAttributeDescription<span style="color: #990000">*</span>    pVertexAttributeDescriptions<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPipelineVertexInputStateCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>vertexBindingDescriptionCount</code> is the number of vertex binding
    descriptions provided in <code>pVertexBindingDescriptions</code>.
</p>
</li>
<li>
<p>
<code>pVertexBindingDescriptions</code> is a pointer to an array of
    <code>VkVertexInputBindingDescription</code> structures.
</p>
</li>
<li>
<p>
<code>vertexAttributeDescriptionCount</code> is the number of vertex attribute
    descriptions provided in <code>pVertexAttributeDescriptions</code>.
</p>
</li>
<li>
<p>
<code>pVertexAttributeDescriptions</code> is a pointer to an array of
    <code>VkVertexInputAttributeDescription</code> structures.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>vertexBindingDescriptionCount</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindings</code>
</p>
</li>
<li>
<p>
<code>vertexAttributeDescriptionCount</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputAttributes</code>
</p>
</li>
<li>
<p>
For every <code>binding</code> specified by any given element of
    <code>pVertexAttributeDescriptions</code>, a
    <code>VkVertexInputBindingDescription</code> <span role="normative">must</span> exist in
    <code>pVertexBindingDescriptions</code> with the same value of <code>binding</code>
</p>
</li>
<li>
<p>
All elements of <code>pVertexBindingDescriptions</code> <span role="normative">must</span> describe distinct
    binding numbers
</p>
</li>
<li>
<p>
All elements of <code>pVertexAttributeDescriptions</code> <span role="normative">must</span> describe
    distinct attribute locations
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>vertexBindingDescriptionCount</code> is not <span class="monospaced">0</span>, <code>pVertexBindingDescriptions</code> <span role="normative">must</span> be a pointer to an array of <code>vertexBindingDescriptionCount</code> valid <code>VkVertexInputBindingDescription</code> structures
</p>
</li>
<li>
<p>
If <code>vertexAttributeDescriptionCount</code> is not <span class="monospaced">0</span>, <code>pVertexAttributeDescriptions</code> <span role="normative">must</span> be a pointer to an array of <code>vertexAttributeDescriptionCount</code> valid <code>VkVertexInputAttributeDescription</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Each vertex input binding is specified by an instance of the
<code>VkVertexInputBindingDescription</code> structure.</p></div>
<div class="paragraph"><p>The <code>VkVertexInputBindingDescription</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkVertexInputBindingDescription"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkVertexInputBindingDescription</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>             binding<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>             stride<span style="color: #990000">;</span>
    <span style="color: #008080">VkVertexInputRate</span>    inputRate<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkVertexInputBindingDescription<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>binding</code> is the binding number that this structure describes.
</p>
</li>
<li>
<p>
<code>stride</code> is the distance in bytes between two consecutive elements
    within the buffer.
</p>
</li>
<li>
<p>
<code>inputRate</code> specifies whether vertex attribute addressing is a
    function of the vertex index or of the instance index.
    Possible values include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkVertexInputRate"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkVertexInputRate <span style="color: #FF0000">{</span>
    VK_VERTEX_INPUT_RATE_VERTEX <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_VERTEX_INPUT_RATE_INSTANCE <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkVertexInputRate<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_VERTEX_INPUT_RATE_VERTEX</code> indicates that vertex attribute
     addressing is a function of the vertex index.
</p>
</li>
<li>
<p>
<code>VK_VERTEX_INPUT_RATE_INSTANCE</code> indicates that vertex attribute
     addressing is a function of the instance index.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>binding</code> <span role="normative">must</span> be less than
    <code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindings</code>
</p>
</li>
<li>
<p>
<code>stride</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindingStride</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>inputRate</code> <span role="normative">must</span> be a valid <code><a href="#VkVertexInputRate">VkVertexInputRate</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Each vertex input attribute is specified by an instance of the
<code>VkVertexInputAttributeDescription</code> structure.</p></div>
<div class="paragraph"><p>The <code>VkVertexInputAttributeDescription</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkVertexInputAttributeDescription"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkVertexInputAttributeDescription</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>    location<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    binding<span style="color: #990000">;</span>
    <span style="color: #008080">VkFormat</span>    format<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    offset<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkVertexInputAttributeDescription<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>location</code> is the shader binding location number for this attribute.
</p>
</li>
<li>
<p>
<code>binding</code> is the binding number which this attribute takes its data
    from.
</p>
</li>
<li>
<p>
<code>format</code> is the size and type of the vertex attribute data.
</p>
</li>
<li>
<p>
<code>offset</code> is a byte offset of this attribute relative to the start of
    an element in the vertex input binding.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>location</code> <span role="normative">must</span> be less than
    <code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputAttributes</code>
</p>
</li>
<li>
<p>
<code>binding</code> <span role="normative">must</span> be less than
    <code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindings</code>
</p>
</li>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputAttributeOffset</code>
</p>
</li>
<li>
<p>
<code>format</code> <span role="normative">must</span> be allowed as a vertex buffer format, as specified by
    the <code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>bufferFeatures</code> returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>format</code> <span role="normative">must</span> be a valid <code><a href="#VkFormat">VkFormat</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To bind vertex buffers to a command buffer for use in subsequent draw
commands, call:</p></div>
<div class="listingblock">
<a id="vkCmdBindVertexBuffers"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdBindVertexBuffers</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    firstBinding<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    bindingCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkBuffer<span style="color: #990000">*</span>                             pBuffers<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDeviceSize<span style="color: #990000">*</span>                         pOffsets<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command is
    recorded.
</p>
</li>
<li>
<p>
<code>firstBinding</code> is the index of the first vertex input binding whose
    state is updated by the command.
</p>
</li>
<li>
<p>
<code>bindingCount</code> is the number of vertex input bindings whose state is
    updated by the command.
</p>
</li>
<li>
<p>
<code>pBuffers</code> is a pointer to an array of buffer handles.
</p>
</li>
<li>
<p>
<code>pOffsets</code> is a pointer to an array of buffer offsets.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The values taken from elements <span class="eq">i</span> of <code>pBuffers</code> and <code>pOffsets</code>
replace the current state for the vertex input binding
<span class="eq"><code>firstBinding</code> + i</span>, for <span class="eq">i</span> in <span class="eq">[0, <code>bindingCount</code>)</span>.
The vertex input binding is updated to start at the offset indicated by
<code>pOffsets</code>[i] from the start of the buffer <code>pBuffers</code>[i].
All vertex input attributes that use each of these bindings will use these
updated addresses in their address calculations for subsequent draw
commands.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>firstBinding</code> <span role="normative">must</span> be less than
    <code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindings</code>
</p>
</li>
<li>
<p>
The sum of <code>firstBinding</code> and <code>bindingCount</code> <span role="normative">must</span> be less than
    or equal to <code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindings</code>
</p>
</li>
<li>
<p>
All elements of <code>pOffsets</code> <span role="normative">must</span> be less than the size of the
    corresponding element in <code>pBuffers</code>
</p>
</li>
<li>
<p>
All elements of <code>pBuffers</code> <span role="normative">must</span> have been created with the
    <code>VK_BUFFER_USAGE_VERTEX_BUFFER_BIT</code> flag
</p>
</li>
<li>
<p>
Each element of <code>pBuffers</code> that is non-sparse <span role="normative">must</span> be bound
    completely and contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pBuffers</code> <span role="normative">must</span> be a pointer to an array of <code>bindingCount</code> valid <code>VkBuffer</code> handles
</p>
</li>
<li>
<p>
<code>pOffsets</code> <span role="normative">must</span> be a pointer to an array of <code>bindingCount</code> <code>VkDeviceSize</code> values
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
<code>bindingCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Both of <code>commandBuffer</code>, and the elements of <code>pBuffers</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>The address of each attribute for each <code>vertexIndex</code> and
<code>instanceIndex</code> is calculated as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
Let attribDesc be the member of
    <code>VkPipelineVertexInputStateCreateInfo</code>::<code>pVertexAttributeDescriptions</code>
    with <code>VkVertexInputAttributeDescription</code>::<code>location</code> equal to
    the vertex input attribute number.
</p>
</li>
<li>
<p>
Let bindingDesc be the member of
    <code>VkPipelineVertexInputStateCreateInfo</code>::<code>pVertexBindingDescriptions</code>
    with <code>VkVertexInputAttributeDescription</code>::<code>binding</code> equal to
    attribDesc.binding.
</p>
</li>
<li>
<p>
Let <code>vertexIndex</code> be the index of the vertex within the draw (a value
    between <code>firstVertex</code> and <code>firstVertex</code>+<code>vertexCount</code> for
    <code>vkCmdDraw</code>, or a value taken from the index buffer for
    <code>vkCmdDrawIndexed</code>), and let <code>instanceIndex</code> be the instance
    number of the draw (a value between <code>firstInstance</code> and
    <code>firstInstance</code>+<code>instanceCount</code>).
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>bufferBindingAddress <span style="color: #990000">=</span> buffer<span style="color: #990000">[</span>binding<span style="color: #990000">].</span>baseAddress <span style="color: #990000">+</span> offset<span style="color: #990000">[</span>binding<span style="color: #990000">];</span>

<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>bindingDesc<span style="color: #990000">.</span>inputRate <span style="color: #990000">==</span> VK_VERTEX_INPUT_RATE_VERTEX<span style="color: #990000">)</span>
    vertexOffset <span style="color: #990000">=</span> vertexIndex <span style="color: #990000">*</span> bindingDesc<span style="color: #990000">.</span>stride<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
    vertexOffset <span style="color: #990000">=</span> instanceIndex <span style="color: #990000">*</span> bindingDesc<span style="color: #990000">.</span>stride<span style="color: #990000">;</span>

attribAddress <span style="color: #990000">=</span> bufferBindingAddress <span style="color: #990000">+</span> vertexOffset <span style="color: #990000">+</span> attribDesc<span style="color: #990000">.</span>offset<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph" id="fxvertex-input-extraction"><p>For each attribute, raw data is extracted starting at <span class="monospaced">attribAddress</span> and is
converted from the <code>VkVertexInputAttributeDescription</code>&#8217;s <code>format</code> to
either to floating-point, unsigned integer, or signed integer based on the
base type of the format; the base type of the format <span role="normative">must</span> match the base
type of the input variable in the shader.
If <code>format</code> is a packed format, <span class="monospaced">attribAddress</span> <span role="normative">must</span> be a multiple of
the size in bytes of the whole attribute data type as described in
<a href="#features-formats-packed">Packed Formats</a>.
Otherwise, <span class="monospaced">attribAddress</span> <span role="normative">must</span> be a multiple of the size in bytes of the
component type indicated by <code>format</code> (see <a href="#features-formats">Formats</a>).
If the format does not include G, B, or A components, then those are filled
with <span class="eq">(0,0,1)</span> as needed (using either 1.0f or integer 1 based on the
format) for attributes that are not 64-bit data types.
The number of components in the vertex shader input variable need not
exactly match the number of components in the format.
If the vertex shader has fewer components, the extra components are
discarded.</p></div>
</div>
<div class="sect2">
<h3 id="fxvertex-example">20.3. Example</h3>
<div class="paragraph"><p>To create a graphics pipeline that uses the following vertex description:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">Vertex</span>
<span style="color: #FF0000">{</span>
    <span style="color: #009900">float</span>   x<span style="color: #990000">,</span> y<span style="color: #990000">,</span> z<span style="color: #990000">,</span> w<span style="color: #990000">;</span>
    <span style="color: #008080">uint8_t</span> u<span style="color: #990000">,</span> v<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The application could use the following set of structures:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkVertexInputBindingDescription</span> binding <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    <span style="color: #993399">0</span><span style="color: #990000">,</span>                                          <span style="font-style: italic"><span style="color: #9A1900">// binding</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>Vertex<span style="color: #990000">),</span>                             <span style="font-style: italic"><span style="color: #9A1900">// stride</span></span>
    VK_VERTEX_INPUT_RATE_VERTEX                 <span style="font-style: italic"><span style="color: #9A1900">// inputRate</span></span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkVertexInputAttributeDescription</span> attributes<span style="color: #990000">[]</span> <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    <span style="color: #FF0000">{</span>
        <span style="color: #993399">0</span><span style="color: #990000">,</span>                                      <span style="font-style: italic"><span style="color: #9A1900">// location</span></span>
        binding<span style="color: #990000">.</span>binding<span style="color: #990000">,</span>                        <span style="font-style: italic"><span style="color: #9A1900">// binding</span></span>
        VK_FORMAT_R32G32B32A32_SFLOAT<span style="color: #990000">,</span>          <span style="font-style: italic"><span style="color: #9A1900">// format</span></span>
        <span style="color: #993399">0</span>                                       <span style="font-style: italic"><span style="color: #9A1900">// offset</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">,</span>
    <span style="color: #FF0000">{</span>
        <span style="color: #993399">1</span><span style="color: #990000">,</span>                                      <span style="font-style: italic"><span style="color: #9A1900">// location</span></span>
        binding<span style="color: #990000">.</span>binding<span style="color: #990000">,</span>                        <span style="font-style: italic"><span style="color: #9A1900">// binding</span></span>
        VK_FORMAT_R8G8_UNORM<span style="color: #990000">,</span>                   <span style="font-style: italic"><span style="color: #9A1900">// format</span></span>
        <span style="color: #993399">4</span> <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span><span style="color: #009900">float</span><span style="color: #990000">)</span>                       <span style="font-style: italic"><span style="color: #9A1900">// offset</span></span>
    <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkPipelineVertexInputStateCreateInfo</span> viInfo <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_CREATE_INFO<span style="color: #990000">,</span>    <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
    NULL<span style="color: #990000">,</span>                         <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
    <span style="color: #993399">0</span><span style="color: #990000">,</span>                            <span style="font-style: italic"><span style="color: #9A1900">// flags</span></span>
    <span style="color: #993399">1</span><span style="color: #990000">,</span>                            <span style="font-style: italic"><span style="color: #9A1900">// vertexBindingDescriptionCount</span></span>
    <span style="color: #990000">&amp;</span>binding<span style="color: #990000">,</span>                     <span style="font-style: italic"><span style="color: #9A1900">// pVertexBindingDescriptions</span></span>
    <span style="color: #993399">2</span><span style="color: #990000">,</span>                            <span style="font-style: italic"><span style="color: #9A1900">// vertexAttributeDescriptionCount</span></span>
    <span style="color: #990000">&amp;</span>attributes<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]</span>                <span style="font-style: italic"><span style="color: #9A1900">// pVertexAttributeDescriptions</span></span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tessellation">21. Tessellation</h2>
<div class="sectionbody">
<div class="paragraph"><p>Tessellation involves three pipeline stages.
First, a <a href="#shaders-tessellation-control">tessellation control shader</a>
transforms control points of a patch and <span role="normative">can</span> produce per-patch data.
Second, a fixed-function tessellator generates multiple primitives
corresponding to a tessellation of the patch in (u,v) or (u,v,w) parameter
space.
Third, a <a href="#shaders-tessellation-evaluation">tessellation evaluation shader</a>
transforms the vertices of the tessellated patch, for example to compute
their positions and attributes as part of the tessellated surface.
The tessellator is enabled when the pipeline contains both a tessellation
control shader and a tessellation evaluation shader.</p></div>
<div class="sect2">
<h3 id="_tessellator">21.1. Tessellator</h3>
<div class="paragraph"><p>If a pipeline includes both tessellation shaders (control and evaluation),
the tessellator consumes each input patch (after vertex shading) and
produces a new set of independent primitives (points, lines, or triangles).
These primitives are logically produced by subdividing a geometric primitive
(rectangle or triangle) according to the per-patch outer and inner
tessellation levels written by the tessellation control shader.
These levels are specified using the <a href="#interfaces-builtin-variables">built-in variables</a> <code>TessLevelOuter</code> and <code>TessLevelInner</code>, respectively.
This subdivision is performed in an implementation-dependent manner.
If no tessellation shaders are present in the pipeline, the tessellator is
disabled and incoming primitives are passed through without modification.</p></div>
<div class="paragraph"><p>The type of subdivision performed by the tessellator is specified by an
<code>OpExecutionMode</code> instruction in the tessellation evaluation or
tessellation control shader using one of execution modes <code>Triangles</code>,
<code>Quads</code>, and <code>IsoLines</code>.
Other tessellation-related execution modes <span role="normative">can</span> also be specified in either
the tessellation control or tessellation evaluation shaders, and if they are
specified in both then the modes <span role="normative">must</span> be the same.</p></div>
<div class="paragraph"><p>Tessellation execution modes include:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>Triangles</code>, <code>Quads</code>, and <code>IsoLines</code>.
    These control the type of subdivision and topology of the output
    primitives.
    One mode <span role="normative">must</span> be set in at least one of the tessellation shader stages.
</p>
</li>
<li>
<p>
<code>VertexOrderCw</code> and <code>VertexOrderCcw</code>.
    These control the orientation of triangles generated by the tessellator.
    One mode <span role="normative">must</span> be set in at least one of the tessellation shader stages.
</p>
</li>
<li>
<p>
<code>PointMode</code>.
    Controls generation of points rather than triangles or lines.
    This functionality defaults to disabled, and is enabled if either shader
    stage includes the execution mode.
</p>
</li>
<li>
<p>
<code>SpacingEqual</code>, <code>SpacingFractionalEven</code>, and
    <code>SpacingFractionalOdd</code>.
    Controls the spacing of segments on the edges of tessellated primitives.
    One mode <span role="normative">must</span> be set in at least one of the tessellation shader stages.
</p>
</li>
<li>
<p>
<code>OutputVertices</code>.
    Controls the size of the output patch of the tessellation control
    shader.
    One value <span role="normative">must</span> be set in at least one of the tessellation shader
    stages.
</p>
</li>
</ul></div>
<div class="paragraph"><p>For triangles, the tessellator subdivides a triangle primitive into smaller
triangles.
For quads, the tessellator subdivides a rectangle primitive into smaller
triangles.
For isolines, the tessellator subdivides a rectangle primitive into a
collection of line segments arranged in strips stretching across the
rectangle in the <span class="eq">u</span> dimension (i.e. the coordinates in <code>TessCoord</code>
are of the form (0,x) through (1,x) for all tessellation evaluation shader
invocations that share a line).</p></div>
<div class="paragraph"><p>Each vertex produced by the tessellator has an associated (u,v,w) or (u,v)
position in a normalized parameter space, with parameter values in the range
<span class="eq">[0,1]</span>, as illustrated in figure <a href="#img-tessellation-topology">[img-tessellation-topology]</a>.</p></div>
<div class="imageblock" id="img-tessellation-topology" style="text-align:center;">
<div class="content">
<img src="images/tessparam.svg" alt="images/tessparam.svg" width="800">
</div>
<div class="title">Figure 9. Domain parameterization for tessellation primitive modes</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Caption</div>
<div class="paragraph"><p>In the <a href="#img-tessellation-topology">Domain parameterization</a> diagram, the
coordinates illustrate the value of <code>TessCoord</code> at the corners of the
domain.
The labels on the edges indicate the inner (IL0 and IL1) and outer (OL0
through OL3) tessellation level values used to control the number of
subdivisions along each edge of the domain.</p></div>
</div></div>
<div class="paragraph"><p>For triangles, the vertex&#8217;s position is a barycentric coordinate (u,v,w),
where u + v + w = 1.0, and indicates the relative influence of the three
vertices of the triangle on the position of the vertex.
For quads and isolines, the position is a (u,v) coordinate indicating the
relative horizontal and vertical position of the vertex relative to the
subdivided rectangle.
The subdivision process is explained in more detail in subsequent sections.</p></div>
</div>
<div class="sect2">
<h3 id="_tessellator_patch_discard">21.2. Tessellator Patch Discard</h3>
<div class="paragraph"><p>A patch is discarded by the tessellator if any relevant outer tessellation
level is less than or equal to zero.</p></div>
<div class="paragraph"><p>Patches will also be discarded if any relevant outer tessellation level
corresponds to a floating-point <span class="eq">NaN</span> (not a number) in implementations
supporting <span class="eq">NaN</span>.</p></div>
<div class="paragraph"><p>No new primitives are generated and the tessellation evaluation shader is
not executed for patches that are discarded.
For <code>Quads</code>, all four outer levels are relevant.
For <code>Triangles</code> and <code>IsoLines</code>, only the first three or two outer
levels, respectively, are relevant.
Negative inner levels will not cause a patch to be discarded; they will be
clamped as described below.</p></div>
</div>
<div class="sect2">
<h3 id="tessellation-tessellator-spacing">21.3. Tessellator Spacing</h3>
<div class="paragraph"><p>Each of the tessellation levels is used to determine the number and spacing
of segments used to subdivide a corresponding edge.
The method used to derive the number and spacing of segments is specified by
an <code>OpExecutionMode</code> in the tessellation control or tessellation
evaluation shader using one of the identifiers <code>SpacingEqual</code>,
<code>SpacingFractionalEven</code>, or <code>SpacingFractionalOdd</code>.</p></div>
<div class="paragraph"><p>If <code>SpacingEqual</code> is used, the floating-point tessellation level is first
clamped to <span class="eq">[1, <code>maxLevel</code>]</span>, where <span class="eq"><code>maxLevel</code></span> is the
implementation-dependent maximum tessellation level
(<code>VkPhysicalDeviceLimits</code>::<code>maxTessellationGenerationLevel</code>).
The result is rounded up to the nearest integer <span class="eq">n</span>, and the
corresponding edge is divided into <span class="eq">n</span> segments of equal length in (u,v)
space.</p></div>
<div class="paragraph"><p>If <code>SpacingFractionalEven</code> is used, the tessellation level is first
clamped to <span class="eq">[2, <code>maxLevel</code>]</span> and then rounded up to the nearest even
integer <span class="eq">n</span>.
If <code>SpacingFractionalOdd</code> is used, the tessellation level is clamped to
<span class="eq">[1, <code>maxLevel</code> - 1]</span> and then rounded up to the nearest odd integer
<span class="eq">n</span>.
If <span class="eq">n</span> is one, the edge will not be subdivided.
Otherwise, the corresponding edge will be divided into <span class="eq">n - 2</span> segments
of equal length, and two additional segments of equal length that are
typically shorter than the other segments.
The length of the two additional segments relative to the others will
decrease monotonically with <span class="eq">n - f</span>, where <span class="eq">f</span> is the clamped
floating-point tessellation level.
When <span class="eq">n - f</span> is zero, the additional segments will have equal length to
the other segments.
As <span class="eq">n - f</span> approaches 2.0, the relative length of the additional
segments approaches zero.
The two additional segments <span role="normative">must</span> be placed symmetrically on opposite sides
of the subdivided edge.
The relative location of these two segments is implementation-dependent, but
<span role="normative">must</span> be identical for any pair of subdivided edges with identical values of
<span class="eq">f</span>.</p></div>
<div class="paragraph"><p>When the tessellator produces triangles (in the <code>Triangles</code> or <code>Quads</code>
modes), the orientation of all triangles is specified with an
<code>OpExecutionMode</code> of <code>VertexOrderCw</code> or <code>VertexOrderCcw</code> in the
tessellation control or tessellation evaluation shaders.
If the order is <code>VertexOrderCw</code>, the vertices of all generated triangles
will have clockwise ordering in (u,v) or (u,v,w) space.
If the order is <code>VertexOrderCcw</code>, the vertices will have
counter-clockwise ordering.</p></div>
<div class="paragraph"><p>The vertices of a triangle have counter-clockwise ordering if</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">a = u<sub>0</sub> v<sub>1</sub> - u<sub>1</sub> v<sub>0</sub> + u<sub>1</sub> v<sub>2</sub> - u<sub>2</sub> v<sub>1</sub> + u<sub>2</sub> v<sub>0</sub> -
     u<sub>0</sub> v<sub>2</sub></span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>is positive, and clockwise ordering if <span class="eq">a</span> is negative.
<span class="eq">u<sub>i</sub></span> and <span class="eq">v<sub>i</sub></span> are the <span class="eq">u</span> and <span class="eq">v</span> coordinates in
normalized parameter space of the <span class="eq">i</span>th vertex of the triangle.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The value <span class="eq">a</span> is proportional (with a positive factor) to the signed
area of the triangle.</p></div>
<div class="paragraph"><p>In <code>Triangles</code> mode, even though the vertex coordinates have a <span class="eq">w</span>
value, it does not participate directly in the computation of <span class="eq">a</span>, being
an affine combination of <span class="eq">u</span> and <span class="eq">v</span>.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>For all primitive modes, the tessellator is capable of generating points
instead of lines or triangles.
If the tessellation control or tessellation evaluation shader specifies the
<code>OpExecutionMode</code> <code>PointMode</code>, the primitive generator will generate
one point for each distinct vertex produced by tessellation.
Otherwise, the tessellator will produce a collection of line segments or
triangles according to the primitive mode.
When tessellating triangles or quads in point mode with fractional odd
spacing, the tessellator <span role="normative">may</span> produce <em>interior vertices</em> that are
positioned on the edge of the patch if an inner tessellation level is less
than or equal to one.
Such vertices are considered distinct from vertices produced by subdividing
the outer edge of the patch, even if there are pairs of vertices with
identical coordinates.</p></div>
<div class="paragraph"><p>The points, lines, or triangles produced by the tessellator are passed to
subsequent pipeline stages in an implementation-dependent order.</p></div>
</div>
<div class="sect2">
<h3 id="tessellation-triangle-tessellation">21.4. Triangle Tessellation</h3>
<div class="paragraph"><p>If the tessellation primitive mode is <code>Triangles</code>, an equilateral
triangle is subdivided into a collection of triangles covering the area of
the original triangle.
First, the original triangle is subdivided into a collection of concentric
equilateral triangles.
The edges of each of these triangles are subdivided, and the area between
each triangle pair is filled by triangles produced by joining the vertices
on the subdivided edges.
The number of concentric triangles and the number of subdivisions along each
triangle except the outermost is derived from the first inner tessellation
level.
The edges of the outermost triangle are subdivided independently, using the
first, second, and third outer tessellation levels to control the number of
subdivisions of the <span class="eq">u = 0</span> (left), <span class="eq">v = 0</span> (bottom), and <span class="eq">w =
0</span> (right) edges, respectively.
The second inner tessellation level and the fourth outer tessellation level
have no effect in this mode.</p></div>
<div class="paragraph"><p>If the first inner tessellation level and all three outer tessellation
levels are exactly one after clamping and rounding, only a single triangle
with <span class="eq">(u,v,w)</span> coordinates of <span class="eq">(0,0,1)</span>, <span class="eq">(1,0,0)</span>, and
<span class="eq">(0,1,0)</span> is generated.
If the inner tessellation level is one and any of the outer tessellation
levels is greater than one, the inner tessellation level is treated as
though it were originally specified as <span class="eq">1 + &#x03b5;</span> and will result
in a two- or three-segment subdivision depending on the tessellation
spacing.
When used with fractional odd spacing, the three-segment subdivision <span role="normative">may</span>
produce <em>inner vertices</em> positioned on the edge of the triangle.</p></div>
<div class="paragraph"><p>If any tessellation level is greater than one, tessellation begins by
producing a set of concentric inner triangles and subdividing their edges.
First, the three outer edges are temporarily subdivided using the clamped
and rounded first inner tessellation level and the specified tessellation
spacing, generating <span class="eq">n</span> segments.
For the outermost inner triangle, the inner triangle is degenerate&#8201;&#8212;&#8201;a
single point at the center of the triangle&#8201;&#8212;&#8201;if <span class="eq">n</span> is two.
Otherwise, for each corner of the outer triangle, an inner triangle corner
is produced at the intersection of two lines extended perpendicular to the
corner&#8217;s two adjacent edges running through the vertex of the subdivided
outer edge nearest that corner.
If <span class="eq">n</span> is three, the edges of the inner triangle are not subdivided and
is the final triangle in the set of concentric triangles.
Otherwise, each edge of the inner triangle is divided into <span class="eq">n - 2</span>
segments, with the <span class="eq">n - 1</span> vertices of this subdivision produced by
intersecting the inner edge with lines perpendicular to the edge running
through the <span class="eq">n - 1</span> innermost vertices of the subdivision of the outer
edge.
Once the outermost inner triangle is subdivided, the previous subdivision
process repeats itself, using the generated triangle as an outer triangle.
This subdivision process is illustrated in <a href="#img-innertri">Inner Triangle Tessellation</a>.</p></div>
<div class="imageblock" id="img-innertri" style="text-align:center;">
<div class="content">
<img src="images/innertri.svg" alt="images/innertri.svg" width="800">
</div>
<div class="title">Figure 10. Inner Triangle Tessellation</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Caption</div>
<div class="paragraph"><p>In the <a href="#img-innertri">Inner Triangle Tessellation</a> diagram, inner
tessellation levels of (a) five and (b) four are shown (not to scale).
Solid black circles depict vertices along the edges of the concentric
triangles.
The edges of inner triangles are subdivided by intersecting the edge with
segments perpendicular to the edge passing through each inner vertex of the
subdivided outer edge.
Dotted lines depict edges connecting corresponding vertices on the inner and
outer triangle edges.</p></div>
</div></div>
<div class="paragraph"><p>Once all the concentric triangles are produced and their edges are
subdivided, the area between each pair of adjacent inner triangles is filled
completely with a set of non-overlapping triangles.
In this subdivision, two of the three vertices of each triangle are taken
from adjacent vertices on a subdivided edge of one triangle; the third is
one of the vertices on the corresponding edge of the other triangle.
If the innermost triangle is degenerate (i.e., a point), the triangle
containing it is subdivided into six triangles by connecting each of the six
vertices on that triangle with the center point.
If the innermost triangle is not degenerate, that triangle is added to the
set of generated triangles as-is.</p></div>
<div class="paragraph"><p>After the area corresponding to any inner triangles is filled, the
tessellator generates triangles to cover the area between the outermost
triangle and the outermost inner triangle.
To do this, the temporary subdivision of the outer triangle edge above is
discarded.
Instead, the <span class="eq">u = 0</span>, <span class="eq">v = 0</span>, and <span class="eq">w = 0</span> edges are subdivided
according to the first, second, and third outer tessellation levels,
respectively, and the tessellation spacing.
The original subdivision of the first inner triangle is retained.
The area between the outer and first inner triangles is completely filled by
non-overlapping triangles as described above.
If the first (and only) inner triangle is degenerate, a set of triangles is
produced by connecting each vertex on the outer triangle edges with the
center point.</p></div>
<div class="paragraph"><p>After all triangles are generated, each vertex in the subdivided triangle is
assigned a barycentric (u,v,w) coordinate based on its location relative to
the three vertices of the outer triangle.</p></div>
<div class="paragraph"><p>The algorithm used to subdivide the triangular domain in (u,v,w) space into
individual triangles is implementation-dependent.
However, the set of triangles produced will completely cover the domain, and
no portion of the domain will be covered by multiple triangles.
The order in which the generated triangles passed to subsequent pipeline
stages and the order of the vertices in those triangles are both
implementation-dependent.
However, when depicted in a manner similar to <a href="#img-innertri">Inner Triangle Tessellation</a>, the order of the vertices in the generated triangles will be
either all clockwise or all counter-clockwise, according to the vertex order
layout declaration.</p></div>
</div>
<div class="sect2">
<h3 id="tessellation-quad-tessellation">21.5. Quad Tessellation</h3>
<div class="paragraph"><p>If the tessellation primitive mode is <code>Quads</code>, a rectangle is subdivided
into a collection of triangles covering the area of the original rectangle.
First, the original rectangle is subdivided into a regular mesh of
rectangles, where the number of rectangles along the <span class="eq">u = 0</span> and <span class="eq">u
= 1</span> (vertical) and <span class="eq">v = 0</span> and <span class="eq">v = 1</span> (horizontal) edges are
derived from the first and second inner tessellation levels, respectively.
All rectangles, except those adjacent to one of the outer rectangle edges,
are decomposed into triangle pairs.
The outermost rectangle edges are subdivided independently, using the first,
second, third, and fourth outer tessellation levels to control the number of
subdivisions of the <span class="eq">u = 0</span> (left), <span class="eq">v = 0</span> (bottom), <span class="eq">u = 1</span>
(right), and <span class="eq">v = 1</span> (top) edges, respectively.
The area between the inner rectangles of the mesh and the outer rectangle
edges are filled by triangles produced by joining the vertices on the
subdivided outer edges to the vertices on the edge of the inner rectangle
mesh.</p></div>
<div class="paragraph"><p>If both clamped inner tessellation levels and all four clamped outer
tessellation levels are exactly one, only a single triangle pair covering
the outer rectangle is generated.
Otherwise, if either clamped inner tessellation level is one, that
tessellation level is treated as though it were originally specified as
<span class="eq">1 + &#x03b5;</span> and will result in a two- or three-segment subdivision
depending on the tessellation spacing.
When used with fractional odd spacing, the three-segment subdivision <span role="normative">may</span>
produce <em>inner vertices</em> positioned on the edge of the rectangle.</p></div>
<div class="paragraph"><p>If any tessellation level is greater than one, tessellation begins by
subdividing the <span class="eq">u = 0</span> and <span class="eq">u = 1</span> edges of the outer rectangle
into <span class="eq">m</span> segments using the clamped and rounded first inner tessellation
level and the tessellation spacing.
The <span class="eq">v = 0</span> and <span class="eq">v = 1</span> edges are subdivided into <span class="eq">n</span> segments
using the second inner tessellation level.
Each vertex on the <span class="eq">u = 0</span> and <span class="eq">v = 0</span> edges are joined with the
corresponding vertex on the <span class="eq">u = 1</span> and <span class="eq">v = 1</span> edges to produce a
set of vertical and horizontal lines that divide the rectangle into a grid
of smaller rectangles.
The primitive generator emits a pair of non-overlapping triangles covering
each such rectangle not adjacent to an edge of the outer rectangle.
The boundary of the region covered by these triangles forms an inner
rectangle, the edges of which are subdivided by the grid vertices that lie
on the edge.
If either <span class="eq">m</span> or <span class="eq">n</span> is two, the inner rectangle is degenerate, and
one or both of the rectangle&#8217;s <em>edges</em> consist of a single point.
This subdivision is illustrated in Figure <a href="#img-innerquad">Inner Quad Tessellation</a>.</p></div>
<div class="imageblock" id="img-innerquad" style="text-align:center;">
<div class="content">
<img src="images/innerquad.svg" alt="images/innerquad.svg" width="800">
</div>
<div class="title">Figure 11. Inner Quad Tessellation</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Caption</div>
<div class="paragraph"><p>In the <a href="#img-innerquad">Inner Quad Tessellation</a> diagram, inner quad
tessellation levels of (a) <span class="eq">(4,2)</span> and (b) <span class="eq">(7,4)</span> are shown.
Gray regions in figure (b) depict the 10 inner rectangles, each of which
will be subdivided into two triangles.
Solid black circles depict vertices on the boundary of the outer and inner
rectangles, where the inner rectangle on the top figure is degenerate (a
single line segment).
Dotted lines depict the horizontal and vertical edges connecting
corresponding vertices on the inner and outer rectangle edges.</p></div>
</div></div>
<div class="paragraph"><p>After the area corresponding to the inner rectangle is filled, the
tessellator <span role="normative">must</span> produce triangles to cover the area between the inner and
outer rectangles.
To do this, the subdivision of the outer rectangle edge above is discarded.
Instead, the <span class="eq">u = 0</span>, <span class="eq">v = 0</span>, <span class="eq">u = 1</span>, and <span class="eq">v = 1</span> edges
are subdivided according to the first, second, third, and fourth outer
tessellation levels, respectively, and the tessellation spacing.
The original subdivision of the inner rectangle is retained.
The area between the outer and inner rectangles is completely filled by
non-overlapping triangles.
Two of the three vertices of each triangle are adjacent vertices on a
subdivided edge of one rectangle; the third is one of the vertices on the
corresponding edge of the other triangle.
If either edge of the innermost rectangle is degenerate, the area near the
corresponding outer edges is filled by connecting each vertex on the outer
edge with the single vertex making up the <em>inner edge</em>.</p></div>
<div class="paragraph"><p>The algorithm used to subdivide the rectangular domain in (u,v) space into
individual triangles is implementation-dependent.
However, the set of triangles produced will completely cover the domain, and
no portion of the domain will be covered by multiple triangles.
The order in which the generated triangles passed to subsequent pipeline
stages and the order of the vertices in those triangles are both
implementation-dependent.
However, when depicted in a manner similar to <a href="#img-innerquad">Inner Quad Tessellation</a>, the order of the vertices in the generated triangles will be
either all clockwise or all counter-clockwise, according to the vertex order
layout declaration.</p></div>
</div>
<div class="sect2">
<h3 id="tessellation-isoline-tessellation">21.6. Isoline Tessellation</h3>
<div class="paragraph"><p>If the tessellation primitive mode is <code>IsoLines</code>, a set of independent
horizontal line segments is drawn.
The segments are arranged into connected strips called <em>isolines</em>, where the
vertices of each isoline have a constant v coordinate and u coordinates
covering the full range <span class="eq">[0,1]</span>.
The number of isolines generated is derived from the first outer
tessellation level; the number of segments in each isoline is derived from
the second outer tessellation level.
Both inner tessellation levels and the third and fourth outer tessellation
levels have no effect in this mode.</p></div>
<div class="paragraph"><p>As with quad tessellation above, isoline tessellation begins with a
rectangle.
The <span class="eq">u = 0</span> and <span class="eq">u = 1</span> edges of the rectangle are subdivided
according to the first outer tessellation level.
For the purposes of this subdivision, the tessellation spacing mode is
ignored and treated as equal_spacing.
An isoline is drawn connecting each vertex on the <span class="eq">u = 0</span> rectangle edge
to the corresponding vertex on the <span class="eq">u = 1</span> rectangle edge, except that
no line is drawn between (0,1) and (1,1).
If the number of isolines on the subdivided <span class="eq">u = 0</span> and <span class="eq">u = 1</span>
edges is <span class="eq">n</span>, this process will result in <span class="eq">n</span> equally spaced lines
with constant v coordinates of 0, $\frac{1}{n}, \frac{2}{n},
\ldots, \frac{n-1}{n}$.</p></div>
<div class="paragraph"><p>Each of the <span class="eq">n</span> isolines is then subdivided according to the second
outer tessellation level and the tessellation spacing, resulting in <span class="eq">m</span>
line segments.
Each segment of each line is emitted by the tessellator.</p></div>
<div class="paragraph"><p>The order in which the generated line segments are passed to subsequent
pipeline stages and the order of the vertices in each generated line segment
are both implementation-dependent.</p></div>
</div>
<div class="sect2">
<h3 id="_tessellation_pipeline_state">21.7. Tessellation Pipeline State</h3>
<div class="paragraph"><p>The <code>pTessellationState</code> member of <code><a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a></code>
points to a structure of type <code>VkPipelineTessellationStateCreateInfo</code>.</p></div>
<div class="paragraph"><p>The <code>VkPipelineTessellationStateCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPipelineTessellationStateCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPipelineTessellationStateCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                           sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                               pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineTessellationStateCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                                  patchControlPoints<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPipelineTessellationStateCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>patchControlPoints</code> number of control points per patch.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>patchControlPoints</code> <span role="normative">must</span> be greater than zero and less than or
    equal to <code>VkPhysicalDeviceLimits</code>::<code>maxTessellationPatchSize</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PIPELINE_TESSELLATION_STATE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="geometry">22. Geometry Shading</h2>
<div class="sectionbody">
<div class="paragraph"><p>The geometry shader operates on a group of vertices and their associated
data assembled from a single input primitive, and emits zero or more output
primitives and the group of vertices and their associated data required for
each output primitive.
Geometry shading is enabled when a geometry shader is included in the
pipeline.</p></div>
<div class="sect2">
<h3 id="geometry-input">22.1. Geometry Shader Input Primitives</h3>
<div class="paragraph"><p>Each geometry shader invocation has access to all vertices in the primitive
(and their associated data), which are presented to the shader as an array
of inputs.
The input primitive type expected by the geometry shader is specified with
an <code>OpExecutionMode</code> instruction in the geometry shader, and <span role="normative">must</span> be
compatible with the primitive topology used by primitive assembly (if
tessellation is not in use) or <span role="normative">must</span> match the type of primitive generated
by the tessellation primitive generator (if tessellation is in use).
Compatibility is defined below, with each input primitive type.
The input primitive types accepted by a geometry shader are:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Points
</dt>
<dd>
<p>
Geometry shaders that operate on points use an <code>OpExecutionMode</code>
instruction specifying the <code>InputPoints</code> input mode.
Such a shader is valid only when the pipeline primitive topology is
<code>VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code> (if tessellation is not in use) or if
tessellation is in use and the tessellation evaluation shader uses
<code>PointMode</code>.
There is only a single input vertex available for each geometry shader
invocation.
However, inputs to the geometry shader are still presented as an array, but
this array has a length of one.
</p>
</dd>
<dt class="hdlist1">
Lines
</dt>
<dd>
<p>
Geometry shaders that operate on line segments are generated by including an
<code>OpExecutionMode</code> instruction with the <code>InputLines</code> mode.
Such a shader is valid only for the <code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code>,
and <code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP</code> primitive topologies (if
tessellation is not in use) or if tessellation is in use and the
tessellation mode is <code>Isolines</code>.
There are two input vertices available for each geometry shader invocation.
The first vertex refers to the vertex at the beginning of the line segment
and the second vertex refers to the vertex at the end of the line segment.
</p>
</dd>
<dt class="hdlist1">
Lines with Adjacency
</dt>
<dd>
<p>
Geometry shaders that operate on line segments with adjacent vertices are
generated by including an <code>OpExecutionMode</code> instruction with the
<code>InputLinesAdjacency</code> mode.
Such a shader is valid only for the
<code>VK_PRIMITIVE_TOPOLOGY_LINES_WITH_ADJACENCY</code> and
<code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY</code> primitive topologies
and <span role="normative">must</span> not be used when tessellation is in use.
</p>
<div class="paragraph"><p>In this mode, there are four vertices available for each geometry shader
invocation.
The second vertex refers to attributes of the vertex at the beginning of the
line segment and the third vertex refers to the vertex at the end of the
line segment.
The first and fourth vertices refer to the vertices adjacent to the
beginning and end of the line segment, respectively.</p></div>
</dd>
<dt class="hdlist1">
Triangles
</dt>
<dd>
<p>
Geometry shaders that operate on triangles are created by including an
<code>OpExecutionMode</code> instruction with the <code>Triangles</code> mode.
Such a shader is valid when the pipeline topology is
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code>,
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code>, or
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code> (if tessellation is not in use) or
when tessellation is in use and the tessellation mode is <code>Triangles</code> or
<code>Quads</code>.
</p>
<div class="paragraph"><p>In this mode, there are three vertices available for each geometry shader
invocation.
The first, second, and third vertices refer to attributes of the first,
second, and third vertex of the triangle, respectively.</p></div>
</dd>
<dt class="hdlist1">
Triangles with Adjacency
</dt>
<dd>
<p>
Geometry shaders that operate on triangles with adjacent vertices are
created by including an <code>OpExecutionMode</code> instruction with the
<code>InputTrianglesAdjacency</code> mode.
Such a shader is valid when the pipeline topology is
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLES_WITH_ADJACENCY</code> or
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code>, and <span role="normative">must</span> not be
used when tessellation is in use.
</p>
<div class="paragraph"><p>In this mode, there are six vertices available for each geometry shader
invocation.
The first, third and fifth vertices refer to attributes of the first, second
and third vertex of the triangle, respectively.
The second, fourth and sixth vertices refer to attributes of the vertices
adjacent to the edges from the first to the second vertex, from the second
to the third vertex, and from the third to the first vertex, respectively.</p></div>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="geometry-output">22.2. Geometry Shader Output Primitives</h3>
<div class="paragraph"><p>A geometry shader generates primitives in one of three output modes: points,
line strips, or triangle strips.
The primitive mode is specified in the shader using an <code>OpExecutionMode</code>
instruction with the <code>OutputPoints</code>, <code>OutputLineStrip</code> or
<code>OutputTriangleStrip</code> modes, respectively.
Each geometry shader <span role="normative">must</span> include exactly one output primitive mode.</p></div>
<div class="paragraph"><p>The vertices output by the geometry shader are assembled into points, lines,
or triangles based on the output primitive type and the resulting primitives
are then further processed as described in <a href="#primsrast">[primsrast]</a>.
If the number of vertices emitted by the geometry shader is not sufficient
to produce a single primitive, vertices corresponding to incomplete
primitives are not processed by subsequent pipeline stages.
The number of vertices output by the geometry shader is limited to a maximum
count specified in the shader.</p></div>
<div class="paragraph"><p>The maximum output vertex count is specified in the shader using an
<code>OpExecutionMode</code> instruction with the mode set to <code>OutputVertices</code>
and the maximum number of vertices that will be produced by the geometry
shader specified as a literal.
Each geometry shader <span role="normative">must</span> specify a maximum output vertex count.</p></div>
</div>
<div class="sect2">
<h3 id="geometry-invocations">22.3. Multiple Invocations of Geometry Shaders</h3>
<div class="paragraph"><p>Geometry shaders <span role="normative">can</span> be invoked more than one time for each input
primitive.
This is known as <em>geometry shader instancing</em> and is requested by including
an <code>OpExecutionMode</code> instruction with <code>mode</code> specified as
<code>Invocations</code> and the number of invocations specified as an integer
literal.</p></div>
<div class="paragraph"><p>In this mode, the geometry shader will execute <span class="eq">n</span> times for each input
primitive, where <span class="eq">n</span> is the number of invocations specified in the
<code>OpExecutionMode</code> instruction.
The instance number is available to each invocation as a built-in input
using <code>InvocationId</code>.</p></div>
</div>
<div class="sect2">
<h3 id="geometry-ordering">22.4. Geometry Shader Primitive Ordering</h3>
<div class="paragraph"><p>Limited guarantees are provided for the relative ordering of primitives
produced by a geometry shader.</p></div>
<div class="ulist"><ul>
<li>
<p>
For instanced geometry shaders, the output primitives generated from
    each input primitive are passed to subsequent pipeline stages using the
    invocation number to order the primitives, from least to greatest.
</p>
</li>
<li>
<p>
All output primitives generated from a given input primitive are passed
    to subsequent pipeline stages before any output primitives generated
    from subsequent input primitives.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vertexpostproc">23. Fixed-Function Vertex Post-Processing</h2>
<div class="sectionbody">
<div class="paragraph"><p>After programmable vertex processing, the following fixed-function
operations are applied to vertices of the resulting primitives:</p></div>
<div class="ulist"><ul>
<li>
<p>
Flatshading (see <a href="#vertexpostproc-flatshading">Flatshading</a>).
</p>
</li>
<li>
<p>
Primitive clipping, including client-defined half-spaces (see
    <a href="#vertexpostproc-clipping">Primitive Clipping</a>).
</p>
</li>
<li>
<p>
Shader output attribute clipping (see
    <a href="#vertexpostproc-clipping-shader-outputs">Clipping Shader Outputs</a>).
</p>
</li>
<li>
<p>
Perspective division on clip coordinates (see
    <a href="#vertexpostproc-coord-transform">Coordinate Transformations</a>).
</p>
</li>
<li>
<p>
Viewport mapping, including depth range scaling (see
    <a href="#vertexpostproc-viewport">Controlling the Viewport</a>).
</p>
</li>
<li>
<p>
Front face determination for polygon primitives (see
    <a href="#primsrast-polygons-basic">Basic Polygon Rasterization</a>).
</p>
</li>
</ul></div>
<div class="paragraph"><p>Next, rasterization is performed on primitives as described in chapter
<a href="#primsrast">Rasterization</a>.</p></div>
<div class="sect2">
<h3 id="vertexpostproc-flatshading">23.1. Flat Shading</h3>
<div class="paragraph"><p><em>Flat shading</em> a vertex output attribute means to assign all vertices of the
primitive the same value for that output.</p></div>
<div class="paragraph"><p>The output values assigned are those of the <em>provoking vertex</em> of the
primitive.
The provoking vertex depends on the primitive topology, and is generally the
&#8220;first&#8221; vertex of the primitive.
For primitives not processed by tessellation or geometry shaders, the
provoking vertex is selected from the input vertices according to the
following table.</p></div>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all" id="provoking-vertex-selection"
style="
margin-left:auto; margin-right:auto;
width:100%;
">
<caption class="title">Table 24. Provoking vertex selection</caption>
<col style="width:75%;">
<col style="width:25%;">
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primitive type of primitive <span class="eq">i</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Provoking vertex number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">i</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">i</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">3 i</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">i</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">i + 1</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">4 i + 1</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">i + 1</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">6 i</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">2 i</span></p></td>
</tr>
</tbody>
</table>
<div class="sidebarblock">
<div class="content">
<div class="title">Caption</div>
<div class="paragraph"><p>The <a href="#provoking-vertex-selection">Provoking vertex selection</a> table defines
the output values used for flat shading the i<sup>th</sup> primitive generated by
drawing commands with the indicated primitive type, derived from the
corresponding values of the vertex whose index is shown in the table.
Primitives and vertices are numbered starting from zero.</p></div>
</div></div>
<div class="paragraph"><p>Flat shading is applied to those vertex attributes that
<a href="#interfaces-iointerfaces-matching">match</a> fragment input attributes which
are decorated as <code>Flat</code>.</p></div>
<div class="paragraph"><p>If a geometry shader is active, the output primitive topology is either
points, line strips, or triangle strips, and the selection of the provoking
vertex behaves according to the corresponding row of the table.
If a tessellation evaluation shader is active and a geometry shader is not
active, the provoking vertex is undefined but <span role="normative">must</span> be one of the vertices
of the primitive.</p></div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-clipping">23.2. Primitive Clipping</h3>
<div class="paragraph"><p>Primitives are culled against the <em>cull volume</em> and then clipped to the
<em>clip volume</em>.
In clip coordinates, the <em>view volume</em> is defined by:</p></div>
<div class="paragraph"><p>$ \begin{array}{c} -w_c \leq x_c \leq w_c \\ -w_c \leq y_c \leq
 w_c \\ 0 \leq z_c \leq w_c \\ \end{array}
$</p></div>
<div class="paragraph"><p>This view volume <span role="normative">can</span> be further restricted by as many as
<code>VkPhysicalDeviceLimits</code>::<code>maxClipDistances</code> client-defined
half-spaces.</p></div>
<div class="paragraph"><p>The cull volume is the intersection of up to
<code>VkPhysicalDeviceLimits</code>::<code>maxCullDistances</code> client-defined
half-spaces (if no client-defined cull half-spaces are enabled, culling
against the cull volume is skipped).</p></div>
<div class="paragraph"><p>A shader <span role="normative">must</span> write a single cull distance for each enabled cull half-space
to elements of the <code>CullDistance</code> array.
If the cull distance for any enabled cull half-space is negative for all of
the vertices of the primitive under consideration, the primitive is
discarded.
Otherwise the primitive is clipped against the clip volume as defined below.</p></div>
<div class="paragraph"><p>The clip volume is the intersection of up to
<code>VkPhysicalDeviceLimits</code>::<code>maxClipDistances</code> client-defined
half-spaces with the view volume (if no client-defined clip half-spaces are
enabled, the clip volume is the view volume).</p></div>
<div class="paragraph"><p>A shader <span role="normative">must</span> write a single clip distance for each enabled clip half-space
to elements of the <code>ClipDistance</code> array.
Clip half-space <span class="eq">i</span> is then given by the set of points satisfying the
inequality</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">c<sub>i</sub>(<strong>P</strong>) &#x2265; 0</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>where <span class="eq">c<sub>i</sub>(<strong>P</strong>)</span> is the clip distance <span class="eq">i</span> at point <span class="eq"><strong>P</strong></span>.
For point primitives, <span class="eq">c<sub>i</sub>(<strong>P</strong>)</span> is simply the clip distance for the
vertex in question.
For line and triangle primitives, per-vertex clip distances are interpolated
using a weighted mean, with weights derived according to the algorithms
described in sections <a href="#primsrast-lines-basic">Basic Line Segment Rasterization</a> and <a href="#primsrast-polygons-basic">Basic Polygon Rasterization</a>, using the perspective interpolation equations.</p></div>
<div class="paragraph"><p>The number of client-defined clip and cull half-spaces that are enabled is
determined by the explicit size of the built-in arrays <code>ClipDistance</code> and
<code>CullDistance</code>, respectively, declared as an output in the interface of
the entry point of the final shader stage before clipping.</p></div>
<div class="paragraph"><p>Depth clamping is enabled or disabled via the <code>depthClampEnable</code> enable
of the <code>VkPipelineRasterizationStateCreateInfo</code> structure.
If depth clamping is enabled, the plane equation</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">0 &#x2264; z<sub>c</sub> &#x2264; w<sub>c</sub></span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>(see the clip volume definition above) is ignored by view volume clipping
(effectively, there is no near or far plane clipping).</p></div>
<div class="paragraph"><p>If the primitive under consideration is a point, then clipping passes it
unchanged if it lies within the clip volume; otherwise, it is discarded.</p></div>
<div class="paragraph"><p>If the primitive is a line segment, then clipping does nothing to it if it
lies entirely within the clip volume, and discards it if it lies entirely
outside the volume.</p></div>
<div class="paragraph"><p>If part of the line segment lies in the volume and part lies outside, then
the line segment is clipped and new vertex coordinates are computed for one
or both vertices.
A clipped line segment endpoint lies on both the original line segment and
the boundary of the clip volume.</p></div>
<div class="paragraph"><p>This clipping produces a value, <span class="eq">0 &#x2264; t &#x2264; 1</span>, for each clipped
vertex.
If the coordinates of a clipped vertex are <span class="eq"><strong>P</strong></span> and the original
vertices' coordinates are <span class="eq"><strong>P</strong><sub>1</sub></span> and <span class="eq"><strong>P</strong><sub>2</sub></span>, then <span class="eq">t</span> is
given by</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq"><strong>P</strong> = t <strong>P</strong><sub>1</sub> + (1-t) <strong>P</strong><sub>2</sub></span>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p><span class="eq">t</span> is used to clip vertex output attributes as described in
<a href="#vertexpostproc-clipping-shader-outputs">Clipping Shader Outputs</a>.</p></div>
<div class="paragraph"><p>If the primitive is a polygon, it passes unchanged if every one of its edges
lie entirely inside the clip volume, and it is discarded if every one of its
edges lie entirely outside the clip volume.
If the edges of the polygon intersect the boundary of the clip volume, the
intersecting edges are reconnected by new edges that lie along the boundary
of the clip volume - in some cases requiring the introduction of new
vertices into a polygon.</p></div>
<div class="paragraph"><p>If a polygon intersects an edge of the clip volume&#8217;s boundary, the clipped
polygon <span role="normative">must</span> include a point on this boundary edge.</p></div>
<div class="paragraph"><p>Primitives rendered with user-defined half-spaces <span role="normative">must</span> satisfy a
complementarity criterion.
Suppose a series of primitives is drawn where each vertex <span class="eq">i</span> has a
single specified clip distance <span class="eq">d<sub>i</sub></span> (or a number of similarly
specified clip distances, if multiple half-spaces are enabled).
Next, suppose that the same series of primitives are drawn again with each
such clip distance replaced by <span class="eq">-d<sub>i</sub></span> (and the graphics pipeline is
otherwise the same).
In this case, primitives <span role="normative">must</span> not be missing any pixels, and pixels <span role="normative">must</span>
not be drawn twice in regions where those primitives are cut by the clip
planes.</p></div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-clipping-shader-outputs">23.3. Clipping Shader Outputs</h3>
<div class="paragraph"><p>Next, vertex output attributes are clipped.
The output values associated with a vertex that lies within the clip volume
are unaffected by clipping.
If a primitive is clipped, however, the output values assigned to vertices
produced by clipping are clipped.</p></div>
<div class="paragraph"><p>Let the output values assigned to the two vertices <span class="eq"><strong>P</strong><sub>1</sub></span> and
<span class="eq"><strong>P</strong><sub>2</sub></span> of an unclipped edge be <span class="eq"><strong>c</strong><sub>1</sub></span> and <span class="eq"><strong>c</strong><sub>2</sub></span>.
The value of <span class="eq">t</span> (see <a href="#vertexpostproc-clipping">Primitive Clipping</a>)
for a clipped point <span class="eq"><strong>P</strong></span> is used to obtain the output value
associated with <span class="eq"><strong>P</strong></span> as</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq"><strong>c</strong> = t <strong>c</strong><sub>1</sub> + (1-t) <strong>c</strong><sub>2</sub></span>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>(Multiplying an output value by a scalar means multiplying each of <em>x</em>, <em>y</em>,
<em>z</em>, and <em>w</em> by the scalar.)</p></div>
<div class="paragraph"><p>Since this computation is performed in clip space before division by
<span class="eq">w<sub>c</sub></span>, clipped output values are perspective-correct.</p></div>
<div class="paragraph"><p>Polygon clipping creates a clipped vertex along an edge of the clip volume&#8217;s
boundary.
This situation is handled by noting that polygon clipping proceeds by
clipping against one half-space at a time.
Output value clipping is done in the same way, so that clipped points always
occur at the intersection of polygon edges (possibly already clipped) with
the clip volume&#8217;s boundary.</p></div>
<div class="paragraph"><p>For vertex output attributes whose matching fragment input attributes are
decorated with <code>NoPerspective</code>, the value of <span class="eq">t</span> used to obtain the
output value associated with <span class="eq"><strong>P</strong></span> will be adjusted to produce results
that vary linearly in framebuffer space.</p></div>
<div class="paragraph"><p>Output attributes of integer or unsigned integer type <span role="normative">must</span> always be flat
shaded.
Flat shaded attributes are constant over the primitive being rasterized (see
<a href="#primsrast-lines-basic">Basic Line Segment Rasterization</a> and
<a href="#primsrast-polygons-basic">Basic Polygon Rasterization</a>), and no
interpolation is performed.
The output value <span class="eq"><strong>c</strong></span> is taken from either <span class="eq"><strong>c</strong><sub>1</sub></span> or
<span class="eq"><strong>c</strong><sub>2</sub></span>, since flat shading has already occurred and the two values
are identical.</p></div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-coord-transform">23.4. Coordinate Transformations</h3>
<div class="paragraph"><p><em>Clip coordinates</em> for a vertex result from shader execution, which yields a
vertex coordinate <code>Position</code>.</p></div>
<div class="paragraph"><p>Perspective division on clip coordinates yields <em>normalized device
coordinates</em>, followed by a <em>viewport</em> transformation (see
<a href="#vertexpostproc-viewport">Controlling the Viewport</a>) to convert these
coordinates into <em>framebuffer coordinates</em>.</p></div>
<div class="paragraph"><p>If a vertex in clip coordinates has a position given by</p></div>
<div class="paragraph"><p>$\left(\begin{array}{c} x_c \\ y_c \\ z_c \\ w_c
\end{array}\right)$</p></div>
<div class="paragraph"><p>then the vertex&#8217;s normalized device coordinates are</p></div>
<div class="paragraph"><p>$ \left(\begin{array}{c} x_d \\ y_d \\ z_d \end{array}\right) =
    \left(\begin{array}{c} \frac{x_c}{w_c} \\ \frac{y_c}{w_c} \\
    \frac{z_c}{w_c} \end{array}\right)
$</p></div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-viewport">23.5. Controlling the Viewport</h3>
<div class="paragraph"><p>The viewport transformation is determined by the selected viewport&#8217;s width
and height in pixels, <span class="eq">p<sub>x</sub></span> and <span class="eq">p<sub>y</sub></span>, respectively, and its
center <span class="eq">(o<sub>x</sub>, o<sub>y</sub>)</span> (also in pixels), as well as its depth range min
and max determining a depth range scale value <span class="eq">p<sub>z</sub></span> and a depth range
bias value <span class="eq">o<sub>z</sub></span> (defined below).
The vertex&#8217;s framebuffer coordinates <span class="eq">(x<sub>f</sub>, y<sub>f</sub>, z<sub>f</sub>)</span> are given by</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">x<sub>f</sub> = (p<sub>x</sub> / 2) x<sub>d</sub> + o<sub>x</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">y<sub>f</sub> = (p<sub>y</sub> / 2) y<sub>d</sub> + o<sub>y</sub></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">z<sub>f</sub> = p<sub>z</sub> &#x00d7; z<sub>d</sub> + o<sub>z</sub></span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Multiple viewports are available, numbered zero up to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code> minus one.
The number of viewports used by a pipeline is controlled by the
<code>viewportCount</code> member of the <code>VkPipelineViewportStateCreateInfo</code>
structure used in pipeline creation.</p></div>
<div class="paragraph"><p>The <code>VkPipelineViewportStateCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPipelineViewportStateCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPipelineViewportStateCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                       sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                           pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineViewportStateCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                              viewportCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkViewport<span style="color: #990000">*</span>                     pViewports<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                              scissorCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkRect2D<span style="color: #990000">*</span>                       pScissors<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPipelineViewportStateCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>viewportCount</code> is the number of viewports used by the pipeline.
</p>
</li>
<li>
<p>
<code>pViewports</code> is a pointer to an array of <code><a href="#VkViewport">VkViewport</a></code>
    structures, defining the viewport transforms.
    If the viewport state is dynamic, this member is ignored.
</p>
</li>
<li>
<p>
<code>scissorCount</code> is the number of <a href="#fragops-scissor">scissors</a> and
    <span role="normative">must</span> match the number of viewports.
</p>
</li>
<li>
<p>
<code>pScissors</code> is a pointer to an array of <code>VkRect2D</code> structures
    which define the rectangular bounds of the scissor for the corresponding
    viewport.
    If the scissor state is dynamic, this member is ignored.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <a href="#features-features-multiViewport">multiple viewports</a> feature is
    not enabled, <code>viewportCount</code> <span role="normative">must</span> be <span class="monospaced">1</span>
</p>
</li>
<li>
<p>
If the <a href="#features-features-multiViewport">multiple viewports</a> feature is
    not enabled, <code>scissorCount</code> <span role="normative">must</span> be <span class="monospaced">1</span>
</p>
</li>
<li>
<p>
<code>viewportCount</code> <span role="normative">must</span> be between <span class="monospaced">1</span> and
    <code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive
</p>
</li>
<li>
<p>
<code>scissorCount</code> <span role="normative">must</span> be between <span class="monospaced">1</span> and
    <code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive
</p>
</li>
<li>
<p>
<code>scissorCount</code> and <code>viewportCount</code> <span role="normative">must</span> be identical
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>viewportCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>scissorCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>If a geometry shader is active and has an output variable decorated with
<code>ViewportIndex</code>, the viewport transformation uses the viewport
corresponding to the value assigned to <code>ViewportIndex</code> taken from an
implementation-dependent vertex of each primitive.
If <code>ViewportIndex</code> is outside the range zero to <code>viewportCount</code> minus
one for a primitive, or if the geometry shader did not assign a value to
<code>ViewportIndex</code> for all vertices of a primitive due to flow control, the
results of the viewport transformation of the vertices of such primitives
are undefined.
If no geometry shader is active, or if the geometry shader does not have an
output decorated with <code>ViewportIndex</code>, the viewport numbered zero is used
by the viewport transformation.</p></div>
<div class="paragraph"><p>A single vertex <span role="normative">can</span> be used in more than one individual primitive, in
primitives such as <code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code>.
In this case, the viewport transformation is applied separately for each
primitive.</p></div>
<div class="paragraph"><p>If the bound pipeline state object was not created with the
<code>VK_DYNAMIC_STATE_VIEWPORT</code> dynamic state enabled, viewport
transformation parameters are specified using the <code>pViewports</code> member of
<code>VkPipelineViewportStateCreateInfo</code> in the pipeline state object.
If the pipeline state object was created with the
<code>VK_DYNAMIC_STATE_VIEWPORT</code> dynamic state enabled, the viewport
transformation parameters are dynamically set and changed with the command:</p></div>
<div class="listingblock">
<a id="vkCmdSetViewport"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdSetViewport</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    firstViewport<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    viewportCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkViewport<span style="color: #990000">*</span>                           pViewports<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>firstViewport</code> is the index of the first viewport whose parameters
    are updated by the command.
</p>
</li>
<li>
<p>
<code>viewportCount</code> is the number of viewports whose parameters are
    updated by the command.
</p>
</li>
<li>
<p>
<code>pViewports</code> is a pointer to an array of <code><a href="#VkViewport">VkViewport</a></code> structures
    specifying viewport parameters.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The viewport parameters taken from element <span class="eq">i</span> of <code>pViewports</code>
replace the current state for the viewport index <span class="eq"><code>firstViewport</code>
&#x002b; i</span>, for <span class="eq">i</span> in <span class="eq">[0, <code>viewportCount</code>)</span>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The currently bound graphics pipeline <span role="normative">must</span> have been created with the
    <code>VK_DYNAMIC_STATE_VIEWPORT</code> dynamic state enabled
</p>
</li>
<li>
<p>
<code>firstViewport</code> <span role="normative">must</span> be less than
    <code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>
</p>
</li>
<li>
<p>
The sum of <code>firstViewport</code> and <code>viewportCount</code> <span role="normative">must</span> be between
    <span class="monospaced">1</span> and <code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive
</p>
</li>
<li>
<p>
If the <a href="#features-features-multiViewport">multiple viewports</a> feature is
    not enabled, <code>firstViewport</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If the <a href="#features-features-multiViewport">multiple viewports</a> feature is
    not enabled, <code>viewportCount</code> <span role="normative">must</span> be <span class="monospaced">1</span>
</p>
</li>
<li>
<p>
<code>pViewports</code> <span role="normative">must</span> be a pointer to an array of <code>viewportCount</code>
    valid <code>VkViewport</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
<code>viewportCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>Both <code><a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></code> and <code><a href="#vkCmdSetViewport">vkCmdSetViewport</a></code> use
<code>VkViewport</code> to set the viewport transformation parameters.</p></div>
<div class="paragraph"><p>The <code>VkViewport</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkViewport"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkViewport</span> <span style="color: #FF0000">{</span>
    <span style="color: #009900">float</span>    x<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>    y<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>    width<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>    height<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>    minDepth<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>    maxDepth<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkViewport<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>x</code> and <code>y</code> are the viewport&#8217;s upper left corner <span class="eq">(x,y)</span>.
</p>
</li>
<li>
<p>
<code>width</code> and <code>height</code> are the viewport&#8217;s width and height,
    respectively.
</p>
</li>
<li>
<p>
<code>minDepth</code> and <code>maxDepth</code> are the depth range for the viewport.
    It is valid for <code>minDepth</code> to be greater than or equal to
    <code>maxDepth</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The framebuffer depth coordinate <span class="eq"><code>z</code><sub>f</sub></span> <span role="normative">may</span> be represented using
either a fixed-point or floating-point representation.
However, a floating-point representation <span role="normative">must</span> be used if the depth/stencil
attachment has a floating-point depth component.
If an <span class="eq">m</span>-bit fixed-point representation is used, we assume that it
represents each value $\frac{k}{2^m - 1}$, where <span class="eq">k &#x2208; {
0, 1, &#8230;, 2<sup>m</sup>-1 }</span>, as <span class="eq">k</span> (e.g. 1.0 is represented in binary as a
string of all ones).</p></div>
<div class="paragraph"><p>The viewport parameters shown in the above equations are found from these
values as</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">o<sub>x</sub> = <code>x</code> + <code>width</code> / 2</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">o<sub>y</sub> = <code>y</code> + <code>height</code> / 2</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">o<sub>z</sub> = <code>minDepth</code></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">p<sub>x</sub> = <code>width</code></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">p<sub>y</sub> = <code>height</code></span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">p<sub>z</sub> = <code>maxDepth</code> - <code>minDepth</code></span>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>The application <span role="normative">can</span> specify a negative term for <code>height</code>, which has the
effect of negating the y coordinate in clip space before performing the
transform.
When using a negative <code>height</code>, the application <span role="normative">should</span> also adjust the
<code>y</code> value to point to the lower left corner of the viewport instead of
the upper left corner.
Using the negative <code>height</code> allows the application to avoid having to
negate the y component of the <code>Position</code> output from the last vertex
processing stage in shaders that also target other graphics APIs.</p></div>
<div class="paragraph"><p>The width and height of the <a href="#features-limits-maxViewportDimensions">implementation-dependent maximum viewport dimensions</a> <span role="normative">must</span> be greater than
or equal to the width and height of the largest image which <span role="normative">can</span> be created
and attached to a framebuffer.</p></div>
<div class="paragraph"><p>The floating-point viewport bounds are represented with an
<a href="#features-limits-viewportSubPixelBits">implementation-dependent precision</a>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>width</code> <span role="normative">must</span> be greater than <span class="monospaced">0.0</span> and less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxViewportDimensions</code>[0]
</p>
</li>
<li>
<p>
<code>height</code> <span role="normative">must</span> be greater than or equal to
    -<code>VkPhysicalDeviceLimits</code>::<code>maxViewportDimensions</code>[1] and less
    than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxViewportDimensions</code>[1]
</p>
</li>
<li>
<p>
<code>x</code> and <code>y</code> <span role="normative">must</span> each be between <code>viewportBoundsRange</code>[0]
    and <code>viewportBoundsRange</code>[1], inclusive
</p>
</li>
<li>
<p>
<code>x</code> + <code>width</code> <span role="normative">must</span> be less than or equal to
    <code>viewportBoundsRange</code>[1]
</p>
</li>
<li>
<p>
<code>y</code> + <code>height</code> <span role="normative">must</span> be less than or equal to
    <code>viewportBoundsRange</code>[1]
</p>
</li>
<li>
<p>
<code>minDepth</code> <span role="normative">must</span> be between <span class="monospaced">0.0</span> and <span class="monospaced">1.0</span>, inclusive
</p>
</li>
<li>
<p>
<code>maxDepth</code> <span role="normative">must</span> be between <span class="monospaced">0.0</span> and <span class="monospaced">1.0</span>, inclusive
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="primsrast">24. Rasterization</h2>
<div class="sectionbody">
<div class="paragraph"><p>Rasterization is the process by which a primitive is converted to a
two-dimensional image.
Each point of this image contains associated data such as depth, color, or
other attributes.</p></div>
<div class="paragraph"><p>Rasterizing a primitive begins by determining which squares of an integer
grid in framebuffer coordinates are occupied by the primitive, and assigning
one or more depth values to each such square.
This process is described below for points, lines, and polygons.</p></div>
<div class="paragraph"><p>A grid square, including its <span class="eq">(x,y)</span> framebuffer coordinates, <span class="eq">z</span>
(depth), and associated data added by fragment shaders, is called a
fragment.
A fragment is located by its upper left corner, which lies on integer grid
coordinates.</p></div>
<div class="paragraph"><p>Rasterization operations also refer to a fragment&#8217;s sample locations, which
are offset by subpixel fractional values from its upper left corner.
The rasterization rules for points, lines, and triangles involve testing
whether each sample location is inside the primitive.
Fragments need not actually be square, and rasterization rules are not
affected by the aspect ratio of fragments.
Display of non-square grids, however, will cause rasterized points and line
segments to appear fatter in one direction than the other.</p></div>
<div class="paragraph"><p>We assume that fragments are square, since it simplifies antialiasing and
texturing.
After rasterization, fragments are processed by the <a href="#fragops-early">early per-fragment tests</a>, if enabled.</p></div>
<div class="paragraph"><p>Several factors affect rasterization, including the members of
<code>VkPipelineRasterizationStateCreateInfo</code> and
<code>VkPipelineMultisampleStateCreateInfo</code>.</p></div>
<div class="paragraph"><p>The <code>VkPipelineRasterizationStateCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPipelineRasterizationStateCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPipelineRasterizationStateCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                            sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                                pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineRasterizationStateCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                                   depthClampEnable<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                                   rasterizerDiscardEnable<span style="color: #990000">;</span>
    <span style="color: #008080">VkPolygonMode</span>                              polygonMode<span style="color: #990000">;</span>
    <span style="color: #008080">VkCullModeFlags</span>                            cullMode<span style="color: #990000">;</span>
    <span style="color: #008080">VkFrontFace</span>                                frontFace<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                                   depthBiasEnable<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                                      depthBiasConstantFactor<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                                      depthBiasClamp<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                                      depthBiasSlopeFactor<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                                      lineWidth<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPipelineRasterizationStateCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>depthClampEnable</code> controls whether to clamp the fragment&#8217;s depth
    values instead of clipping primitives to the z planes of the frustum, as
    described in <a href="#vertexpostproc-clipping">Primitive Clipping</a>.
</p>
</li>
<li>
<p>
<code>rasterizerDiscardEnable</code> controls whether primitives are discarded
    immediately before the rasterization stage.
</p>
</li>
<li>
<p>
<code>polygonMode</code> is the triangle rendering mode.
    See <code><a href="#VkPolygonMode">VkPolygonMode</a></code>.
</p>
</li>
<li>
<p>
<code>cullMode</code> is the triangle facing direction used for primitive
    culling.
    See <code><a href="#VkCullModeFlagBits">VkCullModeFlagBits</a></code>.
</p>
</li>
<li>
<p>
<code>frontFace</code> is the front-facing triangle orientation to be used for
    culling.
    See <code><a href="#VkFrontFace">VkFrontFace</a></code>.
</p>
</li>
<li>
<p>
<code>depthBiasEnable</code> controls whether to bias fragment depth values.
</p>
</li>
<li>
<p>
<code>depthBiasConstantFactor</code> is a scalar factor controlling the
    constant depth value added to each fragment.
</p>
</li>
<li>
<p>
<code>depthBiasClamp</code> is the maximum (or minimum) depth bias of a
    fragment.
</p>
</li>
<li>
<p>
<code>depthBiasSlopeFactor</code> is a scalar factor applied to a fragment&#8217;s
    slope in depth bias calculations.
</p>
</li>
<li>
<p>
<code>lineWidth</code> is the width of rasterized line segments.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <a href="#features-features-depthClamp">depth clamping</a> feature is not
    enabled, <code>depthClampEnable</code> <span role="normative">must</span> be <code>VK_FALSE</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-fillModeNonSolid">non-solid fill modes</a>
    feature is not enabled, <code>polygonMode</code> <span role="normative">must</span> be
    <code>VK_POLYGON_MODE_FILL</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>polygonMode</code> <span role="normative">must</span> be a valid <code><a href="#VkPolygonMode">VkPolygonMode</a></code> value
</p>
</li>
<li>
<p>
<code>cullMode</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkCullModeFlagBits">VkCullModeFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>frontFace</code> <span role="normative">must</span> be a valid <code><a href="#VkFrontFace">VkFrontFace</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkPipelineMultisampleStateCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPipelineMultisampleStateCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPipelineMultisampleStateCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                          sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                              pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineMultisampleStateCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlagBits</span>                    rasterizationSamples<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                                 sampleShadingEnable<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                                    minSampleShading<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSampleMask<span style="color: #990000">*</span>                      pSampleMask<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                                 alphaToCoverageEnable<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                                 alphaToOneEnable<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPipelineMultisampleStateCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>rasterizationSamples</code> is a <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> specifying
    the number of samples per pixel used in rasterization.
</p>
</li>
<li>
<p>
<code>sampleShadingEnable</code> specifies that fragment shading executes
    per-sample if <code>VK_TRUE</code>, or per-fragment if <code>VK_FALSE</code>, as
    described in <a href="#primsrast-sampleshading">Sample Shading</a>.
</p>
</li>
<li>
<p>
<code>minSampleShading</code> is the minimum fraction of sample shading, as
    described in <a href="#primsrast-sampleshading">Sample Shading</a>.
</p>
</li>
<li>
<p>
<code>pSampleMask</code> is a bitmask of static coverage information that is
    ANDed with the coverage information generated during rasterization, as
    described in <a href="#fragops-samplemask">Sample Mask</a>.
</p>
</li>
<li>
<p>
<code>alphaToCoverageEnable</code> controls whether a temporary coverage value
    is generated based on the alpha component of the fragment&#8217;s first color
    output as specified in the <a href="#fragops-covg">Multisample Coverage</a>
    section.
</p>
</li>
<li>
<p>
<code>alphaToOneEnable</code> controls whether the alpha component of the
    fragment&#8217;s first color output is replaced with one as described in
    <a href="#fragops-covg">Multisample Coverage</a>.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <a href="#features-features-sampleRateShading">sample rate shading</a>
    feature is not enabled, <code>sampleShadingEnable</code> <span role="normative">must</span> be
    <code>VK_FALSE</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-alphaToOne">alpha to one</a> feature is not
    enabled, <code>alphaToOneEnable</code> <span role="normative">must</span> be <code>VK_FALSE</code>
</p>
</li>
<li>
<p>
<code>minSampleShading</code> <span role="normative">must</span> be in the range <span class="eq">[0,1]</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>rasterizationSamples</code> <span role="normative">must</span> be a valid <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> value
</p>
</li>
<li>
<p>
If <code>pSampleMask</code> is not <span class="monospaced">NULL</span>, <code>pSampleMask</code> <span role="normative">must</span> be a pointer to an array of $\lceil{\mathit{rasterizationSamples} \over 32}\rceil$ <code>VkSampleMask</code> values
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Rasterization only produces fragments corresponding to pixels in the
framebuffer.
Fragments which would be produced by application of any of the primitive
rasterization rules described below but which lie outside the framebuffer
are not produced, nor are they processed by any later stage of the pipeline,
including any of the early per-fragment tests described in
<a href="#fragops-early">Early Per-Fragment Tests</a>.</p></div>
<div class="paragraph"><p>Surviving fragments are processed by fragment shaders.
Fragment shaders determine associated data for fragments, and <span role="normative">can</span> also
modify or replace their assigned depth values.</p></div>
<div class="paragraph"><p>If the subpass for which this pipeline is being created uses color and/or
depth/stencil attachments, then <code>rasterizationSamples</code> <span role="normative">must</span> be the same
as the sample count for those subpass attachments.
Otherwise, <code>rasterizationSamples</code> <span role="normative">must</span> follow the rules for a
<a href="#renderpass-noattachments">zero-attachment subpass</a>.</p></div>
<div class="sect2">
<h3 id="primsrast-discard">24.1. Discarding Primitives Before Rasterization</h3>
<div class="paragraph"><p>Primitives are discarded before rasterization if the
<code>rasterizerDiscardEnable</code> member of
<code><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code> is enabled.
When enabled, primitives are discarded after they are processed by the last
active shader stage in the pipeline before rasterization.</p></div>
</div>
<div class="sect2">
<h3 id="primrast-order">24.2. Rasterization Order</h3>
<div class="paragraph"><p>Within a subpass of a <a href="#renderpass">render pass instance</a>, for a given
(x,y,layer,sample) sample location, the following stages are guaranteed to
execute in <em>rasterization order</em> for each separate primitive that includes
that sample location:</p></div>
<div class="ulist"><ul>
<li>
<p>
depth bounds test
</p>
</li>
<li>
<p>
stencil test, stencil op and stencil write
</p>
</li>
<li>
<p>
depth test and depth write
</p>
</li>
<li>
<p>
occlusion queries
</p>
</li>
<li>
<p>
blending, logic op and color write
</p>
</li>
</ul></div>
<div class="paragraph"><p>Each of these operations is atomically executed for each primitive and
sample location.</p></div>
<div class="paragraph"><p>Execution of these operations for each primitive in a subpass occurs in
<a href="#fundamentals-queueoperation-apiorder">API order</a>.</p></div>
</div>
<div class="sect2">
<h3 id="primsrast-multisampling">24.3. Multisampling</h3>
<div class="paragraph"><p>Multisampling is a mechanism to antialias all Vulkan primitives: points,
lines, and polygons.
The technique is to sample all primitives multiple times at each pixel.
Each sample in each framebuffer attachment has storage for a color, depth,
and/or stencil value, such that per-fragment operations apply to each sample
independently.
The color sample values <span role="normative">can</span> be later <em>resolved</em> to a single color (see
<a href="#copies-resolve">Resolving Multisample Images</a> and the <a href="#renderpass">Render Pass</a> chapter for more details on how to resolve multisample images to
non-multisample images).</p></div>
<div class="paragraph"><p>Vulkan defines rasterization rules for single-sample modes in a way that is
equivalent to a multisample mode with a single sample in the center of each
pixel.</p></div>
<div class="paragraph"><p>Each fragment includes a coverage value with <code>rasterizationSamples</code> bits
(see <a href="#fragops-samplemask">Sample Mask</a>).
Each fragment includes <code>rasterizationSamples</code> depth values and sets of
associated data.
An implementation <span role="normative">may</span> choose to assign the same associated data to more
than one sample.
The location for evaluating such associated data <span role="normative">may</span> be anywhere within the
pixel including the pixel center or any of the sample locations.
When <code>rasterizationSamples</code> is <code>VK_SAMPLE_COUNT_1_BIT</code>, the pixel
center <span role="normative">must</span> be used.
The different associated data values need not all be evaluated at the same
location.
Each pixel fragment thus consists of integer x and y grid coordinates,
<code>rasterizationSamples</code> depth values and sets of associated data, and a
coverage value with <code>rasterizationSamples</code> bits.</p></div>
<div class="paragraph"><p>It is understood that each pixel has <code>rasterizationSamples</code> locations
associated with it.
These locations are exact positions, rather than regions or areas, and each
is referred to as a sample point.
The sample points associated with a pixel <span role="normative">must</span> be located inside or on the
boundary of the unit square that is considered to bound the pixel.
Furthermore, the relative locations of sample points <span role="normative">may</span> be identical for
each pixel in the framebuffer, or they <span role="normative">may</span> differ.
If the current pipeline includes a fragment shader with one or more
variables in its interface decorated with <code>Sample</code> and <code>Input</code>, the
data associated with those variables will be assigned independently for each
sample.
The values for each sample <span role="normative">must</span> be evaluated at the location of the sample.
The data associated with any other variables not decorated with <code>Sample</code>
and <code>Input</code> need not be evaluated independently for each sample.</p></div>
<div class="paragraph"><p>If the <code>standardSampleLocations</code> member of <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>
is <code>VK_TRUE</code>, then the sample counts <code>VK_SAMPLE_COUNT_1_BIT</code>,
<code>VK_SAMPLE_COUNT_2_BIT</code>, <code>VK_SAMPLE_COUNT_4_BIT</code>,
<code>VK_SAMPLE_COUNT_8_BIT</code>, and <code>VK_SAMPLE_COUNT_16_BIT</code> have sample
locations as listed in the following table, with the <span class="eq">i</span>th entry in
the table corresponding to bit <span class="eq">i</span> in the sample masks.
<code>VK_SAMPLE_COUNT_32_BIT</code> and <code>VK_SAMPLE_COUNT_64_BIT</code> do not have
standard sample locations.
Locations are defined relative to an origin in the upper left corner of the
pixel.</p></div>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all"
style="
margin-left:auto; margin-right:auto;
width:100%;
">
<caption class="title">Table 25. Standard sample locations</caption>
<col style="width:20%;">
<col style="width:20%;">
<col style="width:20%;">
<col style="width:20%;">
<col style="width:20%;">
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_SAMPLE_COUNT_1_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_SAMPLE_COUNT_2_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_SAMPLE_COUNT_4_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_SAMPLE_COUNT_8_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_SAMPLE_COUNT_16_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(0.5,0.5)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(0.25,0.25)</span><br>
<span class="eq">(0.75,0.75)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(0.375, 0.125)</span><br>
<span class="eq">(0.875, 0.375)</span><br>
<span class="eq">(0.125, 0.625)</span><br>
<span class="eq">(0.625, 0.875)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(0.5625, 0.3125)</span><br>
<span class="eq">(0.4375, 0.6875)</span><br>
<span class="eq">(0.8125, 0.5625)</span><br>
<span class="eq">(0.3125, 0.1875)</span><br>
<span class="eq">(0.1875, 0.8125)</span><br>
<span class="eq">(0.0625, 0.4375)</span><br>
<span class="eq">(0.6875, 0.9375)</span><br>
<span class="eq">(0.9375, 0.0625)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(0.5625, 0.5625)</span><br>
<span class="eq">(0.4375, 0.3125)</span><br>
<span class="eq">(0.3125, 0.625)</span><br>
<span class="eq">(0.75,   0.4375)</span><br>
<span class="eq">(0.1875, 0.375)</span><br>
<span class="eq">(0.625,  0.8125)</span><br>
<span class="eq">(0.8125, 0.6875)</span><br>
<span class="eq">(0.6875, 0.1875)</span><br>
<span class="eq">(0.375,  0.875)</span><br>
<span class="eq">(0.5,    0.0625)</span><br>
<span class="eq">(0.25,   0.125)</span><br>
<span class="eq">(0.125,  0.75)</span><br>
<span class="eq">(0.0,    0.5)</span><br>
<span class="eq">(0.9375, 0.25)</span><br>
<span class="eq">(0.875,  0.9375)</span><br>
<span class="eq">(0.0625, 0.0)</span></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="primsrast-sampleshading">24.4. Sample Shading</h3>
<div class="paragraph"><p>Sample shading <span role="normative">can</span> be used to specify a minimum number of unique samples to
process for each fragment.
Sample shading is controlled by the <code>sampleShadingEnable</code> member of
<code><a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>.
If <code>sampleShadingEnable</code> is <code>VK_FALSE</code>, sample shading is considered
disabled and has no effect.
Otherwise, an implementation <span role="normative">must</span> provide a minimum of <span class="eq">max(&#x2308;
<code>minSampleShading</code> &#x00d7; <code>rasterizationSamples</code> &#x2309;, 1)</span>
unique associated data for each fragment, where <code>minSampleShading</code> is
the minimum fraction of sample shading and <code>rasterizationSamples</code> is the
number of samples requested in <code><a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>.
These are associated with the samples in an implementation-dependent manner.
When the sample shading fraction is 1.0, a separate set of associated data
are evaluated for each sample, and each set of values is evaluated at the
sample location.</p></div>
</div>
<div class="sect2">
<h3 id="primsrast-points">24.5. Points</h3>
<div class="paragraph"><p>A point is drawn by generating a set of fragments in the shape of a square
centered around the vertex of the point.
Each vertex has an associated point size that controls the width/height of
that square.
The point size is taken from the (potentially clipped) shader built-in
<code>PointSize</code> written by:</p></div>
<div class="ulist"><ul>
<li>
<p>
the geometry shader, if active;
</p>
</li>
<li>
<p>
the tessellation evaluation shader, if active and no geometry shader is
    active;
</p>
</li>
<li>
<p>
the tessellation control shader, if active and no geometry or
    tessellation evaluation shader is active; or
</p>
</li>
<li>
<p>
the vertex shader, otherwise
</p>
</li>
</ul></div>
<div class="paragraph"><p>and clamped to the implementation-dependent point size range
<span class="eq">[<code>pointSizeRange</code>[0],<code>pointSizeRange</code>[1]]</span>.
If the value written to <code>PointSize</code> is less than or equal to zero, or if
no value was written to <code>PointSize</code>, results are undefined.</p></div>
<div class="paragraph"><p>Not all point sizes need be supported, but the size 1.0 <span role="normative">must</span> be supported.
The range of supported sizes and the size of evenly-spaced gradations within
that range are implementation-dependent.
The range and gradations are obtained from the <code>pointSizeRange</code> and
<code>pointSizeGranularity</code> members of <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>.
If, for instance, the size range is from 0.1 to 2.0 and the gradation size
is 0.1, then the size 0.1, 0.2, &#8230;, 1.9, 2.0 are supported.
Additional point sizes <span role="normative">may</span> also be supported.
There is no requirement that these sizes be equally spaced.
If an unsupported size is requested, the nearest supported size is used
instead.</p></div>
<div class="sect3">
<h4 id="primsrast-points-basic">24.5.1. Basic Point Rasterization</h4>
<div class="paragraph"><p>Point rasterization produces a fragment for each framebuffer pixel with one
or more sample points that intersect a region centered at the point&#8217;s
<span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span>.
This region is a square with side equal to the current point size.
Coverage bits that correspond to sample points that intersect the region are
1, other coverage bits are 0.</p></div>
<div class="paragraph"><p>All fragments produced in rasterizing a point are assigned the same
associated data, which are those of the vertex corresponding to the point.
However, the fragment shader built-in <code>PointCoord</code> contains point sprite
texture coordinates.
The <span class="eq">s</span> and <span class="eq">t</span> point sprite texture coordinates vary from zero to
one across the point horizontally left-to-right and top-to-bottom,
respectively.
The following formulas are used to evaluate <span class="eq">s</span> and <span class="eq">t</span>:</p></div>
<div class="mathblock">
<div class="content">\[
  s = {1 \over 2} + { \left( x_p - x_f \right) \over size }
\]
\[
  t = {1 \over 2} + { \left( y_p - y_f \right) \over size }.
\]</div></div>
<div class="paragraph"><p>where size is the point&#8217;s size, <span class="eq">(x<sub>p</sub>,y<sub>p</sub>)</span> is the location at which
the point sprite coordinates are evaluated - this <span role="normative">may</span> be the framebuffer
coordinates of the pixel center (i.e. at the half-integer) or the location
of a sample, and <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> is the exact, unrounded framebuffer
coordinate of the vertex for the point.
When <code>rasterizationSamples</code> is <code>VK_SAMPLE_COUNT_1_BIT</code>, the pixel
center <span role="normative">must</span> be used.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-lines">24.6. Line Segments</h3>
<div class="paragraph"><p>A line is drawn by generating a set of fragments overlapping a rectangle
centered on the line segment.
Each line segment has an associated width that controls the width of that
rectangle.</p></div>
<div class="paragraph"><p>The line width is set by the <code>lineWidth</code> property of
<code><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code> in the currently active
pipeline if the pipeline was not created with
<code>VK_DYNAMIC_STATE_LINE_WIDTH</code> enabled.
Otherwise, the line width is set by calling <code>vkCmdSetLineWidth</code>:</p></div>
<div class="listingblock">
<a id="vkCmdSetLineWidth"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdSetLineWidth</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #009900">float</span>                                       lineWidth<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>lineWidth</code> is the width of rasterized line segments.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The currently bound graphics pipeline <span role="normative">must</span> have been created with the
    <code>VK_DYNAMIC_STATE_LINE_WIDTH</code> dynamic state enabled
</p>
</li>
<li>
<p>
If the <a href="#features-features-wideLines">wide lines</a> feature is not
    enabled, <code>lineWidth</code> <span role="normative">must</span> be <span class="monospaced">1.0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>Not all line widths need be supported for line segment rasterization, but
width 1.0 antialiased segments <span role="normative">must</span> be provided.
The range and gradations are obtained from the <code>lineWidthRange</code> and
<code>lineWidthGranularity</code> members of <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>.
If, for instance, the size range is from 0.1 to 2.0 and the gradation size
is 0.1, then the size 0.1, 0.2, &#8230;, 1.9, 2.0 are supported.
Additional line widths <span role="normative">may</span> also be supported.
There is no requirement that these widths be equally spaced.
If an unsupported width is requested, the nearest supported width is used
instead.</p></div>
<div class="sect3">
<h4 id="primsrast-lines-basic">24.6.1. Basic Line Segment Rasterization</h4>
<div class="paragraph"><p>Rasterized line segments produce fragments which intersect a rectangle
centered on the line segment.
Two of the edges are parallel to the specified line segment; each is at a
distance of one-half the current width from that segment in directions
perpendicular to the direction of the line.
The other two edges pass through the line endpoints and are perpendicular to
the direction of the specified line segment.
Coverage bits that correspond to sample points that intersect the rectangle
are 1, other coverage bits are 0.</p></div>
<div class="paragraph"><p>Next we specify how the data associated with each rasterized fragment are
obtained.
Let <span class="eq"><strong>p</strong><sub>r</sub> = (x<sub>d</sub>, y<sub>d</sub>)</span> be the framebuffer coordinates at which
associated data are evaluated.
This <span role="normative">may</span> be the pixel center of a fragment or the location of a sample
within the fragment.
When <code>rasterizationSamples</code> is <code>VK_SAMPLE_COUNT_1_BIT</code>, the pixel
center <span role="normative">must</span> be used.
Let <span class="eq"><strong>p</strong><sub>a</sub> = (x<sub>a</sub>, y<sub>a</sub>)</span> and <span class="eq"><strong>p</strong><sub>b</sub> = (x<sub>b</sub>,y<sub>b</sub>)</span> be
initial and final endpoints of the line segment, respectively.
Set</p></div>
<div class="mathblock">
<div class="content">\[
  t = {{( \mathbf{p}_r - \mathbf{p}_a ) \cdot ( \mathbf{p}_b - \mathbf{p}_a )}
      \over {\| \mathbf{p}_b - \mathbf{p}_a \|^2 }}
\]</div></div>
<div class="paragraph"><p>(Note that <span class="eq">t = 0</span> at <span class="eq"><strong>p</strong>_a</span> and <span class="eq">t = 1</span> at <span class="eq"><strong>p</strong><sub>b</sub></span>.
Also note that this calculation projects the vector from <span class="eq"><strong>p</strong><sub>a</sub></span> to
<span class="eq"><strong>p</strong><sub>r</sub></span> onto the line, and thus computes the normalized distance of
the fragment along the line.)</p></div>
<div class="paragraph" id="line_perspective_interpolation"><p>The value of an associated datum <span class="eq">f</span> for the fragment, whether it be a
shader output or the clip <span class="eq">w</span> coordinate, <span role="normative">must</span> be determined using
<em>perspective interpolation</em>:</p></div>
<div class="mathblock">
<div class="content">\[
  f = {{ (1-t) {f_a / w_a} + t { f_b / w_b} } \over
      {(1-t) / w_a + t / w_b }}
\]</div></div>
<div class="paragraph"><p>where <span class="eq">f<sub>a</sub></span> and <span class="eq">f<sub>b</sub></span> are the data associated with the starting
and ending endpoints of the segment, respectively; <span class="eq">w<sub>a</sub></span> and <span class="eq">w<sub>b</sub></span>
are the clip <span class="eq">w</span> coordinates of the starting and ending endpoints of the
segments, respectively.</p></div>
<div class="paragraph" id="line_linear_interpolation"><p>Depth values for lines <span role="normative">must</span> be determined using <em>linear interpolation</em>:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">z = (1 - t) z<sub>a</sub> + t z<sub>b</sub></span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>where <span class="eq">z<sub>a</sub></span> and <span class="eq">z<sub>b</sub></span> are the depth values of the starting and
ending endpoints of the segment, respectively.</p></div>
<div class="paragraph"><p>The <code>NoPerspective</code> and <code>Flat</code>
<a href="#shaders-interpolation-decorations">interpolation decorations</a> <span role="normative">can</span> be used
with fragment shader inputs to declare how they are interpolated.
When neither decoration is applied, <a href="#line_perspective_interpolation">perspective interpolation</a> is performed as described above.
When the <code>NoPerspective</code> decoration is used, <a href="#line_linear_interpolation">linear interpolation</a> is performed in the same fashion as for depth values,
as described above.
When the <code>Flat</code> decoration is used, no interpolation is performed, and
outputs are taken from the corresponding input value of the
<a href="#vertexpostproc-flatshading">provoking vertex</a> corresponding to that
primitive.</p></div>
<div class="paragraph"><p>The above description documents the preferred method of line rasterization,
and <span role="normative">must</span> be used when the implementation advertises the <code>strictLines</code>
limit in <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code> as <code>VK_TRUE</code>.</p></div>
<div class="paragraph"><p>When <code>strictLines</code> is <code>VK_FALSE</code>, the edges of the lines are
generated as a parallelogram surrounding the original line.
The major axis is chosen by noting the axis in which there is the greatest
distance between the line start and end points.
If the difference is equal in both directions then the X axis is chosen as
the major axis.
Edges 2 and 3 are aligned to the minor axis and are centered on the
endpoints of the line as in <a href="#fig-non-strict-lines">[fig-non-strict-lines]</a>, and each is
<code>lineWidth</code> long.
Edges 0 and 1 are parallel to the line and connect the endpoints of edges 2
and 3.
Coverage bits that correspond to sample points that intersect the
parallelogram are 1, other coverage bits are 0.</p></div>
<div class="paragraph"><p>Samples that fall exactly on the edge of the parallelogram follow the
polygon rasterization rules.</p></div>
<div class="paragraph"><p>Interpolation occurs as if the parallelogram was decomposed into two
triangles where each pair of vertices at each end of the line has identical
attributes.</p></div>
<div class="imageblock" id="fig-non-strict-lines" style="text-align:center;">
<div class="content">
<img src="images/non_strict_lines.svg" alt="images/non_strict_lines.svg" width="800">
</div>
<div class="title">Figure 12. Non strict lines</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-polygons">24.7. Polygons</h3>
<div class="paragraph"><p>A polygon results from the decomposition of a triangle strip, triangle fan
or a series of independent triangles.
Like points and line segments, polygon rasterization is controlled by
several variables in the <code><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>
structure.</p></div>
<div class="sect3">
<h4 id="primsrast-polygons-basic">24.7.1. Basic Polygon Rasterization</h4>
<div class="paragraph"><p>The first step of polygon rasterization is to determine whether the triangle
is <em>back-facing</em> or <em>front-facing</em>.
This determination is made based on the sign of the (clipped or unclipped)
polygon&#8217;s area computed in framebuffer coordinates.
One way to compute this area is:</p></div>
<div class="mathblock">
<div class="content">\[
  a = -{1 \over 2}\sum_{i=0}^{n-1}
        x_f^i y_f^{i \oplus 1} -
        x_f^{i \oplus 1} y_f^i
\]</div></div>
<div class="paragraph"><p>where $x_f^i$ and $y_f^i$ are the <span class="eq">x</span> and
<span class="eq">y</span> framebuffer coordinates of the <span class="eq">i</span>th vertex of the
<span class="eq">n</span>-vertex polygon (vertices are numbered starting at zero for the
purposes of this computation) and <span class="eq">i &#x2295; 1</span> is <span class="eq">(i + 1) mod n</span>.</p></div>
<div class="paragraph"><p>The interpretation of the sign of <span class="eq">a</span> is determined by the
<code><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>::<code>frontFace</code> property of
the currently active pipeline, which takes the following values:</p></div>
<div class="listingblock">
<a id="VkFrontFace"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkFrontFace <span style="color: #FF0000">{</span>
    VK_FRONT_FACE_COUNTER_CLOCKWISE <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_FRONT_FACE_CLOCKWISE <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkFrontFace<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>If <code>frontFace</code> is set to <code>VK_FRONT_FACE_COUNTER_CLOCKWISE</code>, a
triangle with positive area is considered front-facing.
If it is set to <code>VK_FRONT_FACE_CLOCKWISE</code>, a triangle with negative area
is considered front-facing.
Any triangle which is not front-facing is back-facing, including zero-area
triangles.</p></div>
<div class="paragraph"><p>Once the orientation of triangles is determined, they are culled according
to the setting of the
<code><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>::<code>cullMode</code> property of the
currently active pipeline, which takes the following values:</p></div>
<div class="listingblock">
<a id="VkCullModeFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkCullModeFlagBits <span style="color: #FF0000">{</span>
    VK_CULL_MODE_NONE <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_CULL_MODE_FRONT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_CULL_MODE_BACK_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_CULL_MODE_FRONT_AND_BACK <span style="color: #990000">=</span> <span style="color: #993399">0x00000003</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkCullModeFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>If the <code>cullMode</code> is set to <code>VK_CULL_MODE_NONE</code> no triangles are
discarded, if it is set to <code>VK_CULL_MODE_FRONT_BIT</code> front-facing
triangles are discarded, if it is set to <code>VK_CULL_MODE_BACK_BIT</code> then
back-facing triangles are discarded and if it is set to
<code>VK_CULL_MODE_FRONT_AND_BACK</code> then all triangles are discarded.
Following culling, fragments are produced for any triangles which have not
been discarded.</p></div>
<div class="paragraph"><p>The rule for determining which fragments are produced by polygon
rasterization is called <em>point sampling</em>.
The two-dimensional projection obtained by taking the x and y framebuffer
coordinates of the polygon&#8217;s vertices is formed.
Fragments are produced for any pixels for which any sample points lie inside
of this polygon.
Coverage bits that correspond to sample points that satisfy the point
sampling criteria are 1, other coverage bits are 0.
Special treatment is given to a sample whose sample location lies on a
polygon edge.
In such a case, if two polygons lie on either side of a common edge (with
identical endpoints) on which a sample point lies, then exactly one of the
polygons <span role="normative">must</span> result in a covered sample for that fragment during
rasterization.
As for the data associated with each fragment produced by rasterizing a
polygon, we begin by specifying how these values are produced for fragments
in a triangle.
Define <em>barycentric coordinates</em> for a triangle.
Barycentric coordinates are a set of three numbers, <span class="eq">a</span>, <span class="eq">b</span>, and
<span class="eq">c</span>, each in the range <span class="eq">[0,1]</span>, with <span class="eq">a + b + c = 1</span>.
These coordinates uniquely specify any point <span class="eq">p</span> within the triangle or
on the triangle&#8217;s boundary as</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">p = a p<sub>a</sub> + b p<sub>b</sub> + c p<sub>c</sub></span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>where <span class="eq">p<sub>a</sub></span>, <span class="eq">p<sub>b</sub></span>, and <span class="eq">p<sub>c</sub></span> are the vertices of the
triangle.
<span class="eq">a</span>, <span class="eq">b</span>, and <span class="eq">c</span> are determined by:</p></div>
<div class="mathblock">
<div class="content">\[
    a = {\mathrm{A}(p p_b p_c) \over \mathrm{A}(p_a p_b p_c)}, \quad
    b = {\mathrm{A}(p p_a p_c) \over \mathrm{A}(p_a p_b p_c)}, \quad
    c = {\mathrm{A}(p p_a p_b) \over \mathrm{A}(p_a p_b p_c)},
\]</div></div>
<div class="paragraph"><p>where <span class="eq">A(lmn)</span> denotes the area in framebuffer coordinates of the
triangle with vertices <span class="eq">l</span>, <span class="eq">m</span>, and <span class="eq">n</span>.</p></div>
<div class="paragraph"><p>Denote an associated datum at <span class="eq">p<sub>a</sub></span>, <span class="eq">p<sub>b</sub></span>, or <span class="eq">p<sub>c</sub></span> as
<span class="eq">f<sub>a</sub></span>, <span class="eq">f<sub>b</sub></span>, or <span class="eq">f<sub>c</sub></span>, respectively.</p></div>
<div class="paragraph" id="triangle_perspective_interpolation"><p>The value of an associated datum <span class="eq">f</span> for a fragment produced by
rasterizing a triangle, whether it be a shader output or the clip <span class="eq">w</span>
coordinate, <span role="normative">must</span> be determined using perspective interpolation:</p></div>
<div class="mathblock">
<div class="content">\[
  f = { a {f_a / w_a} + b {f_b / w_b} + c {f_c / w_c} } \over
      { {a / w_a} + {b / w_b} + {c / w_c} }
\]</div></div>
<div class="paragraph"><p>where <span class="eq">w<sub>a</sub></span>, <span class="eq">w<sub>b</sub></span>, and <span class="eq">w<sub>c</sub></span> are the clip <span class="eq">w</span>
coordinates of <span class="eq">p<sub>a</sub></span>, <span class="eq">p<sub>b</sub></span>, and <span class="eq">p<sub>c</sub></span>, respectively.
<span class="eq">a</span>, <span class="eq">b</span>, and <span class="eq">c</span> are the barycentric coordinates of the
location at which the data are produced - this <span role="normative">must</span> be a pixel center or
the location of a sample.
When <code>rasterizationSamples</code> is <code>VK_SAMPLE_COUNT_1_BIT</code>, the pixel
center <span role="normative">must</span> be used.</p></div>
<div class="paragraph" id="triangle_linear_interpolation"><p>Depth values for triangles <span role="normative">must</span> be determined using linear interpolation:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">z = a z<sub>a</sub> + b z<sub>b</sub> + c z<sub>c</sub></span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>where <span class="eq">z<sub>a</sub></span>, <span class="eq">z<sub>b</sub></span>, and <span class="eq">z<sub>c</sub></span> are the depth values of
<span class="eq">p<sub>a</sub></span>, <span class="eq">p<sub>b</sub></span>, and <span class="eq">p<sub>c</sub></span>, respectively.</p></div>
<div class="paragraph"><p>The <code>NoPerspective</code> and <code>Flat</code>
<a href="#shaders-interpolation-decorations">interpolation decorations</a> <span role="normative">can</span> be used
with fragment shader inputs to declare how they are interpolated.
When neither decoration is applied, <a href="#triangle_perspective_interpolation">perspective interpolation</a> is performed as described above.
When the <code>NoPerspective</code> decoration is used,
<a href="#triangle_linear_interpolation">linear interpolation</a> is performed in the
same fashion as for depth values, as described above.
When the <code>Flat</code> decoration is used, no interpolation is performed, and
outputs are taken from the corresponding input value of the
<a href="#vertexpostproc-flatshading">provoking vertex</a> corresponding to that
primitive.</p></div>
<div class="paragraph"><p>For a polygon with more than three edges, such as are produced by clipping a
triangle, a convex combination of the values of the datum at the polygon&#8217;s
vertices <span role="normative">must</span> be used to obtain the value assigned to each fragment
produced by the rasterization algorithm.
That is, it <span role="normative">must</span> be the case that at every fragment</p></div>
<div class="mathblock">
<div class="content">\[ f = \sum_{i=1}^{n} a_i f_i \]</div></div>
<div class="paragraph"><p>where <span class="eq">n</span> is the number of vertices in the polygon and <span class="eq">f<sub>i</sub></span> is the
value of <span class="eq">f</span> at vertex <span class="eq">i</span>.
For each <span class="eq">i</span>, <span class="eq">0 &#x2264; a<sub>i</sub> &#x2264; 1</span> and
$\sum_{i=1}^{n}a_i = 1$.
The values of <span class="eq">a<sub>i</sub></span> <span role="normative">may</span> differ from fragment to fragment, but at
vertex <span class="eq">i</span>, <span class="eq">a<sub>i</sub> = 1</span> and <span class="eq">a<sub>j</sub> = 0</span> for <span class="eq">j &#x2260; i</span>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>One algorithm that achieves the required behavior is to triangulate a
polygon (without adding any vertices) and then treat each triangle
individually as already discussed.
A scan-line rasterizer that linearly interpolates data along each edge and
then linearly interpolates data across each horizontal span from edge to
edge also satisfies the restrictions (in this case, the numerator and
denominator of equation <a href="#triangle_perspective_interpolation">[triangle_perspective_interpolation]</a> are iterated
independently and a division performed for each fragment).</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="primsrast-polygonmode">24.7.2. Polygon Mode</h4>
<div class="paragraph"><p>The method of rasterization for polygons is determined by the
<code><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>::<code>polygonMode</code> property of
the currently active pipeline, which takes the following values:</p></div>
<div class="listingblock">
<a id="VkPolygonMode"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkPolygonMode <span style="color: #FF0000">{</span>
    VK_POLYGON_MODE_FILL <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_POLYGON_MODE_LINE <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_POLYGON_MODE_POINT <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkPolygonMode<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The <code>polygonMode</code> selects which method of rasterization is used for
polygons.
If <code>polygonMode</code> is <code>VK_POLYGON_MODE_POINT</code>, then the vertices of
polygons are treated, for rasterization purposes, as if they had been drawn
as points.
<code>VK_POLYGON_MODE_LINE</code> causes polygon edges to be drawn as line
segments.
<code>VK_POLYGON_MODE_FILL</code> causes polygons to render using the polygon
rasterization rules in this section.</p></div>
<div class="paragraph"><p>Note that these modes affect only the final rasterization of polygons: in
particular, a polygon&#8217;s vertices are shaded and the polygon is clipped and
possibly culled before these modes are applied.</p></div>
</div>
<div class="sect3">
<h4 id="primsrast-depthbias">24.7.3. Depth Bias</h4>
<div class="paragraph"><p>The depth values of all fragments generated by the rasterization of a
polygon <span role="normative">can</span> be offset by a single value that is computed for that polygon.
This behavior is controlled by the <code>depthBiasEnable</code>,
<code>depthBiasConstantFactor</code>, <code>depthBiasClamp</code>, and
<code>depthBiasSlopeFactor</code> members of
<code><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>, or by the corresponding
parameters to the <code>vkCmdSetDepthBias</code> command if depth bias state is
dynamic.</p></div>
<div class="listingblock">
<a id="vkCmdSetDepthBias"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdSetDepthBias</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #009900">float</span>                                       depthBiasConstantFactor<span style="color: #990000">,</span>
    <span style="color: #009900">float</span>                                       depthBiasClamp<span style="color: #990000">,</span>
    <span style="color: #009900">float</span>                                       depthBiasSlopeFactor<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>depthBiasConstantFactor</code> is a scalar factor controlling the
    constant depth value added to each fragment.
</p>
</li>
<li>
<p>
<code>depthBiasClamp</code> is the maximum (or minimum) depth bias of a
    fragment.
</p>
</li>
<li>
<p>
<code>depthBiasSlopeFactor</code> is a scalar factor applied to a fragment&#8217;s
    slope in depth bias calculations.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>depthBiasEnable</code> is <code>VK_FALSE</code>, no depth bias is applied and the
fragment&#8217;s depth values are unchanged.</p></div>
<div class="paragraph"><p><code>depthBiasSlopeFactor</code> scales the maximum depth slope of the polygon,
and <code>depthBiasConstantFactor</code> scales an implementation-dependent
constant that relates to the usable resolution of the depth buffer.
The resulting values are summed to produce the depth bias value which is
then clamped to a minimum or maximum value specified by
<code>depthBiasClamp</code>.
<code>depthBiasSlopeFactor</code>, <code>depthBiasConstantFactor</code>, and
<code>depthBiasClamp</code> <span role="normative">can</span> each be positive, negative, or zero.</p></div>
<div class="paragraph"><p>The maximum depth slope <span class="eq">m</span> of a triangle is</p></div>
<div class="mathblock">
<div class="content">\[
m = \sqrt{ \left({\partial z_f \over \partial x_f}\right)^2
 +  \left({\partial z_f \over  \partial y_f}\right)^2}
\]</div></div>
<div class="paragraph"><p>where <span class="eq">(x<sub>f</sub>, y<sub>f</sub>, z<sub>f</sub>)</span> is a point on the triangle.
<span class="eq">m</span> <span role="normative">may</span> be approximated as</p></div>
<div class="mathblock">
<div class="content">\[
m = \max\left( \left| {\partial z_f \over \partial x_f} \right|,
\left| {\partial z_f \over \partial y_f} \right| \right).
\]</div></div>
<div class="paragraph"><p>The minimum resolvable difference <span class="eq">r</span> is an implementation-dependent
parameter that depends on the depth buffer representation.
It is the smallest difference in framebuffer coordinate <span class="eq">z</span> values that
is guaranteed to remain distinct throughout polygon rasterization and in the
depth buffer.
All pairs of fragments generated by the rasterization of two polygons with
otherwise identical vertices, but <span class="eq"><code>z</code><sub>f</sub></span> values that differ by
$r$, will have distinct depth values.</p></div>
<div class="paragraph"><p>For fixed-point depth buffer representations, <span class="eq">r</span> is constant throughout
the range of the entire depth buffer.
For floating-point depth buffers, there is no single minimum resolvable
difference.
In this case, the minimum resolvable difference for a given polygon is
dependent on the maximum exponent, <span class="eq">e</span>, in the range of <span class="eq">z</span> values
spanned by the primitive.
If <span class="eq">n</span> is the number of bits in the floating-point mantissa, the minimum
resolvable difference, <span class="eq">r</span>, for the given primitive is defined as</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">r = 2<sup>e-n</sup></span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>If no depth buffer is present, <span class="eq">r</span> is undefined.</p></div>
<div class="paragraph"><p>The bias value <span class="eq">o</span> for a polygon is</p></div>
<div class="mathblock">
<div class="content">\[
o =
\begin{cases}
    m \times depthBiasSlopeFactor +
         r \times depthBiasConstantFactor  & depthBiasClamp = 0\ or\ NaN \\
    \min(m \times depthBiasSlopeFactor +
         r \times depthBiasConstantFactor,
         depthBiasClamp)                   & depthBiasClamp > 0  \\
    \max(m \times depthBiasSlopeFactor +
         r \times depthBiasConstantFactor,
         depthBiasClamp)                   & depthBiasClamp < 0  \\
\end{cases}
\]</div></div>
<div class="paragraph"><p><span class="eq">m</span> is computed as described above.
If the depth buffer uses a fixed-point representation, <span class="eq">m</span> is a function
of depth values in the range <span class="eq">[0,1]</span>, and <span class="eq">o</span> is applied to depth
values in the same range.</p></div>
<div class="paragraph"><p>For fixed-point depth buffers, fragment depth values are always limited to
the range <span class="eq">[0,1]</span> by clamping after depth bias addition is performed.
Fragment depth values are clamped even when the depth buffer uses a
floating-point representation.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The currently bound graphics pipeline <span role="normative">must</span> have been created with the
    <code>VK_DYNAMIC_STATE_DEPTH_BIAS</code> dynamic state enabled
</p>
</li>
<li>
<p>
If the <a href="#features-features-depthBiasClamp">depth bias clamping</a> feature
    is not enabled, <code>depthBiasClamp</code> <span role="normative">must</span> be <code>0</code>.0
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fragops">25. Fragment Operations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="fragops-early">25.1. Early Per-Fragment Tests</h3>
<div class="paragraph"><p>Once fragments are produced by rasterization, a number of per-fragment
operations are performed prior to fragment shader execution.
If a fragment is discarded during any of these operations, it will not be
processed by any subsequent stage, including fragment shader execution.</p></div>
<div class="paragraph"><p>Two fragment operations are performed in the following order:</p></div>
<div class="ulist"><ul>
<li>
<p>
the scissor test (see <a href="#fragops-scissor">Scissor Test</a>)
</p>
</li>
<li>
<p>
multisample fragment operations (see <a href="#fragops-samplemask">Sample Mask</a>)
</p>
</li>
</ul></div>
<div class="paragraph"><p>If early per-fragment operations are <a href="#shaders-fragment-earlytest">enabled by the fragment shader</a>, these tests are also performed in the following
order:</p></div>
<div class="ulist"><ul>
<li>
<p>
the depth bounds tests (see <a href="#fragops-dbt">Depth Bounds Tests</a>)
</p>
</li>
<li>
<p>
the stencil test (see <a href="#fragops-stencil">Stencil Test</a>)
</p>
</li>
<li>
<p>
the depth test (see <a href="#fragops-depth">Depth Test</a>)
</p>
</li>
<li>
<p>
sample counting (see <a href="#fragops-samplecount">Sample Counting</a>)
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="fragops-scissor">25.2. Scissor Test</h3>
<div class="paragraph"><p>The scissor test determines if a fragment&#8217;s framebuffer coordinates
<span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> lie within the scissor rectangle corresponding to the
viewport index (see <a href="#vertexpostproc-viewport">Controlling the Viewport</a>)
used by the primitive that generated the fragment.
If the pipeline state object is created without
<code>VK_DYNAMIC_STATE_SCISSOR</code> enabled then the scissor rectangles are set
by the <code><a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></code> state of the pipeline state
object.
Otherwise, to dynamically set the scissor rectangles call:</p></div>
<div class="listingblock">
<a id="vkCmdSetScissor"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdSetScissor</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    firstScissor<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    scissorCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkRect2D<span style="color: #990000">*</span>                             pScissors<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>firstScissor</code> is the index of the first scissor whose state is
    updated by the command.
</p>
</li>
<li>
<p>
<code>scissorCount</code> is the number of scissors whose rectangles are
    updated by the command.
</p>
</li>
<li>
<p>
<code>pScissors</code> is a pointer to an array of <code><a href="#VkRect2D">VkRect2D</a></code> structures
    defining scissor rectangles.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The scissor rectangles taken from element <span class="eq">i</span> of <code>pScissors</code> replace
the current state for the scissor index <span class="eq"><code>firstScissor</code> + i</span>, for
<span class="eq">i</span> in <span class="eq">[0, <code>scissorCount</code>)</span>.</p></div>
<div class="paragraph"><p>Each scissor rectangle is described by a <code><a href="#VkRect2D">VkRect2D</a></code> structure, with the
<code>offset.x</code> and <code>offset.y</code> values determining the upper left corner
of the scissor rectangle, and the <code>extent.width</code> and <code>extent.height</code>
values determining the size in pixels.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The currently bound graphics pipeline <span role="normative">must</span> have been created with the
    <code>VK_DYNAMIC_STATE_SCISSOR</code> dynamic state enabled
</p>
</li>
<li>
<p>
<code>firstScissor</code> <span role="normative">must</span> be less than
    <code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>
</p>
</li>
<li>
<p>
The sum of <code>firstScissor</code> and <code>scissorCount</code> <span role="normative">must</span> be between
    <span class="monospaced">1</span> and <code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive
</p>
</li>
<li>
<p>
If the <a href="#features-features-multiViewport">multiple viewports</a> feature is
    not enabled, <code>firstScissor</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If the <a href="#features-features-multiViewport">multiple viewports</a> feature is
    not enabled, <code>scissorCount</code> <span role="normative">must</span> be <span class="monospaced">1</span>
</p>
</li>
<li>
<p>
The <code>x</code> and <code>y</code> members of <code>offset</code> <span role="normative">must</span> be greater than or
    equal to <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
Evaluation of (<code>offset.x</code> + <code>extent.width</code>) <span role="normative">must</span> not cause a
    signed integer addition overflow
</p>
</li>
<li>
<p>
Evaluation of (<code>offset.y</code> + <code>extent.height</code>) <span role="normative">must</span> not cause a
    signed integer addition overflow
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pScissors</code> <span role="normative">must</span> be a pointer to an array of <code>scissorCount</code> <code>VkRect2D</code> structures
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
<li>
<p>
<code>scissorCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>If <span class="eq"><code>offset.x</code> &#x2264; x<sub>f</sub> &lt; <code>offset.x</code> &#x002b;
<code>extent.width</code></span> and <span class="eq"><code>offset.y</code> &#x2264; y<sub>f</sub> &lt; <code>offset.y</code>
&#x002b; <code>extent.height</code></span> for the selected scissor rectangle, then the
scissor test passes.
Otherwise, the test fails and the fragment is discarded.
For points, lines, and polygons, the scissor rectangle for a primitive is
selected in the same manner as the viewport (see
<a href="#vertexpostproc-viewport">Controlling the Viewport</a>).
The scissor rectangles only apply to drawing commands, not to other commands
like clears or copies.</p></div>
<div class="paragraph"><p>It is legal for <span class="eq"><code>offset.x</code> + <code>extent.width</code></span> or
<span class="eq"><code>offset.y</code> + <code>extent.height</code></span> to exceed the dimensions of the
framebuffer - the scissor test still applies as defined above.
Rasterization does not produce fragments outside of the framebuffer, so such
fragments never have the scissor test performed on them.</p></div>
<div class="paragraph"><p>The scissor test is always performed.
Applications <span role="normative">can</span> effectively disable the scissor test by specifying a
scissor rectangle that encompasses the entire framebuffer.</p></div>
</div>
<div class="sect2">
<h3 id="fragops-samplemask">25.3. Sample Mask</h3>
<div class="paragraph"><p>This step modifies fragment coverage values based on the values in the
<code>pSampleMask</code> array member of
<code><a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>, as described previously in
section <a href="#pipelines-graphics">[pipelines-graphics]</a>.</p></div>
<div class="paragraph"><p><code>pSampleMask</code> contains an array of static coverage information that is
<code>ANDed</code> with the coverage information generated during rasterization.
Bits that are zero disable coverage for the corresponding sample.
Bit <span class="eq">B</span> of mask word <span class="eq">M</span> corresponds to sample <span class="eq">32 &#x00d7; M
&#x002b; B</span>.
The array is sized to a length of <span class="eq">&#x2308; <code>rasterizationSamples</code> /
32 &#x2309;</span> words.
If <code>pSampleMask</code> is <span class="monospaced">NULL</span>, it is treated as if the mask has all bits
enabled, i.e. no coverage is removed from fragments.</p></div>
<div class="paragraph"><p>The elements of the sample mask array are of type <code>VkSampleMask</code>,
each representing 32 bits of coverage information:</p></div>
<div class="listingblock">
<a id="VkSampleMask"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">uint32_t</span> VkSampleMask<span style="color: #990000">;</span>
</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="fragops-early-mode">25.4. Early Fragment Test Mode</h3>
<div class="paragraph"><p>The depth bounds test, stencil test, depth test, and occlusion query sample
counting are performed before fragment shading if and only if early fragment
tests are enabled by the fragment shader (see
<a href="#shaders-fragment-earlytest">Early Fragment Tests</a>).
When early per-fragment operations are enabled, these operations are
performed prior to fragment shader execution, and the stencil buffer, depth
buffer, and occlusion query sample counts will be updated accordingly; these
operations will not be performed again after fragment shader execution.</p></div>
<div class="paragraph"><p>If a pipeline&#8217;s fragment shader has early fragment tests disabled, these
operations are performed only after fragment program execution, in the order
described below.
If a pipeline does not contain a fragment shader, these operations are
performed only once.</p></div>
<div class="paragraph"><p>If early fragment tests are enabled, any depth value computed by the
fragment shader has no effect.
Additionally, the depth test (including depth writes), stencil test
(including stencil writes) and sample counting operations are performed even
for fragments or samples that would be discarded after fragment shader
execution due to per-fragment operations such as alpha-to-coverage tests, or
due to the fragment being discarded by the shader itself.</p></div>
</div>
<div class="sect2">
<h3 id="fragops-late">25.5. Late Per-Fragment Tests</h3>
<div class="paragraph"><p>After programmable fragment processing, per-fragment operations are
performed before blending and color output to the framebuffer.</p></div>
<div class="paragraph"><p>A fragment is produced by rasterization with framebuffer coordinates of
<span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> and depth <span class="eq">z</span>, as described in
<a href="#primsrast">Rasterization</a>.
The fragment is then modified by programmable fragment processing, which
adds associated data as described in <a href="#shaders">Shaders</a>.
The fragment is then further modified, and possibly discarded by the late
per-fragment operations described in this chapter.
Finally, if the fragment was not discarded, it is used to update the
framebuffer at the fragment&#8217;s framebuffer coordinates for any samples that
remain covered.</p></div>
<div class="paragraph"><p>The depth bounds test, stencil test, and depth test are performed for each
pixel sample, rather than just once for each fragment.
Stencil and depth operations are performed for a pixel sample only if that
sample&#8217;s fragment coverage bit is a value of 1 when the fragment executes
the corresponding stage of the graphics pipeline.
If the corresponding coverage bit is 0, no operations are performed for that
sample.
Failure of the depth bounds, stencil, or depth test results in termination
of the processing of that sample by means of disabling coverage for that
sample, rather than discarding of the fragment.
If, at any point, a fragment&#8217;s coverage becomes zero for all samples, then
the fragment is discarded.
All operations are performed on the depth and stencil values stored in the
depth/stencil attachment of the framebuffer.
The contents of the color attachments are not modified at this point.</p></div>
<div class="paragraph"><p>The depth bounds test, stencil test, depth test, and occlusion query
operations described in <a href="#fragops-dbt">Depth Bounds Test</a>,
<a href="#fragops-stencil">Stencil Test</a>, <a href="#fragops-depth">Depth Test</a>,
<a href="#fragops-samplecount">Sample Counting</a> are instead performed prior to
fragment processing, as described in <a href="#fragops-early-mode">Early Fragment Test Mode</a>, if requested by the fragment shader.</p></div>
</div>
<div class="sect2">
<h3 id="fragops-covg">25.6. Multisample Coverage</h3>
<div class="paragraph"><p>If a fragment shader is active and its entry point&#8217;s interface includes a
built-in output variable decorated with <code>SampleMask</code>, the fragment
coverage is <code>ANDed</code> with the bits of the sample mask to generate a new
fragment coverage value.
If such a fragment shader did not assign a value to <code>SampleMask</code> due to
flow of control, the value <code>ANDed</code> with the fragment coverage is
undefined.
If no fragment shader is active, or if the active fragment shader does not
include <code>SampleMask</code> in its interface, the fragment coverage is not
modified.</p></div>
<div class="paragraph"><p>Next, the fragment alpha and coverage values are modified based on the
<code>alphaToCoverageEnable</code> and <code>alphaToOneEnable</code> members of the
<code><a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code> structure.</p></div>
<div class="paragraph"><p>All alpha values in this section refer only to the alpha component of the
fragment shader output that has a <code>Location</code> and <code>Index</code> decoration of
zero (see the <a href="#interfaces-fragmentoutput">Fragment Output Interface</a>
section).
If that shader output has an integer or unsigned integer type, then these
operations are skipped.</p></div>
<div class="paragraph"><p>If <code>alphaToCoverageEnable</code> is enabled, a temporary coverage value is
generated where each bit is determined by the fragment&#8217;s alpha value.
The temporary coverage value is then ANDed with the fragment coverage value
to generate a new fragment coverage value.</p></div>
<div class="paragraph"><p>No specific algorithm is specified for converting the alpha value to a
temporary coverage mask.
It is intended that the number of 1&#8217;s in this value be proportional to the
alpha value (clamped to <span class="eq">[0,1]</span>), with all 1&#8217;s corresponding to a value
of 1.0 and all 0&#8217;s corresponding to 0.0.
The algorithm <span role="normative">may</span> be different at different pixel locations.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Using different algorithms at different pixel location <span role="normative">may</span> help to avoid
artifacts caused by regular coverage sample locations.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Next, if <code>alphaToOneEnable</code> is enabled, each alpha value is replaced by
the maximum representable alpha value for fixed-point color buffers, or by
1.0 for floating-point buffers.
Otherwise, the alpha values are not changed.</p></div>
</div>
<div class="sect2">
<h3 id="fragops-ds-state">25.7. Depth and Stencil Operations</h3>
<div class="paragraph"><p>Pipeline state controlling the <a href="#fragops-dbt">depth bounds tests</a>,
<a href="#fragops-stencil">stencil test</a>, and <a href="#fragops-depth">depth test</a> is
specified through the members of the
<code>VkPipelineDepthStencilStateCreateInfo</code> structure.</p></div>
<div class="paragraph"><p>The <code>VkPipelineDepthStencilStateCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPipelineDepthStencilStateCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPipelineDepthStencilStateCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                           sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                               pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineDepthStencilStateCreateFlags</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                                  depthTestEnable<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                                  depthWriteEnable<span style="color: #990000">;</span>
    <span style="color: #008080">VkCompareOp</span>                               depthCompareOp<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                                  depthBoundsTestEnable<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                                  stencilTestEnable<span style="color: #990000">;</span>
    <span style="color: #008080">VkStencilOpState</span>                          front<span style="color: #990000">;</span>
    <span style="color: #008080">VkStencilOpState</span>                          back<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                                     minDepthBounds<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                                     maxDepthBounds<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPipelineDepthStencilStateCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>depthTestEnable</code> controls whether <a href="#fragops-depth">depth testing</a>
    is enabled.
</p>
</li>
<li>
<p>
<code>depthWriteEnable</code> controls whether <a href="#fragops-depth-write">depth     writes</a> are enabled.
</p>
</li>
<li>
<p>
<code>depthCompareOp</code> is the comparison operator used in the
    <a href="#fragops-depth">depth test</a>.
</p>
</li>
<li>
<p>
<code>depthBoundsTestEnable</code> controls whether <a href="#fragops-dbt">depth bounds     testing</a> is enabled.
</p>
</li>
<li>
<p>
<code>stencilTestEnable</code> controls whether <a href="#fragops-stencil">stencil     testing</a> is enabled.
</p>
</li>
<li>
<p>
<code>front</code> and <code>back</code> control the parameters of the
    <a href="#fragops-stencil">stencil test</a>.
</p>
</li>
<li>
<p>
<code>minDepthBounds</code> and <code>maxDepthBounds</code> define the range of values
    used in the <a href="#fragops-dbt">depth bounds test</a>.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <a href="#features-features-depthBounds">depth bounds testing</a> feature is
    not enabled, <code>depthBoundsTestEnable</code> <span role="normative">must</span> be <code>VK_FALSE</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PIPELINE_DEPTH_STENCIL_STATE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>depthCompareOp</code> <span role="normative">must</span> be a valid <code><a href="#VkCompareOp">VkCompareOp</a></code> value
</p>
</li>
<li>
<p>
<code>front</code> <span role="normative">must</span> be a valid <code>VkStencilOpState</code> structure
</p>
</li>
<li>
<p>
<code>back</code> <span role="normative">must</span> be a valid <code>VkStencilOpState</code> structure
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="fragops-dbt">25.8. Depth Bounds Test</h3>
<div class="paragraph"><p>The depth bounds test conditionally disables coverage of a sample based on
the outcome of a comparison between the value <span class="eq">z<sub>a</sub></span> in the depth
attachment at location <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> (for the appropriate sample) and a
range of values.
The test is enabled or disabled by the <code>depthBoundsTestEnable</code> member of
<code><a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code>: If the pipeline state object is
created without the <code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> dynamic state
enabled then the range of values used in the depth bounds test are defined
by the <code>minDepthBounds</code> and <code>maxDepthBounds</code> members of the
<code><a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code> structure.
Otherwise, to dynamically set the depth bounds range values call:</p></div>
<div class="listingblock">
<a id="vkCmdSetDepthBounds"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdSetDepthBounds</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #009900">float</span>                                       minDepthBounds<span style="color: #990000">,</span>
    <span style="color: #009900">float</span>                                       maxDepthBounds<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>minDepthBounds</code> is the lower bound of the range of depth values
    used in the depth bounds test.
</p>
</li>
<li>
<p>
<code>maxDepthBounds</code> is the upper bound of the range.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The currently bound graphics pipeline <span role="normative">must</span> have been created with the
    <code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> dynamic state enabled
</p>
</li>
<li>
<p>
<code>minDepthBounds</code> <span role="normative">must</span> be between <span class="monospaced">0.0</span> and <span class="monospaced">1.0</span>, inclusive
</p>
</li>
<li>
<p>
<code>maxDepthBounds</code> <span role="normative">must</span> be between <span class="monospaced">0.0</span> and <span class="monospaced">1.0</span>, inclusive
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>If <span class="eq"><code>minDepthBounds</code> &#x2264; z<sub>a</sub> &#x2264; <code>maxDepthBounds</code>}</span>, then
the depth bounds test passes.
Otherwise, the test fails and the sample&#8217;s coverage bit is cleared in the
fragment.
If there is no depth framebuffer attachment or if the depth bounds test is
disabled, it is as if the depth bounds test always passes.</p></div>
</div>
<div class="sect2">
<h3 id="fragops-stencil">25.9. Stencil Test</h3>
<div class="paragraph"><p>The stencil test conditionally disables coverage of a sample based on the
outcome of a comparison between the stencil value in the depth/stencil
attachment at location <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> (for the appropriate sample) and a
reference value.
The stencil test also updates the value in the stencil attachment, depending
on the test state, the stencil value and the stencil write masks.
The test is enabled or disabled by the <code>stencilTestEnable</code> member of
<code><a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code>.</p></div>
<div class="paragraph"><p>When disabled, the stencil test and associated modifications are not made,
and the sample&#8217;s coverage is not modified.</p></div>
<div class="paragraph"><p>The stencil test is controlled with the <code>front</code> and <code>back</code> members
of <code>VkPipelineDepthStencilStateCreateInfo</code> which are of type
<code>VkStencilOpState</code>.</p></div>
<div class="paragraph"><p>The <code>VkStencilOpState</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkStencilOpState"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkStencilOpState</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStencilOp</span>    failOp<span style="color: #990000">;</span>
    <span style="color: #008080">VkStencilOp</span>    passOp<span style="color: #990000">;</span>
    <span style="color: #008080">VkStencilOp</span>    depthFailOp<span style="color: #990000">;</span>
    <span style="color: #008080">VkCompareOp</span>    compareOp<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>       compareMask<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>       writeMask<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>       reference<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkStencilOpState<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>failOp</code> is the action performed on samples that fail the stencil
    test.
</p>
</li>
<li>
<p>
<code>passOp</code> is the action performed on samples that pass both the depth
    and stencil tests.
</p>
</li>
<li>
<p>
<code>depthFailOp</code> is the action performed on samples that pass the
    stencil test and fail the depth test.
</p>
</li>
<li>
<p>
<code>compareOp</code> is the comparison operator used in the stencil test.
</p>
</li>
<li>
<p>
<code>compareMask</code> selects the bits of the unsigned integer stencil
    values participating in the stencil test.
</p>
</li>
<li>
<p>
<code>writeMask</code> selects the bits of the unsigned integer stencil values
    updated by the stencil test in the stencil framebuffer attachment.
</p>
</li>
<li>
<p>
<code>reference</code> is an integer reference value that is used in the
    unsigned stencil comparison.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>failOp</code> <span role="normative">must</span> be a valid <code><a href="#VkStencilOp">VkStencilOp</a></code> value
</p>
</li>
<li>
<p>
<code>passOp</code> <span role="normative">must</span> be a valid <code><a href="#VkStencilOp">VkStencilOp</a></code> value
</p>
</li>
<li>
<p>
<code>depthFailOp</code> <span role="normative">must</span> be a valid <code><a href="#VkStencilOp">VkStencilOp</a></code> value
</p>
</li>
<li>
<p>
<code>compareOp</code> <span role="normative">must</span> be a valid <code><a href="#VkCompareOp">VkCompareOp</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>There are two sets of stencil-related state, the front stencil state set and
the back stencil state set.
Stencil tests and writes use the front set of stencil state when processing
fragments rasterized from non-polygon primitives (points and lines) and
front-facing polygon primitives while the back set of stencil state is used
when processing fragments rasterized from back-facing polygon primitives.
For the purposes of stencil testing, a primitive is still considered a
polygon even if the polygon is to be rasterized as points or lines due to
the current <code><a href="#VkPolygonMode">VkPolygonMode</a></code>.
Whether a polygon is front- or back-facing is determined in the same manner
used for face culling (see <a href="#primsrast-polygons-basic">Basic Polygon Rasterization</a>).</p></div>
<div class="paragraph"><p>The operation of the stencil test is also affected by the <code>compareMask</code>,
<code>writeMask</code>, and <code>reference</code> members of <code>VkStencilOpState</code> set
in the pipeline state object if the pipeline state object is created without
the <code>VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code>,
<code>VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code>, and
<code>VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> dynamic states enabled,
respectively.</p></div>
<div class="paragraph"><p>If the pipeline state object is created with the
<code>VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code> dynamic state enabled, then to
dynamically set the stencil compare mask call:</p></div>
<div class="listingblock">
<a id="vkCmdSetStencilCompareMask"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdSetStencilCompareMask</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkStencilFaceFlags</span>                          faceMask<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    compareMask<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>faceMask</code> is a bitmask specifying the set of stencil state for
    which to update the compare mask.
    Bits which <span role="normative">can</span> be set include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkStencilFaceFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkStencilFaceFlagBits <span style="color: #FF0000">{</span>
    VK_STENCIL_FACE_FRONT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_STENCIL_FACE_BACK_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_STENCIL_FRONT_AND_BACK <span style="color: #990000">=</span> <span style="color: #993399">0x00000003</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkStencilFaceFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_STENCIL_FACE_FRONT_BIT</code> indicates that only the front set of
     stencil state is updated.
</p>
</li>
<li>
<p>
<code>VK_STENCIL_FACE_BACK_BIT</code> indicates that only the back set of
     stencil state is updated.
</p>
</li>
<li>
<p>
<code>VK_STENCIL_FRONT_AND_BACK</code> is the combination of
     <code>VK_STENCIL_FACE_FRONT_BIT</code> and <code>VK_STENCIL_FACE_BACK_BIT</code> and
     indicates that both sets of stencil state are updated.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>compareMask</code> is the new value to use as the stencil compare mask.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The currently bound graphics pipeline <span role="normative">must</span> have been created with the
    <code>VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code> dynamic state enabled
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>faceMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>faceMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>If the pipeline state object is created with the
<code>VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> dynamic state enabled, then to
dynamically set the stencil write mask call:</p></div>
<div class="listingblock">
<a id="vkCmdSetStencilWriteMask"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdSetStencilWriteMask</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkStencilFaceFlags</span>                          faceMask<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    writeMask<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>faceMask</code> is a bitmask of <code><a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a></code> specifying
    the set of stencil state for which to update the write mask, as
    described above for <code><a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a></code>.
</p>
</li>
<li>
<p>
<code>writeMask</code> is the new value to use as the stencil write mask.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The currently bound graphics pipeline <span role="normative">must</span> have been created with the
    <code>VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> dynamic state enabled
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>faceMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>faceMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>If the pipeline state object is created with the
<code>VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> dynamic state enabled, then to
dynamically set the stencil reference value call:</p></div>
<div class="listingblock">
<a id="vkCmdSetStencilReference"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdSetStencilReference</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkStencilFaceFlags</span>                          faceMask<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    reference<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>faceMask</code> is a bitmask of <code><a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a></code> specifying
    the set of stencil state for which to update the reference value, as
    described above for <code><a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a></code>.
</p>
</li>
<li>
<p>
<code>reference</code> is the new value to use as the stencil reference value.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The currently bound graphics pipeline <span role="normative">must</span> have been created with the
    <code>VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> dynamic state enabled
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>faceMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>faceMask</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p><code>reference</code> is an integer reference value that is used in the unsigned
stencil comparison.
Stencil comparison clamps the reference value to <span class="eq">[0,2<sup>s</sup>-1]</span>, where
<span class="eq">s</span> is the number of bits in the stencil framebuffer attachment.
The <span class="eq">s</span> least significant bits of <code>compareMask</code> are bitwise
<code>ANDed</code> with both the reference and the stored stencil value, and the
resulting masked values are those that participate in the comparison
controlled by <code>compareOp</code>.
Let <span class="eq">R</span> be the masked reference value and <span class="eq">S</span> be the masked stored
stencil value.</p></div>
<div class="paragraph"><p><code>compareOp</code> is a symbolic constant that determines the stencil
comparison function:</p></div>
<div class="listingblock">
<a id="VkCompareOp"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkCompareOp <span style="color: #FF0000">{</span>
    VK_COMPARE_OP_NEVER <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_COMPARE_OP_LESS <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_COMPARE_OP_EQUAL <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_COMPARE_OP_LESS_OR_EQUAL <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_COMPARE_OP_GREATER <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_COMPARE_OP_NOT_EQUAL <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_COMPARE_OP_GREATER_OR_EQUAL <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">,</span>
    VK_COMPARE_OP_ALWAYS <span style="color: #990000">=</span> <span style="color: #993399">7</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkCompareOp<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_COMPARE_OP_NEVER</code>: the test never passes.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_LESS</code>: the test passes when <span class="eq">R &lt; S</span>.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_EQUAL</code>: the test passes when <span class="eq">R = S</span>.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_LESS_OR_EQUAL</code>: the test passes when <span class="eq">R &#x2264; S</span>.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_GREATER</code>: the test passes when <span class="eq">R &gt; S</span>.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_NOT_EQUAL</code>: the test passes when <span class="eq">R &#x2260; S</span>.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_GREATER_OR_EQUAL</code>: the test passes when <span class="eq">R &#x2265;
    S</span>.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_ALWAYS</code>: the test always passes.
</p>
</li>
</ul></div>
<div class="paragraph"><p>As described earlier, the <code>failOp</code>, <code>passOp</code>, and <code>depthFailOp</code>
members of <code><a href="#VkStencilOpState">VkStencilOpState</a></code> indicate what happens to the stored
stencil value if this or certain subsequent tests fail or pass.
Each enum is of type <code><a href="#VkStencilOp">VkStencilOp</a></code>, which is defined as:</p></div>
<div class="listingblock">
<a id="VkStencilOp"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkStencilOp <span style="color: #FF0000">{</span>
    VK_STENCIL_OP_KEEP <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_STENCIL_OP_ZERO <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_STENCIL_OP_REPLACE <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_STENCIL_OP_INCREMENT_AND_CLAMP <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_STENCIL_OP_DECREMENT_AND_CLAMP <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_STENCIL_OP_INVERT <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_STENCIL_OP_INCREMENT_AND_WRAP <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">,</span>
    VK_STENCIL_OP_DECREMENT_AND_WRAP <span style="color: #990000">=</span> <span style="color: #993399">7</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkStencilOp<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The possible values are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_STENCIL_OP_KEEP</code> keeps the current value.
</p>
</li>
<li>
<p>
<code>VK_STENCIL_OP_ZERO</code> sets the value to 0.
</p>
</li>
<li>
<p>
<code>VK_STENCIL_OP_REPLACE</code> sets the value to <code>reference</code>.
</p>
</li>
<li>
<p>
<code>VK_STENCIL_OP_INCREMENT_AND_CLAMP</code> increments the current value and
    clamps to the maximum representable unsigned value.
</p>
</li>
<li>
<p>
<code>VK_STENCIL_OP_DECREMENT_AND_CLAMP</code> decrements the current value and
    clamps to 0.
</p>
</li>
<li>
<p>
<code>VK_STENCIL_OP_INVERT</code> bitwise-inverts the current value.
</p>
</li>
<li>
<p>
<code>VK_STENCIL_OP_INCREMENT_AND_WRAP</code> increments the current value and
    wraps to 0 when the maximum value would have been exceeded.
</p>
</li>
<li>
<p>
<code>VK_STENCIL_OP_DECREMENT_AND_WRAP</code> decrements the current value and
    wraps to the maximum possible value when the value would go below 0.
</p>
</li>
</ul></div>
<div class="paragraph"><p>For purposes of increment and decrement, the stencil bits are considered as
an unsigned integer.</p></div>
<div class="paragraph"><p>If the stencil test fails, the sample&#8217;s coverage bit is cleared in the
fragment.
If there is no stencil framebuffer attachment, stencil modification <span role="normative">cannot</span>
occur, and it is as if the stencil tests always pass.</p></div>
<div class="paragraph"><p>If the stencil test passes, the <code>writeMask</code> member of the
<code><a href="#VkStencilOpState">VkStencilOpState</a></code> structures controls how the updated stencil value is
written to the stencil framebuffer attachment.</p></div>
<div class="paragraph"><p>The least significant <span class="eq">s</span> bits of <code>writeMask</code>, where <span class="eq">s</span> is the
number of bits in the stencil framebuffer attachment, specify an integer
mask.
Where a <span class="eq">1</span> appears in this mask, the corresponding bit in the stencil
value in the depth/stencil attachment is written; where a <span class="eq">0</span> appears,
the bit is not written.
The <code>writeMask</code> value uses either the front-facing or back-facing state
based on the facing-ness of the fragment.
Fragments generated by front-facing primitives use the front mask and
fragments generated by back-facing primitives use the back mask.</p></div>
</div>
<div class="sect2">
<h3 id="fragops-depth">25.10. Depth Test</h3>
<div class="paragraph"><p>The depth test conditionally disables coverage of a sample based on the
outcome of a comparison between the fragment&#8217;s depth value at the sample
location and the sample&#8217;s depth value in the depth/stencil attachment at
location <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span>.
The comparison is enabled or disabled with the <code>depthTestEnable</code> member
of the <code><a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code> structure.
When disabled, the depth comparison and subsequent possible updates to the
value of the depth component of the depth/stencil attachment are bypassed
and the fragment is passed to the next operation.
The stencil value, however, <span role="normative">can</span> be modified as indicated above as if the
depth test passed.
If enabled, the comparison takes place and the depth/stencil attachment
value <span role="normative">can</span> subsequently be modified.</p></div>
<div class="paragraph"><p>The comparison is specified with the <code>depthCompareOp</code> member of
<code><a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code>.
Let <span class="eq"><code>z</code><sub>f</sub></span> be the incoming fragment&#8217;s depth value for a sample,
and let <span class="eq">z<sub>a</sub></span> be the depth/stencil attachment value in memory for that
sample.
The depth test passes under the following conditions:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_COMPARE_OP_NEVER</code>: the test never passes.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_LESS</code>: the test passes when <span class="eq">z<sub>f</sub> &lt; z<sub>a</sub></span>.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_EQUAL</code>: the test passes when <span class="eq">z<sub>f</sub> = z<sub>a</sub></span>.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_LESS_OR_EQUAL</code>: the test passes when <span class="eq">z<sub>f</sub> &#x2264;
    z<sub>a</sub></span>.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_GREATER</code>: the test passes when <span class="eq">z<sub>f</sub> &gt; z<sub>a</sub></span>.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_NOT_EQUAL</code>: the test passes when <span class="eq">z<sub>f</sub> &#x2260;
    z<sub>a</sub></span>.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_GREATER_OR_EQUAL</code>: the test passes when <span class="eq">z<sub>f</sub>
    &#x2265; z<sub>a</sub></span>.
</p>
</li>
<li>
<p>
<code>VK_COMPARE_OP_ALWAYS</code>: the test always passes.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If depth clamping (see <a href="#vertexpostproc-clipping">Primitive Clipping</a>) is
enabled, before the incoming fragment&#8217;s <span class="eq"><code>z</code><sub>f</sub></span> is compared to
<span class="eq"><code>z</code><sub>a</sub></span>, <span class="eq"><code>z</code><sub>f</sub></span> is clamped to <span class="eq">[min(n,f),max(n,f)]</span>,
where <span class="eq">n</span> and <span class="eq">f</span> are the <code>minDepth</code> and <code>maxDepth</code> depth
range values of the viewport used by this fragment, respectively.</p></div>
<div class="paragraph"><p>If the depth test fails, the sample&#8217;s coverage bit is cleared in the
fragment.
The stencil value at the sample&#8217;s location is updated according to the
function currently in effect for depth test failure.</p></div>
<div class="paragraph" id="fragops-depth-write"><p>If the depth test passes, the sample&#8217;s (possibly clamped) <span class="eq"><code>z</code><sub>f</sub></span>
value is conditionally written to the depth framebuffer attachment based on
the <code>depthWriteEnable</code> member of
<code><a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code>.
If <code>depthWriteEnable</code> is <code>VK_TRUE</code> the value is written, and if it
is <code>VK_FALSE</code> the value is not written.
The stencil value at the sample&#8217;s location is updated according to the
function currently in effect for depth test success.</p></div>
<div class="paragraph"><p>If there is no depth framebuffer attachment, it is as if the depth test
always passes.</p></div>
</div>
<div class="sect2">
<h3 id="fragops-samplecount">25.11. Sample Counting</h3>
<div class="paragraph"><p>Occlusion queries use query pool entries to track the number of samples that
pass all the per-fragment tests.
The mechanism of collecting an occlusion query value is described in
<a href="#queries-occlusion">Occlusion Queries</a>.</p></div>
<div class="paragraph"><p>The occlusion query sample counter increments by one for each sample with a
coverage value of 1 in each fragment that survives all the per-fragment
tests, including scissor, sample mask, alpha to coverage, stencil, and depth
tests.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="framebuffer">26. The Framebuffer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="framebuffer-blending">26.1. Blending</h3>
<div class="paragraph"><p>Blending combines the incoming <em>source</em> fragment&#8217;s R, G, B, and A values
with the <em>destination</em> R, G, B, and A values of each sample stored in the
framebuffer at the fragment&#8217;s <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> location.
Blending is performed for each pixel sample, rather than just once for each
fragment.</p></div>
<div class="paragraph"><p>Source and destination values are combined according to the
<a href="#framebuffer-blendoperations">blend operation</a>, quadruplets of source and
destination weighting factors determined by the <a href="#framebuffer-blendfactors">blend factors</a>, and a <a href="#framebuffer-blendconstants">blend constant</a>, to
obtain a new set of R, G, B, and A values, as described below.</p></div>
<div class="paragraph"><p>Blending is computed and applied separately to each color attachment used by
the subpass, with separate controls for each attachment.</p></div>
<div class="paragraph"><p>Prior to performing the blend operation, signed and unsigned normalized
fixed-point color components undergo an implied conversion to floating-point
as specified by <a href="#fundamentals-fixedfpconv">Conversion from Normalized Fixed-Point to Floating-Point</a>.
Blending computations are treated as if carried out in floating-point, and
will be performed with a precision and dynamic range no lower than that used
to represent destination components.</p></div>
<div class="paragraph"><p>Blending applies only to fixed-point and floating-point color attachments.
If the color attachment has an integer format, blending is not applied.</p></div>
<div class="paragraph"><p>The pipeline blend state is included in the
<code>VkPipelineColorBlendStateCreateInfo</code> structure during graphics pipeline
creation:</p></div>
<div class="paragraph"><p>The <code>VkPipelineColorBlendStateCreateInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPipelineColorBlendStateCreateInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPipelineColorBlendStateCreateInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                               sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                                   pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPipelineColorBlendStateCreateFlags</span>          flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                                      logicOpEnable<span style="color: #990000">;</span>
    <span style="color: #008080">VkLogicOp</span>                                     logicOp<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                                      attachmentCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPipelineColorBlendAttachmentState<span style="color: #990000">*</span>    pAttachments<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                                         blendConstants<span style="color: #990000">[</span><span style="color: #993399">4</span><span style="color: #990000">];</span>
<span style="color: #FF0000">}</span> VkPipelineColorBlendStateCreateInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>logicOpEnable</code> controls whether to apply <a href="#framebuffer-logicop">Logical Operations</a>.
</p>
</li>
<li>
<p>
<code>logicOp</code> selects which logical operation to apply.
</p>
</li>
<li>
<p>
<code>attachmentCount</code> is the number of
    <code>VkPipelineColorBlendAttachmentState</code> elements in
    <code>pAttachments</code>.
    This value <span role="normative">must</span> equal the <code>colorAttachmentCount</code> for the subpass in
    which this pipeline is used.
</p>
</li>
<li>
<p>
<code>pAttachments</code>: is a pointer to array of per target attachment
    states.
</p>
</li>
<li>
<p>
<code>blendConstants</code> is an array of four values used as the R, G, B, and
    A components of the blend constant that are used in blending, depending
    on the <a href="#framebuffer-blendfactors">blend factor</a>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Each element of the <code>pAttachments</code> array is a
<code><a href="#VkPipelineColorBlendAttachmentState">VkPipelineColorBlendAttachmentState</a></code> structure specifying per-target
blending state for each individual color attachment.
If the <a href="#features-features-independentBlend">independent blending</a> feature
is not enabled on the device, all <code><a href="#VkPipelineColorBlendAttachmentState">VkPipelineColorBlendAttachmentState</a></code>
elements in the <code>pAttachments</code> array <span role="normative">must</span> be identical.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <a href="#features-features-independentBlend">independent blending</a>
    feature is not enabled, all elements of <code>pAttachments</code> <span role="normative">must</span> be
    identical
</p>
</li>
<li>
<p>
If the <a href="#features-features-logicOp">logic operations</a> feature is not
    enabled, <code>logicOpEnable</code> <span role="normative">must</span> be <code>VK_FALSE</code>
</p>
</li>
<li>
<p>
If <code>logicOpEnable</code> is <code>VK_TRUE</code>, <code>logicOp</code> <span role="normative">must</span> be a valid
    <code><a href="#VkLogicOp">VkLogicOp</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
If <code>attachmentCount</code> is not <span class="monospaced">0</span>, <code>pAttachments</code> <span role="normative">must</span> be a pointer to an array of <code>attachmentCount</code> valid <code>VkPipelineColorBlendAttachmentState</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkPipelineColorBlendAttachmentState</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPipelineColorBlendAttachmentState"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPipelineColorBlendAttachmentState</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkBool32</span>                 blendEnable<span style="color: #990000">;</span>
    <span style="color: #008080">VkBlendFactor</span>            srcColorBlendFactor<span style="color: #990000">;</span>
    <span style="color: #008080">VkBlendFactor</span>            dstColorBlendFactor<span style="color: #990000">;</span>
    <span style="color: #008080">VkBlendOp</span>                colorBlendOp<span style="color: #990000">;</span>
    <span style="color: #008080">VkBlendFactor</span>            srcAlphaBlendFactor<span style="color: #990000">;</span>
    <span style="color: #008080">VkBlendFactor</span>            dstAlphaBlendFactor<span style="color: #990000">;</span>
    <span style="color: #008080">VkBlendOp</span>                alphaBlendOp<span style="color: #990000">;</span>
    <span style="color: #008080">VkColorComponentFlags</span>    colorWriteMask<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPipelineColorBlendAttachmentState<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>blendEnable</code> controls whether blending is enabled for the
    corresponding color attachment.
    If blending is not enabled, the source fragment&#8217;s color for that
    attachment is passed through unmodified.
</p>
</li>
<li>
<p>
<code>srcColorBlendFactor</code> selects which blend factor is used to
    determine the source factors <span class="eq">(S<sub>r</sub>,S<sub>g</sub>,S<sub>b</sub>)</span>.
</p>
</li>
<li>
<p>
<code>dstColorBlendFactor</code> selects which blend factor is used to
    determine the destination factors <span class="eq">(D<sub>r</sub>,D<sub>g</sub>,D<sub>b</sub>)</span>.
</p>
</li>
<li>
<p>
<code>colorBlendOp</code> selects which blend operation is used to calculate
    the RGB values to write to the color attachment.
</p>
</li>
<li>
<p>
<code>srcAlphaBlendFactor</code> selects which blend factor is used to
    determine the source factor <span class="eq">S<sub>a</sub></span>.
</p>
</li>
<li>
<p>
<code>dstAlphaBlendFactor</code> selects which blend factor is used to
    determine the destination factor <span class="eq">D<sub>a</sub></span>.
</p>
</li>
<li>
<p>
<code>alphaBlendOp</code> selects which blend operation is use to calculate the
    alpha values to write to the color attachment.
</p>
</li>
<li>
<p>
<code>colorWriteMask</code> is a bitmask selecting which of the R, G, B, and/or
    A components are enabled for writing, as described later in this
    chapter.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <a href="#features-features-dualSrcBlend">dual source blending</a> feature
    is not enabled, <code>srcColorBlendFactor</code> <span role="normative">must</span> not be
    <code>VK_BLEND_FACTOR_SRC1_COLOR</code>,
    <code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
    <code>VK_BLEND_FACTOR_SRC1_ALPHA</code>, or
    <code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-dualSrcBlend">dual source blending</a> feature
    is not enabled, <code>dstColorBlendFactor</code> <span role="normative">must</span> not be
    <code>VK_BLEND_FACTOR_SRC1_COLOR</code>,
    <code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
    <code>VK_BLEND_FACTOR_SRC1_ALPHA</code>, or
    <code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-dualSrcBlend">dual source blending</a> feature
    is not enabled, <code>srcAlphaBlendFactor</code> <span role="normative">must</span> not be
    <code>VK_BLEND_FACTOR_SRC1_COLOR</code>,
    <code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
    <code>VK_BLEND_FACTOR_SRC1_ALPHA</code>, or
    <code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code>
</p>
</li>
<li>
<p>
If the <a href="#features-features-dualSrcBlend">dual source blending</a> feature
    is not enabled, <code>dstAlphaBlendFactor</code> <span role="normative">must</span> not be
    <code>VK_BLEND_FACTOR_SRC1_COLOR</code>,
    <code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
    <code>VK_BLEND_FACTOR_SRC1_ALPHA</code>, or
    <code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>srcColorBlendFactor</code> <span role="normative">must</span> be a valid <code><a href="#VkBlendFactor">VkBlendFactor</a></code> value
</p>
</li>
<li>
<p>
<code>dstColorBlendFactor</code> <span role="normative">must</span> be a valid <code><a href="#VkBlendFactor">VkBlendFactor</a></code> value
</p>
</li>
<li>
<p>
<code>colorBlendOp</code> <span role="normative">must</span> be a valid <code><a href="#VkBlendOp">VkBlendOp</a></code> value
</p>
</li>
<li>
<p>
<code>srcAlphaBlendFactor</code> <span role="normative">must</span> be a valid <code><a href="#VkBlendFactor">VkBlendFactor</a></code> value
</p>
</li>
<li>
<p>
<code>dstAlphaBlendFactor</code> <span role="normative">must</span> be a valid <code><a href="#VkBlendFactor">VkBlendFactor</a></code> value
</p>
</li>
<li>
<p>
<code>alphaBlendOp</code> <span role="normative">must</span> be a valid <code><a href="#VkBlendOp">VkBlendOp</a></code> value
</p>
</li>
<li>
<p>
<code>colorWriteMask</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkColorComponentFlagBits">VkColorComponentFlagBits</a></code> values
</p>
</li>
</ul></div>
</div></div>
<div class="sect3">
<h4 id="framebuffer-blendfactors">26.1.1. Blend Factors</h4>
<div class="paragraph"><p>The source and destination color and alpha blending factors are selected
from the enum:</p></div>
<div class="listingblock">
<a id="VkBlendFactor"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkBlendFactor <span style="color: #FF0000">{</span>
    VK_BLEND_FACTOR_ZERO <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_ONE <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_SRC_COLOR <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_ONE_MINUS_SRC_COLOR <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_DST_COLOR <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_ONE_MINUS_DST_COLOR <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_SRC_ALPHA <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_ONE_MINUS_SRC_ALPHA <span style="color: #990000">=</span> <span style="color: #993399">7</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_DST_ALPHA <span style="color: #990000">=</span> <span style="color: #993399">8</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_ONE_MINUS_DST_ALPHA <span style="color: #990000">=</span> <span style="color: #993399">9</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_CONSTANT_COLOR <span style="color: #990000">=</span> <span style="color: #993399">10</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR <span style="color: #990000">=</span> <span style="color: #993399">11</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_CONSTANT_ALPHA <span style="color: #990000">=</span> <span style="color: #993399">12</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA <span style="color: #990000">=</span> <span style="color: #993399">13</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_SRC_ALPHA_SATURATE <span style="color: #990000">=</span> <span style="color: #993399">14</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_SRC1_COLOR <span style="color: #990000">=</span> <span style="color: #993399">15</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR <span style="color: #990000">=</span> <span style="color: #993399">16</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_SRC1_ALPHA <span style="color: #990000">=</span> <span style="color: #993399">17</span><span style="color: #990000">,</span>
    VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA <span style="color: #990000">=</span> <span style="color: #993399">18</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkBlendFactor<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The semantics of each enum value is described in the table below:</p></div>
<table class="tableblock frame-all grid-all"
style="
margin-left:auto; margin-right:auto;
width:100%;
">
<caption class="title">Table 26. Blend Factors</caption>
<col style="width:59%;">
<col style="width:28%;">
<col style="width:13%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >VkBlendFactor                                  </th>
<th class="tableblock halign-left valign-top" > RGB Blend Factors <span class="eq">(S<sub>r</sub>,S<sub>g</sub>,S<sub>b</sub>)</span> or <span class="eq">(D<sub>r</sub>,D<sub>g</sub>,D<sub>b</sub>)</span> </th>
<th class="tableblock halign-left valign-top" > Alpha Blend Factor (<span class="eq">S<sub>a</sub></span> or <span class="eq">D<sub>a</sub></span>)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_ZERO</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(0,0,0)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">0</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_ONE</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(1,1,1)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">1</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_SRC_COLOR</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(R<sub>s0</sub>,G<sub>s0</sub>,B<sub>s0</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">A<sub>s0</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_SRC_COLOR</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(1-R<sub>s0</sub>,1-G<sub>s0</sub>,1-B<sub>s0</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">1-A<sub>s0</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_DST_COLOR</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(R<sub>d</sub>,G<sub>d</sub>,B<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">A<sub>d</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_DST_COLOR</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(1-R<sub>d</sub>,1-G<sub>d</sub>,1-B<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">1-A<sub>d</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_SRC_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(A<sub>s0</sub>,A<sub>s0</sub>,A<sub>s0</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">A<sub>s0</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_SRC_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(1-A<sub>s0</sub>,1-A<sub>s0</sub>,1-A<sub>s0</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">1-A<sub>s0</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_DST_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(A<sub>d</sub>,A<sub>d</sub>,A<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">A<sub>d</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_DST_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(1-A<sub>d</sub>,1-A<sub>d</sub>,1-A<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">1-A<sub>d</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_CONSTANT_COLOR</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(R<sub>c</sub>,G<sub>c</sub>,B<sub>c</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">A<sub>c</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(1-R<sub>c</sub>,1-G<sub>c</sub>,1-B<sub>c</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">1-A<sub>c</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_CONSTANT_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(A<sub>c</sub>,A<sub>c</sub>,A<sub>c</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">A<sub>c</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(1-A<sub>c</sub>,1-A<sub>c</sub>,1-A<sub>c</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">1-A<sub>c</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_SRC_ALPHA_SATURATE</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(f,f,f)</span>; <span class="eq">f = min(A<sub>s0</sub>,1-A<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">1</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_SRC1_COLOR</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(R<sub>s1</sub>,G<sub>s1</sub>,B<sub>s1</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">A<sub>s1</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(1-R<sub>s1</sub>,1-G<sub>s1</sub>,1-B<sub>s1</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">1-A<sub>s1</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_SRC1_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(A<sub>s1</sub>,A<sub>s1</sub>,A<sub>s1</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">A<sub>s1</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">(1-A<sub>s1</sub>,1-A<sub>s1</sub>,1-A<sub>s1</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">1-A<sub>s1</sub></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>In this table, the following conventions are used:</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="eq">R<sub>s0</sub>,G<sub>s0</sub>,B<sub>s0</sub></span> and <span class="eq">A<sub>s0</sub></span> represent the first source color
    R, G, B, and A components, respectively, for the fragment output
    location corresponding to the color attachment being blended.
</p>
</li>
<li>
<p>
<span class="eq">R<sub>s1</sub>,G<sub>s1</sub>,B<sub>s1</sub></span> and <span class="eq">A<sub>s1</sub></span> represent the second source
    color R, G, B, and A components, respectively, used in dual source
    blending modes, for the fragment output location corresponding to the
    color attachment being blended.
</p>
</li>
<li>
<p>
<span class="eq">R<sub>d</sub>,G<sub>d</sub>,B<sub>d</sub></span> and <span class="eq">A<sub>d</sub></span> represent the R, G, B, and A
    components of the destination color.
    That is, the color currently in the corresponding color attachment for
    this fragment/sample.
</p>
</li>
<li>
<p>
<span class="eq">R<sub>c</sub>,G<sub>c</sub>,B<sub>c</sub></span> and <span class="eq">A<sub>c</sub></span> represent the blend constant R, G,
    B, and A components, respectively.
</p>
</li>
</ul></div>
<div class="paragraph" id="framebuffer-blendconstants"><p>If the pipeline state object is created without the
<code>VK_DYNAMIC_STATE_BLEND_CONSTANTS</code> dynamic state enabled then the <em>blend
constant</em> <span class="eq">(R<sub>c</sub>,G<sub>c</sub>,B<sub>c</sub>,A<sub>c</sub>)</span> is specified via the
<code>blendConstants</code> member of <code><a href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a></code>.</p></div>
<div class="paragraph"><p>Otherwise, to dynamically set and change the blend constant, call:</p></div>
<div class="listingblock">
<a id="vkCmdSetBlendConstants"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdSetBlendConstants</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">float</span>                                 blendConstants<span style="color: #990000">[</span><span style="color: #993399">4</span><span style="color: #990000">]);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>blendConstants</code> is an array of four values specifying the R, G, B,
    and A components of the blend constant color used in blending, depending
    on the <a href="#framebuffer-blendfactors">blend factor</a>.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The currently bound graphics pipeline <span role="normative">must</span> have been created with the
    <code>VK_DYNAMIC_STATE_BLEND_CONSTANTS</code> dynamic state enabled
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support graphics operations
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
</div></div>
</div>
<div class="sect3">
<h4 id="framebuffer-dsb">26.1.2. Dual-Source Blending</h4>
<div class="paragraph"><p>Blend factors that use the secondary color input
<span class="eq">(R<sub>s1</sub>,G<sub>s1</sub>,B<sub>s1</sub>,A<sub>s1</sub>)</span> (<code>VK_BLEND_FACTOR_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_SRC1_ALPHA</code>, and
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code>) <span role="normative">may</span> consume hardware resources
that could otherwise be used for rendering to multiple color attachments.
Therefore, the number of color attachments that <span role="normative">can</span> be used in a
framebuffer <span role="normative">may</span> be lower when using dual-source blending.</p></div>
<div class="paragraph"><p>Dual-source blending is only supported if the
<a href="#features-features-dualSrcBlend"><code>dualSrcBlend</code></a> feature is enabled.</p></div>
<div class="paragraph"><p>The maximum number of color attachments that <span role="normative">can</span> be used in a subpass when
using dual-source blending functions is implementation-dependent and is
reported as the <code>maxFragmentDualSrcAttachments</code> member of
<code>VkPhysicalDeviceLimits</code>.</p></div>
<div class="paragraph"><p>When using a fragment shader with dual-source blending functions, the color
outputs are bound to the first and second inputs of the blender using the
<code>Index</code> decoration, as described in <a href="#interfaces-fragmentoutput">Fragment Output Interface</a>.
If the second color input to the blender is not written in the shader, or if
no output is bound to the second input of a blender, the result of the
blending operation is not defined.</p></div>
</div>
<div class="sect3">
<h4 id="framebuffer-blendoperations">26.1.3. Blend Operations</h4>
<div class="paragraph"><p>Once the source and destination blend factors have been selected, they along
with the source and destination components are passed to the blending
operation.
The blending operations are selected from the following enum, with RGB and
alpha components potentially using different blend operations:</p></div>
<div class="listingblock">
<a id="VkBlendOp"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkBlendOp <span style="color: #FF0000">{</span>
    VK_BLEND_OP_ADD <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_BLEND_OP_SUBTRACT <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_BLEND_OP_REVERSE_SUBTRACT <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_BLEND_OP_MIN <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_BLEND_OP_MAX <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkBlendOp<span style="color: #990000">;</span></tt></pre></div></div>
<div style="page-break-after:always"></div>
<div class="paragraph"><p>The semantics of each enum value is described in the table below:</p></div>
<table class="tableblock frame-all grid-all"
style="
margin-left:auto; margin-right:auto;
width:100%;
">
<caption class="title">Table 27. Blend Operations</caption>
<col style="width:45%;">
<col style="width:30%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >VkBlendOp                                   </th>
<th class="tableblock halign-left valign-top" > RGB Components                    </th>
<th class="tableblock halign-left valign-top" > Alpha Component</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_OP_ADD</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">R = R<sub>s0</sub> &#x00d7; S<sub>r</sub> + R<sub>d</sub> &#x00d7; D<sub>r</sub></span><br>
  <span class="eq">G = G<sub>s0</sub> &#x00d7; S<sub>g</sub> + G<sub>d</sub> &#x00d7; D<sub>g</sub></span><br>
  <span class="eq">B = B<sub>s0</sub> &#x00d7; S<sub>b</sub> + B<sub>d</sub> &#x00d7; D<sub>b</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">A = A<sub>s0</sub> &#x00d7; S<sub>a</sub> + A<sub>d</sub> &#x00d7; D<sub>a</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_OP_SUBTRACT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">R = R<sub>s0</sub> &#x00d7; S<sub>r</sub> - R<sub>d</sub> &#x00d7; D<sub>r</sub></span><br>
  <span class="eq">G = G<sub>s0</sub> &#x00d7; S<sub>g</sub> - G<sub>d</sub> &#x00d7; D<sub>g</sub></span><br>
  <span class="eq">B = B<sub>s0</sub> &#x00d7; S<sub>b</sub> - B<sub>d</sub> &#x00d7; D<sub>b</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">A = A<sub>s0</sub> &#x00d7; S<sub>a</sub> - A<sub>d</sub> &#x00d7; D<sub>a</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_OP_REVERSE_SUBTRACT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">R = R<sub>d</sub> &#x00d7; D<sub>r</sub> - R<sub>s0</sub> &#x00d7; S<sub>r</sub></span><br>
  <span class="eq">G = G<sub>d</sub> &#x00d7; D<sub>g</sub> - G<sub>s0</sub> &#x00d7; S<sub>g</sub></span><br>
  <span class="eq">B = B<sub>d</sub> &#x00d7; D<sub>b</sub> - B<sub>s0</sub> &#x00d7; S<sub>b</sub></span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">A = A<sub>d</sub> &#x00d7; D<sub>a</sub> - A<sub>s0</sub> &#x00d7; S<sub>a</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_OP_MIN</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">R = min(R<sub>s0</sub>,R<sub>d</sub>)</span><br>
  <span class="eq">G = min(G<sub>s0</sub>,G<sub>d</sub>)</span><br>
  <span class="eq">B = min(B<sub>s0</sub>,B<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">A = min(A<sub>s0</sub>,A<sub>d</sub>)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_BLEND_OP_MAX</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">R = max(R<sub>s0</sub>,R<sub>d</sub>)</span><br>
  <span class="eq">G = max(G<sub>s0</sub>,G<sub>d</sub>)</span><br>
  <span class="eq">B = max(B<sub>s0</sub>,B<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">A = max(A<sub>s0</sub>,A<sub>d</sub>)</span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>In this table, the following conventions are used:</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="eq">R<sub>s0</sub>, G<sub>s0</sub>, B<sub>s0</sub></span> and <span class="eq">A<sub>s0</sub></span> represent the first source
    color R, G, B, and A components, respectively.
</p>
</li>
<li>
<p>
<span class="eq">R<sub>d</sub>, G<sub>d</sub>, B<sub>d</sub></span> and <span class="eq">A<sub>d</sub></span> represent the R, G, B, and A
    components of the destination color.
    That is, the color currently in the corresponding color attachment for
    this fragment/sample.
</p>
</li>
<li>
<p>
<span class="eq">S<sub>r</sub>, S<sub>g</sub>, S<sub>b</sub></span> and <span class="eq">S<sub>a</sub></span> represent the source blend factor
    R, G, B, and A components, respectively.
</p>
</li>
<li>
<p>
<span class="eq">D<sub>r</sub>, D<sub>g</sub>, D<sub>b</sub></span> and <span class="eq">D<sub>a</sub></span> represent the destination blend
    factor R, G, B, and A components, respectively.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The blending operation produces a new set of values <span class="eq">R, G, B</span> and
<span class="eq">A</span>, which are written to the framebuffer attachment.
If blending is not enabled for this attachment, then <span class="eq">R, G, B</span> and
<span class="eq">A</span> are assigned <span class="eq">R<sub>s0</sub>, G<sub>s0</sub>, B<sub>s0</sub></span> and <span class="eq">A<sub>s0</sub></span>,
respectively.</p></div>
<div class="paragraph"><p>If the color attachment is fixed-point, the components of the source and
destination values and blend factors are each clamped to <span class="eq">[0,1]</span> or
<span class="eq">[-1,1]</span> respectively for an unsigned normalized or signed normalized
color attachment prior to evaluating the blend operations.
If the color attachment is floating-point, no clamping occurs.</p></div>
<div class="paragraph"><p>The <code>colorWriteMask</code> member of <code><a href="#VkPipelineColorBlendAttachmentState">VkPipelineColorBlendAttachmentState</a></code>
determines whether the final color values <span class="eq">R, G, B</span> and <span class="eq">A</span> are
written to the framebuffer attachment.
<code>colorWriteMask</code> is any combination of the following bits:</p></div>
<div class="listingblock">
<a id="VkColorComponentFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkColorComponentFlagBits <span style="color: #FF0000">{</span>
    VK_COLOR_COMPONENT_R_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_COLOR_COMPONENT_G_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_COLOR_COMPONENT_B_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_COLOR_COMPONENT_A_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkColorComponentFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>If <code>VK_COLOR_COMPONENT_R_BIT</code> is set, then the <span class="eq">R</span> value is written
to color attachment for the appropriate sample, otherwise the value in
memory is unmodified.
The <code>VK_COLOR_COMPONENT_G_BIT</code>, <code>VK_COLOR_COMPONENT_B_BIT</code>, and
<code>VK_COLOR_COMPONENT_A_BIT</code> bits similarly control writing of the <span class="eq">G,
B,</span> and <span class="eq">A</span> values.
The <code>colorWriteMask</code> is applied regardless of whether blending is
enabled.</p></div>
<div class="paragraph"><p>If the numeric format of a framebuffer attachment uses sRGB encoding, the R,
G, and B destination color values (after conversion from fixed-point to
floating-point) are considered to be encoded for the sRGB color space and
hence are linearized prior to their use in blending.
Each R, G, and B component is converted from nonlinear to linear as
described in the &#8220;KHR_DF_TRANSFER_SRGB&#8221; section of the
<a href="#data-format">Khronos Data Format Specification</a>.
If the format is not sRGB, no linearization is performed.</p></div>
<div class="paragraph"><p>If the numeric format of a framebuffer attachment uses sRGB encoding, then
the final R, G and B values are converted into the nonlinear sRGB
representation before being written to the framebuffer attachment as
described in the &#8220;KHR_DF_TRANSFER_SRGB&#8221; section of the Khronos Data Format
Specification.</p></div>
<div class="paragraph"><p>If the framebuffer color attachment numeric format is not sRGB encoded then
the resulting <span class="eq">c<sub>s</sub></span> values for R, G and B are unmodified.
The value of A is never sRGB encoded.
That is, the alpha component is always stored in memory as linear.</p></div>
<div class="paragraph"><p>If the framebuffer color attachment is <code>VK_ATTACHMENT_UNUSED</code>, no writes
are performed through that attachment.
Framebuffer color attachments greater than or equal to
<code>VkSubpassDescription</code>::<code>colorAttachmentCount</code> perform no writes.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="framebuffer-logicop">26.2. Logical Operations</h3>
<div class="paragraph"><p>The application <span role="normative">can</span> enable a <em>logical operation</em> between the fragment&#8217;s
color values and the existing value in the framebuffer attachment.
This logical operation is applied prior to updating the framebuffer
attachment.
Logical operations are applied only for signed and unsigned integer and
normalized integer framebuffers.
Logical operations are not applied to floating-point or sRGB format color
attachments.</p></div>
<div class="paragraph"><p>Logical operations are controlled by the <code>logicOpEnable</code> and
<code>logicOp</code> members of <code><a href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a></code>.
If <code>logicOpEnable</code> is <code>VK_TRUE</code>, then a logical operation selected
by <code>logicOp</code> is applied between each color attachment and the fragment&#8217;s
corresponding output value, and blending of all attachments is treated as if
it were disabled.
Any attachments using color formats for which logical operations are not
supported simply pass through the color values unmodified.
The logical operation is applied independently for each of the red, green,
blue, and alpha components.
The <code>logicOp</code> is selected from the following operations:</p></div>
<div class="listingblock">
<a id="VkLogicOp"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkLogicOp <span style="color: #FF0000">{</span>
    VK_LOGIC_OP_CLEAR <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_AND <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_AND_REVERSE <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_COPY <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_AND_INVERTED <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_NO_OP <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_XOR <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_OR <span style="color: #990000">=</span> <span style="color: #993399">7</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_NOR <span style="color: #990000">=</span> <span style="color: #993399">8</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_EQUIVALENT <span style="color: #990000">=</span> <span style="color: #993399">9</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_INVERT <span style="color: #990000">=</span> <span style="color: #993399">10</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_OR_REVERSE <span style="color: #990000">=</span> <span style="color: #993399">11</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_COPY_INVERTED <span style="color: #990000">=</span> <span style="color: #993399">12</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_OR_INVERTED <span style="color: #990000">=</span> <span style="color: #993399">13</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_NAND <span style="color: #990000">=</span> <span style="color: #993399">14</span><span style="color: #990000">,</span>
    VK_LOGIC_OP_SET <span style="color: #990000">=</span> <span style="color: #993399">15</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkLogicOp<span style="color: #990000">;</span></tt></pre></div></div>
<div style="page-break-after:always"></div>
<div class="paragraph"><p>The logical operations supported by Vulkan are summarized in the following
table in which</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="eq">&#x00ac;</span> is bitwise invert,
</p>
</li>
<li>
<p>
<span class="eq">&#x2227;</span> is bitwise and,
</p>
</li>
<li>
<p>
<span class="eq">&#x2228;</span> is bitwise or,
</p>
</li>
<li>
<p>
<span class="eq">&#x2295;</span> is bitwise exclusive or,
</p>
</li>
<li>
<p>
<span class="eq">s</span> is the fragment&#8217;s <span class="eq">R<sub>s0</sub>, G<sub>s0</sub>, B<sub>s0</sub></span> or <span class="eq">A<sub>s0</sub></span>
    component value for the fragment output corresponding to the color
    attachment being updated, and
</p>
</li>
<li>
<p>
<span class="eq">d</span> is the color attachment&#8217;s <span class="eq">R, G, B</span> or <span class="eq">A</span> component
    value:
</p>
</li>
</ul></div>
<table class="tableblock frame-all grid-all"
style="
margin-left:auto; margin-right:auto;
width:75%;
">
<caption class="title">Table 28. Logical Operations</caption>
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Mode                            </th>
<th class="tableblock halign-left valign-top" > Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_CLEAR</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">0</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_AND</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">s &#x2227; d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_AND_REVERSE</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">s &#x2227; &#x00ac; d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_COPY</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">s</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_AND_INVERTED</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">&#x00ac; s &#x2227; d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_NO_OP</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_XOR</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">s &#x2295; d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_OR</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">s &#x2228; d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_NOR</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">&#x00ac; (s &#x2228; d)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_EQUIVALENT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">&#x00ac; (s &#x2295; d)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_INVERT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">&#x00ac; d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_OR_REVERSE</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">s &#x2228; &#x00ac; d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_COPY_INVERTED</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">&#x00ac; s</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_OR_INVERTED</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">&#x00ac; s &#x2228; d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_NAND</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">&#x00ac; (s &#x2227; d)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_LOGIC_OP_SET</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">all 1s</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The result of the logical operation is then written to the color attachment
as controlled by the component write mask, described in
<a href="#framebuffer-blendoperations">Blend Operations</a>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dispatch">27. Dispatching Commands</h2>
<div class="sectionbody">
<div class="paragraph"><p><em>Dispatching commands</em> (commands with <code>Dispatch</code> in the name) provoke
work in a compute pipeline.
Dispatching commands are recorded into a command buffer and when executed by
a queue, will produce work which executes according to the currently bound
compute pipeline.
A compute pipeline <span role="normative">must</span> be bound to a command buffer before any dispatch
commands are recorded in that command buffer.</p></div>
<div class="paragraph"><p>To record a dispatch, call:</p></div>
<div class="listingblock">
<a id="vkCmdDispatch"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdDispatch</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    x<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    y<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    z<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>x</code> is the number of local workgroups to dispatch in the X
    dimension.
</p>
</li>
<li>
<p>
<code>y</code> is the number of local workgroups to dispatch in the Y
    dimension.
</p>
</li>
<li>
<p>
<code>z</code> is the number of local workgroups to dispatch in the Z
    dimension.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When the command is executed, a global workgroup consisting of <span class="eq">x
&#x00d7; y &#x00d7; z</span> local workgroups is assembled.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>x</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[0]
</p>
</li>
<li>
<p>
<code>y</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[1]
</p>
</li>
<li>
<p>
<code>z</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[2]
</p>
</li>
<li>
<p>
For each set <em>n</em> that is statically used by the <code>VkPipeline</code>
    currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>, a descriptor
    set <span role="normative">must</span> have been bound to <em>n</em> at
    <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>, with a <code>VkPipelineLayout</code> that
    is compatible for set <em>n</em>, with the <code>VkPipelineLayout</code> used to
    create the current <code>VkPipeline</code>, as described in
    <a href="#descriptorsets-compatibility">[descriptorsets-compatibility]</a>
</p>
</li>
<li>
<p>
Descriptors in each bound descriptor set, specified via
    <code>vkCmdBindDescriptorSets</code>, <span role="normative">must</span> be valid if they are statically
    used by the currently bound <code>VkPipeline</code> object, specified via
    <code>vkCmdBindPipeline</code>
</p>
</li>
<li>
<p>
A valid compute pipeline <span role="normative">must</span> be bound to the current command buffer
    with <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>
</p>
</li>
<li>
<p>
For each push constant that is statically used by the <code>VkPipeline</code>
    currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>, a push constant
    value <span role="normative">must</span> have been set for <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>, with
    a <code>VkPipelineLayout</code> that is compatible for push constants with the
    one used to create the current <code>VkPipeline</code>, as described in
    <a href="#descriptorsets-compatibility">[descriptorsets-compatibility]</a>
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>
    uses unnormalized coordinates, it <span role="normative">must</span> not be used to sample from any
    <code>VkImage</code> with a <code>VkImageView</code> of the type
    <code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>,
    <code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
    <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>
    uses unnormalized coordinates, it <span role="normative">must</span> not be used with any of the
    SPIR-V <span class="monospaced">OpImageSample*</span> or <span class="monospaced">OpImageSparseSample*</span> instructions with
    <code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name, in any shader
    stage
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>
    uses unnormalized coordinates, it <span role="normative">must</span> not be used with any of the
    SPIR-V <span class="monospaced">OpImageSample*</span> or <span class="monospaced">OpImageSparseSample*</span> instructions that
    includes a LOD bias or any offset values, in any shader stage
</p>
</li>
<li>
<p>
If the <a href="#features-features-robustBufferAccess">robust buffer access</a>
    feature is not enabled, and any shader stage in the <code>VkPipeline</code>
    object currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code> accesses
    a uniform buffer, it <span role="normative">must</span> not access values outside of the range of
    that buffer specified in the currently bound descriptor set
</p>
</li>
<li>
<p>
If the <a href="#features-features-robustBufferAccess">robust buffer access</a>
    feature is not enabled, and any shader stage in the <code>VkPipeline</code>
    object currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code> accesses
    a storage buffer, it <span role="normative">must</span> not access values outside of the range of
    that buffer specified in the currently bound descriptor set
</p>
</li>
<li>
<p>
Any <code>VkImageView</code> being sampled with <code>VK_FILTER_LINEAR</code> as a
    result of this command <span role="normative">must</span> be of a format which supports linear
    filtering, as specified by the
    <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for a linear
    image) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code>(for an
    optimally tiled image) returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support compute operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Compute</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>To record an indirect command dispatch, call:</p></div>
<div class="listingblock">
<a id="vkCmdDispatchIndirect"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkCmdDispatchIndirect</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkCommandBuffer</span>                             commandBuffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkBuffer</span>                                    buffer<span style="color: #990000">,</span>
    <span style="color: #008080">VkDeviceSize</span>                                offset<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> is the command buffer into which the command will be
    recorded.
</p>
</li>
<li>
<p>
<code>buffer</code> is the buffer containing dispatch parameters.
</p>
</li>
<li>
<p>
<code>offset</code> is the byte offset into <code>buffer</code> where parameters
    begin.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkCmdDispatchIndirect</code> behaves similarly to <code><a href="#vkCmdDispatch">vkCmdDispatch</a></code> except
that the parameters are read by the device from a buffer during execution.
The parameters of the dispatch are encoded in a
<code><a href="#VkDispatchIndirectCommand">VkDispatchIndirectCommand</a></code> structure taken from <code>buffer</code> starting
at <code>offset</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>buffer</code> is non-sparse then it <span role="normative">must</span> be bound completely and
    contiguously to a single <code>VkDeviceMemory</code> object
</p>
</li>
<li>
<p>
For each set <em>n</em> that is statically used by the <code>VkPipeline</code>
    currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>, a descriptor
    set <span role="normative">must</span> have been bound to <em>n</em> at
    <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>, with a <code>VkPipelineLayout</code> that
    is compatible for set <em>n</em>, with the <code>VkPipelineLayout</code> used to
    create the current <code>VkPipeline</code>, as described in
    <a href="#descriptorsets-compatibility">[descriptorsets-compatibility]</a>
</p>
</li>
<li>
<p>
Descriptors in each bound descriptor set, specified via
    <code>vkCmdBindDescriptorSets</code>, <span role="normative">must</span> be valid if they are statically
    used by the currently bound <code>VkPipeline</code> object, specified via
    <code>vkCmdBindPipeline</code>
</p>
</li>
<li>
<p>
A valid compute pipeline <span role="normative">must</span> be bound to the current command buffer
    with <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>
</p>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> have been created with the
    <code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> bit set
</p>
</li>
<li>
<p>
<code>offset</code> <span role="normative">must</span> be a multiple of <span class="monospaced">4</span>
</p>
</li>
<li>
<p>
The sum of <code>offset</code> and the size of <code>VkDispatchIndirectCommand</code>
    <span role="normative">must</span> be less than or equal to the size of <code>buffer</code>
</p>
</li>
<li>
<p>
For each push constant that is statically used by the <code>VkPipeline</code>
    currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>, a push constant
    value <span role="normative">must</span> have been set for <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>, with
    a <code>VkPipelineLayout</code> that is compatible for push constants with the
    one used to create the current <code>VkPipeline</code>, as described in
    <a href="#descriptorsets-compatibility">[descriptorsets-compatibility]</a>
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>
    uses unnormalized coordinates, it <span role="normative">must</span> not be used to sample from any
    <code>VkImage</code> with a <code>VkImageView</code> of the type
    <code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>,
    <code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
    <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>
    uses unnormalized coordinates, it <span role="normative">must</span> not be used with any of the
    SPIR-V <span class="monospaced">OpImageSample*</span> or <span class="monospaced">OpImageSparseSample*</span> instructions with
    <code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name, in any shader
    stage
</p>
</li>
<li>
<p>
If any <code>VkSampler</code> object that is accessed from a shader by the
    <code>VkPipeline</code> currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>
    uses unnormalized coordinates, it <span role="normative">must</span> not be used with any of the
    SPIR-V <span class="monospaced">OpImageSample*</span> or <span class="monospaced">OpImageSparseSample*</span> instructions that
    includes a LOD bias or any offset values, in any shader stage
</p>
</li>
<li>
<p>
If the <a href="#features-features-robustBufferAccess">robust buffer access</a>
    feature is not enabled, and any shader stage in the <code>VkPipeline</code>
    object currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code> accesses
    a uniform buffer, it <span role="normative">must</span> not access values outside of the range of
    that buffer specified in the currently bound descriptor set
</p>
</li>
<li>
<p>
If the <a href="#features-features-robustBufferAccess">robust buffer access</a>
    feature is not enabled, and any shader stage in the <code>VkPipeline</code>
    object currently bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code> accesses
    a storage buffer, it <span role="normative">must</span> not access values outside of the range of
    that buffer specified in the currently bound descriptor set
</p>
</li>
<li>
<p>
Any <code>VkImageView</code> being sampled with <code>VK_FILTER_LINEAR</code> as a
    result of this command <span role="normative">must</span> be of a format which supports linear
    filtering, as specified by the
    <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in
    <code>VkFormatProperties</code>::<code>linearTilingFeatures</code> (for a linear
    image) or <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code>(for an
    optimally tiled image) returned by
    <code>vkGetPhysicalDeviceFormatProperties</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be a valid <code>VkCommandBuffer</code> handle
</p>
</li>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>commandBuffer</code> <span role="normative">must</span> be in the recording state
</p>
</li>
<li>
<p>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> support compute operations
</p>
</li>
<li>
<p>
This command <span role="normative">must</span> only be called outside of a render pass instance
</p>
</li>
<li>
<p>
Both of <code>buffer</code>, and <code>commandBuffer</code> <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>commandBuffer</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Compute</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Compute</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="paragraph"><p>The <code>VkDispatchIndirectCommand</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDispatchIndirectCommand"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDispatchIndirectCommand</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>    x<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    y<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    z<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDispatchIndirectCommand<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>x</code> is the number of local workgroups to dispatch in the X
    dimension.
</p>
</li>
<li>
<p>
<code>y</code> is the number of local workgroups to dispatch in the Y
    dimension.
</p>
</li>
<li>
<p>
<code>z</code> is the number of local workgroups to dispatch in the Z
    dimension.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The members of <code>VkDispatchIndirectCommand</code> structure have the same
meaning as the similarly named parameters of <code><a href="#vkCmdDispatch">vkCmdDispatch</a></code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>x</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[0]
</p>
</li>
<li>
<p>
<code>y</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[1]
</p>
</li>
<li>
<p>
<code>z</code> <span role="normative">must</span> be less than or equal to
    <code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[2]
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="sparsememory">28. Sparse Resources</h2>
<div class="sectionbody">
<div class="paragraph"><p>As documented in <a href="#resources-association">Resource Memory Association</a>,
<code>VkBuffer</code> and <code>VkImage</code> resources in Vulkan <span role="normative">must</span> be bound
completely and contiguously to a single <code>VkDeviceMemory</code> object.
This binding <span role="normative">must</span> be done before the resource is used, and the binding is
immutable for the lifetime of the resource.</p></div>
<div class="paragraph"><p><em>Sparse resources</em> relax these restrictions and provide these additional
features:</p></div>
<div class="ulist"><ul>
<li>
<p>
Sparse resources <span role="normative">can</span> be bound non-contiguously to one or more
    <code>VkDeviceMemory</code> allocations.
</p>
</li>
<li>
<p>
Sparse resources <span role="normative">can</span> be re-bound to different memory allocations over
    the lifetime of the resource.
</p>
</li>
<li>
<p>
Sparse resources <span role="normative">can</span> have descriptors generated and used orthogonally
    with memory binding commands.
</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="sparsememory-sparseresourcefeatures">28.1. Sparse Resource Features</h3>
<div class="paragraph"><p>Sparse resources have several features that <span role="normative">must</span> be enabled explicitly at
resource creation time.
The features are enabled by including bits in the <code>flags</code> parameter of
<code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code> or <code><a href="#VkBufferCreateInfo">VkBufferCreateInfo</a></code>.
Each feature also has one or more corresponding feature enables specified in
<code><a href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a></code>.</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="#features-features-sparseBinding">Sparse binding</a> is the base feature,
    and provides the following capabilities:
</p>
<div class="ulist"><ul>
<li>
<p>
Resources <span role="normative">can</span> be bound at some defined (sparse block) granularity.
</p>
</li>
<li>
<p>
The entire resource <span role="normative">must</span> be bound to memory before use regardless of
     regions actually accessed.
</p>
</li>
<li>
<p>
No specific mapping of image region to memory offset is defined, i.e.
     the location that each texel corresponds to in memory is
     implementation-dependent.
</p>
</li>
<li>
<p>
Sparse buffers have a well-defined mapping of buffer range to memory
     range, where an offset into a range of the buffer that is bound to a
     single contiguous range of memory corresponds to an identical offset
     within that range of memory.
</p>
</li>
<li>
<p>
Requested via the <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> and
     <code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> bits.
</p>
</li>
<li>
<p>
A sparse image created using <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>
     (but not <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>) supports all
     formats that non-sparse usage supports, and supports both
     <code>VK_IMAGE_TILING_OPTIMAL</code> and <code>VK_IMAGE_TILING_LINEAR</code> tiling.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<em>Sparse Residency</em> builds on (and requires) the <code>sparseBinding</code>
    feature.
    It includes the following capabilities:
</p>
<div class="ulist"><ul>
<li>
<p>
Resources do not have to be completely bound to memory before use on
     the device.
</p>
</li>
<li>
<p>
Images have a prescribed sparse image block layout, allowing specific
     rectangular regions of the image to be bound to specific offsets in
     memory allocations.
</p>
</li>
<li>
<p>
Consistency of access to unbound regions of the resource is defined by
     the absence or presence of
     <code>VkPhysicalDeviceSparseProperties</code>::<code>residencyNonResidentStrict</code>.
     If this property is present, accesses to unbound regions of the
     resource are well defined and behave as if the data bound is populated
     with all zeros; writes are discarded.
     When this property is absent, accesses are considered safe, but reads
     will return undefined values.
</p>
</li>
<li>
<p>
Requested via the <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> and
     <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> bits.
</p>
</li>
<li>
<p>
<a id="features-features-sparseResidency"></a> is
     advertised on a finer grain via the following features:
</p>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<a href="#features-features-sparseResidencyBuffer"><code>sparseResidencyBuffer</code></a>:
      Support for creating <code>VkBuffer</code> objects with the
      <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code>.
</p>
</li>
<li>
<p>
<a href="#features-features-sparseResidencyImage2D"><code>sparseResidencyImage2D</code></a>:
      Support for creating 2D single-sampled <code>VkImage</code> objects with
      <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</p>
</li>
<li>
<p>
<a href="#features-features-sparseResidencyImage3D"><code>sparseResidencyImage3D</code></a>:
      Support for creating 3D <code>VkImage</code> objects with
      <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</p>
</li>
<li>
<p>
<a href="#features-features-sparseResidency2Samples"><code>sparseResidency2Samples</code></a>:
      Support for creating 2D <code>VkImage</code> objects with 2 samples and
      <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</p>
</li>
<li>
<p>
<a href="#features-features-sparseResidency4Samples"><code>sparseResidency4Samples</code></a>:
      Support for creating 2D <code>VkImage</code> objects with 4 samples and
      <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</p>
</li>
<li>
<p>
<a href="#features-features-sparseResidency8Samples"><code>sparseResidency8Samples</code></a>:
      Support for creating 2D <code>VkImage</code> objects with 8 samples and
      <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</p>
</li>
<li>
<p>
<a href="#features-features-sparseResidency16Samples"><code>sparseResidency16Samples</code></a>:
      Support for creating 2D <code>VkImage</code> objects with 16 samples and
      <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Implementations supporting <code>sparseResidencyImage2D</code> are only <span role="normative">required</span>
to support sparse 2D, single-sampled images.
Support is not <span role="normative">required</span> for sparse 3D and MSAA images and is enabled via
<code>sparseResidencyImage3D</code>, <code>sparseResidency2Samples</code>,
<code>sparseResidency4Samples</code>, <code>sparseResidency8Samples</code>, and
<code>sparseResidency16Samples</code>.</p></div>
</div></div>
</li>
<li>
<p>
A sparse image created using <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
     supports all non-compressed color formats with power-of-two element
     size that non-sparse usage supports.
     Additional formats <span role="normative">may</span> also be supported and <span role="normative">can</span> be queried via
     <code><a href="#vkGetPhysicalDeviceSparseImageFormatProperties">vkGetPhysicalDeviceSparseImageFormatProperties</a></code>.
     <code>VK_IMAGE_TILING_LINEAR</code> tiling is not supported.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<a href="#features-features-sparseResidencyAliased">Sparse aliasing</a> provides
    the following capability that <span role="normative">can</span> be enabled per resource:
</p>
<div class="paragraph"><p>Allows physical memory ranges to be shared between multiple locations in the
same sparse resource or between multiple sparse resources, with each binding
of a memory location observing a consistent interpretation of the memory
contents.</p></div>
<div class="paragraph"><p>See <a href="#sparsememory-sparse-memory-aliasing">Sparse Memory Aliasing</a> for more
information.</p></div>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="sparsememory-fully-resident">28.2. Sparse Buffers and Fully-Resident Images</h3>
<div class="paragraph"><p>Both <code>VkBuffer</code> and <code>VkImage</code> objects created with the
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> or
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> bits <span role="normative">can</span> be thought of as a
linear region of address space.
In the <code>VkImage</code> case if <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> is
not used, this linear region is entirely opaque, meaning that there is no
application-visible mapping between pixel location and memory offset.</p></div>
<div class="paragraph"><p>Unless <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> or
<code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> are also used, the entire
resource <span role="normative">must</span> be bound to one or more <code>VkDeviceMemory</code> objects before
use.</p></div>
<div class="sect3">
<h4 id="_sparse_buffer_and_fully_resident_image_block_size">28.2.1. Sparse Buffer and Fully-Resident Image Block Size</h4>
<div class="paragraph"><p>The sparse block size in bytes for sparse buffers and fully-resident images
is reported as <code>VkMemoryRequirements</code>::<code>alignment</code>.
<code>alignment</code> represents both the memory alignment requirement and the
binding granularity (in bytes) for sparse resources.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="sparsememory-partially-resident-buffers">28.3. Sparse Partially-Resident Buffers</h3>
<div class="paragraph"><p><code>VkBuffer</code> objects created with the
<code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> bit allow the buffer to be made
only partially resident.
Partially resident <code>VkBuffer</code> objects are allocated and bound
identically to <code>VkBuffer</code> objects using only the
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> feature.
The only difference is the ability for some regions of the buffer to be
unbound during device use.</p></div>
</div>
<div class="sect2">
<h3 id="sparsememory-partially-resident-images">28.4. Sparse Partially-Resident Images</h3>
<div class="paragraph"><p><code>VkImage</code> objects created with the
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> bit allow specific rectangular
regions of the image called sparse image blocks to be bound to specific
ranges of memory.
This allows the application to manage residency at either image subresource
or sparse image block granularity.
Each image subresource (outside of the <a href="#sparsememory-miptail">mip tail</a>)
starts on a sparse block boundary and has dimensions that are integer
multiples of the corresponding dimensions of the sparse image block.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Applications <span role="normative">can</span> use these types of images to control level-of-detail based
on total memory consumption.
If memory pressure becomes an issue the application <span role="normative">can</span> unbind and disable
specific mipmap levels of images without having to recreate resources or
modify pixel data of unaffected levels.</p></div>
<div class="paragraph"><p>The application <span role="normative">can</span> also use this functionality to access subregions of the
image in a &#8220;megatexture&#8221; fashion.
The application <span role="normative">can</span> create a large image and only populate the region of
the image that is currently being used in the scene.</p></div>
</td>
</tr></table>
</div>
<div class="sect3">
<h4 id="sparsememory-accessing-unbound">28.4.1. Accessing Unbound Regions</h4>
<div class="paragraph"><p>The following member of <code>VkPhysicalDeviceSparseProperties</code> affects how
data in unbound regions of sparse resources are handled by the
implementation:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>residencyNonResidentStrict</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>If this property is not present, reads of unbound regions of the image will
return undefined values.
Both reads and writes are still considered <em>safe</em> and will not affect other
resources or populated regions of the image.</p></div>
<div class="paragraph"><p>If this property is present, all reads of unbound regions of the image will
behave as if the region was bound to memory populated with all zeros; writes
will be discarded.</p></div>
<div class="paragraph"><p>Formatted accesses to unbound memory <span role="normative">may</span> still alter some component values
in the natural way for those accesses, e.g. substituting a value of one for
alpha in formats that do not have an alpha component.</p></div>
<div class="exampleblock">
<div class="content">
<div class="paragraph"><p>Example: Reading the alpha component of an unbacked <code>VK_FORMAT_R8_UNORM</code>
image will return a value of <span class="eq">1.0f</span>.</p></div>
</div></div>
<div class="paragraph"><p>See <a href="#devsandqueues-physical-device-enumeration">Physical Device Enumeration</a> for instructions for retrieving physical device properties.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Implementor&#8217;s Note</div>
<div class="paragraph"><p>For hardware that <span role="normative">cannot</span> natively handle access to unbound regions of a
resource, the implementation <span role="normative">may</span> allocate and bind memory to the unbound
regions.
Reads and writes to unbound regions will access the implementation-managed
memory instead of causing a hardware fault.</p></div>
<div class="paragraph"><p>Given that reads of unbound regions are undefined in this scenario,
implementations <span role="normative">may</span> use the same physical memory for unbound regions of
multiple resources within the same process.</p></div>
</div></div>
</div>
<div class="sect3">
<h4 id="sparsememory-miptail">28.4.2. Mip Tail Regions</h4>
<div class="paragraph"><p>Sparse images created using <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>
(without also using <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>) have no
specific mapping of image region or image subresource to memory offset
defined, so the entire image <span role="normative">can</span> be thought of as a linear opaque address
region.
However, images created with <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> do
have a prescribed sparse image block layout, and hence each image
subresource <span role="normative">must</span> start on a sparse block boundary.
Within each array layer, the set of mip levels that have a smaller size than
the sparse block size in bytes are grouped together into a <em>mip tail
region</em>.</p></div>
<div class="paragraph"><p>If the <code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> flag is present in
the <code>flags</code> member of <code>VkSparseImageFormatProperties</code>, for the
image&#8217;s <code>format</code>, then any mip level which has dimensions that are not
integer multiples of the corresponding dimensions of the sparse image block,
and all subsequent mip levels, are also included in the mip tail region.</p></div>
<div class="paragraph"><p>The following member of <code>VkPhysicalDeviceSparseProperties</code> <span role="normative">may</span> affect
how the implementation places mip levels in the mip tail region:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>residencyAlignedMipSize</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Each mip tail region is bound to memory as an opaque region (i.e. <span role="normative">must</span> be
bound using a <code><a href="#VkSparseImageOpaqueMemoryBindInfo">VkSparseImageOpaqueMemoryBindInfo</a></code> structure) and <span role="normative">may</span> be
of a size greater than or equal to the sparse block size in bytes.
This size is guaranteed to be an integer multiple of the sparse block size
in bytes.</p></div>
<div class="paragraph"><p>An implementation <span role="normative">may</span> choose to allow each array-layer&#8217;s mip tail region to
be bound to memory independently or require that all array-layer&#8217;s mip tail
regions be treated as one.
This is dictated by <code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> in
<code>VkSparseImageMemoryRequirements</code>::<code>flags</code>.</p></div>
<div class="paragraph"><p>The following diagrams depict how
<code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> and
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> alter memory usage and
requirements.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/sparseimage.svg" alt="images/sparseimage.svg">
</div>
<div class="title">Figure 13. Sparse Image</div>
</div>
<div class="paragraph"><p>In the absence of <code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> and
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code>, each array layer contains a
mip tail region containing pixel data for all mip levels smaller than the
sparse image block in any dimension.</p></div>
<div class="paragraph"><p>Mip levels that are as large or larger than a sparse image block in all
dimensions <span role="normative">can</span> be bound individually.
Right-edges and bottom-edges of each level are allowed to have partially
used sparse blocks.
Any bound partially-used-sparse-blocks <span role="normative">must</span> still have their full sparse
block size in bytes allocated in memory.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/sparseimage_singlemiptail.svg" alt="images/sparseimage_singlemiptail.svg">
</div>
<div class="title">Figure 14. Sparse Image with Single Mip Tail</div>
</div>
<div class="paragraph"><p>When <code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> is present all array
layers will share a single mip tail region.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/sparseimage_alignedmipsize.svg" alt="images/sparseimage_alignedmipsize.svg">
</div>
<div class="title">Figure 15. Sparse Image with Aligned Mip Size</div>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The mip tail regions are presented here in 2D arrays simply for figure size
reasons.
Each mip tail is logically a single array of sparse blocks with an
implementation-dependent mapping of pixels to sparse blocks.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>When <code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> is present the first
mip level that would contain partially used sparse blocks begins the mip
tail region.
This level and all subsequent levels are placed in the mip tail.
Only the first <span class="eq">N</span> mip levels whose dimensions are an exact multiple of
the sparse image block dimensions <span role="normative">can</span> be bound and unbound on a sparse
block basis.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/sparseimage_alignedmipsize_singlemiptail.svg" alt="images/sparseimage_alignedmipsize_singlemiptail.svg">
</div>
<div class="title">Figure 16. Sparse Image with Aligned Mip Size and Single Mip Tail</div>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The mip tail region is presented here in a 2D array simply for figure size
reasons.
It is logically a single array of sparse blocks with an
implementation-dependent mapping of pixels to sparse blocks.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>When both <code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> and
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> are present the constraints
from each of these flags are in effect.</p></div>
</div>
<div class="sect3">
<h4 id="sparsememory-standard-shapes">28.4.3. Standard Sparse Image Block Shapes</h4>
<div class="paragraph"><p>Standard sparse image block shapes define a standard set of dimensions for
sparse image blocks that depend on the format of the image.
Layout of pixels within a sparse image block is implementation dependent.
All currently defined standard sparse image block shapes are 64 KB in size.</p></div>
<div class="paragraph"><p>For block-compressed formats (e.g. <code>VK_FORMAT_BC5_UNORM_BLOCK</code>), the
pixel size is the size of the compressed texel block (128-bit for <code>BC5</code>)
thus the dimensions of the standard sparse image block shapes apply in terms
of compressed texel blocks.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>For block-compressed formats, the dimensions of a sparse image block in
terms of texels <span role="normative">can</span> be calculated by multiplying the sparse image block
dimensions by the compressed texel block dimensions.</p></div>
</td>
</tr></table>
</div>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all" id="sparsememory-sparseblockshapessingle"
style="
width:100%;
">
<caption class="title">Table 29. Standard Sparse Image Block Shapes (Single Sample)</caption>
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > PIXEL SIZE (bits) </th>
<th class="tableblock halign-left valign-top" > Block Shape (2D)              </th>
<th class="tableblock halign-left valign-top" > Block Shape (3D)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>8-Bit</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">256 &#x00d7; 256 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64 &#x00d7; 32 &#x00d7; 32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>16-Bit</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">256 &#x00d7; 128 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">32 &#x00d7; 32 &#x00d7; 32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>32-Bit</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">128 &#x00d7; 128 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">32 &#x00d7; 32 &#x00d7; 16</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>64-Bit</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">128 &#x00d7; 64 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">32 &#x00d7; 16 &#x00d7; 16</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>128-Bit</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64 &#x00d7; 64 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">16 &#x00d7; 16 &#x00d7; 16</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" id="sparsememory-sparseblockshapesmsaa"
style="
width:100%;
">
<caption class="title">Table 30. Standard Sparse Image Block Shapes (MSAA)</caption>
<col style="width:20%;">
<col style="width:20%;">
<col style="width:20%;">
<col style="width:20%;">
<col style="width:20%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > PIXEL SIZE (bits)</th>
<th class="tableblock halign-left valign-top" > Block Shape (2X)            </th>
<th class="tableblock halign-left valign-top" > Block Shape (4X)             </th>
<th class="tableblock halign-left valign-top" > Block Shape (8X)             </th>
<th class="tableblock halign-left valign-top" > Block Shape (16X)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>8-Bit</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">128 &#x00d7; 256 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">128 &#x00d7; 128 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64 &#x00d7; 128 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64 &#x00d7; 64 &#x00d7; 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>16-Bit</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">128 &#x00d7; 128 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">128 &#x00d7; 64 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64 &#x00d7; 64 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64 &#x00d7; 32 &#x00d7; 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>32-Bit</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64 &#x00d7; 128 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64 &#x00d7; 64 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">32 &#x00d7; 64 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">32 &#x00d7; 32 &#x00d7; 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>64-Bit</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64 &#x00d7; 64 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64 &#x00d7; 32 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">32 &#x00d7; 32 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">32 &#x00d7; 16 &#x00d7; 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>128-Bit</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">32 &#x00d7; 64 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">32 &#x00d7; 32 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">16 &#x00d7; 32 &#x00d7; 1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">16 &#x00d7; 16 &#x00d7; 1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Implementations that support the standard sparse image block shape for all
applicable formats <span role="normative">may</span> advertise the following
<code>VkPhysicalDeviceSparseProperties</code>:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>residencyStandard2DBlockShape</code>
</p>
</li>
<li>
<p>
<code>residencyStandard2DMultisampleBlockShape</code>
</p>
</li>
<li>
<p>
<code>residencyStandard3DBlockShape</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Reporting each of these features does <em>not</em> imply that all possible image
types are supported as sparse.
Instead, this indicates that no supported sparse image of the corresponding
type will use custom sparse image block dimensions for any formats that have
a corresponding standard sparse image block shape.</p></div>
</div>
<div class="sect3">
<h4 id="sparsememory-custom-shapes">28.4.4. Custom Sparse Image Block Shapes</h4>
<div class="paragraph"><p>An implementation that does not support a standard image block shape for a
particular sparse partially-resident image <span role="normative">may</span> choose to support a custom
sparse image block shape for it instead.
The dimensions of such a custom sparse image block shape are reported in
<code>VkSparseImageFormatProperties</code>::<code>imageGranularity</code>.
As with standard sparse image block shapes, the size in bytes of the custom
sparse image block shape will be reported in
<code>VkMemoryRequirements</code>::<code>alignment</code>.</p></div>
<div class="paragraph"><p>Custom sparse image block dimensions are reported through
<code>vkGetPhysicalDeviceSparseImageFormatProperties</code> and
<code>vkGetImageSparseMemoryRequirements</code>.</p></div>
<div class="paragraph"><p>An implementation <span role="normative">must</span> not support both the standard sparse image block
shape and a custom sparse image block shape for the same image.
The standard sparse image block shape <span role="normative">must</span> be used if it is supported.</p></div>
</div>
<div class="sect3">
<h4 id="sparsememory-multiaspect">28.4.5. Multiple Aspects</h4>
<div class="paragraph"><p>Partially resident images are allowed to report separate sparse properties
for different aspects of the image.
One example is for depth/stencil images where the implementation separates
the depth and stencil data into separate planes.
Another reason for multiple aspects is to allow the application to manage
memory allocation for implementation-private <em>metadata</em> associated with the
image.
See the figure below:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/sparseimage_multiaspect.svg" alt="images/sparseimage_multiaspect.svg">
</div>
<div class="title">Figure 17. Multiple Aspect Sparse Image</div>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The mip tail regions are presented here in 2D arrays simply for figure size
reasons.
Each mip tail is logically a single array of sparse blocks with an
implementation-dependent mapping of pixels to sparse blocks.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>In the figure above the depth, stencil, and metadata aspects all have unique
sparse properties.
The per-pixel stencil data is <span class="eq">&#x00bc;</span> the size of the depth data,
hence the stencil sparse blocks include <span class="eq">4 &#x00d7;</span> the number of
pixels.
The sparse block size in bytes for all of the aspects is identical and
defined by <code>VkMemoryRequirements</code>::<code>alignment</code>.</p></div>
<div class="sect4">
<h5 id="_metadata">Metadata</h5>
<div class="paragraph"><p>The metadata aspect of an image has the following constraints:</p></div>
<div class="ulist"><ul>
<li>
<p>
All metadata is reported in the mip tail region of the metadata aspect.
</p>
</li>
<li>
<p>
All metadata <span role="normative">must</span> be bound prior to device use of the sparse image.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sparsememory-sparse-memory-aliasing">28.5. Sparse Memory Aliasing</h3>
<div class="paragraph"><p>By default sparse resources have the same aliasing rules as non-sparse
resources.
See <a href="#resources-memory-aliasing">Memory Aliasing</a> for more information.</p></div>
<div class="paragraph"><p><code>VkDevice</code> objects that have the
<a href="#features-features-sparseResidencyAliased">sparseResidencyAliased</a> feature
enabled are able to use the <code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code> and
<code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> flags for resource creation.
These flags allow resources to access physical memory bound into multiple
locations within one or more sparse resources in a <em>data consistent</em>
fashion.
This means that reading physical memory from multiple aliased locations will
return the same value.</p></div>
<div class="paragraph"><p>Care <span role="normative">must</span> be taken when performing a write operation to aliased physical
memory.
Memory dependencies <span role="normative">must</span> be used to separate writes to one alias from reads
or writes to another alias.
Writes to aliased memory that are not properly guarded against accesses to
different aliases will have undefined results for all accesses to the
aliased memory.</p></div>
<div class="paragraph"><p>Applications that wish to make use of data consistent sparse memory aliasing
<span role="normative">must</span> abide by the following guidelines:</p></div>
<div class="ulist"><ul>
<li>
<p>
All sparse resources that are bound to aliased physical memory <span role="normative">must</span> be
    created with the <code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code> /
    <code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> flag.
</p>
</li>
<li>
<p>
All resources that access aliased physical memory <span role="normative">must</span> interpret the
    memory in the same way.
    This implies the following:
</p>
<div class="ulist"><ul>
<li>
<p>
Buffers and images <span role="normative">cannot</span> alias the same physical memory in a data
     consistent fashion.
     The physical memory ranges <span role="normative">must</span> be used exclusively by buffers or used
     exclusively by images for data consistency to be guaranteed.
</p>
</li>
<li>
<p>
Memory in sparse image mip tail regions <span role="normative">cannot</span> access aliased memory
     in a data consistent fashion.
</p>
</li>
<li>
<p>
Sparse images that alias the same physical memory <span role="normative">must</span> have compatible
     formats and be using the same sparse image block shape in order to
     access aliased memory in a data consistent fashion.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>Failure to follow any of the above guidelines will require the application
to abide by the normal, non-sparse resource <a href="#resources-memory-aliasing">aliasing rules</a>.
In this case memory <span role="normative">cannot</span> be accessed in a data consistent fashion.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Enabling sparse resource memory aliasing <span role="normative">can</span> be a way to lower physical
memory use, but it <span role="normative">may</span> reduce performance on some implementations.
An application developer <span role="normative">can</span> test on their target HW and balance the memory
/ performance trade-offs measured.</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_sparse_resource_implementation_guidelines">28.6. Sparse Resource Implementation Guidelines</h3>
<div class="sidebarblock">
<div class="content">
<div class="paragraph"><p>This section is Informative.
It is included to aid in implementors' understanding of sparse resources.</p></div>
<div class="paragraph"><div class="title">Device Virtual Address</div><p>The basic <code>sparseBinding</code> feature allows the resource to reserve its own
device virtual address range at resource creation time rather than relying
on a bind operation to set this.
Without any other creation flags, no other constraints are relaxed compared
to normal resources.
All pages <span role="normative">must</span> be bound to physical memory before the device accesses the
resource.</p></div>
<div class="paragraph"><p>The <a href="#features-features-sparseResidency">sparse residency</a> features allow
sparse resources to be used even when not all pages are bound to memory.
Hardware that supports access to unbound pages without causing a fault <span role="normative">may</span>
support <code>residencyNonResidentStrict</code>.</p></div>
<div class="paragraph"><p>Not faulting on access to unbound pages is not enough to support
<code>sparseResidencyNonResidentStrict</code>.
An implementation <span role="normative">must</span> also guarantee that reads after writes to unbound
regions of the resource always return data for the read as if the memory
contains zeros.
Depending on the cache implementation of the hardware this <span role="normative">may</span> not always
be possible.</p></div>
<div class="paragraph"><p>Hardware that does not fault, but does not guarantee correct read values
will not require dummy pages, but also <span role="normative">must</span> not support
<code>sparseResidencyNonResidentStrict</code>.</p></div>
<div class="paragraph"><p>Hardware that <span role="normative">cannot</span> access unbound pages without causing a fault will
require the implementation to bind the entire device virtual address range
to physical memory.
Any pages that the application does not bind to memory <span role="normative">may</span> be bound to one
(or more) &#8220;dummy&#8221; physical page(s) allocated by the implementation.
Given the following properties:</p></div>
<div class="ulist"><ul>
<li>
<p>
A process <span role="normative">must</span> not access memory from another process
</p>
</li>
<li>
<p>
Reads return undefined values
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is sufficient for each host process to allocate these dummy pages and use
them for all resources in that process.
Implementations <span role="normative">may</span> allocate more often (per instance, per device, or per
resource).</p></div>
<div class="paragraph"><div class="title">Binding Memory</div><p>The byte size reported in <code>VkMemoryRequirements</code>::<code>size</code> <span role="normative">must</span> be
greater than or equal to the amount of physical memory <span role="normative">required</span> to fully
populate the resource.
Some hardware requires &#8220;holes&#8221; in the device virtual address range that
are never accessed.
These holes <span role="normative">may</span> be included in the <code>size</code> reported for the resource.</p></div>
<div class="paragraph"><p>Including or not including the device virtual address holes in the resource
size will alter how the implementation provides support for
<code>VkSparseImageOpaqueMemoryBindInfo</code>.
This operation <span role="normative">must</span> be supported for all sparse images, even ones created
with <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p></div>
<div class="ulist"><ul>
<li>
<p>
If the holes are included in the size, this bind function becomes very
    easy.
    In most cases the <code>resourceOffset</code> is simply a device virtual
    address offset and the implementation does not require any sophisticated
    logic to determine what device virtual address to bind.
    The cost is that the application <span role="normative">can</span> allocate more physical memory for
    the resource than it needs.
</p>
</li>
<li>
<p>
If the holes are not included in the size, the application <span role="normative">can</span> allocate
    less physical memory than otherwise for the resource.
    However, in this case the implementation <span role="normative">must</span> account for the holes
    when mapping <code>resourceOffset</code> to the actual device virtual address
    intended to be mapped.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>If the application always uses <code>VkSparseImageMemoryBindInfo</code> to bind
memory for the non-tail mip levels, any holes that are present in the
resource size <span role="normative">may</span> never be bound.</p></div>
<div class="paragraph"><p>Since <code>VkSparseImageMemoryBindInfo</code> uses pixel locations to determine
which device virtual addresses to bind, it is impossible to bind device
virtual address holes with this operation.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Binding Metadata Memory</div><p>All metadata for sparse images have their own sparse properties and are
embedded in the mip tail region for said properties.
See the <a href="#sparsememory-multiaspect">Multiaspect</a> section for details.</p></div>
<div class="paragraph"><p>Given that metadata is in a mip tail region, and the mip tail region <span role="normative">must</span>
be reported as contiguous (either globally or per-array-layer), some
implementations will have to resort to complicated offset &#8594; device virtual
address mapping for handling <code>VkSparseImageOpaqueMemoryBindInfo</code>.</p></div>
<div class="paragraph"><p>To make this easier on the implementation, the
<code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code> explicitly denotes when metadata is
bound with <code>VkSparseImageOpaqueMemoryBindInfo</code>.
When this flag is not present, the <code>resourceOffset</code> <span role="normative">may</span> be treated as a
strict device virtual address offset.</p></div>
<div class="paragraph"><p>When <code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code> is present, the
<code>resourceOffset</code> <span role="normative">must</span> have been derived explicitly from the
<code>imageMipTailOffset</code> in the sparse resource properties returned for the
metadata aspect.
By manipulating the value returned for <code>imageMipTailOffset</code>, the
<code>resourceOffset</code> does not have to correlate directly to a device virtual
address offset, and <span role="normative">may</span> instead be whatever values makes it easiest for the
implementation to derive the correct device virtual address.</p></div>
</div></div>
</div>
<div class="sect2">
<h3 id="sparsememory-resourceapi">28.7. Sparse Resource API</h3>
<div class="paragraph"><p>The APIs related to sparse resources are grouped into the following
categories:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="#sparsememory-physicalfeatures">Physical Device Features</a>
</p>
</li>
<li>
<p>
<a href="#sparsememory-physicalprops">Physical Device Sparse Properties</a>
</p>
</li>
<li>
<p>
<a href="#sparsememory-format-props">Sparse Image Format Properties</a>
</p>
</li>
<li>
<p>
<a href="#sparsememory-resource-creation">Sparse Resource Creation</a>
</p>
</li>
<li>
<p>
<a href="#sparsememory-memory-requirements">Sparse Resource Memory Requirements</a>
</p>
</li>
<li>
<p>
<a href="#sparsememory-resource-binding">Binding Resource Memory</a>
</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="sparsememory-physicalfeatures">28.7.1. Physical Device Features</h4>
<div class="paragraph"><p>Some sparse-resource related features are reported and enabled in
<code>VkPhysicalDeviceFeatures</code>.
These features <span role="normative">must</span> be supported and enabled on the <code>VkDevice</code> object
before applications <span role="normative">can</span> use them.
See <a href="#features-features">Physical Device Features</a> for information on how to
get and set enabled device features, and for more detailed explanations of
these features.</p></div>
<div class="sect4">
<h5 id="_sparse_physical_device_features">Sparse Physical Device Features</h5>
<div class="ulist"><ul>
<li>
<p>
<code>sparseBinding</code>: Support for creating <code>VkBuffer</code> and
    <code>VkImage</code> objects with the <code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code>
    and <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flags, respectively.
</p>
</li>
<li>
<p>
<code>sparseResidencyBuffer</code>: Support for creating <code>VkBuffer</code> objects
    with the <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> flag.
</p>
</li>
<li>
<p>
<code>sparseResidencyImage2D</code>: Support for creating 2D single-sampled
    <code>VkImage</code> objects with <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</p>
</li>
<li>
<p>
<code>sparseResidencyImage3D</code>: Support for creating 3D <code>VkImage</code>
    objects with <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</p>
</li>
<li>
<p>
<code>sparseResidency2Samples</code>: Support for creating 2D <code>VkImage</code>
    objects with 2 samples and <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</p>
</li>
<li>
<p>
<code>sparseResidency4Samples</code>: Support for creating 2D <code>VkImage</code>
    objects with 4 samples and <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</p>
</li>
<li>
<p>
<code>sparseResidency8Samples</code>: Support for creating 2D <code>VkImage</code>
    objects with 8 samples and <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</p>
</li>
<li>
<p>
<code>sparseResidency16Samples</code>: Support for creating 2D <code>VkImage</code>
    objects with 16 samples and <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</p>
</li>
<li>
<p>
<code>sparseResidencyAliased</code>: Support for creating <code>VkBuffer</code> and
    <code>VkImage</code> objects with the <code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code>
    and <code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> flags, respectively.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-physicalprops">28.7.2. Physical Device Sparse Properties</h4>
<div class="paragraph"><p>Some features of the implementation are not possible to disable, and are
reported to allow applications to alter their sparse resource usage
accordingly.
These read-only capabilities are reported in the
<code><a href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a></code>::<code>sparseProperties</code> member, which is a
structure of type <code>VkPhysicalDeviceSparseProperties</code>.</p></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceSparseProperties</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPhysicalDeviceSparseProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPhysicalDeviceSparseProperties</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkBool32</span>    residencyStandard2DBlockShape<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    residencyStandard2DMultisampleBlockShape<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    residencyStandard3DBlockShape<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    residencyAlignedMipSize<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    residencyNonResidentStrict<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPhysicalDeviceSparseProperties<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>residencyStandard2DBlockShape</code> is <code>VK_TRUE</code> if the physical
    device will access all single-sample 2D sparse resources using the
    standard sparse image block shapes (based on image format), as described
    in the <a href="#sparsememory-sparseblockshapessingle">Standard Sparse Image     Block Shapes (Single Sample)</a> table.
    If this property is not supported the value returned in the
    <code>imageGranularity</code> member of the <code>VkSparseImageFormatProperties</code>
    structure for single-sample 2D images is not <span role="normative">required</span> to match the
    standard sparse image block dimensions listed in the table.
</p>
</li>
<li>
<p>
<code>residencyStandard2DMultisampleBlockShape</code> is <code>VK_TRUE</code> if the
    physical device will access all multisample 2D sparse resources using
    the standard sparse image block shapes (based on image format), as
    described in the <a href="#sparsememory-sparseblockshapesmsaa">Standard Sparse     Image Block Shapes (MSAA)</a> table.
    If this property is not supported, the value returned in the
    <code>imageGranularity</code> member of the <code>VkSparseImageFormatProperties</code>
    structure for multisample 2D images is not <span role="normative">required</span> to match the
    standard sparse image block dimensions listed in the table.
</p>
</li>
<li>
<p>
<code>residencyStandard3DBlockShape</code> is <code>VK_TRUE</code> if the physical
    device will access all 3D sparse resources using the standard sparse
    image block shapes (based on image format), as described in the
    <a href="#sparsememory-sparseblockshapessingle">Standard Sparse Image Block     Shapes (Single Sample)</a> table.
    If this property is not supported, the value returned in the
    <code>imageGranularity</code> member of the <code>VkSparseImageFormatProperties</code>
    structure for 3D images is not <span role="normative">required</span> to match the standard sparse
    image block dimensions listed in the table.
</p>
</li>
<li>
<p>
<code>residencyAlignedMipSize</code> is <code>VK_TRUE</code> if images with mip level
    dimensions that are not integer multiples of the corresponding
    dimensions of the sparse image block <span role="normative">may</span> be placed in the mip tail.
    If this property is not reported, only mip levels with dimensions
    smaller than the <code>imageGranularity</code> member of the
    <code>VkSparseImageFormatProperties</code> structure will be placed in the mip
    tail.
    If this property is reported the implementation is allowed to return
    <code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> in the <code>flags</code>
    member of <code>VkSparseImageFormatProperties</code>, indicating that mip level
    dimensions that are not integer multiples of the corresponding
    dimensions of the sparse image block will be placed in the mip tail.
</p>
</li>
<li>
<p>
<code>residencyNonResidentStrict</code> specifies whether the physical device
    <span role="normative">can</span> consistently access non-resident regions of a resource.
    If this property is <code>VK_TRUE</code>, access to non-resident regions of
    resources will be guaranteed to return values as if the resource were
    populated with 0; writes to non-resident regions will be discarded.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="sparsememory-format-props">28.7.3. Sparse Image Format Properties</h4>
<div class="paragraph"><p>Given that certain aspects of sparse image support, including the sparse
image block dimensions, <span role="normative">may</span> be implementation-dependent,
<code><a href="#vkGetPhysicalDeviceSparseImageFormatProperties">vkGetPhysicalDeviceSparseImageFormatProperties</a></code> <span role="normative">can</span> be used to query
for sparse image format properties prior to resource creation.
This command is used to check whether a given set of sparse image parameters
is supported and what the sparse image block shape will be.</p></div>
<div class="sect4">
<h5 id="_sparse_image_format_properties_api">Sparse Image Format Properties API</h5>
<div class="paragraph"><p>The <code>VkSparseImageFormatProperties</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSparseImageFormatProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSparseImageFormatProperties</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkImageAspectFlags</span>          aspectMask<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent3D</span>                  imageGranularity<span style="color: #990000">;</span>
    <span style="color: #008080">VkSparseImageFormatFlags</span>    flags<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSparseImageFormatProperties<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>aspectMask</code> is a bitmask of <code><a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code> specifying
    which aspects of the image the properties apply to.
</p>
</li>
<li>
<p>
<code>imageGranularity</code> is the width, height, and depth of the sparse
    image block in texels or compressed texel blocks.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask specifying additional information about the
    sparse resource.
    Bits which <span role="normative">can</span> be set include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkSparseImageFormatFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkSparseImageFormatFlagBits <span style="color: #FF0000">{</span>
    VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_SPARSE_IMAGE_FORMAT_NONSTANDARD_BLOCK_SIZE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkSparseImageFormatFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="ulist"><ul>
<li>
<p>
If <code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> is set, the image
     uses a single mip tail region for all array layers.
</p>
</li>
<li>
<p>
If <code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> is set, the first
     mip level whose dimensions are not integer multiples of the
     corresponding dimensions of the sparse image block begins the mip tail
     region.
</p>
</li>
<li>
<p>
If <code>VK_SPARSE_IMAGE_FORMAT_NONSTANDARD_BLOCK_SIZE_BIT</code> is set, the
     image uses non-standard sparse image block dimensions, and the
     <code>imageGranularity</code> values do not match the standard sparse image
     block dimensions for the given pixel format.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p><code>vkGetPhysicalDeviceSparseImageFormatProperties</code> returns an array of
<code><a href="#VkSparseImageFormatProperties">VkSparseImageFormatProperties</a></code>.
Each element will describe properties for one set of image aspects that are
bound simultaneously in the image.
This is usually one element for each aspect in the image, but for
interleaved depth/stencil images there is only one element describing the
combined aspects.</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceSparseImageFormatProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceSparseImageFormatProperties</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">VkFormat</span>                                    format<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageType</span>                                 type<span style="color: #990000">,</span>
    <span style="color: #008080">VkSampleCountFlagBits</span>                       samples<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageUsageFlags</span>                           usage<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageTiling</span>                               tiling<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pPropertyCount<span style="color: #990000">,</span>
    VkSparseImageFormatProperties<span style="color: #990000">*</span>              pProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device from which to query the
    sparse image capabilities.
</p>
</li>
<li>
<p>
<code>format</code> is the image format.
</p>
</li>
<li>
<p>
<code>type</code> is the dimensionality of image.
</p>
</li>
<li>
<p>
<code>samples</code> is the number of samples per pixel as defined in
    <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code>.
</p>
</li>
<li>
<p>
<code>usage</code> is a bitmask describing the intended usage of the image.
</p>
</li>
<li>
<p>
<code>tiling</code> is the tiling arrangement of the data elements in memory.
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> is a pointer to an integer related to the number of
    sparse format properties available or queried, as described below.
</p>
</li>
<li>
<p>
<code>pProperties</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code><a href="#VkSparseImageFormatProperties">VkSparseImageFormatProperties</a></code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pProperties</code> is <span class="monospaced">NULL</span>, then the number of sparse format properties
available is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <span role="normative">must</span> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If <code>pPropertyCount</code> is less than the number of sparse format properties
available, at most <code>pPropertyCount</code> structures will be written.</p></div>
<div class="paragraph"><p>If <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> is not supported for the given
arguments, <code>pPropertyCount</code> will be set to zero upon return, and no data
will be written to <code>pProperties</code>.</p></div>
<div class="paragraph"><p>Multiple aspects are returned for depth/stencil images that are implemented
as separate planes by the implementation.
The depth and stencil data planes each have unique
<code>VkSparseImageFormatProperties</code> data.</p></div>
<div class="paragraph"><p>Depth/stencil images with depth and stencil data interleaved into a single
plane will return a single <code>VkSparseImageFormatProperties</code> structure
with the <code>aspectMask</code> set to <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> |
<code>VK_IMAGE_ASPECT_STENCIL_BIT</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>samples</code> <span role="normative">must</span> be a bit value that is set in
    <code>VkImageFormatProperties</code>::<code>sampleCounts</code> returned by
    <code>vkGetPhysicalDeviceImageFormatProperties</code> with <code>format</code>,
    <code>type</code>, <code>tiling</code>, and <code>usage</code> equal to those in this command
    and <code>flags</code> equal to the value that is set in
    <code>VkImageCreateInfo</code>::<code>flags</code> when the image is created
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>format</code> <span role="normative">must</span> be a valid <code><a href="#VkFormat">VkFormat</a></code> value
</p>
</li>
<li>
<p>
<code>type</code> <span role="normative">must</span> be a valid <code><a href="#VkImageType">VkImageType</a></code> value
</p>
</li>
<li>
<p>
<code>samples</code> <span role="normative">must</span> be a valid <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> value
</p>
</li>
<li>
<p>
<code>usage</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>usage</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>tiling</code> <span role="normative">must</span> be a valid <code><a href="#VkImageTiling">VkImageTiling</a></code> value
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pPropertyCount</code> is not <span class="monospaced">0</span>, and <code>pProperties</code> is not <span class="monospaced">NULL</span>, <code>pProperties</code> <span role="normative">must</span> be a pointer to an array of <code>pPropertyCount</code> <code>VkSparseImageFormatProperties</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p><code>vkGetPhysicalDeviceSparseImageFormatProperties2KHR</code> returns an array of
<code><a href="#VkSparseImageFormatProperties2KHR">VkSparseImageFormatProperties2KHR</a></code>.
Each element will describe properties for one set of image aspects that are
bound simultaneously in the image.
This is usually one element for each aspect in the image, but for
interleaved depth/stencil images there is only one element describing the
combined aspects.</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceSparseImageFormatProperties2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceSparseImageFormatProperties2KHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPhysicalDeviceSparseImageFormatInfo2KHR<span style="color: #990000">*</span> pFormatInfo<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pPropertyCount<span style="color: #990000">,</span>
    VkSparseImageFormatProperties2KHR<span style="color: #990000">*</span>          pProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device from which to query the
    sparse image capabilities.
</p>
</li>
<li>
<p>
<code>pFormatInfo</code> is a pointer to a structure of type
    <code><a href="#VkPhysicalDeviceSparseImageFormatInfo2KHR">VkPhysicalDeviceSparseImageFormatInfo2KHR</a></code> containing input
    parameters to the command.
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> is a pointer to an integer related to the number of
    sparse format properties available or queried, as described below.
</p>
</li>
<li>
<p>
<code>pProperties</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code><a href="#VkSparseImageFormatProperties2KHR">VkSparseImageFormatProperties2KHR</a></code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkGetPhysicalDeviceSparseImageFormatProperties2KHR</code> behaves identically
to <code><a href="#vkGetPhysicalDeviceSparseImageFormatProperties">vkGetPhysicalDeviceSparseImageFormatProperties</a></code>, with the ability to
return extended information via chained output structures.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>samples</code> <span role="normative">must</span> be a bit value that is set in
    <code>VkImageFormatProperties</code>::<code>sampleCounts</code> returned by
    <code>vkGetPhysicalDeviceImageFormatProperties</code> with <code>format</code>,
    <code>type</code>, <code>tiling</code>, and <code>usage</code> equal to those in this command
    and <code>flags</code> equal to the value that is set in
    <code>VkImageCreateInfo</code>::<code>flags</code> when the image is created
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pFormatInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkPhysicalDeviceSparseImageFormatInfo2KHR</code> structure
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pPropertyCount</code> is not <span class="monospaced">0</span>, and <code>pProperties</code> is not <span class="monospaced">NULL</span>, <code>pProperties</code> <span role="normative">must</span> be a pointer to an array of <code>pPropertyCount</code> <code>VkSparseImageFormatProperties2KHR</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceSparseImageFormatInfo2KHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPhysicalDeviceSparseImageFormatInfo2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPhysicalDeviceSparseImageFormatInfo2KHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>          sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>              pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkFormat</span>                 format<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageType</span>              type<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlagBits</span>    samples<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageUsageFlags</span>        usage<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageTiling</span>            tiling<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPhysicalDeviceSparseImageFormatInfo2KHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>format</code> is the image format.
</p>
</li>
<li>
<p>
<code>type</code> is the dimensionality of image.
</p>
</li>
<li>
<p>
<code>samples</code> is the number of samples per pixel as defined in
    <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code>.
</p>
</li>
<li>
<p>
<code>usage</code> is a bitmask describing the intended usage of the image.
</p>
</li>
<li>
<p>
<code>tiling</code> is the tiling arrangement of the data elements in memory.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SPARSE_IMAGE_FORMAT_INFO_2_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>format</code> <span role="normative">must</span> be a valid <code><a href="#VkFormat">VkFormat</a></code> value
</p>
</li>
<li>
<p>
<code>type</code> <span role="normative">must</span> be a valid <code><a href="#VkImageType">VkImageType</a></code> value
</p>
</li>
<li>
<p>
<code>samples</code> <span role="normative">must</span> be a valid <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> value
</p>
</li>
<li>
<p>
<code>usage</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>usage</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>tiling</code> <span role="normative">must</span> be a valid <code><a href="#VkImageTiling">VkImageTiling</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkSparseImageFormatProperties2KHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSparseImageFormatProperties2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSparseImageFormatProperties2KHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                  sType<span style="color: #990000">;</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                            pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkSparseImageFormatProperties</span>    properties<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSparseImageFormatProperties2KHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>properties</code> is a structure of type
    <code><a href="#VkSparseImageFormatProperties">VkSparseImageFormatProperties</a></code> which is populated with the same
    values as in <code><a href="#vkGetPhysicalDeviceSparseImageFormatProperties">vkGetPhysicalDeviceSparseImageFormatProperties</a></code>.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-resource-creation">28.7.4. Sparse Resource Creation</h4>
<div class="paragraph"><p>Sparse resources require that one or more sparse feature flags be specified
(as part of the <code>VkPhysicalDeviceFeatures</code> structure described
previously in the <a href="#sparsememory-physicalfeatures">Physical Device Features</a>
section) at CreateDevice time.
When the appropriate device features are enabled, the
<code>VK_BUFFER_CREATE_SPARSE_*</code> and <code>VK_IMAGE_CREATE_SPARSE_*</code> flags
<span role="normative">can</span> be used.
See <code><a href="#vkCreateBuffer">vkCreateBuffer</a></code> and <code><a href="#vkCreateImage">vkCreateImage</a></code> for details of the resource
creation APIs.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Specifying <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> or
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> requires specifying
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> or
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>, respectively, as well.
This means that resources <span role="normative">must</span> be created with the appropriate
<code>*_SPARSE_BINDING_BIT</code> to be used with the sparse binding command
(<code>vkQueueBindSparse</code>).</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-memory-requirements">28.7.5. Sparse Resource Memory Requirements</h4>
<div class="paragraph"><p>Sparse resources have specific memory requirements related to binding sparse
memory.
These memory requirements are reported differently for <code>VkBuffer</code>
objects and <code>VkImage</code> objects.</p></div>
<div class="sect4">
<h5 id="sparsememory-memory-buffer-fully-resident">Buffer and Fully-Resident Images</h5>
<div class="paragraph"><p>Buffers (both fully and partially resident) and fully-resident images <span role="normative">can</span>
be bound to memory using only the data from <code>VkMemoryRequirements</code>.
For all sparse resources the <code>VkMemoryRequirements</code>::<code>alignment</code>
member denotes both the bindable sparse block size in bytes and <span role="normative">required</span>
alignment of <code>VkDeviceMemory</code>.</p></div>
</div>
<div class="sect4">
<h5 id="sparsememory-memory-partially-resident">Partially Resident Images</h5>
<div class="paragraph"><p>Partially resident images have a different method for binding memory.
As with buffers and fully resident images, the
<code>VkMemoryRequirements</code>::<code>alignment</code> field denotes the bindable
sparse block size in bytes for the image.</p></div>
<div class="paragraph"><p>Requesting sparse memory requirements for <code>VkImage</code> objects using
<code>vkGetImageSparseMemoryRequirements</code> will return an array of one or more
<code>VkSparseImageMemoryRequirements</code> structures.
Each structure describes the sparse memory requirements for a group of
aspects of the image.</p></div>
<div class="paragraph"><p>The sparse image <span role="normative">must</span> have been created using the
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> flag to retrieve valid sparse
image memory requirements.</p></div>
</div>
<div class="sect4">
<h5 id="_sparse_image_memory_requirements">Sparse Image Memory Requirements</h5>
<div class="paragraph"><p>The <code>VkSparseImageMemoryRequirements</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSparseImageMemoryRequirements"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSparseImageMemoryRequirements</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkSparseImageFormatProperties</span>    formatProperties<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                         imageMipTailFirstLod<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>                     imageMipTailSize<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>                     imageMipTailOffset<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>                     imageMipTailStride<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSparseImageMemoryRequirements<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>formatProperties.aspectMask</code> is the set of aspects of the image
    that this sparse memory requirement applies to.
    This will usually have a single aspect specified.
    However, depth/stencil images <span role="normative">may</span> have depth and stencil data
    interleaved in the same sparse block, in which case both
    <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> and <code>VK_IMAGE_ASPECT_STENCIL_BIT</code>
    would be present.
</p>
</li>
<li>
<p>
<code>formatProperties.imageGranularity</code> describes the dimensions of a
    single bindable sparse image block in pixel units.
    For aspect <code>VK_IMAGE_ASPECT_METADATA_BIT</code>, all dimensions will be
    zero pixels.
    All metadata is located in the mip tail region.
</p>
</li>
<li>
<p>
<code>formatProperties.flags</code> is a bitmask of
    <code><a href="#VkSparseImageFormatFlagBits">VkSparseImageFormatFlagBits</a></code>:
</p>
<div class="ulist"><ul>
<li>
<p>
If <code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> is set the image
     uses a single mip tail region for all array layers.
</p>
</li>
<li>
<p>
If <code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> is set the
     dimensions of mip levels <span role="normative">must</span> be integer multiples of the
     corresponding dimensions of the sparse image block for levels not
     located in the mip tail.
</p>
</li>
<li>
<p>
If <code>VK_SPARSE_IMAGE_FORMAT_NONSTANDARD_BLOCK_SIZE_BIT</code> is set the
     image uses non-standard sparse image block dimensions.
     The <code>formatProperties.imageGranularity</code> values do not match the
     standard sparse image block dimension corresponding to the image&#8217;s
     pixel format.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>imageMipTailFirstLod</code> is the first mip level at which image
    subresources are included in the mip tail region.
</p>
</li>
<li>
<p>
<code>imageMipTailSize</code> is the memory size (in bytes) of the mip tail
    region.
    If <code>formatProperties.flags</code> contains
    <code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code>, this is the size of the
    whole mip tail, otherwise this is the size of the mip tail of a single
    array layer.
    This value is guaranteed to be a multiple of the sparse block size in
    bytes.
</p>
</li>
<li>
<p>
<code>imageMipTailOffset</code> is the opaque memory offset used with
    <code><a href="#VkSparseImageOpaqueMemoryBindInfo">VkSparseImageOpaqueMemoryBindInfo</a></code> to bind the mip tail region(s).
</p>
</li>
<li>
<p>
<code>imageMipTailStride</code> is the offset stride between each array-layer&#8217;s
    mip tail, if <code>formatProperties.flags</code> does not contain
    <code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> (otherwise the value is
    undefined).
</p>
</li>
</ul></div>
<div class="paragraph"><p>To query sparse memory requirements for an image, call:</p></div>
<div class="listingblock">
<a id="vkGetImageSparseMemoryRequirements"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetImageSparseMemoryRequirements</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkImage</span>                                     image<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pSparseMemoryRequirementCount<span style="color: #990000">,</span>
    VkSparseImageMemoryRequirements<span style="color: #990000">*</span>            pSparseMemoryRequirements<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the logical device that owns the image.
</p>
</li>
<li>
<p>
<code>image</code> is the <code>VkImage</code> object to get the memory requirements
    for.
</p>
</li>
<li>
<p>
<code>pSparseMemoryRequirementCount</code> is a pointer to an integer related
    to the number of sparse memory requirements available or queried, as
    described below.
</p>
</li>
<li>
<p>
<code>pSparseMemoryRequirements</code> is either <span class="monospaced">NULL</span> or a pointer to an
    array of <code>VkSparseImageMemoryRequirements</code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pSparseMemoryRequirements</code> is <span class="monospaced">NULL</span>, then the number of sparse
memory requirements available is returned in
<code>pSparseMemoryRequirementCount</code>.
Otherwise, <code>pSparseMemoryRequirementCount</code> <span role="normative">must</span> point to a variable set
by the user to the number of elements in the <code>pSparseMemoryRequirements</code>
array, and on return the variable is overwritten with the number of
structures actually written to <code>pSparseMemoryRequirements</code>.
If <code>pSparseMemoryRequirementCount</code> is less than the number of sparse
memory requirements available, at most <code>pSparseMemoryRequirementCount</code>
structures will be written.</p></div>
<div class="paragraph"><p>If the image was not created with <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
then <code>pSparseMemoryRequirementCount</code> will be set to zero and
<code>pSparseMemoryRequirements</code> will not be written to.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>It is legal for an implementation to report a larger value in
<code>VkMemoryRequirements</code>::<code>size</code> than would be obtained by adding
together memory sizes for all <code>VkSparseImageMemoryRequirements</code> returned
by <code>vkGetImageSparseMemoryRequirements</code>.
This <span role="normative">may</span> occur when the hardware requires unused padding in the address
range describing the resource.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>pSparseMemoryRequirementCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pSparseMemoryRequirementCount</code> is not <span class="monospaced">0</span>, and <code>pSparseMemoryRequirements</code> is not <span class="monospaced">NULL</span>, <code>pSparseMemoryRequirements</code> <span role="normative">must</span> be a pointer to an array of <code>pSparseMemoryRequirementCount</code> <code>VkSparseImageMemoryRequirements</code> structures
</p>
</li>
<li>
<p>
<code>image</code> <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-resource-binding">28.7.6. Binding Resource Memory</h4>
<div class="paragraph"><p>Non-sparse resources are backed by a single physical allocation prior to
device use (via <code>vkBindImageMemory</code> or <code>vkBindBufferMemory</code>), and
their backing <span role="normative">must</span> not be changed.
On the other hand, sparse resources <span role="normative">can</span> be bound to memory non-contiguously
and these bindings <span role="normative">can</span> be altered during the lifetime of the resource.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>It is important to note that freeing a <code>VkDeviceMemory</code> object with
<code>vkFreeMemory</code> will not cause resources (or resource regions) bound to
the memory object to become unbound.
Access to resources that are bound to memory objects that have been freed
will result in undefined behavior, potentially including application
termination.</p></div>
<div class="paragraph"><p>Implementations <span role="normative">must</span> ensure that no access to physical memory owned by the
system or another process will occur in this scenario.
In other words, accessing resources bound to freed memory <span role="normative">may</span> result in
application termination, but <span role="normative">must</span> not result in system termination or in
reading non-process-accessible memory.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Sparse memory bindings execute on a queue that includes the
<code>VK_QUEUE_SPARSE_BINDING_BIT</code> bit.
Applications <span role="normative">must</span> use <a href="#synchronization">synchronization primitives</a> to
guarantee that other queues do not access ranges of memory concurrently with
a binding change.
Accessing memory in a range while it is being rebound results in undefined
behavior.
It is valid to access other ranges of the same resource while a bind
operation is executing.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Implementations <span role="normative">must</span> provide a guarantee that simultaneously binding sparse
blocks while another queue accesses those same sparse blocks via a sparse
resource <span role="normative">must</span> not access memory owned by another process or otherwise
corrupt the system.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>While some implementations <span role="normative">may</span> include <code>VK_QUEUE_SPARSE_BINDING_BIT</code>
support in queue families that also include graphics and compute support,
other implementations <span role="normative">may</span> only expose a
<code>VK_QUEUE_SPARSE_BINDING_BIT</code>-only queue family.
In either case, applications <span role="normative">must</span> use <a href="#synchronization">synchronization primitives</a> to explicitly request any ordering dependencies between sparse
memory binding operations and other graphics/compute/transfer operations, as
sparse binding operations are not automatically ordered against command
buffer execution, even within a single queue.</p></div>
<div class="paragraph"><p>When binding memory explicitly for the <code>VK_IMAGE_ASPECT_METADATA_BIT</code>
the application <span role="normative">must</span> use the <code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code> in
the <code>VkSparseMemoryBind</code>::<code>flags</code> field when binding memory.
Binding memory for metadata is done the same way as binding memory for the
mip tail, with the addition of the <code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>
flag.</p></div>
<div class="paragraph"><p>Binding the mip tail for any aspect <span role="normative">must</span> only be performed using
<code><a href="#VkSparseImageOpaqueMemoryBindInfo">VkSparseImageOpaqueMemoryBindInfo</a></code>.
If <code>formatProperties.flags</code> contains
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code>, then it <span role="normative">can</span> be bound with
a single <code><a href="#VkSparseMemoryBind">VkSparseMemoryBind</a></code> structure, with <code>resourceOffset</code> =
<code>imageMipTailOffset</code> and <code>size</code> = <code>imageMipTailSize</code>.</p></div>
<div class="paragraph"><p>If <code>formatProperties.flags</code> does not contain
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> then the offset for the mip
tail in each array layer is given as:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>arrayMipTailOffset <span style="color: #990000">=</span> imageMipTailOffset <span style="color: #990000">+</span> arrayLayer <span style="color: #990000">*</span> imageMipTailStride<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>and the mip tail <span role="normative">can</span> be bound with <code>layerCount</code> <code><a href="#VkSparseMemoryBind">VkSparseMemoryBind</a></code>
structures, each using <code>size</code> = <code>imageMipTailSize</code> and
<code>resourceOffset</code> = <code>arrayMipTailOffset</code> as defined above.</p></div>
<div class="paragraph"><p>Sparse memory binding is handled by the following APIs and related data
structures.</p></div>
<div class="sect4">
<h5 id="sparsemem-memory-binding">Sparse Memory Binding Functions</h5>
<div class="paragraph"><p>The <code>VkSparseMemoryBind</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSparseMemoryBind"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSparseMemoryBind</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkDeviceSize</span>               resourceOffset<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>               size<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceMemory</span>             memory<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>               memoryOffset<span style="color: #990000">;</span>
    <span style="color: #008080">VkSparseMemoryBindFlags</span>    flags<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSparseMemoryBind<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>resourceOffset</code> is the offset into the resource.
</p>
</li>
<li>
<p>
<code>size</code> is the size of the memory region to be bound.
</p>
</li>
<li>
<p>
<code>memory</code> is the <code>VkDeviceMemory</code> object that the range of the
    resource is bound to.
    If <code>memory</code> is <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, the range is unbound.
</p>
</li>
<li>
<p>
<code>memoryOffset</code> is the offset into the <code>VkDeviceMemory</code> object to
    bind the resource range to.
    If <code>memory</code> is <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, this value is ignored.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask specifying usage of the binding operation.
    Bits which <span role="normative">can</span> be set include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkSparseMemoryBindFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkSparseMemoryBindFlagBits <span style="color: #FF0000">{</span>
    VK_SPARSE_MEMORY_BIND_METADATA_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkSparseMemoryBindFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code> indicates that the memory
     being bound is only for the metadata aspect.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>The <em>binding range</em> <span class="eq">[<code>resourceOffset</code>, <code>resourceOffset</code> &#x002b;
<code>size</code>)</span> has different constraints based on <code>flags</code>.
If <code>flags</code> contains <code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>, the
binding range <span role="normative">must</span> be within the mip tail region of the metadata aspect.
This metadata region is defined by:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">metadataRegion = [base, base + <code>imageMipTailSize</code>)</span>
</p>
</dd>
<dt class="hdlist1">
 
</dt>
<dd>
<p>
<span class="eq">base = <code>imageMipTailOffset</code> + <code>imageMipTailStride</code> &#x00d7;
     n</span>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>and <code>imageMipTailOffset</code>, <code>imageMipTailSize</code>, and
<code>imageMipTailStride</code> values are from the
<code><a href="#VkSparseImageMemoryRequirements">VkSparseImageMemoryRequirements</a></code> corresponding to the metadata aspect
of the image, and <span class="eq">n</span> is a valid array layer index for the image,</p></div>
<div class="paragraph"><p><code>imageMipTailStride</code> is considered to be zero for aspects where
<code>VkSparseImageMemoryRequirements</code>::<code>formatProperties.flags</code> contains
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code>.</p></div>
<div class="paragraph"><p>If <code>flags</code> does not contain <code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>,
the binding range <span role="normative">must</span> be within the range
<span class="eq">[0,<code><a href="#VkMemoryRequirements">VkMemoryRequirements</a></code>::<code>size</code>)</span>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>memory</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>memory</code> and
    <code>memoryOffset</code> <span role="normative">must</span> match the memory requirements of the resource,
    as described in section <a href="#resources-association">[resources-association]</a>
</p>
</li>
<li>
<p>
If <code>memory</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>memory</code> <span role="normative">must</span> not have
    been created with a memory type that reports
    <code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set
</p>
</li>
<li>
<p>
<code>size</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>resourceOffset</code> <span role="normative">must</span> be less than the size of the resource
</p>
</li>
<li>
<p>
<code>size</code> <span role="normative">must</span> be less than or equal to the size of the resource minus
    <code>resourceOffset</code>
</p>
</li>
<li>
<p>
<code>memoryOffset</code> <span role="normative">must</span> be less than the size of <code>memory</code>
</p>
</li>
<li>
<p>
<code>size</code> <span role="normative">must</span> be less than or equal to the size of <code>memory</code> minus
    <code>memoryOffset</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
If <code>memory</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>memory</code> <span role="normative">must</span> be a valid <code>VkDeviceMemory</code> handle
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkSparseMemoryBindFlagBits">VkSparseMemoryBindFlagBits</a></code> values
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Memory is bound to <code>VkBuffer</code> objects created with the
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> flag using the following
structure:</p></div>
<div class="listingblock">
<a id="VkSparseBufferMemoryBindInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSparseBufferMemoryBindInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkBuffer</span>                     buffer<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                     bindCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSparseMemoryBind<span style="color: #990000">*</span>    pBinds<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSparseBufferMemoryBindInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>buffer</code> is the <code>VkBuffer</code> object to be bound.
</p>
</li>
<li>
<p>
<code>bindCount</code> is the number of <code>VkSparseMemoryBind</code> structures in
    the <code>pBinds</code> array.
</p>
</li>
<li>
<p>
<code>pBinds</code> is a pointer to array of <code>VkSparseMemoryBind</code>
    structures.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>buffer</code> <span role="normative">must</span> be a valid <code>VkBuffer</code> handle
</p>
</li>
<li>
<p>
<code>pBinds</code> <span role="normative">must</span> be a pointer to an array of <code>bindCount</code> valid <code>VkSparseMemoryBind</code> structures
</p>
</li>
<li>
<p>
<code>bindCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Memory is bound to opaque regions of <code>VkImage</code> objects created with the
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flag using the following structure:</p></div>
<div class="listingblock">
<a id="VkSparseImageOpaqueMemoryBindInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSparseImageOpaqueMemoryBindInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkImage</span>                      image<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                     bindCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSparseMemoryBind<span style="color: #990000">*</span>    pBinds<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSparseImageOpaqueMemoryBindInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>image</code> is the <code>VkImage</code> object to be bound.
</p>
</li>
<li>
<p>
<code>bindCount</code> is the number of <code>VkSparseMemoryBind</code> structures in
    the <code>pBinds</code> array.
</p>
</li>
<li>
<p>
<code>pBinds</code> is a pointer to array of <code>VkSparseMemoryBind</code>
    structures.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
For any given element of <code>pBinds</code>, if the <code>flags</code> member of that
    element contains <code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>, the binding
    range defined <span role="normative">must</span> be within the mip tail region of the metadata aspect
    of <code>image</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>image</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>pBinds</code> <span role="normative">must</span> be a pointer to an array of <code>bindCount</code> valid <code>VkSparseMemoryBind</code> structures
</p>
</li>
<li>
<p>
<code>bindCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>This operation is normally used to bind memory to fully-resident sparse
images or for mip tail regions of partially resident images.
However, it <span role="normative">can</span> also be used to bind memory for the entire binding range of
partially resident images.</p></div>
<div class="paragraph"><p>In case <code>flags</code> does not contain
<code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>, the <code>resourceOffset</code> is in the
range <span class="eq">[0, <code><a href="#VkMemoryRequirements">VkMemoryRequirements</a></code>::<code>size</code>)</span>, This range includes
data from all aspects of the image, including metadata.
For most implementations this will probably mean that the
<code>resourceOffset</code> is a simple device address offset within the resource.
It is possible for an application to bind a range of memory that includes
both resource data and metadata.
However, the application would not know what part of the image the memory is
used for, or if any range is being used for metadata.</p></div>
<div class="paragraph"><p>When <code>flags</code> contains <code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>, the
binding range specified <span role="normative">must</span> be within the mip tail region of the metadata
aspect.
In this case the <code>resourceOffset</code> is not <span role="normative">required</span> to be a simple device
address offset within the resource.
However, it <em>is</em> defined to be within [imageMipTailOffset,
imageMipTailOffset + imageMipTailSize) for the metadata aspect.
See <code><a href="#VkSparseMemoryBind">VkSparseMemoryBind</a></code> for the full constraints on binding region with
this flag present.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Memory <span role="normative">can</span> be bound to sparse image blocks of <code>VkImage</code> objects created
with the <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> flag using the following
structure:</p></div>
<div class="listingblock">
<a id="VkSparseImageMemoryBindInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSparseImageMemoryBindInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkImage</span>                           image<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                          bindCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSparseImageMemoryBind<span style="color: #990000">*</span>    pBinds<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSparseImageMemoryBindInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>image</code> is the <code>VkImage</code> object to be bound
</p>
</li>
<li>
<p>
<code>bindCount</code> is the number of <code>VkSparseImageMemoryBind</code>
    structures in pBinds array
</p>
</li>
<li>
<p>
<code>pBinds</code> is a pointer to array of <code>VkSparseImageMemoryBind</code>
    structures
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>image</code> <span role="normative">must</span> be a valid <code>VkImage</code> handle
</p>
</li>
<li>
<p>
<code>pBinds</code> <span role="normative">must</span> be a pointer to an array of <code>bindCount</code> valid <code>VkSparseImageMemoryBind</code> structures
</p>
</li>
<li>
<p>
<code>bindCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkSparseImageMemoryBind</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSparseImageMemoryBind"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSparseImageMemoryBind</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkImageSubresource</span>         subresource<span style="color: #990000">;</span>
    <span style="color: #008080">VkOffset3D</span>                 offset<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent3D</span>                 extent<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceMemory</span>             memory<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>               memoryOffset<span style="color: #990000">;</span>
    <span style="color: #008080">VkSparseMemoryBindFlags</span>    flags<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSparseImageMemoryBind<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>subresource</code> is the aspectMask and region of interest in the image.
</p>
</li>
<li>
<p>
<code>offset</code> are the coordinates of the first texel within the image
    subresource to bind.
</p>
</li>
<li>
<p>
<code>extent</code> is the size in texels of the region within the image
    subresource to bind.
    The extent <span role="normative">must</span> be a multiple of the sparse image block dimensions,
    except when binding sparse image blocks along the edge of an image
    subresource it <span role="normative">can</span> instead be such that any coordinate of
    <span class="eq"><code>offset</code> + <code>extent</code></span> equals the corresponding dimensions of
    the image subresource.
</p>
</li>
<li>
<p>
<code>memory</code> is the <code>VkDeviceMemory</code> object that the sparse image
    blocks of the image are bound to.
    If <code>memory</code> is <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, the sparse image blocks are
    unbound.
</p>
</li>
<li>
<p>
<code>memoryOffset</code> is an offset into <code>VkDeviceMemory</code> object.
    If <code>memory</code> is <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, this value is ignored.
</p>
</li>
<li>
<p>
<code>flags</code> are sparse memory binding flags.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If the <a href="#features-features-sparseResidencyAliased">sparse aliased     residency</a> feature is not enabled, and if any other resources are bound
    to ranges of <code>memory</code>, the range of <code>memory</code> being bound <span role="normative">must</span>
    not overlap with those bound ranges
</p>
</li>
<li>
<p>
<code>memory</code> and <code>memoryOffset</code> <span role="normative">must</span> match the memory requirements
    of the calling command&#8217;s <code>image</code>, as described in section
    <a href="#resources-association">[resources-association]</a>
</p>
</li>
<li>
<p>
<code>subresource</code> <span role="normative">must</span> be a valid image subresource for <code>image</code>
    (see <a href="#resources-image-views">[resources-image-views]</a>)
</p>
</li>
<li>
<p>
<code>offset.x</code> <span role="normative">must</span> be a multiple of the sparse image block width
    (<code>VkSparseImageFormatProperties</code>::<code>imageGranularity.width</code>) of
    the image
</p>
</li>
<li>
<p>
<code>extent.width</code> <span role="normative">must</span> either be a multiple of the sparse image block
    width of the image, or else <code>extent.width</code> + <code>offset.x</code> <span role="normative">must</span>
    equal the width of the image subresource
</p>
</li>
<li>
<p>
<code>offset.y</code> <span role="normative">must</span> be a multiple of the sparse image block height
    (<code>VkSparseImageFormatProperties</code>::<code>imageGranularity.height</code>) of
    the image
</p>
</li>
<li>
<p>
<code>extent.height</code> <span role="normative">must</span> either be a multiple of the sparse image block
    height of the image, or else <code>extent.height</code> + <code>offset.y</code> <span role="normative">must</span>
    equal the height of the image subresource
</p>
</li>
<li>
<p>
<code>offset.z</code> <span role="normative">must</span> be a multiple of the sparse image block depth
    (<code>VkSparseImageFormatProperties</code>::<code>imageGranularity.depth</code>) of
    the image
</p>
</li>
<li>
<p>
<code>extent.depth</code> <span role="normative">must</span> either be a multiple of the sparse image block
    depth of the image, or else <code>extent.depth</code> + <code>offset.z</code> <span role="normative">must</span>
    equal the depth of the image subresource
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>subresource</code> <span role="normative">must</span> be a valid <code>VkImageSubresource</code> structure
</p>
</li>
<li>
<p>
If <code>memory</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>memory</code> <span role="normative">must</span> be a valid <code>VkDeviceMemory</code> handle
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkSparseMemoryBindFlagBits">VkSparseMemoryBindFlagBits</a></code> values
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>To submit sparse binding operations to a queue, call:</p></div>
<div class="listingblock">
<a id="vkQueueBindSparse"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkQueueBindSparse</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkQueue</span>                                     queue<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    bindInfoCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkBindSparseInfo<span style="color: #990000">*</span>                     pBindInfo<span style="color: #990000">,</span>
    <span style="color: #008080">VkFence</span>                                     fence<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>queue</code> is the queue that the sparse binding operations will be
    submitted to.
</p>
</li>
<li>
<p>
<code>bindInfoCount</code> is the number of elements in the <code>pBindInfo</code>
    array.
</p>
</li>
<li>
<p>
<code>pBindInfo</code> is an array of <code><a href="#VkBindSparseInfo">VkBindSparseInfo</a></code> structures, each
    specifying a sparse binding submission batch.
</p>
</li>
<li>
<p>
<code>fence</code> is an optional handle to a fence to be signaled.
    If <code>fence</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, it defines a
    <a href="#synchronization-fences-signaling">fence signal operation</a>.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkQueueBindSparse</code> is a <a href="#devsandqueues-submission">queue submission command</a>, with each batch defined by an element of <code>pBindInfo</code> as an
instance of the <code><a href="#VkBindSparseInfo">VkBindSparseInfo</a></code> structure.
Batches begin execution in the order they appear in <code>pBindInfo</code>, but
<span role="normative">may</span> complete out of order.</p></div>
<div class="paragraph"><p>Within a batch, a given range of a resource <span role="normative">must</span> not be bound more than
once.
Across batches, if a range is to be bound to one allocation and offset and
then to another allocation and offset, then the application <span role="normative">must</span> guarantee
(usually using semaphores) that the binding operations are executed in the
correct order, as well as to order binding operations against the execution
of command buffer submissions.</p></div>
<div class="paragraph"><p>As no operation to <code><a href="#vkQueueBindSparse">vkQueueBindSparse</a></code> causes any pipeline stage to
access memory, synchronization primitives used in this command effectively
only define execution dependencies.</p></div>
<div class="paragraph"><p>Additional information about fence and semaphore operation is described in
<a href="#synchronization">the synchronization chapter</a>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>fence</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>fence</code> <span role="normative">must</span> be
    unsignaled
</p>
</li>
<li>
<p>
If <code>fence</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>fence</code> <span role="normative">must</span> not be
    associated with any other queue command that has not yet completed
    execution on that queue
</p>
</li>
<li>
<p>
Any given element of the <code>pSignalSemaphores</code> member of any element
    of <code>pBindInfo</code> <span role="normative">must</span> be unsignaled when the semaphore signal
    operation it defines is executed on the device
</p>
</li>
<li>
<p>
When a semaphore unsignal operation defined by any element of the
    <code>pWaitSemaphores</code> member of any element of <code>pBindInfo</code> executes
    on <code>queue</code>, no other queue <span role="normative">must</span> be waiting on the same semaphore.
</p>
</li>
<li>
<p>
All elements of the <code>pWaitSemaphores</code> member of all elements of
    <code>pBindInfo</code> <span role="normative">must</span> be semaphores that are signaled, or have
    <a href="#synchronization-semaphores-signaling">semaphore signal operations</a>
    previously submitted for execution.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>queue</code> <span role="normative">must</span> be a valid <code>VkQueue</code> handle
</p>
</li>
<li>
<p>
If <code>bindInfoCount</code> is not <span class="monospaced">0</span>, <code>pBindInfo</code> <span role="normative">must</span> be a pointer to an array of <code>bindInfoCount</code> valid <code>VkBindSparseInfo</code> structures
</p>
</li>
<li>
<p>
If <code>fence</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>fence</code> <span role="normative">must</span> be a valid <code>VkFence</code> handle
</p>
</li>
<li>
<p>
The <code>queue</code> <span role="normative">must</span> support sparse binding operations
</p>
</li>
<li>
<p>
Both of <code>fence</code>, and <code>queue</code> that are valid handles <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>queue</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>pBindInfo</code>[].pWaitSemaphores[] <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>pBindInfo</code>[].pSignalSemaphores[] <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>pBindInfo</code>[].pBufferBinds[].buffer <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>pBindInfo</code>[].pImageOpaqueBinds[].image <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>pBindInfo</code>[].pImageBinds[].image <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>fence</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">SPARSE_BINDING</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkBindSparseInfo</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkBindSparseInfo"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkBindSparseInfo</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                             sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                                 pNext<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                                    waitSemaphoreCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSemaphore<span style="color: #990000">*</span>                          pWaitSemaphores<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                                    bufferBindCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSparseBufferMemoryBindInfo<span style="color: #990000">*</span>         pBufferBinds<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                                    imageOpaqueBindCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSparseImageOpaqueMemoryBindInfo<span style="color: #990000">*</span>    pImageOpaqueBinds<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                                    imageBindCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSparseImageMemoryBindInfo<span style="color: #990000">*</span>          pImageBinds<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                                    signalSemaphoreCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSemaphore<span style="color: #990000">*</span>                          pSignalSemaphores<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkBindSparseInfo<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>waitSemaphoreCount</code> is the number of semaphores upon which to wait
    before executing the sparse binding operations for the batch.
</p>
</li>
<li>
<p>
<code>pWaitSemaphores</code> is a pointer to an array of semaphores upon which
    to wait on before the sparse binding operations for this batch begin
    execution.
    If semaphores to wait on are provided, they define a
    <a href="#synchronization-semaphores-waiting">semaphore wait operation</a>.
</p>
</li>
<li>
<p>
<code>bufferBindCount</code> is the number of sparse buffer bindings to perform
    in the batch.
</p>
</li>
<li>
<p>
<code>pBufferBinds</code> is a pointer to an array of
    <code><a href="#VkSparseBufferMemoryBindInfo">VkSparseBufferMemoryBindInfo</a></code> structures.
</p>
</li>
<li>
<p>
<code>imageOpaqueBindCount</code> is the number of opaque sparse image bindings
    to perform.
</p>
</li>
<li>
<p>
<code>pImageOpaqueBinds</code> is a pointer to an array of
    <code><a href="#VkSparseImageOpaqueMemoryBindInfo">VkSparseImageOpaqueMemoryBindInfo</a></code> structures, indicating opaque
    sparse image bindings to perform.
</p>
</li>
<li>
<p>
<code>imageBindCount</code> is the number of sparse image bindings to perform.
</p>
</li>
<li>
<p>
<code>pImageBinds</code> is a pointer to an array of
    <code><a href="#VkSparseImageMemoryBindInfo">VkSparseImageMemoryBindInfo</a></code> structures, indicating sparse image
    bindings to perform.
</p>
</li>
<li>
<p>
<code>signalSemaphoreCount</code> is the number of semaphores to be signaled
    once the sparse binding operations specified by the structure have
    completed execution.
</p>
</li>
<li>
<p>
<code>pSignalSemaphores</code> is a pointer to an array of semaphores which
    will be signaled when the sparse binding operations for this batch have
    completed execution.
    If semaphores to be signaled are provided, they define a
    <a href="#synchronization-semaphores-signaling">semaphore signal operation</a>.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_BIND_SPARSE_INFO</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
If <code>waitSemaphoreCount</code> is not <span class="monospaced">0</span>, <code>pWaitSemaphores</code> <span role="normative">must</span> be a pointer to an array of <code>waitSemaphoreCount</code> valid <code>VkSemaphore</code> handles
</p>
</li>
<li>
<p>
If <code>bufferBindCount</code> is not <span class="monospaced">0</span>, <code>pBufferBinds</code> <span role="normative">must</span> be a pointer to an array of <code>bufferBindCount</code> valid <code>VkSparseBufferMemoryBindInfo</code> structures
</p>
</li>
<li>
<p>
If <code>imageOpaqueBindCount</code> is not <span class="monospaced">0</span>, <code>pImageOpaqueBinds</code> <span role="normative">must</span> be a pointer to an array of <code>imageOpaqueBindCount</code> valid <code>VkSparseImageOpaqueMemoryBindInfo</code> structures
</p>
</li>
<li>
<p>
If <code>imageBindCount</code> is not <span class="monospaced">0</span>, <code>pImageBinds</code> <span role="normative">must</span> be a pointer to an array of <code>imageBindCount</code> valid <code>VkSparseImageMemoryBindInfo</code> structures
</p>
</li>
<li>
<p>
If <code>signalSemaphoreCount</code> is not <span class="monospaced">0</span>, <code>pSignalSemaphores</code> <span role="normative">must</span> be a pointer to an array of <code>signalSemaphoreCount</code> valid <code>VkSemaphore</code> handles
</p>
</li>
<li>
<p>
Both of the elements of <code>pSignalSemaphores</code>, and the elements of <code>pWaitSemaphores</code> that are valid handles <span role="normative">must</span> have been created, allocated, or retrieved from the same <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sparsememory-examples">28.8. Examples</h3>
<div class="paragraph"><p>The following examples illustrate basic creation of sparse images and
binding them to physical memory.</p></div>
<div class="sect3">
<h4 id="sparsememory-examples-basic">28.8.1. Basic Sparse Resources</h4>
<div class="paragraph"><p>This basic example creates a normal <code>VkImage</code> object but uses
fine-grained memory allocation to back the resource with multiple memory
ranges.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkDevice</span>                device<span style="color: #990000">;</span>
<span style="color: #008080">VkQueue</span>                 queue<span style="color: #990000">;</span>
<span style="color: #008080">VkImage</span>                 sparseImage<span style="color: #990000">;</span>
<span style="color: #008080">VkMemoryRequirements</span>    memoryRequirements <span style="color: #990000">=</span> <span style="color: #FF0000">{}</span><span style="color: #990000">;</span>
<span style="color: #008080">VkDeviceSize</span>            offset <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #008080">VkSparseMemoryBind</span>      binds<span style="color: #990000">[</span>MAX_CHUNKS<span style="color: #990000">]</span> <span style="color: #990000">=</span> <span style="color: #FF0000">{}</span><span style="color: #990000">;</span> <span style="font-style: italic"><span style="color: #9A1900">// MAX_CHUNKS is NOT part of Vulkan</span></span>
<span style="color: #008080">uint32_t</span>                bindCount <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">// ...</span></span>

<span style="font-style: italic"><span style="color: #9A1900">// Allocate image object</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkImageCreateInfo</span> sparseImageInfo <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO<span style="color: #990000">,</span>        <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
    NULL<span style="color: #990000">,</span>                                       <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
    VK_IMAGE_CREATE_SPARSE_BINDING_BIT <span style="color: #990000">|</span> <span style="color: #990000">...,</span>   <span style="font-style: italic"><span style="color: #9A1900">// flags</span></span>
    <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000000">vkCreateImage</span></span><span style="color: #990000">(</span>device<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>sparseImageInfo<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>sparseImage<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">// Get memory requirements</span></span>
<span style="font-weight: bold"><span style="color: #000000">vkGetImageMemoryRequirements</span></span><span style="color: #990000">(</span>
    device<span style="color: #990000">,</span>
    sparseImage<span style="color: #990000">,</span>
    <span style="color: #990000">&amp;</span>memoryRequirements<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">// Bind memory in fine-grained fashion, find available memory ranges</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// from potentially multiple VkDeviceMemory pools.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// (Illustration purposes only, can be optimized for perf)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">while</span></span> <span style="color: #990000">(</span>memoryRequirements<span style="color: #990000">.</span>size <span style="color: #990000">&amp;&amp;</span> bindCount <span style="color: #990000">&lt;</span> MAX_CHUNKS<span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    VkSparseMemoryBind<span style="color: #990000">*</span> pBind <span style="color: #990000">=</span> <span style="color: #990000">&amp;</span>binds<span style="color: #990000">[</span>bindCount<span style="color: #990000">];</span>
    pBind<span style="color: #990000">-&gt;</span>resourceOffset <span style="color: #990000">=</span> offset<span style="color: #990000">;</span>

    <span style="font-weight: bold"><span style="color: #000000">AllocateOrGetMemoryRange</span></span><span style="color: #990000">(</span>
        device<span style="color: #990000">,</span>
        <span style="color: #990000">&amp;</span>memoryRequirements<span style="color: #990000">,</span>
        <span style="color: #990000">&amp;</span>pBind<span style="color: #990000">-&gt;</span>memory<span style="color: #990000">,</span>
        <span style="color: #990000">&amp;</span>pBind<span style="color: #990000">-&gt;</span>memoryOffset<span style="color: #990000">,</span>
        <span style="color: #990000">&amp;</span>pBind<span style="color: #990000">-&gt;</span>size<span style="color: #990000">);</span>

    <span style="font-style: italic"><span style="color: #9A1900">// memory ranges must be sized as multiples of the alignment</span></span>
    <span style="font-weight: bold"><span style="color: #000000">assert</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">IsMultiple</span></span><span style="color: #990000">(</span>pBind<span style="color: #990000">-&gt;</span>size<span style="color: #990000">,</span> memoryRequirements<span style="color: #990000">.</span>alignment<span style="color: #990000">));</span>
    <span style="font-weight: bold"><span style="color: #000000">assert</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">IsMultiple</span></span><span style="color: #990000">(</span>pBind<span style="color: #990000">-&gt;</span>memoryOffset<span style="color: #990000">,</span> memoryRequirements<span style="color: #990000">.</span>alignment<span style="color: #990000">));</span>

    memoryRequirements<span style="color: #990000">.</span>size <span style="color: #990000">-=</span> pBind<span style="color: #990000">-&gt;</span>size<span style="color: #990000">;</span>
    offset                  <span style="color: #990000">+=</span> pBind<span style="color: #990000">-&gt;</span>size<span style="color: #990000">;</span>
    bindCount<span style="color: #990000">++;</span>
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">// Ensure all image has backing</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>memoryRequirements<span style="color: #990000">.</span>size<span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    <span style="font-style: italic"><span style="color: #9A1900">// Error condition - too many chunks</span></span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkSparseImageOpaqueMemoryBindInfo</span> opaqueBindInfo <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    sparseImage<span style="color: #990000">,</span>                                <span style="font-style: italic"><span style="color: #9A1900">// image</span></span>
    bindCount<span style="color: #990000">,</span>                                  <span style="font-style: italic"><span style="color: #9A1900">// bindCount</span></span>
    binds                                       <span style="font-style: italic"><span style="color: #9A1900">// pBinds</span></span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkBindSparseInfo</span> bindSparseInfo <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    VK_STRUCTURE_TYPE_BIND_SPARSE_INFO<span style="color: #990000">,</span>         <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
    NULL<span style="color: #990000">,</span>                                       <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
    <span style="color: #990000">...</span>
    <span style="color: #993399">1</span><span style="color: #990000">,</span>                                          <span style="font-style: italic"><span style="color: #9A1900">// imageOpaqueBindCount</span></span>
    <span style="color: #990000">&amp;</span>opaqueBindInfo<span style="color: #990000">,</span>                            <span style="font-style: italic"><span style="color: #9A1900">// pImageOpaqueBinds</span></span>
    <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">// vkQueueBindSparse is application synchronized per queue object.</span></span>
<span style="font-weight: bold"><span style="color: #000000">AcquireQueueOwnership</span></span><span style="color: #990000">(</span>queue<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">// Actually bind memory</span></span>
<span style="font-weight: bold"><span style="color: #000000">vkQueueBindSparse</span></span><span style="color: #990000">(</span>queue<span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>bindSparseInfo<span style="color: #990000">,</span> VK_NULL_HANDLE<span style="color: #990000">);</span>

<span style="font-weight: bold"><span style="color: #000000">ReleaseQueueOwnership</span></span><span style="color: #990000">(</span>queue<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="sparsememory-examples-advanced">28.8.2. Advanced Sparse Resources</h4>
<div class="paragraph"><p>This more advanced example creates an arrayed color attachment / texture
image and binds only LOD zero and the <span role="normative">required</span> metadata to physical memory.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkDevice</span>                            device<span style="color: #990000">;</span>
<span style="color: #008080">VkQueue</span>                             queue<span style="color: #990000">;</span>
<span style="color: #008080">VkImage</span>                             sparseImage<span style="color: #990000">;</span>
<span style="color: #008080">VkMemoryRequirements</span>                memoryRequirements <span style="color: #990000">=</span> <span style="color: #FF0000">{}</span><span style="color: #990000">;</span>
<span style="color: #008080">uint32_t</span>                            sparseRequirementsCount <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
VkSparseImageMemoryRequirements<span style="color: #990000">*</span>    pSparseReqs <span style="color: #990000">=</span> NULL<span style="color: #990000">;</span>
<span style="color: #008080">VkSparseMemoryBind</span>                  binds<span style="color: #990000">[</span>MY_IMAGE_ARRAY_SIZE<span style="color: #990000">]</span> <span style="color: #990000">=</span> <span style="color: #FF0000">{}</span><span style="color: #990000">;</span>
<span style="color: #008080">VkSparseImageMemoryBind</span>             imageBinds<span style="color: #990000">[</span>MY_IMAGE_ARRAY_SIZE<span style="color: #990000">]</span> <span style="color: #990000">=</span> <span style="color: #FF0000">{}</span><span style="color: #990000">;</span>
<span style="color: #008080">uint32_t</span>                            bindCount <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">// Allocate image object (both renderable and sampleable)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkImageCreateInfo</span> sparseImageInfo <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO<span style="color: #990000">,</span>        <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
    NULL<span style="color: #990000">,</span>                                       <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
    VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT <span style="color: #990000">|</span> <span style="color: #990000">...,</span> <span style="font-style: italic"><span style="color: #9A1900">// flags</span></span>
    <span style="color: #990000">...</span>
    VK_FORMAT_R8G8B8A8_UNORM<span style="color: #990000">,</span>                   <span style="font-style: italic"><span style="color: #9A1900">// format</span></span>
    <span style="color: #990000">...</span>
    MY_IMAGE_ARRAY_SIZE<span style="color: #990000">,</span>                        <span style="font-style: italic"><span style="color: #9A1900">// arrayLayers</span></span>
    <span style="color: #990000">...</span>
    VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT <span style="color: #990000">|</span>
    VK_IMAGE_USAGE_SAMPLED_BIT<span style="color: #990000">,</span>                 <span style="font-style: italic"><span style="color: #9A1900">// usage</span></span>
    <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000000">vkCreateImage</span></span><span style="color: #990000">(</span>device<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>sparseImageInfo<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>sparseImage<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">// Get memory requirements</span></span>
<span style="font-weight: bold"><span style="color: #000000">vkGetImageMemoryRequirements</span></span><span style="color: #990000">(</span>
    device<span style="color: #990000">,</span>
    sparseImage<span style="color: #990000">,</span>
    <span style="color: #990000">&amp;</span>memoryRequirements<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">// Get sparse image aspect properties</span></span>
<span style="font-weight: bold"><span style="color: #000000">vkGetImageSparseMemoryRequirements</span></span><span style="color: #990000">(</span>
    device<span style="color: #990000">,</span>
    sparseImage<span style="color: #990000">,</span>
    <span style="color: #990000">&amp;</span>sparseRequirementsCount<span style="color: #990000">,</span>
    NULL<span style="color: #990000">);</span>

pSparseReqs <span style="color: #990000">=</span> <span style="color: #990000">(</span>VkSparseImageMemoryRequirements<span style="color: #990000">*)</span>
    <span style="font-weight: bold"><span style="color: #000000">malloc</span></span><span style="color: #990000">(</span>sparseRequirementsCount <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>VkSparseImageMemoryRequirements<span style="color: #990000">));</span>

<span style="font-weight: bold"><span style="color: #000000">vkGetImageSparseMemoryRequirements</span></span><span style="color: #990000">(</span>
    device<span style="color: #990000">,</span>
    sparseImage<span style="color: #990000">,</span>
    <span style="color: #990000">&amp;</span>sparseRequirementsCount<span style="color: #990000">,</span>
    pSparseReqs<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">// Bind LOD level 0 and any required metadata to memory</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">uint32_t</span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> sparseRequirementsCount<span style="color: #990000">;</span> <span style="color: #990000">++</span>i<span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>pSparseReqs<span style="color: #990000">[</span>i<span style="color: #990000">].</span>formatProperties<span style="color: #990000">.</span>aspectMask <span style="color: #990000">&amp;</span>
        VK_IMAGE_ASPECT_METADATA_BIT<span style="color: #990000">)</span>
    <span style="color: #FF0000">{</span>
        <span style="font-style: italic"><span style="color: #9A1900">// Metadata must not be combined with other aspects</span></span>
        <span style="font-weight: bold"><span style="color: #000000">assert</span></span><span style="color: #990000">(</span>pSparseReqs<span style="color: #990000">[</span>i<span style="color: #990000">].</span>formatProperties<span style="color: #990000">.</span>aspectMask <span style="color: #990000">==</span>
               VK_IMAGE_ASPECT_METADATA_BIT<span style="color: #990000">);</span>

        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>pSparseReqs<span style="color: #990000">[</span>i<span style="color: #990000">].</span>formatProperties<span style="color: #990000">.</span>flags <span style="color: #990000">&amp;</span>
            VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT<span style="color: #990000">)</span>
        <span style="color: #FF0000">{</span>
            VkSparseMemoryBind<span style="color: #990000">*</span> pBind <span style="color: #990000">=</span> <span style="color: #990000">&amp;</span>binds<span style="color: #990000">[</span>bindCount<span style="color: #990000">];</span>
            pBind<span style="color: #990000">-&gt;</span>memorySize <span style="color: #990000">=</span> pSparseReqs<span style="color: #990000">[</span>i<span style="color: #990000">].</span>imageMipTailSize<span style="color: #990000">;</span>
            bindCount<span style="color: #990000">++;</span>

            <span style="font-style: italic"><span style="color: #9A1900">// ... Allocate memory range</span></span>

            pBind<span style="color: #990000">-&gt;</span>resourceOffset <span style="color: #990000">=</span> pSparseReqs<span style="color: #990000">[</span>i<span style="color: #990000">].</span>imageMipTailOffset<span style="color: #990000">;</span>
            pBind<span style="color: #990000">-&gt;</span>memoryOffset <span style="color: #990000">=</span> <span style="font-style: italic"><span style="color: #9A1900">/* allocated memoryOffset */</span></span><span style="color: #990000">;</span>
            pBind<span style="color: #990000">-&gt;</span>memory <span style="color: #990000">=</span> <span style="font-style: italic"><span style="color: #9A1900">/* allocated memory */</span></span><span style="color: #990000">;</span>
            pBind<span style="color: #990000">-&gt;</span>flags <span style="color: #990000">=</span> VK_SPARSE_MEMORY_BIND_METADATA_BIT<span style="color: #990000">;</span>

        <span style="color: #FF0000">}</span>
        <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
        <span style="color: #FF0000">{</span>
            <span style="font-style: italic"><span style="color: #9A1900">// Need a mip tail region per array layer.</span></span>
            <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">uint32_t</span> a <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> a <span style="color: #990000">&lt;</span> sparseImageInfo<span style="color: #990000">.</span>arrayLayers<span style="color: #990000">;</span> <span style="color: #990000">++</span>a<span style="color: #990000">)</span>
            <span style="color: #FF0000">{</span>
                VkSparseMemoryBind<span style="color: #990000">*</span> pBind <span style="color: #990000">=</span> <span style="color: #990000">&amp;</span>binds<span style="color: #990000">[</span>bindCount<span style="color: #990000">];</span>
                pBind<span style="color: #990000">-&gt;</span>memorySize <span style="color: #990000">=</span> pSparseReqs<span style="color: #990000">[</span>i<span style="color: #990000">].</span>imageMipTailSize<span style="color: #990000">;</span>
                bindCount<span style="color: #990000">++;</span>

                <span style="font-style: italic"><span style="color: #9A1900">// ... Allocate memory range</span></span>

                pBind<span style="color: #990000">-&gt;</span>resourceOffset <span style="color: #990000">=</span> pSparseReqs<span style="color: #990000">[</span>i<span style="color: #990000">].</span>imageMipTailOffset <span style="color: #990000">+</span>
                                        <span style="color: #990000">(</span>a <span style="color: #990000">*</span> pSparseReqs<span style="color: #990000">[</span>i<span style="color: #990000">].</span>imageMipTailStride<span style="color: #990000">);</span>

                pBind<span style="color: #990000">-&gt;</span>memoryOffset <span style="color: #990000">=</span> <span style="font-style: italic"><span style="color: #9A1900">/* allocated memoryOffset */</span></span><span style="color: #990000">;</span>
                pBind<span style="color: #990000">-&gt;</span>memory <span style="color: #990000">=</span> <span style="font-style: italic"><span style="color: #9A1900">/* allocated memory */</span></span>
                pBind<span style="color: #990000">-&gt;</span>flags <span style="color: #990000">=</span> VK_SPARSE_MEMORY_BIND_METADATA_BIT<span style="color: #990000">;</span>
            <span style="color: #FF0000">}</span>
        <span style="color: #FF0000">}</span>
    <span style="color: #FF0000">}</span>
    <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
    <span style="color: #FF0000">{</span>
        <span style="font-style: italic"><span style="color: #9A1900">// resource data</span></span>
        <span style="color: #008080">VkExtent3D</span> lod0BlockSize <span style="color: #990000">=</span>
        <span style="color: #FF0000">{</span>
            <span style="font-weight: bold"><span style="color: #000000">AlignedDivide</span></span><span style="color: #990000">(</span>
                sparseImageInfo<span style="color: #990000">.</span>extent<span style="color: #990000">.</span>width<span style="color: #990000">,</span>
                pSparseReqs<span style="color: #990000">[</span>i<span style="color: #990000">].</span>formatProperties<span style="color: #990000">.</span>imageGranularity<span style="color: #990000">.</span>width<span style="color: #990000">);</span>
            <span style="font-weight: bold"><span style="color: #000000">AlignedDivide</span></span><span style="color: #990000">(</span>
                sparseImageInfo<span style="color: #990000">.</span>extent<span style="color: #990000">.</span>height<span style="color: #990000">,</span>
                pSparseReqs<span style="color: #990000">[</span>i<span style="color: #990000">].</span>formatProperties<span style="color: #990000">.</span>imageGranularity<span style="color: #990000">.</span>height<span style="color: #990000">);</span>
            <span style="font-weight: bold"><span style="color: #000000">AlignedDivide</span></span><span style="color: #990000">(</span>
                sparseImageInfo<span style="color: #990000">.</span>extent<span style="color: #990000">.</span>depth<span style="color: #990000">,</span>
                pSparseReqs<span style="color: #990000">[</span>i<span style="color: #990000">].</span>formatProperties<span style="color: #990000">.</span>imageGranularity<span style="color: #990000">.</span>depth<span style="color: #990000">);</span>
        <span style="color: #FF0000">}</span>
        <span style="color: #008080">size_t</span> totalBlocks <span style="color: #990000">=</span>
            lod0BlockSize<span style="color: #990000">.</span>width <span style="color: #990000">*</span>
            lod0BlockSize<span style="color: #990000">.</span>height <span style="color: #990000">*</span>
            lod0BlockSize<span style="color: #990000">.</span>depth<span style="color: #990000">;</span>

        <span style="color: #008080">VkDeviceSize</span> lod0MemSize <span style="color: #990000">=</span> totalBlocks <span style="color: #990000">*</span> memoryRequirements<span style="color: #990000">.</span>alignment<span style="color: #990000">;</span>

        <span style="font-style: italic"><span style="color: #9A1900">// Allocate memory for each array layer</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">uint32_t</span> a <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> a <span style="color: #990000">&lt;</span> sparseImageInfo<span style="color: #990000">.</span>arrayLayers<span style="color: #990000">;</span> <span style="color: #990000">++</span>a<span style="color: #990000">)</span>
        <span style="color: #FF0000">{</span>
            <span style="font-style: italic"><span style="color: #9A1900">// ... Allocate memory range</span></span>

            VkSparseImageMemoryBind<span style="color: #990000">*</span> pBind <span style="color: #990000">=</span> <span style="color: #990000">&amp;</span>imageBinds<span style="color: #990000">[</span>a<span style="color: #990000">];</span>
            pBind<span style="color: #990000">-&gt;</span>subresource<span style="color: #990000">.</span>aspectMask <span style="color: #990000">=</span> pSparseReqs<span style="color: #990000">[</span>i<span style="color: #990000">].</span>formatProperties<span style="color: #990000">.</span>aspectMask<span style="color: #990000">;</span>
            pBind<span style="color: #990000">-&gt;</span>subresource<span style="color: #990000">.</span>mipLevel <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
            pBind<span style="color: #990000">-&gt;</span>subresource<span style="color: #990000">.</span>arrayLayer <span style="color: #990000">=</span> a<span style="color: #990000">;</span>

            pBind<span style="color: #990000">-&gt;</span>offset <span style="color: #990000">=</span> <span style="color: #990000">(</span>VkOffset3D<span style="color: #990000">)</span><span style="color: #FF0000">{</span><span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #FF0000">}</span><span style="color: #990000">;</span>
            pBind<span style="color: #990000">-&gt;</span>extent <span style="color: #990000">=</span> sparseImageInfo<span style="color: #990000">.</span>extent<span style="color: #990000">;</span>
            pBind<span style="color: #990000">-&gt;</span>memoryOffset <span style="color: #990000">=</span> <span style="font-style: italic"><span style="color: #9A1900">/* allocated memoryOffset */</span></span><span style="color: #990000">;</span>
            pBind<span style="color: #990000">-&gt;</span>memory <span style="color: #990000">=</span> <span style="font-style: italic"><span style="color: #9A1900">/* allocated memory */</span></span><span style="color: #990000">;</span>
            pBind<span style="color: #990000">-&gt;</span>flags <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
        <span style="color: #FF0000">}</span>
    <span style="color: #FF0000">}</span>

    <span style="font-weight: bold"><span style="color: #000000">free</span></span><span style="color: #990000">(</span>pSparseReqs<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkSparseImageOpaqueMemoryBindInfo</span> opaqueBindInfo <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    sparseImage<span style="color: #990000">,</span>                                <span style="font-style: italic"><span style="color: #9A1900">// image</span></span>
    bindCount<span style="color: #990000">,</span>                                  <span style="font-style: italic"><span style="color: #9A1900">// bindCount</span></span>
    binds                                       <span style="font-style: italic"><span style="color: #9A1900">// pBinds</span></span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkSparseImageMemoryBindInfo</span> imageBindInfo <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    sparseImage<span style="color: #990000">,</span>                                <span style="font-style: italic"><span style="color: #9A1900">// image</span></span>
    sparseImageInfo<span style="color: #990000">.</span>arrayLayers<span style="color: #990000">,</span>                <span style="font-style: italic"><span style="color: #9A1900">// bindCount</span></span>
    imageBinds                                  <span style="font-style: italic"><span style="color: #9A1900">// pBinds</span></span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkBindSparseInfo</span> bindSparseInfo <span style="color: #990000">=</span>
<span style="color: #FF0000">{</span>
    VK_STRUCTURE_TYPE_BIND_SPARSE_INFO<span style="color: #990000">,</span>         <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
    NULL<span style="color: #990000">,</span>                                       <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
    <span style="color: #990000">...</span>
    <span style="color: #993399">1</span><span style="color: #990000">,</span>                                          <span style="font-style: italic"><span style="color: #9A1900">// imageOpaqueBindCount</span></span>
    <span style="color: #990000">&amp;</span>opaqueBindInfo<span style="color: #990000">,</span>                            <span style="font-style: italic"><span style="color: #9A1900">// pImageOpaqueBinds</span></span>
    <span style="color: #993399">1</span><span style="color: #990000">,</span>                                          <span style="font-style: italic"><span style="color: #9A1900">// imageBindCount</span></span>
    <span style="color: #990000">&amp;</span>imageBindInfo<span style="color: #990000">,</span>                             <span style="font-style: italic"><span style="color: #9A1900">// pImageBinds</span></span>
    <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">// vkQueueBindSparse is application synchronized per queue object.</span></span>
<span style="font-weight: bold"><span style="color: #000000">AcquireQueueOwnership</span></span><span style="color: #990000">(</span>queue<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">// Actually bind memory</span></span>
<span style="font-weight: bold"><span style="color: #000000">vkQueueBindSparse</span></span><span style="color: #990000">(</span>queue<span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>bindSparseInfo<span style="color: #990000">,</span> VK_NULL_HANDLE<span style="color: #990000">);</span>

<span style="font-weight: bold"><span style="color: #000000">ReleaseQueueOwnership</span></span><span style="color: #990000">(</span>queue<span style="color: #990000">);</span></tt></pre></div></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="wsi">29. Window System Integration (WSI)</h2>
<div class="sectionbody">
<div class="paragraph"><p>This chapter discusses the window system integration (WSI) between the
Vulkan API and the various forms of displaying the results of rendering to a
user.
Since the Vulkan API <span role="normative">can</span> be used without displaying results, WSI is
provided through the use of optional Vulkan extensions.
This chapter provides an overview of WSI.
See the appendix for additional details of each WSI extension, including
which extensions <span role="normative">must</span> be enabled in order to use each of the functions
described in this chapter.</p></div>
<div class="sect2">
<h3 id="_wsi_platform">29.1. WSI Platform</h3>
<div class="paragraph"><p>A platform is an abstraction for a window system, OS, etc.
Some examples include MS Windows, Android, and Wayland.
The Vulkan API <span role="normative">may</span> be integrated in a unique manner for each platform.</p></div>
<div class="paragraph"><p>The Vulkan API does not define any type of platform object.
Platform-specific WSI extensions are defined, which contain
platform-specific functions for using WSI.
Use of these extensions is guarded by preprocessor symbols as defined in the
<a href="#boilerplate-wsi-header">Window System-Specific Header Control</a> appendix.</p></div>
<div class="paragraph"><p>In order for an application to be compiled to use WSI with a given platform,
it <span role="normative">must</span> #define the appropriate preprocessor symbol prior to including the
"vulkan.h" header file.
Each platform-specific extension is an instance extension.
The application <span role="normative">must</span> enable instance extensions with <code>vkCreateInstance</code>
before using them.</p></div>
</div>
<div class="sect2">
<h3 id="_wsi_surface">29.2. WSI Surface</h3>
<div class="paragraph"><p>A <code>VkSurfaceKHR</code> object abstracts a native platform surface or window
object for use with Vulkan.
The <span class="monospaced">VK_KHR_surface extension</span> declares the <code>VkSurfaceKHR</code> object, and
provides a function for destroying <code>VkSurfaceKHR</code> objects.
Separate platform-specific extensions each provide a function for creating a
<code>VkSurfaceKHR</code> object for the respective platform.
From the application&#8217;s perspective this is an opaque handle, just like the
handles of other Vulkan objects.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>On certain platforms, the Vulkan loader and ICDs <span role="normative">may</span> have conventions that
treat the handle as a pointer to a struct that contains the
platform-specific information about the surface.
This will be described in the documentation for the loader-ICD interface,
and in the "vk_icd.h" header file of the LoaderAndTools source-code
repository.
This does not affect the loader-layer interface; layers <span role="normative">may</span> wrap
<code>VkSurfaceKHR</code> objects.</p></div>
</td>
</tr></table>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_android">29.2.1. Android Platform</h4>
<div class="paragraph"><p>To create a <code>VkSurfaceKHR</code> object for an Android native window, call:</p></div>
<div class="listingblock">
<a id="vkCreateAndroidSurfaceKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateAndroidSurfaceKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkInstance</span>                                  instance<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAndroidSurfaceCreateInfoKHR<span style="color: #990000">*</span>        pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkSurfaceKHR<span style="color: #990000">*</span>                               pSurface<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> is the instance to associate the surface with.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code>VkAndroidSurfaceCreateInfoKHR</code> structure containing parameters
    affecting the creation of the surface object.
</p>
</li>
<li>
<p>
<code>pAllocator</code> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a href="#memory-allocation">Memory Allocation</a>).
</p>
</li>
<li>
<p>
<code>pSurface</code> points to a <code>VkSurfaceKHR</code> handle in which the
    created surface object is returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p>During the lifetime of a surface created using a particular
<code>ANativeWindow</code> handle any attempts to create another surface for the
same <code>ANativeWindow</code> and any attempts to connect to the same
<code>ANativeWindow</code> through other platform mechanisms will fail.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">NOTE</div>
<div class="paragraph"><p>In particular, only one <code>VkSurfaceKHR</code> <span role="normative">can</span> exist at a time for a given
window.
Similarly, a native window <span role="normative">cannot</span> be used by both a <code>VkSurfaceKHR</code> and
EGLSurface simultaneously.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>If successful, <code>vkCreateAndroidSurfaceKHR</code> increments the
<code>ANativeWindow</code>&#8217;s reference count, and <code>vkDestroySurfaceKHR</code> will
decrement it.</p></div>
<div class="paragraph"><p>On Android, when a swapchain&#8217;s <code>imageExtent</code> does not match the
surface&#8217;s <code>currentExtent</code>, the swapchain images will be scaled to the
surface&#8217;s dimensions during presentation.
<code>minImageExtent</code> is <span class="eq">(1,1)</span>, and <code>maxImageExtent</code> is the maximum
image size supported by the consumer.
For the system compositor, <code>currentExtent</code> is the window size (i.e. the
consumer&#8217;s preferred size).</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> <span role="normative">must</span> be a valid <code>VkInstance</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkAndroidSurfaceCreateInfoKHR</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pSurface</code> <span role="normative">must</span> be a pointer to a <code>VkSurfaceKHR</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkAndroidSurfaceCreateInfoKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkAndroidSurfaceCreateInfoKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkAndroidSurfaceCreateInfoKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                   sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                       pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkAndroidSurfaceCreateFlagsKHR</span>    flags<span style="color: #990000">;</span>
    ANativeWindow<span style="color: #990000">*</span>                    window<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkAndroidSurfaceCreateInfoKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>window</code> is a pointer to the <code>ANativeWindow</code> to associate the
    surface with.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>window</code> <span role="normative">must</span> point to a valid Android <code>ANativeWindow</code>.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_mir">29.2.2. Mir Platform</h4>
<div class="paragraph"><p>To create a <code>VkSurfaceKHR</code> object for a Mir window, call:</p></div>
<div class="listingblock">
<a id="vkCreateMirSurfaceKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateMirSurfaceKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkInstance</span>                                  instance<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkMirSurfaceCreateInfoKHR<span style="color: #990000">*</span>            pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkSurfaceKHR<span style="color: #990000">*</span>                               pSurface<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> is the instance to associate the surface with.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code><a href="#VkMirSurfaceCreateInfoKHR">VkMirSurfaceCreateInfoKHR</a></code> structure containing parameters
    affecting the creation of the surface object.
</p>
</li>
<li>
<p>
<code>pAllocator</code> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a href="#memory-allocation">Memory Allocation</a>).
</p>
</li>
<li>
<p>
<code>pSurface</code> points to a <code>VkSurfaceKHR</code> handle in which the
    created surface object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> <span role="normative">must</span> be a valid <code>VkInstance</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkMirSurfaceCreateInfoKHR</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pSurface</code> <span role="normative">must</span> be a pointer to a <code>VkSurfaceKHR</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkMirSurfaceCreateInfoKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkMirSurfaceCreateInfoKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkMirSurfaceCreateInfoKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>               sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                   pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkMirSurfaceCreateFlagsKHR</span>    flags<span style="color: #990000">;</span>
    MirConnection<span style="color: #990000">*</span>                connection<span style="color: #990000">;</span>
    MirSurface<span style="color: #990000">*</span>                   mirSurface<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkMirSurfaceCreateInfoKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>connection</code> and <code>surface</code> are pointers to the
    <code>MirConnection</code> and <code>MirSurface</code> for the window to associate the
    surface with.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>connection</code> <span role="normative">must</span> point to a valid <code>MirConnection</code>.
</p>
</li>
<li>
<p>
<code>surface</code> <span role="normative">must</span> point to a valid <code>MirSurface</code>.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_MIR_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>On Mir, when a swapchain&#8217;s <code>imageExtent</code> does not match the surface&#8217;s
<code>currentExtent</code>, the swapchain images will be scaled to the surface&#8217;s
dimensions during presentation.
<code>minImageExtent</code> is <span class="eq">(1,1)</span>, and <code>maxImageExtent</code> is the maximum
supported surface size.</p></div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_wayland">29.2.3. Wayland Platform</h4>
<div class="paragraph"><p>To create a <code>VkSurfaceKHR</code> object for a Wayland surface, call:</p></div>
<div class="listingblock">
<a id="vkCreateWaylandSurfaceKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateWaylandSurfaceKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkInstance</span>                                  instance<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkWaylandSurfaceCreateInfoKHR<span style="color: #990000">*</span>        pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkSurfaceKHR<span style="color: #990000">*</span>                               pSurface<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> is the instance to associate the surface with.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code><a href="#VkWaylandSurfaceCreateInfoKHR">VkWaylandSurfaceCreateInfoKHR</a></code> structure containing parameters
    affecting the creation of the surface object.
</p>
</li>
<li>
<p>
<code>pAllocator</code> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a href="#memory-allocation">Memory Allocation</a>).
</p>
</li>
<li>
<p>
<code>pSurface</code> points to a <code>VkSurfaceKHR</code> handle in which the
    created surface object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> <span role="normative">must</span> be a valid <code>VkInstance</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkWaylandSurfaceCreateInfoKHR</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pSurface</code> <span role="normative">must</span> be a pointer to a <code>VkSurfaceKHR</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkWaylandSurfaceCreateInfoKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkWaylandSurfaceCreateInfoKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkWaylandSurfaceCreateInfoKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                   sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                       pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkWaylandSurfaceCreateFlagsKHR</span>    flags<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">wl_display</span><span style="color: #990000">*</span>                display<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">wl_surface</span><span style="color: #990000">*</span>                surface<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkWaylandSurfaceCreateInfoKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>display</code> and <code>surface</code> are pointers to the Wayland
    <code>wl_display</code> and <code>wl_surface</code> to associate the surface with.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>display</code> <span role="normative">must</span> point to a valid Wayland <code>wl_display</code>.
</p>
</li>
<li>
<p>
<code>surface</code> <span role="normative">must</span> point to a valid Wayland <code>wl_surface</code>.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_WAYLAND_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>On Wayland, <code>currentExtent</code> is undefined <span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span>.
Whatever the application sets a swapchain&#8217;s <code>imageExtent</code> to will be the
size of the window, after the first image is presented.
<code>minImageExtent</code> is <span class="eq">(1,1)</span>, and <code>maxImageExtent</code> is the maximum
supported surface size.</p></div>
<div class="paragraph"><p>Some Vulkan functions <span role="normative">may</span> send protocol over the specified <code>wl_display</code>
connection when using a swapchain or presentable images created from a
<code>VkSurfaceKHR</code> referring to a <code>wl_surface</code>.
Applications <span role="normative">must</span> therefore ensure that both the <code>wl_display</code> and the
<code>wl_surface</code> remain valid for the lifetime of any <code>VkSwapchainKHR</code>
objects created from a particular <code>wl_display</code> and <code>wl_surface</code>.
Also, calling <code><a href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code> will result in Vulkan sending
<code>wl_surface</code>.commit requests to the underlying <code>wl_surface</code> of each
<code>VkSwapchainKHR</code> objects referenced by <code>pPresentInfo</code>.
Therefore, if the application wishes to synchronize any window changes with
a particular frame, such requests <span role="normative">must</span> be sent to the Wayland display
server prior to calling <code><a href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code>.</p></div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_win32">29.2.4. Win32 Platform</h4>
<div class="paragraph"><p>To create a <code>VkSurfaceKHR</code> object for a Win32 window, call:</p></div>
<div class="listingblock">
<a id="vkCreateWin32SurfaceKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateWin32SurfaceKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkInstance</span>                                  instance<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkWin32SurfaceCreateInfoKHR<span style="color: #990000">*</span>          pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkSurfaceKHR<span style="color: #990000">*</span>                               pSurface<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> is the instance to associate the surface with.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code>VkWin32SurfaceCreateInfoKHR</code> structure containing parameters
    affecting the creation of the surface object.
</p>
</li>
<li>
<p>
<code>pAllocator</code> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a href="#memory-allocation">Memory Allocation</a>).
</p>
</li>
<li>
<p>
<code>pSurface</code> points to a <code>VkSurfaceKHR</code> handle in which the
    created surface object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> <span role="normative">must</span> be a valid <code>VkInstance</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkWin32SurfaceCreateInfoKHR</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pSurface</code> <span role="normative">must</span> be a pointer to a <code>VkSurfaceKHR</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkWin32SurfaceCreateInfoKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkWin32SurfaceCreateInfoKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkWin32SurfaceCreateInfoKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                 sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                     pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkWin32SurfaceCreateFlagsKHR</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">HINSTANCE</span>                       hinstance<span style="color: #990000">;</span>
    <span style="color: #008080">HWND</span>                            hwnd<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkWin32SurfaceCreateInfoKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>hinstance</code> and <code>hwnd</code> are the Win32 <code>HINSTANCE</code> and
    <code>HWND</code> for the window to associate the surface with.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>hinstance</code> <span role="normative">must</span> be a valid Win32 <code>HINSTANCE</code>.
</p>
</li>
<li>
<p>
<code>hwnd</code> <span role="normative">must</span> be a valid Win32 <code>HWND</code>.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>With Win32, <code>minImageExtent</code>, <code>maxImageExtent</code>, and
<code>currentExtent</code> are the window size.
Therefore, a swapchain&#8217;s <code>imageExtent</code> <span role="normative">must</span> match the window&#8217;s size.</p></div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_xcb">29.2.5. XCB Platform</h4>
<div class="paragraph"><p>To create a <code>VkSurfaceKHR</code> object for an X11 window, using the XCB
client-side library, call:</p></div>
<div class="listingblock">
<a id="vkCreateXcbSurfaceKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateXcbSurfaceKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkInstance</span>                                  instance<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkXcbSurfaceCreateInfoKHR<span style="color: #990000">*</span>            pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkSurfaceKHR<span style="color: #990000">*</span>                               pSurface<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> is the instance to associate the surface with.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code>VkXcbSurfaceCreateInfoKHR</code> structure containing parameters
    affecting the creation of the surface object.
</p>
</li>
<li>
<p>
<code>pAllocator</code> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a href="#memory-allocation">Memory Allocation</a>).
</p>
</li>
<li>
<p>
<code>pSurface</code> points to a <code>VkSurfaceKHR</code> handle in which the
    created surface object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> <span role="normative">must</span> be a valid <code>VkInstance</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkXcbSurfaceCreateInfoKHR</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pSurface</code> <span role="normative">must</span> be a pointer to a <code>VkSurfaceKHR</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkXcbSurfaceCreateInfoKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkXcbSurfaceCreateInfoKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkXcbSurfaceCreateInfoKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>               sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                   pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkXcbSurfaceCreateFlagsKHR</span>    flags<span style="color: #990000">;</span>
    xcb_connection_t<span style="color: #990000">*</span>             connection<span style="color: #990000">;</span>
    <span style="color: #008080">xcb_window_t</span>                  window<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkXcbSurfaceCreateInfoKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>connection</code> is a pointer to an <code>xcb_connection_t</code> to the X
    server.
</p>
</li>
<li>
<p>
<code>window</code> is the <code>xcb_window_t</code> for the X11 window to associate
    the surface with.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>connection</code> <span role="normative">must</span> point to a valid X11 <code>xcb_connection_t</code>.
</p>
</li>
<li>
<p>
<code>window</code> <span role="normative">must</span> be a valid X11 <code>xcb_window_t</code>.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_XCB_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>With Xcb, <code>minImageExtent</code>, <code>maxImageExtent</code>, and
<code>currentExtent</code> are the window size.
Therefore, a swapchain&#8217;s <code>imageExtent</code> <span role="normative">must</span> match the window&#8217;s size.</p></div>
<div class="paragraph"><p>Some Vulkan functions <span role="normative">may</span> send protocol over the specified xcb connection
when using a swapchain or presentable images created from a VkSurface
referring to an xcb window.
Applications <span role="normative">must</span> therefore ensure the xcb connection is available to
Vulkan for the duration of any functions that manipulate such swapchains or
their presentable images, and any functions that build or queue command
buffers that operate on such presentable images.
Specifically, applications using Vulkan with xcb-based swapchains <span role="normative">must</span></p></div>
<div class="ulist"><ul>
<li>
<p>
Avoid holding a server grab on an xcb connection while waiting for
    Vulkan operations to complete using a swapchain derived from a different
    xcb connection referring to the same X server instance.
    Failing to do so <span role="normative">may</span> result in deadlock.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_xlib">29.2.6. Xlib Platform</h4>
<div class="paragraph"><p>To create a <code>VkSurfaceKHR</code> object for an X11 window, using the Xlib
client-side library, call:</p></div>
<div class="listingblock">
<a id="vkCreateXlibSurfaceKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateXlibSurfaceKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkInstance</span>                                  instance<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkXlibSurfaceCreateInfoKHR<span style="color: #990000">*</span>           pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkSurfaceKHR<span style="color: #990000">*</span>                               pSurface<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> is the instance to associate the surface with.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code>VkXlibSurfaceCreateInfoKHR</code> structure containing the parameters
    affecting the creation of the surface object.
</p>
</li>
<li>
<p>
<code>pAllocator</code> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a href="#memory-allocation">Memory Allocation</a>).
</p>
</li>
<li>
<p>
<code>pSurface</code> points to a <code>VkSurfaceKHR</code> handle in which the
    created surface object is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> <span role="normative">must</span> be a valid <code>VkInstance</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkXlibSurfaceCreateInfoKHR</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pSurface</code> <span role="normative">must</span> be a pointer to a <code>VkSurfaceKHR</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkXlibSurfaceCreateInfoKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkXlibSurfaceCreateInfoKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkXlibSurfaceCreateInfoKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                    pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkXlibSurfaceCreateFlagsKHR</span>    flags<span style="color: #990000">;</span>
    Display<span style="color: #990000">*</span>                       dpy<span style="color: #990000">;</span>
    <span style="color: #008080">Window</span>                         window<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkXlibSurfaceCreateInfoKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use.
</p>
</li>
<li>
<p>
<code>dpy</code> is a pointer to an Xlib <code>Display</code> connection to the X
    server.
</p>
</li>
<li>
<p>
<code>window</code> is an Xlib <code>Window</code> to associate the surface with.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>dpy</code> <span role="normative">must</span> point to a valid Xlib <code>Display</code>.
</p>
</li>
<li>
<p>
<code>window</code> <span role="normative">must</span> be a valid Xlib <code>Window</code>.
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_XLIB_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>With Xlib, <code>minImageExtent</code>, <code>maxImageExtent</code>, and
<code>currentExtent</code> are the window size.
Therefore, a swapchain&#8217;s <code>imageExtent</code> <span role="normative">must</span> match the window&#8217;s size.</p></div>
<div class="paragraph"><p>Some Vulkan functions <span role="normative">may</span> send protocol over the specified Xlib
<code>Display</code> connection when using a swapchain or presentable images created
from a VkSurface referring to an Xlib window.
Applications <span role="normative">must</span> therefore ensure the display connection is available to
Vulkan for the duration of any functions that manipulate such swapchains or
their presentable images, and any functions that build or queue command
buffers that operate on such presentable images.
Specifically, applications using Vulkan with Xlib-based swapchains <span role="normative">must</span></p></div>
<div class="ulist"><ul>
<li>
<p>
Call <code>XInitThreads</code>() before calling any other Xlib functions if they
    intend to use Vulkan in multiple threads, or use Vulkan and Xlib in
    separate threads.
</p>
</li>
<li>
<p>
Avoid holding a server grab on a display connection while waiting for
    Vulkan operations to complete using a swapchain derived from a different
    display connection referring to the same X server instance.
    Failing to do so <span role="normative">may</span> result in deadlock.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_platform_independent_information">29.2.7. Platform-Independent Information</h4>
<div class="paragraph"><p>Once created, <code>VkSurfaceKHR</code> objects <span role="normative">can</span> be used in this and other
extensions, in particular the <span class="monospaced">VK_KHR_swapchain</span> extension.</p></div>
<div class="paragraph"><p>Several WSI functions return <code>VK_ERROR_SURFACE_LOST_KHR</code> if the surface
becomes no longer available.
After such an error, the surface (and any child swapchain, if one exists)
<span role="normative">should</span> be destroyed, as there is no way to restore them to a not-lost
state.
Applications <span role="normative">may</span> attempt to create a new <code>VkSurfaceKHR</code> using the same
native platform window object, but whether such re-creation will succeed is
platform-dependent and <span role="normative">may</span> depend on the reason the surface became
unavailable.
A lost surface does not otherwise cause devices to be
<a href="#devsandqueues-lost-device">lost</a>.</p></div>
<div class="paragraph"><p>To destroy a <code>VkSurfaceKHR</code> object, call:</p></div>
<div class="listingblock">
<a id="vkDestroySurfaceKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroySurfaceKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkInstance</span>                                  instance<span style="color: #990000">,</span>
    <span style="color: #008080">VkSurfaceKHR</span>                                surface<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> is the instance used to create the surface.
</p>
</li>
<li>
<p>
<code>surface</code> is the surface to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a href="#memory-allocation">Memory Allocation</a>).
</p>
</li>
</ul></div>
<div class="paragraph"><p>Destroying a <code>VkSurfaceKHR</code> merely severs the connection between Vulkan
and the native surface, and does not imply destroying the native surface,
closing a window, or similar behavior.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All <code>VkSwapchainKHR</code> objects created for <code>surface</code> <span role="normative">must</span> have
    been destroyed prior to destroying <code>surface</code>
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>surface</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>surface</code> was
    created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> <span role="normative">must</span> be a valid <code>VkInstance</code> handle
</p>
</li>
<li>
<p>
If <code>surface</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>surface</code> <span role="normative">must</span> be a valid <code>VkSurfaceKHR</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
If <code>surface</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>instance</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>surface</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="display">29.3. Presenting Directly to Display Devices</h3>
<div class="paragraph"><p>In some environments applications <span role="normative">can</span> also present Vulkan rendering
directly to display devices without using an intermediate windowing system.
This <span role="normative">can</span> be useful for embedded applications, or implementing the
rendering/presentation backend of a windowing system using Vulkan.
The <span class="monospaced">VK_KHR_display</span> extension provides the functionality necessary to
enumerate display devices and create <code>VkSurface</code> objects that target
displays.</p></div>
<div class="sect3">
<h4 id="_display_enumeration">29.3.1. Display Enumeration</h4>
<div class="paragraph"><p>Various functions are provided for enumerating the available display devices
present on a Vulkan physical device.
To query information about the available displays, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceDisplayPropertiesKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceDisplayPropertiesKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pPropertyCount<span style="color: #990000">,</span>
    VkDisplayPropertiesKHR<span style="color: #990000">*</span>                     pProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is a physical device.
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> is a pointer to an integer related to the number of
    display devices available or queried, as described below.
</p>
</li>
<li>
<p>
<code>pProperties</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code>VkDisplayPropertiesKHR</code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pProperties</code> is <span class="monospaced">NULL</span>, then the number of display devices available
for <code>physicalDevice</code> is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <span role="normative">must</span> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If the value of <code>pPropertyCount</code> is less than the number of display
devices for <code>physicalDevice</code>, at most <code>pPropertyCount</code> structures
will be written.
If <code>pPropertyCount</code> is smaller than the number of display devices
available for <code>physicalDevice</code>, <code>VK_INCOMPLETE</code> will be returned
instead of <code>VK_SUCCESS</code> to indicate that not all the available values
were returned.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pPropertyCount</code> is not <span class="monospaced">0</span>, and <code>pProperties</code> is not <span class="monospaced">NULL</span>, <code>pProperties</code> <span role="normative">must</span> be a pointer to an array of <code>pPropertyCount</code> <code>VkDisplayPropertiesKHR</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkDisplayPropertiesKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDisplayPropertiesKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDisplayPropertiesKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkDisplayKHR</span>                  display<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span>                   displayName<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent2D</span>                    physicalDimensions<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent2D</span>                    physicalResolution<span style="color: #990000">;</span>
    <span style="color: #008080">VkSurfaceTransformFlagsKHR</span>    supportedTransforms<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                      planeReorderPossible<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                      persistentContent<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDisplayPropertiesKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>display</code> is a handle that is used to refer to the display described
    here.
    This handle will be valid for the lifetime of the Vulkan instance.
</p>
</li>
<li>
<p>
<code>displayName</code> is a pointer to a NULL-terminated string containing
    the name of the display.
    Generally, this will be the name provided by the display&#8217;s EDID.
    It <span role="normative">can</span> be <span class="monospaced">NULL</span> if no suitable name is available.
</p>
</li>
<li>
<p>
<code>physicalDimensions</code> describes the physical width and height of the
    visible portion of the display, in millimeters.
</p>
</li>
<li>
<p>
<code>physicalResolution</code> describes the physical, native, or preferred
    resolution of the display.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>For devices which have no natural value to return here, implementations
<span role="normative">should</span> return the maximum resolution supported.</p></div>
</td>
</tr></table>
</div>
<div class="ulist"><ul>
<li>
<p>
<code>supportedTransforms</code> tells which transforms are supported by this
    display.
    This will contain one or more of the bits from
    <code>VkSurfaceTransformFlagsKHR</code>.
</p>
</li>
<li>
<p>
<code>planeReorderPossible</code> tells whether the planes on this display <span role="normative">can</span>
    have their z order changed.
    If this is <code>VK_TRUE</code>, the application <span role="normative">can</span> re-arrange the planes on
    this display in any order relative to each other.
</p>
</li>
<li>
<p>
<code>persistentContent</code> tells whether the display supports
    self-refresh/internal buffering.
    If this is true, the application <span role="normative">can</span> submit persistent present
    operations on swapchains created against this display.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Persistent presents <span role="normative">may</span> have higher latency, and <span role="normative">may</span> use less power when
the screen content is updated infrequently, or when only a portion of the
screen needs to be updated in most frames.</p></div>
</td>
</tr></table>
</div>
<div class="sect4">
<h5 id="_display_planes">Display Planes</h5>
<div class="paragraph"><p>Images are presented to individual planes on a display.
Devices <span role="normative">must</span> support at least one plane on each display.
Planes <span role="normative">can</span> be stacked and blended to composite multiple images on one
display.
Devices <span role="normative">may</span> support only a fixed stacking order and fixed mapping between
planes and displays, or they <span role="normative">may</span> allow arbitrary application specified
stacking orders and mappings between planes and displays.
To query the properties of device display planes, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceDisplayPlanePropertiesKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pPropertyCount<span style="color: #990000">,</span>
    VkDisplayPlanePropertiesKHR<span style="color: #990000">*</span>                pProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is a physical device.
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> is a pointer to an integer related to the number of
    display planes available or queried, as described below.
</p>
</li>
<li>
<p>
<code>pProperties</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code>VkDisplayPlanePropertiesKHR</code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pProperties</code> is <span class="monospaced">NULL</span>, then the number of display planes available
for <code>physicalDevice</code> is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <span role="normative">must</span> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If the value of <code>pPropertyCount</code> is less than the number of display
planes for <code>physicalDevice</code>, at most <code>pPropertyCount</code> structures
will be written.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pPropertyCount</code> is not <span class="monospaced">0</span>, and <code>pProperties</code> is not <span class="monospaced">NULL</span>, <code>pProperties</code> <span role="normative">must</span> be a pointer to an array of <code>pPropertyCount</code> <code>VkDisplayPlanePropertiesKHR</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkDisplayPlanePropertiesKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDisplayPlanePropertiesKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDisplayPlanePropertiesKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkDisplayKHR</span>    currentDisplay<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>        currentStackIndex<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDisplayPlanePropertiesKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>currentDisplay</code> is the handle of the display the plane is currently
    associated with.
    If the plane is not currently attached to any displays, this will be
    <code>VK_NULL_HANDLE</code>.
</p>
</li>
<li>
<p>
<code>currentStackIndex</code> is the current z-order of the plane.
    This will be between 0 and the value returned by
    <code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code>() in
    <code>pPropertyCount</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To determine which displays a plane is usable with, call</p></div>
<div class="listingblock">
<a id="vkGetDisplayPlaneSupportedDisplaysKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetDisplayPlaneSupportedDisplaysKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    planeIndex<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pDisplayCount<span style="color: #990000">,</span>
    VkDisplayKHR<span style="color: #990000">*</span>                               pDisplays<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is a physical device.
</p>
</li>
<li>
<p>
<code>planeIndex</code> is the plane which the application wishes to use, and
    <span role="normative">must</span> be in the range <span class="eq">[0, physical device plane count - 1]</span>.
</p>
</li>
<li>
<p>
<code>pDisplayCount</code> is a pointer to an integer related to the number of
    display planes available or queried, as described below.
</p>
</li>
<li>
<p>
<code>pDisplays</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code>VkDisplayKHR</code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pDisplays</code> is <span class="monospaced">NULL</span>, then the number of displays usable with the
specified <code>planeIndex</code> for <code>physicalDevice</code> is returned in
<code>pDisplayCount</code>.
Otherwise, <code>pDisplayCount</code> <span role="normative">must</span> point to a variable set by the user to
the number of elements in the <code>pDisplays</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pDisplays</code>.
If the value of <code>pDisplayCount</code> is less than the number of display
planes for <code>physicalDevice</code>, at most <code>pDisplayCount</code> structures will
be written.
If <code>pDisplayCount</code> is smaller than the number of displays usable with
the specified <code>planeIndex</code> for <code>physicalDevice</code>, <code>VK_INCOMPLETE</code>
will be returned instead of <code>VK_SUCCESS</code> to indicate that not all the
available values were returned.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>planeIndex</code> <span role="normative">must</span> be less than the number of display planes
    supported by the device as determined by calling
    <code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pDisplayCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pDisplayCount</code> is not <span class="monospaced">0</span>, and <code>pDisplays</code> is not <span class="monospaced">NULL</span>, <code>pDisplays</code> <span role="normative">must</span> be a pointer to an array of <code>pDisplayCount</code> <code>VkDisplayKHR</code> handles
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>Additional properties of displays are queried using specialized query
functions.</p></div>
</div>
<div class="sect4">
<h5 id="_display_modes">Display Modes</h5>
<div class="paragraph"><p>Each display has one or more supported modes associated with it by default.
These built-in modes are queried by calling:</p></div>
<div class="listingblock">
<a id="vkGetDisplayModePropertiesKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetDisplayModePropertiesKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">VkDisplayKHR</span>                                display<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pPropertyCount<span style="color: #990000">,</span>
    VkDisplayModePropertiesKHR<span style="color: #990000">*</span>                 pProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device associated with
    <code>display</code>.
</p>
</li>
<li>
<p>
<code>display</code> is the display to query.
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> is a pointer to an integer related to the number of
    display modes available or queried, as described below.
</p>
</li>
<li>
<p>
<code>pProperties</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code>VkDisplayModePropertiesKHR</code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pProperties</code> is <span class="monospaced">NULL</span>, then the number of display modes available
on the specified <code>display</code> for <code>physicalDevice</code> is returned in
<code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <span role="normative">must</span> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If the value of <code>pPropertyCount</code> is less than the number of display
modes for <code>physicalDevice</code>, at most <code>pPropertyCount</code> structures will
be written.
If <code>pPropertyCount</code> is smaller than the number of display modes
available on the specified <code>display</code> for <code>physicalDevice</code>,
<code>VK_INCOMPLETE</code> will be returned instead of <code>VK_SUCCESS</code> to indicate
that not all the available values were returned.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>display</code> <span role="normative">must</span> be a valid <code>VkDisplayKHR</code> handle
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pPropertyCount</code> is not <span class="monospaced">0</span>, and <code>pProperties</code> is not <span class="monospaced">NULL</span>, <code>pProperties</code> <span role="normative">must</span> be a pointer to an array of <code>pPropertyCount</code> <code>VkDisplayModePropertiesKHR</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkDisplayModePropertiesKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDisplayModePropertiesKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDisplayModePropertiesKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkDisplayModeKHR</span>              displayMode<span style="color: #990000">;</span>
    <span style="color: #008080">VkDisplayModeParametersKHR</span>    parameters<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDisplayModePropertiesKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>displayMode</code> is a handle to the display mode described in this
    structure.
    This handle will be valid for the lifetime of the Vulkan instance.
</p>
</li>
<li>
<p>
<code>parameters</code> is a <code>VkDisplayModeParametersKHR</code> structure
    describing the display parameters associated with <code>displayMode</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <code>VkDisplayModeParametersKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDisplayModeParametersKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDisplayModeParametersKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkExtent2D</span>    visibleRegion<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>      refreshRate<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDisplayModeParametersKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>visibleRegion</code> is the 2D extents of the visible region.
</p>
</li>
<li>
<p>
<code>refreshRate</code> is a <code>uint32_t</code> that is the number of times the
    display is refreshed each second multiplied by 1000.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>For example, a 60Hz display mode would report a <code>refreshRate</code> of 60,000.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Additional modes <span role="normative">may</span> also be created by calling:</p></div>
<div class="listingblock">
<a id="vkCreateDisplayModeKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateDisplayModeKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">VkDisplayKHR</span>                                display<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDisplayModeCreateInfoKHR<span style="color: #990000">*</span>           pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkDisplayModeKHR<span style="color: #990000">*</span>                           pMode<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device associated with
    <code>display</code>.
</p>
</li>
<li>
<p>
<code>display</code> is the display to create an additional mode for.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a <code><a href="#VkDisplayModeCreateInfoKHR">VkDisplayModeCreateInfoKHR</a></code> structure
    describing the new mode to create.
</p>
</li>
<li>
<p>
<code>pAllocator</code> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a href="#memory-allocation">Memory Allocation</a>).
</p>
</li>
<li>
<p>
<code>pMode</code> returns the handle of the mode created.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>display</code> <span role="normative">must</span> be a valid <code>VkDisplayKHR</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkDisplayModeCreateInfoKHR</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pMode</code> <span role="normative">must</span> be a pointer to a <code>VkDisplayModeKHR</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>display</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_INITIALIZATION_FAILED</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkDisplayModeCreateInfoKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDisplayModeCreateInfoKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDisplayModeCreateInfoKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                    pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkDisplayModeCreateFlagsKHR</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkDisplayModeParametersKHR</span>     parameters<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDisplayModeCreateInfoKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use, and <span role="normative">must</span> be zero.
</p>
</li>
<li>
<p>
<code>parameters</code> is a <code>VkDisplayModeParametersKHR</code> structure
    describing the display parameters to use in creating the new mode.
    If the parameters are not compatible with the specified display, the
    implementation <span role="normative">must</span> return <code>VK_ERROR_INITIALIZATION_FAILED</code>.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
The <code>width</code> and <code>height</code> members of the <code>visibleRegion</code>
    member of <code>parameters</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
The <code>refreshRate</code> member of <code>parameters</code> <span role="normative">must</span> be greater than
    <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Applications that wish to present directly to a display <span role="normative">must</span> select which
layer, or "plane" of the display they wish to target, and a mode to use with
the display.
Each display supports at least one plane.
The capabilities of a given mode and plane combination are determined by
calling:</p></div>
<div class="listingblock">
<a id="vkGetDisplayPlaneCapabilitiesKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetDisplayPlaneCapabilitiesKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">VkDisplayModeKHR</span>                            mode<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    planeIndex<span style="color: #990000">,</span>
    VkDisplayPlaneCapabilitiesKHR<span style="color: #990000">*</span>              pCapabilities<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device associated with
    <code>display</code>
</p>
</li>
<li>
<p>
<code>mode</code> is the display mode the application intends to program when
    using the specified plane.
    Note this parameter also implicitly specifies a display.
</p>
</li>
<li>
<p>
<code>planeIndex</code> is the plane which the application intends to use with
    the display, and is less than the number of display planes supported by
    the device.
</p>
</li>
<li>
<p>
<code>pCapabilities</code> is a pointer to a
    <code><a href="#VkDisplayPlaneCapabilitiesKHR">VkDisplayPlaneCapabilitiesKHR</a></code> structure in which the capabilities
    are returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>mode</code> <span role="normative">must</span> be a valid <code>VkDisplayModeKHR</code> handle
</p>
</li>
<li>
<p>
<code>pCapabilities</code> <span role="normative">must</span> be a pointer to a <code>VkDisplayPlaneCapabilitiesKHR</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>mode</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkDisplayPlaneCapabilitiesKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDisplayPlaneCapabilitiesKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDisplayPlaneCapabilitiesKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkDisplayPlaneAlphaFlagsKHR</span>    supportedAlpha<span style="color: #990000">;</span>
    <span style="color: #008080">VkOffset2D</span>                     minSrcPosition<span style="color: #990000">;</span>
    <span style="color: #008080">VkOffset2D</span>                     maxSrcPosition<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent2D</span>                     minSrcExtent<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent2D</span>                     maxSrcExtent<span style="color: #990000">;</span>
    <span style="color: #008080">VkOffset2D</span>                     minDstPosition<span style="color: #990000">;</span>
    <span style="color: #008080">VkOffset2D</span>                     maxDstPosition<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent2D</span>                     minDstExtent<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent2D</span>                     maxDstExtent<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDisplayPlaneCapabilitiesKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>supportedAlpha</code> is a bitmask of
    <code><a href="#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a></code> describing the supported alpha
    blending modes.
</p>
</li>
<li>
<p>
<code>minSrcPosition</code> is the minimum source rectangle offset supported by
    this plane using the specified mode.
</p>
</li>
<li>
<p>
<code>maxSrcPosition</code> is the maximum source rectangle offset supported by
    this plane using the specified mode.
    The <code>x</code> and <code>y</code> components of <code>maxSrcPosition</code> <span role="normative">must</span> each be
    greater than or equal to the <code>x</code> and <code>y</code> components of
    <code>minSrcPosition</code>, respectively.
</p>
</li>
<li>
<p>
<code>minSrcExtent</code> is the minimum source rectangle size supported by
    this plane using the specified mode.
</p>
</li>
<li>
<p>
<code>maxSrcExtent</code> is the maximum source rectangle size supported by
    this plane using the specified mode.
</p>
</li>
<li>
<p>
<code>minDstPosition</code>, <code>maxDstPosition</code>, <code>minDstExtent</code>,
    <code>maxDstExtent</code> all have similar semantics to their corresponding
    "Src" equivalents, but apply to the output region within the mode rather
    than the input region within the source image.
    Unlike the "Src" offsets, <code>minDstPosition</code> and <code>maxDstPosition</code>
    <span role="normative">may</span> contain negative values.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The minimum and maximum position and extent fields describe the hardware
limits, if any, as they apply to the specified display mode and plane.
Vendors <span role="normative">may</span> support displaying a subset of a swapchain&#8217;s presentable images
on the specified display plane.
This is expressed by returning <code>minSrcPosition</code>, <code>maxSrcPosition</code>,
<code>minSrcExtent</code>, and <code>maxSrcExtent</code> values that indicate a range of
possible positions and sizes <span role="normative">may</span> be used to specify the region within the
presentable images that source pixels will be read from when creating a
swapchain on the specified display mode and plane.</p></div>
<div class="paragraph"><p>Vendors <span role="normative">may</span> also support mapping the presentable images' content to a
subset or superset of the visible region in the specified display mode.
This is expressed by returning <code>minDstPosition</code>, <code>maxDstPosition</code>,
<code>minDstExtent</code> and <code>maxDstExtent</code> values that indicate a range of
possible positions and sizes <span role="normative">may</span> be used to describe the region within the
display mode that the source pixels will be mapped to.</p></div>
<div class="paragraph"><p>Other vendors <span role="normative">may</span> support only a 1-1 mapping between pixels in the
presentable images and the display mode.
This <span role="normative">may</span> be indicated by returning <span class="eq">(0,0)</span> for <code>minSrcPosition</code>,
<code>maxSrcPosition</code>, <code>minDstPosition</code>, and <code>maxDstPosition</code>, and
(display mode width, display mode height) for <code>minSrcExtent</code>,
<code>maxSrcExtent</code>, <code>minDstExtent</code>, and <code>maxDstExtent</code>.</p></div>
<div class="paragraph"><p>These values indicate the limits of the hardware&#8217;s individual fields.
Not all combinations of values within the offset and extent ranges returned
in <code>VkDisplayPlaneCapabilitiesKHR</code> are guaranteed to be supported.
Vendors <span role="normative">may</span> still fail presentation requests that specify unsupported
combinations.</p></div>
</div>
</div>
<div class="sect3">
<h4 id="wsi-display-surfaces">29.3.2. Display Surfaces</h4>
<div class="paragraph"><p>A complete display configuration includes a mode, one or more display planes
and any parameters describing their behavior, and parameters describing some
aspects of the images associated with those planes.
Display surfaces describe the configuration of a single plane within a
complete display configuration.
To create a <code>VkSurfaceKHR</code> structure for a display surface, call:</p></div>
<div class="listingblock">
<a id="vkCreateDisplayPlaneSurfaceKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateDisplayPlaneSurfaceKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkInstance</span>                                  instance<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDisplaySurfaceCreateInfoKHR<span style="color: #990000">*</span>        pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkSurfaceKHR<span style="color: #990000">*</span>                               pSurface<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> is the instance corresponding to the physical device the
    targeted display is on.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code><a href="#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a></code> structure specifying which mode,
    plane, and other parameters to use, as described below.
</p>
</li>
<li>
<p>
<code>pAllocator</code> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a href="#memory-allocation">Memory Allocation</a>).
</p>
</li>
<li>
<p>
<code>pSurface</code> points to a <code>VkSurfaceKHR</code> handle in which the
    created surface is returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>instance</code> <span role="normative">must</span> be a valid <code>VkInstance</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkDisplaySurfaceCreateInfoKHR</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pSurface</code> <span role="normative">must</span> be a pointer to a <code>VkSurfaceKHR</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkDisplaySurfaceCreateInfoKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDisplaySurfaceCreateInfoKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDisplaySurfaceCreateInfoKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                   sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                       pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkDisplaySurfaceCreateFlagsKHR</span>    flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkDisplayModeKHR</span>                  displayMode<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                          planeIndex<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                          planeStackIndex<span style="color: #990000">;</span>
    <span style="color: #008080">VkSurfaceTransformFlagBitsKHR</span>     transform<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                             globalAlpha<span style="color: #990000">;</span>
    <span style="color: #008080">VkDisplayPlaneAlphaFlagBitsKHR</span>    alphaMode<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent2D</span>                        imageExtent<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDisplaySurfaceCreateInfoKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use, and <span role="normative">must</span> be zero.
</p>
</li>
<li>
<p>
<code>displayMode</code> is the mode to use when displaying this surface.
</p>
</li>
<li>
<p>
<code>planeIndex</code> is the plane on which this surface appears.
</p>
</li>
<li>
<p>
<code>planeStackIndex</code> is the z-order of the plane.
</p>
</li>
<li>
<p>
<code>transform</code> is the transform to apply to the images as part of the
    scanout operation.
</p>
</li>
<li>
<p>
<code>globalAlpha</code> is the global alpha value.
    This value is ignored if <code>alphaMode</code> is not
    <code>VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR</code>.
</p>
</li>
<li>
<p>
<code>alphaMode</code> is the type of alpha blending to use.
</p>
</li>
<li>
<p>
<code>imageSize</code> The size of the presentable images to use with the
    surface.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Creating a display surface <span role="normative">must</span> not modify the state of the displays,
planes, or other resources it names.
For example, it <span role="normative">must</span> not apply the specified mode to be set on the
associated display.
Application of display configuration occurs as a side effect of presenting
to a display surface.</p></div>
</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>planeIndex</code> <span role="normative">must</span> be less than the number of display planes
    supported by the device as determined by calling
    <code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code>
</p>
</li>
<li>
<p>
If the <code>planeReorderPossible</code> member of the
    <code>VkDisplayPropertiesKHR</code> structure returned by
    <code>vkGetPhysicalDeviceDisplayPropertiesKHR</code> for the display
    corresponding to <code>displayMode</code> is <code>VK_TRUE</code> then
    <code>planeStackIndex</code> <span role="normative">must</span> be less than the number of display planes
    supported by the device as determined by calling
    <code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code>; otherwise
    <code>planeStackIndex</code> <span role="normative">must</span> equal the <code>currentStackIndex</code> member of
    <code>VkDisplayPlanePropertiesKHR</code> returned by
    <code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code> for the display plane
    corresponding to <code>displayMode</code>
</p>
</li>
<li>
<p>
If <code>alphaMode</code> is <code>VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR</code> then
    <code>globalAlpha</code> <span role="normative">must</span> be between <span class="monospaced">0</span> and <span class="monospaced">1</span>, inclusive
</p>
</li>
<li>
<p>
<code>alphaMode</code> <span role="normative">must</span> be <span class="monospaced">0</span> or one of the bits present in the
    <code>supportedAlpha</code> member of <code>VkDisplayPlaneCapabilitiesKHR</code>
    returned by <code>vkGetDisplayPlaneCapabilitiesKHR</code> for the display plane
    corresponding to <code>displayMode</code>
</p>
</li>
<li>
<p>
The <code>width</code> and <code>height</code> members of <code>imageExtent</code> <span role="normative">must</span> be
    less than the <code>maxImageDimensions2D</code> member of
    <code>VkPhysicalDeviceLimits</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>displayMode</code> <span role="normative">must</span> be a valid <code>VkDisplayModeKHR</code> handle
</p>
</li>
<li>
<p>
<code>transform</code> <span role="normative">must</span> be a valid <code><a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></code> value
</p>
</li>
<li>
<p>
<code>alphaMode</code> <span role="normative">must</span> be a valid <code><a href="#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a></code> value
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Types of alpha blending supported by or used on a display are defined by the
bitmask <code>VkDisplayPlaneAlphaFlagBitsKHR</code>, which contains the following
values:</p></div>
<div class="listingblock">
<a id="VkDisplayPlaneAlphaFlagBitsKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkDisplayPlaneAlphaFlagBitsKHR <span style="color: #FF0000">{</span>
    VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_PREMULTIPLIED_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkDisplayPlaneAlphaFlagBitsKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>These values are described as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR</code>: The source image will be
    treated as opaque.
</p>
</li>
<li>
<p>
<code>VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR</code>: A global alpha value <span role="normative">must</span>
    be specified that will be applied to all pixels in the source image.
</p>
</li>
<li>
<p>
<code>VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR</code>: The alpha value will be
    determined by the alpha channel of the source image&#8217;s pixels.
    If the source format contains no alpha values, no blending will be
    applied.
    The source alpha values are not premultiplied into the source image&#8217;s
    other color channels.
</p>
</li>
<li>
<p>
<code>VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_PREMULTIPLIED_BIT_KHR</code>: This is
    equivalent to <code>VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR</code> except the
    source alpha values are assumed to be premultiplied into the source
    image&#8217;s other color channels.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="_querying_for_wsi_support">29.4. Querying for WSI Support</h3>
<div class="paragraph"><p>Not all physical devices will include WSI support.
Within a physical device, not all queue families will support presentation.
WSI support and compatibility <span role="normative">can</span> be determined in a platform-neutral
manner (which determines support for presentation to a particular surface
object) and additionally <span role="normative">may</span> be determined in platform-specific manners
(which determine support for presentation on the specified physical device
but do not guarantee support for presentation to a particular surface
object).</p></div>
<div class="paragraph"><p>To determine whether a queue family of a physical device supports
presentation to a given surface, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceSurfaceSupportKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceSurfaceSupportKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    queueFamilyIndex<span style="color: #990000">,</span>
    <span style="color: #008080">VkSurfaceKHR</span>                                surface<span style="color: #990000">,</span>
    VkBool32<span style="color: #990000">*</span>                                   pSupported<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device.
</p>
</li>
<li>
<p>
<code>queueFamilyIndex</code> is the queue family.
</p>
</li>
<li>
<p>
<code>surface</code> is the surface.
</p>
</li>
<li>
<p>
<code>pSupported</code> is a pointer to a <code>VkBool32</code>, which is set to
    <code>VK_TRUE</code> to indicate support, and <code>VK_FALSE</code> otherwise.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>queueFamilyIndex</code> <span role="normative">must</span> be less than
    <code>pQueueFamilyPropertyCount</code> returned by
    <code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
    <code>physicalDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>surface</code> <span role="normative">must</span> be a valid <code>VkSurfaceKHR</code> handle
</p>
</li>
<li>
<p>
<code>pSupported</code> <span role="normative">must</span> be a pointer to a <code>VkBool32</code> value
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_SURFACE_LOST_KHR</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="sect3">
<h4 id="platformQuerySupport_android">29.4.1. Android Platform</h4>
<div class="paragraph"><p>On Android, all physical devices and queue families <span role="normative">must</span> be capable of
presentation with any native window.
As a result there is no Android-specific query for these capabilities.</p></div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_mir">29.4.2. Mir Platform</h4>
<div class="paragraph"><p>To determine whether a queue family of a physical device supports
presentation to the Mir compositor, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceMirPresentationSupportKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkBool32</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceMirPresentationSupportKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    queueFamilyIndex<span style="color: #990000">,</span>
    MirConnection<span style="color: #990000">*</span>                              connection<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device.
</p>
</li>
<li>
<p>
<code>queueFamilyIndex</code> is the queue family index.
</p>
</li>
<li>
<p>
<code>connection</code> is a pointer to the <code>MirConnection</code>, and identifies
    the desired Mir compositor.
</p>
</li>
</ul></div>
<div class="paragraph"><p>This platform-specific function <span role="normative">can</span> be called prior to creating a surface.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>queueFamilyIndex</code> <span role="normative">must</span> be less than
    <code>pQueueFamilyPropertyCount</code> returned by
    <code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
    <code>physicalDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>connection</code> <span role="normative">must</span> be a pointer to a <code>MirConnection</code> value
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_walyand">29.4.3. Wayland Platform</h4>
<div class="paragraph"><p>To determine whether a queue family of a physical device supports
presentation to a Wayland compositor, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceWaylandPresentationSupportKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkBool32</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceWaylandPresentationSupportKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    queueFamilyIndex<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">wl_display</span><span style="color: #990000">*</span>                          display<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device.
</p>
</li>
<li>
<p>
<code>queueFamilyIndex</code> is the queue family index.
</p>
</li>
<li>
<p>
<code>display</code> is a pointer to the <code>wl_display</code> associated with a
    Wayland compositor.
</p>
</li>
</ul></div>
<div class="paragraph"><p>This platform-specific function <span role="normative">can</span> be called prior to creating a surface.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>queueFamilyIndex</code> <span role="normative">must</span> be less than
    <code>pQueueFamilyPropertyCount</code> returned by
    <code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
    <code>physicalDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>display</code> <span role="normative">must</span> be a pointer to a <code>wl_display</code> value
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_win32">29.4.4. Win32 Platform</h4>
<div class="paragraph"><p>To determine whether a queue family of a physical device supports
presentation to the Microsoft Windows desktop, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceWin32PresentationSupportKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkBool32</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceWin32PresentationSupportKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    queueFamilyIndex<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device.
</p>
</li>
<li>
<p>
<code>queueFamilyIndex</code> is the queue family index.
</p>
</li>
</ul></div>
<div class="paragraph"><p>This platform-specific function <span role="normative">can</span> be called prior to creating a surface.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>queueFamilyIndex</code> <span role="normative">must</span> be less than
    <code>pQueueFamilyPropertyCount</code> returned by
    <code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
    <code>physicalDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_xcb">29.4.5. XCB Platform</h4>
<div class="paragraph"><p>To determine whether a queue family of a physical device supports
presentation to an X11 server, using the XCB client-side library, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceXcbPresentationSupportKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkBool32</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceXcbPresentationSupportKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    queueFamilyIndex<span style="color: #990000">,</span>
    xcb_connection_t<span style="color: #990000">*</span>                           connection<span style="color: #990000">,</span>
    <span style="color: #008080">xcb_visualid_t</span>                              visual_id<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device.
</p>
</li>
<li>
<p>
<code>queueFamilyIndex</code> is the queue family index.
</p>
</li>
<li>
<p>
<code>connection</code> is a pointer to an <code>xcb_connection_t</code> to the X
    server.
    <code>visual_id</code> is an X11 visual (<code>xcb_visualid_t</code>).
</p>
</li>
</ul></div>
<div class="paragraph"><p>This platform-specific function <span role="normative">can</span> be called prior to creating a surface.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>queueFamilyIndex</code> <span role="normative">must</span> be less than
    <code>pQueueFamilyPropertyCount</code> returned by
    <code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
    <code>physicalDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>connection</code> <span role="normative">must</span> be a pointer to a <code>xcb_connection_t</code> value
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_xlib">29.4.6. Xlib Platform</h4>
<div class="paragraph"><p>To determine whether a queue family of a physical device supports
presentation to an X11 server, using the Xlib client-side library, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceXlibPresentationSupportKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkBool32</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceXlibPresentationSupportKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    queueFamilyIndex<span style="color: #990000">,</span>
    Display<span style="color: #990000">*</span>                                    dpy<span style="color: #990000">,</span>
    <span style="color: #008080">VisualID</span>                                    visualID<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device.
</p>
</li>
<li>
<p>
<code>queueFamilyIndex</code> is the queue family index.
</p>
</li>
<li>
<p>
<code>dpy</code> is a pointer to an Xlib <code>Display</code> connection to the server.
</p>
</li>
<li>
<p>
<code>visualId</code> is an X11 visual (<code>VisualID</code>).
</p>
</li>
</ul></div>
<div class="paragraph"><p>This platform-specific function <span role="normative">can</span> be called prior to creating a surface.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>queueFamilyIndex</code> <span role="normative">must</span> be less than
    <code>pQueueFamilyPropertyCount</code> returned by
    <code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
    <code>physicalDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>dpy</code> <span role="normative">must</span> be a pointer to a <code>Display</code> value
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_surface_queries">29.5. Surface Queries</h3>
<div class="paragraph"><p>To query the basic capabilities of a surface, needed in order to create a
swapchain, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceSurfaceCapabilitiesKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">VkSurfaceKHR</span>                                surface<span style="color: #990000">,</span>
    VkSurfaceCapabilitiesKHR<span style="color: #990000">*</span>                   pSurfaceCapabilities<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device that will be associated with
    the swapchain to be created, as described for
    <code><a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>.
</p>
</li>
<li>
<p>
<code>surface</code> is the surface that will be associated with the swapchain.
</p>
</li>
<li>
<p>
<code>pSurfaceCapabilities</code> is a pointer to an instance of the
    <code><a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a></code> structure in which the capabilities are
    returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>surface</code> <span role="normative">must</span> be a valid <code>VkSurfaceKHR</code> handle
</p>
</li>
<li>
<p>
<code>pSurfaceCapabilities</code> <span role="normative">must</span> be a pointer to a <code>VkSurfaceCapabilitiesKHR</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_SURFACE_LOST_KHR</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkSurfaceCapabilitiesKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSurfaceCapabilitiesKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSurfaceCapabilitiesKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>                         minImageCount<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                         maxImageCount<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent2D</span>                       currentExtent<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent2D</span>                       minImageExtent<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent2D</span>                       maxImageExtent<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                         maxImageArrayLayers<span style="color: #990000">;</span>
    <span style="color: #008080">VkSurfaceTransformFlagsKHR</span>       supportedTransforms<span style="color: #990000">;</span>
    <span style="color: #008080">VkSurfaceTransformFlagBitsKHR</span>    currentTransform<span style="color: #990000">;</span>
    <span style="color: #008080">VkCompositeAlphaFlagsKHR</span>         supportedCompositeAlpha<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageUsageFlags</span>                supportedUsageFlags<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSurfaceCapabilitiesKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>minImageCount</code> is the minimum number of images the specified device
    supports for a swapchain created for the surface, and will be at least
    one.
</p>
</li>
<li>
<p>
<code>maxImageCount</code> is the maximum number of images the specified device
    supports for a swapchain created for the surface, and will be either 0,
    or greater than or equal to <code>minImageCount</code>.
    A value of 0 means that there is no limit on the number of images,
    though there <span role="normative">may</span> be limits related to the total amount of memory used
    by swapchain images.
</p>
</li>
<li>
<p>
<code>currentExtent</code> is the current width and height of the surface, or
    the special value <span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span> indicating that the
    surface size will be determined by the extent of a swapchain targeting
    the surface.
</p>
</li>
<li>
<p>
<code>minImageExtent</code> contains the smallest valid swapchain extent for
    the surface on the specified device.
    The <code>width</code> and <code>height</code> of the extent will each be less than or
    equal to the corresponding <code>width</code> and <code>height</code> of
    <code>currentExtent</code>, unless <code>currentExtent</code> has the special value
    described above.
</p>
</li>
<li>
<p>
<code>maxImageExtent</code> contains the largest valid swapchain extent for the
    surface on the specified device.
    The <code>width</code> and <code>height</code> of the extent will each be greater than
    or equal to the corresponding <code>width</code> and <code>height</code> of
    <code>minImageExtent</code>.
    The <code>width</code> and <code>height</code> of the extent will each be greater than
    or equal to the corresponding <code>width</code> and <code>height</code> of
    <code>currentExtent</code>, unless <code>currentExtent</code> has the special value
    described above.
</p>
</li>
<li>
<p>
<code>maxImageArrayLayers</code> is the maximum number of layers swapchain
    images <span role="normative">can</span> have for a swapchain created for this device and surface,
    and will be at least one.
</p>
</li>
<li>
<p>
<code>supportedTransforms</code> is a bitmask of
    <code><a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></code>, describing the presentation
    transforms supported for the surface on the specified device, and at
    least one bit will be set.
</p>
</li>
<li>
<p>
<code>currentTransform</code> is the surface&#8217;s current transform relative to
    the presentation engine&#8217;s natural orientation, as described by
    <code><a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></code>.
</p>
</li>
<li>
<p>
<code>supportedCompositeAlpha</code> is a bitmask of
    <code><a href="#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a></code>, representing the alpha compositing
    modes supported by the presentation engine for the surface on the
    specified device, and at least one bit will be set.
    Opaque composition <span role="normative">can</span> be achieved in any alpha compositing mode by
    either using a swapchain image format that has no alpha component, or by
    ensuring that all pixels in the swapchain images have an alpha value of
    1.0.
</p>
</li>
<li>
<p>
<code>supportedUsageFlags</code> is a bitmask of <code><a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code>
    representing the ways the application <span role="normative">can</span> use the presentable images of
    a swapchain created for the surface on the specified device.
    <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> <span role="normative">must</span> be included in the set
    but implementations <span role="normative">may</span> support additional usages.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Formulas such as <span class="eq">min(N, <code>maxImageCount</code>)</span> are not correct, since
<code>maxImageCount</code> <span role="normative">may</span> be zero.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>#ifdef::VK_EXT_display_surface_counter[]</p></div>
<div class="paragraph"><p>To query the basic capabilities of a surface, needed in order to create a
swapchain, call:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device that will be associated with
    the swapchain to be created, as described for
    <code><a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>.
</p>
</li>
<li>
<p>
<code>surface</code> is the surface that will be associated with the swapchain.
</p>
</li>
<li>
<p>
<code>pSurfaceCapabilities</code> is a pointer to an instance of the
    <code><a href="#VkSurfaceCapabilities2EXT">VkSurfaceCapabilities2EXT</a></code> structure in which the capabilities are
    returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkGetPhysicalDeviceSurfaceCapabilities2EXT</code> behaves similarly to
<code><a href="#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a></code>, with the ability to return
extended information via chained output structures.</p></div>
<div class="paragraph"><p>The <code>VkSurfaceCapabilities2EXT</code> structure is defined as:</p></div>
<div class="paragraph"><p>All members of <code>VkSurfaceCapabilities2EXT</code> are identical to the
corresponding members of <code><a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a></code> where one exists.
The remaining members are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>supportedSurfaceCounters</code> is a bitfield containing one bit set for
    each surface counter type supported.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>supportedSurfaceCounters</code> <span role="normative">must</span> not include
    <code>VK_SURFACE_COUNTER_VBLANK_EXT</code> unless the surface queried is a
    <a href="#wsi-display-surfaces">display surface</a>.
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Valid values for
<code><a href="#VkSurfaceCapabilities2EXT">VkSurfaceCapabilities2EXT</a></code>::<code>supportedSurfaceCounters</code> are defined
by <code>VkSurfaceCounterFlagBitsEXT</code> as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SURFACE_COUNTER_VBLANK_EXT</code> A counter incrementing once every
    time a vblank period occurs on the display associated with the surface.
</p>
</li>
</ul></div>
<div class="paragraph"><p>#endif::VK_EXT_display_surface_counter[]</p></div>
<div class="paragraph"><p><code><a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a></code>::<code>supportedTransforms</code> is a bitmask of,
and <code><a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a></code>::<code>currentTransform</code> is a single bit
from <code>VkSurfaceTransformFlagBitsKHR</code>, which contains the following
values:</p></div>
<div class="listingblock">
<a id="VkSurfaceTransformFlagBitsKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkSurfaceTransformFlagBitsKHR <span style="color: #FF0000">{</span>
    VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_SURFACE_TRANSFORM_ROTATE_180_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_SURFACE_TRANSFORM_ROTATE_270_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
    VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000010</span><span style="color: #990000">,</span>
    VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_90_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000020</span><span style="color: #990000">,</span>
    VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_180_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000040</span><span style="color: #990000">,</span>
    VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_270_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000080</span><span style="color: #990000">,</span>
    VK_SURFACE_TRANSFORM_INHERIT_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000100</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkSurfaceTransformFlagBitsKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>These values are described as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</code>: The image content is
    presented without being transformed.
</p>
</li>
<li>
<p>
<code>VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR</code>: The image content is
    rotated 90 degrees clockwise.
</p>
</li>
<li>
<p>
<code>VK_SURFACE_TRANSFORM_ROTATE_180_BIT_KHR</code>: The image content is
    rotated 180 degrees clockwise.
</p>
</li>
<li>
<p>
<code>VK_SURFACE_TRANSFORM_ROTATE_270_BIT_KHR</code>: The image content is
    rotated 270 degrees clockwise.
</p>
</li>
<li>
<p>
<code>VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_BIT_KHR</code>: The image content
    is mirrored horizontally.
</p>
</li>
<li>
<p>
<code>VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_90_BIT_KHR</code>: The
    image content is mirrored horizontally, then rotated 90 degrees
    clockwise.
</p>
</li>
<li>
<p>
<code>VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_180_BIT_KHR</code>: The
    image content is mirrored horizontally, then rotated 180 degrees
    clockwise.
</p>
</li>
<li>
<p>
<code>VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_270_BIT_KHR</code>: The
    image content is mirrored horizontally, then rotated 270 degrees
    clockwise.
</p>
</li>
<li>
<p>
<code>VK_SURFACE_TRANSFORM_INHERIT_BIT_KHR</code>: The presentation transform
    is not specified, and is instead determined by platform-specific
    considerations and mechanisms outside Vulkan.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <code>supportedCompositeAlpha</code> member is of type
<code>VkCompositeAlphaFlagBitsKHR</code>, which contains the following values:</p></div>
<div class="listingblock">
<a id="VkCompositeAlphaFlagBitsKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkCompositeAlphaFlagBitsKHR <span style="color: #FF0000">{</span>
    VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_COMPOSITE_ALPHA_PRE_MULTIPLIED_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_COMPOSITE_ALPHA_POST_MULTIPLIED_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkCompositeAlphaFlagBitsKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>These values are described as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR</code>: The alpha channel, if it
    exists, of the images is ignored in the compositing process.
    Instead, the image is treated as if it has a constant alpha of 1.0.
</p>
</li>
<li>
<p>
<code>VK_COMPOSITE_ALPHA_PRE_MULTIPLIED_BIT_KHR</code>: The alpha channel, if
    it exists, of the images is respected in the compositing process.
    The non-alpha channels of the image are expected to already be
    multiplied by the alpha channel by the application.
</p>
</li>
<li>
<p>
<code>VK_COMPOSITE_ALPHA_POST_MULTIPLIED_BIT_KHR</code>: The alpha channel, if
    it exists, of the images is respected in the compositing process.
    The non-alpha channels of the image are not expected to already be
    multiplied by the alpha channel by the application; instead, the
    compositor will multiply the non-alpha channels of the image by the
    alpha channel during compositing.
</p>
</li>
<li>
<p>
<code>VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR</code>: The way in which the
    presentation engine treats the alpha channel in the images is unknown to
    the Vulkan API.
    Instead, the application is responsible for setting the composite alpha
    blending mode using native window system commands.
    If the application does not set the blending mode using native window
    system commands, then a platform-specific default will be used.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To query the supported swapchain format-color space pairs for a surface,
call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceSurfaceFormatsKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceSurfaceFormatsKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">VkSurfaceKHR</span>                                surface<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pSurfaceFormatCount<span style="color: #990000">,</span>
    VkSurfaceFormatKHR<span style="color: #990000">*</span>                         pSurfaceFormats<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device that will be associated with
    the swapchain to be created, as described for
    <code><a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>.
</p>
</li>
<li>
<p>
<code>surface</code> is the surface that will be associated with the swapchain.
</p>
</li>
<li>
<p>
<code>pSurfaceFormatCount</code> is a pointer to an integer related to the
    number of format pairs available or queried, as described below.
</p>
</li>
<li>
<p>
<code>pSurfaceFormats</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code>VkSurfaceFormatKHR</code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pSurfaceFormats</code> is <span class="monospaced">NULL</span>, then the number of format pairs
supported for the given <code>surface</code> is returned in
<code>pSurfaceFormatCount</code>.
The number of format pairs supported will be greater than or equal to 1.
Otherwise, <code>pSurfaceFormatCount</code> <span role="normative">must</span> point to a variable set by the
user to the number of elements in the <code>pSurfaceFormats</code> array, and on
return the variable is overwritten with the number of structures actually
written to <code>pSurfaceFormats</code>.
If the value of <code>pSurfaceFormatCount</code> is less than the number of format
pairs supported, at most <code>pSurfaceFormatCount</code> structures will be
written.
If <code>pSurfaceFormatCount</code> is smaller than the number of format pairs
supported for the given <code>surface</code>, <code>VK_INCOMPLETE</code> will be returned
instead of <code>VK_SUCCESS</code> to indicate that not all the available values
were returned.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>surface</code> <span role="normative">must</span> be a valid <code>VkSurfaceKHR</code> handle
</p>
</li>
<li>
<p>
<code>pSurfaceFormatCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pSurfaceFormatCount</code> is not <span class="monospaced">0</span>, and <code>pSurfaceFormats</code> is not <span class="monospaced">NULL</span>, <code>pSurfaceFormats</code> <span role="normative">must</span> be a pointer to an array of <code>pSurfaceFormatCount</code> <code>VkSurfaceFormatKHR</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_SURFACE_LOST_KHR</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkSurfaceFormatKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSurfaceFormatKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSurfaceFormatKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkFormat</span>           format<span style="color: #990000">;</span>
    <span style="color: #008080">VkColorSpaceKHR</span>    colorSpace<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSurfaceFormatKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>format</code> is a <code>VkFormat</code> that is compatible with the specified
    surface.
</p>
</li>
<li>
<p>
<code>colorSpace</code> is a presentation <code>VkColorSpaceKHR</code> that is
    compatible with the surface.
</p>
</li>
</ul></div>
<div class="paragraph"><p>While the <code>format</code> of a presentable image refers to the encoding of each
pixel, the <code>colorSpace</code> determines how the presentation engine
interprets the pixel values.
A color space in this document refers to a specific color space (defined by
the chromaticities of its primaries and a white point in CIE Lab), and a
transfer function that is applied before storing or transmitting color data
in the given color space.</p></div>
<div class="paragraph"><p>The <code>VkColorSpaceKHR</code> is defined as follows:</p></div>
<div class="listingblock">
<a id="VkColorSpaceKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkColorSpaceKHR <span style="color: #FF0000">{</span>
    VK_COLOR_SPACE_SRGB_NONLINEAR_KHR <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkColorSpaceKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code>: The presentation engine
    supports the sRGB color space.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pSurfaceFormats</code> includes an entry whose value for <code>colorSpace</code>
is <code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code> and whose value for <code>format</code>
is a UNORM (or SRGB) format and the corresponding SRGB (or UNORM) format is
a color renderable format for <code>VK_IMAGE_TILING_OPTIMAL</code>, then
<code>pSurfaceFormats</code> <span role="normative">must</span> also contain an entry with the same value for
<code>colorSpace</code> and <code>format</code> equal to the corresponding SRGB (or UNORM)
format.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>If <code>pSurfaceFormats</code> includes just one entry, whose value for
<code>format</code> is <code>VK_FORMAT_UNDEFINED</code>, <code>surface</code> has no preferred
format.
In this case, the application <span role="normative">can</span> use any valid <code>VkFormat</code> value.</p></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>In the initial release of the <span class="monospaced">VK_KHR_surface</span> and <span class="monospaced">VK_KHR_swapchain</span>
extensions, the token <code>VK_COLORSPACE_SRGB_NONLINEAR_KHR</code> was used.
Starting in the May 13, 2016 updates to the extension branches, matching
release 1.0.13 of the core API specification,
<code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code> is used instead for consistency with
Vulkan naming rules.
The older enum is still available for backwards compatibility.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>To query the supported presentation modes for a surface, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceSurfacePresentModesKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceSurfacePresentModesKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">VkSurfaceKHR</span>                                surface<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pPresentModeCount<span style="color: #990000">,</span>
    VkPresentModeKHR<span style="color: #990000">*</span>                           pPresentModes<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device that will be associated with
    the swapchain to be created, as described for
    <code><a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>.
</p>
</li>
<li>
<p>
<code>surface</code> is the surface that will be associated with the swapchain.
</p>
</li>
<li>
<p>
<code>pPresentModeCount</code> is a pointer to an integer related to the number
    of presentation modes available or queried, as described below.
</p>
</li>
<li>
<p>
<code>pPresentModes</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code><a href="#VkPresentModeKHR">VkPresentModeKHR</a></code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pPresentModes</code> is <span class="monospaced">NULL</span>, then the number of presentation modes
supported for the given <code>surface</code> is returned in
<code>pPresentModeCount</code>.
Otherwise, <code>pPresentModeCount</code> <span role="normative">must</span> point to a variable set by the user
to the number of elements in the <code>pPresentModes</code> array, and on return
the variable is overwritten with the number of values actually written to
<code>pPresentModes</code>.
If the value of <code>pPresentModeCount</code> is less than the number of
presentation modes supported, at most <code>pPresentModeCount</code> values will be
written.
If <code>pPresentModeCount</code> is smaller than the number of presentation modes
supported for the given <code>surface</code>, <code>VK_INCOMPLETE</code> will be returned
instead of <code>VK_SUCCESS</code> to indicate that not all the available values
were returned.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>surface</code> <span role="normative">must</span> be a valid <code>VkSurfaceKHR</code> handle
</p>
</li>
<li>
<p>
<code>pPresentModeCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pPresentModeCount</code> is not <span class="monospaced">0</span>, and <code>pPresentModes</code> is not <span class="monospaced">NULL</span>, <code>pPresentModes</code> <span role="normative">must</span> be a pointer to an array of <code>pPresentModeCount</code> <code><a href="#VkPresentModeKHR">VkPresentModeKHR</a></code> values
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_SURFACE_LOST_KHR</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The definition of <code>VkPresentModeKHR</code> is:</p></div>
<div class="listingblock">
<a id="VkPresentModeKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkPresentModeKHR <span style="color: #FF0000">{</span>
    VK_PRESENT_MODE_IMMEDIATE_KHR <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_PRESENT_MODE_MAILBOX_KHR <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_PRESENT_MODE_FIFO_KHR <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_PRESENT_MODE_FIFO_RELAXED_KHR <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkPresentModeKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_PRESENT_MODE_IMMEDIATE_KHR</code>: The presentation engine does not
    wait for a vertical blanking period to update the current image, meaning
    this mode <span role="normative">may</span> result in visible tearing.
    No internal queuing of presentation requests is needed, as the requests
    are applied immediately.
</p>
</li>
<li>
<p>
<code>VK_PRESENT_MODE_MAILBOX_KHR</code>: The presentation engine waits for the
    next vertical blanking period to update the current image.
    Tearing <span role="normative">cannot</span> be observed.
    An internal single-entry queue is used to hold pending presentation
    requests.
    If the queue is full when a new presentation request is received, the
    new request replaces the existing entry, and any images associated with
    the prior entry become available for re-use by the application.
    One request is removed from the queue and processed during each vertical
    blanking period in which the queue is non-empty.
</p>
</li>
<li>
<p>
<code>VK_PRESENT_MODE_FIFO_KHR</code>: The presentation engine waits for the
    next vertical blanking period to update the current image.
    Tearing <span role="normative">cannot</span> be observed.
    An internal queue is used to hold pending presentation requests.
    New requests are appended to the end of the queue, and one request is
    removed from the beginning of the queue and processed during each
    vertical blanking period in which the queue is non-empty.
    This is the only value of <code>presentMode</code> that is <span role="normative">required</span> to be
    supported.
</p>
</li>
<li>
<p>
<code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>: The presentation engine
    generally waits for the next vertical blanking period to update the
    current image.
    If a vertical blanking period has already passed since the last update
    of the current image then the presentation engine does not wait for
    another vertical blanking period for the update, meaning this mode <span role="normative">may</span>
    result in visible tearing in this case.
    This mode is useful for reducing visual stutter with an application that
    will mostly present a new image before the next vertical blanking
    period, but may occasionally be late, and present a new image just after
    the next vertical blanking period.
    An internal queue is used to hold pending presentation requests.
    New requests are appended to the end of the queue, and one request is
    removed from the beginning of the queue and processed during or after
    each vertical blanking period in which the queue is non-empty.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>For reference, the mode indicated by <code>VK_PRESENT_MODE_FIFO_KHR</code> is
equivalent to the behavior of {wgl|glX|egl}SwapBuffers with a swap interval
of 1, while the mode indicated by <code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code> is
equivalent to the behavior of {wgl|glX}SwapBuffers with a swap interval of
-1 (from the {WGL|GLX}_EXT_swap_control_tear extensions).</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_wsi_swapchain">29.6. WSI Swapchain</h3>
<div class="paragraph"><p>A <code>VkSwapchainKHR</code> object (a.k.a.
swapchain) provides the ability to present rendering results to a surface.
A swapchain is an abstraction for an array of presentable images that are
associated with a surface.
The swapchain images are represented by <code>VkImage</code> objects created by the
platform.
One image (which <span role="normative">can</span> be an array image for multiview/stereoscopic-3D
surfaces) is displayed at a time, but multiple images <span role="normative">can</span> be queued for
presentation.
An application renders to the image, and then queues the image for
presentation to the surface.</p></div>
<div class="paragraph"><p>A native window <span role="normative">cannot</span> be associated with more than one swapchain at a
time.
Further, swapchains <span role="normative">cannot</span> be created for native windows that have a
non-Vulkan graphics API surface associated with them.</p></div>
<div class="paragraph"><p>The presentation engine is an abstraction for the platform&#8217;s compositor or
hardware/software display engine.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The presentation engine <span role="normative">may</span> be synchronous or asynchronous with respect to
the application and/or logical device.</p></div>
<div class="paragraph"><p>Some implementations <span role="normative">may</span> use the device&#8217;s graphics queue or dedicated
presentation hardware to perform presentation.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>The presentable images of a swapchain are owned by the presentation engine.
An application <span role="normative">can</span> acquire use of a presentable image from the presentation
engine.
Use of a presentable image <span role="normative">must</span> occur only after the image is returned by
<code>vkAcquireNextImageKHR</code>, and before it is presented by
<code>vkQueuePresentKHR</code>.
This includes transitioning the image layout and rendering commands.</p></div>
<div class="paragraph"><p>An application <span role="normative">can</span> acquire use of a presentable image with
<code>vkAcquireNextImageKHR</code>.
After acquiring a presentable image and before modifying it, the application
<span role="normative">must</span> use a synchronization primitive to ensure that the presentation engine
has finished reading from the image.
The application <span role="normative">can</span> then transition the image&#8217;s layout, queue rendering
commands to it, etc.
Finally, the application presents the image with <code>vkQueuePresentKHR</code>,
which releases the acquisition of the image.</p></div>
<div class="paragraph"><p>The presentation engine controls the order in which presentable images are
acquired for use by the application.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>This allows the platform to handle situations which require out-of-order
return of images after presentation.
At the same time, it allows the application to generate command buffers
referencing all of the images in the swapchain at initialization time,
rather than in its main loop.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>How this all works is described below.</p></div>
<div class="paragraph"><p>To create a swapchain, call:</p></div>
<div class="listingblock">
<a id="vkCreateSwapchainKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateSwapchainKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSwapchainCreateInfoKHR<span style="color: #990000">*</span>             pCreateInfo<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkSwapchainKHR<span style="color: #990000">*</span>                             pSwapchain<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the device to create the swapchain for.
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> is a pointer to an instance of the
    <code><a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a></code> structure specifying the parameters of
    the created swapchain.
</p>
</li>
<li>
<p>
<code>pAllocator</code> is the allocator used for host memory allocated for the
    swapchain object when there is no more specific allocator available (see
    <a href="#memory-allocation">Memory Allocation</a>).
</p>
</li>
<li>
<p>
<code>pSwapchain</code> is a pointer to a <code>VkSwapchainKHR</code> handle in which
    the created swapchain object will be returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkSwapchainCreateInfoKHR</code> structure
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pSwapchain</code> <span role="normative">must</span> be a pointer to a <code>VkSwapchainKHR</code> handle
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>pCreateInfo.surface</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>pCreateInfo.oldSwapchain</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_SURFACE_LOST_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkSwapchainCreateInfoKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkSwapchainCreateInfoKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkSwapchainCreateInfoKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>                  sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>                      pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkSwapchainCreateFlagsKHR</span>        flags<span style="color: #990000">;</span>
    <span style="color: #008080">VkSurfaceKHR</span>                     surface<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                         minImageCount<span style="color: #990000">;</span>
    <span style="color: #008080">VkFormat</span>                         imageFormat<span style="color: #990000">;</span>
    <span style="color: #008080">VkColorSpaceKHR</span>                  imageColorSpace<span style="color: #990000">;</span>
    <span style="color: #008080">VkExtent2D</span>                       imageExtent<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                         imageArrayLayers<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageUsageFlags</span>                imageUsage<span style="color: #990000">;</span>
    <span style="color: #008080">VkSharingMode</span>                    imageSharingMode<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                         queueFamilyIndexCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> uint32_t<span style="color: #990000">*</span>                  pQueueFamilyIndices<span style="color: #990000">;</span>
    <span style="color: #008080">VkSurfaceTransformFlagBitsKHR</span>    preTransform<span style="color: #990000">;</span>
    <span style="color: #008080">VkCompositeAlphaFlagBitsKHR</span>      compositeAlpha<span style="color: #990000">;</span>
    <span style="color: #008080">VkPresentModeKHR</span>                 presentMode<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>                         clipped<span style="color: #990000">;</span>
    <span style="color: #008080">VkSwapchainKHR</span>                   oldSwapchain<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkSwapchainCreateInfoKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>flags</code> is reserved for future use, and <span role="normative">must</span> be zero.
</p>
</li>
<li>
<p>
<code>surface</code> is the surface that the swapchain will present images to.
</p>
</li>
<li>
<p>
<code>minImageCount</code> is the minimum number of presentable images that the
    application needs.
    The platform will either create the swapchain with at least that many
    images, or will fail to create the swapchain.
</p>
</li>
<li>
<p>
<code>imageFormat</code> is a <code><a href="#VkFormat">VkFormat</a></code> that is valid for swapchains on
    the specified surface.
</p>
</li>
<li>
<p>
<code>imageColorSpace</code> is a <code><a href="#VkColorSpaceKHR">VkColorSpaceKHR</a></code> that is valid for
    swapchains on the specified surface.
</p>
</li>
<li>
<p>
<code>imageExtent</code> is the size (in pixels) of the swapchain.
    Behavior is platform-dependent when the image extent does not match the
    surface&#8217;s <code>currentExtent</code> as returned by
    <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>.
</p>
</li>
<li>
<p>
<code>imageArrayLayers</code> is the number of views in a multiview/stereo
    surface.
    For non-stereoscopic-3D applications, this value is 1.
</p>
</li>
<li>
<p>
<code>imageUsage</code> is a bitmask of <code><a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code>, indicating
    how the application will use the swapchain&#8217;s presentable images.
</p>
</li>
<li>
<p>
<code>imageSharingMode</code> is the sharing mode used for the images of the
    swapchain.
</p>
</li>
<li>
<p>
<code>queueFamilyIndexCount</code> is the number of queue families having
    access to the images of the swapchain in case <code>imageSharingMode</code> is
    <code>VK_SHARING_MODE_CONCURRENT</code>.
</p>
</li>
<li>
<p>
<code>pQueueFamilyIndices</code> is an array of queue family indices having
    access to the images of the swapchain in case <code>imageSharingMode</code> is
    <code>VK_SHARING_MODE_CONCURRENT</code>.
</p>
</li>
<li>
<p>
<code>preTransform</code> is a bitmask of <code><a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></code>,
    describing the transform, relative to the presentation engine&#8217;s natural
    orientation, applied to the image content prior to presentation.
    If it does not match the <code>currentTransform</code> value returned by
    <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>, the presentation engine
    will transform the image content as part of the presentation operation.
</p>
</li>
<li>
<p>
<code>compositeAlpha</code> is a bitmask of <code><a href="#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a></code>,
    indicating the alpha compositing mode to use when this surface is
    composited together with other surfaces on certain window systems.
</p>
</li>
<li>
<p>
<code>presentMode</code> is the presentation mode the swapchain will use.
    A swapchain&#8217;s present mode determines how incoming present requests will
    be processed and queued internally.
</p>
</li>
<li>
<p>
<code>clipped</code> indicates whether the Vulkan implementation is allowed to
    discard rendering operations that affect regions of the surface which
    are not visible.
</p>
<div class="ulist"><ul>
<li>
<p>
If set to <code>VK_TRUE</code>, the presentable images associated with the
     swapchain <span role="normative">may</span> not own all of their pixels.
     Pixels in the presentable images that correspond to regions of the
     target surface obscured by another window on the desktop or subject to
     some other clipping mechanism will have undefined content when read
     back.
     Pixel shaders <span role="normative">may</span> not execute for these pixels, and thus any side
     affects they would have had will not occur.
</p>
</li>
<li>
<p>
If set to <code>VK_FALSE</code>, presentable images associated with the
     swapchain will own all the pixels they contain.
     Setting this value to <code>VK_TRUE</code> does not guarantee any clipping
     will occur, but allows more optimal presentation methods to be used on
     some platforms.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Applications <span role="normative">should</span> set this value to <code>VK_TRUE</code> if they do not expect
to read back the content of presentable images before presenting them or
after reacquiring them and if their pixel shaders do not have any side
effects that require them to run for all pixels in the presentable image.</p></div>
</td>
</tr></table>
</div>
<div class="ulist"><ul>
<li>
<p>
<code>oldSwapchain</code>, if not <code>VK_NULL_HANDLE</code>, specifies the swapchain
    that will be replaced by the new swapchain being created.
    The new swapchain will be a descendant of <code>oldSwapchain</code>.
    Further, any descendants of the new swapchain will also be descendants
    of <code>oldSwapchain</code>.
    Upon calling <code>vkCreateSwapchainKHR</code> with a <code>oldSwapchain</code> that
    is not <code>VK_NULL_HANDLE</code>, any images not acquired by the application
    <span role="normative">may</span> be freed by the implementation, which <span role="normative">may</span> occur even if creation
    of the new swapchain fails.
    The application <span role="normative">must</span> destroy the old swapchain to free all memory
    associated with the old swapchain.
    The application <span role="normative">must</span> wait for the completion of any outstanding
    rendering to images it currently has acquired at the time the swapchain
    is destroyed.
    The application <span role="normative">can</span> continue to present any images it acquired and has
    not yet presented using the old swapchain, as long as it has not entered
    a state that causes it to return <code>VK_ERROR_OUT_OF_DATE_KHR</code>.
    However, the application <span role="normative">cannot</span> acquire any more images from the old
    swapchain regardless of whether or not creation of the new swapchain
    succeeds.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>surface</code> <span role="normative">must</span> be a surface that is supported by the device as
    determined using <code>vkGetPhysicalDeviceSurfaceSupportKHR</code>
</p>
</li>
<li>
<p>
<code>minImageCount</code> <span role="normative">must</span> be greater than or equal to the value returned
    in the <code>minImageCount</code> member of the <code>VkSurfaceCapabilitiesKHR</code>
    structure returned by <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>
    for the surface
</p>
</li>
<li>
<p>
<code>minImageCount</code> <span role="normative">must</span> be less than or equal to the value returned in
    the <code>maxImageCount</code> member of the <code>VkSurfaceCapabilitiesKHR</code>
    structure returned by <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>
    for the surface if the returned <code>maxImageCount</code> is not zero
</p>
</li>
<li>
<p>
<code>imageFormat</code> and <code>imageColorSpace</code> <span role="normative">must</span> match the <code>format</code>
    and <code>colorSpace</code> members, respectively, of one of the
    <code>VkSurfaceFormatKHR</code> structures returned by
    <code>vkGetPhysicalDeviceSurfaceFormatsKHR</code> for the surface
</p>
</li>
<li>
<p>
<code>imageExtent</code> <span role="normative">must</span> be between <code>minImageExtent</code> and
    <code>maxImageExtent</code>, inclusive, where <code>minImageExtent</code> and
    <code>maxImageExtent</code> are members of the <code>VkSurfaceCapabilitiesKHR</code>
    structure returned by <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>
    for the surface
</p>
</li>
<li>
<p>
<code>imageArrayLayers</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span> and less than or equal
    to the <code>maxImageArrayLayers</code> member of the
    <code>VkSurfaceCapabilitiesKHR</code> structure returned by
    <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code> for the surface
</p>
</li>
<li>
<p>
<code>imageUsage</code> <span role="normative">must</span> be a subset of the supported usage flags present
    in the <code>supportedUsageFlags</code> member of the
    <code>VkSurfaceCapabilitiesKHR</code> structure returned by
    <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code> for the surface
</p>
</li>
<li>
<p>
If <code>imageSharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
    <code>pQueueFamilyIndices</code> <span role="normative">must</span> be a pointer to an array of
    <code>queueFamilyIndexCount</code> <code>uint32_t</code> values
</p>
</li>
<li>
<p>
If <code>imageSharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
    <code>queueFamilyIndexCount</code> <span role="normative">must</span> be greater than <span class="monospaced">1</span>
</p>
</li>
<li>
<p>
<code>preTransform</code> <span role="normative">must</span> be one of the bits present in the
    <code>supportedTransforms</code> member of the <code>VkSurfaceCapabilitiesKHR</code>
    structure returned by <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>
    for the surface
</p>
</li>
<li>
<p>
<code>compositeAlpha</code> <span role="normative">must</span> be one of the bits present in the
    <code>supportedCompositeAlpha</code> member of the
    <code>VkSurfaceCapabilitiesKHR</code> structure returned by
    <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code> for the surface
</p>
</li>
<li>
<p>
<code>presentMode</code> <span role="normative">must</span> be one of the <code>VkPresentModeKHR</code> values
    returned by <code>vkGetPhysicalDeviceSurfacePresentModesKHR</code> for the
    surface
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>surface</code> <span role="normative">must</span> be a valid <code>VkSurfaceKHR</code> handle
</p>
</li>
<li>
<p>
<code>imageFormat</code> <span role="normative">must</span> be a valid <code><a href="#VkFormat">VkFormat</a></code> value
</p>
</li>
<li>
<p>
<code>imageColorSpace</code> <span role="normative">must</span> be a valid <code><a href="#VkColorSpaceKHR">VkColorSpaceKHR</a></code> value
</p>
</li>
<li>
<p>
<code>imageUsage</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>imageUsage</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>imageSharingMode</code> <span role="normative">must</span> be a valid <code><a href="#VkSharingMode">VkSharingMode</a></code> value
</p>
</li>
<li>
<p>
<code>preTransform</code> <span role="normative">must</span> be a valid <code><a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></code> value
</p>
</li>
<li>
<p>
<code>compositeAlpha</code> <span role="normative">must</span> be a valid <code><a href="#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a></code> value
</p>
</li>
<li>
<p>
<code>presentMode</code> <span role="normative">must</span> be a valid <code><a href="#VkPresentModeKHR">VkPresentModeKHR</a></code> value
</p>
</li>
<li>
<p>
If <code>oldSwapchain</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>oldSwapchain</code> <span role="normative">must</span> be a valid <code>VkSwapchainKHR</code> handle
</p>
</li>
<li>
<p>
If <code>oldSwapchain</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>surface</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>As mentioned above, if <code>vkCreateSwapchainKHR</code> succeeds, it will return a
handle to a swapchain that contains an array of at least <code>minImageCount</code>
presentable images.</p></div>
<div class="paragraph"><p>While acquired by the application, swapchain images <span role="normative">can</span> be used in any way
that equivalent non-swapchain images <span role="normative">can</span> be used.
A swapchain image is equivalent to a non-swapchain image created with the
following <code>VkImageCreateInfo</code> parameters:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > <code>VkImageCreateInfo</code> Field </th>
<th class="tableblock halign-left valign-top" > Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>flags</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>imageType</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_IMAGE_TYPE_2D</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>format</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">pCreateInfo-&gt;imageFormat</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>extent</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">{pCreateInfo-&gt;imageExtent.width, pCreateInfo-&gt;imageExtent.height, 1}</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>mipLevels</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>arrayLayers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">pCreateInfo-&gt;imageArrayLayers</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>samples</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_SAMPLE_COUNT_1_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>tiling</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_IMAGE_TILING_OPTIMAL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>usage</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">pCreateInfo-&gt;imageUsage</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sharingMode</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">pCreateInfo-&gt;imageSharingMode</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>queueFamilyIndexCount</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">pCreateInfo-&gt;queueFamilyIndexCount</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>pQueueFamilyIndices</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">pCreateInfo-&gt;pQueueFamilyIndices</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>initialLayout</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_IMAGE_LAYOUT_UNDEFINED</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The <code>VkSurfaceKHR</code> associated with a swapchain <span role="normative">must</span> not be destroyed
until after the swapchain is destroyed.</p></div>
<div class="paragraph"><p>The native window referred to by <code>surface</code> <span role="normative">must</span> not already be
associated with a swapchain other than <code>oldSwapchain</code>, or with a
non-Vulkan graphics API surface.</p></div>
<div class="paragraph"><p>Like core functions, several WSI functions, including
<code>vkCreateSwapchainKHR</code> return <code>VK_ERROR_DEVICE_LOST</code> if the logical
device was lost.
See <a href="#devsandqueues-lost-device">Lost Device</a>.
As with most core objects, <code>VkSwapchainKHR</code> is a child of the device and
is affected by the lost state; it <span role="normative">must</span> be destroyed before destroying the
<code>VkDevice</code>.
However, <code>VkSurfaceKHR</code> is not a child of any <code>VkDevice</code> and is not
otherwise affected by the lost device.
After successfully recreating a <code>VkDevice</code>, the same <code>VkSurfaceKHR</code>
<span role="normative">can</span> be used to create a new <code>VkSwapchainKHR</code>, provided the previous one
was destroyed.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>As mentioned in <a href="#devsandqueues-lost-device">Lost Device</a>, after a lost
device event, the <code>VkPhysicalDevice</code> <span role="normative">may</span> also be lost.
If other <code>VkPhysicalDevice</code> are available, they <span role="normative">can</span> be used together
with the same <code>VkSurfaceKHR</code> to create the new <code>VkSwapchainKHR</code>,
however the application <span role="normative">must</span> query the surface capabilities again, because
they <span role="normative">may</span> differ on a per-physical device basis.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>To destroy a swapchain object call:</p></div>
<div class="listingblock">
<a id="vkDestroySwapchainKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkDestroySwapchainKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkSwapchainKHR</span>                              swapchain<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the <code>VkDevice</code> associated with <code>swapchain</code>.
</p>
</li>
<li>
<p>
<code>swapchain</code> is the swapchain to destroy.
</p>
</li>
<li>
<p>
<code>pAllocator</code> is the allocator used for host memory allocated for the
    swapchain object when there is no more specific allocator available (see
    <a href="#memory-allocation">Memory Allocation</a>).
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>swapchain</code> and all associated <code>VkImage</code> handles are destroyed, and
<span role="normative">must</span> not be acquired or used any more by the application.
The memory of each <code>VkImage</code> will only be freed after that image is no
longer used by the platform.
For example, if one image of the swapchain is being displayed in a window,
the memory for that image <span role="normative">may</span> not be freed until the window is destroyed,
or another swapchain is created for the window.
Destroying the swapchain does not invalidate the parent <code>VkSurfaceKHR</code>,
and a new swapchain <span role="normative">can</span> be created with it.</p></div>
<div class="paragraph"><p>If a swapchain associated with a display surface is destroyed and there are
no valid descendants of that swapchain, the implementation <span role="normative">must</span> either
revert any display resources modified by presenting images with the
swapchain to their state prior to the first present performed with the
swapchain and its ancestors, or leave such resources in their current state.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
All uses of presentable images acquired from <code>swapchain</code> <span role="normative">must</span> have
    completed execution
</p>
</li>
<li>
<p>
If <code>VkAllocationCallbacks</code> were provided when <code>swapchain</code> was
    created, a compatible set of callbacks <span role="normative">must</span> be provided here
</p>
</li>
<li>
<p>
If no <code>VkAllocationCallbacks</code> were provided when <code>swapchain</code> was
    created, <code>pAllocator</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
If <code>swapchain</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>swapchain</code> <span role="normative">must</span> be a valid <code>VkSwapchainKHR</code> handle
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>swapchain</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph" id="create_shared_swapchains"><p>When the <span class="monospaced">VK_KHR_display_swapchain</span> extension is enabled, multiple
swapchains that share presentable images are created by calling:</p></div>
<div class="listingblock">
<a id="vkCreateSharedSwapchainsKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateSharedSwapchainsKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">uint32_t</span>                                    swapchainCount<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSwapchainCreateInfoKHR<span style="color: #990000">*</span>             pCreateInfos<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkAllocationCallbacks<span style="color: #990000">*</span>                pAllocator<span style="color: #990000">,</span>
    VkSwapchainKHR<span style="color: #990000">*</span>                             pSwapchains<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the device to create the swapchains for.
</p>
</li>
<li>
<p>
<code>swapchainCount</code> is the number of swapchains to create.
</p>
</li>
<li>
<p>
<code>pCreateInfos</code> is a pointer to an array of
    <code><a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a></code> structures specifying the parameters of
    the created swapchains.
</p>
</li>
<li>
<p>
<code>pAllocator</code> is the allocator used for host memory allocated for the
    swapchain objects when there is no more specific allocator available
    (see <a href="#memory-allocation">Memory Allocation</a>).
</p>
</li>
<li>
<p>
<code>pSwapchains</code> is a pointer to an array of <code>VkSwapchainKHR</code>
    handles in which the created swapchain objects will be returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkCreateSharedSwapchains</code> is similar to <code><a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>,
except that it takes an array of <code>VkSwapchainCreateInfoKHR</code> structures,
and returns an array of swapchain objects.</p></div>
<div class="paragraph"><p>The swapchain creation parameters that affect the properties and number of
presentable images <span role="normative">must</span> match between all the swapchains.
If the displays used by any of the swapchains do not use the same
presentable image layout or are incompatible in a way that prevents sharing
images, swapchain creation will fail with the result code
<code>VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code>.
If any error occurs, no swapchains will be created.
Images presented to multiple swapchains <span role="normative">must</span> be re-acquired from all of
them before transitioning away from <code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>.
After destroying one or more of the swapchains, the remaining swapchains and
the presentable images <span role="normative">can</span> continue to be used.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>pCreateInfos</code> <span role="normative">must</span> be a pointer to an array of <code>swapchainCount</code> valid <code>VkSwapchainCreateInfoKHR</code> structures
</p>
</li>
<li>
<p>
If <code>pAllocator</code> is not <span class="monospaced">NULL</span>, <code>pAllocator</code> <span role="normative">must</span> be a pointer to a valid <code>VkAllocationCallbacks</code> structure
</p>
</li>
<li>
<p>
<code>pSwapchains</code> <span role="normative">must</span> be a pointer to an array of <code>swapchainCount</code> <code>VkSwapchainKHR</code> handles
</p>
</li>
<li>
<p>
<code>swapchainCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>pCreateInfos</code>[].surface <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>pCreateInfos</code>[].oldSwapchain <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_SURFACE_LOST_KHR</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>To obtain the array of presentable images associated with a swapchain, call:</p></div>
<div class="listingblock">
<a id="vkGetSwapchainImagesKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetSwapchainImagesKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkSwapchainKHR</span>                              swapchain<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pSwapchainImageCount<span style="color: #990000">,</span>
    VkImage<span style="color: #990000">*</span>                                    pSwapchainImages<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the device associated with <code>swapchain</code>.
</p>
</li>
<li>
<p>
<code>swapchain</code> is the swapchain to query.
</p>
</li>
<li>
<p>
<code>pSwapchainImageCount</code> is a pointer to an integer related to the
    number of swapchain images available or queried, as described below.
</p>
</li>
<li>
<p>
<code>pSwapchainImages</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code>VkImage</code> handles.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pSwapchainImages</code> is <span class="monospaced">NULL</span>, then the number of presentable images
for <code>swapchain</code> is returned in <code>pSwapchainImageCount</code>.
Otherwise, <code>pSwapchainImageCount</code> <span role="normative">must</span> point to a variable set by the
user to the number of elements in the <code>pSwapchainImages</code> array, and on
return the variable is overwritten with the number of structures actually
written to <code>pSwapchainImages</code>.
If the value of <code>pSwapchainImageCount</code> is less than the number of
presentable images for <code>swapchain</code>, at most <code>pSwapchainImageCount</code>
structures will be written.
If <code>pSwapchainImageCount</code> is smaller than the number of presentable
images for <code>swapchain</code>, <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code> to indicate that not all the available values were
returned.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>swapchain</code> <span role="normative">must</span> be a valid <code>VkSwapchainKHR</code> handle
</p>
</li>
<li>
<p>
<code>pSwapchainImageCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pSwapchainImageCount</code> is not <span class="monospaced">0</span>, and <code>pSwapchainImages</code> is not <span class="monospaced">NULL</span>, <code>pSwapchainImages</code> <span role="normative">must</span> be a pointer to an array of <code>pSwapchainImageCount</code> <code>VkImage</code> handles
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>By knowing all presentable images used in the swapchain, the application
<span role="normative">can</span> create command buffers that reference these images prior to entering
its main rendering loop.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>The implementation will have already allocated and bound the memory backing
the <code>VkImages</code> returned by <code>vkGetSwapchainImagesKHR</code>.
The memory for each image will not alias with the memory for other images or
with any <code>VkDeviceMemory</code> object.
As such, performing any operation affecting the binding of memory to a
presentable image results in undefined behavior.
All presentable images are initially in the <code>VK_IMAGE_LAYOUT_UNDEFINED</code>
layout, thus before using presentable images, the application <span role="normative">must</span>
transition them to a valid layout for the intended use.</p></div>
<div class="paragraph"><p>Further, the lifetime of presentable images is controlled by the
implementation so destroying a presentable image with <code><a href="#vkDestroyImage">vkDestroyImage</a></code>
results in undefined behavior.
See <code><a href="#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a></code> for further details on the lifetime of
presentable images.</p></div>
<div class="paragraph"><p>To acquire an available presentable image to use, and retrieve the index of
that image, call:</p></div>
<div class="listingblock">
<a id="vkAcquireNextImageKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkAcquireNextImageKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkDevice</span>                                    device<span style="color: #990000">,</span>
    <span style="color: #008080">VkSwapchainKHR</span>                              swapchain<span style="color: #990000">,</span>
    <span style="color: #008080">uint64_t</span>                                    timeout<span style="color: #990000">,</span>
    <span style="color: #008080">VkSemaphore</span>                                 semaphore<span style="color: #990000">,</span>
    <span style="color: #008080">VkFence</span>                                     fence<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pImageIndex<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> is the device associated with <code>swapchain</code>.
</p>
</li>
<li>
<p>
<code>swapchain</code> is the swapchain from which an image is being acquired.
</p>
</li>
<li>
<p>
<code>timeout</code> indicates how long the function waits, in nanoseconds, if
    no image is available.
</p>
</li>
<li>
<p>
<code>semaphore</code> is <code>VK_NULL_HANDLE</code> or a semaphore to signal.
</p>
</li>
<li>
<p>
<code>fence</code> is <code>VK_NULL_HANDLE</code> or a fence to signal.
</p>
</li>
<li>
<p>
<code>pImageIndex</code> is a pointer to a <code>uint32_t</code> that is set to the
    index of the next image to use (i.e. an index into the array of images
    returned by <code>vkGetSwapchainImagesKHR</code>).
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>swapchain</code> <span role="normative">must</span> not have been replaced by being passed as the
    <code>VkSwapchainCreateInfoKHR</code>::<code>oldSwapchain</code> value to
    <code>vkCreateSwapchainKHR</code>
</p>
</li>
<li>
<p>
If <code>semaphore</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> it <span role="normative">must</span> be unsignaled
</p>
</li>
<li>
<p>
If <code>fence</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> it <span role="normative">must</span> be unsignaled and
    <span role="normative">must</span> not be associated with any other queue command that has not yet
    completed execution on that queue
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>device</code> <span role="normative">must</span> be a valid <code>VkDevice</code> handle
</p>
</li>
<li>
<p>
<code>swapchain</code> <span role="normative">must</span> be a valid <code>VkSwapchainKHR</code> handle
</p>
</li>
<li>
<p>
If <code>semaphore</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>semaphore</code> <span role="normative">must</span> be a valid <code>VkSemaphore</code> handle
</p>
</li>
<li>
<p>
If <code>fence</code> is not <code><a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <code>fence</code> <span role="normative">must</span> be a valid <code>VkFence</code> handle
</p>
</li>
<li>
<p>
<code>pImageIndex</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If <code>semaphore</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
<li>
<p>
If <code>fence</code> is a valid handle, it <span role="normative">must</span> have been created, allocated, or retrieved from <code>device</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>swapchain</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>semaphore</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>fence</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_TIMEOUT</code>
</p>
</li>
<li>
<p>
<code>VK_NOT_READY</code>
</p>
</li>
<li>
<p>
<code>VK_SUBOPTIMAL_KHR</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DATE_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_SURFACE_LOST_KHR</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>When successful, <code>vkAcquireNextImageKHR</code> acquires a presentable image
that the application <span role="normative">can</span> use, and sets <code>pImageIndex</code> to the index of
that image.
The presentation engine <span role="normative">may</span> not have finished reading from the image at the
time it is acquired, so the application <span role="normative">must</span> use <code>semaphore</code> and/or
<code>fence</code> to ensure that the image layout and contents are not modified
until the presentation engine reads have completed.</p></div>
<div class="paragraph"><p>As mentioned above, the presentation engine controls the order in which
presentable images are made available to the application.
This allows the platform to handle special situations.
The order in which images are acquired is implementation-dependent.
Images <span role="normative">may</span> be acquired in a seemingly random order that is not a simple
round-robin.</p></div>
<div class="paragraph"><p>If a swapchain has enough presentable images, applications <span role="normative">can</span> acquire
multiple images without an intervening <code>vkQueuePresentKHR</code>.
Applications <span role="normative">can</span> present images in a different order than the order in
which they were acquired.</p></div>
<div class="paragraph"><p>If <code>timeout</code> is 0, <code>vkAcquireNextImageKHR</code> will not block, but will
either succeed or return <code>VK_NOT_READY</code>.
If <code>timeout</code> is <span class="monospaced">UINT64_MAX</span>, the function will not return until an
image is acquired from the presentation engine.
Other values for <code>timeout</code> will cause the function to return when an
image becomes available, or when the specified number of nanoseconds have
passed (in which case it will return <code>VK_TIMEOUT</code>).
An error <span role="normative">can</span> also cause <code>vkAcquireNextImageKHR</code> to return early.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>As mentioned above, the presentation engine <span role="normative">may</span> be asynchronous with
respect to the application and/or logical device.
<code>vkAcquireNextImageKHR</code> <span role="normative">may</span> return as soon as it <span role="normative">can</span> identify which
image will be acquired, and <span role="normative">can</span> guarantee that <code>semaphore</code> and
<code>fence</code> will be signaled by the presentation engine; and <span role="normative">may</span> not
successfully return sooner.
The application uses <code>timeout</code> to specify how long
<code>vkAcquireNextImageKHR</code> waits for an image to become acquired.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Applications <span role="normative">cannot</span> rely on <code>vkAcquireNextImageKHR</code> blocking in order
to meter their rendering speed.
Various factors <span role="normative">can</span> interrupt <code>vkAcquireNextImageKHR</code> from blocking.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>For example, if an error occurs, <code>vkAcquireNextImageKHR</code> <span role="normative">may</span> return
even though no image is available.
As another example, some presentation engines are able to enqueue an
unbounded number of presentation and acquire next image operations such that
<code>vkAcquireNextImageKHR</code> never needs to wait for completion of
outstanding present operations before returning.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>The availability of presentable images is influenced by factors such as the
implementation of the presentation engine, the <code>VkPresentModeKHR</code> being
used, the number of images in the swapchain, the number of images that the
application has acquired at any given time, and the performance of the
application.
The value of <code>VkSurfaceCapabilitiesKHR</code>::<code>minImageCount</code> indicates
how many images <span role="normative">must</span> be in the swapchain in order for
<code>vkAcquireNextImageKHR</code> to acquire an image if the application currently
has no acquired images.</p></div>
<div class="paragraph"><p>Let <em>n</em> be the total number of images in the swapchain, <em>m</em> be the value of
<code>VkSurfaceCapabilitiesKHR</code>::<code>minImageCount</code>, and <em>a</em> be the number
of presentable images that the application has currently acquired (i.e.
images acquired with <code>vkAcquireNextImageKHR</code>, but not yet presented with
<code>vkQueuePresentKHR</code>).
<code>vkAcquireNextImageKHR</code> <span role="normative">can</span> always succeed if <span class="eq">a &#x2264; n - m</span> at
the time <code>vkAcquireNextImageKHR</code> is called.
<code>vkAcquireNextImageKHR</code> <span role="normative">should</span> not be called if <span class="eq">a &gt; n - m</span> with a
<code>timeout</code> of <code>UINT64_MAX</code>; in such a case,
<code>vkAcquireNextImageKHR</code> <span role="normative">may</span> block indefinitely.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>For example, if the <code>minImageCount</code> member of
<code>VkSurfaceCapabilitiesKHR</code> is 2, and the application creates a swapchain
with 2 presentable images, the application <span role="normative">can</span> acquire one image, and <span role="normative">must</span>
present it before trying to acquire another image.</p></div>
<div class="paragraph"><p>If we modify this example so that the application wishes to acquire up to 3
presentable images simultaneously, it <span role="normative">must</span> request a minimum image count of
4 when creating the swapchain.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>If <code>semaphore</code> is not <code>VK_NULL_HANDLE</code>, the semaphore <span role="normative">must</span> be
unsignaled and not have any uncompleted signal or wait operations pending.
It will become signaled when the application <span role="normative">can</span> use the image.
Queue operations that access the image contents <span role="normative">must</span> wait until the
semaphore signals; typically applications <span role="normative">should</span> include the semaphore in
the <code>pWaitSemaphores</code> list for the queue submission that transitions the
image away from the <code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> layout.
Use of the semaphore allows rendering operations to be recorded and
submitted before the presentation engine has completed its use of the image.</p></div>
<div class="paragraph"><p>If <code>fence</code> is not equal to <code>VK_NULL_HANDLE</code>, the fence <span role="normative">must</span> be
unsignaled and not have any uncompleted signal operations pending.
It will become signaled when the application <span role="normative">can</span> use the image.
Applications <span role="normative">can</span> use this to meter their frame generation work to match the
presentation rate.</p></div>
<div class="paragraph"><p><code>semaphore</code> and <code>fence</code> <span role="normative">must</span> not both be equal to
<code>VK_NULL_HANDLE</code>.
An application <span role="normative">must</span> wait until either the <code>semaphore</code> or <code>fence</code> is
signaled before using the presentable image.</p></div>
<div class="paragraph"><p><code>semaphore</code> and <code>fence</code> <span role="normative">may</span> already be signaled when
<code>vkAcquireNextImageKHR</code> returns, if the image is being acquired for the
first time, or if the presentable image is immediately ready for use.</p></div>
<div class="paragraph"><p>A successful call to <code>vkAcquireNextImageKHR</code> counts as a signal
operation on <code>semaphore</code> for the purposes of queue forward-progress
requirements.
The semaphore is guaranteed to signal, so a wait operation <span role="normative">can</span> be queued
for the semaphore without risk of deadlock.</p></div>
<div class="paragraph"><p>The <code>vkCmdWaitEvents</code> or <code>vkCmdPipelineBarrier</code> used to transition
the image away from <code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> layout <span role="normative">must</span> have
<code>dstStageMask</code> and <code>dstAccessMask</code> parameters set based on the next
use of the image.
The application <span role="normative">must</span> use <a href="#synchronization-submission-host-writes">implicit ordering guarantees</a> and <a href="#synchronization-dependencies">execution dependencies</a> to prevent the image transition from occurring before the
semaphore passed to <code>vkAcquireNextImageKHR</code> has signaled.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>When the swapchain image will be written by some stage <span class="eq">S</span>, the
recommended idiom for ensuring the semaphore signals before the transition
occurs is:</p></div>
<div class="ulist"><ul>
<li>
<p>
The batch that contains the transition includes the image-acquire
    semaphore in the list of semaphores to wait for, with a wait stage mask
    that includes <span class="eq">S</span>.
</p>
</li>
<li>
<p>
The pipeline barrier that performs the transition includes <span class="eq">S</span> in
    both the <code>srcStageMask</code> and <code>dstStageMask</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>This causes the pipeline barrier to wait at <span class="eq">S</span> until the semaphore
signals before performing the transition and memory barrier, while allowing
earlier pipeline stages of subsequent commands to proceed.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>After a successful return, the image indicated by <code>pImageIndex</code> will
still be in the <code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> layout if it was
previously presented, or in the <code>VK_IMAGE_LAYOUT_UNDEFINED</code> layout if
this is the first time it has been acquired.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Exclusive ownership of presentable images corresponding to a swapchain
created with <code>VK_SHARING_MODE_EXCLUSIVE</code> as defined in
<a href="#resources-sharing">Resource Sharing</a> is not altered by a call to
<code>vkAcquireNextImageKHR</code>.
That means upon the first acquisition from such a swapchain presentable
images are not owned by any queue family, while at subsequent acquisitions
the presentable images remain owned by the queue family the image was
previously presented on.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>The possible return values for <code>vkAcquireNextImageKHR</code>() depend on the
<code>timeout</code> provided:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code> is returned if an image became available.
</p>
</li>
<li>
<p>
<code>VK_ERROR_SURFACE_LOST_KHR</code> if the surface becomes no longer
    available.
</p>
</li>
<li>
<p>
<code>VK_NOT_READY</code> is returned if <code>timeout</code> is zero and no image was
    available.
</p>
</li>
<li>
<p>
<code>VK_TIMEOUT</code> is returned if <code>timeout</code> is greater than zero and
    less than <span class="monospaced">UINT64_MAX</span>, and no image became available within the time
    allowed.
</p>
</li>
<li>
<p>
<code>VK_SUBOPTIMAL_KHR</code> is returned if an image became available, and
    the swapchain no longer matches the surface properties exactly, but <span role="normative">can</span>
    still be used to present to the surface successfully.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>This <span role="normative">may</span> happen, for example, if the platform surface has been resized but
the platform is able to scale the presented images to the new size to
produce valid surface updates.
It is up to applications to decide whether they prefer to continue using the
current swapchain indefinitely or temporarily in this state, or to re-create
the swapchain to better match the platform surface properties.</p></div>
</td>
</tr></table>
</div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_DATE_KHR</code> is returned if the surface has changed in
    such a way that it is no longer compatible with the swapchain, and
    further presentation requests using the swapchain will fail.
    Applications <span role="normative">must</span> query the new surface properties and recreate their
    swapchain if they wish to continue presenting to the surface.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If the native surface and presented image sizes no longer match,
presentation <span role="normative">may</span> fail.
If presentation does succeed, parts of the native surface <span role="normative">may</span> be undefined,
parts of the presented image <span role="normative">may</span> have been clipped before presentation,
and/or the image <span role="normative">may</span> have been scaled (uniformly or not uniformly) before
presentation.
It is the application&#8217;s responsibility to detect surface size changes and
react appropriately.
If presentation fails because of a mismatch in the surface and presented
image sizes, a <code>VK_ERROR_OUT_OF_DATE_KHR</code> error will be returned.</p></div>
<div class="paragraph"><p>Before an application <span role="normative">can</span> present an image, the image&#8217;s layout <span role="normative">must</span> be
transitioned to the <code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> layout.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>When transitioning the image to <code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>, there
is no need to delay subsequent processing, or perform any visibility
operations (as <code><a href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code> performs automatic visibility
operations).
To achieve this, the <code>dstAccessMask</code> member of the
<code><a href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a></code> <span role="normative">should</span> be set to <span class="monospaced">0</span>, and the <code>dstStageMask</code>
parameter <span role="normative">should</span> be set to <code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>After queueing all rendering commands and transitioning the image to the
correct layout, to queue an image for presentation, call:</p></div>
<div class="listingblock">
<a id="vkQueuePresentKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkQueuePresentKHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkQueue</span>                                     queue<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPresentInfoKHR<span style="color: #990000">*</span>                     pPresentInfo<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>queue</code> is a queue that is capable of presentation to the target
    surface&#8217;s platform on the same device as the image&#8217;s swapchain.
</p>
</li>
<li>
<p>
<code>pPresentInfo</code> is a pointer to an instance of the
    <code><a href="#VkPresentInfoKHR">VkPresentInfoKHR</a></code> structure specifying the parameters of the
    presentation.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
Any given element of <code>pSwapchains</code> member of <code>pPresentInfo</code>
    <span role="normative">must</span> be a swapchain that is created for a surface for which
    presentation is supported from <code>queue</code> as determined using a call to
    <code>vkGetPhysicalDeviceSurfaceSupportKHR</code>
</p>
</li>
<li>
<p>
If more than one member of <code>pSwapchains</code> was created from a display
    surface, all display surfaces referenced that refer to the same display
    <span role="normative">must</span> use the same display mode
</p>
</li>
<li>
<p>
When a semaphore unsignal operation defined by the elements of the
    <code>pWaitSemaphores</code> member of <code>pPresentInfo</code> executes on
    <code>queue</code>, no other queue <span role="normative">must</span> be waiting on the same semaphore.
</p>
</li>
<li>
<p>
All elements of elements of the <code>pWaitSemaphores</code> member of
    <code>pPresentInfo</code> <span role="normative">must</span> be semaphores that are signaled, or have
    <a href="#synchronization-semaphores-signaling">semaphore signal operations</a>
    previously submitted for execution.
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Any writes to memory backing the images referenced by the
<code>pImageIndices</code> and <code>pSwapchains</code> members of <code>pPresentInfo</code>,
that are available before <code><a href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code> is executed, are
automatically made visible to the read access performed by the presentation
engine.
This automatic visibility operation for an image happens-after the semaphore
signal operation, and happens-before the presentation engine accesses the
image.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>queue</code> <span role="normative">must</span> be a valid <code>VkQueue</code> handle
</p>
</li>
<li>
<p>
<code>pPresentInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkPresentInfoKHR</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist"><ul>
<li>
<p>
Host access to <code>queue</code> <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>pPresentInfo.pWaitSemaphores</code>[] <span role="normative">must</span> be externally synchronized
</p>
</li>
<li>
<p>
Host access to <code>pPresentInfo.pSwapchains</code>[] <span role="normative">must</span> be externally synchronized
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" ><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top" ><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top" ><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top" ><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_SUBOPTIMAL_KHR</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_DEVICE_LOST</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DATE_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_SURFACE_LOST_KHR</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkPresentInfoKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPresentInfoKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPresentInfoKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>          sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>              pNext<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                 waitSemaphoreCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSemaphore<span style="color: #990000">*</span>       pWaitSemaphores<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>                 swapchainCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkSwapchainKHR<span style="color: #990000">*</span>    pSwapchains<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> uint32_t<span style="color: #990000">*</span>          pImageIndices<span style="color: #990000">;</span>
    VkResult<span style="color: #990000">*</span>                pResults<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPresentInfoKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>waitSemaphoreCount</code> is the number of semaphores to wait for before
    issuing the present request.
    The number <span role="normative">may</span> be zero.
</p>
</li>
<li>
<p>
<code>pWaitSemaphores</code>, if not <code>VK_NULL_HANDLE</code>, is an array of
    <code>VkSemaphore</code> objects with <code>waitSemaphoreCount</code> entries, and
    specifies the semaphores to wait for before issuing the present request.
</p>
</li>
<li>
<p>
<code>swapchainCount</code> is the number of swapchains being presented to by
    this command.
</p>
</li>
<li>
<p>
<code>pSwapchains</code> is an array of <code>VkSwapchainKHR</code> objects with
    <code>swapchainCount</code> entries.
    A given swapchain <span role="normative">must</span> not appear in this list more than once.
</p>
</li>
<li>
<p>
<code>pImageIndices</code> is an array of indices into the array of each
    swapchain&#8217;s presentable images, with <code>swapchainCount</code> entries.
    Each entry in this array identifies the image to present on the
    corresponding entry in the <code>pSwapchains</code> array.
</p>
</li>
<li>
<p>
<code>pResults</code> is an array of <code>VkResult</code> typed elements with
    <code>swapchainCount</code> entries.
    Applications that do not need per-swapchain results <span role="normative">can</span> use <span class="monospaced">NULL</span> for
    <code>pResults</code>.
    If non-<span class="monospaced">NULL</span>, each entry in <code>pResults</code> will be set to the
    <code>VkResult</code> for presenting the swapchain corresponding to the same
    index in <code>pSwapchains</code>.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
Any given element of <code>pImageIndices</code> <span role="normative">must</span> be the index of a
    presentable image acquired from the swapchain specified by the
    corresponding element of the <code>pSwapchains</code> array, and the presented
    image subresource <span role="normative">must</span> be in the <code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>
    layout at the time the operation is executed on a <code>VkDevice</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PRESENT_INFO_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>, or a pointer to a valid instance of <code><a href="#VkDisplayPresentInfoKHR">VkDisplayPresentInfoKHR</a></code>
</p>
</li>
<li>
<p>
If <code>waitSemaphoreCount</code> is not <span class="monospaced">0</span>, and <code>pWaitSemaphores</code> is not <span class="monospaced">NULL</span>, <code>pWaitSemaphores</code> <span role="normative">must</span> be a pointer to an array of <code>waitSemaphoreCount</code> valid <code>VkSemaphore</code> handles
</p>
</li>
<li>
<p>
<code>pSwapchains</code> <span role="normative">must</span> be a pointer to an array of <code>swapchainCount</code> valid <code>VkSwapchainKHR</code> handles
</p>
</li>
<li>
<p>
<code>pImageIndices</code> <span role="normative">must</span> be a pointer to an array of <code>swapchainCount</code> <code>uint32_t</code> values
</p>
</li>
<li>
<p>
If <code>pResults</code> is not <span class="monospaced">NULL</span>, <code>pResults</code> <span role="normative">must</span> be a pointer to an array of <code>swapchainCount</code> <code><a href="#VkResult">VkResult</a></code> values
</p>
</li>
<li>
<p>
<code>swapchainCount</code> <span role="normative">must</span> be greater than <span class="monospaced">0</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph" id="display_swapchain_present"><p>When the <span class="monospaced">VK_KHR_display_swapchain</span> extension is enabled additional fields
<span role="normative">can</span> be specified when presenting an image to a swapchain by setting
<code><a href="#VkPresentInfoKHR">VkPresentInfoKHR</a></code>::<code>pNext</code> to point to an instance of the
<code><a href="#VkDisplayPresentInfoKHR">VkDisplayPresentInfoKHR</a></code> structure.</p></div>
<div class="paragraph"><p>The <code>VkDisplayPresentInfoKHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkDisplayPresentInfoKHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkDisplayPresentInfoKHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>    sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>        pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkRect2D</span>           srcRect<span style="color: #990000">;</span>
    <span style="color: #008080">VkRect2D</span>           dstRect<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>           persistent<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkDisplayPresentInfoKHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>srcRect</code> is a rectangular region of pixels to present.
    It <span role="normative">must</span> be a subset of the image being presented.
    If <code>VkDisplayPresentInfoKHR</code> is not specified, this region will be
    assumed to be the entire presentable image.
</p>
</li>
<li>
<p>
<code>dstRect</code> is a rectangular region within the visible region of the
    swapchain&#8217;s display mode.
    If <code>VkDisplayPresentInfoKHR</code> is not specified, this region will be
    assumed to be the entire visible region of the visible region of the
    swapchain&#8217;s mode.
    If the specified rectangle is a subset of the display mode&#8217;s visible
    region, content from display planes below the swapchain&#8217;s plane will be
    visible outside the rectangle.
    If there are no planes below the swapchain&#8217;s, the area outside the
    specified rectangle will be black.
    If portions of the specified rectangle are outside of the display&#8217;s
    visible region, pixels mapping only to those portions of the rectangle
    will be discarded.
</p>
</li>
<li>
<p>
<code>persistent</code>: If this is <code>VK_TRUE</code>, the display engine will
    enable buffered mode on displays that support it.
    This allows the display engine to stop sending content to the display
    until a new image is presented.
    The display will instead maintain a copy of the last presented image.
    This allows less power to be used, but <span role="normative">may</span> increase presentation
    latency.
    If <code>VkDisplayPresentInfoKHR</code> is not specified, persistent mode will
    not be used.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If the extent of the <code>srcRect</code> and <code>dstRect</code> are not equal, the
presented pixels will be scaled accordingly.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
<code>srcRect</code> <span role="normative">must</span> specify a rectangular region that is a subset of the
    image being presented
</p>
</li>
<li>
<p>
<code>dstRect</code> <span role="normative">must</span> specify a rectangular region that is a subset of the
    <code>visibleRegion</code> parameter of the display mode the swapchain being
    presented uses
</p>
</li>
<li>
<p>
If the <code>persistentContent</code> member of the
    <code>VkDisplayPropertiesKHR</code> structure returned by
    <code>vkGetPhysicalDeviceDisplayPropertiesKHR</code> for the display the
    present operation targets then <code>persistent</code> <span role="normative">must</span> be <code>VK_FALSE</code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p><code>vkQueuePresentKHR</code>, releases the acquisition of the images referenced
by <code>imageIndices</code>.
The queue family corresponding to the queue <code>vkQueuePresentKHR</code> is
executed on <span role="normative">must</span> have ownership of the presented images as defined in
<a href="#resources-sharing">Resource Sharing</a>.
<code>vkQueuePresentKHR</code> does not alter the queue family ownership, but the
presented images <span role="normative">must</span> not be used again before they have been reacquired
using <code>vkAcquireNextImageKHR</code>.</p></div>
<div class="paragraph"><p>The processing of the presentation happens in issue order with other queue
operations, but semaphores have to be used to ensure that prior rendering
and other commands in the specified queue complete before the presentation
begins.
The presentation command itself does not delay processing of subsequent
commands on the queue, however, presentation requests sent to a particular
queue are always performed in order.
Exact presentation timing is controlled by the semantics of the presentation
engine and native platform in use.</p></div>
<div class="paragraph"><p>If an image is presented to a swapchain created from a display surface, the
mode of the associated display will be updated, if necessary, to match the
mode specified when creating the display surface.
The mode switch and presentation of the specified image will be performed as
one atomic operation.</p></div>
<div class="paragraph"><p>The result codes <code>VK_ERROR_OUT_OF_DATE_KHR</code> and <code>VK_SUBOPTIMAL_KHR</code>
have the same meaning when returned by <code>vkQueuePresentKHR</code> as they do
when returned by <code>vkAcquireNextImageKHR</code>().
If multiple swapchains are presented, the result code is determined applying
the following rules in order:</p></div>
<div class="ulist"><ul>
<li>
<p>
If the device is lost, <code>VK_ERROR_DEVICE_LOST</code> is returned.
</p>
</li>
<li>
<p>
If any of the target surfaces are no longer available the error
    <code>VK_ERROR_SURFACE_LOST_KHR</code> is returned.
</p>
</li>
<li>
<p>
If any of the presents would have a result of
    <code>VK_ERROR_OUT_OF_DATE_KHR</code> if issued separately then
    <code>VK_ERROR_OUT_OF_DATE_KHR</code> is returned.
</p>
</li>
<li>
<p>
If any of the presents would have a result of <code>VK_SUBOPTIMAL_KHR</code> if
    issued separately then <code>VK_SUBOPTIMAL_KHR</code> is returned.
</p>
</li>
<li>
<p>
Otherwise <code>VK_SUCCESS</code> is returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Presentation is a read-only operation that will not affect the content of
the presentable images.
Upon reacquiring the image and transitioning it away from the
<code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> layout, the contents will be the same
as they were prior to transitioning the image to the present source layout
and presenting it.
However, if a mechanism other than Vulkan is used to modify the platform
window associated with the swapchain, the content of all presentable images
in the swapchain becomes undefined.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extended-functionality">30. Extended Functionality</h2>
<div class="sectionbody">
<div class="paragraph"><p>Additional functionality <span role="normative">may</span> be provided by layers or extensions.
A layer <span role="normative">cannot</span> add or modify Vulkan commands, while an extension <span role="normative">may</span> do
so.</p></div>
<div class="paragraph"><p>The set of layers to enable is specified when creating an instance, and
those layers are able to intercept any Vulkan command dispatched to that
instance or any of its child objects.</p></div>
<div class="paragraph"><p>Extensions can operate at either the instance or device <em>extension scope</em>.
Enabled instance extensions are able to affect the operation of the instance
and any of its child objects, while device extensions <span role="normative">may</span> only be available
on a subset of physical devices, <span role="normative">must</span> be individually enabled per-device,
and only affect the operation of the devices where they are enabled.</p></div>
<div class="paragraph"><p>Examples of these might be:</p></div>
<div class="ulist"><ul>
<li>
<p>
Whole API validation is an example of a layer.
</p>
</li>
<li>
<p>
Debug capabilities might make a good instance extension.
</p>
</li>
<li>
<p>
A layer that provides hardware-specific performance telemetry and
    analysis could be a layer that is only active for devices created from
    compatible physical devices.
</p>
</li>
<li>
<p>
Functions to allow an application to use additional hardware features
    beyond the core would be a good candidate for a device extension.
</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="extended-functionality-layers">30.1. Layers</h3>
<div class="paragraph"><p>When a layer is enabled, it inserts itself into the call chain for Vulkan
commands the layer is interested in.
A common use of layers is to validate application behavior during
development.
For example, the implementation will not check that Vulkan enums used by the
application fall within allowed ranges.
Instead, a validation layer would do those checks and flag issues.
This avoids a performance penalty during production use of the application
because those layers would not be enabled in production.</p></div>
<div class="paragraph"><p>Vulkan layers <span role="normative">may</span> wrap object handles (i.e. return a different handle value
to the application than that generated by the implementation).
This is generally discouraged, as it increases the probability of
incompatibilities with new extensions.
The validation layers wrap handles in order to track the proper use and
destruction of each object.
See the <a href="#LoaderAndValidationLayers">"Vulkan Loader Specification and Architecture Overview"</a> document for additional information.</p></div>
<div class="paragraph"><p>To query the available layers, call:</p></div>
<div class="listingblock">
<a id="vkEnumerateInstanceLayerProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkEnumerateInstanceLayerProperties</span></span><span style="color: #990000">(</span>
    uint32_t<span style="color: #990000">*</span>                                   pPropertyCount<span style="color: #990000">,</span>
    VkLayerProperties<span style="color: #990000">*</span>                          pProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>pPropertyCount</code> is a pointer to an integer related to the number of
    layer properties available or queried, as described below.
</p>
</li>
<li>
<p>
<code>pProperties</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code><a href="#VkLayerProperties">VkLayerProperties</a></code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pProperties</code> is <span class="monospaced">NULL</span>, then the number of layer properties
available is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <span role="normative">must</span> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If <code>pPropertyCount</code> is less than the number of layer properties
available, at most <code>pPropertyCount</code> structures will be written.
If <code>pPropertyCount</code> is smaller than the number of layers available,
<code>VK_INCOMPLETE</code> will be returned instead of <code>VK_SUCCESS</code>, to
indicate that not all the available layer properties were returned.</p></div>
<div class="paragraph"><p>The list of available layers may change at any time due to actions outside
of the Vulkan implementation, so two calls to
<code>vkEnumerateInstanceLayerProperties</code> with the same parameters <span role="normative">may</span>
return different results, or retrieve different <code>pPropertyCount</code> values
or <code>pProperties</code> contents.
Once an instance has been created, the layers enabled for that instance will
continue to be enabled and valid for the lifetime of that instance, even if
some of them become unavailable for future instances.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>pPropertyCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pPropertyCount</code> is not <span class="monospaced">0</span>, and <code>pProperties</code> is not <span class="monospaced">NULL</span>, <code>pProperties</code> <span role="normative">must</span> be a pointer to an array of <code>pPropertyCount</code> <code>VkLayerProperties</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkLayerProperties</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkLayerProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkLayerProperties</span> <span style="color: #FF0000">{</span>
    <span style="color: #009900">char</span>        layerName<span style="color: #990000">[</span>VK_MAX_EXTENSION_NAME_SIZE<span style="color: #990000">];</span>
    <span style="color: #008080">uint32_t</span>    specVersion<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>    implementationVersion<span style="color: #990000">;</span>
    <span style="color: #009900">char</span>        description<span style="color: #990000">[</span>VK_MAX_DESCRIPTION_SIZE<span style="color: #990000">];</span>
<span style="color: #FF0000">}</span> VkLayerProperties<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>layerName</code> is a null-terminated UTF-8 string specifying the name of
    the layer.
    Use this name in the <code>ppEnabledLayerNames</code> array passed in the
    <code><a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a></code> structure to enable this layer for an
    instance.
</p>
</li>
<li>
<p>
<code>specVersion</code> is the Vulkan version the layer was written to,
    encoded as described in the <a href="#fundamentals-versionnum">API Version     Numbers and Semantics</a> section.
</p>
</li>
<li>
<p>
<code>implementationVersion</code> is the version of this layer.
    It is an integer, increasing with backward compatible changes.
</p>
</li>
<li>
<p>
<code>description</code> is a null-terminated UTF-8 string providing additional
    details that <span role="normative">can</span> be used by the application to identify the layer.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To enable a layer, the name of the layer <span role="normative">should</span> be added to the
<code>ppEnabledLayerNames</code> member of <code><a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a></code> when creating
a <code>VkInstance</code>.</p></div>
<div class="paragraph"><p>Loader implementations <span role="normative">may</span> provide mechanisms outside the Vulkan API for
enabling specific layers.
Layers enabled through such a mechanism are <em>implicitly enabled</em>, while
layers enabled by including the layer name in the <code>ppEnabledLayerNames</code>
member of <code><a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a></code> are <em>explicitly enabled</em>.
Except where otherwise specified, implicitly enabled and explicitly enabled
layers differ only in the way they are enabled.
Explicitly enabling a layer that is implicitly enabled has no additional
effect.</p></div>
<div class="sect3">
<h4 id="extended-functionality-device-layer-deprecation">30.1.1. Device Layer Deprecation</h4>
<div class="paragraph"><p>Previous versions of this specification distinguished between instance and
device layers.
Instance layers were only able to intercept commands that operate on
<code>VkInstance</code> and <code>VkPhysicalDevice</code>, except they were not able to
intercept <code><a href="#vkCreateDevice">vkCreateDevice</a></code>.
Device layers were enabled for individual devices when they were created,
and could only intercept commands operating on that device or its child
objects.</p></div>
<div class="paragraph"><p>Device-only layers are now deprecated, and this specification no longer
distinguishes between instance and device layers.
Layers are enabled during instance creation, and are able to intercept all
commands operating on that instance or any of its child objects.
At the time of deprecation there were no known device-only layers and no
compelling reason to create one.</p></div>
<div class="paragraph"><p>In order to maintain compatibility with implementations released prior to
device-layer deprecation, applications <span role="normative">should</span> still enumerate and enable
device layers.
The behavior of <code>vkEnumerateDeviceLayerProperties</code> and valid usage of
the <code>ppEnabledLayerNames</code> member of <code>VkDeviceCreateInfo</code> maximizes
compatibility with applications written to work with the previous
requirements.</p></div>
<div class="paragraph"><p>To enumerate device layers, call:</p></div>
<div class="listingblock">
<a id="vkEnumerateDeviceLayerProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkEnumerateDeviceLayerProperties</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pPropertyCount<span style="color: #990000">,</span>
    VkLayerProperties<span style="color: #990000">*</span>                          pProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>pPropertyCount</code> is a pointer to an integer related to the number of
    layer properties available or queried.
</p>
</li>
<li>
<p>
<code>pProperties</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code><a href="#VkLayerProperties">VkLayerProperties</a></code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If <code>pProperties</code> is <span class="monospaced">NULL</span>, then the number of layer properties
available is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <span role="normative">must</span> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If <code>pPropertyCount</code> is less than the number of layer properties
available, at most <code>pPropertyCount</code> structures will be written.
If <code>pPropertyCount</code> is smaller than the number of layers available,
<code>VK_INCOMPLETE</code> will be returned instead of <code>VK_SUCCESS</code>, to
indicate that not all the available layer properties were returned.</p></div>
<div class="paragraph"><p>The list of layers enumerated by <code>vkEnumerateDeviceLayerProperties</code>
<span role="normative">must</span> be exactly the sequence of layers enabled for the instance.
The members of <code>VkLayerProperties</code> for each enumerated layer <span role="normative">must</span> be
the same as the properties when the layer was enumerated by
<code>vkEnumerateInstanceLayerProperties</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pPropertyCount</code> is not <span class="monospaced">0</span>, and <code>pProperties</code> is not <span class="monospaced">NULL</span>, <code>pProperties</code> <span role="normative">must</span> be a pointer to an array of <code>pPropertyCount</code> <code>VkLayerProperties</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>ppEnabledLayerNames</code> and <code>enabledLayerCount</code> members of
<code>VkDeviceCreateInfo</code> are deprecated and their values <span role="normative">must</span> be ignored by
implementations.
However, for compatibility, only an empty list of layers or a list that
exactly matches the sequence enabled at instance creation time are valid,
and validation layers <span role="normative">should</span> issue diagnostics for other cases.</p></div>
<div class="paragraph"><p>Regardless of the enabled layer list provided in <code>VkDeviceCreateInfo</code>,
the sequence of layers active for a device will be exactly the sequence of
layers enabled when the parent instance was created.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="extended-functionality-extensions">30.2. Extensions</h3>
<div class="paragraph"><p>Extensions <span role="normative">may</span> define new Vulkan commands, structures, and enumerants.
For compilation purposes, the interfaces defined by registered extensions,
including new structures and enumerants as well as function pointer types
for new commands, are defined in the Khronos-supplied <span class="monospaced">vulkan.h</span> together
with the core API.
However, commands defined by extensions <span role="normative">may</span> not be available for static
linking - in which case function pointers to these commands <span role="normative">should</span> be
queried at runtime as described in <a href="#initialization-functionpointers">[initialization-functionpointers]</a>.
Extensions <span role="normative">may</span> be provided by layers as well as by a Vulkan implementation.</p></div>
<div class="paragraph"><p>Because extensions <span role="normative">may</span> extend or change the behavior of the Vulkan API,
extension authors <span role="normative">should</span> add support for their extensions to the Khronos
validation layers.
This is especially important for new commands whose parameters have been
wrapped by the validation layers.
See the <a href="#LoaderAndValidationLayers">"Vulkan Loader Specification and Architecture Overview"</a> document for additional information.</p></div>
<div class="paragraph"><p>To query the available instance extensions, call:</p></div>
<div class="listingblock">
<a id="vkEnumerateInstanceExtensionProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkEnumerateInstanceExtensionProperties</span></span><span style="color: #990000">(</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span>                                 pLayerName<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pPropertyCount<span style="color: #990000">,</span>
    VkExtensionProperties<span style="color: #990000">*</span>                      pProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>pLayerName</code> is either <span class="monospaced">NULL</span> or a pointer to a null-terminated
    UTF-8 string naming the layer to retrieve extensions from.
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> is a pointer to an integer related to the number of
    extension properties available or queried, as described below.
</p>
</li>
<li>
<p>
<code>pProperties</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code><a href="#VkExtensionProperties">VkExtensionProperties</a></code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When <code>pLayerName</code> parameter is NULL, only extensions provided by the
Vulkan implementation or by implicitly enabled layers are returned.
When <code>pLayerName</code> is the name of a layer, the instance extensions
provided by that layer are returned.</p></div>
<div class="paragraph"><p>If <code>pProperties</code> is <span class="monospaced">NULL</span>, then the number of extensions properties
available is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <span role="normative">must</span> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If <code>pPropertyCount</code> is less than the number of extension properties
available, at most <code>pPropertyCount</code> structures will be written.
If <code>pPropertyCount</code> is smaller than the number of extensions available,
<code>VK_INCOMPLETE</code> will be returned instead of <code>VK_SUCCESS</code>, to
indicate that not all the available properties were returned.</p></div>
<div class="paragraph"><p>Because the list of available layers may change externally between calls to
<code>vkEnumerateInstanceExtensionProperties</code>, two calls may retrieve
different results if a <code>pLayerName</code> is available in one call but not in
another.
The extensions supported by a layer may also change between two calls, e.g.
if the layer implementation is replaced by a different version between those
calls.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>pLayerName</code> is not <span class="monospaced">NULL</span>, it <span role="normative">must</span> be the name of a layer
    returned by <code><a href="#vkEnumerateInstanceLayerProperties">vkEnumerateInstanceLayerProperties</a></code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
If <code>pLayerName</code> is not <span class="monospaced">NULL</span>, <code>pLayerName</code> <span role="normative">must</span> be a null-terminated string
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pPropertyCount</code> is not <span class="monospaced">0</span>, and <code>pProperties</code> is not <span class="monospaced">NULL</span>, <code>pProperties</code> <span role="normative">must</span> be a pointer to an array of <code>pPropertyCount</code> <code>VkExtensionProperties</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_LAYER_NOT_PRESENT</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>To enable an instance extension, the name of the extension <span role="normative">should</span> be added
to the <code>ppEnabledExtensionNames</code> member of <code><a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a></code>
when creating a <code>VkInstance</code>.</p></div>
<div class="paragraph"><p>Enabling an extension does not change behavior of functionality exposed by
the core Vulkan API or any other extension, other than making valid the use
of the commands, enums and structures defined by that extension.</p></div>
<div class="paragraph"><p>To query the extensions available to a given physical device, call:</p></div>
<div class="listingblock">
<a id="vkEnumerateDeviceExtensionProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkEnumerateDeviceExtensionProperties</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span>                                 pLayerName<span style="color: #990000">,</span>
    uint32_t<span style="color: #990000">*</span>                                   pPropertyCount<span style="color: #990000">,</span>
    VkExtensionProperties<span style="color: #990000">*</span>                      pProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device that will be queried.
</p>
</li>
<li>
<p>
<code>pLayerName</code> is either <span class="monospaced">NULL</span> or a pointer to a null-terminated
    UTF-8 string naming the layer to retrieve extensions from.
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> is a pointer to an integer related to the number of
    extension properties available or queried, and is treated in the same
    fashion as the
    <code><a href="#vkEnumerateInstanceExtensionProperties">vkEnumerateInstanceExtensionProperties</a></code>::<code>pPropertyCount</code>
    parameter.
</p>
</li>
<li>
<p>
<code>pProperties</code> is either <span class="monospaced">NULL</span> or a pointer to an array of
    <code><a href="#VkExtensionProperties">VkExtensionProperties</a></code> structures.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When <code>pLayerName</code> parameter is NULL, only extensions provided by the
Vulkan implementation or by implicitly enabled layers are returned.
When <code>pLayerName</code> is the name of a layer, the device extensions provided
by that layer are returned.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If <code>pLayerName</code> is not <span class="monospaced">NULL</span>, it <span role="normative">must</span> be the name of a layer
    returned by <code><a href="#vkEnumerateDeviceLayerProperties">vkEnumerateDeviceLayerProperties</a></code>
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
If <code>pLayerName</code> is not <span class="monospaced">NULL</span>, <code>pLayerName</code> <span role="normative">must</span> be a null-terminated string
</p>
</li>
<li>
<p>
<code>pPropertyCount</code> <span role="normative">must</span> be a pointer to a <code>uint32_t</code> value
</p>
</li>
<li>
<p>
If the value referenced by <code>pPropertyCount</code> is not <span class="monospaced">0</span>, and <code>pProperties</code> is not <span class="monospaced">NULL</span>, <code>pProperties</code> <span role="normative">must</span> be a pointer to an array of <code>pPropertyCount</code> <code>VkExtensionProperties</code> structures
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
<li>
<p>
<code>VK_INCOMPLETE</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_LAYER_NOT_PRESENT</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkExtensionProperties</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkExtensionProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkExtensionProperties</span> <span style="color: #FF0000">{</span>
    <span style="color: #009900">char</span>        extensionName<span style="color: #990000">[</span>VK_MAX_EXTENSION_NAME_SIZE<span style="color: #990000">];</span>
    <span style="color: #008080">uint32_t</span>    specVersion<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkExtensionProperties<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>extensionName</code> is a null-terminated string specifying the name of
    the extension.
</p>
</li>
<li>
<p>
<code>specVersion</code> is the version of this extension.
    It is an integer, incremented with backward compatible changes.
</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="extended-functionality-instance-extensions-and-devices">30.2.1. Instance Extensions and Device Extensions</h4>
<div class="paragraph"><p>Because an instance extension can affect the operation of an instance and
any of its child objects, the decision to expose functionality as an
instance extension or as a device extension is not always clear.
This section provides some guidelines and rules for when to expose new
functionality as an instance extension, device extension, or both.</p></div>
<div class="paragraph"><p>The decision is influenced by whether extension functionality affects
instance-level objects (e.g. instances and physical devices) and commands,
or device-level objects (e.g. logical devices, queues, and command buffers)
and commands, or both.</p></div>
<div class="paragraph"><p>In some cases, the decision is clear:</p></div>
<div class="ulist"><ul>
<li>
<p>
Functionality that is restricted to the instance-level <span role="normative">must</span> be
    implemented as an instance extension.
</p>
</li>
<li>
<p>
Functionality that is restricted to the device-level <span role="normative">must</span> be
    implemented as a device extension.
</p>
</li>
</ul></div>
<div class="paragraph"><p>In other cases, the decision is not so clear:</p></div>
<div class="ulist"><ul>
<li>
<p>
Global functionality that affects the entire Vulkan API, including
    instance and device-level objects and commands, <span role="normative">should</span> be an instance
    extension.
</p>
</li>
<li>
<p>
Device-level functionality that contains physical-device queries, <span role="normative">can</span>
    be implemented as an instance extension.
    If some part of an instance extension&#8217;s functionality might not be
    available on all physical devices, the extension <span role="normative">should</span> provide a query
    to determine which physical devices provide the functionality.
    The <span class="monospaced">VK_KHR_get_physical_device_properties2</span> extension allows such
    functionality to be implemented as a device extension.
</p>
</li>
<li>
<p>
For a set of global functionality that provides new instance-level and
    device-level commands, and <span role="normative">can</span> be enabled for a subset of devices, it
    is recommended that the functionality be partitioned across two
    extensions&#8212;one for the instance-level functionality, and one for the
    device-specific functionality.
    In this latter case, it is generally recommended that the two extensions
    have unique names.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Examples of instance extensions include:</p></div>
<div class="ulist"><ul>
<li>
<p>
Logging of debug messages by any enabled layers for all Vulkan commands.
</p>
</li>
<li>
<p>
Functionality creating new objects which are direct children of an
    instance.
</p>
</li>
<li>
<p>
Functionality creating new objects which are direct children of a
    physical device and intended to work with any logical device created
    from the physical device.
</p>
</li>
<li>
<p>
Functionality adding new instance-level Vulkan commands that do not
    affect any device-level commands.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Instance extensions generally require support in the Vulkan loader.
This is especially true for commands that are dispatched from instances and
physical devices.
Additional information about supporting instance-level commands may be found
in the <a href="#LoaderAndValidationLayers"><em>Vulkan Loader Specification and Architecture Overview</em></a> document.</p></div>
<div class="paragraph"><p>Please see the "Architectural overview of layers and loader" section for
information about how both instance-level and device-level commands are
supported and dispatched.</p></div>
</td>
</tr></table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="features">31. Features, Limits, and Formats</h2>
<div class="sectionbody">
<div class="paragraph"><p>Vulkan is designed to support a wide range of hardware and as such there are
a number of features, limits, and formats which are not supported on all
hardware.
Features describe functionality that is not <span role="normative">required</span> and which <span role="normative">must</span> be
explicitly enabled.
Limits describe implementation-dependent minimums, maximums, and other
device characteristics that an application <span role="normative">may</span> need to be aware of.
Supported buffer and image formats <span role="normative">may</span> vary across implementations.
A minimum set of format features are guaranteed, but others <span role="normative">must</span> be
explicitly queried before use to ensure they are supported by the
implementation.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note on extensibility</div>
<div class="paragraph"><p>The features and limits are reported via basic structures (that is
<code><a href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a></code> and <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>), as well as
extensible structures (<code>VkPhysicalDeviceFeatures2KHR</code> and
<code>VkPhysicalDeviceProperties2KHR</code>) which were added in
<code>VK_KHR_get_physical_device_properties2</code>.
It is expected that when new features or limits are added in a future Vulkan
version or extensions, each extension should introduce one new feature
structure and/or limit structure (as needed) which <span role="normative">can</span> be chained from the
<code>VkPhysicalDeviceFeatures2KHR</code> and <code>VkPhysicalDeviceProperties2KHR</code>
structures, respectively.</p></div>
</td>
</tr></table>
</div>
<div class="sect2">
<h3 id="features-features">31.1. Features</h3>
<div class="paragraph"><p>The Specification defines a set of fine-grained features that are not
<span role="normative">required</span>, but <span role="normative">may</span> be supported by a Vulkan implementation.
Support for features is reported and enabled on a per-feature basis.
Features are properties of the physical device.</p></div>
<div class="paragraph"><p>To query supported features, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceFeatures"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceFeatures</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    VkPhysicalDeviceFeatures<span style="color: #990000">*</span>                   pFeatures<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device from which to query the
    supported features.
</p>
</li>
<li>
<p>
<code>pFeatures</code> is a pointer to a <code><a href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a></code>
    structure in which the physical device features are returned.
    For each feature, a value of <code>VK_TRUE</code> indicates that the feature is
    supported on this physical device, and <code>VK_FALSE</code> indicates that the
    feature is not supported.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pFeatures</code> <span role="normative">must</span> be a pointer to a <code>VkPhysicalDeviceFeatures</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Fine-grained features used by a logical device <span role="normative">must</span> be enabled at
<code>VkDevice</code> creation time.
If a feature is enabled that the physical device does not support,
<code>VkDevice</code> creation will fail.
If an application uses a feature without enabling it at <code>VkDevice</code>
creation time, the device behavior is undefined.
The validation layer will warn if features are used without being enabled.</p></div>
<div class="paragraph"><p>The fine-grained features are enabled by passing a pointer to the
<code>VkPhysicalDeviceFeatures</code> structure via the <code>pEnabledFeatures</code>
member of the <code>VkDeviceCreateInfo</code> structure that is passed into the
<code>vkCreateDevice</code> call.
If a member of <code>pEnabledFeatures</code> is set to <code>VK_TRUE</code> or
<code>VK_FALSE</code>, then the device will be created with the indicated feature
enabled or disabled, respectively.
Features <span role="normative">can</span> also be enabled by using the
<code><a href="#VkPhysicalDeviceFeatures2KHR">VkPhysicalDeviceFeatures2KHR</a></code> structure.</p></div>
<div class="paragraph"><p>If an application wishes to enable all features supported by a device, it
<span role="normative">can</span> simply pass in the <code>VkPhysicalDeviceFeatures</code> structure that was
previously returned by <code>vkGetPhysicalDeviceFeatures</code>.
To disable an individual feature, the application <span role="normative">can</span> set the desired
member to <code>VK_FALSE</code> in the same structure.
Setting <code>pEnabledFeatures</code> to <span class="monospaced">NULL</span>
and not including a <code><a href="#VkPhysicalDeviceFeatures2KHR">VkPhysicalDeviceFeatures2KHR</a></code> in the <code>pNext</code>
member of <code><a href="#VkDeviceCreateInfo">VkDeviceCreateInfo</a></code>
is equivalent to setting all members of the structure to <code>VK_FALSE</code>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>Some features, such as <code>robustBufferAccess</code>, <span role="normative">may</span> incur a run-time
performance cost.
Application writers <span role="normative">should</span> carefully consider the implications of enabling
all supported features.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>To query supported features defined by the core or extensions, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceFeatures2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceFeatures2KHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    VkPhysicalDeviceFeatures2KHR<span style="color: #990000">*</span>               pFeatures<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device from which to query the
    supported features.
</p>
</li>
<li>
<p>
<code>pFeatures</code> is a pointer to a <code><a href="#VkPhysicalDeviceFeatures2KHR">VkPhysicalDeviceFeatures2KHR</a></code>
    structure in which the physical device features are returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Each structure in <code>pFeatures</code> and its <code>pNext</code> chain contain members
corresponding to fine-grained features.
<code>vkGetPhysicalDeviceFeatures2KHR</code> writes each member to a boolean value
indicating whether that feature is supported.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pFeatures</code> <span role="normative">must</span> be a pointer to a <code>VkPhysicalDeviceFeatures2KHR</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceFeatures2KHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPhysicalDeviceFeatures2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPhysicalDeviceFeatures2KHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>             sType<span style="color: #990000">;</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                       pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkPhysicalDeviceFeatures</span>    features<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPhysicalDeviceFeatures2KHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceFeatures2KHR</code> structure is defined as:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>features</code> is a structure of type <code><a href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a></code>
    describing the fine-grained features of the Vulkan 1.0 API.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <code>pNext</code> chain of this structure is used to extend the structure with
features defined by extensions.
This structure <span role="normative">can</span> be used in <code><a href="#vkGetPhysicalDeviceFeatures2KHR">vkGetPhysicalDeviceFeatures2KHR</a></code> or <span role="normative">can</span>
be in the <code>pNext</code> chain of a <code><a href="#VkDeviceCreateInfo">VkDeviceCreateInfo</a></code> structure, in
which case it controls which features are enabled in the device in lieu of
<code>pEnabledFeatures</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceFeatures</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPhysicalDeviceFeatures"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPhysicalDeviceFeatures</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkBool32</span>    robustBufferAccess<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    fullDrawIndexUint32<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    imageCubeArray<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    independentBlend<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    geometryShader<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    tessellationShader<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    sampleRateShading<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    dualSrcBlend<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    logicOp<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    multiDrawIndirect<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    drawIndirectFirstInstance<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    depthClamp<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    depthBiasClamp<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    fillModeNonSolid<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    depthBounds<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    wideLines<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    largePoints<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    alphaToOne<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    multiViewport<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    samplerAnisotropy<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    textureCompressionETC2<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    textureCompressionASTC_LDR<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    textureCompressionBC<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    occlusionQueryPrecise<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    pipelineStatisticsQuery<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    vertexPipelineStoresAndAtomics<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    fragmentStoresAndAtomics<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderTessellationAndGeometryPointSize<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderImageGatherExtended<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderStorageImageExtendedFormats<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderStorageImageMultisample<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderStorageImageReadWithoutFormat<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderStorageImageWriteWithoutFormat<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderUniformBufferArrayDynamicIndexing<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderSampledImageArrayDynamicIndexing<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderStorageBufferArrayDynamicIndexing<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderStorageImageArrayDynamicIndexing<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderClipDistance<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderCullDistance<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderFloat64<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderInt64<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderInt16<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderResourceResidency<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    shaderResourceMinLod<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    sparseBinding<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    sparseResidencyBuffer<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    sparseResidencyImage2D<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    sparseResidencyImage3D<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    sparseResidency2Samples<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    sparseResidency4Samples<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    sparseResidency8Samples<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    sparseResidency16Samples<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    sparseResidencyAliased<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    variableMultisampleRate<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>    inheritedQueries<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPhysicalDeviceFeatures<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The members of the <code>VkPhysicalDeviceFeatures</code> structure describe the
following features:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a id="features-features-robustBufferAccess"></a> <code>robustBufferAccess</code>
    indicates that accesses to buffers are bounds-checked against the range
    of the buffer descriptor (as determined by
    <code>VkDescriptorBufferInfo</code>::<code>range</code>,
    <code>VkBufferViewCreateInfo</code>::<code>range</code>, or the size of the buffer).
    Out of bounds accesses <span role="normative">must</span> not cause application termination, and the
    effects of shader loads, stores, and atomics <span role="normative">must</span> conform to an
    implementation-dependent behavior as described below.
</p>
<div class="ulist"><ul>
<li>
<p>
A buffer access is considered to be out of bounds if any of the
     following are true:
</p>
<div class="ulist"><ul>
<li>
<p>
The pointer was formed by <code>OpImageTexelPointer</code> and the coordinate
      is less than zero or greater than or equal to the number of whole
      elements in the bound range.
</p>
</li>
<li>
<p>
The pointer was not formed by <code>OpImageTexelPointer</code> and the object
      pointed to is not wholly contained within the bound range.
</p>
<div class="openblock">
<div class="content">
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>If a SPIR-V <code>OpLoad</code> instruction loads a structure and the tail end of
the structure is out of bounds, then all members of the structure are
considered out of bounds even if the members at the end are not statically
used.</p></div>
</td>
</tr></table>
</div>
</div></div>
</li>
<li>
<p>
If any buffer access in a given SPIR-V block is determined to be out
      of bounds, then any other access of the same type (load, store, or
      atomic) in the same SPIR-V block that accesses an address less than 16
      bytes away from the out of bounds address <span role="normative">may</span> also be considered out
      of bounds.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Out-of-bounds buffer loads will return any of the following values:
</p>
<div class="ulist"><ul>
<li>
<p>
Values from anywhere within the memory range(s) bound to the buffer
      (possibly including bytes of memory past the end of the buffer, up to
      the end of the bound range).
</p>
</li>
<li>
<p>
Zero values, or <span class="eq">(0,0,0,x)</span> vectors for vector reads where x is a
      valid value represented in the type of the vector components and <span role="normative">may</span>
      be any of:
</p>
<div class="ulist"><ul>
<li>
<p>
0, 1, or the maximum representable positive integer value, for signed
       or unsigned integer components
</p>
</li>
<li>
<p>
0.0 or 1.0, for floating-point components
</p>
</li>
</ul></div>
</li>
</ul></div>
</li>
<li>
<p>
Out-of-bounds writes <span role="normative">may</span> modify values within the memory range(s)
     bound to the buffer, but <span role="normative">must</span> not modify any other memory.
</p>
</li>
<li>
<p>
Out-of-bounds atomics <span role="normative">may</span> modify values within the memory range(s)
     bound to the buffer, but <span role="normative">must</span> not modify any other memory, and return
     an undefined value.
</p>
</li>
<li>
<p>
Vertex input attributes are considered out of bounds if the address of
     the attribute plus the size of the attribute is greater than the size
     of the bound buffer.
     Further, if any vertex input attribute using a specific vertex input
     binding is out of bounds, then all vertex input attributes using that
     vertex input binding for that vertex shader invocation are considered
     out of bounds.
</p>
<div class="ulist"><ul>
<li>
<p>
If a vertex input attribute is out of bounds, it will be assigned one
      of the following values:
</p>
<div class="ulist"><ul>
<li>
<p>
Values from anywhere within the memory range(s) bound to the buffer,
     converted according to the format of the attribute.
</p>
</li>
<li>
<p>
Zero values, format converted according to the format of the
       attribute.
</p>
</li>
<li>
<p>
Zero values, or <span class="eq">(0,0,0,x)</span> vectors, as described above.
</p>
</li>
</ul></div>
</li>
</ul></div>
</li>
<li>
<p>
If <code>robustBufferAccess</code> is not enabled, out of bounds accesses <span role="normative">may</span>
     corrupt any memory within the process and cause undefined behavior up
     to and including application termination.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<a id="features-features-fullDrawIndexUint32"></a> <code>fullDrawIndexUint32</code>
    indicates the full 32-bit range of indices is supported for indexed draw
    calls when using a <code><a href="#VkIndexType">VkIndexType</a></code> of <code>VK_INDEX_TYPE_UINT32</code>.
    <code>maxDrawIndexedIndexValue</code> is the maximum index value that <span role="normative">may</span> be
    used (aside from the primitive restart index, which is always 2<sup>32</sup>-1
    when the <code><a href="#VkIndexType">VkIndexType</a></code> is <code>VK_INDEX_TYPE_UINT32</code>).
    If this feature is supported, <code>maxDrawIndexedIndexValue</code> <span role="normative">must</span> be
    2<sup>32</sup>-1; otherwise it <span role="normative">must</span> be no smaller than 2<sup>24</sup>-1.
    See
    <a href="#features-limits-maxDrawIndexedIndexValue">maxDrawIndexedIndexValue</a>.
</p>
</li>
<li>
<p>
<a id="features-features-imageCubeArray"></a> <code>imageCubeArray</code> indicates
    whether image views with a <code><a href="#VkImageViewType">VkImageViewType</a></code> of
    <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code> <span role="normative">can</span> be created, and that the
    corresponding <code>SampledCubeArray</code> and <code>ImageCubeArray</code> SPIR-V
    capabilities <span role="normative">can</span> be used in shader code.
</p>
</li>
<li>
<p>
<a id="features-features-independentBlend"></a> <code>independentBlend</code> indicates
    whether the <code>VkPipelineColorBlendAttachmentState</code> settings are
    controlled independently per-attachment.
    If this feature is not enabled, the
    <code>VkPipelineColorBlendAttachmentState</code> settings for all color
    attachments <span role="normative">must</span> be identical.
    Otherwise, a different <code>VkPipelineColorBlendAttachmentState</code> <span role="normative">can</span> be
    provided for each bound color attachment.
</p>
</li>
<li>
<p>
<a id="features-features-geometryShader"></a> <code>geometryShader</code> indicates
    whether geometry shaders are supported.
    If this feature is not enabled, the <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>
    and <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code> enum values <span role="normative">must</span> not be
    used.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>Geometry</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-tessellationShader"></a> <code>tessellationShader</code>
    indicates whether tessellation control and evaluation shaders are
    supported.
    If this feature is not enabled, the
    <code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code>,
    <code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>,
    <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>,
    <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>, and
    <code>VK_STRUCTURE_TYPE_PIPELINE_TESSELLATION_STATE_CREATE_INFO</code> enum
    values <span role="normative">must</span> not be used.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>Tessellation</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-sampleRateShading"></a> <code>sampleRateShading</code>
    indicates whether per-sample shading and multisample interpolation are
    supported.
    If this feature is not enabled, the <code>sampleShadingEnable</code> member of
    the <code>VkPipelineMultisampleStateCreateInfo</code> structure <span role="normative">must</span> be set to
    <code>VK_FALSE</code> and the <code>minSampleShading</code> member is ignored.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>SampleRateShading</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-dualSrcBlend"></a> <code>dualSrcBlend</code> indicates whether
    blend operations which take two sources are supported.
    If this feature is not enabled, the <code>VK_BLEND_FACTOR_SRC1_COLOR</code>,
    <code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
    <code>VK_BLEND_FACTOR_SRC1_ALPHA</code>, and
    <code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code> enum values <span role="normative">must</span> not be used
    as source or destination blending factors.
    See <a href="#framebuffer-dsb">[framebuffer-dsb]</a>.
</p>
</li>
<li>
<p>
<a id="features-features-logicOp"></a> <code>logicOp</code> indicates whether logic
    operations are supported.
    If this feature is not enabled, the <code>logicOpEnable</code> member of the
    <code>VkPipelineColorBlendStateCreateInfo</code> structure <span role="normative">must</span> be set to
    <code>VK_FALSE</code>, and the <code>logicOp</code> member is ignored.
</p>
</li>
<li>
<p>
<a id="features-features-multiDrawIndirect"></a> <code>multiDrawIndirect</code>
    indicates whether multiple draw indirect is supported.
    If this feature is not enabled, the <code>drawCount</code> parameter to the
    <code>vkCmdDrawIndirect</code> and <code>vkCmdDrawIndexedIndirect</code> commands
    <span role="normative">must</span> be 0 or 1.
    The <code>maxDrawIndirectCount</code> member of the
    <code>VkPhysicalDeviceLimits</code> structure <span role="normative">must</span> also be 1 if this feature
    is not supported.
    See <a href="#features-limits-maxDrawIndirectCount">maxDrawIndirectCount</a>.
</p>
</li>
<li>
<p>
<a id="features-features-drawIndirectFirstInstance"></a>
    <code>drawIndirectFirstInstance</code> indicates whether indirect draw calls
    support the <code>firstInstance</code> parameter.
    If this feature is not enabled, the <code>firstInstance</code> member of all
    <code>VkDrawIndirectCommand</code> and <code>VkDrawIndexedIndirectCommand</code>
    structures that are provided to the <code>vkCmdDrawIndirect</code> and
    <code>vkCmdDrawIndexedIndirect</code> commands <span role="normative">must</span> be 0.
</p>
</li>
<li>
<p>
<a id="features-features-depthClamp"></a> <code>depthClamp</code> indicates whether
    depth clamping is supported.
    If this feature is not enabled, the <code>depthClampEnable</code> member of the
    <code>VkPipelineRasterizationStateCreateInfo</code> structure <span role="normative">must</span> be set to
    <code>VK_FALSE</code>.
    Otherwise, setting <code>depthClampEnable</code> to <code>VK_TRUE</code> will enable
    depth clamping.
</p>
</li>
<li>
<p>
<a id="features-features-depthBiasClamp"></a> <code>depthBiasClamp</code> indicates
    whether depth bias clamping is supported.
    If this feature is not enabled, the <code>depthBiasClamp</code> member of the
    <code>VkPipelineRasterizationStateCreateInfo</code> structure <span role="normative">must</span> be set to
    0.0 unless the <code>VK_DYNAMIC_STATE_DEPTH_BIAS</code> dynamic state is
    enabled, and the <code>depthBiasClamp</code> parameter to
    <code>vkCmdSetDepthBias</code> <span role="normative">must</span> be set to 0.0.
</p>
</li>
<li>
<p>
<a id="features-features-fillModeNonSolid"></a> <code>fillModeNonSolid</code> indicates
    whether point and wireframe fill modes are supported.
    If this feature is not enabled, the <code>VK_POLYGON_MODE_POINT</code> and
    <code>VK_POLYGON_MODE_LINE</code> enum values <span role="normative">must</span> not be used.
</p>
</li>
<li>
<p>
<a id="features-features-depthBounds"></a> <code>depthBounds</code> indicates whether
    depth bounds tests are supported.
    If this feature is not enabled, the <code>depthBoundsTestEnable</code> member
    of the <code>VkPipelineDepthStencilStateCreateInfo</code> structure <span role="normative">must</span> be
    set to <code>VK_FALSE</code>.
    When <code>depthBoundsTestEnable</code> is set to <code>VK_FALSE</code>, the
    <code>minDepthBounds</code> and <code>maxDepthBounds</code> members of the
    <code>VkPipelineDepthStencilStateCreateInfo</code> structure are ignored.
</p>
</li>
<li>
<p>
<a id="features-features-wideLines"></a> <code>wideLines</code> indicates whether lines
    with width other than 1.0 are supported.
    If this feature is not enabled, the <code>lineWidth</code> member of the
    <code>VkPipelineRasterizationStateCreateInfo</code> structure <span role="normative">must</span> be set to
    1.0 unless the <code>VK_DYNAMIC_STATE_LINE_WIDTH</code> dynamic state is
    enabled, and the <code>lineWidth</code> parameter to <code>vkCmdSetLineWidth</code>
    <span role="normative">must</span> be set to 1.0.
    When this feature is supported, the range and granularity of supported
    line widths are indicated by the <code>lineWidthRange</code> and
    <code>lineWidthGranularity</code> members of the <code>VkPhysicalDeviceLimits</code>
    structure, respectively.
</p>
</li>
<li>
<p>
<a id="features-features-largePoints"></a> <code>largePoints</code> indicates whether
    points with size greater than 1.0 are supported.
    If this feature is not enabled, only a point size of 1.0 written by a
    shader is supported.
    The range and granularity of supported point sizes are indicated by the
    <code>pointSizeRange</code> and <code>pointSizeGranularity</code> members of the
    <code>VkPhysicalDeviceLimits</code> structure, respectively.
</p>
</li>
<li>
<p>
<a id="features-features-alphaToOne"></a> <code>alphaToOne</code> indicates whether the
    implementation is able to replace the alpha value of the color fragment
    output from the fragment shader with the maximum representable alpha
    value for fixed-point colors or 1.0 for floating-point colors.
    If this feature is not enabled, then the <code>alphaToOneEnable</code> member
    of the <code>VkPipelineMultisampleStateCreateInfo</code> structure <span role="normative">must</span> be set
    to <code>VK_FALSE</code>.
    Otherwise setting <code>alphaToOneEnable</code> to <code>VK_TRUE</code> will enable
    alpha-to-one behavior.
</p>
</li>
<li>
<p>
<a id="features-features-multiViewport"></a> <code>multiViewport</code> indicates
    whether more than one viewport is supported.
    If this feature is not enabled, the <code>viewportCount</code> and
    <code>scissorCount</code> members of the
    <code>VkPipelineViewportStateCreateInfo</code> structure <span role="normative">must</span> be set to 1.
    Similarly, the <code>viewportCount</code> parameter to the
    <code>vkCmdSetViewport</code> command and the <code>scissorCount</code> parameter to
    the <code>vkCmdSetScissor</code> command <span role="normative">must</span> be 1, and the
    <code>firstViewport</code> parameter to the <code>vkCmdSetViewport</code> command and
    the <code>firstScissor</code> parameter to the <code>vkCmdSetScissor</code> command
    <span role="normative">must</span> be 0.
</p>
</li>
<li>
<p>
<a id="features-features-samplerAnisotropy"></a> <code>samplerAnisotropy</code>
    indicates whether anisotropic filtering is supported.
    If this feature is not enabled, the <code>maxAnisotropy</code> member of the
    <code>VkSamplerCreateInfo</code> structure <span role="normative">must</span> be 1.0.
</p>
</li>
<li>
<p>
<a id="features-features-textureCompressionETC2"></a>
    <code>textureCompressionETC2</code> indicates whether the ETC2 and EAC
    compressed texture formats are supported.
    If this feature is not enabled, the following formats <span role="normative">must</span> not be used
    to create images:
</p>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<code>VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_EAC_R11_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_EAC_R11_SNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p><code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code> is used to check for the supported
properties of individual formats.</p></div>
</li>
<li>
<p>
<a id="features-features-textureCompressionASTC_LDR"></a>
    <code>textureCompressionASTC_LDR</code> indicates whether the ASTC LDR
    compressed texture formats are supported.
    If this feature is not enabled, the following formats <span role="normative">must</span> not be used
    to create images:
</p>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p><code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code> is used to check for the supported
properties of individual formats.</p></div>
</li>
<li>
<p>
<a id="features-features-textureCompressionBC"></a> <code>textureCompressionBC</code>
    indicates whether the BC compressed texture formats are supported.
    If this feature is not enabled, the following formats <span role="normative">must</span> not be used
    to create images:
</p>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<code>VK_FORMAT_BC1_RGB_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC1_RGB_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC2_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC2_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC3_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC3_SRGB_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC4_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC4_SNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC5_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC5_SNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC6H_UFLOAT_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC6H_SFLOAT_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC7_UNORM_BLOCK</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_BC7_SRGB_BLOCK</code>
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p><code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code> is used to check for the supported
properties of individual formats.</p></div>
</li>
<li>
<p>
<a id="features-features-occlusionQueryPrecise"></a> <code>occlusionQueryPrecise</code>
    indicates whether occlusion queries returning actual sample counts are
    supported.
    Occlusion queries are created in a <code>VkQueryPool</code> by specifying the
    <code>queryType</code> of <code>VK_QUERY_TYPE_OCCLUSION</code> in the
    <code>VkQueryPoolCreateInfo</code> structure which is passed to
    <code>vkCreateQueryPool</code>.
    If this feature is enabled, queries of this type <span role="normative">can</span> enable
    <code>VK_QUERY_CONTROL_PRECISE_BIT</code> in the <code>flags</code> parameter to
    <code>vkCmdBeginQuery</code>.
    If this feature is not supported, the implementation supports only
    boolean occlusion queries.
    When any samples are passed, boolean queries will return a non-zero
    result value, otherwise a result value of zero is returned.
    When this feature is enabled and <code>VK_QUERY_CONTROL_PRECISE_BIT</code> is
    set, occlusion queries will report the actual number of samples passed.
</p>
</li>
<li>
<p>
<a id="features-features-pipelineStatisticsQuery"></a>
    <code>pipelineStatisticsQuery</code> indicates whether the pipeline statistics
    queries are supported.
    If this feature is not enabled, queries of type
    <code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code> <span role="normative">cannot</span> be created, and none of
    the <code><a href="#VkQueryPipelineStatisticFlagBits">VkQueryPipelineStatisticFlagBits</a></code> bits <span role="normative">can</span> be set in the
    <code>pipelineStatistics</code> member of the <code>VkQueryPoolCreateInfo</code>
    structure.
</p>
</li>
<li>
<p>
<a id="features-features-vertexPipelineStoresAndAtomics"></a>
    <code>vertexPipelineStoresAndAtomics</code> indicates whether storage buffers
    and images support stores and atomic operations in the vertex,
    tessellation, and geometry shader stages.
    If this feature is not enabled, all storage image, storage texel
    buffers, and storage buffer variables used by these stages in shader
    modules <span role="normative">must</span> be decorated with the <code>NonWriteable</code> decoration (or the
    <code>readonly</code> memory qualifier in GLSL).
</p>
</li>
<li>
<p>
<a id="features-features-fragmentStoresAndAtomics"></a>
    <code>fragmentStoresAndAtomics</code> indicates whether storage buffers and
    images support stores and atomic operations in the fragment shader
    stage.
    If this feature is not enabled, all storage image, storage texel
    buffers, and storage buffer variables used by the fragment stage in
    shader modules <span role="normative">must</span> be decorated with the <code>NonWriteable</code> decoration
    (or the <code>readonly</code> memory qualifier in GLSL).
</p>
</li>
<li>
<p>
<a id="features-features-shaderTessellationAndGeometryPointSize"></a>
    <code>shaderTessellationAndGeometryPointSize</code> indicates whether the
    <code>PointSize</code> built-in decoration is available in the tessellation
    control, tessellation evaluation, and geometry shader stages.
    If this feature is not enabled, members decorated with the
    <code>PointSize</code> built-in decoration <span role="normative">must</span> not be read from or written to
    and all points written from a tessellation or geometry shader will have
    a size of 1.0.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>TessellationPointSize</code> capability for tessellation control and
    evaluation shaders, or if the shader modules <span role="normative">can</span> declare the
    <code>GeometryPointSize</code> capability for geometry shaders.
    An implementation supporting this feature <span role="normative">must</span> also support one or both
    of the <a href="#features-features-tessellationShader"><code>tessellationShader</code></a>
    or <a href="#features-features-geometryShader"><code>geometryShader</code></a> features.
</p>
</li>
<li>
<p>
<a id="features-features-shaderImageGatherExtended"></a>
    <code>shaderImageGatherExtended</code> indicates whether the extended set of
    image gather instructions are available in shader code.
    If this feature is not enabled, the <code>OpImage</code>*<code>Gather</code>
    instructions do not support the <code>Offset</code> and <code>ConstOffsets</code>
    operands.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>ImageGatherExtended</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderStorageImageExtendedFormats"></a>
    <code>shaderStorageImageExtendedFormats</code> indicates whether the extended
    storage image formats are available in shader code.
    If this feature is not enabled, the formats requiring the
    <code>StorageImageExtendedFormats</code> capability are not supported for
    storage images.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>StorageImageExtendedFormats</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderStorageImageMultisample"></a>
    <code>shaderStorageImageMultisample</code> indicates whether multisampled
    storage images are supported.
    If this feature is not enabled, images that are created with a
    <code>usage</code> that includes <code>VK_IMAGE_USAGE_STORAGE_BIT</code> <span role="normative">must</span> be
    created with <code>samples</code> equal to <code>VK_SAMPLE_COUNT_1_BIT</code>.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>StorageImageMultisample</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderStorageImageReadWithoutFormat"></a>
    <code>shaderStorageImageReadWithoutFormat</code> indicates whether storage
    images require a format qualifier to be specified when reading from
    storage images.
    If this feature is not enabled, the <code>OpImageRead</code> instruction <span role="normative">must</span>
    not have an <code>OpTypeImage</code> of <code>Unknown</code>.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>StorageImageReadWithoutFormat</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderStorageImageWriteWithoutFormat"></a>
    <code>shaderStorageImageWriteWithoutFormat</code> indicates whether storage
    images require a format qualifier to be specified when writing to
    storage images.
    If this feature is not enabled, the <code>OpImageWrite</code> instruction <span role="normative">must</span>
    not have an <code>OpTypeImage</code> of <code>Unknown</code>.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>StorageImageWriteWithoutFormat</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderUniformBufferArrayDynamicIndexing"></a>
    <code>shaderUniformBufferArrayDynamicIndexing</code> indicates whether arrays
    of uniform buffers <span role="normative">can</span> be indexed by <em>dynamically uniform</em> integer
    expressions in shader code.
    If this feature is not enabled, resources with a descriptor type of
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> <span role="normative">must</span> be indexed only by
    constant integral expressions when aggregated into arrays in shader
    code.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>UniformBufferArrayDynamicIndexing</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderSampledImageArrayDynamicIndexing"></a>
    <code>shaderSampledImageArrayDynamicIndexing</code> indicates whether arrays of
    samplers or sampled images <span role="normative">can</span> be indexed by dynamically uniform
    integer expressions in shader code.
    If this feature is not enabled, resources with a descriptor type of
    <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>,
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, or
    <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> <span role="normative">must</span> be indexed only by constant
    integral expressions when aggregated into arrays in shader code.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>SampledImageArrayDynamicIndexing</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderStorageBufferArrayDynamicIndexing"></a>
    <code>shaderStorageBufferArrayDynamicIndexing</code> indicates whether arrays
    of storage buffers <span role="normative">can</span> be indexed by dynamically uniform integer
    expressions in shader code.
    If this feature is not enabled, resources with a descriptor type of
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> <span role="normative">must</span> be indexed only by
    constant integral expressions when aggregated into arrays in shader
    code.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>StorageBufferArrayDynamicIndexing</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderStorageImageArrayDynamicIndexing"></a>
    <code>shaderStorageImageArrayDynamicIndexing</code> indicates whether arrays of
    storage images <span role="normative">can</span> be indexed by dynamically uniform integer
    expressions in shader code.
    If this feature is not enabled, resources with a descriptor type of
    <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> <span role="normative">must</span> be indexed only by constant
    integral expressions when aggregated into arrays in shader code.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>StorageImageArrayDynamicIndexing</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderClipDistance"></a> <code>shaderClipDistance</code>
    indicates whether clip distances are supported in shader code.
    If this feature is not enabled, any members decorated with the
    <code>ClipDistance</code> built-in decoration <span role="normative">must</span> not be read from or written
    to in shader modules.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>ClipDistance</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderCullDistance"></a> <code>shaderCullDistance</code>
    indicates whether cull distances are supported in shader code.
    If this feature is not enabled, any members decorated with the
    <code>CullDistance</code> built-in decoration <span role="normative">must</span> not be read from or written
    to in shader modules.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>CullDistance</code> capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderFloat64"></a> <code>shaderFloat64</code> indicates
    whether 64-bit floats (doubles) are supported in shader code.
    If this feature is not enabled, 64-bit floating-point types <span role="normative">must</span> not be
    used in shader code.
    This also indicates whether shader modules <span role="normative">can</span> declare the <code>Float64</code>
    capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderInt64"></a> <code>shaderInt64</code> indicates whether
    64-bit integers (signed and unsigned) are supported in shader code.
    If this feature is not enabled, 64-bit integer types <span role="normative">must</span> not be used
    in shader code.
    This also indicates whether shader modules <span role="normative">can</span> declare the <code>Int64</code>
    capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderInt16"></a> <code>shaderInt16</code> indicates whether
    16-bit integers (signed and unsigned) are supported in shader code.
    If this feature is not enabled, 16-bit integer types <span role="normative">must</span> not be used
    in shader code.
    This also indicates whether shader modules <span role="normative">can</span> declare the <code>Int16</code>
    capability.
</p>
</li>
<li>
<p>
<a id="features-features-shaderResourceResidency"></a>
    <code>shaderResourceResidency</code> indicates whether image operations that
    return resource residency information are supported in shader code.
    If this feature is not enabled, the <code>OpImageSparse</code>* instructions
    <span role="normative">must</span> not be used in shader code.
    This also indicates whether shader modules <span role="normative">can</span> declare the
    <code>SparseResidency</code> capability.
    The feature requires at least one of the <code>sparseResidency*</code> features
    to be supported.
</p>
</li>
<li>
<p>
<a id="features-features-shaderResourceMinLod"></a> <code>shaderResourceMinLod</code>
    indicates whether image operations that specify the minimum resource
    level-of-detail (LOD) are supported in shader code.
    If this feature is not enabled, the <code>MinLod</code> image operand <span role="normative">must</span> not
    be used in shader code.
    This also indicates whether shader modules <span role="normative">can</span> declare the <code>MinLod</code>
    capability.
</p>
</li>
<li>
<p>
<a id="features-features-sparseBinding"></a> <code>sparseBinding</code> indicates
    whether resource memory <span role="normative">can</span> be managed at opaque sparse block level
    instead of at the object level.
    If this feature is not enabled, resource memory <span role="normative">must</span> be bound only on a
    per-object basis using the <code>vkBindBufferMemory</code> and
    <code>vkBindImageMemory</code> commands.
    In this case, buffers and images <span role="normative">must</span> not be created with
    <code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> and
    <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> set in the <code>flags</code> member
    of the <code>VkBufferCreateInfo</code> and <code>VkImageCreateInfo</code> structures,
    respectively.
    Otherwise resource memory <span role="normative">can</span> be managed as described in
    <a href="#sparsememory-sparseresourcefeatures">Sparse Resource Features</a>.
</p>
</li>
<li>
<p>
<a id="features-features-sparseResidencyBuffer"></a> <code>sparseResidencyBuffer</code>
    indicates whether the device <span role="normative">can</span> access partially resident buffers.
    If this feature is not enabled, buffers <span role="normative">must</span> not be created with
    <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code>
    member of the <code>VkBufferCreateInfo</code> structure.
</p>
</li>
<li>
<p>
<a id="features-features-sparseResidencyImage2D"></a>
    <code>sparseResidencyImage2D</code> indicates whether the device <span role="normative">can</span> access
    partially resident 2D images with 1 sample per pixel.
    If this feature is not enabled, images with an <code>imageType</code> of
    <code>VK_IMAGE_TYPE_2D</code> and <code>samples</code> set to
    <code>VK_SAMPLE_COUNT_1_BIT</code> <span role="normative">must</span> not be created with
    <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code> member
    of the <code>VkImageCreateInfo</code> structure.
</p>
</li>
<li>
<p>
<a id="features-features-sparseResidencyImage3D"></a>
    <code>sparseResidencyImage3D</code> indicates whether the device <span role="normative">can</span> access
    partially resident 3D images.
    If this feature is not enabled, images with an <code>imageType</code> of
    <code>VK_IMAGE_TYPE_3D</code> <span role="normative">must</span> not be created with
    <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code> member
    of the <code>VkImageCreateInfo</code> structure.
</p>
</li>
<li>
<p>
<a id="features-features-sparseResidency2Samples"></a>
    <code>sparseResidency2Samples</code> indicates whether the physical device <span role="normative">can</span>
    access partially resident 2D images with 2 samples per pixel.
    If this feature is not enabled, images with an <code>imageType</code> of
    <code>VK_IMAGE_TYPE_2D</code> and <code>samples</code> set to
    <code>VK_SAMPLE_COUNT_2_BIT</code> <span role="normative">must</span> not be created with
    <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code> member
    of the <code>VkImageCreateInfo</code> structure.
</p>
</li>
<li>
<p>
<a id="features-features-sparseResidency4Samples"></a>
    <code>sparseResidency4Samples</code> indicates whether the physical device <span role="normative">can</span>
    access partially resident 2D images with 4 samples per pixel.
    If this feature is not enabled, images with an <code>imageType</code> of
    <code>VK_IMAGE_TYPE_2D</code> and <code>samples</code> set to
    <code>VK_SAMPLE_COUNT_4_BIT</code> <span role="normative">must</span> not be created with
    <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code> member
    of the <code>VkImageCreateInfo</code> structure.
</p>
</li>
<li>
<p>
<a id="features-features-sparseResidency8Samples"></a>
    <code>sparseResidency8Samples</code> indicates whether the physical device <span role="normative">can</span>
    access partially resident 2D images with 8 samples per pixel.
    If this feature is not enabled, images with an <code>imageType</code> of
    <code>VK_IMAGE_TYPE_2D</code> and <code>samples</code> set to
    <code>VK_SAMPLE_COUNT_8_BIT</code> <span role="normative">must</span> not be created with
    <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code> member
    of the <code>VkImageCreateInfo</code> structure.
</p>
</li>
<li>
<p>
<a id="features-features-sparseResidency16Samples"></a>
    <code>sparseResidency16Samples</code> indicates whether the physical device
    <span role="normative">can</span> access partially resident 2D images with 16 samples per pixel.
    If this feature is not enabled, images with an <code>imageType</code> of
    <code>VK_IMAGE_TYPE_2D</code> and <code>samples</code> set to
    <code>VK_SAMPLE_COUNT_16_BIT</code> <span role="normative">must</span> not be created with
    <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code> member
    of the <code>VkImageCreateInfo</code> structure.
</p>
</li>
<li>
<p>
<a id="features-features-sparseResidencyAliased"></a>
    <code>sparseResidencyAliased</code> indicates whether the physical device <span role="normative">can</span>
    correctly access data aliased into multiple locations.
    If this feature is not enabled, the
    <code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code> and
    <code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> enum values <span role="normative">must</span> not be used
    in <code>flags</code> members of the <code>VkBufferCreateInfo</code> and
    <code>VkImageCreateInfo</code> structures, respectively.
</p>
</li>
<li>
<p>
<a id="features-features-variableMultisampleRate"></a>
    <code>variableMultisampleRate</code> indicates whether all pipelines that will
    be bound to a command buffer during a subpass with no attachments <span role="normative">must</span>
    have the same value for
    <code>VkPipelineMultisampleStateCreateInfo</code>::<code>rasterizationSamples</code>.
    If set to <code>VK_TRUE</code>, the implementation supports variable
    multisample rates in a subpass with no attachments.
    If set to <code>VK_FALSE</code>, then all pipelines bound in such a subpass
    <span role="normative">must</span> have the same multisample rate.
    This has no effect in situations where a subpass uses any attachments.
</p>
</li>
<li>
<p>
<a id="features-features-inheritedQueries"></a> <code>inheritedQueries</code> indicates
    whether a secondary command buffer <span role="normative">may</span> be executed while a query is
    active.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist"><ul>
<li>
<p>
If any member of this structure is <code>VK_FALSE</code>, as returned by
    <code><a href="#vkGetPhysicalDeviceFeatures">vkGetPhysicalDeviceFeatures</a></code>, then it <span role="normative">must</span> be <code>VK_FALSE</code> when
    passed as part of the <code>VkDeviceCreateInfo</code> struct when creating a
    device
</p>
</li>
</ul></div>
</div></div>
<div class="sect3">
<h4 id="features-features-requirements">31.1.1. Feature Requirements</h4>
<div class="paragraph"><p>All Vulkan graphics implementations <span role="normative">must</span> support the following features:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>robustBufferAccess</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>All other features are not <span role="normative">required</span> by the Specification.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="features-limits">31.2. Limits</h3>
<div class="paragraph"><p>There are a variety of implementation-dependent limits.</p></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceLimits</code> are properties of the physical device.
These are available in the <code>limits</code> member of the
<code><a href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a></code> structure which is returned from
<code><a href="#vkGetPhysicalDeviceProperties">vkGetPhysicalDeviceProperties</a></code>.</p></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceLimits</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPhysicalDeviceLimits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPhysicalDeviceLimits</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">uint32_t</span>              maxImageDimension1D<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxImageDimension2D<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxImageDimension3D<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxImageDimensionCube<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxImageArrayLayers<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxTexelBufferElements<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxUniformBufferRange<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxStorageBufferRange<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxPushConstantsSize<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxMemoryAllocationCount<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxSamplerAllocationCount<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>          bufferImageGranularity<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>          sparseAddressSpaceSize<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxBoundDescriptorSets<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxPerStageDescriptorSamplers<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxPerStageDescriptorUniformBuffers<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxPerStageDescriptorStorageBuffers<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxPerStageDescriptorSampledImages<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxPerStageDescriptorStorageImages<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxPerStageDescriptorInputAttachments<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxPerStageResources<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxDescriptorSetSamplers<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxDescriptorSetUniformBuffers<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxDescriptorSetUniformBuffersDynamic<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxDescriptorSetStorageBuffers<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxDescriptorSetStorageBuffersDynamic<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxDescriptorSetSampledImages<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxDescriptorSetStorageImages<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxDescriptorSetInputAttachments<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxVertexInputAttributes<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxVertexInputBindings<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxVertexInputAttributeOffset<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxVertexInputBindingStride<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxVertexOutputComponents<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxTessellationGenerationLevel<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxTessellationPatchSize<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxTessellationControlPerVertexInputComponents<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxTessellationControlPerVertexOutputComponents<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxTessellationControlPerPatchOutputComponents<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxTessellationControlTotalOutputComponents<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxTessellationEvaluationInputComponents<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxTessellationEvaluationOutputComponents<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxGeometryShaderInvocations<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxGeometryInputComponents<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxGeometryOutputComponents<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxGeometryOutputVertices<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxGeometryTotalOutputComponents<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxFragmentInputComponents<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxFragmentOutputAttachments<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxFragmentDualSrcAttachments<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxFragmentCombinedOutputResources<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxComputeSharedMemorySize<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxComputeWorkGroupCount<span style="color: #990000">[</span><span style="color: #993399">3</span><span style="color: #990000">];</span>
    <span style="color: #008080">uint32_t</span>              maxComputeWorkGroupInvocations<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxComputeWorkGroupSize<span style="color: #990000">[</span><span style="color: #993399">3</span><span style="color: #990000">];</span>
    <span style="color: #008080">uint32_t</span>              subPixelPrecisionBits<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              subTexelPrecisionBits<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              mipmapPrecisionBits<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxDrawIndexedIndexValue<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxDrawIndirectCount<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                 maxSamplerLodBias<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                 maxSamplerAnisotropy<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxViewports<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxViewportDimensions<span style="color: #990000">[</span><span style="color: #993399">2</span><span style="color: #990000">];</span>
    <span style="color: #009900">float</span>                 viewportBoundsRange<span style="color: #990000">[</span><span style="color: #993399">2</span><span style="color: #990000">];</span>
    <span style="color: #008080">uint32_t</span>              viewportSubPixelBits<span style="color: #990000">;</span>
    <span style="color: #008080">size_t</span>                minMemoryMapAlignment<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>          minTexelBufferOffsetAlignment<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>          minUniformBufferOffsetAlignment<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>          minStorageBufferOffsetAlignment<span style="color: #990000">;</span>
    <span style="color: #008080">int32_t</span>               minTexelOffset<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxTexelOffset<span style="color: #990000">;</span>
    <span style="color: #008080">int32_t</span>               minTexelGatherOffset<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxTexelGatherOffset<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                 minInterpolationOffset<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                 maxInterpolationOffset<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              subPixelInterpolationOffsetBits<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxFramebufferWidth<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxFramebufferHeight<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxFramebufferLayers<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlags</span>    framebufferColorSampleCounts<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlags</span>    framebufferDepthSampleCounts<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlags</span>    framebufferStencilSampleCounts<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlags</span>    framebufferNoAttachmentsSampleCounts<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxColorAttachments<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlags</span>    sampledImageColorSampleCounts<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlags</span>    sampledImageIntegerSampleCounts<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlags</span>    sampledImageDepthSampleCounts<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlags</span>    sampledImageStencilSampleCounts<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlags</span>    storageImageSampleCounts<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxSampleMaskWords<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>              timestampComputeAndGraphics<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                 timestampPeriod<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxClipDistances<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxCullDistances<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxCombinedClipAndCullDistances<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              discreteQueuePriorities<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                 pointSizeRange<span style="color: #990000">[</span><span style="color: #993399">2</span><span style="color: #990000">];</span>
    <span style="color: #009900">float</span>                 lineWidthRange<span style="color: #990000">[</span><span style="color: #993399">2</span><span style="color: #990000">];</span>
    <span style="color: #009900">float</span>                 pointSizeGranularity<span style="color: #990000">;</span>
    <span style="color: #009900">float</span>                 lineWidthGranularity<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>              strictLines<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span>              standardSampleLocations<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>          optimalBufferCopyOffsetAlignment<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>          optimalBufferCopyRowPitchAlignment<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>          nonCoherentAtomSize<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPhysicalDeviceLimits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<a id="features-limits-maxImageDimension1D"></a> <code>maxImageDimension1D</code> is the
    maximum dimension (<code>width</code>) of an image created with an
    <code>imageType</code> of <code>VK_IMAGE_TYPE_1D</code>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxImageDimension2D"></a> <code>maxImageDimension2D</code> is the
    maximum dimension (<code>width</code> or <code>height</code>) of an image created with
    an <code>imageType</code> of <code>VK_IMAGE_TYPE_2D</code> and without
    <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> set in <code>flags</code>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxImageDimension3D"></a> <code>maxImageDimension3D</code> is the
    maximum dimension (<code>width</code>, <code>height</code>, or <code>depth</code>) of an
    image created with an <code>imageType</code> of <code>VK_IMAGE_TYPE_3D</code>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxImageDimensionCube"></a> <code>maxImageDimensionCube</code> is
    the maximum dimension (<code>width</code> or <code>height</code>) of an image created
    with an <code>imageType</code> of <code>VK_IMAGE_TYPE_2D</code> and with
    <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> set in <code>flags</code>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxImageArrayLayers"></a> <code>maxImageArrayLayers</code> is the
    maximum number of layers (<code>arrayLayers</code>) for an image.
</p>
</li>
<li>
<p>
<a id="features-limits-maxTexelBufferElements"></a> <code>maxTexelBufferElements</code>
    is the maximum number of addressable texels for a buffer view created on
    a buffer which was created with the
    <code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> or
    <code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code> set in the <code>usage</code>
    member of the <code>VkBufferCreateInfo</code> structure.
</p>
</li>
<li>
<p>
<a id="features-limits-maxUniformBufferRange"></a> <code>maxUniformBufferRange</code> is
    the maximum value that <span role="normative">can</span> be specified in the <code>range</code> member of
    any <code><a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a></code> structures passed to a call to
    <code><a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a></code> for descriptors of type
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxStorageBufferRange"></a> <code>maxStorageBufferRange</code> is
    the maximum value that <span role="normative">can</span> be specified in the <code>range</code> member of
    any <code><a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a></code> structures passed to a call to
    <code><a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a></code> for descriptors of type
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxPushConstantsSize"></a> <code>maxPushConstantsSize</code> is
    the maximum size, in bytes, of the pool of push constant memory.
    For each of the push constant ranges indicated by the
    <code>pPushConstantRanges</code> member of the <code>VkPipelineLayoutCreateInfo</code>
    structure, <code>offset</code> + <code>size</code> <span role="normative">must</span> be less than or equal to this
    limit.
</p>
</li>
<li>
<p>
<a id="features-limits-maxMemoryAllocationCount"></a>
    <code>maxMemoryAllocationCount</code> is the maximum number of device memory
    allocations, as created by <code><a href="#vkAllocateMemory">vkAllocateMemory</a></code>, which <span role="normative">can</span>
    simultaneously exist.
</p>
</li>
<li>
<p>
<a id="features-limits-maxSamplerAllocationCount"></a>
    <code>maxSamplerAllocationCount</code> is the maximum number of sampler
    objects, as created by <code><a href="#vkCreateSampler">vkCreateSampler</a></code>, which <span role="normative">can</span> simultaneously
    exist on a device.
</p>
</li>
<li>
<p>
<a id="features-limits-bufferImageGranularity"></a> <code>bufferImageGranularity</code>
    is the granularity, in bytes, at which buffer or linear image resources,
    and optimal image resources <span role="normative">can</span> be bound to adjacent offsets in the
    same <code>VkDeviceMemory</code> object without aliasing.
    See <a href="#resources-bufferimagegranularity">Buffer-Image Granularity</a> for
    more details.
</p>
</li>
<li>
<p>
<a id="features-limits-sparseAddressSpaceSize"></a> <code>sparseAddressSpaceSize</code>
    is the total amount of address space available, in bytes, for sparse
    memory resources.
    This is an upper bound on the sum of the size of all sparse resources,
    regardless of whether any memory is bound to them.
</p>
</li>
<li>
<p>
<a id="features-limits-maxBoundDescriptorSets"></a> <code>maxBoundDescriptorSets</code>
    is the maximum number of descriptor sets that <span role="normative">can</span> be simultaneously
    used by a pipeline.
    All <code>DescriptorSet</code> decorations in shader modules <span role="normative">must</span> have a value
    less than <code>maxBoundDescriptorSets</code>.
    See <a href="#descriptorsets-sets">[descriptorsets-sets]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxPerStageDescriptorSamplers"></a>
    <code>maxPerStageDescriptorSamplers</code> is the maximum number of samplers
    that <span role="normative">can</span> be accessible to a single shader stage in a pipeline layout.
    Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> count against this
    limit.
    A descriptor is accessible to a shader stage when the <code>stageFlags</code>
    member of the <code>VkDescriptorSetLayoutBinding</code> structure has the bit
    for that shader stage set.
    See <a href="#descriptorsets-sampler">[descriptorsets-sampler]</a> and
    <a href="#descriptorsets-combinedimagesampler">[descriptorsets-combinedimagesampler]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxPerStageDescriptorUniformBuffers"></a>
    <code>maxPerStageDescriptorUniformBuffers</code> is the maximum number of
    uniform buffers that <span role="normative">can</span> be accessible to a single shader stage in a
    pipeline layout.
    Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> count against this
    limit.
    A descriptor is accessible to a shader stage when the <code>stageFlags</code>
    member of the <code>VkDescriptorSetLayoutBinding</code> structure has the bit
    for that shader stage set.
    See <a href="#descriptorsets-uniformbuffer">[descriptorsets-uniformbuffer]</a> and
    <a href="#descriptorsets-uniformbufferdynamic">[descriptorsets-uniformbufferdynamic]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxPerStageDescriptorStorageBuffers"></a>
    <code>maxPerStageDescriptorStorageBuffers</code> is the maximum number of
    storage buffers that <span role="normative">can</span> be accessible to a single shader stage in a
    pipeline layout.
    Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> count against this
    limit.
    A descriptor is accessible to a pipeline shader stage when the
    <code>stageFlags</code> member of the <code>VkDescriptorSetLayoutBinding</code>
    structure has the bit for that shader stage set.
    See <a href="#descriptorsets-storagebuffer">[descriptorsets-storagebuffer]</a> and
    <a href="#descriptorsets-storagebufferdynamic">[descriptorsets-storagebufferdynamic]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxPerStageDescriptorSampledImages"></a>
    <code>maxPerStageDescriptorSampledImages</code> is the maximum number of
    sampled images that <span role="normative">can</span> be accessible to a single shader stage in a
    pipeline layout.
    Descriptors with a type of
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
    <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, or
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> count against this limit.
    A descriptor is accessible to a pipeline shader stage when the
    <code>stageFlags</code> member of the <code>VkDescriptorSetLayoutBinding</code>
    structure has the bit for that shader stage set.
    See <a href="#descriptorsets-combinedimagesampler">[descriptorsets-combinedimagesampler]</a>,
    <a href="#descriptorsets-sampledimage">[descriptorsets-sampledimage]</a>, and
    <a href="#descriptorsets-uniformtexelbuffer">[descriptorsets-uniformtexelbuffer]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxPerStageDescriptorStorageImages"></a>
    <code>maxPerStageDescriptorStorageImages</code> is the maximum number of
    storage images that <span role="normative">can</span> be accessible to a single shader stage in a
    pipeline layout.
    Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
    <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> count against this limit.
    A descriptor is accessible to a pipeline shader stage when the
    <code>stageFlags</code> member of the <code>VkDescriptorSetLayoutBinding</code>
    structure has the bit for that shader stage set.
    See <a href="#descriptorsets-storageimage">[descriptorsets-storageimage]</a>, and
    <a href="#descriptorsets-storagetexelbuffer">[descriptorsets-storagetexelbuffer]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxPerStageDescriptorInputAttachments"></a>
    <code>maxPerStageDescriptorInputAttachments</code> is the maximum number of
    input attachments that <span role="normative">can</span> be accessible to a single shader stage in a
    pipeline layout.
    Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>
    count against this limit.
    A descriptor is accessible to a pipeline shader stage when the
    <code>stageFlags</code> member of the <code>VkDescriptorSetLayoutBinding</code>
    structure has the bit for that shader stage set.
    These are only supported for the fragment stage.
    See <a href="#descriptorsets-inputattachment">[descriptorsets-inputattachment]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxPerStageResources"></a> <code>maxPerStageResources</code> is
    the maximum number of resources that <span role="normative">can</span> be accessible to a single
    shader stage in a pipeline layout.
    Descriptors with a type of
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
    <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
    <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>,
    <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>,
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>,
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, or
    <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> count against this limit.
    For the fragment shader stage the framebuffer color attachments also
    count against this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-maxDescriptorSetSamplers"></a>
    <code>maxDescriptorSetSamplers</code> is the maximum number of samplers that
    <span role="normative">can</span> be included in descriptor bindings in a pipeline layout across all
    pipeline shader stages and descriptor set numbers.
    Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> count against this
    limit.
    See <a href="#descriptorsets-sampler">[descriptorsets-sampler]</a> and
    <a href="#descriptorsets-combinedimagesampler">[descriptorsets-combinedimagesampler]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxDescriptorSetUniformBuffers"></a>
    <code>maxDescriptorSetUniformBuffers</code> is the maximum number of uniform
    buffers that <span role="normative">can</span> be included in descriptor bindings in a pipeline
    layout across all pipeline shader stages and descriptor set numbers.
    Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> count against this
    limit.
    See <a href="#descriptorsets-uniformbuffer">[descriptorsets-uniformbuffer]</a> and
    <a href="#descriptorsets-uniformbufferdynamic">[descriptorsets-uniformbufferdynamic]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxDescriptorSetUniformBuffersDynamic"></a>
    <code>maxDescriptorSetUniformBuffersDynamic</code> is the maximum number of
    dynamic uniform buffers that <span role="normative">can</span> be included in descriptor bindings in
    a pipeline layout across all pipeline shader stages and descriptor set
    numbers.
    Descriptors with a type of
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> count against this
    limit.
    See <a href="#descriptorsets-uniformbufferdynamic">[descriptorsets-uniformbufferdynamic]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxDescriptorSetStorageBuffers"></a>
    <code>maxDescriptorSetStorageBuffers</code> is the maximum number of storage
    buffers that <span role="normative">can</span> be included in descriptor bindings in a pipeline
    layout across all pipeline shader stages and descriptor set numbers.
    Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> count against this
    limit.
    See <a href="#descriptorsets-storagebuffer">[descriptorsets-storagebuffer]</a> and
    <a href="#descriptorsets-storagebufferdynamic">[descriptorsets-storagebufferdynamic]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxDescriptorSetStorageBuffersDynamic"></a>
    <code>maxDescriptorSetStorageBuffersDynamic</code> is the maximum number of
    dynamic storage buffers that <span role="normative">can</span> be included in descriptor bindings in
    a pipeline layout across all pipeline shader stages and descriptor set
    numbers.
    Descriptors with a type of
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> count against this
    limit.
    See <a href="#descriptorsets-storagebufferdynamic">[descriptorsets-storagebufferdynamic]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxDescriptorSetSampledImages"></a>
    <code>maxDescriptorSetSampledImages</code> is the maximum number of sampled
    images that <span role="normative">can</span> be included in descriptor bindings in a pipeline layout
    across all pipeline shader stages and descriptor set numbers.
    Descriptors with a type of
    <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
    <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, or
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> count against this limit.
    See <a href="#descriptorsets-combinedimagesampler">[descriptorsets-combinedimagesampler]</a>,
    <a href="#descriptorsets-sampledimage">[descriptorsets-sampledimage]</a>, and
    <a href="#descriptorsets-uniformtexelbuffer">[descriptorsets-uniformtexelbuffer]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxDescriptorSetStorageImages"></a>
    <code>maxDescriptorSetStorageImages</code> is the maximum number of storage
    images that <span role="normative">can</span> be included in descriptor bindings in a pipeline layout
    across all pipeline shader stages and descriptor set numbers.
    Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
    <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> count against this limit.
    See <a href="#descriptorsets-storageimage">[descriptorsets-storageimage]</a>, and
    <a href="#descriptorsets-storagetexelbuffer">[descriptorsets-storagetexelbuffer]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxDescriptorSetInputAttachments"></a>
    <code>maxDescriptorSetInputAttachments</code> is the maximum number of input
    attachments that <span role="normative">can</span> be included in descriptor bindings in a pipeline
    layout across all pipeline shader stages and descriptor set numbers.
    Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>
    count against this limit.
    See <a href="#descriptorsets-inputattachment">[descriptorsets-inputattachment]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxVertexInputAttributes"></a>
    <code>maxVertexInputAttributes</code> is the maximum number of vertex input
    attributes that <span role="normative">can</span> be specified for a graphics pipeline.
    These are described in the array of
    <code>VkVertexInputAttributeDescription</code> structures that are provided at
    graphics pipeline creation time via the
    <code>pVertexAttributeDescriptions</code> member of the
    <code>VkPipelineVertexInputStateCreateInfo</code> structure.
    See <a href="#fxvertex-attrib">[fxvertex-attrib]</a> and <a href="#fxvertex-input">[fxvertex-input]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxVertexInputBindings"></a> <code>maxVertexInputBindings</code>
    is the maximum number of vertex buffers that <span role="normative">can</span> be specified for
    providing vertex attributes to a graphics pipeline.
    These are described in the array of
    <code>VkVertexInputBindingDescription</code> structures that are provided at
    graphics pipeline creation time via the <code>pVertexBindingDescriptions</code>
    member of the <code>VkPipelineVertexInputStateCreateInfo</code> structure.
    The <code>binding</code> member of <code>VkVertexInputBindingDescription</code> <span role="normative">must</span>
    be less than this limit.
    See <a href="#fxvertex-input">[fxvertex-input]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxVertexInputAttributeOffset"></a>
    <code>maxVertexInputAttributeOffset</code> is the maximum vertex input
    attribute offset that <span role="normative">can</span> be added to the vertex input binding stride.
    The <code>offset</code> member of the <code>VkVertexInputAttributeDescription</code>
    structure <span role="normative">must</span> be less than or equal to this limit.
    See <a href="#fxvertex-input">[fxvertex-input]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxVertexInputBindingStride"></a>
    <code>maxVertexInputBindingStride</code> is the maximum vertex input binding
    stride that <span role="normative">can</span> be specified in a vertex input binding.
    The <code>stride</code> member of the <code>VkVertexInputBindingDescription</code>
    structure <span role="normative">must</span> be less than or equal to this limit.
    See <a href="#fxvertex-input">[fxvertex-input]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxVertexOutputComponents"></a>
    <code>maxVertexOutputComponents</code> is the maximum number of components of
    output variables which <span role="normative">can</span> be output by a vertex shader.
    See <a href="#shaders-vertex">[shaders-vertex]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxTessellationGenerationLevel"></a>
    <code>maxTessellationGenerationLevel</code> is the maximum tessellation
    generation level supported by the fixed-function tessellation primitive
    generator.
    See <a href="#tessellation">[tessellation]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxTessellationPatchSize"></a>
    <code>maxTessellationPatchSize</code> is the maximum patch size, in vertices,
    of patches that <span role="normative">can</span> be processed by the tessellation control shader and
    tessellation primitive generator.
    The <code>patchControlPoints</code> member of the
    <code>VkPipelineTessellationStateCreateInfo</code> structure specified at
    pipeline creation time and the value provided in the <code>OutputVertices</code>
    execution mode of shader modules <span role="normative">must</span> be less than or equal to this
    limit.
    See <a href="#tessellation">[tessellation]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxTessellationControlPerVertexInputComponents"></a>
    <code>maxTessellationControlPerVertexInputComponents</code> is the maximum
    number of components of input variables which <span role="normative">can</span> be provided as
    per-vertex inputs to the tessellation control shader stage.
</p>
</li>
<li>
<p>
<a id="features-limits-maxTessellationControlPerVertexOutputComponents"></a>
    <code>maxTessellationControlPerVertexOutputComponents</code> is the maximum
    number of components of per-vertex output variables which <span role="normative">can</span> be output
    from the tessellation control shader stage.
</p>
</li>
<li>
<p>
<a id="features-limits-maxTessellationControlPerPatchOutputComponents"></a>
    <code>maxTessellationControlPerPatchOutputComponents</code> is the maximum
    number of components of per-patch output variables which <span role="normative">can</span> be output
    from the tessellation control shader stage.
</p>
</li>
<li>
<p>
<a id="features-limits-maxTessellationControlTotalOutputComponents"></a>
    <code>maxTessellationControlTotalOutputComponents</code> is the maximum total
    number of components of per-vertex and per-patch output variables which
    <span role="normative">can</span> be output from the tessellation control shader stage.
</p>
</li>
<li>
<p>
<a id="features-limits-maxTessellationEvaluationInputComponents"></a>
    <code>maxTessellationEvaluationInputComponents</code> is the maximum number of
    components of input variables which <span role="normative">can</span> be provided as per-vertex
    inputs to the tessellation evaluation shader stage.
</p>
</li>
<li>
<p>
<a id="features-limits-maxTessellationEvaluationOutputComponents"></a>
    <code>maxTessellationEvaluationOutputComponents</code> is the maximum number of
    components of per-vertex output variables which <span role="normative">can</span> be output from the
    tessellation evaluation shader stage.
</p>
</li>
<li>
<p>
<a id="features-limits-maxGeometryShaderInvocations"></a>
    <code>maxGeometryShaderInvocations</code> is the maximum invocation count
    supported for instanced geometry shaders.
    The value provided in the <code>Invocations</code> execution mode of shader
    modules <span role="normative">must</span> be less than or equal to this limit.
    See <a href="#geometry">[geometry]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxGeometryInputComponents"></a>
    <code>maxGeometryInputComponents</code> is the maximum number of components of
    input variables which <span role="normative">can</span> be provided as inputs to the geometry shader
    stage.
</p>
</li>
<li>
<p>
<a id="features-limits-maxGeometryOutputComponents"></a>
    <code>maxGeometryOutputComponents</code> is the maximum number of components of
    output variables which <span role="normative">can</span> be output from the geometry shader stage.
</p>
</li>
<li>
<p>
<a id="features-limits-maxGeometryOutputVertices"></a>
    <code>maxGeometryOutputVertices</code> is the maximum number of vertices which
    <span role="normative">can</span> be emitted by any geometry shader.
</p>
</li>
<li>
<p>
<a id="features-limits-maxGeometryTotalOutputComponents"></a>
    <code>maxGeometryTotalOutputComponents</code> is the maximum total number of
    components of output, across all emitted vertices, which <span role="normative">can</span> be output
    from the geometry shader stage.
</p>
</li>
<li>
<p>
<a id="features-limits-maxFragmentInputComponents"></a>
    <code>maxFragmentInputComponents</code> is the maximum number of components of
    input variables which <span role="normative">can</span> be provided as inputs to the fragment shader
    stage.
</p>
</li>
<li>
<p>
<a id="features-limits-maxFragmentOutputAttachments"></a>
    <code>maxFragmentOutputAttachments</code> is the maximum number of output
    attachments which <span role="normative">can</span> be written to by the fragment shader stage.
</p>
</li>
<li>
<p>
<a id="features-limits-maxFragmentDualSrcAttachments"></a>
    <code>maxFragmentDualSrcAttachments</code> is the maximum number of output
    attachments which <span role="normative">can</span> be written to by the fragment shader stage when
    blending is enabled and one of the dual source blend modes is in use.
    See <a href="#framebuffer-dsb">[framebuffer-dsb]</a> and
    <a href="#features-features-dualSrcBlend">dualSrcBlend</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxFragmentCombinedOutputResources"></a>
    <code>maxFragmentCombinedOutputResources</code> is the total number of storage
    buffers, storage images, and output buffers which <span role="normative">can</span> be used in the
    fragment shader stage.
</p>
</li>
<li>
<p>
<a id="features-limits-maxComputeSharedMemorySize"></a>
    <code>maxComputeSharedMemorySize</code> is the maximum total storage size, in
    bytes, of all variables declared with the <code>WorkgroupLocal</code> storage
    class in shader modules (or with the <code>shared</code> storage qualifier in
    GLSL) in the compute shader stage.
</p>
</li>
<li>
<p>
<a id="features-limits-maxComputeWorkGroupCount"></a>
    <code>maxComputeWorkGroupCount</code>[3] is the maximum number of local
    workgroups that <span role="normative">can</span> be dispatched by a single dispatch command.
    These three values represent the maximum number of local workgroups for
    the X, Y, and Z dimensions, respectively.
    The <code>x</code>, <code>y</code>, and <code>z</code> parameters to the <code><a href="#vkCmdDispatch">vkCmdDispatch</a></code>
    command, or members of the <code><a href="#VkDispatchIndirectCommand">VkDispatchIndirectCommand</a></code> structure
    <span role="normative">must</span> be less than or equal to the corresponding limit.
    See <a href="#dispatch">[dispatch]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxComputeWorkGroupInvocations"></a>
    <code>maxComputeWorkGroupInvocations</code> is the maximum total number of
    compute shader invocations in a single local workgroup.
    The product of the X, Y, and Z sizes as specified by the <code>LocalSize</code>
    execution mode in shader modules and by the object decorated by the
    <code>WorkgroupSize</code> decoration <span role="normative">must</span> be less than or equal to this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-maxComputeWorkGroupSize"></a>
    <code>maxComputeWorkGroupSize</code>[3] is the maximum size of a local compute
    workgroup, per dimension.
    These three values represent the maximum local workgroup size in the X,
    Y, and Z dimensions, respectively.
    The <code>x</code>, <code>y</code>, and <code>z</code> sizes specified by the <code>LocalSize</code>
    execution mode and by the object decorated by the <code>WorkgroupSize</code>
    decoration in shader modules <span role="normative">must</span> be less than or equal to the
    corresponding limit.
</p>
</li>
<li>
<p>
<a id="features-limits-subPixelPrecisionBits"></a> <code>subPixelPrecisionBits</code> is
    the number of bits of subpixel precision in framebuffer coordinates
    <span class="eq">x<sub>f</sub></span> and <span class="eq">y<sub>f</sub></span>.
    See <a href="#primsrast">[primsrast]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-subTexelPrecisionBits"></a> <code>subTexelPrecisionBits</code> is
    the number of bits of precision in the division along an axis of an
    image used for minification and magnification filters.
    <span class="eq">2<sup><code>subTexelPrecisionBits</code></sup></span> is the actual number of divisions
    along each axis of the image represented.
    The filtering hardware will snap to these locations when computing the
    filtered results.
</p>
</li>
<li>
<p>
<a id="features-limits-mipmapPrecisionBits"></a> <code>mipmapPrecisionBits</code> is the
    number of bits of division that the LOD calculation for mipmap fetching
    get snapped to when determining the contribution from each mip level to
    the mip filtered results.
    <span class="eq">2<sup><code>mipmapPrecisionBits</code></sup></span> is the actual number of divisions.
</p>
<div class="openblock">
<div class="content">
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>For example, if this value is 2 bits then when linearly filtering between
two levels, each level could: contribute: 0%, 33%, 66%, or 100% (this is
just an example and the amount of contribution <span role="normative">should</span> be covered by
different equations in the spec).</p></div>
</td>
</tr></table>
</div>
</div></div>
</li>
<li>
<p>
<a id="features-limits-maxDrawIndexedIndexValue"></a>
    <code>maxDrawIndexedIndexValue</code> is the maximum index value that <span role="normative">can</span> be
    used for indexed draw calls when using 32-bit indices.
    This excludes the primitive restart index value of 0xFFFFFFFF.
    See <a href="#features-features-fullDrawIndexUint32">fullDrawIndexUint32</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxDrawIndirectCount"></a> <code>maxDrawIndirectCount</code> is
    the maximum draw count that is supported for indirect draw calls.
    See <a href="#features-features-multiDrawIndirect">multiDrawIndirect</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxSamplerLodBias"></a> <code>maxSamplerLodBias</code> is the
    maximum absolute sampler level of detail bias.
    The sum of the <code>mipLodBias</code> member of the <code>VkSamplerCreateInfo</code>
    structure and the <code>Bias</code> operand of image sampling operations in
    shader modules (or 0 if no <code>Bias</code> operand is provided to an image
    sampling operation) are clamped to the range
    <span class="eq">[-<code>maxSamplerLodBias</code>,+<code>maxSamplerLodBias</code>]</span>.
    See <a href="#samplers-mipLodBias">[samplers-mipLodBias]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxSamplerAnisotropy"></a> <code>maxSamplerAnisotropy</code> is
    the maximum degree of sampler anisotropy.
    The maximum degree of anisotropic filtering used for an image sampling
    operation is the minimum of the <code>maxAnisotropy</code> member of the
    <code>VkSamplerCreateInfo</code> structure and this limit.
    See <a href="#samplers-maxAnisotropy">[samplers-maxAnisotropy]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxViewports"></a> <code>maxViewports</code> is the maximum
    number of active viewports.
    The <code>viewportCount</code> member of the
    <code>VkPipelineViewportStateCreateInfo</code> structure that is provided at
    pipeline creation <span role="normative">must</span> be less than or equal to this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-maxViewportDimensions"></a> <code>maxViewportDimensions</code>[2]
    are the maximum viewport dimensions in the X (width) and Y (height)
    dimensions, respectively.
    The maximum viewport dimensions <span role="normative">must</span> be greater than or equal to the
    largest image which <span role="normative">can</span> be created and used as a framebuffer
    attachment.
    See <a href="#vertexpostproc-viewport">Controlling the Viewport</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-viewportboundsrange"></a> <code>viewportBoundsRange</code>[2] is
    the <span class="eq">[minimum, maximum]</span> range that the corners of a viewport <span role="normative">must</span>
    be contained in.
    This range <span role="normative">must</span> be at least
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p><span class="eq">[-2 &#x00d7; <code>size</code>, 2 &#x00d7; <code>size</code> - 1]</span>, where
<span class="eq"><code>size</code> = max(<code>maxViewportDimensions</code>[0],
maxViewportDimensions[1])</span> See <a href="#vertexpostproc-viewport">Controlling the Viewport</a>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The intent of the <code>viewportBoundsRange</code> limit is to allow a maximum
sized viewport to be arbitrarily shifted relative to the output target as
long as at least some portion intersects.
This would give a bounds limit of <span class="eq">[-<code>size</code> + 1, 2 &#x00d7;
<code>size</code> - 1]</span> which would allow all possible non-empty-set intersections
of the output target and the viewport.
Since these numbers are typically powers of two, picking the signed number
range using the smallest possible number of bits ends up with the specified
range.</p></div>
</td>
</tr></table>
</div>
</div></div>
</li>
<li>
<p>
<a id="features-limits-viewportSubPixelBits"></a> <code>viewportSubPixelBits</code> is
    the number of bits of subpixel precision for viewport bounds.
    The subpixel precision that floating-point viewport bounds are
    interpreted at is given by this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-minMemoryMapAlignment"></a> <code>minMemoryMapAlignment</code> is
    the minimum <span role="normative">required</span> alignment, in bytes, of host visible memory
    allocations within the host address space.
    When mapping a memory allocation with <code><a href="#vkMapMemory">vkMapMemory</a></code>, subtracting
    <code>offset</code> bytes from the returned pointer will always produce an
    integer multiple of this limit.
    See <a href="#memory-device-hostaccess">[memory-device-hostaccess]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-minTexelBufferOffsetAlignment"></a>
    <code>minTexelBufferOffsetAlignment</code> is the minimum <span role="normative">required</span> alignment,
    in bytes, for the <code>offset</code> member of the
    <code>VkBufferViewCreateInfo</code> structure for texel buffers.
    When a buffer view is created for a buffer which was created with
    <code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> or
    <code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code> set in the <code>usage</code>
    member of the <code>VkBufferCreateInfo</code> structure, the <code>offset</code> <span role="normative">must</span>
    be an integer multiple of this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-minUniformBufferOffsetAlignment"></a>
    <code>minUniformBufferOffsetAlignment</code> is the minimum <span role="normative">required</span>
    alignment, in bytes, for the <code>offset</code> member of the
    <code>VkDescriptorBufferInfo</code> structure for uniform buffers.
    When a descriptor of type <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> is updated, the
    <code>offset</code> <span role="normative">must</span> be an integer multiple of this limit.
    Similarly, dynamic offsets for uniform buffers <span role="normative">must</span> be multiples of
    this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-minStorageBufferOffsetAlignment"></a>
    <code>minStorageBufferOffsetAlignment</code> is the minimum <span role="normative">required</span>
    alignment, in bytes, for the <code>offset</code> member of the
    <code>VkDescriptorBufferInfo</code> structure for storage buffers.
    When a descriptor of type <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> is updated, the
    <code>offset</code> <span role="normative">must</span> be an integer multiple of this limit.
    Similarly, dynamic offsets for storage buffers <span role="normative">must</span> be multiples of
    this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-minTexelOffset"></a> <code>minTexelOffset</code> is the minimum
    offset value for the <code>ConstOffset</code> image operand of any of the
    <code>OpImageSample</code>* or <code>OpImageFetch</code>* image instructions.
</p>
</li>
<li>
<p>
<a id="features-limits-maxTexelOffset"></a> <code>maxTexelOffset</code> is the maximum
    offset value for the <code>ConstOffset</code> image operand of any of the
    <code>OpImageSample</code>* or <code>OpImageFetch</code>* image instructions.
</p>
</li>
<li>
<p>
<a id="features-limits-minTexelGatherOffset"></a> <code>minTexelGatherOffset</code> is
    the minimum offset value for the <code>Offset</code> or <code>ConstOffsets</code> image
    operands of any of the <code>OpImage</code>*<code>Gather</code> image instructions.
</p>
</li>
<li>
<p>
<a id="features-limits-maxTexelGatherOffset"></a> <code>maxTexelGatherOffset</code> is
    the maximum offset value for the <code>Offset</code> or <code>ConstOffsets</code> image
    operands of any of the <code>OpImage</code>*<code>Gather</code> image instructions.
</p>
</li>
<li>
<p>
<a id="features-limits-minInterpolationOffset"></a> <code>minInterpolationOffset</code>
    is the minimum negative offset value for the <code>offset</code> operand of the
    <code>InterpolateAtOffset</code> extended instruction.
</p>
</li>
<li>
<p>
<a id="features-limits-maxInterpolationOffset"></a> <code>maxInterpolationOffset</code>
    is the maximum positive offset value for the <code>offset</code> operand of the
    <code>InterpolateAtOffset</code> extended instruction.
</p>
</li>
<li>
<p>
<a id="features-limits-subPixelInterpolationOffsetBits"></a>
    <code>subPixelInterpolationOffsetBits</code> is the number of subpixel
    fractional bits that the <code>x</code> and <code>y</code> offsets to the
    <code>InterpolateAtOffset</code> extended instruction <span role="normative">may</span> be rounded to as
    fixed-point values.
</p>
</li>
<li>
<p>
<a id="features-limits-maxFramebufferWidth"></a> <code>maxFramebufferWidth</code> is the
    maximum width for a framebuffer.
    The <code>width</code> member of the <code>VkFramebufferCreateInfo</code> structure
    <span role="normative">must</span> be less than or equal to this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-maxFramebufferHeight"></a> <code>maxFramebufferHeight</code> is
    the maximum height for a framebuffer.
    The <code>height</code> member of the <code>VkFramebufferCreateInfo</code> structure
    <span role="normative">must</span> be less than or equal to this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-maxFramebufferLayers"></a> <code>maxFramebufferLayers</code> is
    the maximum layer count for a layered framebuffer.
    The <code>layers</code> member of the <code>VkFramebufferCreateInfo</code> structure
    <span role="normative">must</span> be less than or equal to this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-framebufferColorSampleCounts"></a>
    <code>framebufferColorSampleCounts</code> is a bitmask<sup>1</sup> of
    <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the color sample counts that
    are supported for all framebuffer color attachments.
</p>
</li>
<li>
<p>
<a id="features-limits-framebufferDepthSampleCounts"></a>
    <code>framebufferDepthSampleCounts</code> is a bitmask<sup>1</sup> of
    <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the supported depth sample
    counts for all framebuffer depth/stencil attachments, when the format
    includes a depth component.
</p>
</li>
<li>
<p>
<code>framebufferStencilSampleCounts</code> is a bitmask<sup>1</sup> of
    <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the supported stencil sample
    counts for all framebuffer depth/stencil attachments, when the format
    includes a stencil component.
</p>
</li>
<li>
<p>
<code>framebufferNoAttachmentsSampleCounts</code> is a bitmask<sup>1</sup> of
    <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the supported sample counts
    for a framebuffer with no attachments.
</p>
</li>
<li>
<p>
<a id="features-limits-maxColorAttachments"></a> <code>maxColorAttachments</code> is the
    maximum number of color attachments that <span role="normative">can</span> be used by a subpass in a
    render pass.
    The <code>colorAttachmentCount</code> member of the <code>VkSubpassDescription</code>
    structure <span role="normative">must</span> be less than or equal to this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-sampledImageColorSampleCounts"></a>
    <code>sampledImageColorSampleCounts</code> is a bitmask<sup>1</sup> of
    <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the sample counts supported
    for all 2D images created with <code>VK_IMAGE_TILING_OPTIMAL</code>,
    <code>usage</code> containing <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and a
    non-integer color format.
</p>
</li>
<li>
<p>
<a id="features-limits-sampledImageIntegerSampleCounts"></a>
    <code>sampledImageIntegerSampleCounts</code> is a bitmask<sup>1</sup> of
    <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the sample counts supported
    for all 2D images created with <code>VK_IMAGE_TILING_OPTIMAL</code>,
    <code>usage</code> containing <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and an integer
    color format.
</p>
</li>
<li>
<p>
<a id="features-limits-sampledImageDepthSampleCounts"></a>
    <code>sampledImageDepthSampleCounts</code> is a bitmask<sup>1</sup> of
    <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the sample counts supported
    for all 2D images created with <code>VK_IMAGE_TILING_OPTIMAL</code>,
    <code>usage</code> containing <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and a depth
    format.
</p>
</li>
<li>
<p>
<a id="features-limits-sampledImageStencilSampleCounts"></a>
    <code>sampledImageStencilSampleCounts</code> is a bitmask<sup>1</sup> of
    <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the sample supported for all
    2D images created with <code>VK_IMAGE_TILING_OPTIMAL</code>, <code>usage</code>
    containing <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and a stencil format.
</p>
</li>
<li>
<p>
<a id="features-limits-storageImageSampleCounts"></a>
    <code>storageImageSampleCounts</code> is a bitmask<sup>1</sup> of
    <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the sample counts supported
    for all 2D images created with <code>VK_IMAGE_TILING_OPTIMAL</code>, and
    <code>usage</code> containing <code>VK_IMAGE_USAGE_STORAGE_BIT</code>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxSampleMaskWords"></a> <code>maxSampleMaskWords</code> is the
    maximum number of array elements of a variable decorated with the
    <code>SampleMask</code> built-in decoration.
</p>
</li>
<li>
<p>
<a id="features-limits-timestampComputeAndGraphics"></a>
    <code>timestampComputeAndGraphics</code> indicates support for timestamps on
    all graphics and compute queues.
    If this limit is set to <code>VK_TRUE</code>, all queues that advertise the
    <code>VK_QUEUE_GRAPHICS_BIT</code> or <code>VK_QUEUE_COMPUTE_BIT</code> in the
    <code>VkQueueFamilyProperties</code>::<code>queueFlags</code> support
    <code>VkQueueFamilyProperties</code>::<code>timestampValidBits</code> of at least 36.
    See <a href="#queries-timestamps">Timestamp Queries</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-timestampPeriod"></a> <code>timestampPeriod</code> is the number
    of nanoseconds <span role="normative">required</span> for a timestamp query to be incremented by 1.
    See <a href="#queries-timestamps">Timestamp Queries</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-maxClipDistances"></a> <code>maxClipDistances</code> is the
    maximum number of clip distances that <span role="normative">can</span> be used in a single shader
    stage.
    The size of any array declared with the <code>ClipDistance</code> built-in
    decoration in a shader module <span role="normative">must</span> be less than or equal to this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-maxCullDistances"></a> <code>maxCullDistances</code> is the
    maximum number of cull distances that <span role="normative">can</span> be used in a single shader
    stage.
    The size of any array declared with the <code>CullDistance</code> built-in
    decoration in a shader module <span role="normative">must</span> be less than or equal to this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-maxCombinedClipAndCullDistances"></a>
    <code>maxCombinedClipAndCullDistances</code> is the maximum combined number of
    clip and cull distances that <span role="normative">can</span> be used in a single shader stage.
    The sum of the sizes of any pair of arrays declared with the
    <code>ClipDistance</code> and <code>CullDistance</code> built-in decoration used by a
    single shader stage in a shader module <span role="normative">must</span> be less than or equal to
    this limit.
</p>
</li>
<li>
<p>
<a id="features-limits-discreteQueuePriorities"></a>
    <code>discreteQueuePriorities</code> is the number of discrete priorities that
    <span role="normative">can</span> be assigned to a queue based on the value of each member of
    <code>VkDeviceQueueCreateInfo</code>::<code>pQueuePriorities</code>.
    This <span role="normative">must</span> be at least 2, and levels <span role="normative">must</span> be spread evenly over the
    range, with at least one level at 1.0, and another at 0.0.
    See <a href="#devsandqueues-priority">[devsandqueues-priority]</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-pointSizeRange"></a> <code>pointSizeRange</code>[2] is the range
    <span class="eq">[<code>minimum</code>,<code>maximum</code>]</span> of supported sizes for points.
    Values written to variables decorated with the <code>PointSize</code> built-in
    decoration are clamped to this range.
</p>
</li>
<li>
<p>
<a id="features-limits-lineWidthRange"></a> <code>lineWidthRange</code>[2] is the range
    <span class="eq">[<code>minimum</code>,<code>maximum</code>]</span> of supported widths for lines.
    Values specified by the <code>lineWidth</code> member of the
    <code>VkPipelineRasterizationStateCreateInfo</code> or the <code>lineWidth</code>
    parameter to <code>vkCmdSetLineWidth</code> are clamped to this range.
</p>
</li>
<li>
<p>
<a id="features-limits-pointSizeGranularity"></a> <code>pointSizeGranularity</code> is
    the granularity of supported point sizes.
    Not all point sizes in the range defined by <code>pointSizeRange</code> are
    supported.
    This limit specifies the granularity (or increment) between successive
    supported point sizes.
</p>
</li>
<li>
<p>
<a id="features-limits-lineWidthGranularity"></a> <code>lineWidthGranularity</code> is
    the granularity of supported line widths.
    Not all line widths in the range defined by <code>lineWidthRange</code> are
    supported.
    This limit specifies the granularity (or increment) between successive
    supported line widths.
</p>
</li>
<li>
<p>
<a id="features-limits-strictLines"></a> <code>strictLines</code> indicates whether
    lines are rasterized according to the preferred method of rasterization.
    If set to <code>VK_FALSE</code>, lines <span role="normative">may</span> be rasterized under a relaxed set
    of rules.
    If set to <code>VK_TRUE</code>, lines are rasterized as per the strict
    definition.
    See <a href="#primsrast-lines-basic">Basic Line Segment Rasterization</a>.
</p>
</li>
<li>
<p>
<a id="features-limits-standardSampleLocations"></a>
    <code>standardSampleLocations</code> indicates whether rasterization uses the
    standard sample locations as documented in
    <a href="#primsrast-multisampling">Multisampling</a>.
    If set to <code>VK_TRUE</code>, the implementation uses the documented sample
    locations.
    If set to <code>VK_FALSE</code>, the implementation <span role="normative">may</span> use different sample
    locations.
</p>
</li>
<li>
<p>
<a id="features-limits-optimalBufferCopyOffsetAlignment"></a>
    <code>optimalBufferCopyOffsetAlignment</code> is the optimal buffer offset
    alignment in bytes for <code>vkCmdCopyBufferToImage</code> and
    <code>vkCmdCopyImageToBuffer</code>.
    The per texel alignment requirements are still enforced, this is just an
    additional alignment recommendation for optimal performance and power.
</p>
</li>
<li>
<p>
<a id="features-limits-optimalBufferCopyRowPitchAlignment"></a>
    <code>optimalBufferCopyRowPitchAlignment</code> is the optimal buffer row pitch
    alignment in bytes for <code>vkCmdCopyBufferToImage</code> and
    <code>vkCmdCopyImageToBuffer</code>.
    Row pitch is the number of bytes between texels with the same X
    coordinate in adjacent rows (Y coordinates differ by one).
    The per texel alignment requirements are still enforced, this is just an
    additional alignment recommendation for optimal performance and power.
</p>
</li>
<li>
<p>
<a id="features-limits-nonCoherentAtomSize"></a> <code>nonCoherentAtomSize</code> is the
    size and alignment in bytes that bounds concurrent access to
    <a href="#memory-device-hostaccess">host-mapped device memory</a>.
</p>
</li>
</ul></div>
<div class="dlist"><dl>
<dt class="hdlist1">
1
</dt>
<dd>
<p>
    For all bitmasks of type <code><a href="#VkSampleCountFlags">VkSampleCountFlags</a></code> above, possible values
    include:
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<a id="VkSampleCountFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkSampleCountFlagBits <span style="color: #FF0000">{</span>
    VK_SAMPLE_COUNT_1_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_SAMPLE_COUNT_2_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_SAMPLE_COUNT_4_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_SAMPLE_COUNT_8_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
    VK_SAMPLE_COUNT_16_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000010</span><span style="color: #990000">,</span>
    VK_SAMPLE_COUNT_32_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000020</span><span style="color: #990000">,</span>
    VK_SAMPLE_COUNT_64_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000040</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkSampleCountFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
</div></div>
<div class="paragraph"><p>The sample count limits defined above represent the minimum supported sample
counts for each image type.
Individual images <span role="normative">may</span> support additional sample counts, which are queried
using <code><a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a></code> as described in
<a href="#features-supported-sample-counts">Supported Sample Counts</a>.</p></div>
</dd>
</dl></div>
<div class="sect3">
<h4 id="features-limits-minmax">31.2.1. Limit Requirements</h4>
<div class="paragraph"><p>The following table specifies the <span role="normative">required</span> minimum/maximum for all Vulkan
graphics implementations.
Where a limit corresponds to a fine-grained device feature which is
<span role="normative">optional</span>, the feature name is listed with two <span role="normative">required</span> limits, one when
the feature is supported and one when it is not supported.
If an implementation supports a feature, the limits reported are the same
whether or not the feature is enabled.</p></div>
<table class="tableblock frame-all grid-all" id="features-limits-types"
style="
width:100%;
">
<caption class="title">Table 31. Required Limit Types</caption>
<col style="width:20%;">
<col style="width:50%;">
<col style="width:30%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Type                     </th>
<th class="tableblock halign-left valign-top" > Limit                                      </th>
<th class="tableblock halign-left valign-top" > Feature</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxImageDimension1D</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxImageDimension2D</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxImageDimension3D</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxImageDimensionCube</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxImageArrayLayers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTexelBufferElements</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxUniformBufferRange</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxStorageBufferRange</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPushConstantsSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxMemoryAllocationCount</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxSamplerAllocationCount</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>bufferImageGranularity</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sparseAddressSpaceSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">sparseBinding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxBoundDescriptorSets</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageDescriptorSamplers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageDescriptorUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageDescriptorStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageDescriptorSampledImages</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageDescriptorStorageImages</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageDescriptorInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageResources</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetSamplers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetUniformBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetStorageBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetSampledImages</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetStorageImages</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxVertexInputAttributes</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxVertexInputBindings</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxVertexInputAttributeOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxVertexInputBindingStride</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxVertexOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationGenerationLevel</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationPatchSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationControlPerVertexInputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationControlPerVertexOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationControlPerPatchOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationControlTotalOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationEvaluationInputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationEvaluationOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxGeometryShaderInvocations</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>geometryShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxGeometryInputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>geometryShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxGeometryOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>geometryShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxGeometryOutputVertices</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>geometryShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxGeometryTotalOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>geometryShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFragmentInputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFragmentOutputAttachments</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFragmentDualSrcAttachments</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>dualSrcBlend</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFragmentCombinedOutputResources</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxComputeSharedMemorySize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">3 &#x00d7; <code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxComputeWorkGroupCount</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxComputeWorkGroupInvocations</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">3 &#x00d7; <code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxComputeWorkGroupSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>subPixelPrecisionBits</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>subTexelPrecisionBits</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>mipmapPrecisionBits</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDrawIndexedIndexValue</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>fullDrawIndexUint32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDrawIndirectCount</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>multiDrawIndirect</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxSamplerLodBias</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxSamplerAnisotropy</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>samplerAnisotropy</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxViewports</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>multiViewport</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2 &#x00d7; <code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxViewportDimensions</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2 &#x00d7; <code>float</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewportBoundsRange</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewportSubPixelBits</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>size_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minMemoryMapAlignment</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minTexelBufferOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minUniformBufferOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minStorageBufferOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>int32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minTexelOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTexelOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>int32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minTexelGatherOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>shaderImageGatherExtended</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTexelGatherOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>shaderImageGatherExtended</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minInterpolationOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sampleRateShading</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxInterpolationOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sampleRateShading</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>subPixelInterpolationOffsetBits</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sampleRateShading</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFramebufferWidth</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFramebufferHeight</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFramebufferLayers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code><a href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>framebufferColorSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code><a href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>framebufferDepthSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code><a href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>framebufferStencilSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code><a href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>framebufferNoAttachmentsSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxColorAttachments</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code><a href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sampledImageColorSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code><a href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sampledImageIntegerSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code><a href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sampledImageDepthSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code><a href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sampledImageStencilSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code><a href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>storageImageSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>shaderStorageImageMultisample</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxSampleMaskWords</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VkBool32</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>timestampComputeAndGraphics</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>timestampPeriod</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxClipDistances</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>shaderClipDistance</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxCullDistances</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>shaderCullDistance</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxCombinedClipAndCullDistances</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>shaderCullDistance</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>discreteQueuePriorities</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2 &#x00d7; <code>float</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>pointSizeRange</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>largePoints</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2 &#x00d7; <code>float</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>lineWidthRange</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>wideLines</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>pointSizeGranularity</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>largePoints</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>lineWidthGranularity</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>wideLines</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VkBool32</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>strictLines</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VkBool32</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>standardSampleLocations</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>optimalBufferCopyOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>optimalBufferCopyRowPitchAlignment</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>nonCoherentAtomSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" id="features-limits-required"
style="
width:100%;
">
<caption class="title">Table 32. Required Limits</caption>
<col style="width:50%;">
<col style="width:13%;">
<col style="width:20%;">
<col style="width:15%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Limit </th>
<th class="tableblock halign-left valign-top" > Unsupported Limit </th>
<th class="tableblock halign-left valign-top" > Supported Limit </th>
<th class="tableblock halign-left valign-top" > Limit Type<sup>1</sup></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxImageDimension1D</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4096</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxImageDimension2D</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4096</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxImageDimension3D</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxImageDimensionCube</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4096</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxImageArrayLayers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTexelBufferElements</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">65536</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxUniformBufferRange</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">16384</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxStorageBufferRange</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2<sup>27</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPushConstantsSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">128</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxMemoryAllocationCount</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4096</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxSamplerAllocationCount</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4000</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>bufferImageGranularity</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">131072</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sparseAddressSpaceSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2<sup>31</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxBoundDescriptorSets</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageDescriptorSamplers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageDescriptorUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageDescriptorStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageDescriptorSampledImages</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageDescriptorStorageImages</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageDescriptorInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxPerStageResources</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">128 <sup>2</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetSamplers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">96 <sup>8</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min, <em>n</em> &#x00d7; PerStage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">72 <sup>8</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min, <em>n</em> &#x00d7; PerStage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetUniformBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">24 <sup>8</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min, <em>n</em> &#x00d7; PerStage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetStorageBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetSampledImages</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">96 <sup>8</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min, <em>n</em> &#x00d7; PerStage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetStorageImages</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">24 <sup>8</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min, <em>n</em> &#x00d7; PerStage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDescriptorSetInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxVertexInputAttributes</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxVertexInputBindings</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxVertexInputAttributeOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2047</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxVertexInputBindingStride</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2048</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxVertexOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationGenerationLevel</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationPatchSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationControlPerVertexInputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationControlPerVertexOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationControlPerPatchOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">120</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationControlTotalOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2048</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationEvaluationInputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTessellationEvaluationOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxGeometryShaderInvocations</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxGeometryInputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxGeometryOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxGeometryOutputVertices</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxGeometryTotalOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1024</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFragmentInputComponents</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFragmentOutputAttachments</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFragmentDualSrcAttachments</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFragmentCombinedOutputResources</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxComputeSharedMemorySize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">16384</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxComputeWorkGroupCount</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(65535,65535,65535)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxComputeWorkGroupInvocations</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">128</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxComputeWorkGroupSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(128,128,64)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>subPixelPrecisionBits</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>subTexelPrecisionBits</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>mipmapPrecisionBits</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDrawIndexedIndexValue</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2<sup>24</sup>-1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2<sup>32</sup>-1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxDrawIndirectCount</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2<sup>16</sup>-1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxSamplerLodBias</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxSamplerAnisotropy</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxViewports</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxViewportDimensions</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(4096,4096) <sup>3</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewportBoundsRange</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(-8192,8191) <sup>4</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(max,min)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>viewportSubPixelBits</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minMemoryMapAlignment</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minTexelBufferOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minUniformBufferOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minStorageBufferOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minTexelOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-8</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTexelOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minTexelGatherOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-8</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxTexelGatherOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>minInterpolationOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0.0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-0.5 <sup>5</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxInterpolationOffset</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0.0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0.5 - (1 ULP) <sup>5</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>subPixelInterpolationOffsetBits</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4 <sup>5</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFramebufferWidth</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4096</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFramebufferHeight</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4096</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxFramebufferLayers</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>framebufferColorSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>framebufferDepthSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>framebufferStencilSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>framebufferNoAttachmentsSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxColorAttachments</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sampledImageColorSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sampledImageIntegerSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_SAMPLE_COUNT_1_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sampledImageDepthSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sampledImageStencilSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>storageImageSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_SAMPLE_COUNT_1_BIT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxSampleMaskWords</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>timestampComputeAndGraphics</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">implementation dependent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>timestampPeriod</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">duration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxClipDistances</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxCullDistances</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>maxCombinedClipAndCullDistances</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>discreteQueuePriorities</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>pointSizeRange</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(1.0,1.0)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(1.0,64.0 - ULP)<sup>6</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(max,min)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>lineWidthRange</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(1.0,1.0)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(1.0,8.0 - ULP)<sup>7</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(max,min)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>pointSizeGranularity</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0.0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1.0 <sup>6</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">max, fixed point increment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>lineWidthGranularity</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0.0</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">1.0 <sup>7</sup></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">max, fixed point increment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>strictLines</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">implementation dependent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>standardSampleLocations</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">implementation dependent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>optimalBufferCopyOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">recommendation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>optimalBufferCopyRowPitchAlignment</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">recommendation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>nonCoherentAtomSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">max</p></td>
</tr>
</tbody>
</table>
<div class="dlist"><dl>
<dt class="hdlist1">
1
</dt>
<dd>
<p>
    The <strong>Limit Type</strong> column indicates the limit is either the minimum limit
    all implementations <span role="normative">must</span> support or the maximum limit all
    implementations <span role="normative">must</span> support.
    For bitmasks a minimum limit is the least bits all implementations <span role="normative">must</span>
    set, but they <span role="normative">may</span> have additional bits set beyond this minimum.
</p>
</dd>
<dt class="hdlist1">
2
</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>The <code>maxPerStageResources</code> <span role="normative">must</span> be at least the smallest of the
following:</p></div>
<div class="ulist"><ul>
<li>
<p>
the sum of the <code>maxPerStageDescriptorUniformBuffers</code>,
    <code>maxPerStageDescriptorStorageBuffers</code>,
    <code>maxPerStageDescriptorSampledImages</code>,
    <code>maxPerStageDescriptorStorageImages</code>,
    <code>maxPerStageDescriptorInputAttachments</code>, <code>maxColorAttachments</code>
    limits, or
</p>
</li>
<li>
<p>
128.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It <span role="normative">may</span> not be possible to reach this limit in every stage.</p></div>
</div></div>
</dd>
<dt class="hdlist1">
3
</dt>
<dd>
<p>
    See
    <a href="#features-limits-maxViewportDimensions"><code>maxViewportDimensions</code></a>
    for the <span role="normative">required</span> relationship to other limits.
</p>
</dd>
<dt class="hdlist1">
4
</dt>
<dd>
<p>
    See <a href="#features-limits-viewportboundsrange"><code>viewportBoundsRange</code></a>
    for the <span role="normative">required</span> relationship to other limits.
</p>
</dd>
<dt class="hdlist1">
5
</dt>
<dd>
<p>
    The values <code>minInterpolationOffset</code> and <code>maxInterpolationOffset</code>
    describe the closed interval of supported interpolation offsets:
    [<code>minInterpolationOffset</code>, <code>maxInterpolationOffset</code>].
    The ULP is determined by <code>subPixelInterpolationOffsetBits</code>.
    If <code>subPixelInterpolationOffsetBits</code> is 4, this provides increments
    of (1/2<sup>4</sup>) = 0.0625, and thus the range of supported interpolation
    offsets would be <span class="eq">[-0.5, 0.4375]</span>.
</p>
</dd>
<dt class="hdlist1">
6
</dt>
<dd>
<p>
    The point size ULP is determined by <code>pointSizeGranularity</code>.
    If the <code>pointSizeGranularity</code> is 0.125, the range of supported point
    sizes <span role="normative">must</span> be at least [1.0, 63.875].
</p>
</dd>
<dt class="hdlist1">
7
</dt>
<dd>
<p>
    The line width ULP is determined by <code>lineWidthGranularity</code>.
    If the <code>lineWidthGranularity</code> is 0.0625, the range of supported line
    widths <span role="normative">must</span> be at least [1.0, 7.9375].
</p>
</dd>
<dt class="hdlist1">
8
</dt>
<dd>
<p>
The <code>maxDescriptorSet*</code> limit is <em>n</em> times the corresponding
    <code>maxPerStageDescriptor*</code> limit, where <em>n</em> is the number of shader
    stages supported by the VkPhysicalDevice.
    If all shader stages are supported, <em>n</em> = 6 (vertex, tessellation
    control, tessellation evaluation, geometry, fragment, compute).
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect2">
<h3 id="features-formats">31.3. Formats</h3>
<div class="paragraph"><p>The features for the set of formats (<code><a href="#VkFormat">VkFormat</a></code>) supported by the
implementation are queried individually using the
<code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code> command.</p></div>
<div class="sect3">
<h4 id="features-formats-definition">31.3.1. Format Definition</h4>
<div class="paragraph"><p>The available formats are defined by the <code><a href="#VkFormat">VkFormat</a></code> enumeration:</p></div>
<div class="listingblock">
<a id="VkFormat"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkFormat <span style="color: #FF0000">{</span>
    VK_FORMAT_UNDEFINED <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_FORMAT_R4G4_UNORM_PACK8 <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_FORMAT_R4G4B4A4_UNORM_PACK16 <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_FORMAT_B4G4R4A4_UNORM_PACK16 <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_FORMAT_R5G6B5_UNORM_PACK16 <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_FORMAT_B5G6R5_UNORM_PACK16 <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_FORMAT_R5G5B5A1_UNORM_PACK16 <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">,</span>
    VK_FORMAT_B5G5R5A1_UNORM_PACK16 <span style="color: #990000">=</span> <span style="color: #993399">7</span><span style="color: #990000">,</span>
    VK_FORMAT_A1R5G5B5_UNORM_PACK16 <span style="color: #990000">=</span> <span style="color: #993399">8</span><span style="color: #990000">,</span>
    VK_FORMAT_R8_UNORM <span style="color: #990000">=</span> <span style="color: #993399">9</span><span style="color: #990000">,</span>
    VK_FORMAT_R8_SNORM <span style="color: #990000">=</span> <span style="color: #993399">10</span><span style="color: #990000">,</span>
    VK_FORMAT_R8_USCALED <span style="color: #990000">=</span> <span style="color: #993399">11</span><span style="color: #990000">,</span>
    VK_FORMAT_R8_SSCALED <span style="color: #990000">=</span> <span style="color: #993399">12</span><span style="color: #990000">,</span>
    VK_FORMAT_R8_UINT <span style="color: #990000">=</span> <span style="color: #993399">13</span><span style="color: #990000">,</span>
    VK_FORMAT_R8_SINT <span style="color: #990000">=</span> <span style="color: #993399">14</span><span style="color: #990000">,</span>
    VK_FORMAT_R8_SRGB <span style="color: #990000">=</span> <span style="color: #993399">15</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8_UNORM <span style="color: #990000">=</span> <span style="color: #993399">16</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8_SNORM <span style="color: #990000">=</span> <span style="color: #993399">17</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8_USCALED <span style="color: #990000">=</span> <span style="color: #993399">18</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8_SSCALED <span style="color: #990000">=</span> <span style="color: #993399">19</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8_UINT <span style="color: #990000">=</span> <span style="color: #993399">20</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8_SINT <span style="color: #990000">=</span> <span style="color: #993399">21</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8_SRGB <span style="color: #990000">=</span> <span style="color: #993399">22</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8_UNORM <span style="color: #990000">=</span> <span style="color: #993399">23</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8_SNORM <span style="color: #990000">=</span> <span style="color: #993399">24</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8_USCALED <span style="color: #990000">=</span> <span style="color: #993399">25</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8_SSCALED <span style="color: #990000">=</span> <span style="color: #993399">26</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8_UINT <span style="color: #990000">=</span> <span style="color: #993399">27</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8_SINT <span style="color: #990000">=</span> <span style="color: #993399">28</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8_SRGB <span style="color: #990000">=</span> <span style="color: #993399">29</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8_UNORM <span style="color: #990000">=</span> <span style="color: #993399">30</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8_SNORM <span style="color: #990000">=</span> <span style="color: #993399">31</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8_USCALED <span style="color: #990000">=</span> <span style="color: #993399">32</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8_SSCALED <span style="color: #990000">=</span> <span style="color: #993399">33</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8_UINT <span style="color: #990000">=</span> <span style="color: #993399">34</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8_SINT <span style="color: #990000">=</span> <span style="color: #993399">35</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8_SRGB <span style="color: #990000">=</span> <span style="color: #993399">36</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8A8_UNORM <span style="color: #990000">=</span> <span style="color: #993399">37</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8A8_SNORM <span style="color: #990000">=</span> <span style="color: #993399">38</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8A8_USCALED <span style="color: #990000">=</span> <span style="color: #993399">39</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8A8_SSCALED <span style="color: #990000">=</span> <span style="color: #993399">40</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8A8_UINT <span style="color: #990000">=</span> <span style="color: #993399">41</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8A8_SINT <span style="color: #990000">=</span> <span style="color: #993399">42</span><span style="color: #990000">,</span>
    VK_FORMAT_R8G8B8A8_SRGB <span style="color: #990000">=</span> <span style="color: #993399">43</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8A8_UNORM <span style="color: #990000">=</span> <span style="color: #993399">44</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8A8_SNORM <span style="color: #990000">=</span> <span style="color: #993399">45</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8A8_USCALED <span style="color: #990000">=</span> <span style="color: #993399">46</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8A8_SSCALED <span style="color: #990000">=</span> <span style="color: #993399">47</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8A8_UINT <span style="color: #990000">=</span> <span style="color: #993399">48</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8A8_SINT <span style="color: #990000">=</span> <span style="color: #993399">49</span><span style="color: #990000">,</span>
    VK_FORMAT_B8G8R8A8_SRGB <span style="color: #990000">=</span> <span style="color: #993399">50</span><span style="color: #990000">,</span>
    VK_FORMAT_A8B8G8R8_UNORM_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">51</span><span style="color: #990000">,</span>
    VK_FORMAT_A8B8G8R8_SNORM_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">52</span><span style="color: #990000">,</span>
    VK_FORMAT_A8B8G8R8_USCALED_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">53</span><span style="color: #990000">,</span>
    VK_FORMAT_A8B8G8R8_SSCALED_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">54</span><span style="color: #990000">,</span>
    VK_FORMAT_A8B8G8R8_UINT_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">55</span><span style="color: #990000">,</span>
    VK_FORMAT_A8B8G8R8_SINT_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">56</span><span style="color: #990000">,</span>
    VK_FORMAT_A8B8G8R8_SRGB_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">57</span><span style="color: #990000">,</span>
    VK_FORMAT_A2R10G10B10_UNORM_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">58</span><span style="color: #990000">,</span>
    VK_FORMAT_A2R10G10B10_SNORM_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">59</span><span style="color: #990000">,</span>
    VK_FORMAT_A2R10G10B10_USCALED_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">60</span><span style="color: #990000">,</span>
    VK_FORMAT_A2R10G10B10_SSCALED_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">61</span><span style="color: #990000">,</span>
    VK_FORMAT_A2R10G10B10_UINT_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">62</span><span style="color: #990000">,</span>
    VK_FORMAT_A2R10G10B10_SINT_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">63</span><span style="color: #990000">,</span>
    VK_FORMAT_A2B10G10R10_UNORM_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">64</span><span style="color: #990000">,</span>
    VK_FORMAT_A2B10G10R10_SNORM_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">65</span><span style="color: #990000">,</span>
    VK_FORMAT_A2B10G10R10_USCALED_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">66</span><span style="color: #990000">,</span>
    VK_FORMAT_A2B10G10R10_SSCALED_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">67</span><span style="color: #990000">,</span>
    VK_FORMAT_A2B10G10R10_UINT_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">68</span><span style="color: #990000">,</span>
    VK_FORMAT_A2B10G10R10_SINT_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">69</span><span style="color: #990000">,</span>
    VK_FORMAT_R16_UNORM <span style="color: #990000">=</span> <span style="color: #993399">70</span><span style="color: #990000">,</span>
    VK_FORMAT_R16_SNORM <span style="color: #990000">=</span> <span style="color: #993399">71</span><span style="color: #990000">,</span>
    VK_FORMAT_R16_USCALED <span style="color: #990000">=</span> <span style="color: #993399">72</span><span style="color: #990000">,</span>
    VK_FORMAT_R16_SSCALED <span style="color: #990000">=</span> <span style="color: #993399">73</span><span style="color: #990000">,</span>
    VK_FORMAT_R16_UINT <span style="color: #990000">=</span> <span style="color: #993399">74</span><span style="color: #990000">,</span>
    VK_FORMAT_R16_SINT <span style="color: #990000">=</span> <span style="color: #993399">75</span><span style="color: #990000">,</span>
    VK_FORMAT_R16_SFLOAT <span style="color: #990000">=</span> <span style="color: #993399">76</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16_UNORM <span style="color: #990000">=</span> <span style="color: #993399">77</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16_SNORM <span style="color: #990000">=</span> <span style="color: #993399">78</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16_USCALED <span style="color: #990000">=</span> <span style="color: #993399">79</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16_SSCALED <span style="color: #990000">=</span> <span style="color: #993399">80</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16_UINT <span style="color: #990000">=</span> <span style="color: #993399">81</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16_SINT <span style="color: #990000">=</span> <span style="color: #993399">82</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16_SFLOAT <span style="color: #990000">=</span> <span style="color: #993399">83</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16_UNORM <span style="color: #990000">=</span> <span style="color: #993399">84</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16_SNORM <span style="color: #990000">=</span> <span style="color: #993399">85</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16_USCALED <span style="color: #990000">=</span> <span style="color: #993399">86</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16_SSCALED <span style="color: #990000">=</span> <span style="color: #993399">87</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16_UINT <span style="color: #990000">=</span> <span style="color: #993399">88</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16_SINT <span style="color: #990000">=</span> <span style="color: #993399">89</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16_SFLOAT <span style="color: #990000">=</span> <span style="color: #993399">90</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16A16_UNORM <span style="color: #990000">=</span> <span style="color: #993399">91</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16A16_SNORM <span style="color: #990000">=</span> <span style="color: #993399">92</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16A16_USCALED <span style="color: #990000">=</span> <span style="color: #993399">93</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16A16_SSCALED <span style="color: #990000">=</span> <span style="color: #993399">94</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16A16_UINT <span style="color: #990000">=</span> <span style="color: #993399">95</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16A16_SINT <span style="color: #990000">=</span> <span style="color: #993399">96</span><span style="color: #990000">,</span>
    VK_FORMAT_R16G16B16A16_SFLOAT <span style="color: #990000">=</span> <span style="color: #993399">97</span><span style="color: #990000">,</span>
    VK_FORMAT_R32_UINT <span style="color: #990000">=</span> <span style="color: #993399">98</span><span style="color: #990000">,</span>
    VK_FORMAT_R32_SINT <span style="color: #990000">=</span> <span style="color: #993399">99</span><span style="color: #990000">,</span>
    VK_FORMAT_R32_SFLOAT <span style="color: #990000">=</span> <span style="color: #993399">100</span><span style="color: #990000">,</span>
    VK_FORMAT_R32G32_UINT <span style="color: #990000">=</span> <span style="color: #993399">101</span><span style="color: #990000">,</span>
    VK_FORMAT_R32G32_SINT <span style="color: #990000">=</span> <span style="color: #993399">102</span><span style="color: #990000">,</span>
    VK_FORMAT_R32G32_SFLOAT <span style="color: #990000">=</span> <span style="color: #993399">103</span><span style="color: #990000">,</span>
    VK_FORMAT_R32G32B32_UINT <span style="color: #990000">=</span> <span style="color: #993399">104</span><span style="color: #990000">,</span>
    VK_FORMAT_R32G32B32_SINT <span style="color: #990000">=</span> <span style="color: #993399">105</span><span style="color: #990000">,</span>
    VK_FORMAT_R32G32B32_SFLOAT <span style="color: #990000">=</span> <span style="color: #993399">106</span><span style="color: #990000">,</span>
    VK_FORMAT_R32G32B32A32_UINT <span style="color: #990000">=</span> <span style="color: #993399">107</span><span style="color: #990000">,</span>
    VK_FORMAT_R32G32B32A32_SINT <span style="color: #990000">=</span> <span style="color: #993399">108</span><span style="color: #990000">,</span>
    VK_FORMAT_R32G32B32A32_SFLOAT <span style="color: #990000">=</span> <span style="color: #993399">109</span><span style="color: #990000">,</span>
    VK_FORMAT_R64_UINT <span style="color: #990000">=</span> <span style="color: #993399">110</span><span style="color: #990000">,</span>
    VK_FORMAT_R64_SINT <span style="color: #990000">=</span> <span style="color: #993399">111</span><span style="color: #990000">,</span>
    VK_FORMAT_R64_SFLOAT <span style="color: #990000">=</span> <span style="color: #993399">112</span><span style="color: #990000">,</span>
    VK_FORMAT_R64G64_UINT <span style="color: #990000">=</span> <span style="color: #993399">113</span><span style="color: #990000">,</span>
    VK_FORMAT_R64G64_SINT <span style="color: #990000">=</span> <span style="color: #993399">114</span><span style="color: #990000">,</span>
    VK_FORMAT_R64G64_SFLOAT <span style="color: #990000">=</span> <span style="color: #993399">115</span><span style="color: #990000">,</span>
    VK_FORMAT_R64G64B64_UINT <span style="color: #990000">=</span> <span style="color: #993399">116</span><span style="color: #990000">,</span>
    VK_FORMAT_R64G64B64_SINT <span style="color: #990000">=</span> <span style="color: #993399">117</span><span style="color: #990000">,</span>
    VK_FORMAT_R64G64B64_SFLOAT <span style="color: #990000">=</span> <span style="color: #993399">118</span><span style="color: #990000">,</span>
    VK_FORMAT_R64G64B64A64_UINT <span style="color: #990000">=</span> <span style="color: #993399">119</span><span style="color: #990000">,</span>
    VK_FORMAT_R64G64B64A64_SINT <span style="color: #990000">=</span> <span style="color: #993399">120</span><span style="color: #990000">,</span>
    VK_FORMAT_R64G64B64A64_SFLOAT <span style="color: #990000">=</span> <span style="color: #993399">121</span><span style="color: #990000">,</span>
    VK_FORMAT_B10G11R11_UFLOAT_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">122</span><span style="color: #990000">,</span>
    VK_FORMAT_E5B9G9R9_UFLOAT_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">123</span><span style="color: #990000">,</span>
    VK_FORMAT_D16_UNORM <span style="color: #990000">=</span> <span style="color: #993399">124</span><span style="color: #990000">,</span>
    VK_FORMAT_X8_D24_UNORM_PACK32 <span style="color: #990000">=</span> <span style="color: #993399">125</span><span style="color: #990000">,</span>
    VK_FORMAT_D32_SFLOAT <span style="color: #990000">=</span> <span style="color: #993399">126</span><span style="color: #990000">,</span>
    VK_FORMAT_S8_UINT <span style="color: #990000">=</span> <span style="color: #993399">127</span><span style="color: #990000">,</span>
    VK_FORMAT_D16_UNORM_S8_UINT <span style="color: #990000">=</span> <span style="color: #993399">128</span><span style="color: #990000">,</span>
    VK_FORMAT_D24_UNORM_S8_UINT <span style="color: #990000">=</span> <span style="color: #993399">129</span><span style="color: #990000">,</span>
    VK_FORMAT_D32_SFLOAT_S8_UINT <span style="color: #990000">=</span> <span style="color: #993399">130</span><span style="color: #990000">,</span>
    VK_FORMAT_BC1_RGB_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">131</span><span style="color: #990000">,</span>
    VK_FORMAT_BC1_RGB_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">132</span><span style="color: #990000">,</span>
    VK_FORMAT_BC1_RGBA_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">133</span><span style="color: #990000">,</span>
    VK_FORMAT_BC1_RGBA_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">134</span><span style="color: #990000">,</span>
    VK_FORMAT_BC2_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">135</span><span style="color: #990000">,</span>
    VK_FORMAT_BC2_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">136</span><span style="color: #990000">,</span>
    VK_FORMAT_BC3_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">137</span><span style="color: #990000">,</span>
    VK_FORMAT_BC3_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">138</span><span style="color: #990000">,</span>
    VK_FORMAT_BC4_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">139</span><span style="color: #990000">,</span>
    VK_FORMAT_BC4_SNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">140</span><span style="color: #990000">,</span>
    VK_FORMAT_BC5_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">141</span><span style="color: #990000">,</span>
    VK_FORMAT_BC5_SNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">142</span><span style="color: #990000">,</span>
    VK_FORMAT_BC6H_UFLOAT_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">143</span><span style="color: #990000">,</span>
    VK_FORMAT_BC6H_SFLOAT_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">144</span><span style="color: #990000">,</span>
    VK_FORMAT_BC7_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">145</span><span style="color: #990000">,</span>
    VK_FORMAT_BC7_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">146</span><span style="color: #990000">,</span>
    VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">147</span><span style="color: #990000">,</span>
    VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">148</span><span style="color: #990000">,</span>
    VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">149</span><span style="color: #990000">,</span>
    VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">150</span><span style="color: #990000">,</span>
    VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">151</span><span style="color: #990000">,</span>
    VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">152</span><span style="color: #990000">,</span>
    VK_FORMAT_EAC_R11_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">153</span><span style="color: #990000">,</span>
    VK_FORMAT_EAC_R11_SNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">154</span><span style="color: #990000">,</span>
    VK_FORMAT_EAC_R11G11_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">155</span><span style="color: #990000">,</span>
    VK_FORMAT_EAC_R11G11_SNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">156</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_4x4_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">157</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_4x4_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">158</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_5x4_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">159</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_5x4_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">160</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_5x5_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">161</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_5x5_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">162</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_6x5_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">163</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_6x5_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">164</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_6x6_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">165</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_6x6_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">166</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_8x5_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">167</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_8x5_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">168</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_8x6_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">169</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_8x6_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">170</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_8x8_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">171</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_8x8_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">172</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_10x5_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">173</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_10x5_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">174</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_10x6_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">175</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_10x6_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">176</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_10x8_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">177</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_10x8_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">178</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_10x10_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">179</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_10x10_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">180</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_12x10_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">181</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_12x10_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">182</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_12x12_UNORM_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">183</span><span style="color: #990000">,</span>
    VK_FORMAT_ASTC_12x12_SRGB_BLOCK <span style="color: #990000">=</span> <span style="color: #993399">184</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkFormat<span style="color: #990000">;</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>VK_FORMAT_UNDEFINED</code>
</dt>
<dd>
<p>
    The format is not specified.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R4G4_UNORM_PACK8</code>
</dt>
<dd>
<p>
    A two-component, 8-bit packed unsigned normalized format that has a
    4-bit R component in bits 4..7, and a 4-bit G component in bits 0..3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R4G4B4A4_UNORM_PACK16</code>
</dt>
<dd>
<p>
    A four-component, 16-bit packed unsigned normalized format that has a
    4-bit R component in bits 12..15, a 4-bit G component in bits 8..11, a
    4-bit B component in bits 4..7, and a 4-bit A component in bits 0..3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B4G4R4A4_UNORM_PACK16</code>
</dt>
<dd>
<p>
    A four-component, 16-bit packed unsigned normalized format that has a
    4-bit B component in bits 12..15, a 4-bit G component in bits 8..11, a
    4-bit R component in bits 4..7, and a 4-bit A component in bits 0..3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R5G6B5_UNORM_PACK16</code>
</dt>
<dd>
<p>
    A three-component, 16-bit packed unsigned normalized format that has a
    5-bit R component in bits 11..15, a 6-bit G component in bits 5..10, and
    a 5-bit B component in bits 0..4.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B5G6R5_UNORM_PACK16</code>
</dt>
<dd>
<p>
    A three-component, 16-bit packed unsigned normalized format that has a
    5-bit B component in bits 11..15, a 6-bit G component in bits 5..10, and
    a 5-bit R component in bits 0..4.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R5G5B5A1_UNORM_PACK16</code>
</dt>
<dd>
<p>
    A four-component, 16-bit packed unsigned normalized format that has a
    5-bit R component in bits 11..15, a 5-bit G component in bits 6..10, a
    5-bit B component in bits 1..5, and a 1-bit A component in bit 0.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B5G5R5A1_UNORM_PACK16</code>
</dt>
<dd>
<p>
    A four-component, 16-bit packed unsigned normalized format that has a
    5-bit B component in bits 11..15, a 5-bit G component in bits 6..10, a
    5-bit R component in bits 1..5, and a 1-bit A component in bit 0.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A1R5G5B5_UNORM_PACK16</code>
</dt>
<dd>
<p>
    A four-component, 16-bit packed unsigned normalized format that has a
    1-bit A component in bit 15, a 5-bit R component in bits 10..14, a 5-bit
    G component in bits 5..9, and a 5-bit B component in bits 0..4.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8_UNORM</code>
</dt>
<dd>
<p>
    A one-component, 8-bit unsigned normalized format that has a single
    8-bit R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8_SNORM</code>
</dt>
<dd>
<p>
    A one-component, 8-bit signed normalized format that has a single 8-bit
    R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8_USCALED</code>
</dt>
<dd>
<p>
    A one-component, 8-bit unsigned scaled integer format that has a single
    8-bit R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8_SSCALED</code>
</dt>
<dd>
<p>
    A one-component, 8-bit signed scaled integer format that has a single
    8-bit R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8_UINT</code>
</dt>
<dd>
<p>
    A one-component, 8-bit unsigned integer format that has a single 8-bit R
    component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8_SINT</code>
</dt>
<dd>
<p>
    A one-component, 8-bit signed integer format that has a single 8-bit R
    component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8_SRGB</code>
</dt>
<dd>
<p>
    A one-component, 8-bit unsigned normalized format that has a single
    8-bit R component stored with sRGB nonlinear encoding.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8_UNORM</code>
</dt>
<dd>
<p>
    A two-component, 16-bit unsigned normalized format that has an 8-bit R
    component in byte 0, and an 8-bit G component in byte 1.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8_SNORM</code>
</dt>
<dd>
<p>
    A two-component, 16-bit signed normalized format that has an 8-bit R
    component in byte 0, and an 8-bit G component in byte 1.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8_USCALED</code>
</dt>
<dd>
<p>
    A two-component, 16-bit unsigned scaled integer format that has an 8-bit
    R component in byte 0, and an 8-bit G component in byte 1.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8_SSCALED</code>
</dt>
<dd>
<p>
    A two-component, 16-bit signed scaled integer format that has an 8-bit R
    component in byte 0, and an 8-bit G component in byte 1.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8_UINT</code>
</dt>
<dd>
<p>
    A two-component, 16-bit unsigned integer format that has an 8-bit R
    component in byte 0, and an 8-bit G component in byte 1.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8_SINT</code>
</dt>
<dd>
<p>
    A two-component, 16-bit signed integer format that has an 8-bit R
    component in byte 0, and an 8-bit G component in byte 1.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8_SRGB</code>
</dt>
<dd>
<p>
    A two-component, 16-bit unsigned normalized format that has an 8-bit R
    component stored with sRGB nonlinear encoding in byte 0, and an 8-bit G
    component stored with sRGB nonlinear encoding in byte 1.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8_UNORM</code>
</dt>
<dd>
<p>
    A three-component, 24-bit unsigned normalized format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit B
    component in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8_SNORM</code>
</dt>
<dd>
<p>
    A three-component, 24-bit signed normalized format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit B
    component in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8_USCALED</code>
</dt>
<dd>
<p>
    A three-component, 24-bit unsigned scaled format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit B
    component in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8_SSCALED</code>
</dt>
<dd>
<p>
    A three-component, 24-bit signed scaled format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit B
    component in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8_UINT</code>
</dt>
<dd>
<p>
    A three-component, 24-bit unsigned integer format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit B
    component in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8_SINT</code>
</dt>
<dd>
<p>
    A three-component, 24-bit signed integer format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit B
    component in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8_SRGB</code>
</dt>
<dd>
<p>
    A three-component, 24-bit unsigned normalized format that has an 8-bit R
    component stored with sRGB nonlinear encoding in byte 0, an 8-bit G
    component stored with sRGB nonlinear encoding in byte 1, and an 8-bit B
    component stored with sRGB nonlinear encoding in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8_UNORM</code>
</dt>
<dd>
<p>
    A three-component, 24-bit unsigned normalized format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit R
    component in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8_SNORM</code>
</dt>
<dd>
<p>
    A three-component, 24-bit signed normalized format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit R
    component in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8_USCALED</code>
</dt>
<dd>
<p>
    A three-component, 24-bit unsigned scaled format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit R
    component in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8_SSCALED</code>
</dt>
<dd>
<p>
    A three-component, 24-bit signed scaled format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit R
    component in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8_UINT</code>
</dt>
<dd>
<p>
    A three-component, 24-bit unsigned integer format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit R
    component in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8_SINT</code>
</dt>
<dd>
<p>
    A three-component, 24-bit signed integer format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit R
    component in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8_SRGB</code>
</dt>
<dd>
<p>
    A three-component, 24-bit unsigned normalized format that has an 8-bit B
    component stored with sRGB nonlinear encoding in byte 0, an 8-bit G
    component stored with sRGB nonlinear encoding in byte 1, and an 8-bit R
    component stored with sRGB nonlinear encoding in byte 2.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8A8_UNORM</code>
</dt>
<dd>
<p>
    A four-component, 32-bit unsigned normalized format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, an 8-bit B
    component in byte 2, and an 8-bit A component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8A8_SNORM</code>
</dt>
<dd>
<p>
    A four-component, 32-bit signed normalized format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, an 8-bit B
    component in byte 2, and an 8-bit A component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8A8_USCALED</code>
</dt>
<dd>
<p>
    A four-component, 32-bit unsigned scaled format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, an 8-bit B
    component in byte 2, and an 8-bit A component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8A8_SSCALED</code>
</dt>
<dd>
<p>
    A four-component, 32-bit signed scaled format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, an 8-bit B
    component in byte 2, and an 8-bit A component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8A8_UINT</code>
</dt>
<dd>
<p>
    A four-component, 32-bit unsigned integer format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, an 8-bit B
    component in byte 2, and an 8-bit A component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8A8_SINT</code>
</dt>
<dd>
<p>
    A four-component, 32-bit signed integer format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, an 8-bit B
    component in byte 2, and an 8-bit A component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R8G8B8A8_SRGB</code>
</dt>
<dd>
<p>
    A four-component, 32-bit unsigned normalized format that has an 8-bit R
    component stored with sRGB nonlinear encoding in byte 0, an 8-bit G
    component stored with sRGB nonlinear encoding in byte 1, an 8-bit B
    component stored with sRGB nonlinear encoding in byte 2, and an 8-bit A
    component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8A8_UNORM</code>
</dt>
<dd>
<p>
    A four-component, 32-bit unsigned normalized format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, an 8-bit R
    component in byte 2, and an 8-bit A component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8A8_SNORM</code>
</dt>
<dd>
<p>
    A four-component, 32-bit signed normalized format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, an 8-bit R
    component in byte 2, and an 8-bit A component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8A8_USCALED</code>
</dt>
<dd>
<p>
    A four-component, 32-bit unsigned scaled format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, an 8-bit R
    component in byte 2, and an 8-bit A component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8A8_SSCALED</code>
</dt>
<dd>
<p>
    A four-component, 32-bit signed scaled format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, an 8-bit R
    component in byte 2, and an 8-bit A component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8A8_UINT</code>
</dt>
<dd>
<p>
    A four-component, 32-bit unsigned integer format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, an 8-bit R
    component in byte 2, and an 8-bit A component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8A8_SINT</code>
</dt>
<dd>
<p>
    A four-component, 32-bit signed integer format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, an 8-bit R
    component in byte 2, and an 8-bit A component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B8G8R8A8_SRGB</code>
</dt>
<dd>
<p>
    A four-component, 32-bit unsigned normalized format that has an 8-bit B
    component stored with sRGB nonlinear encoding in byte 0, an 8-bit G
    component stored with sRGB nonlinear encoding in byte 1, an 8-bit R
    component stored with sRGB nonlinear encoding in byte 2, and an 8-bit A
    component in byte 3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A8B8G8R8_UNORM_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed unsigned normalized format that has an
    8-bit A component in bits 24..31, an 8-bit B component in bits 16..23,
    an 8-bit G component in bits 8..15, and an 8-bit R component in bits
    0..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A8B8G8R8_SNORM_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed signed normalized format that has an
    8-bit A component in bits 24..31, an 8-bit B component in bits 16..23,
    an 8-bit G component in bits 8..15, and an 8-bit R component in bits
    0..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A8B8G8R8_USCALED_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed unsigned scaled integer format that has
    an 8-bit A component in bits 24..31, an 8-bit B component in bits
    16..23, an 8-bit G component in bits 8..15, and an 8-bit R component in
    bits 0..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A8B8G8R8_SSCALED_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed signed scaled integer format that has an
    8-bit A component in bits 24..31, an 8-bit B component in bits 16..23,
    an 8-bit G component in bits 8..15, and an 8-bit R component in bits
    0..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A8B8G8R8_UINT_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed unsigned integer format that has an
    8-bit A component in bits 24..31, an 8-bit B component in bits 16..23,
    an 8-bit G component in bits 8..15, and an 8-bit R component in bits
    0..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A8B8G8R8_SINT_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed signed integer format that has an 8-bit
    A component in bits 24..31, an 8-bit B component in bits 16..23, an
    8-bit G component in bits 8..15, and an 8-bit R component in bits 0..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A8B8G8R8_SRGB_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed unsigned normalized format that has an
    8-bit A component in bits 24..31, an 8-bit B component stored with sRGB
    nonlinear encoding in bits 16..23, an 8-bit G component stored with sRGB
    nonlinear encoding in bits 8..15, and an 8-bit R component stored with
    sRGB nonlinear encoding in bits 0..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A2R10G10B10_UNORM_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed unsigned normalized format that has a
    2-bit A component in bits 30..31, a 10-bit R component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit B component in bits
    0..9.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A2R10G10B10_SNORM_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed signed normalized format that has a
    2-bit A component in bits 30..31, a 10-bit R component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit B component in bits
    0..9.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A2R10G10B10_USCALED_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed unsigned scaled integer format that has
    a 2-bit A component in bits 30..31, a 10-bit R component in bits 20..29,
    a 10-bit G component in bits 10..19, and a 10-bit B component in bits
    0..9.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A2R10G10B10_SSCALED_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed signed scaled integer format that has a
    2-bit A component in bits 30..31, a 10-bit R component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit B component in bits
    0..9.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A2R10G10B10_UINT_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed unsigned integer format that has a 2-bit
    A component in bits 30..31, a 10-bit R component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit B component in bits
    0..9.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A2R10G10B10_SINT_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed signed integer format that has a 2-bit A
    component in bits 30..31, a 10-bit R component in bits 20..29, a 10-bit
    G component in bits 10..19, and a 10-bit B component in bits 0..9.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A2B10G10R10_UNORM_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed unsigned normalized format that has a
    2-bit A component in bits 30..31, a 10-bit B component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit R component in bits
    0..9.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A2B10G10R10_SNORM_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed signed normalized format that has a
    2-bit A component in bits 30..31, a 10-bit B component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit R component in bits
    0..9.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A2B10G10R10_USCALED_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed unsigned scaled integer format that has
    a 2-bit A component in bits 30..31, a 10-bit B component in bits 20..29,
    a 10-bit G component in bits 10..19, and a 10-bit R component in bits
    0..9.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A2B10G10R10_SSCALED_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed signed scaled integer format that has a
    2-bit A component in bits 30..31, a 10-bit B component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit R component in bits
    0..9.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A2B10G10R10_UINT_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed unsigned integer format that has a 2-bit
    A component in bits 30..31, a 10-bit B component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit R component in bits
    0..9.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_A2B10G10R10_SINT_PACK32</code>
</dt>
<dd>
<p>
    A four-component, 32-bit packed signed integer format that has a 2-bit A
    component in bits 30..31, a 10-bit B component in bits 20..29, a 10-bit
    G component in bits 10..19, and a 10-bit R component in bits 0..9.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16_UNORM</code>
</dt>
<dd>
<p>
    A one-component, 16-bit unsigned normalized format that has a single
    16-bit R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16_SNORM</code>
</dt>
<dd>
<p>
    A one-component, 16-bit signed normalized format that has a single
    16-bit R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16_USCALED</code>
</dt>
<dd>
<p>
    A one-component, 16-bit unsigned scaled integer format that has a single
    16-bit R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16_SSCALED</code>
</dt>
<dd>
<p>
    A one-component, 16-bit signed scaled integer format that has a single
    16-bit R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16_UINT</code>
</dt>
<dd>
<p>
    A one-component, 16-bit unsigned integer format that has a single 16-bit
    R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16_SINT</code>
</dt>
<dd>
<p>
    A one-component, 16-bit signed integer format that has a single 16-bit R
    component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16_SFLOAT</code>
</dt>
<dd>
<p>
    A one-component, 16-bit signed floating-point format that has a single
    16-bit R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16_UNORM</code>
</dt>
<dd>
<p>
    A two-component, 32-bit unsigned normalized format that has a 16-bit R
    component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16_SNORM</code>
</dt>
<dd>
<p>
    A two-component, 32-bit signed normalized format that has a 16-bit R
    component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16_USCALED</code>
</dt>
<dd>
<p>
    A two-component, 32-bit unsigned scaled integer format that has a 16-bit
    R component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16_SSCALED</code>
</dt>
<dd>
<p>
    A two-component, 32-bit signed scaled integer format that has a 16-bit R
    component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16_UINT</code>
</dt>
<dd>
<p>
    A two-component, 32-bit unsigned integer format that has a 16-bit R
    component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16_SINT</code>
</dt>
<dd>
<p>
    A two-component, 32-bit signed integer format that has a 16-bit R
    component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16_SFLOAT</code>
</dt>
<dd>
<p>
    A two-component, 32-bit signed floating-point format that has a 16-bit R
    component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16_UNORM</code>
</dt>
<dd>
<p>
    A three-component, 48-bit unsigned normalized format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, and a
    16-bit B component in bytes 4..5.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16_SNORM</code>
</dt>
<dd>
<p>
    A three-component, 48-bit signed normalized format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, and a
    16-bit B component in bytes 4..5.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16_USCALED</code>
</dt>
<dd>
<p>
    A three-component, 48-bit unsigned scaled integer format that has a
    16-bit R component in bytes 0..1, a 16-bit G component in bytes 2..3,
    and a 16-bit B component in bytes 4..5.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16_SSCALED</code>
</dt>
<dd>
<p>
    A three-component, 48-bit signed scaled integer format that has a 16-bit
    R component in bytes 0..1, a 16-bit G component in bytes 2..3, and a
    16-bit B component in bytes 4..5.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16_UINT</code>
</dt>
<dd>
<p>
    A three-component, 48-bit unsigned integer format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, and a
    16-bit B component in bytes 4..5.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16_SINT</code>
</dt>
<dd>
<p>
    A three-component, 48-bit signed integer format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, and a
    16-bit B component in bytes 4..5.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16_SFLOAT</code>
</dt>
<dd>
<p>
    A three-component, 48-bit signed floating-point format that has a 16-bit
    R component in bytes 0..1, a 16-bit G component in bytes 2..3, and a
    16-bit B component in bytes 4..5.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16A16_UNORM</code>
</dt>
<dd>
<p>
    A four-component, 64-bit unsigned normalized format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, a 16-bit B
    component in bytes 4..5, and a 16-bit A component in bytes 6..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16A16_SNORM</code>
</dt>
<dd>
<p>
    A four-component, 64-bit signed normalized format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, a 16-bit B
    component in bytes 4..5, and a 16-bit A component in bytes 6..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16A16_USCALED</code>
</dt>
<dd>
<p>
    A four-component, 64-bit unsigned scaled integer format that has a
    16-bit R component in bytes 0..1, a 16-bit G component in bytes 2..3, a
    16-bit B component in bytes 4..5, and a 16-bit A component in bytes
    6..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16A16_SSCALED</code>
</dt>
<dd>
<p>
    A four-component, 64-bit signed scaled integer format that has a 16-bit
    R component in bytes 0..1, a 16-bit G component in bytes 2..3, a 16-bit
    B component in bytes 4..5, and a 16-bit A component in bytes 6..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16A16_UINT</code>
</dt>
<dd>
<p>
    A four-component, 64-bit unsigned integer format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, a 16-bit B
    component in bytes 4..5, and a 16-bit A component in bytes 6..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16A16_SINT</code>
</dt>
<dd>
<p>
    A four-component, 64-bit signed integer format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, a 16-bit B
    component in bytes 4..5, and a 16-bit A component in bytes 6..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R16G16B16A16_SFLOAT</code>
</dt>
<dd>
<p>
    A four-component, 64-bit signed floating-point format that has a 16-bit
    R component in bytes 0..1, a 16-bit G component in bytes 2..3, a 16-bit
    B component in bytes 4..5, and a 16-bit A component in bytes 6..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R32_UINT</code>
</dt>
<dd>
<p>
    A one-component, 32-bit unsigned integer format that has a single 32-bit
    R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R32_SINT</code>
</dt>
<dd>
<p>
    A one-component, 32-bit signed integer format that has a single 32-bit R
    component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R32_SFLOAT</code>
</dt>
<dd>
<p>
    A one-component, 32-bit signed floating-point format that has a single
    32-bit R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R32G32_UINT</code>
</dt>
<dd>
<p>
    A two-component, 64-bit unsigned integer format that has a 32-bit R
    component in bytes 0..3, and a 32-bit G component in bytes 4..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R32G32_SINT</code>
</dt>
<dd>
<p>
    A two-component, 64-bit signed integer format that has a 32-bit R
    component in bytes 0..3, and a 32-bit G component in bytes 4..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R32G32_SFLOAT</code>
</dt>
<dd>
<p>
    A two-component, 64-bit signed floating-point format that has a 32-bit R
    component in bytes 0..3, and a 32-bit G component in bytes 4..7.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R32G32B32_UINT</code>
</dt>
<dd>
<p>
    A three-component, 96-bit unsigned integer format that has a 32-bit R
    component in bytes 0..3, a 32-bit G component in bytes 4..7, and a
    32-bit B component in bytes 8..11.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R32G32B32_SINT</code>
</dt>
<dd>
<p>
    A three-component, 96-bit signed integer format that has a 32-bit R
    component in bytes 0..3, a 32-bit G component in bytes 4..7, and a
    32-bit B component in bytes 8..11.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R32G32B32_SFLOAT</code>
</dt>
<dd>
<p>
    A three-component, 96-bit signed floating-point format that has a 32-bit
    R component in bytes 0..3, a 32-bit G component in bytes 4..7, and a
    32-bit B component in bytes 8..11.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R32G32B32A32_UINT</code>
</dt>
<dd>
<p>
    A four-component, 128-bit unsigned integer format that has a 32-bit R
    component in bytes 0..3, a 32-bit G component in bytes 4..7, a 32-bit B
    component in bytes 8..11, and a 32-bit A component in bytes 12..15.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R32G32B32A32_SINT</code>
</dt>
<dd>
<p>
    A four-component, 128-bit signed integer format that has a 32-bit R
    component in bytes 0..3, a 32-bit G component in bytes 4..7, a 32-bit B
    component in bytes 8..11, and a 32-bit A component in bytes 12..15.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R32G32B32A32_SFLOAT</code>
</dt>
<dd>
<p>
    A four-component, 128-bit signed floating-point format that has a 32-bit
    R component in bytes 0..3, a 32-bit G component in bytes 4..7, a 32-bit
    B component in bytes 8..11, and a 32-bit A component in bytes 12..15.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R64_UINT</code>
</dt>
<dd>
<p>
    A one-component, 64-bit unsigned integer format that has a single 64-bit
    R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R64_SINT</code>
</dt>
<dd>
<p>
    A one-component, 64-bit signed integer format that has a single 64-bit R
    component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R64_SFLOAT</code>
</dt>
<dd>
<p>
    A one-component, 64-bit signed floating-point format that has a single
    64-bit R component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R64G64_UINT</code>
</dt>
<dd>
<p>
    A two-component, 128-bit unsigned integer format that has a 64-bit R
    component in bytes 0..7, and a 64-bit G component in bytes 8..15.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R64G64_SINT</code>
</dt>
<dd>
<p>
    A two-component, 128-bit signed integer format that has a 64-bit R
    component in bytes 0..7, and a 64-bit G component in bytes 8..15.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R64G64_SFLOAT</code>
</dt>
<dd>
<p>
    A two-component, 128-bit signed floating-point format that has a 64-bit
    R component in bytes 0..7, and a 64-bit G component in bytes 8..15.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R64G64B64_UINT</code>
</dt>
<dd>
<p>
    A three-component, 192-bit unsigned integer format that has a 64-bit R
    component in bytes 0..7, a 64-bit G component in bytes 8..15, and a
    64-bit B component in bytes 16..23.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R64G64B64_SINT</code>
</dt>
<dd>
<p>
    A three-component, 192-bit signed integer format that has a 64-bit R
    component in bytes 0..7, a 64-bit G component in bytes 8..15, and a
    64-bit B component in bytes 16..23.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R64G64B64_SFLOAT</code>
</dt>
<dd>
<p>
    A three-component, 192-bit signed floating-point format that has a
    64-bit R component in bytes 0..7, a 64-bit G component in bytes 8..15,
    and a 64-bit B component in bytes 16..23.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R64G64B64A64_UINT</code>
</dt>
<dd>
<p>
    A four-component, 256-bit unsigned integer format that has a 64-bit R
    component in bytes 0..7, a 64-bit G component in bytes 8..15, a 64-bit B
    component in bytes 16..23, and a 64-bit A component in bytes 24..31.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R64G64B64A64_SINT</code>
</dt>
<dd>
<p>
    A four-component, 256-bit signed integer format that has a 64-bit R
    component in bytes 0..7, a 64-bit G component in bytes 8..15, a 64-bit B
    component in bytes 16..23, and a 64-bit A component in bytes 24..31.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_R64G64B64A64_SFLOAT</code>
</dt>
<dd>
<p>
    A four-component, 256-bit signed floating-point format that has a 64-bit
    R component in bytes 0..7, a 64-bit G component in bytes 8..15, a 64-bit
    B component in bytes 16..23, and a 64-bit A component in bytes 24..31.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_B10G11R11_UFLOAT_PACK32</code>
</dt>
<dd>
<p>
    A three-component, 32-bit packed unsigned floating-point format that has
    a 10-bit B component in bits 22..31, an 11-bit G component in bits
    11..21, an 11-bit R component in bits 0..10.
    See <a href="#fundamentals-fp10">[fundamentals-fp10]</a> and <a href="#fundamentals-fp11">[fundamentals-fp11]</a>.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code>
</dt>
<dd>
<p>
    A three-component, 32-bit packed unsigned floating-point format that has
    a 5-bit shared exponent in bits 27..31, a 9-bit B component mantissa in
    bits 18..26, a 9-bit G component mantissa in bits 9..17, and a 9-bit R
    component mantissa in bits 0..8.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_D16_UNORM</code>
</dt>
<dd>
<p>
    A one-component, 16-bit unsigned normalized format that has a single
    16-bit depth component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_X8_D24_UNORM_PACK32</code>
</dt>
<dd>
<p>
    A two-component, 32-bit format that has 24 unsigned normalized bits in
    the depth component and, <span role="normative">optionally</span>, 8 bits that are unused.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_D32_SFLOAT</code>
</dt>
<dd>
<p>
    A one-component, 32-bit signed floating-point format that has 32-bits in
    the depth component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_S8_UINT</code>
</dt>
<dd>
<p>
    A one-component, 8-bit unsigned integer format that has 8-bits in the
    stencil component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_D16_UNORM_S8_UINT</code>
</dt>
<dd>
<p>
    A two-component, 24-bit format that has 16 unsigned normalized bits in
    the depth component and 8 unsigned integer bits in the stencil
    component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_D24_UNORM_S8_UINT</code>
</dt>
<dd>
<p>
    A two-component, 32-bit packed format that has 8 unsigned integer bits
    in the stencil component, and 24 unsigned normalized bits in the depth
    component.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_D32_SFLOAT_S8_UINT</code>
</dt>
<dd>
<p>
    A two-component format that has 32 signed float bits in the depth
    component and 8 unsigned integer bits in the stencil component.
    There are <span role="normative">optionally</span> 24-bits that are unused.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC1_RGB_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A three-component, block-compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data.
    This format has no alpha and is considered opaque.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC1_RGB_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A three-component, block-compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data with sRGB nonlinear encoding.
    This format has no alpha and is considered opaque.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, block-compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data, and provides 1 bit of alpha.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, block-compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data with sRGB nonlinear encoding, and provides 1 bit of alpha.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC2_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with the first 64 bits encoding alpha values followed by 64 bits
    encoding RGB values.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC2_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with the first 64 bits encoding alpha values followed by 64 bits
    encoding RGB values with sRGB nonlinear encoding.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC3_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with the first 64 bits encoding alpha values followed by 64 bits
    encoding RGB values.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC3_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with the first 64 bits encoding alpha values followed by 64 bits
    encoding RGB values with sRGB nonlinear encoding.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC4_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A one-component, block-compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized red texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC4_SNORM_BLOCK</code>
</dt>
<dd>
<p>
    A one-component, block-compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of signed normalized red texel data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC5_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A two-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RG texel data
    with the first 64 bits encoding red values followed by 64 bits encoding
    green values.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC5_SNORM_BLOCK</code>
</dt>
<dd>
<p>
    A two-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of signed normalized RG texel data
    with the first 64 bits encoding red values followed by 64 bits encoding
    green values.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC6H_UFLOAT_BLOCK</code>
</dt>
<dd>
<p>
    A three-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned floating-point RGB texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC6H_SFLOAT_BLOCK</code>
</dt>
<dd>
<p>
    A three-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of signed floating-point RGB texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC7_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_BC7_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A three-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data.
    This format has no alpha and is considered opaque.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A three-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data with sRGB nonlinear encoding.
    This format has no alpha and is considered opaque.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data, and provides 1 bit of alpha.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data with sRGB nonlinear encoding, and provides 1 bit of alpha.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ETC2 compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with the first 64 bits encoding alpha values followed by 64 bits
    encoding RGB values.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with the first 64 bits encoding alpha values followed by 64 bits
    encoding RGB values with sRGB nonlinear encoding applied.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_EAC_R11_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A one-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized red texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_EAC_R11_SNORM_BLOCK</code>
</dt>
<dd>
<p>
    A one-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of signed normalized red texel data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A two-component, ETC2 compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RG texel data
    with the first 64 bits encoding red values followed by 64 bits encoding
    green values.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code>
</dt>
<dd>
<p>
    A two-component, ETC2 compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of signed normalized RG texel data
    with the first 64 bits encoding red values followed by 64 bits encoding
    green values.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 5x4 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 5x4 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 5x5 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 5x5 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 6x5 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 6x5 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 6x6 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 6x6 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes an 8x5 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes an 8x5 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes an 8x6 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes an 8x6 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes an 8x8 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes an 8x8 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x5 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x5 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x6 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x6 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x8 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x8 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x10 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x10 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 12x10 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 12x10 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 12x12 rectangle of unsigned normalized RGBA texel
    data.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code>
</dt>
<dd>
<p>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 12x12 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</p>
</dd>
</dl></div>
<div class="sect4">
<h5 id="features-formats-packed">Packed Formats</h5>
<div class="paragraph"><p>For the purposes of address alignment when accessing buffer memory
containing vertex attribute or texel data, the following formats are
considered <em>packed</em> - whole texels or attributes are stored in a single data
element, rather than individual components occupying a single data element:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="#features-formats-packed-8-bit">Packed into 8-bit data types</a>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_FORMAT_R4G4_UNORM_PACK8</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
<a href="#features-formats-packed-16-bit">Packed into 16-bit data types</a>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_FORMAT_R4G4B4A4_UNORM_PACK16</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_B4G4R4A4_UNORM_PACK16</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_R5G6B5_UNORM_PACK16</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_B5G6R5_UNORM_PACK16</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_R5G5B5A1_UNORM_PACK16</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_B5G5R5A1_UNORM_PACK16</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A1R5G5B5_UNORM_PACK16</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
<a href="#features-formats-packed-32-bit">Packed into 32-bit data types</a>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_FORMAT_A8B8G8R8_UNORM_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A8B8G8R8_SNORM_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A8B8G8R8_USCALED_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A8B8G8R8_SSCALED_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A8B8G8R8_UINT_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A8B8G8R8_SINT_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A8B8G8R8_SRGB_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A2R10G10B10_UNORM_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A2R10G10B10_SNORM_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A2R10G10B10_USCALED_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A2R10G10B10_SSCALED_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A2R10G10B10_UINT_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A2R10G10B10_SINT_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A2B10G10R10_UNORM_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A2B10G10R10_SNORM_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A2B10G10R10_USCALED_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A2B10G10R10_SSCALED_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A2B10G10R10_UINT_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_A2B10G10R10_SINT_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_B10G11R11_UFLOAT_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_X8_D24_UNORM_PACK32</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_identification_of_formats">Identification of Formats</h5>
<div class="paragraph"><p>A &#8220;format&#8221; is represented by a single enum value.
The name of a format is usually built up by using the following pattern:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>etext:VK_FORMAT_{component-format|compression-scheme}_{numeric-format}</pre>
</div></div>
<div class="paragraph"><p>The component-format specifies either the size of the R, G, B, and A
components (if they are present) in the case of a color format, or the size
of the depth (D) and stencil (S) components (if they are present) in the
case of a depth/stencil format (see below).
An X indicates a component that is unused, but <span role="normative">may</span> be present for padding.</p></div>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all" id="features-formats-numericformat"
style="
width:95%;
">
<caption class="title">Table 33. Interpretation of Numeric Format</caption>
<col style="width:16%;">
<col style="width:83%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Numeric format </th>
<th class="tableblock halign-left valign-top" > Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>UNORM</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The components are unsigned normalized values in the range <span class="eq">[0,1]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>SNORM</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The components are signed normalized values in the range <span class="eq">[-1,1]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>USCALED</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The components are unsigned integer values that get converted to floating-point in the range [0,2<sup>n</sup>-1]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>SSCALED</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The components are signed integer values that get converted to floating-point in the range [-2<sup>n-1</sup>,2<sup>n-1</sup>-1]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>UINT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The components are unsigned integer values in the range [0,2<sup>n</sup>-1]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>SINT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The components are signed integer values in the range [-2<sup>n-1</sup>,2<sup>n-1</sup>-1]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>UFLOAT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The components are unsigned floating-point numbers (used by packed, shared exponent, and some compressed formats)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>SFLOAT</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The components are signed floating-point numbers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>SRGB</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The R, G, and B components are unsigned normalized values that represent values using sRGB nonlinear encoding, while the A component (if one exists) is a regular unsigned normalized value</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The suffix <code>_PACKnn</code> indicates that the format is packed into an
underlying type with nn bits.</p></div>
<div class="paragraph"><p>The suffix <code>_BLOCK</code> indicates that the format is a block-compressed
format, with the representation of multiple pixels encoded interdependently
within a region.</p></div>
<table class="tableblock frame-all grid-all" id="features-formats-compressionscheme"
style="
width:95%;
">
<caption class="title">Table 34. Interpretation of Compression Scheme</caption>
<col style="width:16%;">
<col style="width:83%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Compression scheme </th>
<th class="tableblock halign-left valign-top" > Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>BC</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Block Compression. See <a href="#appendix-compressedtex-bc">[appendix-compressedtex-bc]</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>ETC2</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Ericsson Texture Compression. See <a href="#appendix-compressedtex-etc2">[appendix-compressedtex-etc2]</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>EAC</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ETC2 Alpha Compression. See <a href="#appendix-compressedtex-etc2">[appendix-compressedtex-etc2]</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>ASTC</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Adaptive Scalable Texture Compression (LDR Profile). See <a href="#appendix-compressedtex-astc">[appendix-compressedtex-astc]</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_representation">Representation</h5>
<div class="paragraph"><p>Color formats <span role="normative">must</span> be represented in memory in exactly the form indicated
by the format&#8217;s name.
This means that promoting one format to another with more bits per component
and/or additional components <span role="normative">must</span> not occur for color formats.
Depth/stencil formats have more relaxed requirements as discussed
<a href="#features-formats-depth-stencil">below</a>.
Each format has an <em>element size</em>, the number of bytes used to stored one
element or one compressed block, with the value of the element size listed
in <code><a href="#VkFormat">VkFormat</a></code>.</p></div>
<div class="paragraph"><p>The representation of non-packed formats is that the first component
specified in the name of the format is in the lowest memory addresses and
the last component specified is in the highest memory addresses.
See <a href="#features-formats-non-packed">Byte mappings for non-packed/compressed color formats</a>.
The in-memory ordering of bytes within a component is determined by the host
endianness.</p></div>
<table class="tableblock frame-all grid-all" id="features-formats-non-packed"
style="
width:100%;
">
<caption class="title">Table 35. Byte mappings for non-packed/compressed color formats</caption>
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:58%;">
<thead>
<tr>
<th class="tableblock halign-right valign-top" >0 </th>
<th class="tableblock halign-right valign-top" >1 </th>
<th class="tableblock halign-right valign-top" >2 </th>
<th class="tableblock halign-right valign-top" >3 </th>
<th class="tableblock halign-right valign-top" >4 </th>
<th class="tableblock halign-right valign-top" >5 </th>
<th class="tableblock halign-right valign-top" >6 </th>
<th class="tableblock halign-right valign-top" >7 </th>
<th class="tableblock halign-right valign-top" >8 </th>
<th class="tableblock halign-right valign-top" >9 </th>
<th class="tableblock halign-right valign-top" >10 </th>
<th class="tableblock halign-right valign-top" >11 </th>
<th class="tableblock halign-right valign-top" >12 </th>
<th class="tableblock halign-right valign-top" >13 </th>
<th class="tableblock halign-right valign-top" >14 </th>
<th class="tableblock halign-right valign-top" >15 </th>
<th class="tableblock halign-center valign-top" > &#x2190; Byte</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R</p></td>
<td class="tableblock halign-right valign-top" colspan="16" ><p class="tableblock"><strong><code>VK_FORMAT_R8_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G</p></td>
<td class="tableblock halign-right valign-top" colspan="15" ><p class="tableblock"><strong><code>VK_FORMAT_R8G8_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B</p></td>
<td class="tableblock halign-right valign-top" colspan="14" ><p class="tableblock"><strong><code>VK_FORMAT_R8G8B8_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R</p></td>
<td class="tableblock halign-right valign-top" colspan="14" ><p class="tableblock"><strong><code>VK_FORMAT_B8G8R8_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A</p></td>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><strong><code>VK_FORMAT_R8G8B8A8_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A</p></td>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><strong><code>VK_FORMAT_B8G8R8A8_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2" ><p class="tableblock">R</p></td>
<td class="tableblock halign-right valign-top" colspan="15" ><p class="tableblock"><strong><code>VK_FORMAT_R16_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2" ><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="2" ><p class="tableblock">G</p></td>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><strong><code>VK_FORMAT_R16G16_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2" ><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="2" ><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top" colspan="2" ><p class="tableblock">B</p></td>
<td class="tableblock halign-right valign-top" colspan="11" ><p class="tableblock"><strong><code>VK_FORMAT_R16G16B16_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2" ><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="2" ><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top" colspan="2" ><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top" colspan="2" ><p class="tableblock">A</p></td>
<td class="tableblock halign-right valign-top" colspan="9" ><p class="tableblock"><strong><code>VK_FORMAT_R16G16B16A16_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="4" ><p class="tableblock">R</p></td>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><strong><code>VK_FORMAT_R32_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="4" ><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="4" ><p class="tableblock">G</p></td>
<td class="tableblock halign-right valign-top" colspan="9" ><p class="tableblock"><strong><code>VK_FORMAT_R32G32_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="4" ><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="4" ><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top" colspan="4" ><p class="tableblock">B</p></td>
<td class="tableblock halign-right valign-top" colspan="5" ><p class="tableblock"><strong><code>VK_FORMAT_R32G32B32_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="4" ><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="4" ><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top" colspan="4" ><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top" colspan="4" ><p class="tableblock">A</p></td>
<td class="tableblock halign-right valign-top" ><p class="tableblock"><strong><code>VK_FORMAT_R32G32B32A32_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="8" ><p class="tableblock">R</p></td>
<td class="tableblock halign-right valign-top" colspan="9" ><p class="tableblock"><strong><code>VK_FORMAT_R64_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="8" ><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="8" ><p class="tableblock">G</p></td>
<td class="tableblock halign-right valign-top" ><p class="tableblock"><strong><code>VK_FORMAT_R64G64_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="17" ><p class="tableblock"><strong><code>VK_FORMAT_R64G64B64_*</code> as <code>VK_FORMAT_R64G64_*</code> but with B in bytes 16-23</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="17" ><p class="tableblock"><strong><code>VK_FORMAT_R64G64B64A64_*</code> as <code>VK_FORMAT_R64G64B64_*</code> but with A in bytes 24-31</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Packed formats store multiple components within one underlying type.
The bit representation is that the first component specified in the name of
the format is in the most-significant bits and the last component specified
is in the least-significant bits of the underlying type.
The in-memory ordering of bytes comprising the underlying type is determined
by the host endianness.</p></div>
<table class="tableblock frame-all grid-all" id="features-formats-packed-8-bit"
style="
width:80%;
">
<caption class="title">Table 36. Bit mappings for packed 8-bit formats</caption>
<col style="width:75%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<thead>
<tr>
<th class="tableblock halign-center valign-top" > Bit &#x2192; </th>
<th class="tableblock halign-right valign-top" > 7 </th>
<th class="tableblock halign-right valign-top" > 6 </th>
<th class="tableblock halign-right valign-top" > 5 </th>
<th class="tableblock halign-right valign-top" > 4 </th>
<th class="tableblock halign-right valign-top" > 3 </th>
<th class="tableblock halign-right valign-top" > 2 </th>
<th class="tableblock halign-right valign-top" > 1 </th>
<th class="tableblock halign-right valign-top" > 0</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock header"><code>VK_FORMAT_R4G4_UNORM_PACK8</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>0</sub></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" id="features-formats-packed-16-bit"
style="
width:100%;
">
<caption class="title">Table 37. Bit mappings for packed 16-bit formats</caption>
<col style="width:52%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<col style="width:2%;">
<thead>
<tr>
<th class="tableblock halign-center valign-top" > Bit &#x2192; </th>
<th class="tableblock halign-right valign-top" > 15 </th>
<th class="tableblock halign-right valign-top" > 14 </th>
<th class="tableblock halign-right valign-top" > 13 </th>
<th class="tableblock halign-right valign-top" > 12 </th>
<th class="tableblock halign-right valign-top" > 11 </th>
<th class="tableblock halign-right valign-top" > 10 </th>
<th class="tableblock halign-right valign-top" > 9 </th>
<th class="tableblock halign-right valign-top" > 8 </th>
<th class="tableblock halign-right valign-top" > 7 </th>
<th class="tableblock halign-right valign-top" > 6 </th>
<th class="tableblock halign-right valign-top" > 5 </th>
<th class="tableblock halign-right valign-top" > 4 </th>
<th class="tableblock halign-right valign-top" > 3 </th>
<th class="tableblock halign-right valign-top" > 2 </th>
<th class="tableblock halign-right valign-top" > 1 </th>
<th class="tableblock halign-right valign-top" > 0</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock header"><code>VK_FORMAT_R4G4B4A4_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>0</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock header"><code>VK_FORMAT_B4G4R4A4_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>0</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock header"><code>VK_FORMAT_R5G6B5_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>0</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock header"><code>VK_FORMAT_B5G6R5_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>0</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock header"><code>VK_FORMAT_R5G5B5A1_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>0</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock header"><code>VK_FORMAT_B5G5R5A1_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>0</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock header"><code>VK_FORMAT_A1R5G5B5_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>0</sub></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-rows" id="features-formats-packed-32-bit"
style="
width:100%;
">
<caption class="title">Table 38. Bit mappings for packed 32-bit formats</caption>
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<col style="width:3%;">
<thead>
<tr>
<th class="tableblock halign-right valign-top" >31 </th>
<th class="tableblock halign-right valign-top" >30 </th>
<th class="tableblock halign-right valign-top" >29 </th>
<th class="tableblock halign-right valign-top" >28 </th>
<th class="tableblock halign-right valign-top" >27 </th>
<th class="tableblock halign-right valign-top" >26 </th>
<th class="tableblock halign-right valign-top" >25 </th>
<th class="tableblock halign-right valign-top" >24 </th>
<th class="tableblock halign-right valign-top" >23 </th>
<th class="tableblock halign-right valign-top" >22 </th>
<th class="tableblock halign-right valign-top" >21 </th>
<th class="tableblock halign-right valign-top" >20 </th>
<th class="tableblock halign-right valign-top" >19 </th>
<th class="tableblock halign-right valign-top" >18 </th>
<th class="tableblock halign-right valign-top" >17 </th>
<th class="tableblock halign-right valign-top" >16</th>
<th class="tableblock halign-right valign-top" >15 </th>
<th class="tableblock halign-right valign-top" >14 </th>
<th class="tableblock halign-right valign-top" >13 </th>
<th class="tableblock halign-right valign-top" >12 </th>
<th class="tableblock halign-right valign-top" >11 </th>
<th class="tableblock halign-right valign-top" >10 </th>
<th class="tableblock halign-right valign-top" >9 </th>
<th class="tableblock halign-right valign-top" >8 </th>
<th class="tableblock halign-right valign-top" >7 </th>
<th class="tableblock halign-right valign-top" >6 </th>
<th class="tableblock halign-right valign-top" >5 </th>
<th class="tableblock halign-right valign-top" >4 </th>
<th class="tableblock halign-right valign-top" >3 </th>
<th class="tableblock halign-right valign-top" >2 </th>
<th class="tableblock halign-right valign-top" >1 </th>
<th class="tableblock halign-right valign-top" >0</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="32" ><p class="tableblock"><strong><code>VK_FORMAT_A8B8G8R8_*_PACK32</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>0</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="32" ><p class="tableblock"><strong><code>VK_FORMAT_A2R10G10B10_*_PACK32</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>9</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>8</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>9</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>8</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>9</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>8</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>0</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="32" ><p class="tableblock"><strong><code>VK_FORMAT_A2B10G10R10_*_PACK32</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">A<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>9</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>8</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>9</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>8</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>9</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>8</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>0</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="32" ><p class="tableblock"><strong><code>VK_FORMAT_B10G11R11_UFLOAT_PACK32</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>9</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>8</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>10</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>9</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>8</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>10</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>9</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>8</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>0</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="32" ><p class="tableblock"><strong><code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">E<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">E<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">E<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">E<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">E<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>8</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">B<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>8</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">G<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>8</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">R<sub>0</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="32" ><p class="tableblock"><strong><code>VK_FORMAT_X8_D24_UNORM_PACK32</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">X<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">X<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">X<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">X<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">X<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">X<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">X<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">X<sub>0</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>23</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>22</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>21</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>20</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>19</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>18</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>17</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>16</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>15</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>14</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>13</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>12</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>11</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>10</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>9</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>8</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>7</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>6</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>5</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>4</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>3</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>2</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>1</sub></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">D<sub>0</sub></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="features-formats-depth-stencil">Depth/Stencil Formats</h5>
<div class="paragraph"><p>Depth/stencil formats are considered opaque and need not be stored in the
exact number of bits per texel or component ordering indicated by the format
enum.
However, implementations <span role="normative">must</span> not substitute a different depth or stencil
precision than that described in the format (e.g. D16 <span role="normative">must</span> not be
implemented as D24 or D32).</p></div>
</div>
<div class="sect4">
<h5 id="features-formats-compatibility-classes">Format Compatibility Classes</h5>
<div class="paragraph"><p>Uncompressed color formats are <em>compatible</em> with each other if they occupy
the same number of bits per data element.
Compressed color formats are compatible with each other if the only
difference between them is the numerical type of the uncompressed pixels
(e.g. signed vs.
unsigned, or SRGB vs.
UNORM encoding).
Each depth/stencil format is only compatible with itself.
In the <a href="#features-formats-compatibility">following</a> table, all the formats
in the same row are compatible.</p></div>
<table class="tableblock frame-all grid-all" id="features-formats-compatibility"
style="
width:80%;
">
<caption class="title">Table 39. Compatible formats</caption>
<col style="width:28%;">
<col style="width:71%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Class           </th>
<th class="tableblock halign-left valign-top" > Formats</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">8-bit</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R4G4_UNORM_PACK8</code>,<br>
                    <code>VK_FORMAT_R8_UNORM</code>,<br>
                    <code>VK_FORMAT_R8_SNORM</code>,<br>
                    <code>VK_FORMAT_R8_USCALED</code>,<br>
                    <code>VK_FORMAT_R8_SSCALED</code>,<br>
                    <code>VK_FORMAT_R8_UINT</code>,<br>
                    <code>VK_FORMAT_R8_SINT</code>,<br>
                    <code>VK_FORMAT_R8_SRGB</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">16-bit</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R4G4B4A4_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_B4G4R4A4_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_R5G6B5_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_B5G6R5_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_R5G5B5A1_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_B5G5R5A1_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_A1R5G5B5_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_R8G8_UNORM</code>,<br>
                    <code>VK_FORMAT_R8G8_SNORM</code>,<br>
                    <code>VK_FORMAT_R8G8_USCALED</code>,<br>
                    <code>VK_FORMAT_R8G8_SSCALED</code>,<br>
                    <code>VK_FORMAT_R8G8_UINT</code>,<br>
                    <code>VK_FORMAT_R8G8_SINT</code>,<br>
                    <code>VK_FORMAT_R8G8_SRGB</code>,<br>
                    <code>VK_FORMAT_R16_UNORM</code>,<br>
                    <code>VK_FORMAT_R16_SNORM</code>,<br>
                    <code>VK_FORMAT_R16_USCALED</code>,<br>
                    <code>VK_FORMAT_R16_SSCALED</code>,<br>
                    <code>VK_FORMAT_R16_UINT</code>,<br>
                    <code>VK_FORMAT_R16_SINT</code>,<br>
                    <code>VK_FORMAT_R16_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">24-bit</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8_UNORM</code>,<br>
                    <code>VK_FORMAT_R8G8B8_SNORM</code>,<br>
                    <code>VK_FORMAT_R8G8B8_USCALED</code>,<br>
                    <code>VK_FORMAT_R8G8B8_SSCALED</code>,<br>
                    <code>VK_FORMAT_R8G8B8_UINT</code>,<br>
                    <code>VK_FORMAT_R8G8B8_SINT</code>,<br>
                    <code>VK_FORMAT_R8G8B8_SRGB</code>,<br>
                    <code>VK_FORMAT_B8G8R8_UNORM</code>,<br>
                    <code>VK_FORMAT_B8G8R8_SNORM</code>,<br>
                    <code>VK_FORMAT_B8G8R8_USCALED</code>,<br>
                    <code>VK_FORMAT_B8G8R8_SSCALED</code>,<br>
                    <code>VK_FORMAT_B8G8R8_UINT</code>,<br>
                    <code>VK_FORMAT_B8G8R8_SINT</code>,<br>
                    <code>VK_FORMAT_B8G8R8_SRGB</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">32-bit</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_UNORM</code>,<br>
                    <code>VK_FORMAT_R8G8B8A8_SNORM</code>,<br>
                    <code>VK_FORMAT_R8G8B8A8_USCALED</code>,<br>
                    <code>VK_FORMAT_R8G8B8A8_SSCALED</code>,<br>
                    <code>VK_FORMAT_R8G8B8A8_UINT</code>,<br>
                    <code>VK_FORMAT_R8G8B8A8_SINT</code>,<br>
                    <code>VK_FORMAT_R8G8B8A8_SRGB</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_UNORM</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_SNORM</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_USCALED</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_SSCALED</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_UINT</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_SINT</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_SRGB</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_UNORM_PACK32</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_SNORM_PACK32</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_USCALED_PACK32</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_SSCALED_PACK32</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_UINT_PACK32</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_SINT_PACK32</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_SRGB_PACK32</code>,<br>
                    <code>VK_FORMAT_A2R10G10B10_UNORM_PACK32</code>,<br>
                    <code>VK_FORMAT_A2R10G10B10_SNORM_PACK32</code>,<br>
                    <code>VK_FORMAT_A2R10G10B10_USCALED_PACK32</code>,<br>
                    <code>VK_FORMAT_A2R10G10B10_SSCALED_PACK32</code>,<br>
                    <code>VK_FORMAT_A2R10G10B10_UINT_PACK32</code>,<br>
                    <code>VK_FORMAT_A2R10G10B10_SINT_PACK32</code>,<br>
                    <code>VK_FORMAT_A2B10G10R10_UNORM_PACK32</code>,<br>
                    <code>VK_FORMAT_A2B10G10R10_SNORM_PACK32</code>,<br>
                    <code>VK_FORMAT_A2B10G10R10_USCALED_PACK32</code>,<br>
                    <code>VK_FORMAT_A2B10G10R10_SSCALED_PACK32</code>,<br>
                    <code>VK_FORMAT_A2B10G10R10_UINT_PACK32</code>,<br>
                    <code>VK_FORMAT_A2B10G10R10_SINT_PACK32</code>,<br>
                    <code>VK_FORMAT_R16G16_UNORM</code>,<br>
                    <code>VK_FORMAT_R16G16_SNORM</code>,<br>
                    <code>VK_FORMAT_R16G16_USCALED</code>,<br>
                    <code>VK_FORMAT_R16G16_SSCALED</code>,<br>
                    <code>VK_FORMAT_R16G16_UINT</code>,<br>
                    <code>VK_FORMAT_R16G16_SINT</code>,<br>
                    <code>VK_FORMAT_R16G16_SFLOAT</code>,<br>
                    <code>VK_FORMAT_R32_UINT</code>,<br>
                    <code>VK_FORMAT_R32_SINT</code>,<br>
                    <code>VK_FORMAT_R32_SFLOAT</code>,<br>
                    <code>VK_FORMAT_B10G11R11_UFLOAT_PACK32</code>,<br>
                    <code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">48-bit</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16_UNORM</code>,<br>
                    <code>VK_FORMAT_R16G16B16_SNORM</code>,<br>
                    <code>VK_FORMAT_R16G16B16_USCALED</code>,<br>
                    <code>VK_FORMAT_R16G16B16_SSCALED</code>,<br>
                    <code>VK_FORMAT_R16G16B16_UINT</code>,<br>
                    <code>VK_FORMAT_R16G16B16_SINT</code>,<br>
                    <code>VK_FORMAT_R16G16B16_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">64-bit</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_UNORM</code>,<br>
                    <code>VK_FORMAT_R16G16B16A16_SNORM</code>,<br>
                    <code>VK_FORMAT_R16G16B16A16_USCALED</code>,<br>
                    <code>VK_FORMAT_R16G16B16A16_SSCALED</code>,<br>
                    <code>VK_FORMAT_R16G16B16A16_UINT</code>,<br>
                    <code>VK_FORMAT_R16G16B16A16_SINT</code>,<br>
                    <code>VK_FORMAT_R16G16B16A16_SFLOAT</code>,<br>
                    <code>VK_FORMAT_R32G32_UINT</code>,<br>
                    <code>VK_FORMAT_R32G32_SINT</code>,<br>
                    <code>VK_FORMAT_R32G32_SFLOAT</code>,<br>
                    <code>VK_FORMAT_R64_UINT</code>,<br>
                    <code>VK_FORMAT_R64_SINT</code>,<br>
                    <code>VK_FORMAT_R64_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">96-bit</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32B32_UINT</code>,<br>
                    <code>VK_FORMAT_R32G32B32_SINT</code>,<br>
                    <code>VK_FORMAT_R32G32B32_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">128-bit</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_UINT</code>,<br>
                    <code>VK_FORMAT_R32G32B32A32_SINT</code>,<br>
                    <code>VK_FORMAT_R32G32B32A32_SFLOAT</code>,<br>
                    <code>VK_FORMAT_R64G64_UINT</code>,<br>
                    <code>VK_FORMAT_R64G64_SINT</code>,<br>
                    <code>VK_FORMAT_R64G64_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">192-bit</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64G64B64_UINT</code>,<br>
                    <code>VK_FORMAT_R64G64B64_SINT</code>,<br>
                    <code>VK_FORMAT_R64G64B64_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">256-bit</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64G64B64A64_UINT</code>,<br>
                    <code>VK_FORMAT_R64G64B64A64_SINT</code>,<br>
                    <code>VK_FORMAT_R64G64B64A64_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC1_RGB</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC1_RGB_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC1_RGB_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC1_RGBA</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC2</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC2_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC2_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC3</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC3_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC3_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC4_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC4_SNORM_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC5</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC5_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC5_SNORM_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC6H</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC6H_UFLOAT_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC6H_SFLOAT_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC7</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC7_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC7_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ETC2_RGB</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ETC2_RGBA</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ETC2_EAC_RGBA</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">EAC_R</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_EAC_R11_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_EAC_R11_SNORM_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">EAC_RG</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_4x4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_5x4</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_5x5</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_6x5</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_6x6</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_8x5</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_8x6</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_8x8</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_10x5</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_10x6</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_10x8</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_10x10</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_12x10</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ASTC_12x12</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">D16</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_D16_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">D24</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_X8_D24_UNORM_PACK32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">D32</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_D32_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">S8</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_S8_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">D16S8</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_D16_UNORM_S8_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">D24S8</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_D24_UNORM_S8_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">D32S8</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_D32_SFLOAT_S8_UINT</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="features-formats-properties">31.3.2. Format Properties</h4>
<div class="paragraph"><p>To query supported format features which are properties of the physical
device, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceFormatProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceFormatProperties</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">VkFormat</span>                                    format<span style="color: #990000">,</span>
    VkFormatProperties<span style="color: #990000">*</span>                         pFormatProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device from which to query the
    format properties.
</p>
</li>
<li>
<p>
<code>format</code> is the format whose properties are queried.
</p>
</li>
<li>
<p>
<code>pFormatProperties</code> is a pointer to a <code><a href="#VkFormatProperties">VkFormatProperties</a></code>
    structure in which physical device properties for <code>format</code> are
    returned.
</p>
</li>
</ul></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>format</code> <span role="normative">must</span> be a valid <code><a href="#VkFormat">VkFormat</a></code> value
</p>
</li>
<li>
<p>
<code>pFormatProperties</code> <span role="normative">must</span> be a pointer to a <code>VkFormatProperties</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceLimits</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkFormatProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkFormatProperties</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkFormatFeatureFlags</span>    linearTilingFeatures<span style="color: #990000">;</span>
    <span style="color: #008080">VkFormatFeatureFlags</span>    optimalTilingFeatures<span style="color: #990000">;</span>
    <span style="color: #008080">VkFormatFeatureFlags</span>    bufferFeatures<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkFormatProperties<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>linearTilingFeatures</code> describes the features supported by
    <code>VK_IMAGE_TILING_LINEAR</code>.
</p>
</li>
<li>
<p>
<code>optimalTilingFeatures</code> describes the features supported by
    <code>VK_IMAGE_TILING_OPTIMAL</code>.
</p>
</li>
<li>
<p>
<code>bufferFeatures</code> describes the features supported by buffers.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Supported features are described as a set of <code><a href="#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a></code>:</p></div>
<div class="listingblock">
<a id="VkFormatFeatureFlagBits"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkFormatFeatureFlagBits <span style="color: #FF0000">{</span>
    VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000001</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000002</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000004</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000008</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000010</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000020</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000040</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000080</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000100</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000200</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_BLIT_SRC_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000400</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_BLIT_DST_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00000800</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT <span style="color: #990000">=</span> <span style="color: #993399">0x00001000</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00004000</span><span style="color: #990000">,</span>
    VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR <span style="color: #990000">=</span> <span style="color: #993399">0x00008000</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkFormatFeatureFlagBits<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The <code>linearTilingFeatures</code> and <code>optimalTilingFeatures</code> members of
the <code>VkFormatProperties</code> structure describe what features are supported
by <code>VK_IMAGE_TILING_LINEAR</code> and <code>VK_IMAGE_TILING_OPTIMAL</code> images,
respectively.</p></div>
<div class="paragraph"><p>The following bits <span role="normative">may</span> be set in <code>linearTilingFeatures</code> and
<code>optimalTilingFeatures</code>, indicating they are supported by images or
image views created with the queried
<code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>::<code>format</code>:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>
</dt>
<dd>
<p>
    <code>VkImageView</code> <span role="normative">can</span> be sampled from.
    See <a href="#descriptorsets-sampledimage">sampled images</a> section.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code>
</dt>
<dd>
<p>
    <code>VkImageView</code> <span role="normative">can</span> be used as storage image.
    See <a href="#descriptorsets-storageimage">storage images</a> section.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code>
</dt>
<dd>
<p>
    <code>VkImageView</code> <span role="normative">can</span> be used as storage image that supports atomic
    operations.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>
</dt>
<dd>
<p>
    <code>VkImageView</code> <span role="normative">can</span> be used as a framebuffer color attachment and as
    an input attachment.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code>
</dt>
<dd>
<p>
    <code>VkImageView</code> <span role="normative">can</span> be used as a framebuffer color attachment that
    supports blending and as an input attachment.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>
</dt>
<dd>
<p>
    <code>VkImageView</code> <span role="normative">can</span> be used as a framebuffer depth/stencil attachment
    and as an input attachment.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code>
</dt>
<dd>
<p>
    <code>VkImage</code> <span role="normative">can</span> be used as <code>srcImage</code> for the
    <code>vkCmdBlitImage</code> command.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code>
</dt>
<dd>
<p>
    <code>VkImage</code> <span role="normative">can</span> be used as <code>dstImage</code> for the
    <code>vkCmdBlitImage</code> command.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code>
</dt>
<dd>
<p>
    If <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code> is also set,
    <code>VkImageView</code> <span role="normative">can</span> be used with a sampler that has either of
    <code>magFilter</code> or <code>minFilter</code> set to <code>VK_FILTER_LINEAR</code>, or
    <code>mipmapMode</code> set to <code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code>.
    If <code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> is also set, <code>VkImage</code> can
    be used as the <code>srcImage</code> to <code><a href="#vkCmdBlitImage">vkCmdBlitImage</a></code> with a
    <code>filter</code> of <code>VK_FILTER_LINEAR</code>.
    This bit <span role="normative">must</span> only be exposed for formats that also support the
    <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code> or
    <code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code>.
</p>
<div class="paragraph"><p>If the format being queried is a depth/stencil format, this bit only
    indicates that the depth aspect (not the stencil aspect) of an image of
    this format supports linear filtering, and that linear filtering of the
    depth aspect is supported whether depth compare is enabled in the
    sampler or not.
    If this bit is not present, linear filtering with depth compare disabled
    is unsupported and linear filtering with depth compare enabled is
    supported, but <span role="normative">may</span> compute the filtered value in an
    implementation-dependent manner which differs from the normal rules of
    linear filtering.
    The resulting value <span role="normative">must</span> be in the range <span class="eq">[0,1]</span> and <span role="normative">should</span> be
    proportional to, or a weighted average of, the number of comparison
    passes or failures.</p></div>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code>
</dt>
<dd>
<p>
    <code>VkImage</code> <span role="normative">can</span> be used as a source image for <a href="#copies">copy     commands</a>.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code>
</dt>
<dd>
<p>
    <code>VkImage</code> <span role="normative">can</span> be used as a destination image for <a href="#copies">copy     commands</a> and <a href="#clears">clear commands</a>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>The following features <span role="normative">may</span> appear in <code>bufferFeatures</code>, indicating they
are supported by buffers or buffer views created with the queried
<code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>::<code>format</code>:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code>
</dt>
<dd>
<p>
    Format <span role="normative">can</span> be used to create a <code>VkBufferView</code> that <span role="normative">can</span> be bound to
    a <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> descriptor.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code>
</dt>
<dd>
<p>
    Format <span role="normative">can</span> be used to create a <code>VkBufferView</code> that <span role="normative">can</span> be bound to
    a <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> descriptor.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code>
</dt>
<dd>
<p>
    Atomic operations are supported on
    <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> with this format.
</p>
</dd>
<dt class="hdlist1">
<code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code>
</dt>
<dd>
<p>
    Format <span role="normative">can</span> be used as a vertex attribute format
    (<code>VkVertexInputAttributeDescription</code>::<code>format</code>).
</p>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>If no format feature flags are supported, the format itself is not
supported, and images of that format cannot be created.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>If <code>format</code> is a block-compression format, then buffers <span role="normative">must</span> not
support any features for the format.</p></div>
<div class="paragraph"><p>To query supported format features which are properties of the physical
device, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceFormatProperties2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceFormatProperties2KHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">VkFormat</span>                                    format<span style="color: #990000">,</span>
    VkFormatProperties2KHR<span style="color: #990000">*</span>                     pFormatProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device from which to query the
    format properties.
</p>
</li>
<li>
<p>
<code>format</code> is the format whose properties are queried.
</p>
</li>
<li>
<p>
<code>pFormatProperties</code> is a pointer to a <code><a href="#VkFormatProperties2KHR">VkFormatProperties2KHR</a></code>
    structure in which physical device properties for <code>format</code> are
    returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkGetPhysicalDeviceFormatProperties2KHR</code> behaves similarly to
<code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>, with the ability to return
extended information via chained output structures.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>format</code> <span role="normative">must</span> be a valid <code><a href="#VkFormat">VkFormat</a></code> value
</p>
</li>
<li>
<p>
<code>pFormatProperties</code> <span role="normative">must</span> be a pointer to a <code>VkFormatProperties2KHR</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkFormatProperties2KHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkFormatProperties2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkFormatProperties2KHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>       sType<span style="color: #990000">;</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                 pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkFormatProperties</span>    formatProperties<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkFormatProperties2KHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>formatProperties</code> is a structure of type <code><a href="#VkFormatProperties">VkFormatProperties</a></code>
    describing features supported by the requested format.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="features-required-format-support">31.3.3. Required Format Support</h4>
<div class="paragraph"><p>Implementations <span role="normative">must</span> support at least the following set of features on the
listed formats.
For images, these features <span role="normative">must</span> be supported for every <code><a href="#VkImageType">VkImageType</a></code>
(including arrayed and cube variants) unless otherwise noted.
These features are supported on existing formats without needing to
advertise an extension or needing to explicitly enable them.
Support for additional functionality beyond the requirements listed here is
queried using the <code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code> command.</p></div>
<div class="paragraph"><p>The following tables show which feature bits <span role="normative">must</span> be supported for each
format.
Formats that are required to support
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code> <span role="normative">must</span> also support
<code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code> and
<code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code>.</p></div>
<table class="tableblock frame-all grid-all"
style="
width:70%;
">
<caption class="title">Table 40. Key for format feature tables</caption>
<col style="width:9%;">
<col style="width:90%;">
<tbody>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">This feature <span role="normative">must</span> be supported on the named format</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">This feature <span role="normative">must</span> be supported on at least some
of the named formats, with more information in the table
where the symbol appears</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all"
style="
width:70%;
">
<caption class="title">Table 41. Feature bits in <code>optimalTilingFeatures</code></caption>
<col style="width:100%;">
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all"
style="
width:70%;
">
<caption class="title">Table 42. Feature bits in <code>bufferFeatures</code></caption>
<col style="width:100%;">
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all unbreakable" id="features-formats-mandatory-features-subbyte"
style="
width:100%;
">
<caption class="title">Table 43. Mandatory format support: sub-byte channels</caption>
<col style="width:82%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="14" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12" ><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11" ><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10" ><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Format</strong></p></td>
<td class="tableblock halign-center valign-middle" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_UNDEFINED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R4G4_UNORM_PACK8</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R4G4B4A4_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B4G4R4A4_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R5G6B5_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B5G6R5_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R5G5B5A1_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B5G5R5A1_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A1R5G5B5_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all unbreakable" id="features-formats-mandatory-features-2byte"
style="
width:100%;
">
<caption class="title">Table 44. Mandatory format support: 1-3 byte-sized channels</caption>
<col style="width:82%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="14" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12" ><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11" ><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10" ><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Format</strong></p></td>
<td class="tableblock halign-center valign-middle" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8_UNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8_SNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8_USCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8_SRGB</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8_UNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8_SNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8_USCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8_SRGB</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8_UNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8_SNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8_USCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8_SRGB</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8_UNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8_SNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8_USCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8_SRGB</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all unbreakable" id="features-formats-mandatory-features-4byte"
style="
width:100%;
">
<caption class="title">Table 45. Mandatory format support: 4 byte-sized channels</caption>
<col style="width:82%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="14" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12" ><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11" ><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10" ><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Format</strong></p></td>
<td class="tableblock halign-center valign-middle" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_UNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_SNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_USCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_SRGB</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_UNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_SNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_USCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_SRGB</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_UNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_SNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_USCALED_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_SSCALED_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_UINT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_SINT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_SRGB_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all unbreakable" id="features-formats-mandatory-features-10bit"
style="
width:100%;
">
<caption class="title">Table 46. Mandatory format support: 10-bit channels</caption>
<col style="width:82%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="14" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12" ><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11" ><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10" ><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Format</strong></p></td>
<td class="tableblock halign-center valign-middle" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2R10G10B10_UNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2R10G10B10_SNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2R10G10B10_USCALED_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2R10G10B10_SSCALED_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2R10G10B10_UINT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2R10G10B10_SINT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_UNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_SNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_USCALED_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_SSCALED_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_UINT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_SINT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all unbreakable" id="features-formats-mandatory-features-16bit"
style="
width:100%;
">
<caption class="title">Table 47. Mandatory format support: 16-bit channels</caption>
<col style="width:82%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="14" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12" ><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11" ><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10" ><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Format</strong></p></td>
<td class="tableblock halign-center valign-middle" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16_UNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16_SNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16_USCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16_UNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16_SNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16_USCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16_UNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16_SNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16_USCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_UNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_USCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all unbreakable" id="features-formats-mandatory-features-32bit"
style="
width:100%;
">
<caption class="title">Table 48. Mandatory format support: 32-bit channels</caption>
<col style="width:82%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="14" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12" ><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11" ><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10" ><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Format</strong></p></td>
<td class="tableblock halign-center valign-middle" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32B32_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32B32_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32B32_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all unbreakable" id="features-formats-mandatory-features-64bit"
style="
width:100%;
">
<caption class="title">Table 49. Mandatory format support: 64-bit/uneven channels and depth/stencil</caption>
<col style="width:82%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="14" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12" ><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11" ><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10" ><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Format</strong></p></td>
<td class="tableblock halign-center valign-middle" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64G64_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64G64_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64G64_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64G64B64_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64G64B64_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64G64B64_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64G64B64A64_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64G64B64A64_SINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R64G64B64A64_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B10G11R11_UFLOAT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_D16_UNORM</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_X8_D24_UNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_D32_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2713;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_S8_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_D16_UNORM_S8_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_D24_UNORM_S8_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_D32_SFLOAT_S8_UINT</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="14" ><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code> feature <span role="normative">must</span> be
supported for at least one of <code>VK_FORMAT_X8_D24_UNORM_PACK32</code> and
<code>VK_FORMAT_D32_SFLOAT</code>, and <span role="normative">must</span> be supported for at least one of
<code>VK_FORMAT_D24_UNORM_S8_UINT</code> and <code>VK_FORMAT_D32_SFLOAT_S8_UINT</code>.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all unbreakable" id="features-formats-mandatory-features-bcn"
style="
width:100%;
">
<caption class="title">Table 50. Mandatory format support: BC compressed formats with <code><a href="#VkImageType">VkImageType</a></code> <code>VK_IMAGE_TYPE_2D</code> and <code>VK_IMAGE_TYPE_3D</code></caption>
<col style="width:82%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="14" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12" ><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11" ><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10" ><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Format</strong></p></td>
<td class="tableblock halign-center valign-middle" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC1_RGB_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC1_RGB_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC2_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC2_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC3_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC3_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC4_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC4_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC5_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC6H_UFLOAT_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC6H_SFLOAT_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC7_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC7_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="14" ><p class="tableblock">The <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>,
<code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> and
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> features <span role="normative">must</span> be
supported in <code>optimalTilingFeatures</code> for all the formats in at least
one of: this table, <a href="#features-formats-mandatory-features-etc">[features-formats-mandatory-features-etc]</a>, or
<a href="#features-formats-mandatory-features-astc">[features-formats-mandatory-features-astc]</a>.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all unbreakable" id="features-formats-mandatory-features-etc"
style="
width:100%;
">
<caption class="title">Table 51. Mandatory format support: ETC2 and EAC compressed formats with <code><a href="#VkImageType">VkImageType</a></code> <code>VK_IMAGE_TYPE_2D</code></caption>
<col style="width:82%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="14" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12" ><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11" ><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10" ><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Format</strong></p></td>
<td class="tableblock halign-center valign-middle" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_EAC_R11_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_EAC_R11_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="14" ><p class="tableblock">The <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>,
<code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> and
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> features <span role="normative">must</span> be
supported in <code>optimalTilingFeatures</code> for all the formats in at least
one of: this table, <a href="#features-formats-mandatory-features-bcn">[features-formats-mandatory-features-bcn]</a>, or
<a href="#features-formats-mandatory-features-astc">[features-formats-mandatory-features-astc]</a>.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after:always"></div>
<table class="tableblock frame-all grid-all unbreakable" id="features-formats-mandatory-features-astc"
style="
width:100%;
">
<caption class="title">Table 52. Mandatory format support: ASTC LDR compressed formats with <code><a href="#VkImageType">VkImageType</a></code> <code>VK_IMAGE_TYPE_2D</code></caption>
<col style="width:82%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<col style="width:1%;">
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="14" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="13" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12" ><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11" ><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10" ><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7" ><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5" ><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3" ><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2" ><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Format</strong></p></td>
<td class="tableblock halign-center valign-middle" ><p class="tableblock">&#x2193;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">&#x2020;</p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="14" ><p class="tableblock">The <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>,
<code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> and
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> features <span role="normative">must</span> be
supported in <code>optimalTilingFeatures</code> for all the formats in at least
one of: this table, <a href="#features-formats-mandatory-features-bcn">[features-formats-mandatory-features-bcn]</a>, or
<a href="#features-formats-mandatory-features-etc">[features-formats-mandatory-features-etc]</a>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_additional_image_capabilities">31.4. Additional Image Capabilities</h3>
<div class="paragraph"><p>In addition to the minimum capabilities described in the previous sections
(<a href="#features-limits">Limits</a> and <a href="#features-formats">Formats</a>),
implementations <span role="normative">may</span> support additional capabilities for certain types of
images.
For example, larger dimensions or additional sample counts for certain image
types, or additional capabilities for <em>linear</em> tiling format images.</p></div>
<div class="paragraph"><p>To query additional capabilities specific to image types, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceImageFormatProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceImageFormatProperties</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="color: #008080">VkFormat</span>                                    format<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageType</span>                                 type<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageTiling</span>                               tiling<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageUsageFlags</span>                           usage<span style="color: #990000">,</span>
    <span style="color: #008080">VkImageCreateFlags</span>                          flags<span style="color: #990000">,</span>
    VkImageFormatProperties<span style="color: #990000">*</span>                    pImageFormatProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device from which to query the
    image capabilities.
</p>
</li>
<li>
<p>
<code>format</code> is the image format, corresponding to
    <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>format</code>.
</p>
</li>
<li>
<p>
<code>type</code> is the image type, corresponding to
    <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>imageType</code>.
</p>
</li>
<li>
<p>
<code>tiling</code> is the image tiling, corresponding to
    <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>tiling</code>.
</p>
</li>
<li>
<p>
<code>usage</code> is the intended usage of the image, corresponding to
    <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>usage</code>.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask describing additional parameters of the image,
    corresponding to <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>flags</code>.
</p>
</li>
<li>
<p>
<code>pImageFormatProperties</code> points to an instance of the
    <code><a href="#VkImageFormatProperties">VkImageFormatProperties</a></code> structure in which capabilities are
    returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <code>format</code>, <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code>
parameters correspond to parameters that would be consumed by
<code><a href="#vkCreateImage">vkCreateImage</a></code> (as members of <code>VkImageCreateInfo</code>).</p></div>
<div class="paragraph"><p>If <code>format</code> is not a supported image format, or if the combination of
<code>format</code>, <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code> is not
supported for images, then <code>vkGetPhysicalDeviceImageFormatProperties</code>
returns <code>VK_ERROR_FORMAT_NOT_SUPPORTED</code>.</p></div>
<div class="paragraph"><p>The limitations on an image format that are reported by
<code>vkGetPhysicalDeviceImageFormatProperties</code> have the following property:
if <code>usage1</code> and <code>usage2</code> of type <code><a href="#VkImageUsageFlags">VkImageUsageFlags</a></code> are such that
the bits set in <code>usage1</code> are a subset of the bits set in <code>usage2</code>, and
<code>flags1</code> and <code>flags2</code> of type <code><a href="#VkImageCreateFlags">VkImageCreateFlags</a></code> are such that
the bits set in <code>flags1</code> are a subset of the bits set in <code>flags2</code>,
then the limitations for <code>usage1</code> and <code>flags1</code> <span role="normative">must</span> be no more strict
than the limitations for <code>usage2</code> and <code>flags2</code>, for all values of
<code>format</code>, <code>type</code>, and <code>tiling</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>format</code> <span role="normative">must</span> be a valid <code><a href="#VkFormat">VkFormat</a></code> value
</p>
</li>
<li>
<p>
<code>type</code> <span role="normative">must</span> be a valid <code><a href="#VkImageType">VkImageType</a></code> value
</p>
</li>
<li>
<p>
<code>tiling</code> <span role="normative">must</span> be a valid <code><a href="#VkImageTiling">VkImageTiling</a></code> value
</p>
</li>
<li>
<p>
<code>usage</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>usage</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>pImageFormatProperties</code> <span role="normative">must</span> be a pointer to a <code>VkImageFormatProperties</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_FORMAT_NOT_SUPPORTED</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkImageFormatProperties</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkImageFormatProperties"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkImageFormatProperties</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkExtent3D</span>            maxExtent<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxMipLevels<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span>              maxArrayLayers<span style="color: #990000">;</span>
    <span style="color: #008080">VkSampleCountFlags</span>    sampleCounts<span style="color: #990000">;</span>
    <span style="color: #008080">VkDeviceSize</span>          maxResourceSize<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkImageFormatProperties<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>maxExtent</code> are the maximum image dimensions.
    See the <a href="#features-extentperimagetype">Allowed Extent Values</a> section
    below for how these values are constrained by <code>type</code>.
</p>
</li>
<li>
<p>
<code>maxMipLevels</code> is the maximum number of mipmap levels.
    <code>maxMipLevels</code> <span role="normative">must</span> either be equal to 1 (valid only if
    <code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code>) or be equal to
    <span class="eq">&#x2308;log<sub>2</sub>(max(<code>width</code>, <code>height</code>, <code>depth</code>))&#x2309;
    &#x002b; 1</span>.
    <span class="eq"><code>width</code></span>, <span class="eq"><code>height</code></span>, and <span class="eq"><code>depth</code></span> are taken
    from the corresponding members of <code>maxExtent</code>.
</p>
</li>
<li>
<p>
<code>maxArrayLayers</code> is the maximum number of array layers.
    <code>maxArrayLayers</code> <span role="normative">must</span> either be equal to 1 or be greater than or
    equal to the <code>maxImageArrayLayers</code> member of
    <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>.
    A value of 1 is valid only if <code>tiling</code> is
    <code>VK_IMAGE_TILING_LINEAR</code> or if <code>type</code> is <code>VK_IMAGE_TYPE_3D</code>.
</p>
</li>
<li>
<p>
<code>sampleCounts</code> is a bitmask of <code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code>
    specifying all the supported sample counts for this image as described
    <a href="#features-supported-sample-counts">below</a>.
</p>
</li>
<li>
<p>
<code>maxResourceSize</code> is an upper bound on the total image size in
    bytes, inclusive of all image subresources.
    Implementations <span role="normative">may</span> have an address space limit on total size of a
    resource, which is advertised by this property.
    <code>maxResourceSize</code> <span role="normative">must</span> be at least 2<sup>31</sup>.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>There is no mechanism to query the size of an image before creating it, to
compare that size against <code>maxResourceSize</code>.
If an application attempts to create an image that exceeds this limit, the
creation will fail or the image will be invalid.
While the advertised limit <span role="normative">must</span> be at least 2<sup>31</sup>, it <span role="normative">may</span> not be possible
to create an image that approaches that size, particularly for
<code>VK_IMAGE_TYPE_1D</code>.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>If the combination of parameters to
<code>vkGetPhysicalDeviceImageFormatProperties</code> is not supported by the
implementation for use in <code><a href="#vkCreateImage">vkCreateImage</a></code>, then all members of
<code>VkImageFormatProperties</code> will be filled with zero.</p></div>
<div class="paragraph"><p>To query additional capabilities specific to image types, call:</p></div>
<div class="listingblock">
<a id="vkGetPhysicalDeviceImageFormatProperties2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">VkResult</span> <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceImageFormatProperties2KHR</span></span><span style="color: #990000">(</span>
    <span style="color: #008080">VkPhysicalDevice</span>                            physicalDevice<span style="color: #990000">,</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkPhysicalDeviceImageFormatInfo2KHR<span style="color: #990000">*</span>  pImageFormatInfo<span style="color: #990000">,</span>
    VkImageFormatProperties2KHR<span style="color: #990000">*</span>                pImageFormatProperties<span style="color: #990000">);</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> is the physical device from which to query the
    image capabilities.
</p>
</li>
<li>
<p>
<code>pImageFormatInfo</code> points to an instance of the
    <code><a href="#VkPhysicalDeviceImageFormatInfo2KHR">VkPhysicalDeviceImageFormatInfo2KHR</a></code> structure, describing the
    parameters that would be consumed by <code><a href="#vkCreateImage">vkCreateImage</a></code>.
</p>
</li>
<li>
<p>
<code>pImageFormatProperties</code> points to an instance of the
    <code><a href="#VkImageFormatProperties2KHR">VkImageFormatProperties2KHR</a></code> structure in which capabilities are
    returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>vkGetPhysicalDeviceImageFormatProperties2KHR</code> behaves similarly to
<code><a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a></code>, with the ability to return
extended information via chained output structures.</p></div>
<div class="paragraph"><p>If the loader implementation emulates
<code>vkGetPhysicalDeviceImageFormatProperties2KHR</code> on a device that doesn&#8217;t
support the extension, and the query involves a structure the loader does
not support, <code>vkGetPhysicalDeviceImageFormatProperties2KHR</code> returns
<code>VK_ERROR_FORMAT_NOT_SUPPORTED</code>.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>physicalDevice</code> <span role="normative">must</span> be a valid <code>VkPhysicalDevice</code> handle
</p>
</li>
<li>
<p>
<code>pImageFormatInfo</code> <span role="normative">must</span> be a pointer to a valid <code>VkPhysicalDeviceImageFormatInfo2KHR</code> structure
</p>
</li>
<li>
<p>
<code>pImageFormatProperties</code> <span role="normative">must</span> be a pointer to a <code>VkImageFormatProperties2KHR</code> structure
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a href="#fundamentals-successcodes">Success</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUCCESS</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<a href="#fundamentals-errorcodes">Failure</a>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_FORMAT_NOT_SUPPORTED</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>The <code>VkPhysicalDeviceImageFormatInfo2KHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkPhysicalDeviceImageFormatInfo2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkPhysicalDeviceImageFormatInfo2KHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>       sType<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">void</span><span style="color: #990000">*</span>           pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkFormat</span>              format<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageType</span>           type<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageTiling</span>         tiling<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageUsageFlags</span>     usage<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageCreateFlags</span>    flags<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkPhysicalDeviceImageFormatInfo2KHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>format</code> is the image format, corresponding to
    <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>format</code>.
</p>
</li>
<li>
<p>
<code>type</code> is the image type, corresponding to
    <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>imageType</code>.
</p>
</li>
<li>
<p>
<code>tiling</code> is the image tiling, corresponding to
    <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>tiling</code>.
</p>
</li>
<li>
<p>
<code>usage</code> is the intended usage of the image, corresponding to
    <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>usage</code>.
</p>
</li>
<li>
<p>
<code>flags</code> is a bitmask describing additional parameters of the image,
    corresponding to <code><a href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<code>flags</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The members of <code>VkPhysicalDeviceImageFormatInfo2KHR</code> correspond to the
arguments to <code><a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a></code>, with
<code>sType</code> and <code>pNext</code> added for extensibility.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> <span role="normative">must</span> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_FORMAT_INFO_2_KHR</code>
</p>
</li>
<li>
<p>
<code>pNext</code> <span role="normative">must</span> be <span class="monospaced">NULL</span>
</p>
</li>
<li>
<p>
<code>format</code> <span role="normative">must</span> be a valid <code><a href="#VkFormat">VkFormat</a></code> value
</p>
</li>
<li>
<p>
<code>type</code> <span role="normative">must</span> be a valid <code><a href="#VkImageType">VkImageType</a></code> value
</p>
</li>
<li>
<p>
<code>tiling</code> <span role="normative">must</span> be a valid <code><a href="#VkImageTiling">VkImageTiling</a></code> value
</p>
</li>
<li>
<p>
<code>usage</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code> values
</p>
</li>
<li>
<p>
<code>usage</code> <span role="normative">must</span> not be <span class="monospaced">0</span>
</p>
</li>
<li>
<p>
<code>flags</code> <span role="normative">must</span> be a valid combination of <code><a href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a></code> values
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The <code>VkImageFormatProperties2KHR</code> structure is defined as:</p></div>
<div class="listingblock">
<a id="VkImageFormatProperties2KHR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">VkImageFormatProperties2KHR</span> <span style="color: #FF0000">{</span>
    <span style="color: #008080">VkStructureType</span>            sType<span style="color: #990000">;</span>
    <span style="color: #009900">void</span><span style="color: #990000">*</span>                      pNext<span style="color: #990000">;</span>
    <span style="color: #008080">VkImageFormatProperties</span>    imageFormatProperties<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span> VkImageFormatProperties2KHR<span style="color: #990000">;</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>sType</code> is the type of this structure.
</p>
</li>
<li>
<p>
<code>pNext</code> is <span class="monospaced">NULL</span> or a pointer to an extension-specific structure.
</p>
</li>
<li>
<p>
<code>imageFormatProperties</code> is an instance of a
    <code><a href="#VkImageFormatProperties">VkImageFormatProperties</a></code> structure in which capabilities are
    returned.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If the combination of parameters to
<code>vkGetPhysicalDeviceImageFormatProperties2KHR</code> is not supported by the
implementation for use in <code><a href="#vkCreateImage">vkCreateImage</a></code>, then all members of
<code>imageFormatProperties</code> will be filled with zero.</p></div>
<div class="sect3">
<h4 id="features-supported-sample-counts">31.4.1. Supported Sample Counts</h4>
<div class="paragraph"><p><code>vkGetPhysicalDeviceImageFormatProperties</code> returns a bitmask of
<code><a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> in <code>sampleCounts</code> specifying the supported
sample counts for the image parameters.</p></div>
<div class="paragraph"><p><code>sampleCounts</code> will be set to <code>VK_SAMPLE_COUNT_1_BIT</code> if at least
one of the following conditions is true:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code>
</p>
</li>
<li>
<p>
<code>type</code> is not <code>VK_IMAGE_TYPE_2D</code>
</p>
</li>
<li>
<p>
<code>flags</code> contains <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>
</p>
</li>
<li>
<p>
Neither the <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag nor the
   <code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code> flag in
   <code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> returned by
   <code><a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code> is set
</p>
</li>
</ul></div>
<div class="paragraph"><p>Otherwise, the bits set in <code>sampleCounts</code> will be the sample counts
supported for the specified values of <code>usage</code> and <code>format</code>.
For each bit set in <code>usage</code>, the supported sample counts relate to the
limits in <code>VkPhysicalDeviceLimits</code> as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>, a
   superset of
   <code>VkPhysicalDeviceLimits</code>::<code>framebufferColorSampleCounts</code>
</p>
</li>
<li>
<p>
If <code>usage</code> includes
   <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and <code>format</code>
   includes a depth aspect, a superset of
   <code>VkPhysicalDeviceLimits</code>::<code>framebufferDepthSampleCounts</code>
</p>
</li>
<li>
<p>
If <code>usage</code> includes
   <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and <code>format</code>
   includes a stencil aspect, a superset of
   <code>VkPhysicalDeviceLimits</code>::<code>framebufferStencilSampleCounts</code>
</p>
</li>
<li>
<p>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
   <code>format</code> includes a color aspect, a superset of
   <code>VkPhysicalDeviceLimits</code>::<code>sampledImageColorSampleCounts</code>
</p>
</li>
<li>
<p>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
   <code>format</code> includes a depth aspect, a superset of
   <code>VkPhysicalDeviceLimits</code>::<code>sampledImageDepthSampleCounts</code>
</p>
</li>
<li>
<p>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
   <code>format</code> is an integer format, a superset of
   <code>VkPhysicalDeviceLimits</code>::<code>sampledImageIntegerSampleCounts</code>
</p>
</li>
<li>
<p>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_STORAGE_BIT</code>, a superset of
   <code>VkPhysicalDeviceLimits</code>::<code>storageImageSampleCounts</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>If multiple bits are set in <code>usage</code>, <code>sampleCounts</code> will be the
intersection of the per-usage values described above.</p></div>
<div class="paragraph"><p>If none of the bits described above are set in <code>usage</code>, then there is no
corresponding limit in <code>VkPhysicalDeviceLimits</code>.
In this case, <code>sampleCounts</code> <span role="normative">must</span> include at least
<code>VK_SAMPLE_COUNT_1_BIT</code>.</p></div>
</div>
<div class="sect3">
<h4 id="features-extentperimagetype">31.4.2. Allowed Extent Values Based On Image Type</h4>
<div class="paragraph"><p>For <code>VK_IMAGE_TYPE_1D</code>:</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="eq"><code>maxExtent.width</code> &#x2264;
         <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>.<code>maxImageDimension1D</code></span>
</p>
</li>
<li>
<p>
<span class="eq"><code>maxExtent.height</code> = 1</span>
</p>
</li>
<li>
<p>
<span class="eq"><code>maxExtent.depth</code> = 1</span>
</p>
</li>
</ul></div>
<div class="paragraph"><p>For <code>VK_IMAGE_TYPE_2D</code>:</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="eq"><code>maxExtent.width</code> &#x2264;
         <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>.<code>maxImageDimension2D</code></span>
</p>
</li>
<li>
<p>
<span class="eq"><code>maxExtent.height</code> &#x2264;
         <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>.<code>maxImageDimension2D</code></span>
</p>
</li>
<li>
<p>
<span class="eq"><code>maxExtent.depth</code> = 1</span>
</p>
</li>
</ul></div>
<div class="paragraph"><p>For <code>VK_IMAGE_TYPE_3D</code>:</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="eq"><code>maxExtent.width</code> &#x2264;
         <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>.<code>maxImageDimension3D</code></span>
</p>
</li>
<li>
<p>
<span class="eq"><code>maxExtent.height</code> &#x2264;
         <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>.<code>maxImageDimension3D</code></span>
</p>
</li>
<li>
<p>
<span class="eq"><code>maxExtent.depth</code> &#x2264;
         <code><a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>.<code>maxImageDimension3D</code></span>
</p>
</li>
</ul></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_debugging">32. Debugging</h2>
<div class="sectionbody">
<div class="paragraph"><p>To aid developers in tracking down errors in the application&#8217;s use of
Vulkan, particularly in combination with an external debugger or profiler,
<em>debugging extensions</em> may be available.
If this Specification was generated with any such extensions included, they
will be described in the remainder of this chapter.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="spirvenv">Appendix A: Vulkan Environment for SPIR-V</h2>
<div class="sectionbody">
<div class="paragraph"><p>Shaders for Vulkan are defined by the <a href="#spirv-spec">Khronos SPIR-V Specification</a> as well as the <a href="#spirv-extended">Khronos SPIR-V Extended Instructions for GLSL</a> Specification.
This appendix defines additional SPIR-V requirements applying to Vulkan
shaders.</p></div>
<div class="sect2">
<h3 id="_required_versions_and_formats">Required Versions and Formats</h3>
<div class="paragraph"><p>A Vulkan 1.0 implementation <span role="normative">must</span> support the 1.0 version of SPIR-V and the
1.0 version of the SPIR-V Extended Instructions for GLSL.</p></div>
<div class="paragraph"><p>A SPIR-V module passed into <code><a href="#vkCreateShaderModule">vkCreateShaderModule</a></code> is interpreted as a
series of 32-bit words in host endianness, with literal strings packed as
described in section 2.2 of the SPIR-V Specification.
The first few words of the SPIR-V module <span role="normative">must</span> be a magic number and a
SPIR-V version number, as described in section 2.3 of the SPIR-V
Specification.</p></div>
</div>
<div class="sect2">
<h3 id="spirvenv-capabilities">Capabilities</h3>
<div class="paragraph"><p>Implementations <span role="normative">must</span> support the following capability operands declared by
<code>OpCapability</code>:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>Matrix</code>
</p>
</li>
<li>
<p>
<code>Shader</code>
</p>
</li>
<li>
<p>
<code>InputAttachment</code>
</p>
</li>
<li>
<p>
<code>Sampled1D</code>
</p>
</li>
<li>
<p>
<code>Image1D</code>
</p>
</li>
<li>
<p>
<code>SampledBuffer</code>
</p>
</li>
<li>
<p>
<code>ImageBuffer</code>
</p>
</li>
<li>
<p>
<code>ImageQuery</code>
</p>
</li>
<li>
<p>
<code>DerivativeControl</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Implementations <span role="normative">may</span> support features that are not <span role="normative">required</span> by the
Specification, as described in the <a href="#features-features">Features</a> chapter.
If such a feature is supported, then any capability operand(s) corresponding
to that feature <span role="normative">must</span> also be supported.</p></div>
<table class="tableblock frame-all grid-all" id="spirvenv-capabilities-table"
style="
width:100%;
">
<caption class="title">Table 53. SPIR-V Capabilities which are not <span role="normative">required</span>, and corresponding feature or extension names</caption>
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > SPIR-V OpCapability                     </th>
<th class="tableblock halign-left valign-top" > Vulkan feature or extension name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Geometry</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-geometryShader">geometryShader</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Tessellation</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-tessellationShader">tessellationShader</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Float64</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderFloat64">shaderFloat64</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Int64</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderInt64">shaderInt64</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Int16</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderInt16">shaderInt16</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>TessellationPointSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderTessellationAndGeometryPointSize">shaderTessellationAndGeometryPointSize</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>GeometryPointSize</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderTessellationAndGeometryPointSize">shaderTessellationAndGeometryPointSize</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>ImageGatherExtended</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderImageGatherExtended">shaderImageGatherExtended</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>StorageImageMultisample</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderStorageImageMultisample">shaderStorageImageMultisample</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>UniformBufferArrayDynamicIndexing</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderUniformBufferArrayDynamicIndexing">shaderUniformBufferArrayDynamicIndexing</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>SampledImageArrayDynamicIndexing</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderSampledImageArrayDynamicIndexing">shaderSampledImageArrayDynamicIndexing</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>StorageBufferArrayDynamicIndexing</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderStorageBufferArrayDynamicIndexing">shaderStorageBufferArrayDynamicIndexing</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>StorageImageArrayDynamicIndexing</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderStorageImageArrayDynamicIndexing">shaderStorageImageArrayDynamicIndexing</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>ClipDistance</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderClipDistance">shaderClipDistance</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>CullDistance</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderCullDistance">shaderCullDistance</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>ImageCubeArray</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-imageCubeArray">imageCubeArray</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>SampleRateShading</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-sampleRateShading">sampleRateShading</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>SparseResidency</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderResourceResidency">shaderResourceResidency</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>MinLod</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderResourceMinLod">shaderResourceMinLod</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>SampledCubeArray</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-imageCubeArray">imageCubeArray</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>ImageMSArray</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderStorageImageMultisample">shaderStorageImageMultisample</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>StorageImageExtendedFormats</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderStorageImageExtendedFormats">shaderStorageImageExtendedFormats</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>InterpolationFunction</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-sampleRateShading">sampleRateShading</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>StorageImageReadWithoutFormat</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderStorageImageReadWithoutFormat">shaderStorageImageReadWithoutFormat</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>StorageImageWriteWithoutFormat</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-shaderStorageImageWriteWithoutFormat">shaderStorageImageWriteWithoutFormat</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>MultiViewport</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#features-features-multiViewport">multiViewport</a>
<a id="spirvenv-capabilities-table-drawparameters"></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>DrawParameters</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><a href="#VK_KHR_shader_draw_parameters">VK_KHR_shader_draw_parameters</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The application <span role="normative">can</span> pass a SPIR-V module to <code><a href="#vkCreateShaderModule">vkCreateShaderModule</a></code> that
uses the <span class="monospaced">SPV_KHR_shader_draw_parameters</span> SPIR-V extension.</p></div>
<div class="paragraph"><p>The application <span role="normative">must</span> not pass a SPIR-V module containing any of the
following to <code><a href="#vkCreateShaderModule">vkCreateShaderModule</a></code>:</p></div>
<div class="ulist"><ul>
<li>
<p>
any OpCapability not listed above,
</p>
</li>
<li>
<p>
an unsupported capability, or
</p>
</li>
<li>
<p>
a capability which corresponds to a Vulkan feature or extension which
    has not been enabled.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="spirvenv-module-validation">Validation Rules within a Module</h3>
<div class="paragraph"><p>A SPIR-V module passed to <code><a href="#vkCreateShaderModule">vkCreateShaderModule</a></code> <span role="normative">must</span> conform to the
following rules:</p></div>
<div class="ulist"><ul>
<li>
<p>
Every entry point <span role="normative">must</span> have no return value and accept no arguments.
</p>
</li>
<li>
<p>
Recursion: The static function-call graph for an entry point <span role="normative">must</span> not
    contain cycles.
</p>
</li>
<li>
<p>
The <strong>Logical</strong> addressing model <span role="normative">must</span> be selected.
</p>
</li>
<li>
<p>
<strong>Scope</strong> for execution <span role="normative">must</span> be limited to:
</p>
<div class="ulist"><ul>
<li>
<p>
<strong>Workgroup</strong>
</p>
</li>
<li>
<p>
<strong>Subgroup</strong>
</p>
</li>
</ul></div>
</li>
<li>
<p>
<strong>Scope</strong> for memory <span role="normative">must</span> be limited to:
</p>
<div class="ulist"><ul>
<li>
<p>
<strong>Device</strong>
</p>
</li>
<li>
<p>
<strong>Workgroup</strong>
</p>
</li>
<li>
<p>
<strong>Invocation</strong>
</p>
</li>
</ul></div>
</li>
<li>
<p>
The <code>OriginLowerLeft</code> execution mode <span role="normative">must</span> not be used; fragment
    entry points <span role="normative">must</span> declare <code>OriginUpperLeft</code>.
</p>
</li>
<li>
<p>
The <code>PixelCenterInteger</code> execution mode <span role="normative">must</span> not be used.
    Pixels are always centered at half-integer coordinates.
</p>
</li>
<li>
<p>
Images
</p>
<div class="ulist"><ul>
<li>
<p>
<code>OpTypeImage</code> <span role="normative">must</span> declare a scalar 32-bit float or 32-bit integer
     type for the &#8220;Sampled Type&#8221;.
     (<code>RelaxedPrecision</code> <span role="normative">can</span> be applied to a sampling instruction and to
     the variable holding the result of a sampling instruction.)
</p>
</li>
<li>
<p>
<code>OpSampledImage</code> <span role="normative">must</span> only consume an &#8220;Image&#8221; operand whose type
     has its &#8220;Sampled&#8221; operand set to 1.
</p>
</li>
<li>
<p>
The <span class="eq">(u,v)</span> coordinates used for a <code>SubpassData</code> <span role="normative">must</span> be the
     &lt;id&gt; of a constant vector <span class="eq">(0,0)</span>, or if a layer coordinate is
     used, <span role="normative">must</span> be a vector that was formed with constant 0 for the <span class="eq">u</span>
     and <span class="eq">v</span> components.
</p>
</li>
<li>
<p>
The &#8220;Depth&#8221; operand of <code>OpTypeImage</code> is ignored.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Decorations
</p>
<div class="ulist"><ul>
<li>
<p>
The <code>GLSLShared</code> and <code>GLSLPacked</code> decorations <span role="normative">must</span> not be used.
</p>
</li>
<li>
<p>
The <code>Flat</code>, <code>NoPerspective</code>, <code>Sample</code>, and <code>Centroid</code>
     decorations <span role="normative">must</span> not be used on variables with storage class other
     than <code>Input</code> or on variables used in the interface of non-fragment
     shader entry points.
</p>
</li>
<li>
<p>
The <code>Patch</code> decoration <span role="normative">must</span> not be used on variables in the
     interface of a vertex, geometry, or fragment shader stage&#8217;s entry
     point.
</p>
</li>
</ul></div>
</li>
<li>
<p>
<code>OpTypeRuntimeArray</code> <span role="normative">must</span> only be used for the last member of an
    <code>OpTypeStruct</code> in the <code>Uniform</code> storage class.
</p>
</li>
<li>
<p>
Linkage: See <a href="#interfaces">Shader Interfaces</a> for additional linking and
    validation rules.
</p>
</li>
<li>
<p>
Compute Shaders
</p>
<div class="ulist"><ul>
<li>
<p>
For each compute shader entry point, either a <code>LocalSize</code> execution
     mode or an object decorated with the <code>WorkgroupSize</code> decoration
     <span role="normative">must</span> be specified.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</h3>
<div class="paragraph"><p>The following rules apply to both single and double-precision floating point
instructions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Positive and negative infinities and positive and negative zeros are
    generated as dictated by <a href="#ieee-754">IEEE 754</a>, but subject to the
    precisions allowed in the following table.
</p>
</li>
<li>
<p>
Dividing a non-zero by a zero results in the appropriately signed
    <a href="#ieee-754">IEEE 754</a> infinity.
</p>
</li>
<li>
<p>
Any denormalized value input into a shader or potentially generated by
    any instruction in a shader <span role="normative">may</span> be flushed to 0.
</p>
</li>
<li>
<p>
The rounding mode <span role="normative">cannot</span> be set and is undefined.
</p>
</li>
<li>
<p>
<span class="eq">NaN</span>s <span role="normative">may</span> not be generated.
    Instructions that operate on a <span class="eq">NaN</span> <span role="normative">may</span> not result in a <span class="eq">NaN</span>.
</p>
</li>
<li>
<p>
Support for signaling <span class="eq">NaN</span>s is <span role="normative">optional</span> and exceptions are never
    raised.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The precision of double-precision instructions is at least that of single
precision.
For single precision (32 bit) instructions, precisions are <span role="normative">required</span> to be
at least as follows, unless decorated with RelaxedPrecision:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 54. Precision of core SPIR-V Instructions</caption>
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Instruction                                               </th>
<th class="tableblock halign-left valign-top" > Precision</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpFAdd</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Correctly rounded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpFSub</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Correctly rounded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpFMul</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Correctly rounded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpFOrdEqual</code>, <code>OpFUnordEqual</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Correct result.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpFOrdLessThan</code>, <code>OpFUnordLessThan</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Correct result.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpFOrdGreaterThan</code>, <code>OpFUnordGreaterThan</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Correct result.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpFOrdLessThanEqual</code>, <code>OpFUnordLessThanEqual</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Correct result.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpFOrdGreaterThanEqual</code>, <code>OpFUnordGreaterThanEqual</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Correct result.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>OpFDiv</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2.5 ULP for b in the range [2<sup>-126</sup>, 2<sup>126</sup>].</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">conversions between types</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Correctly rounded.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 55. Precision of GLSL.std.450 Instructions</caption>
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Instruction                 </th>
<th class="tableblock halign-left valign-top" > Precision</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>fma</code>()</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Inherited from <code>OpFMul</code> followed by <code>OpFAdd</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>exp</code>(x),  <code>exp2</code>(x)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="eq">3 + 2 &#x00d7; &#x007c;x&#x007c;</span> ULP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>log</code>(),  <code>log2</code>()</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">3 ULP outside the range <span class="eq">[0.5, 2.0]</span>. Absolute error &lt; <span class="eq">2<sup>-21</sup></span> inside the range <span class="eq">[0.5, 2.0]</span>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>pow</code>(x, y)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Inherited from <code>exp2</code>(y &#x00d7; <code>log2</code>(x)).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>sqrt</code>()</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Inherited from 1.0 / <code>inversesqrt</code>().</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>inversesqrt</code>()</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">2 ULP.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>GLSL.std.450 extended instructions specifically defined in terms of the
above instructions inherit the above errors.
GLSL.std.450 extended instructions not listed above and not defined in terms
of the above have undefined precision.
These include, for example, the trigonometric functions and determinant.</p></div>
<div class="paragraph"><p>For the <code>OpSRem</code> and <code>OpSMod</code> instructions, if either operand is
negative the result is undefined.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>While the <code>OpSRem</code> and <code>OpSMod</code> instructions are supported by the
Vulkan environment, they require non-negative values and thus do not enable
additional functionality beyond what <code>OpUMod</code> provides.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph" id="spirvenv-image-formats"><div class="title">Compatibility Between SPIR-V Image Formats And Vulkan Formats</div><p>Images which are read from or written to by shaders <span role="normative">must</span> have SPIR-V image
formats compatible with the Vulkan image formats backing the image under the
circumstances described for <a href="#textures-operation-validation">texture image validation</a>.
The compatibile formats are:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 56. SPIR-V and Vulkan Image Format Compatibility</caption>
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >SPIR-V Image Format    </th>
<th class="tableblock halign-left valign-top" >Compatible Vulkan Format</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgba32f</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgba16f</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>R32f</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgba8</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgba8Snorm</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_SNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rg32f</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rg16f</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>R11fG11fB10f</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_B10G11R11_UFLOAT_PACK32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>R16f</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgba16</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgb10A2</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_UNORM_PACK32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rg16</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rg8</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>R16</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>R8</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgba16Snorm</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rg16Snorm</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16_SNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rg8Snorm</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8_SNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>R16Snorm</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16_SNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>R8Snorm</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8_SNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgba32i</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgba16i</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgba8i</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>R32i</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rg32i</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rg16i</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rg8i</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>R16i</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>R8i</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgba32ui</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgba16ui</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgba8ui</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>R32ui</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rgb10a2ui</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_UINT_PACK32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rg32ui</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R32G32_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rg16ui</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16G16_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>Rg8ui</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8G8_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>R16ui</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R16_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>R8ui</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_R8_UINT</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compressed_image_formats">Appendix B: Compressed Image Formats</h2>
<div class="sectionbody">
<div class="paragraph"><p>The compressed texture formats used by Vulkan are described in the
specifically identified sections of the <a href="#data-format">Khronos Data Format Specification</a>, version 1.1.</p></div>
<div class="paragraph"><p>Unless otherwise described, the quantities encoded in these compressed
formats are treated as normalized, unsigned values.</p></div>
<div class="paragraph"><p>Those formats listed as sRGB-encoded have in-memory representations of
<span class="eq">R</span>, <span class="eq">G</span> and <span class="eq">B</span> components which are nonlinearly-encoded as
<span class="eq">R'</span>, <span class="eq">G'</span>, and <span class="eq">B'</span>; any alpha component is unchanged.
As part of filtering, the nonlinear <span class="eq">R'</span>, <span class="eq">G'</span>, and <span class="eq">B'</span> values
are converted to linear <span class="eq">R</span>, <span class="eq">G</span>, and <span class="eq">B</span> components; any alpha
component is unchanged.
The conversion between linear and nonlinear encoding is performed as
described in the &#8220;KHR_DF_TRANSFER_SRGB&#8221; section of the Khronos Data Format
Specification.</p></div>
<div style="page-break-after:always"></div>
<div class="sect2">
<h3 id="appendix-compressedtex-bc">Block-Compressed Image Formats</h3>
<table class="tableblock frame-all grid-all"
style="
width:90%;
">
<caption class="title">Table 57. Mapping of Vulkan BC formats to descriptions</caption>
<col style="width:55%;">
<col style="width:44%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > VkFormat </th>
<th class="tableblock halign-left valign-top" > <a href="#data-format">Khronos Data Format Specification</a> description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="2" ><p class="tableblock">Formats described in the &#8220;S3TC Compressed Texture Image Formats&#8221; chapter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC1_RGB_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC1 with no alpha</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC1_RGB_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC1 with no alpha, sRGB-encoded</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC1 with alpha</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC1 with alpha, sRGB-encoded</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC2_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC2_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC2, sRGB-encoded</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC3_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC3_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC3, sRGB-encoded</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2" ><p class="tableblock">Formats described in the &#8220;RGTC Compressed Texture Image Formats&#8221; chapter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC4_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC4 unsigned</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC4_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC4 signed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC5 unsigned</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC5_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC5 signed</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2" ><p class="tableblock">Formats described in the &#8220;BPTC Compressed Texture Image Formats&#8221; chapter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC6H_UFLOAT_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC6H (unsigned version)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC6H_SFLOAT_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC6H (signed version)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC7_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_BC7_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BC7, sRGB-encoded</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after:always"></div>
</div>
<div class="sect2">
<h3 id="appendix-compressedtex-etc2">ETC Compressed Image Formats</h3>
<div class="paragraph"><p>The following formats are described in the &#8220;ETC2 Compressed Texture Image
Formats&#8221; chapter of the <a href="#data-format">Khronos Data Format Specification</a>.</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 58. Mapping of Vulkan ETC formats to descriptions</caption>
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > VkFormat </th>
<th class="tableblock halign-left valign-top" > <a href="#data-format">Khronos Data Format Specification</a> description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">RGB ETC2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">RGB ETC2 with sRGB encoding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">RGB ETC2 with punch-through alpha</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">RGB ETC2 with punch-through alpha and sRGB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">RGBA ETC2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">RGBA ETC2 with sRGB encoding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_EAC_R11_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Unsigned R11 EAC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_EAC_R11_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Signed R11 EAC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Unsigned RG11 EAC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Signed RG11 EAC</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after:always"></div>
</div>
<div class="sect2">
<h3 id="appendix-compressedtex-astc">ASTC Compressed Image Formats</h3>
<div class="paragraph"><p>ASTC formats are described in the &#8220;ASTC Compressed Texture Image Formats&#8221;
chapter of the <a href="#data-format">Khronos Data Format Specification</a>.</p></div>
<table class="tableblock frame-all grid-all"
style="
width:75%;
">
<caption class="title">Table 59. Mapping of Vulkan ASTC formats to descriptions</caption>
<col style="width:63%;">
<col style="width:15%;">
<col style="width:22%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > VkFormat </th>
<th class="tableblock halign-center valign-top" > Compressed texel block dimensions </th>
<th class="tableblock halign-center valign-top" > sRGB-encoded</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">4 &#x00d7; 4</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">4 &#x00d7; 4</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">5 &#x00d7; 4</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">5 &#x00d7; 4</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">5 &#x00d7; 5</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">5 &#x00d7; 5</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">6 &#x00d7; 5</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">6 &#x00d7; 5</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">6 &#x00d7; 6</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">6 &#x00d7; 6</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">8 &#x00d7; 5</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">8 &#x00d7; 5</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">8 &#x00d7; 6</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">8 &#x00d7; 6</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">8 &#x00d7; 8</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">8 &#x00d7; 8</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">10 &#x00d7; 5</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">10 &#x00d7; 5</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">10 &#x00d7; 6</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">10 &#x00d7; 6</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">10 &#x00d7; 8</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">10 &#x00d7; 8</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">10 &#x00d7; 10</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">10 &#x00d7; 10</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">12 &#x00d7; 10</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">12 &#x00d7; 10</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">12 &#x00d7; 12</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><code>VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock"><span class="eq">12 &#x00d7; 12</span></p></td>
<td class="tableblock halign-center valign-top" ><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extensions">Appendix C: Layers &amp; Extensions</h2>
<div class="sectionbody">
<div class="paragraph"><p>Extensions to the Vulkan API <span role="normative">can</span> be defined by authors, groups of authors,
and the Khronos Vulkan Working Group.
In order not to compromise the readability of the Vulkan Specification, the
core Specification does not incorporate most extensions.
The online Registry of extensions is available at URL</p></div>
<div class="paragraph"><p><a href="http://www.khronos.org/registry/vulkan/">http://www.khronos.org/registry/vulkan/</a></p></div>
<div class="paragraph"><p>and allows generating versions of the Specification incorporating different
extensions.</p></div>
<div class="paragraph"><p>Most of the content previously in this appendix does not specify <strong>use</strong> of
specific Vulkan extensions and layers, but rather specifies the processes by
which extensions and layers are created.
As of version 1.0.21 of the Vulkan Specification, this content has been
migrated to the <a href="#vulkan-styleguide">Vulkan Documentation and Extensions</a>
document.
Authors creating extensions and layers <span role="normative">must</span> follow the mandatory procedures
in that document.</p></div>
<div class="paragraph"><p>The remainder of this appendix documents a set of extensions chosen when
this document was built.
Versions of the Specification published in the Registry include:</p></div>
<div class="ulist"><ul>
<li>
<p>
Core API + mandatory extensions required of all Vulkan implementations.
</p>
</li>
<li>
<p>
Core API + all registered and published Khronos (<span class="monospaced">KHR</span>) extensions.
</p>
</li>
<li>
<p>
Core API + all registered and published extensions.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Extensions are grouped as Khronos, multivendor <span class="monospaced">EXT</span>, and then by vendor
alphabetically.</p></div>
<div class="sect2">
<h3 id="VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</h3>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_get_physical_device_properties2</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Instance extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    60
</p>
</dd>
<dt class="hdlist1">
<strong>Status</strong>
</dt>
<dd>
<p>
    Complete.
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Date</strong>
</dt>
<dd>
<p>
    2016-11-02
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    2
</p>
</dd>
<dt class="hdlist1">
<strong>IP Status</strong>
</dt>
<dd>
<p>
    No known IP claims.
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Jeff Bolz, NVIDIA
</p>
</li>
<li>
<p>
Ian Elliott, Google
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contacts</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Jeff Bolz (jbolz <em>at</em> nvidia.com)
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="paragraph"><p>This extension provides new entry points to query device features, device
properties, and format properties in a way that can be easily extended by
other extensions, without introducing any further entry points.
The Vulkan 1.0 feature/limit/formatproperty structures do not include an
sType/pNext, this extension wraps them in new structures with sType/pNext so
an application can query a chain of feature/limit/formatproperty structures
by constructing the chain and letting the implementation fill them in.
A new command is added for each <code>vkGetPhysicalDevice*</code> command in core
Vulkan 1.0.
The new feature structure (and a chain of extensions) can also be passed in
to device creation to enable features.</p></div>
<div class="paragraph"><p>This extension also allows applications to use the physical-device
components of device extensions before <code><a href="#vkCreateDevice">vkCreateDevice</a></code> is called.</p></div>
<div class="sect3">
<h4 id="_new_object_types">New Object Types</h4>
<div class="paragraph"><p>None.</p></div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants">New Enum Constants</h4>
<div class="ulist"><ul>
<li>
<p>
Extending <code>VkStructureType</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PROPERTIES_2_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_STRUCTURE_TYPE_FORMAT_PROPERTIES_2_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_STRUCTURE_TYPE_IMAGE_FORMAT_PROPERTIES_2_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_FORMAT_INFO_2_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_PROPERTIES_2_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MEMORY_PROPERTIES_2_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_STRUCTURE_TYPE_SPARSE_IMAGE_FORMAT_PROPERTIES_2_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SPARSE_IMAGE_FORMAT_INFO_2_KHR</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_new_enums">New Enums</h4>
<div class="paragraph"><p>None.</p></div>
</div>
<div class="sect3">
<h4 id="_new_structures">New Structures</h4>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkPhysicalDeviceFeatures2KHR">VkPhysicalDeviceFeatures2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPhysicalDeviceProperties2KHR">VkPhysicalDeviceProperties2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkFormatProperties2KHR">VkFormatProperties2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkImageFormatProperties2KHR">VkImageFormatProperties2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPhysicalDeviceImageFormatInfo2KHR">VkPhysicalDeviceImageFormatInfo2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkQueueFamilyProperties2KHR">VkQueueFamilyProperties2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPhysicalDeviceMemoryProperties2KHR">VkPhysicalDeviceMemoryProperties2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkSparseImageFormatProperties2KHR">VkSparseImageFormatProperties2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPhysicalDeviceSparseImageFormatInfo2KHR">VkPhysicalDeviceSparseImageFormatInfo2KHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_new_functions">New Functions</h4>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceFeatures2KHR">vkGetPhysicalDeviceFeatures2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceProperties2KHR">vkGetPhysicalDeviceProperties2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceFormatProperties2KHR">vkGetPhysicalDeviceFormatProperties2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceImageFormatProperties2KHR">vkGetPhysicalDeviceImageFormatProperties2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceQueueFamilyProperties2KHR">vkGetPhysicalDeviceQueueFamilyProperties2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceMemoryProperties2KHR">vkGetPhysicalDeviceMemoryProperties2KHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceSparseImageFormatProperties2KHR">vkGetPhysicalDeviceSparseImageFormatProperties2KHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_issues">Issues</h4>
<div class="paragraph"><p>None.</p></div>
</div>
<div class="sect3">
<h4 id="_examples">Examples</h4>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
    <span style="font-style: italic"><span style="color: #9A1900">// Get features with a hypothetical future extension.</span></span>
    <span style="color: #008080">VkHypotheticalExtensionFeaturesKHR</span> hypotheticalFeatures <span style="color: #990000">=</span>
    <span style="color: #FF0000">{</span>
        VK_STRUCTURE_TYPE_HYPOTHETICAL_FEATURES_KHR<span style="color: #990000">,</span>                            <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
        NULL<span style="color: #990000">,</span>                                                                   <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">;</span>

    <span style="color: #008080">VkPhysicalDeviceFeatures2KHR</span> features <span style="color: #990000">=</span>
    <span style="color: #FF0000">{</span>
        VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR<span style="color: #990000">,</span>                       <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
        <span style="color: #990000">&amp;</span>hypotheticalFeatures<span style="color: #990000">,</span>                                                  <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">;</span>

    <span style="font-style: italic"><span style="color: #9A1900">// After this call, features and hypotheticalFeatures have been filled out.</span></span>
    <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceFeatures2KHR</span></span><span style="color: #990000">(</span>physicalDevice<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>features<span style="color: #990000">);</span>

    <span style="font-style: italic"><span style="color: #9A1900">// Properties/limits can be chained and queried similarly.</span></span>

    <span style="font-style: italic"><span style="color: #9A1900">// Enable some features:</span></span>
    <span style="color: #008080">VkHypotheticalExtensionFeaturesKHR</span> enabledHypotheticalFeatures <span style="color: #990000">=</span>
    <span style="color: #FF0000">{</span>
        VK_STRUCTURE_TYPE_HYPOTHETICAL_FEATURES_KHR<span style="color: #990000">,</span>                            <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
        NULL<span style="color: #990000">,</span>                                                                   <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">;</span>

    <span style="color: #008080">VkPhysicalDeviceFeatures2KHR</span> enabledFeatures <span style="color: #990000">=</span>
    <span style="color: #FF0000">{</span>
        VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR<span style="color: #990000">,</span>                       <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
        <span style="color: #990000">&amp;</span>enabledHypotheticalFeatures<span style="color: #990000">,</span>                                           <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">;</span>

    enabledFeatures<span style="color: #990000">.</span>features<span style="color: #990000">.</span>xyz <span style="color: #990000">=</span> VK_TRUE<span style="color: #990000">;</span>
    enabledHypotheticalFeatures<span style="color: #990000">.</span>abc <span style="color: #990000">=</span> VK_TRUE<span style="color: #990000">;</span>

    <span style="color: #008080">VkDeviceCreateInfo</span> deviceCreateInfo <span style="color: #990000">=</span>
    <span style="color: #FF0000">{</span>
        VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO<span style="color: #990000">,</span>                                   <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
        <span style="color: #990000">&amp;</span>enabledFeatures<span style="color: #990000">,</span>                                                       <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
        <span style="color: #990000">...</span>
        NULL<span style="color: #990000">,</span>                                                                   <span style="font-style: italic"><span style="color: #9A1900">// pEnabledFeatures</span></span>
    <span style="color: #FF0000">}</span>

    <span style="color: #008080">VkDevice</span> device<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #000000">vkCreateDevice</span></span><span style="color: #990000">(</span>physicalDevice<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>deviceCreateInfo<span style="color: #990000">,</span> NULL<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>device<span style="color: #990000">);</span>
</tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_version_history">Version History</h4>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2016-09-12 (Jeff Bolz)
</p>
<div class="ulist"><ul>
<li>
<p>
Internal revisions
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 2, 2016-11-02 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Added ability for applications to use the physical-device components of
     device extensions before vkCreateDevice is called.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_maintenance1">VK_KHR_maintenance1</h3>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_maintenance1</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Device extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    70
</p>
</dd>
<dt class="hdlist1">
<strong>Status</strong>
</dt>
<dd>
<p>
    Draft
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Date</strong>
</dt>
<dd>
<p>
    2016-10-26
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    1
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Dan Ginsburg, Valve
</p>
</li>
<li>
<p>
Daniel Koch, NVIDIA
</p>
</li>
<li>
<p>
Daniel Rakos, AMD
</p>
</li>
<li>
<p>
Jan-Harald Fredriksen, ARM
</p>
</li>
<li>
<p>
Jason Ekstrand, Intel
</p>
</li>
<li>
<p>
Jeff Bolz, NVIDIA
</p>
</li>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
John Kessenich, Google
</p>
</li>
<li>
<p>
Michael Worcester, Imagination Technologies
</p>
</li>
<li>
<p>
Neil Henning, Codeplay Software Ltd.
</p>
</li>
<li>
<p>
Piers Daniell, NVIDIA
</p>
</li>
<li>
<p>
Slawomir Grajewski, Intel
</p>
</li>
<li>
<p>
Tobias Hector, Imagination Technologies
</p>
</li>
<li>
<p>
Tom Olson, ARM
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contacts</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Piers Daniell (pdaniell <em>at</em> nvidia.com)
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Overview</strong>
</dt>
<dd>
<p>
<span class="monospaced">VK_KHR_maintenance1</span> adds a collection of minor features that were
intentionally left out or overlooked from the original Vulkan 1.0 release.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>The new features are as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
Allow 2D and 2D array image views to be created from 3D images, which
    can then be used as color framebuffer attachments.
    This allows applications to render to slices of a 3D image.
</p>
</li>
<li>
<p>
Support <code><a href="#vkCmdCopyImage">vkCmdCopyImage</a></code> between 2D array layers and 3D slices.
    This extension allows copying from layers of a 2D array image to slices
    of a 3D image and vice versa.
</p>
</li>
<li>
<p>
Allow negative height to be specified in the
    slink::VkViewport::<code>height</code> field to perform y-inversion of the
    clip-space to framebuffer-space transform.
    This allows apps to avoid having to use gl_Position.y = -gl_Position.y
    in shaders also targeting other APIs.
</p>
</li>
<li>
<p>
Allow implementations to express support for doing just transfers and
    clears of image formats that they otherwise support no other format
    features for.
    This is done by adding new format feature flags
    <code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code> and
    <code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code>.
</p>
</li>
<li>
<p>
Support <code><a href="#vkCmdFillBuffer">vkCmdFillBuffer</a></code> on transfer-only queues.
    Previously <code><a href="#vkCmdFillBuffer">vkCmdFillBuffer</a></code> was defined to only work on command
    buffers allocated from command pools which support graphics or compute
    queues.
    It is now allowed on queues that just support transfer operations.
</p>
</li>
<li>
<p>
Fix the inconsistency of how error conditions are returned between the
    <code><a href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a></code> and <code><a href="#vkCreateComputePipelines">vkCreateComputePipelines</a></code>
    functions and the <code><a href="#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a></code> and
    <code><a href="#vkAllocateCommandBuffers">vkAllocateCommandBuffers</a></code> functions.
</p>
</li>
<li>
<p>
Add new <code>VK_ERROR_OUT_OF_POOL_MEMORY_KHR</code> error so implementations
    can give a more precise reason for <code><a href="#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a></code>
    failures.
</p>
</li>
<li>
<p>
Add a new command <code><a href="#vkTrimCommandPoolKHR">vkTrimCommandPoolKHR</a></code> which gives the
    implementation an opportunity to release any unused command pool memory
    back to the system.
</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="_new_object_types_2">New Object Types</h4>
<div class="paragraph"><p>None.</p></div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_2">New Enum Constants</h4>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_OUT_OF_POOL_MEMORY_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT_KHR</code>
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_new_enums_2">New Enums</h4>
<div class="paragraph"><p>None.</p></div>
</div>
<div class="sect3">
<h4 id="_new_structures_2">New Structures</h4>
<div class="paragraph"><p>None.</p></div>
</div>
<div class="sect3">
<h4 id="_new_functions_2">New Functions</h4>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkTrimCommandPoolKHR">vkTrimCommandPoolKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_issues_2">Issues</h4>
<div class="paragraph"><p>None.</p></div>
</div>
<div class="sect3">
<h4 id="_version_history_2">Version History</h4>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2016-10-26 (Piers Daniell)
</p>
<div class="ulist"><ul>
<li>
<p>
Internal revisions
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_sampler_mirror_clamp_to_edge">VK_KHR_sampler_mirror_clamp_to_edge</h3>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_sampler_mirror_clamp_to_edge</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Device extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    15
</p>
</dd>
<dt class="hdlist1">
<strong>Status</strong>
</dt>
<dd>
<p>
    Final
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Date</strong>
</dt>
<dd>
<p>
    2016-02-16
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    1
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Tobias Hector, Imagination Technologies
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contacts</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Tobias Hector (<a href="mailto:tobias.hector@imgtec.com">tobias.hector@imgtec.com</a>)
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="paragraph"><p><span class="monospaced">VK_KHR_sampler_mirror_clamp_to_edge</span> extends the set of sampler address
modes to include an additional mode
(<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code>) that effectively uses a
texture map twice as large as the original image in which the additional
half of the new image is a mirror image of the original image.</p></div>
<div class="paragraph"><p>This new mode relaxes the need to generate images whose opposite edges match
by using the original image to generate a matching &#8220;mirror image&#8221;.
This mode allows the texture to be mirrored only once in the negative s, t,
and r directions.</p></div>
<div class="sect3">
<h4 id="_new_enum_constants_3">New Enum Constants</h4>
<div class="ulist"><ul>
<li>
<p>
Extending <code><a href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_example">Example</h4>
<div class="paragraph"><p>Creating a sampler with the new address mode in each dimension</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>    <span style="color: #008080">VkSamplerCreateInfo</span> createInfo <span style="color: #990000">=</span>
    <span style="color: #FF0000">{</span>
        VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
        <span style="font-style: italic"><span style="color: #9A1900">// Other members set to application-desired values</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">;</span>

    createInfo<span style="color: #990000">.</span>addressModeU <span style="color: #990000">=</span> VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE<span style="color: #990000">;</span>
    createInfo<span style="color: #990000">.</span>addressModeV <span style="color: #990000">=</span> VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE<span style="color: #990000">;</span>
    createInfo<span style="color: #990000">.</span>addressModeW <span style="color: #990000">=</span> VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE<span style="color: #990000">;</span>

    <span style="color: #008080">VkSampler</span> sampler<span style="color: #990000">;</span>
    <span style="color: #008080">VkResult</span> result <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">vkCreateSampler</span></span><span style="color: #990000">(</span>
        device<span style="color: #990000">,</span>
        <span style="color: #990000">&amp;</span>createInfo<span style="color: #990000">,</span>
        <span style="color: #990000">&amp;</span>sampler<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_version_history_3">Version History</h4>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2016-02-16 (Tobias Hector)
</p>
<div class="ulist"><ul>
<li>
<p>
Initial draft
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_shader_draw_parameters">VK_KHR_shader_draw_parameters</h3>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_shader_draw_parameters</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Device extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    64
</p>
</dd>
<dt class="hdlist1">
<strong>Status</strong>
</dt>
<dd>
<p>
    Complete
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Data</strong>
</dt>
<dd>
<p>
    2016-10-05
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    1
</p>
</dd>
<dt class="hdlist1">
<strong>IP Status</strong>
</dt>
<dd>
<p>
    No known IP claims.
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
<li>
<p>
Requires Vulkan 1.0.
</p>
</li>
<li>
<p>
Requires the <span class="monospaced">SPV_KHR_shader_draw_parameters</span> SPIR-V extension.
</p>
</li>
<li>
<p>
Requires <span class="monospaced">GL_ARB_shader_draw_parameters</span> for GLSL source languages.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Daniel Koch, NVIDIA Corporation
</p>
</li>
<li>
<p>
Jeff Bolz, NVIDIA
</p>
</li>
<li>
<p>
Daniel Rakos, AMD
</p>
</li>
<li>
<p>
Jan-Harald Fredriksen, ARM
</p>
</li>
<li>
<p>
John Kessenich, Google
</p>
</li>
<li>
<p>
Stuart Smith, IMG
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contact</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Daniel Koch (dkoch <em>at</em> nvidia.com)
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Overview</strong>
</dt>
<dd>
<p>
This extension adds support for the following SPIR-V extension in Vulkan:
</p>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">SPV_KHR_shader_draw_parameters</span>
</p>
</li>
</ul></div>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>The extension provides access to three additional built-in shader variables
in Vulkan:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>BaseInstance</code>, which contains the firstInstance parameter passed to
    draw commands,
</p>
</li>
<li>
<p>
<code>BaseVertex</code>, which contains the firstVertex/vertexOffset parameter
    passed to draw commands, and
</p>
</li>
<li>
<p>
<code>DrawIndex</code>, which contains the index of the draw call currently
    being processed from an indirect draw call.
</p>
</li>
</ul></div>
<div class="paragraph"><p>When using GLSL source-based shader languages, the following variables from
<span class="monospaced">GL_ARB_shader_draw_parameters</span> can map to these SPIR-V built-in
decorations:</p></div>
<div class="ulist"><ul>
<li>
<p>
in int gl_BaseInstanceARB; &#8594; <code>BaseInstance</code>,
</p>
</li>
<li>
<p>
in int gl_BaseVertexARB &#8594; <code>BaseVertex</code>, and
</p>
</li>
<li>
<p>
in int gl_DrawIDARB; &#8594; <code>DrawIndex</code>.
</p>
</li>
</ul></div>
</div></div>
</dd>
</dl></div>
<div class="sect3">
<h4 id="_new_object_types_3">New Object Types</h4>
<div class="paragraph"><p>None.</p></div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_4">New Enum Constants</h4>
<div class="paragraph"><p>None.</p></div>
</div>
<div class="sect3">
<h4 id="_new_enums_3">New Enums</h4>
<div class="paragraph"><p>None.</p></div>
</div>
<div class="sect3">
<h4 id="_new_structures_3">New Structures</h4>
<div class="paragraph"><p>None.</p></div>
</div>
<div class="sect3">
<h4 id="_new_functions_3">New Functions</h4>
<div class="paragraph"><p>None.</p></div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables">New Built-In Variables</h4>
<div class="ulist"><ul>
<li>
<p>
<a href="#interfaces-builtin-variables-baseinstance"><code>BaseInstance</code></a>
</p>
</li>
<li>
<p>
<a href="#interfaces-builtin-variables-basevertex"><code>BaseVertex</code></a>
</p>
</li>
<li>
<p>
<a href="#interfaces-builtin-variables-drawindex"><code>DrawIndex</code></a>
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities">New SPIR-V Capabilities</h4>
<div class="ulist"><ul>
<li>
<p>
<a href="#spirvenv-capabilities-table-drawparameters">DrawParameters</a>
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_issues_3">Issues</h4>
<div class="paragraph"><p>1) Is this the same functionality as <span class="monospaced">GL_ARB_shader_draw_parameters</span>?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: It&#8217;s actually a superset as it also adds in support for arrayed
drawing commands.</p></div>
<div class="paragraph"><p>In GL for <span class="monospaced">GL_ARB_shader_draw_parameters</span>, <code>gl_BaseVertexARB</code> holds the
integer value passed to the parameter to the command that resulted in the
current shader invocation.
In the case where the command has no baseVertex parameter, the value of
<code>gl_BaseVertexARB</code> is zero.
This means that <code>gl_BaseVertexARB</code> = baseVertex (for <code>glDrawElements</code>
commands with baseVertex) or 0.
In particular there are no <code>glDrawArrays</code> commands that take a baseVertex
parameter.</p></div>
<div class="paragraph"><p>Now in Vulkan, we have <strong>BaseVertex</strong> = <em>vertexOffset</em> (for indexed drawing
commands) or <em>firstVertex</em> (for arrayed drawing commands), and so Vulkan&#8217;s
version is really a superset of GL functionality.</p></div>
</div>
<div class="sect3">
<h4 id="_version_history_4">Version History</h4>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2016-10-05 (Daniel Koch)
</p>
<div class="ulist"><ul>
<li>
<p>
Internal revisions
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="_window_system_integration_wsi_extensions">Window System Integration (WSI) Extensions</h3>
<div class="sect3">
<h4 id="_editors">Editors</h4>
<div class="paragraph"><p>Significant specification work was performed by the following editors:</p></div>
<div class="ulist"><ul>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
Daniel Rakos, AMD
</p>
</li>
</ul></div>
<div class="paragraph"><p>Relevant information is now documented for each extension.</p></div>
</div>
<div class="sect3">
<h4 id="VK_KHR_surface">VK_KHR_surface</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_surface</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Instance extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    1
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Date</strong>
</dt>
<dd>
<p>
    2016-08-25
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    25
</p>
</dd>
<dt class="hdlist1">
<strong>IP Status</strong>
</dt>
<dd>
<p>
    No known IP claims.
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Patrick Doane, Blizzard
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
David Mao, AMD
</p>
</li>
<li>
<p>
Norbert Nopper, Freescale
</p>
</li>
<li>
<p>
Alon Or-bach, Samsung
</p>
</li>
<li>
<p>
Daniel Rakos, AMD
</p>
</li>
<li>
<p>
Graham Sellers, AMD
</p>
</li>
<li>
<p>
Jeff Vigil, Qualcomm
</p>
</li>
<li>
<p>
Chia-I Wu, LunarG
</p>
</li>
<li>
<p>
Jason Ekstrand, Intel
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contacts</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="paragraph"><p>The <span class="monospaced">VK_KHR_surface</span> extension is an instance extension.
It introduces <code><a href="#VkSurfaceKHR">VkSurfaceKHR</a></code> objects, which abstract native platform
surface or window objects for use with Vulkan.
It also provides a way to determine whether a queue family in a physical
device supports presenting to particular surface.</p></div>
<div class="paragraph"><p>Separate extensions for each each platform provide the mechanisms for
creating <code><a href="#VkSurfaceKHR">VkSurfaceKHR</a></code> objects, but once created they may be used in
this and other platform-independent extensions, in particular the
<span class="monospaced">VK_KHR_swapchain</span> extension.</p></div>
<div class="sect4">
<h5 id="_new_object_types_4">New Object Types</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkSurfaceKHR">VkSurfaceKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_5">New Enum Constants</h5>
<div class="ulist"><ul>
<li>
<p>
Extending <code>VkResult</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_SURFACE_LOST_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_enums_4">New Enums</h5>
<div class="ulist"><ul>
<li>
<p>
<code>VkSurfaceTransformFlagBitsKHR</code>
</p>
</li>
<li>
<p>
<code>VkPresentModeKHR</code>
</p>
</li>
<li>
<p>
<code>VkColorSpaceKHR</code>
</p>
</li>
<li>
<p>
<code>VkCompositeAlphaFlagBitsKHR</code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_structures_4">New Structures</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkSurfaceFormatKHR">VkSurfaceFormatKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_functions_4">New Functions</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkDestroySurfaceKHR">vkDestroySurfaceKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_examples_2">Examples</h5>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The example code for the <span class="monospaced">VK_KHR_surface</span> and <span class="monospaced">VK_KHR_swapchain</span> extensions
was removed from the appendix after revision 1.0.29.
This WSI example code was ported to the cube demo that is shipped with the
official Khronos SDK, and is being kept up-to-date in that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-LoaderAndValidationLayers/blob/master/demos/cube.c">https://github.com/KhronosGroup/Vulkan-LoaderAndValidationLayers/blob/master/demos/cube.c</a>).</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect4">
<h5 id="_issues_4">Issues</h5>
<div class="paragraph"><p>1) Should this extension include a method to query whether a physical device
supports presenting to a specific window or native surface on a given
platform?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Yes.
Without this, applications would need to create a device instance to
determine whether a particular window can be presented to.
Knowing that a device supports presentation to a platform in general is not
sufficient, as a single machine might support multiple seats, or instances
of the platform that each use different underlying physical devices.
Additionally, on some platforms, such as the X Window System, different
drivers and devices might be used for different windows depending on which
section of the desktop they exist on.</p></div>
<div class="paragraph"><p>2) Should the <code><a href="#vkGetSurfacePropertiesKHR">vkGetSurfacePropertiesKHR</a></code>, <code><a href="#vkGetSurfaceFormatsKHR">vkGetSurfaceFormatsKHR</a></code>,
and <code><a href="#vkGetSurfacePresentModesKHR">vkGetSurfacePresentModesKHR</a></code> functions from <span class="monospaced">VK_KHR_swapchain</span> be
modified to operate on physical devices and moved to this extension to
implement the resolution of issue 1?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: No, separate query functions are needed, as the purposes served
are similar but incompatible.
The <code><a href="#vkGetSurface">vkGetSurface</a></code>*KHR functions return information that could
potentially depend on an initialized device.
For example, the formats supported for presentation to the surface might
vary depending on which device extensions are enabled.
The query introduced to resolve issue 1 should be used only to query generic
driver or platform properties.
The physical device parameter is intended to serve only as an identifier
rather than a stateful object.</p></div>
<div class="paragraph"><p>3) Should Vulkan include support Xlib or XCB as the API for accessing the X
Window System platform?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Both.
XCB is a more modern and efficient API, but Xlib usage is deeply ingrained
in many applications and likely will remain in use for the foreseeable
future.
Not all drivers necessarily need to support both, but including both as
options in the core specification will probably encourage support, which
should in turn eases adoption of the Vulkan API in older codebases.
Additionally, the performance improvements possible with XCB likely will not
have a measurable impact on the performance of Vulkan presentation and other
minimal window system interactions defined here.</p></div>
<div class="paragraph"><p>4) Should the GBM platform be included in the list of platform enums?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Deferred, and will be addressed with a platform-specific
extension to be written in the future.</p></div>
</div>
<div class="sect4">
<h5 id="_version_history_5">Version History</h5>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2015-05-20 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Initial draft, based on LunarG KHR spec, other KHR specs, patches
     attached to bugs.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 2, 2015-05-22 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Created initial Description section.
</p>
</li>
<li>
<p>
Removed query for whether a platform requires the use of a queue for
     presentation, since it was decided that presentation will always be
     modeled as being part of the queue.
</p>
</li>
<li>
<p>
Fixed typos and other minor mistakes.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 3, 2015-05-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Improved the Description section.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 4, 2015-05-27 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Fixed compilation errors in example code.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 5, 2015-06-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added issues 1 and 2 and made related spec updates.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 6, 2015-06-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Merged the platform type mappings table previously removed from
     VK_KHR_swapchain with the platform description table in this spec.
</p>
</li>
<li>
<p>
Added issues 3 and 4 documenting choices made when building the initial
     list of native platforms supported.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 7, 2015-06-11 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated table 1 per input from the KHR TSG.
</p>
</li>
<li>
<p>
Updated issue 4 (GBM) per discussion with Daniel Stone.
     He will create a platform-specific extension sometime in the future.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 8, 2015-06-17 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated enum-extending values using new convention.
</p>
</li>
<li>
<p>
Fixed the value of VK_SURFACE_PLATFORM_INFO_TYPE_SUPPORTED_KHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 9, 2015-06-17 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Rebased on Vulkan API version 126.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 10, 2015-06-18 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Marked issues 2 and 3 resolved.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 11, 2015-06-23 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Examples now show use of function pointers for extension functions.
</p>
</li>
<li>
<p>
Eliminated extraneous whitespace.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 12, 2015-07-07 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Added error section describing when each error is expected to be
     reported.
</p>
</li>
<li>
<p>
Replaced the term "queue node index" with "queue family index" in the
     spec as that is the agreed term to be used in the latest version of the
     core header and spec.
</p>
</li>
<li>
<p>
Replaced bool32_t with VkBool32.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 13, 2015-08-06 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated spec against latest core API header version.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 14, 2015-08-20 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed this extension and all of its enumerations, types, functions,
     etc.
     This makes it compliant with the proposed standard for Vulkan
     extensions.
</p>
</li>
<li>
<p>
Switched from "revision" to "version", including use of the
     VK_MAKE_VERSION macro in the header file.
</p>
</li>
<li>
<p>
Did miscellaneous cleanup, etc.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 15, 2015-08-20 (Ian Elliott&#8212;porting a 2015-07-29 change from
   James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Moved the surface transform enums here from VK_WSI_swapchain so they
     could be re-used by VK_WSI_display.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 16, 2015-09-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Restore single-field revision number.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 17, 2015-09-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Fix example code compilation errors.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 18, 2015-09-26 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Replaced VkSurfaceDescriptionKHR with the VkSurfaceKHR object, which is
     created via layered extensions.
     Added VkDestroySurfaceKHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 19, 2015-09-28 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed from VK_EXT_KHR_swapchain to VK_EXT_KHR_surface.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 20, 2015-09-30 (Jeff Vigil)
</p>
<div class="ulist"><ul>
<li>
<p>
Add error result VK_ERROR_SURFACE_LOST_KHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 21, 2015-10-15 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated the resolution of issue #2 and include the surface capability
     queries in this extension.
</p>
</li>
<li>
<p>
Renamed SurfaceProperties to SurfaceCapabilities as it better reflects
     that the values returned are the capabilities of the surface on a
     particular device.
</p>
</li>
<li>
<p>
Other minor cleanup and consistency changes.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 22, 2015-10-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed from VK_EXT_KHR_surface to VK_KHR_surface.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 23, 2015-11-03 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Added allocation callbacks to vkDestroySurfaceKHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 24, 2015-11-10 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Removed VkSurfaceTransformKHR.
     Use VkSurfaceTransformFlagBitsKHR instead.
</p>
</li>
<li>
<p>
Rename VkSurfaceCapabilitiesKHR member maxImageArraySize to
     maxImageArrayLayers.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 25, 2016-01-14 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Moved VK_ERROR_NATIVE_WINDOW_IN_USE_KHR from the VK_KHR_android_surface
     to the VK_KHR_surface extension.
</p>
</li>
</ul></div>
</li>
<li>
<p>
2016-08-23 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Update the example code, to not have so many characters per line, and
     to split out a new example to show how to obtain function pointers.
</p>
</li>
</ul></div>
</li>
<li>
<p>
2016-08-25 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
A note was added at the beginning of the example code, stating that it
     will be removed from future versions of the appendix.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_swapchain">VK_KHR_swapchain</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_swapchain</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Device extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    2
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Date</strong>
</dt>
<dd>
<p>
    2016-05-04
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    68
</p>
</dd>
<dt class="hdlist1">
<strong>IP Status</strong>
</dt>
<dd>
<p>
    No known IP claims.
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
<li>
<p>
This extension requires <span class="monospaced">VK_KHR_surface</span>.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Patrick Doane, Blizzard
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
Mathias Heyer, NVIDIA
</p>
</li>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
David Mao, AMD
</p>
</li>
<li>
<p>
Norbert Nopper, Freescale
</p>
</li>
<li>
<p>
Alon Or-bach, Samsung
</p>
</li>
<li>
<p>
Daniel Rakos, AMD
</p>
</li>
<li>
<p>
Graham Sellers, AMD
</p>
</li>
<li>
<p>
Jeff Vigil, Qualcomm
</p>
</li>
<li>
<p>
Chia-I Wu, LunarG
</p>
</li>
<li>
<p>
Jason Ekstrand, Intel
</p>
</li>
<li>
<p>
Matthaeus G.
    Chajdas, AMD
</p>
</li>
<li>
<p>
Ray Smith, ARM
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contacts</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="paragraph"><p>The <span class="monospaced">VK_KHR_swapchain</span> extension is the device-level companion to the
<span class="monospaced">VK_KHR_surface</span> extension.
It introduces <code><a href="#VkSwapchainKHR">VkSwapchainKHR</a></code> objects, which provide the ability to
present rendering results to a surface.</p></div>
<div class="sect4">
<h5 id="_new_object_types_5">New Object Types</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkSwapchainKHR">VkSwapchainKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_6">New Enum Constants</h5>
<div class="ulist"><ul>
<li>
<p>
Extending <code>VkStructureType</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_STRUCTURE_TYPE_PRESENT_INFO_KHR</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
Extending <code>VkImageLayout</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
Extending <code>VkResult</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUBOPTIMAL_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DATE_KHR</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_enums_5">New Enums</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_structures_5">New Structures</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkPresentInfoKHR">VkPresentInfoKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_functions_5">New Functions</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetSwapchainImagesKHR">vkGetSwapchainImagesKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_issues_5">Issues</h5>
<div class="paragraph"><p>1) Does this extension allow the application to specify the memory backing
of the presentable images?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: No.
Unlike standard images, the implementation will allocate the memory backing
of the presentable image.</p></div>
<div class="paragraph"><p>2) What operations are allowed on presentable images?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: This is determined by the image usage flags specified when
creating the presentable image&#8217;s swapchain.</p></div>
<div class="paragraph"><p>3) Does this extension support MSAA presentable images?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: No.
Presentable images are always single-sampled.
Multi-sampled rendering must use regular images.
To present the rendering results the application must manually resolve the
multi- sampled image to a single-sampled presentable image prior to
presentation.</p></div>
<div class="paragraph"><p>4) Does this extension support stereo/multi-view presentable images?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Yes.
The number of views associated with a presentable image is determined by the
imageArraySize specified when creating a swapchain.
All presentable images in a given swapchain use the same array size.</p></div>
<div class="paragraph"><p>5) Are the layers of stereo presentable images half-sized?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: No.
The image extents always match those requested by the application.</p></div>
<div class="paragraph"><p>6) Do the &#8220;present&#8221; and &#8220;acquire next image&#8221; commands operate on a
queue? If not, do they need to include explicit semaphore objects to
interlock them with queue operations?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: The present command operates on a queue.
The image ownership operation it represents happens in order with other
operations on the queue, so no explicit semaphore object is required to
synchronize its actions.</p></div>
<div class="paragraph"><p>Applications may want to acquire the next image in separate threads from
those in which they manage their queue, or in multiple threads.
To make such usage easier, the acquire next image command takes a semaphore
to signal as a method of explicit synchronization.
The application must later queue a wait for this semaphore before queuing
execution of any commands using the image.</p></div>
<div class="paragraph"><p>7) Does <code><a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code> block if no images are available?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: The command takes a timeout parameter.
Special values for the timeout are 0, which makes the call a non-blocking
operation, and UINT64_MAX, which blocks indefinitely.
Values in between will block for up to the specified time.
The call will return when an image becomes available or an error occurs.
It may, but is not required to, return before the specified timeout expires
if the swapchain becomes out of date.</p></div>
<div class="paragraph"><p>8) Can multiple presents be queued using one QueuePresent call?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Yes.
<code><a href="#VkPresentInfoKHR">VkPresentInfoKHR</a></code> contains a list of swapchains and corresponding image
indices that will be presented.
When supported, all presentations queued with a single
<code><a href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code> call will be applied atomically as one operation.
The same swapchain must not appear in the list more than once.
Later extensions may provide applications stronger guarantees of atomicity
for such present operations, and/or allow them to query whether atomic
presentation of a particular group of swapchains is possible.</p></div>
<div class="paragraph"><p>9) How do the presentation and acquire next image functions notify the
application the targeted surface has changed?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Two new result codes are introduced for this purpose:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>VK_SUBOPTIMAL_KHR</code> - Presentation will still succeed, subject to
    the window resize behavior, but the swapchain is no longer configured
    optimally for the surface it targets.
    Applications should query updated surface information and recreate their
    swapchain at the next convenient opportunity.
</p>
</li>
<li>
<p>
<code>VK_ERROR_OUT_OF_DATE_KHR</code> - Failure.
    The swapchain is no longer compatible with the surface it targets.
    The application must query updated surface information and recreate the
    swapchain before presentation will succeed.
</p>
</li>
</ul></div>
<div class="paragraph"><p>These can be returned by both <code><a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code> and
<code><a href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code>.</p></div>
<div class="paragraph"><p>10) Does the <code><a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code> command return a semaphore to the
application via an output parameter, or accept a semaphore to signal from
the application as an object handle parameter?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Accept a semaphore to signal as an object handle.
This avoids the need to specify whether the application must destroy the
semaphore or whether it is owned by the swapchain, and if the latter, what
its lifetime is and whether it can be re-used for other operations once it
is received from <code><a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>.</p></div>
<div class="paragraph"><p>11) What types of swapchain queuing behavior should be exposed? Options
include swap interval specification, mailbox/most recent vs.
FIFO queue management, targeting specific vertical blank intervals or
absolute times for a given present operation, and probably others.
For some of these, whether they are specified at swapchain creation time or
as per-present parameters needs to be decided as well.</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: The base swapchain extension will expose 3 possible behaviors
(of which, FIFO will always be supported):</p></div>
<div class="ulist"><ul>
<li>
<p>
Immediate present: Does not wait for vertical blanking period to update
    the current image, likely resulting in visible tearing.
    No internal queue is used.
    Present requests are applied immediately.
</p>
</li>
<li>
<p>
Mailbox queue: Waits for the next vertical blanking period to update the
    current image.
    No tearing should be observed.
    An internal single-entry queue is used to hold pending presentation
    requests.
    If the queue is full when a new presentation request is received, the
    new request replaces the existing entry, and any images associated with
    the prior entry become available for re-use by the application.
</p>
</li>
<li>
<p>
FIFO queue: Waits for the next vertical blanking period to update the
    current image.
    No tearing should be observed.
    An internal queue containing <span class="eq"><code>numSwapchainImages</code> - 1</span> entries
    is used to hold pending presentation requests.
    New requests are appended to the end of the queue, and one request is
    removed from the beginning of the queue and processed during each
    vertical blanking period in which the queue is non-empty
</p>
</li>
</ul></div>
<div class="paragraph"><p>Not all surfaces will support all of these modes, so the modes supported
will be returned using a surface info query.
All surfaces must support the FIFO queue mode.
Applications must choose one of these modes up front when creating a
swapchain.
Switching modes can be accomplished by recreating the swapchain.</p></div>
<div class="paragraph"><p>12) Can <code>VK_PRESENT_MODE_MAILBOX_KHR</code> provide non-blocking guarantees
for <code><a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>? If so, what is the proper criteria?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Yes.
The difficulty is not immediately obvious here.
Naively, if at least 3 images are requested, mailbox mode should always have
an image available for the application if the application does not own any
images when the call to <code><a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code> was made.
However, some presentation engines may have more than one &#8220;current&#8221; image,
and would still need to block in some cases.
The right requirement appears to be that if the application allocates the
surface&#8217;s minimum number of images + 1 then it is guaranteed non-blocking
behavior when it does not currently own any images.</p></div>
<div class="paragraph"><p>13) Is there a way to create and initialize a new swapchain for a surface
that has generated a <code>VK_SUBOPTIMAL_KHR</code> return code while still using
the old swapchain?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Not as part of this specification.
This could be useful to allow the application to create an &#8220;optimal&#8221;
replacement swapchain and rebuild all its command buffers using it in a
background thread at a low priority while continuing to use the
&#8220;suboptimal&#8221; swapchain in the main thread.
It could probably use the same &#8220;atomic replace&#8221; semantics proposed for
recreating direct-to-device swapchains without incurring a mode switch.
However, after discussion, it was determined some platforms probably could
not support concurrent swapchains for the same surface though, so this will
be left out of the base KHR extensions.
A future extension could add this for platforms where it is supported.</p></div>
<div class="paragraph"><p>14) Should there be a special value for
<code><a href="#VkSurfacePropertiesKHR">VkSurfacePropertiesKHR</a></code>::<code>maxImageCount</code> to indicate there are no
practical limits on the number of images in a swapchain?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Yes.
There where often be cases where there is no practical limit to the number
of images in a swapchain other than the amount of available resources (I.e.,
memory) in the system.
Trying to derive a hard limit from things like memory size is prone to
failure.
It is better in such cases to leave it to applications to figure such soft
limits out via trial/failure iterations.</p></div>
<div class="paragraph"><p>15) Should there be a special value for
<code><a href="#VkSurfacePropertiesKHR">VkSurfacePropertiesKHR</a></code>::<code>currentExtent</code> to indicate the size of
the platform surface is undefined?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Yes.
On some platforms (Wayland, for example), the surface size is defined by the
images presented to it rather than the other way around.</p></div>
<div class="paragraph"><p>16) Should there be a special value for
<code><a href="#VkSurfacePropertiesKHR">VkSurfacePropertiesKHR</a></code>::<code>maxImageExtent</code> to indicate there is no
practical limit on the surface size?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: No.
It seems unlikely such a system would exist.
0 could be used to indicate the platform places no limits on the extents
beyond those imposed by Vulkan for normal images, but this query could just
as easily return those same limits, so a special &#8220;unlimited&#8221; value does
not seem useful for this field.</p></div>
<div class="paragraph"><p>17) How should surface rotation and mirroring be exposed to applications?
How do they specify rotation and mirroring transforms applied prior to
presentation?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Applications can query both the supported and current transforms
of a surface.
Both are specified relative to the device&#8217;s &#8220;natural&#8221; display rotation and
direction.
The supported transforms indicates which orientations the presentation
engine accepts images in.
For example, a presentation engine that does not support transforming
surfaces as part of presentation, and which is presenting to a surface that
is displayed with a 90-degree rotation, would return only one supported
transform bit: <code>VK_SURFACE_TRANSFORM_ROT90_BIT_KHR</code>.
Applications must transform their rendering by the transform they specify
when creating the swapchain in preTransform field.</p></div>
<div class="paragraph"><p>18) Can surfaces ever not support <code>VK_MIRROR_NONE</code>? Can they support
vertical and horizontal mirroring simultaneously? Relatedly, should
<code>VK_MIRROR_NONE</code>[_BIT] be zero, or bit one, and should applications be
allowed to specify multiple pre and current mirror transform bits, or
exactly one?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Since some platforms may not support presenting with a transform
other than the native window&#8217;s current transform, and prerotation/mirroring
are specified relative to the device&#8217;s natural rotation and direction,
rather than relative to the surface&#8217;s current rotation and direction, it is
necessary to express lack of support for no mirroring.
To allow this, the <code>MIRROR_NONE</code> enum must occupy a bit in the flags.
Since <code>MIRROR_NONE</code> must be a bit in the bitmask rather than a bitmask
with no values set, allowing more than one bit to be set in the bitmask
would make it possible to describe undefined transforms such as
<code>VK_MIRROR_NONE_BIT</code> | <code>VK_MIRROR_HORIZONTAL_BIT</code>, or a transform
that includes both &#8220;no mirroring&#8221; and ``horizontal mirroring
simultaneously.
Therefore, it is desirable to allow specifying all supported mirroring
transforms using only one bit.
The question then becomes, should there be a
<code>VK_MIRROR_HORIZONTAL_AND_VERTICAL_BIT</code> to represent a simultaneous
horizontal and vertical mirror transform? However, such a transform is
equivalent to a 180 degree rotation, so presentation engines and
applications that wish to support or use such a transform can express it
through rotation instead.
Therefore, 3 exclusive bits are sufficient to express all needed mirroring
transforms.</p></div>
<div class="paragraph"><p>19) Should support for sRGB be required?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: In the advent of UHD and HDR display devices, proper color space
information is vital to the display pipeline represented by the swapchain.
The app can discover the supported format/color-space pairs and select a
pair most suited to its rendering needs.
Currently only the sRGB color space is supported, future extensions may
provide support for more color spaces.
See issues 23 and 24.</p></div>
<div class="paragraph"><p>20) Is there a mechanism to modify or replace an existing swapchain with one
targeting the same surface?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Yes.
This is described above in the text.</p></div>
<div class="paragraph"><p>21) Should there be a way to set prerotation and mirroring using native APIs
when presenting using a Vulkan swapchain?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Yes.
The transforms that can be expressed in this extension are a subset of those
possible on native platforms.
If a platform exposes a method to specify the transform of presented images
for a given surface using native methods and exposes more transforms or
other properties for surfaces than Vulkan supports, it might be impossible,
difficult, or inconvenient to set some of those properties using Vulkan KHR
extensions and some using the native interfaces.
To avoid overwriting properties set using native commands when presenting
using a Vulkan swapchain, the application can set the pretransform to
&#8220;inherit&#8221;, in which case the current native properties will be used, or if
none are available, a platform-specific default will be used.
Platforms that do not specify a reasonable default or do not provide native
mechanisms to specify such transforms should not include the inherit bits in
the supportedTransform bitmask they return in <code><a href="#VkSurfacePropertiesKHR">VkSurfacePropertiesKHR</a></code>.</p></div>
<div class="paragraph"><p>22) Should the content of presentable images be clipped by objects obscuring
their target surface?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Applications can choose which behavior they prefer.
Allowing the content to be clipped could enable more optimal presentation
methods on some platforms, but some applications might rely on the content
of presentable images to perform techniques such as partial updates or
motion blurs.</p></div>
<div class="paragraph"><p>23) What is the purpose of specifying a <code><a href="#VkColorSpaceKHR">VkColorSpaceKHR</a></code> along with
<code><a href="#VkFormat">VkFormat</a></code> when creating a swapchain?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: While Vulkan itself is color space agnostic (e.g. even the
meaning of R, G, B and A can be freely defined by the rendering
application), the swapchain eventually will have to present the images on a
display device with specific color reproduction characteristics.
If any color space transformations are necessary before an image can be
displayed, the color space of the presented image must be known to the
swapchain.
A swapchain will only support a restricted set of color format and -space
pairs.
This set can be discovered via <code><a href="#vkGetSurfaceInfoKHR">vkGetSurfaceInfoKHR</a></code>.
As it can be expected that most display devices support the sRGB color
space, at least one format/color-space pair has to be exposed, where the
color space is <code>VK_COLOR_SPACE_SRGB_NONLINEAR</code>.</p></div>
<div class="paragraph"><p>24) How are sRGB formats and the sRGB color space related?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: While Vulkan exposes a number of SRGB texture formats, using
such formats does not guarantee working in a specific color space.
It merely means that the hardware can directly support applying the
non-linear transfer functions defined by the sRGB standard color space when
reading from or writing to images of that these formats.
Still, it is unlikely that a swapchain will expose a _SRGB format along with
any color space other than <code>VK_COLOR_SPACE_SRGB_NONLINEAR</code>.</p></div>
<div class="paragraph"><p>On the other hand, non-_SRGB formats will be very likely exposed in pair
with a SRGB color space.
This means, the hardware will not apply any transfer function when reading
from or writing to such images, yet they will still be presented on a device
with sRGB display characteristics.
In this case the application is responsible for applying the transfer
function, for instance by using shader math.</p></div>
<div class="paragraph"><p>25) How are the lifetime of surfaces and swapchains targeting them related?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: A surface must outlive any swapchains targeting it.
A <code><a href="#VkSurfaceKHR">VkSurfaceKHR</a></code> owns the binding of the native window to the Vulkan
driver.</p></div>
<div class="paragraph"><p>26) How can the client control the way the alpha channel of swap chain
images is treated by the presentation engine during compositing?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: We should add new enum values to allow the client to negotiate
with the presentation engine on how to treat image alpha values during the
compositing process.
Since not all platforms can practically control this through the Vulkan
driver, a value of INHERIT is provided like for surface transforms.</p></div>
<div class="paragraph"><p>27) Is <code><a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code> the right function to return
<code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code>, or should the various
platform-specific <code><a href="#VkSurface">VkSurface</a></code> factory functions catch this error
earlier?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: For most platforms, the <code><a href="#VkSurface">VkSurface</a></code> structure is a simple
container holding the data that identifies a native window or other object
representing a surface on a particular platform.
For the surface factory functions to return this error, they would likely
need to register a reference on the native objects with the native display
server some how, and ensure no other such references exist.
Surfaces were not intended to be that heavy-weight.</p></div>
<div class="paragraph"><p>Swapchains are intended to be the objects that directly manipulate native
windows and communicate with the native presentation mechanisms.
Swapchains will already need to communicate with the native display server
to negotiate allocation and/or presentation of presentable images for a
native surface.
Therefore, it makes more sense for swapchain creation to be the point at
which native object exclusivity is enforced.
Platforms may choose to enforce further restrictions on the number of
<code><a href="#VkSurface">VkSurface</a></code> objects that may be created for the same native window if
such a requirement makes sense on a particular platform, but a global
requirement is only sensible at the swapchain level.</p></div>
</div>
<div class="sect4">
<h5 id="_examples_3">Examples</h5>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The example code for the <span class="monospaced">VK_KHR_surface</span> and <span class="monospaced">VK_KHR_swapchain</span> extensions
was removed from the appendix after revision 1.0.29.
This WSI example code was ported to the cube demo that is shipped with the
official Khronos SDK, and is being kept up-to-date in that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-LoaderAndValidationLayers/blob/master/demos/cube.c">https://github.com/KhronosGroup/Vulkan-LoaderAndValidationLayers/blob/master/demos/cube.c</a>).</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_6">Version History</h5>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2015-05-20 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Initial draft, based on LunarG KHR spec, other KHR specs, patches
     attached to bugs.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 2, 2015-05-22 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Made many agreed-upon changes from 2015-05-21 KHR TSG meeting.
     This includes using only a queue for presentation, and having an
     explicit function to acquire the next image.
</p>
</li>
<li>
<p>
Fixed typos and other minor mistakes.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 3, 2015-05-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Improved the Description section.
</p>
</li>
<li>
<p>
Added or resolved issues that were found in improving the Description.
     For example, pSurfaceDescription is used consistently, instead of
     sometimes using pSurface.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 4, 2015-05-27 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Fixed some grammatical errors and typos
</p>
</li>
<li>
<p>
Filled in the description of imageUseFlags when creating a swapchain.
</p>
</li>
<li>
<p>
Added a description of swapInterval.
</p>
</li>
<li>
<p>
Replaced the paragraph describing the order of operations on a queue
     for image ownership and presentation.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 5, 2015-05-27 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Imported relevant issues from the (abandoned)
     vk_wsi_persistent_swapchain_images extension.
</p>
</li>
<li>
<p>
Added issues 6 and 7, regarding behavior of the acquire next image and
     present commands with respect to queues.
</p>
</li>
<li>
<p>
Updated spec language and examples to align with proposed resolutions
     to issues 6 and 7.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 6, 2015-05-27 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added issue 8, regarding atomic presentation of multiple swapchains
</p>
</li>
<li>
<p>
Updated spec language and examples to align with proposed resolution to
     issue 8.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 7, 2015-05-27 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Fixed compilation errors in example code, and made related spec fixes.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 8, 2015-05-27 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added issue 9, and the related VK_SUBOPTIMAL_KHR result code.
</p>
</li>
<li>
<p>
Renamed VK_OUT_OF_DATE_KHR to VK_ERROR_OUT_OF_DATE_KHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 9, 2015-05-27 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added inline proposed resolutions (marked with [JRJ]) to some XXX
     questions/issues.
     These should be moved to the issues section in a subsequent update if
     the proposals are adopted.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 10, 2015-05-28 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Converted vkAcquireNextImageKHR back to a non-queue operation that uses
     a VkSemaphore object for explicit synchronization.
</p>
</li>
<li>
<p>
Added issue 10 to determine whether vkAcquireNextImageKHR generates or
     returns semaphores, or whether it operates on a semaphore provided by
     the application.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 11, 2015-05-28 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Marked issues 6, 7, and 8 resolved.
</p>
</li>
<li>
<p>
Renamed VkSurfaceCapabilityPropertiesKHR to VkSurfacePropertiesKHR to
     better convey the mutable nature of the info it contains.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 12, 2015-05-28 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added issue 11 with a proposed resolution, and the related issue 12.
</p>
</li>
<li>
<p>
Updated various sections of the spec to match the proposed resolution
     to issue 11.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 13, 2015-06-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Moved some structures to VK_EXT_KHR_swap_chain to resolve the spec&#8217;s
     issues 1 and 2.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 14, 2015-06-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added code for example 4 demonstrating how an application might make
     use of the two different present and acquire next image KHR result
     codes.
</p>
</li>
<li>
<p>
Added issue 13.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 15, 2015-06-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added issues 14 - 16 and related spec language.
</p>
</li>
<li>
<p>
Fixed some spelling errors.
</p>
</li>
<li>
<p>
Added language describing the meaningful return values for
     vkAcquireNextImageKHR and vkQueuePresentKHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 16, 2015-06-02 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added issues 17 and 18, as well as related spec language.
</p>
</li>
<li>
<p>
Removed some erroneous text added by mistake in the last update.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 17, 2015-06-15 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Changed special value from "-1" to "0" so that the data types can be
     unsigned.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 18, 2015-06-15 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Clarified the values of VkSurfacePropertiesKHR::minImageCount and the
     timeout parameter of the vkAcquireNextImageKHR function.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 19, 2015-06-17 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Misc.
     cleanup.
     Removed resolved inline issues and fixed typos.
</p>
</li>
<li>
<p>
Fixed clarification of VkSurfacePropertiesKHR::minImageCount made in
     version 18.
</p>
</li>
<li>
<p>
Added a brief "Image Ownership" definition to the list of terms used in
     the spec.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 20, 2015-06-17 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated enum-extending values using new convention.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 21, 2015-06-17 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added language describing how to use
     VK_IMAGE_LAYOUT_PRESENT_SOURCE_KHR.
</p>
</li>
<li>
<p>
Cleaned up an XXX comment regarding the description of which queues
     vkQueuePresentKHR can be used on.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 22, 2015-06-17 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Rebased on Vulkan API version 126.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 23, 2015-06-18 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated language for issue 12 to read as a proposed resolution.
</p>
</li>
<li>
<p>
Marked issues 11, 12, 13, 16, and 17 resolved.
</p>
</li>
<li>
<p>
Temporarily added links to the relevant bugs under the remaining
     unresolved issues.
</p>
</li>
<li>
<p>
Added issues 19 and 20 as well as proposed resolutions.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 24, 2015-06-19 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Changed special value for VkSurfacePropertiesKHR::currentExtent back to
     "-1" from "0".
     This value will never need to be unsigned, and "0" is actually a legal
     value.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 25, 2015-06-23 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Examples now show use of function pointers for extension functions.
</p>
</li>
<li>
<p>
Eliminated extraneous whitespace.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 26, 2015-06-25 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Resolved Issues 9 &amp; 10 per KHR TSG meeting.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 27, 2015-06-25 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added oldSwapchain member to VkSwapchainCreateInfoKHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 28, 2015-06-25 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added the "inherit" bits to the rotatation and mirroring flags and the
     associated issue 21.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 29, 2015-06-25 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added the "clipped" flag to VkSwapchainCreateInfoKHR, and the
     associated issue 22.
</p>
</li>
<li>
<p>
Specified that presenting an image does not modify it.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 30, 2015-06-25 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added language to the spec that clarifies the behavior of
     vkCreateSwapchainKHR() when the oldSwapchain field of
     VkSwapchainCreateInfoKHR is not NULL.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 31, 2015-06-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Example of new VkSwapchainCreateInfoKHR members, "oldSwapchain" and
     "clipped".
</p>
</li>
<li>
<p>
Example of using VkSurfacePropertiesKHR::{min|max}ImageCount to set
     VkSwapchainCreateInfoKHR::minImageCount.
</p>
</li>
<li>
<p>
Rename vkGetSurfaceInfoKHR()'s 4th param to "pDataSize", for
     consistency with other functions.
</p>
</li>
<li>
<p>
Add macro with C-string name of extension (just to header file).
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 32, 2015-06-26 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Minor adjustments to the language describing the behavior of
     "oldSwapchain"
</p>
</li>
<li>
<p>
Fixed the version date on my previous two updates.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 33, 2015-06-26 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Add usage flags to VkSwapchainCreateInfoKHR
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 34, 2015-06-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Rename vkQueuePresentKHR()'s 2nd param to "pPresentInfo", for
     consistency with other functions.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 35, 2015-06-26 (Jason Ekstrand)
</p>
<div class="ulist"><ul>
<li>
<p>
Merged the VkRotationFlagBitsKHR and VkMirrorFlagBitsKHR enums into a
     single VkSurfaceTransformFlagBitsKHR enum.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 36, 2015-06-26 (Jason Ekstrand)
</p>
<div class="ulist"><ul>
<li>
<p>
Added a VkSurfaceTransformKHR enum that is not a bitmask.
     Each value in VkSurfaceTransformKHR corresponds directly to one of the
     bits in VkSurfaceTransformFlagBitsKHR so transforming from one to the
     other is easy.
     Having a separate enum means that currentTransform and preTransform are
     now unambiguous by definition.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 37, 2015-06-29 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Corrected one of the signatures of vkAcquireNextImageKHR, which had the
     last two parameters switched from what it is elsewhere in the
     specification and header files.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 38, 2015-06-30 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Corrected a typo in description of the vkGetSwapchainInfoKHR()
     function.
</p>
</li>
<li>
<p>
Corrected a typo in header file comment for VkPresentInfoKHR::sType.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 39, 2015-07-07 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Added error section describing when each error is expected to be
     reported.
</p>
</li>
<li>
<p>
Replaced bool32_t with VkBool32.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 40, 2015-07-10 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated to work with version 138 of the "vulkan.h" header.
     This includes declaring the VkSwapchainKHR type using the new
     VK_DEFINE_NONDISP_HANDLE macro, and no longer extending VkObjectType
     (which was eliminated).
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 41 2015-07-09 (Mathias Heyer)
</p>
<div class="ulist"><ul>
<li>
<p>
Added color space language.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 42, 2015-07-10 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated query mechanism to reflect the convention changes done in the
     core spec.
</p>
</li>
<li>
<p>
Removed "queue" from the name of
     VK_STRUCTURE_TYPE_QUEUE_PRESENT_INFO_KHR to be consistent with the
     established naming convention.
</p>
</li>
<li>
<p>
Removed reference to the no longer existing VkObjectType enum.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 43, 2015-07-17 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Added support for concurrent sharing of swapchain images across queue
     families.
</p>
</li>
<li>
<p>
Updated sample code based on recent changes
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 44, 2015-07-27 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Noted that support for VK_PRESENT_MODE_FIFO_KHR is required.
     That is ICDs may optionally support IMMEDIATE and MAILBOX, but must
     support FIFO.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 45, 2015-08-07 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Corrected a typo in spec file (type and variable name had wrong case
     for the imageColorSpace member of the VkSwapchainCreateInfoKHR struct).
</p>
</li>
<li>
<p>
Corrected a typo in header file (last parameter in
     PFN_vkGetSurfacePropertiesKHR was missing "KHR" at the end of type:
     VkSurfacePropertiesKHR).
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 46, 2015-08-20 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed this extension and all of its enumerations, types, functions,
     etc.
     This makes it compliant with the proposed standard for Vulkan
     extensions.
</p>
</li>
<li>
<p>
Switched from "revision" to "version", including use of the
     VK_MAKE_VERSION macro in the header file.
</p>
</li>
<li>
<p>
Made improvements to several descriptions.
</p>
</li>
<li>
<p>
Changed the status of several issues from PROPOSED to RESOLVED, leaving
     no unresolved issues.
</p>
</li>
<li>
<p>
Resolved several TODOs, did miscellaneous cleanup, etc.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 47, 2015-08-20 (Ian Elliott&#8212;porting a 2015-07-29 change from
   James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Moved the surface transform enums to VK_WSI_swapchain so they could be
     re-used by VK_WSI_display.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 48, 2015-09-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Various minor cleanups.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 49, 2015-09-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Restore single-field revision number.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 50, 2015-09-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Update Example #4 to include code that illustrates how to use the
     oldSwapchain field.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 51, 2015-09-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Fix example code compilation errors.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 52, 2015-09-08 (Matthaeus G.
   Chajdas)
</p>
<div class="ulist"><ul>
<li>
<p>
Corrected a typo.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 53, 2015-09-10 (Alon Or-bach)
</p>
<div class="ulist"><ul>
<li>
<p>
Removed underscore from SWAP_CHAIN left in
     VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 54, 2015-09-11 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Described the execution and memory coherence requirements for image
     transitions to and from VK_IMAGE_LAYOUT_PRESENT_SOURCE_KHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 55, 2015-09-11 (Ray Smith)
</p>
<div class="ulist"><ul>
<li>
<p>
Added errors for destroying and binding memory to presentable images
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 56, 2015-09-18 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added fence argument to vkAcquireNextImageKHR
</p>
</li>
<li>
<p>
Added example of how to meter a CPU thread based on presentation rate.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 57, 2015-09-26 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Replace VkSurfaceDescriptionKHR with VkSurfaceKHR.
</p>
</li>
<li>
<p>
Added issue 25 with agreed resolution.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 58, 2015-09-28 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed from VK_EXT_KHR_device_swapchain to VK_EXT_KHR_swapchain.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 59, 2015-09-29 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Changed vkDestroySwapchainKHR() to return void.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 60, 2015-10-01 (Jeff Vigil)
</p>
<div class="ulist"><ul>
<li>
<p>
Added error result VK_ERROR_SURFACE_LOST_KHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 61, 2015-10-05 (Jason Ekstrand)
</p>
<div class="ulist"><ul>
<li>
<p>
Added the VkCompositeAlpha enum and corresponding structure fields.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 62, 2015-10-12 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Added VK_PRESENT_MODE_FIFO_RELAXED_KHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 63, 2015-10-15 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Moved surface capability queries to VK_EXT_KHR_surface.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 64, 2015-10-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed from VK_EXT_KHR_swapchain to VK_KHR_swapchain.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 65, 2015-10-28 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Added optional pResult member to VkPresentInfoKHR, so that
     per-swapchain results can be obtained from vkQueuePresentKHR().
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 66, 2015-11-03 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Added allocation callbacks to create and destroy functions.
</p>
</li>
<li>
<p>
Updated resource transition language.
</p>
</li>
<li>
<p>
Updated sample code.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 67, 2015-11-10 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Add reserved flags bitmask to VkSwapchainCreateInfoKHR.
</p>
</li>
<li>
<p>
Modify naming and member ordering to match API style conventions, and
     so the VkSwapchainCreateInfoKHR image property members mirror
     corresponding VkImageCreateInfo members but with an <em>image</em> prefix.
</p>
</li>
<li>
<p>
Make VkPresentInfoKHR::pResults non-const; it is an output array
     parameter.
</p>
</li>
<li>
<p>
Make pPresentInfo parameter to vkQueuePresentKHR const.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 68, 2016-04-05 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Moved the "validity" include for vkAcquireNextImage to be in its proper
     place, after the prototype and list of parameters.
</p>
</li>
<li>
<p>
Clarified language about presentable images, including how they are
     acquired, when applications can and cannot use them, etc.
     As part of this, removed language about "ownership" of presentable
     images, and replaced it with more-consistent language about presentable
     images being "acquired" by the application.
</p>
</li>
</ul></div>
</li>
<li>
<p>
2016-08-23 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Update the example code, to use the final API command names, to not
     have so many characters per line, and to split out a new example to
     show how to obtain function pointers.
     This code is more similar to the LunarG "cube" demo program.
</p>
</li>
</ul></div>
</li>
<li>
<p>
2016-08-25 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
A note was added at the beginning of the example code, stating that it
     will be removed from future versions of the appendix.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_display">VK_KHR_display</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_display</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Instance extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    3
</p>
</dd>
<dt class="hdlist1">
<strong>Status</strong>
</dt>
<dd>
<p>
    Draft.
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Date</strong>
</dt>
<dd>
<p>
    2015-12-18
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    21
</p>
</dd>
<dt class="hdlist1">
<strong>IP Status</strong>
</dt>
<dd>
<p>
    No known IP claims.
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
<li>
<p>
Requires <span class="monospaced">VK_KHR_surface</span>.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
Norbert Nopper, Freescale
</p>
</li>
<li>
<p>
Jeff Vigil, Qualcomm
</p>
</li>
<li>
<p>
Daniel Rakos, AMD
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contacts</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
James Jones (jajones <em>at</em> nvidia.com)
</p>
</li>
<li>
<p>
Norbert Nopper (Norbert.Nopper <em>at</em> freescale.com)
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="paragraph"><p>This extension provides the API to enumerate displays and available modes on
a given device.</p></div>
<div class="sect4">
<h5 id="_new_object_types_6">New Object Types</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkDisplayKHR">VkDisplayKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkDisplayModeKHR">VkDisplayModeKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_7">New Enum Constants</h5>
<div class="ulist"><ul>
<li>
<p>
Extending <code>VkStructureType</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR</code>
</p>
</li>
<li>
<p>
<code>VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_enums_6">New Enums</h5>
<div class="ulist"><ul>
<li>
<p>
<code>VkDisplayPlaneAlphaFlagBitsKHR</code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_structures_6">New Structures</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkDisplayPropertiesKHR">VkDisplayPropertiesKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkDisplayModeParametersKHR">VkDisplayModeParametersKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkDisplayModePropertiesKHR">VkDisplayModePropertiesKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkDisplayModeCreateInfoKHR">VkDisplayModeCreateInfoKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkDisplayPlanePropertiesKHR">VkDisplayPlanePropertiesKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkDisplayPlaneCapabilitiesKHR">VkDisplayPlaneCapabilitiesKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_functions_6">New Functions</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceDisplayPropertiesKHR">vkGetPhysicalDeviceDisplayPropertiesKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceDisplayPlanePropertiesKHR">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetDisplayPlaneSupportedDisplaysKHR">vkGetDisplayPlaneSupportedDisplaysKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetDisplayModePropertiesKHR">vkGetDisplayModePropertiesKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkCreateDisplayModeKHR">vkCreateDisplayModeKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkCreateDisplayPlaneSurfaceKHR">vkCreateDisplayPlaneSurfaceKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_issues_6">Issues</h5>
<div class="paragraph"><p>1) Which properties of a mode should be fixed in the mode info vs.
settable in some other function when setting the mode? E.g., do we need to
double the size of the mode pool to include both stereo and non-stereo
modes? YUV and RGB scanout even if they both take RGB input images? BGR vs.
RGB input? etc.</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: Many modern displays support at most a handful of
resolutions and timings natively.
Other &#8220;modes&#8221; are expected to be supported using scaling hardware on the
display engine or GPU.
Other properties, such as rotation and mirroring should not require
duplicating hardware modes just to express all combinations.
Further, these properties may be implemented on a per-display or per-overlay
granularity.</p></div>
<div class="paragraph"><p>To avoid the exponential growth of modes as mutable properties are added, as
was the case with EGLConfig/WGL pixel formats/GLXFBConfig, this
specification should separate out hardware properties and configurable state
into separate objects.
Modes and overlay planes will express capabilities of the hardware, while a
separate structure will allow applications to configure scaling, rotation,
mirroring, color keys, LUT values, alpha masks, etc.
for a given swapchain independent of the mode in use.
Constraints on these settings will be established by properties of the
immutable objects.</p></div>
<div class="paragraph"><p>Note the resolution of this issue may affect issue 5 as well.</p></div>
<div class="paragraph"><p>2) What properties of a display itself are useful?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: This issue is too broad.
It was meant to prompt general discussion, but resolving this issue amounts
to completing this specification.
All interesting properties should be included.
The issue will remain as a placeholder since removing it would make it hard
to parse existing discussion notes that refer to issues by number.</p></div>
<div class="paragraph"><p>3) How are multiple overlay planes within a display or mode enumerated?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: They are referred to by an index.
Each display will report the number of overlay planes it contains.</p></div>
<div class="paragraph"><p>4) Should swapchains be created relative to a mode or a display?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: When using this extension, swapchains are created
relative to a mode and a plane.
The mode implies the display object the swapchain will present to.
If the specified mode is not the display&#8217;s current mode, the new mode will
be applied when the first image is presented to the swapchain, and the
default operating system mode, if any, will be restored when the swapchain
is destroyed.</p></div>
<div class="paragraph"><p>5) Should users query generic ranges from displays and construct their own
modes explicitly using those constraints rather than querying a fixed set of
modes (Most monitors only have one real &#8220;mode&#8221; these days, even though
many support relatively arbitrary scaling, either on the monitor side or in
the GPU display engine, making &#8220;modes&#8221; something of a relic/compatibility
construct).</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: Expose both.
Display info structures will expose a set of predefined modes, as well as
any attributes necessary to construct a customized mode.</p></div>
<div class="paragraph"><p>6) Is it fine if we return the display and display mode handles in the
structure used to query their properties?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: Yes.</p></div>
<div class="paragraph"><p>7) Is there a possibility that not all displays of a device work with all of
the present queues of a device? If yes, how do we determine which displays
work with which present queues?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: No known hardware has such limitations, but
determining such limitations is supported automatically using the existing
<span class="monospaced">VK_KHR_surface</span> and <span class="monospaced">VK_KHR_swapchain</span> query mechanisms.</p></div>
<div class="paragraph"><p>8) Should all presentation need to be done relative to an overlay plane, or
can a display mode + display be used alone to target an output?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: Require specifying a plane explicitly.</p></div>
<div class="paragraph"><p>9) Should displays have an associated window system display, such as an HDC
or Display*?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: No.
Displays are independent of any windowing system in use on the system.
Further, neither HDC nor Display* refer to a physical display object.</p></div>
<div class="paragraph"><p>10) Are displays queried from a physical GPU or from a device instance?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: Developers prefer to query modes directly from the
physical GPU so they can use display information as an input to their device
selection algorithms prior to device creation.
This avoids the need to create dummy device instances to enumerate displays.</p></div>
<div class="paragraph"><p>This preference must be weighed against the extra initialization that must
be done by driver vendors prior to device instance creation to support this
usage.</p></div>
<div class="paragraph"><p>11) Should displays and/or modes be dispatchable objects? If functions are
to take displays, overlays, or modes as their first parameter, they must be
dispatchable objects as defined in Khronos bug 13529.
If they are not added to the list of dispatchable objects, functions
operating on them must take some higher-level object as their first
parameter.
There is no performance case against making them dispatchable objects, but
they would be the first extension objects to be dispatchable.</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: Do not make displays or modes dispatchable.
They will dispatch based on their associated physical device.</p></div>
<div class="paragraph"><p>12) Should hardware cursor capabilities be exposed?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: Defer.
This could be a separate extension on top of the base WSI specs.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">editing-note</div>
<div class="paragraph"><p>There appears to be a missing sentence for the first part of issue 13 here.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>if they are one physical display device to an end user, but may internally
be implemented as two side-by-side displays using the same display engine
(and sometimes cabling) resources as two physically separate display
devices.</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: Tiled displays will appear as a single display object
in this API.</p></div>
<div class="paragraph"><p>14) Should the raw EDID data be included in the display information?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: None.
Unclear whether this is a good idea.
Provides a path for forward-compatibility as new EDID extensions are
introduced, but may be complicated by the outcome of issue 13.</p></div>
<div class="paragraph"><p>15) Should min and max scaling factor capabilities of overlays be exposed?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: Yes.
This is exposed indirectly by allowing applications to query the min/max
position and extent of the source and destination regions from which image
contents are fetched by the display engine when using a particular mode and
overlay pair.</p></div>
<div class="paragraph"><p>16) Should devices be able to expose planes that can be moved between
displays? If so, how?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: None.</p></div>
<div class="paragraph"><p>17) Should there be a way to destroy display modes? If so, does it support
destroying &#8220;built in&#8221; modes?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: None.</p></div>
<div class="paragraph"><p>18) What should the lifetime of display and built-in display mode objects
be?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: The lifetime of the instance.
These objects can not be destroyed.
A future extension may be added to expose a way to destroy these objects
and/or support display hotplug.</p></div>
<div class="paragraph"><p>19) Should persistent mode for smart panels be enabled/disabled at swap
chain creation time, or on a per-present basis.</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: On a per-present basis.</p></div>
</div>
<div class="sect4">
<h5 id="_examples_4">Examples</h5>
<div class="paragraph"><p><strong>Example 1</strong></p></div>
<div class="paragraph"><p>Enumerating displays, display modes, and planes, and creating a VkSurfaceKHR</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>    <span style="font-weight: bold"><span style="color: #0000FF">extern</span></span> <span style="color: #008080">VkBool32</span> <span style="font-weight: bold"><span style="color: #000000">ModeMatchesMyCriteria</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkDisplayModePropertiesKHR</span> <span style="color: #990000">*</span>m<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">extern</span></span> <span style="color: #008080">VkInstance</span> instance<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">extern</span></span> <span style="color: #008080">VkPhysicalDevice</span> physDevice<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">extern</span></span> <span style="color: #008080">VkSurfaceKHR</span> surface<span style="color: #990000">;</span>

    <span style="color: #008080">uint32_t</span> displayCount<span style="color: #990000">,</span> planeCount<span style="color: #990000">,</span> i<span style="color: #990000">,</span> j<span style="color: #990000">,</span> k<span style="color: #990000">;</span>
    VkDisplayPropertiesKHR<span style="color: #990000">*</span> pDisplayProps<span style="color: #990000">;</span>
    VkDisplayPlanePropertiesKHR<span style="color: #990000">*</span> pPlaneProps<span style="color: #990000">;</span>
    <span style="color: #008080">VkDisplayModeKHR</span> myMode <span style="color: #990000">=</span> VK_NULL_HANDLE<span style="color: #990000">;</span>
    <span style="color: #008080">VkDisplayKHR</span> myDisplay <span style="color: #990000">=</span> VK_NULL_HANDLE<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span> bestPlane <span style="color: #990000">=</span> UINT32_MAX<span style="color: #990000">;</span>
    <span style="color: #008080">VkDisplayPlaneAlphaFlagBitsKHR</span> alphaMode <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
    <span style="color: #008080">PFN_vkGetPhysicalDeviceDisplayPropertiesKHR</span> pfnGetPhysicalDeviceDisplayPropertiesKHR<span style="color: #990000">;</span>
    <span style="color: #008080">PFN_vkGetPhysicalDeviceDisplayPlanePropertiesKHR</span> pfnGetPhysicalDeviceDisplayPlanePropertiesKHR<span style="color: #990000">;</span>
    <span style="color: #008080">PFN_vkGetDisplayModePropertiesKHR</span> pfnGetDisplayModePropertiesKHR<span style="color: #990000">;</span>
    <span style="color: #008080">PFN_vkGetDisplayPlaneCapabilitiesKHR</span> pfnGetDisplayPlaneCapabilitiesKHR<span style="color: #990000">;</span>
    <span style="color: #008080">PFN_vkGetDisplayPlaneSupportedDisplaysKHR</span> pfnGetDisplayPlaneSupportedDisplaysKHR<span style="color: #990000">;</span>
    <span style="color: #008080">PFN_vkCreateDisplayPlaneSurfaceKHR</span> pfnCreateDisplayPlaneSurfaceKHR<span style="color: #990000">;</span>

    pfnGetPhysicalDeviceDisplayPropertiesKHR <span style="color: #990000">=</span>
        <span style="color: #990000">(</span>PFN_vkGetPhysicalDeviceDisplayPropertiesKHR<span style="color: #990000">)</span>
        <span style="font-weight: bold"><span style="color: #000000">vkGetInstanceProcAddr</span></span><span style="color: #990000">(</span>instance<span style="color: #990000">,</span> <span style="color: #FF0000">"vkGetPhysicalDeviceDisplayPropertiesKHR"</span><span style="color: #990000">);</span>
    pfnGetPhysicalDeviceDisplayPlanePropertiesKHR <span style="color: #990000">=</span>
        <span style="color: #990000">(</span>PFN_vkGetPhysicalDeviceDisplayPlanePropertiesKHR<span style="color: #990000">)</span>
        <span style="font-weight: bold"><span style="color: #000000">vkGetInstanceProcAddr</span></span><span style="color: #990000">(</span>instance<span style="color: #990000">,</span> <span style="color: #FF0000">"vkGetPhysicalDeviceDisplayPlanePropertiesKHR"</span><span style="color: #990000">);</span>
    pfnGetDisplayModePropertiesKHR <span style="color: #990000">=</span>
        <span style="color: #990000">(</span>PFN_vkGetDisplayModePropertiesKHR<span style="color: #990000">)</span>
        <span style="font-weight: bold"><span style="color: #000000">vkGetInstanceProcAddr</span></span><span style="color: #990000">(</span>instance<span style="color: #990000">,</span> <span style="color: #FF0000">"vkGetDisplayModePropertiesKHR"</span><span style="color: #990000">);</span>
    pfnGetDisplayPlaneCapabilitiesKHR <span style="color: #990000">=</span>
        <span style="color: #990000">(</span>PFN_vkGetDisplayPlaneCapabilitiesKHR<span style="color: #990000">)</span>
        <span style="font-weight: bold"><span style="color: #000000">vkGetInstanceProcAddr</span></span><span style="color: #990000">(</span>instance<span style="color: #990000">,</span> <span style="color: #FF0000">"vkGetDisplayPlaneCapabilitiesKHR"</span><span style="color: #990000">);</span>
    pfnGetDisplayPlaneSupportedDisplaysKHR <span style="color: #990000">=</span>
        <span style="color: #990000">(</span>PFN_vkGetDisplayPlaneSupportedDisplaysKHR<span style="color: #990000">)</span>
        <span style="font-weight: bold"><span style="color: #000000">vkGetInstanceProcAddr</span></span><span style="color: #990000">(</span>instance<span style="color: #990000">,</span> <span style="color: #FF0000">"vkGetDisplayPlaneSupportedDisplaysKHR"</span><span style="color: #990000">);</span>
    pfnCreateDisplayPlaneSurfaceKHR <span style="color: #990000">=</span>
        <span style="color: #990000">(</span>PFN_vkCreateDisplayPlaneSurfaceKHR<span style="color: #990000">)</span>
        <span style="font-weight: bold"><span style="color: #000000">vkGetInstanceProcAddr</span></span><span style="color: #990000">(</span>instance<span style="color: #990000">,</span> <span style="color: #FF0000">"vkCreateDisplayPlaneSurfaceKHR"</span><span style="color: #990000">);</span>

    <span style="font-style: italic"><span style="color: #9A1900">// Get a list of displays on a physical device</span></span>
    displayCount <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #000000">pfnGetPhysicalDeviceDisplayPropertiesKHR</span></span><span style="color: #990000">(</span>physDevice<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>displayCount<span style="color: #990000">,</span> NULL<span style="color: #990000">);</span>

    pDisplayProps <span style="color: #990000">=</span> <span style="color: #990000">(</span>VkDisplayPropertiesKHR<span style="color: #990000">*)</span><span style="font-weight: bold"><span style="color: #000000">malloc</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>VkDisplayPropertiesKHR<span style="color: #990000">)</span> <span style="color: #990000">*</span> displayCount<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">pfnGetPhysicalDeviceDisplayPropertiesKHR</span></span><span style="color: #990000">(</span>physDevice<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>displayCount<span style="color: #990000">,</span> pDisplayProps<span style="color: #990000">);</span>

    <span style="font-style: italic"><span style="color: #9A1900">// Get a list of display planes on a physical device</span></span>
    planeCount <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #000000">pfnGetPhysicalDeviceDisplayPlanePropertiesKHR</span></span><span style="color: #990000">(</span>physDevice<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>planeCount<span style="color: #990000">,</span> NULL<span style="color: #990000">);</span>
    pPlaneProps <span style="color: #990000">=</span> <span style="color: #990000">(</span>VkDisplayPlanePropertiesKHR<span style="color: #990000">*)</span><span style="font-weight: bold"><span style="color: #000000">malloc</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>VkDisplayPlanePropertiesKHR<span style="color: #990000">)</span> <span style="color: #990000">*</span> planeCount<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">pfnGetPhysicalDeviceDisplayPlanePropertiesKHR</span></span><span style="color: #990000">(</span>physDevice<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>planeCount<span style="color: #990000">,</span> pPlaneProps<span style="color: #990000">);</span>

    <span style="font-style: italic"><span style="color: #9A1900">// Get the list of pModes each display supports</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span>i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> displayCount<span style="color: #990000">;</span> <span style="color: #990000">++</span>i<span style="color: #990000">)</span>
    <span style="color: #FF0000">{</span>
        <span style="color: #008080">VkDisplayKHR</span> display <span style="color: #990000">=</span> pDisplayProps<span style="color: #990000">[</span>i<span style="color: #990000">].</span>display<span style="color: #990000">;</span>
        VkDisplayModePropertiesKHR<span style="color: #990000">*</span> pModes<span style="color: #990000">;</span>
        <span style="color: #008080">uint32_t</span> modeCount<span style="color: #990000">;</span>

        <span style="font-weight: bold"><span style="color: #000000">vkGetDisplayModePropertiesKHR</span></span><span style="color: #990000">(</span>physDevice<span style="color: #990000">,</span> display<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>modeCount<span style="color: #990000">,</span> NULL<span style="color: #990000">);</span>

        pModes <span style="color: #990000">=</span> <span style="color: #990000">(</span>VkDisplayModePropertiesKHR<span style="color: #990000">*)</span><span style="font-weight: bold"><span style="color: #000000">malloc</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>VkDisplayModePropertiesKHR<span style="color: #990000">)</span> <span style="color: #990000">*</span> modeCount<span style="color: #990000">);</span>
        <span style="font-weight: bold"><span style="color: #000000">vkGetDisplayModePropertiesKHR</span></span><span style="color: #990000">(</span>physDevice<span style="color: #990000">,</span> display<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>modeCount<span style="color: #990000">,</span> pModes<span style="color: #990000">);</span>

        myMode <span style="color: #990000">=</span> VK_NULL_HANDLE<span style="color: #990000">;</span>
        <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span>j <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> j <span style="color: #990000">&lt;</span> modeCount<span style="color: #990000">;</span> <span style="color: #990000">++</span>j<span style="color: #990000">)</span>
        <span style="color: #FF0000">{</span>
            <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> VkDisplayModePropertiesKHR<span style="color: #990000">*</span> mode <span style="color: #990000">=</span> <span style="color: #990000">&amp;</span>pModes<span style="color: #990000">[</span>i<span style="color: #990000">];</span>

            <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">ModeMatchesMyCriteria</span></span><span style="color: #990000">(</span>mode<span style="color: #990000">))</span>
            <span style="color: #FF0000">{</span>
                myMode <span style="color: #990000">=</span> mode<span style="color: #990000">-&gt;</span>displayMode<span style="color: #990000">;</span>
                <span style="font-weight: bold"><span style="color: #0000FF">break</span></span><span style="color: #990000">;</span>
            <span style="color: #FF0000">}</span>
        <span style="color: #FF0000">}</span>

        <span style="font-weight: bold"><span style="color: #000000">free</span></span><span style="color: #990000">(</span>pModes<span style="color: #990000">);</span>

        <span style="font-style: italic"><span style="color: #9A1900">// If there are no usable pModes found then check the next display.</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>myMode <span style="color: #990000">==</span> VK_NULL_HANDLE<span style="color: #990000">)</span>
            <span style="font-weight: bold"><span style="color: #0000FF">continue</span></span><span style="color: #990000">;</span>

        <span style="font-style: italic"><span style="color: #9A1900">// Find a plane that matches these criteria, in order of preference:</span></span>
        <span style="font-style: italic"><span style="color: #9A1900">// -Is compatible with the chosen display + mode.</span></span>
        <span style="font-style: italic"><span style="color: #9A1900">// -Is not currently bound to another display.</span></span>
        <span style="font-style: italic"><span style="color: #9A1900">// -Supports per-pixel alpha, if possible.</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span>j <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> j <span style="color: #990000">&lt;</span> planeCount<span style="color: #990000">;</span> <span style="color: #990000">++</span>j<span style="color: #990000">)</span>
        <span style="color: #FF0000">{</span>
            <span style="color: #008080">uint32_t</span> supportedCount <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
            VkDisplayKHR<span style="color: #990000">*</span> pSupportedDisplays<span style="color: #990000">;</span>
            <span style="color: #008080">VkDisplayPlaneCapabilitiesKHR</span> planeCaps<span style="color: #990000">;</span>
            <span style="font-style: italic"><span style="color: #9A1900">// See if the plane is compatible with the current display.</span></span>
            <span style="font-weight: bold"><span style="color: #000000">pfnGetDisplayPlaneSupportedDisplaysKHR</span></span><span style="color: #990000">(</span>physDevice<span style="color: #990000">,</span> j<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>supportedCount<span style="color: #990000">,</span> NULL<span style="color: #990000">);</span>

            <span style="font-style: italic"><span style="color: #9A1900">// Plane does not support any displays.  This might happen on a card</span></span>
            <span style="font-style: italic"><span style="color: #9A1900">// that has a fixed mapping between planes and connectors when no</span></span>
            <span style="font-style: italic"><span style="color: #9A1900">// displays are currently attached to this plane's connector, for</span></span>
            <span style="font-style: italic"><span style="color: #9A1900">// example.</span></span>
            <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>supportedCount <span style="color: #990000">==</span> <span style="color: #993399">0</span><span style="color: #990000">)</span>
                <span style="font-weight: bold"><span style="color: #0000FF">continue</span></span><span style="color: #990000">;</span>

            pSupportedDisplays <span style="color: #990000">=</span> <span style="color: #990000">(</span>VkDisplayKHR<span style="color: #990000">*)</span><span style="font-weight: bold"><span style="color: #000000">malloc</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>VkDisplayKHR<span style="color: #990000">)</span> <span style="color: #990000">*</span> supportedCount<span style="color: #990000">);</span>
            <span style="font-weight: bold"><span style="color: #000000">pfnGetDisplayPlaneSupportedDisplaysKHR</span></span><span style="color: #990000">(</span>physDevice<span style="color: #990000">,</span> j<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>supportedCount<span style="color: #990000">,</span> pSupportedDisplays<span style="color: #990000">);</span>

            <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span>k <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> k <span style="color: #990000">&lt;</span> supportedCount<span style="color: #990000">;</span> <span style="color: #990000">++</span>k<span style="color: #990000">)</span>
                <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>pSupportedDisplays<span style="color: #990000">[</span>k<span style="color: #990000">]</span> <span style="color: #990000">==</span> display<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
                    <span style="font-style: italic"><span style="color: #9A1900">// If no supported plane has yet been found, this is</span></span>
                    <span style="font-style: italic"><span style="color: #9A1900">// currently the best available plane.</span></span>
                    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>bestPlane <span style="color: #990000">==</span> UINT32_MAX<span style="color: #990000">)</span>
                        bestPlane <span style="color: #990000">=</span> j<span style="color: #990000">;</span>
                    <span style="font-weight: bold"><span style="color: #0000FF">break</span></span><span style="color: #990000">;</span>
                <span style="color: #FF0000">}</span>

            <span style="font-style: italic"><span style="color: #9A1900">// If the plane cannot be used with the chosen display, keep looking.</span></span>
            <span style="font-style: italic"><span style="color: #9A1900">// Each display must have at least one compatible plane.</span></span>
            <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>k <span style="color: #990000">==</span> supportedCount<span style="color: #990000">)</span>
                <span style="font-weight: bold"><span style="color: #0000FF">continue</span></span><span style="color: #990000">;</span>

            <span style="font-style: italic"><span style="color: #9A1900">// If the plane passed the above test and is currently bound to the</span></span>
            <span style="font-style: italic"><span style="color: #9A1900">// desired display, or is not in use, it is the best plane found so</span></span>
            <span style="font-style: italic"><span style="color: #9A1900">// far.</span></span>
            <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">((</span>pPlaneProps<span style="color: #990000">[</span>j<span style="color: #990000">].</span>currentDisplay <span style="color: #990000">==</span> VK_NULL_HANDLE<span style="color: #990000">)</span> <span style="color: #990000">&amp;&amp;</span>
                <span style="color: #990000">(</span>pPlaneProps<span style="color: #990000">[</span>j<span style="color: #990000">].</span>currentDisplay <span style="color: #990000">==</span> display<span style="color: #990000">))</span>
                bestPlane <span style="color: #990000">=</span> j<span style="color: #990000">;</span>
            <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
                <span style="font-weight: bold"><span style="color: #0000FF">continue</span></span><span style="color: #990000">;</span>

            <span style="font-weight: bold"><span style="color: #000000">pfnGetDisplayPlaneCapabilitiesKHR</span></span><span style="color: #990000">(</span>physDevice<span style="color: #990000">,</span> myMode<span style="color: #990000">,</span> j<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>planeCaps<span style="color: #990000">);</span>

            <span style="font-style: italic"><span style="color: #9A1900">// Prefer a plane that supports per-pixel alpha.</span></span>
            <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>planeCaps<span style="color: #990000">.</span>supportedAlpha <span style="color: #990000">&amp;</span> VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR<span style="color: #990000">)</span>
            <span style="color: #FF0000">{</span>
                <span style="font-style: italic"><span style="color: #9A1900">// This is the perfect plane for the given criteria.  Use it.</span></span>
                bestPlane <span style="color: #990000">=</span> j<span style="color: #990000">;</span>
                alphaMode <span style="color: #990000">=</span> VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR<span style="color: #990000">;</span>
                <span style="font-weight: bold"><span style="color: #0000FF">break</span></span><span style="color: #990000">;</span>
            <span style="color: #FF0000">}</span>
        <span style="color: #FF0000">}</span>
    <span style="color: #FF0000">}</span>

    <span style="font-weight: bold"><span style="color: #000000">free</span></span><span style="color: #990000">(</span>pDisplayProps<span style="color: #990000">);</span>

    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>myDisplay <span style="color: #990000">==</span> VK_NULL_HANDLE <span style="color: #990000">||</span> myMode <span style="color: #990000">==</span> VK_NULL_HANDLE<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-style: italic"><span style="color: #9A1900">// No suitable display + mode could be found.  Abort.</span></span>
        <span style="font-weight: bold"><span style="color: #000000">abort</span></span><span style="color: #990000">();</span>
    <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
        <span style="font-style: italic"><span style="color: #9A1900">// Success.  Create a VkSurfaceKHR object for this plane.</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkDisplaySurfaceCreateInfoKHR</span> createInfo <span style="color: #990000">=</span>
        <span style="color: #FF0000">{</span>
            VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR<span style="color: #990000">,</span>  <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
            NULL<span style="color: #990000">,</span>                                               <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
            <span style="color: #993399">0</span><span style="color: #990000">,</span>                                                  <span style="font-style: italic"><span style="color: #9A1900">// flags</span></span>
            myMode<span style="color: #990000">,</span>                                             <span style="font-style: italic"><span style="color: #9A1900">// displayMode</span></span>
            bestPlane<span style="color: #990000">,</span>                                          <span style="font-style: italic"><span style="color: #9A1900">// planeIndex</span></span>
            pPlaneProps<span style="color: #990000">[</span>bestPlane<span style="color: #990000">].</span>currentStackIndex<span style="color: #990000">,</span>           <span style="font-style: italic"><span style="color: #9A1900">// planeStackIndex</span></span>
            VK_SURFACE_TRANSFORM_IDENTITY_KHR<span style="color: #990000">,</span>                  <span style="font-style: italic"><span style="color: #9A1900">// transform</span></span>
            <span style="color: #993399">1</span><span style="color: #990000">.</span>0f<span style="color: #990000">,</span>                                               <span style="font-style: italic"><span style="color: #9A1900">// globalAlpha</span></span>
            alphaMode<span style="color: #990000">,</span>                                          <span style="font-style: italic"><span style="color: #9A1900">// alphaMode</span></span>
            <span style="color: #990000">...</span>
        <span style="color: #FF0000">}</span>

        <span style="font-weight: bold"><span style="color: #000000">pfnCreateDisplayPlaneSurfaceKHR</span></span><span style="color: #990000">(</span>instance<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>createInfo<span style="color: #990000">,</span> NULL<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>surface<span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect4">
<h5 id="_version_history_7">Version History</h5>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2015-02-24 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Initial draft
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 2, 2015-03-12 (Norbert Nopper)
</p>
<div class="ulist"><ul>
<li>
<p>
Added overlay enumeration for a display.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 3, 2015-03-17 (Norbert Nopper)
</p>
<div class="ulist"><ul>
<li>
<p>
Fixed typos and namings as discussed in Bugzilla.
</p>
</li>
<li>
<p>
Reordered and grouped functions.
</p>
</li>
<li>
<p>
Added functions to query count of display, mode and overlay.
</p>
</li>
<li>
<p>
Added native display handle, which is maybe needed on some platforms to
     create a native Window.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 4, 2015-03-18 (Norbert Nopper)
</p>
<div class="ulist"><ul>
<li>
<p>
Removed primary and virtualPostion members (see comment of James Jones
     in Bugzilla).
</p>
</li>
<li>
<p>
Added native overlay handle to info structure.
</p>
</li>
<li>
<p>
Replaced , with ; in struct.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 6, 2015-03-18 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Added WSI extension suffix to all items.
</p>
</li>
<li>
<p>
Made the whole API more "Vulkanish".
</p>
</li>
<li>
<p>
Replaced all functions with a single vkGetDisplayInfoKHR function to
     better match the rest of the API.
</p>
</li>
<li>
<p>
Made the display, display mode, and overlay objects be first class
     objects, not subclasses of VkBaseObject as they do not support the
     common functions anyways.
</p>
</li>
<li>
<p>
Renamed *Info structures to *Properties.
</p>
</li>
<li>
<p>
Removed overlayIndex field from VkOverlayProperties as there is an
     implicit index already as a result of moving to a "Vulkanish" API.
</p>
</li>
<li>
<p>
Displays are not get through device, but through physical GPU to match
     the rest of the Vulkan API.
     Also this is something ISVs explicitly requested.
</p>
</li>
<li>
<p>
Added issue (6) and (7).
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 7, 2015-03-25 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added an issues section
</p>
</li>
<li>
<p>
Added rotation and mirroring flags
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 8, 2015-03-25 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Combined the duplicate issues sections introduced in last change.
</p>
</li>
<li>
<p>
Added proposed resolutions to several issues.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 9, 2015-04-01 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Rebased extension against Vulkan 0.82.0
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 10, 2015-04-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added issues (10) and (11).
</p>
</li>
<li>
<p>
Added more straw-man issue resolutions, and cleaned up the proposed
     resolution for issue (4).
</p>
</li>
<li>
<p>
Updated the rotation and mirroring enums to have proper bitmask
     semantics.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 11, 2015-04-15 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added proposed resolution for issues (1) and (2).
</p>
</li>
<li>
<p>
Added issues (12), (13), (14), and (15)
</p>
</li>
<li>
<p>
Removed pNativeHandle field from overlay structure.
</p>
</li>
<li>
<p>
Fixed small compilation errors in example code.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 12, 2015-07-29 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Rewrote the guts of the extension against the latest WSI swapchain
     specifications and the latest Vulkan API.
</p>
</li>
<li>
<p>
Address overlay planes by their index rather than an object handle and
     refer to them as "planes" rather than "overlays" to make it slightly
     clearer that even a display with no "overlays" still has at least one
     base "plane" that images can be displayed on.
</p>
</li>
<li>
<p>
Updated most of the issues.
</p>
</li>
<li>
<p>
Added an "extension type" section to the specification header.
</p>
</li>
<li>
<p>
Re-used the VK_EXT_KHR_surface surface transform enumerations rather
     than redefining them here.
</p>
</li>
<li>
<p>
Updated the example code to use the new semantics.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 13, 2015-08-21 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed this extension and all of its enumerations, types, functions,
     etc.
     This makes it compliant with the proposed standard for Vulkan
     extensions.
</p>
</li>
<li>
<p>
Switched from "revision" to "version", including use of the
     VK_MAKE_VERSION macro in the header file.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 14, 2015-09-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Restore single-field revision number.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 15, 2015-09-08 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added alpha flags enum.
</p>
</li>
<li>
<p>
Added premultiplied alpha support.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 16, 2015-09-08 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added description section to the spec.
</p>
</li>
<li>
<p>
Added issues 16 - 18.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 17, 2015-10-02 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Planes are now a property of the entire device rather than individual
     displays.
     This allows planes to be moved between multiple displays on devices
     that support it.
</p>
</li>
<li>
<p>
Added a function to create a VkSurfaceKHR object describing a display
     plane and mode to align with the new per-platform surface creation
     conventions.
</p>
</li>
<li>
<p>
Removed detailed mode timing data.
     It was agreed that the mode extents and refresh rate are sufficient for
     current use cases.
     Other information could be added back2 in as an extension if it is
     needed in the future.
</p>
</li>
<li>
<p>
Added support for smart/persistent/buffered display devices.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 18, 2015-10-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed from VK_EXT_KHR_display to VK_KHR_display.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 19, 2015-11-02 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated example code to match revision 17 changes.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 20, 2015-11-03 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Added allocation callbacks to creation functions.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 21, 2015-11-10 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Added VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR, and use
     VkDisplayPlaneAlphaFlagBitsKHR for
     VkDisplayPlanePropertiesKHR::alphaMode instead of
     VkDisplayPlaneAlphaFlagsKHR, since it only represents one mode.
</p>
</li>
<li>
<p>
Added reserved flags bitmask to VkDisplayPlanePropertiesKHR.
</p>
</li>
<li>
<p>
Use VkSurfaceTransformFlagBitsKHR instead of obsolete
     VkSurfaceTransformKHR.
</p>
</li>
<li>
<p>
Renamed vkGetDisplayPlaneSupportedDisplaysKHR parameters for clarity.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 22, 2015-12-18 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added missing "planeIndex" parameter to
     vkGetDisplayPlaneSupportedDisplaysKHR()
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_display_swapchain">VK_KHR_display_swapchain</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_display_swapchain</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Device extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    4
</p>
</dd>
<dt class="hdlist1">
<strong>Status</strong>
</dt>
<dd>
<p>
    Draft.
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Date</strong>
</dt>
<dd>
<p>
    2015-11-10
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    9
</p>
</dd>
<dt class="hdlist1">
<strong>IP Status</strong>
</dt>
<dd>
<p>
    No known IP claims.
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
<li>
<p>
Requires <span class="monospaced">VK_KHR_swapchain</span>.
</p>
</li>
<li>
<p>
Requires <span class="monospaced">VK_KHR_display</span>.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
Jeff Vigil, Qualcomm
</p>
</li>
<li>
<p>
Jesse Hall, Google
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contacts</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
James Jones (jajones <em>at</em> nvidia.com)
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="paragraph"><p>This extension provides an API to create a swapchain directly on a device&#8217;s
display without any underlying window system.</p></div>
<div class="sect4">
<h5 id="_new_object_types_7">New Object Types</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_8">New Enum Constants</h5>
<div class="ulist"><ul>
<li>
<p>
Extending <code>VkStructureType</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
Extending <code>VkResult</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_enums_7">New Enums</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_structures_7">New Structures</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkDisplayPresentInfoKHR">VkDisplayPresentInfoKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_functions_7">New Functions</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkCreateSharedSwapchainsKHR">vkCreateSharedSwapchainsKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_issues_7">Issues</h5>
<div class="paragraph"><p>1) Should swapchains sharing images each hold a reference to the images, or
should it be up to the application to destroy the swapchains and images in
an order that avoids the need for reference counting?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: Take a reference.
The lifetime of presentable images is already complex enough.</p></div>
<div class="paragraph"><p>2) Should the srcRect/dstRect parameters be specified as part of the present
command, or at swapchain creation time?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: As part of the presentation command.
This allows moving and scaling the image on the screen without the need to
respecify the mode or create a new swapchain presentable images.</p></div>
<div class="paragraph"><p>3) Should srcRect/dstRect be specified as rects, or separate offset/extent
values?</p></div>
<div class="paragraph"><p><strong>PROPOSED RESOLUTION</strong>: As rects.
Specifying them separately might make it easier for hardware to expose
support for one but not the other, but in such cases applications must just
take care to obey the reported capabilities and not use non-zero offsets or
extents that require scaling, as appropriate.</p></div>
<div class="paragraph"><p>4) How can applications create multiple swapchains that use the same images?</p></div>
<div class="paragraph"><p>RESOLUTION: By calling <code><a href="#vkCreateSharedSwapchainsKHR">vkCreateSharedSwapchainsKHR</a></code>.</p></div>
<div class="paragraph"><p>An earlier resolution used <code><a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>, chaining multiple
<code><a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a></code> structures through <code>pNext</code>.
In order to allow each swapchain to also allow other extension structs, a
level of indirection was used: <code><a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a></code>::<code>pNext</code>
pointed to a different structure, which had both an <code>sType</code>/<code>pNext</code>
for additional extensions, and also had a pointer to the next
<code><a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a></code> structure.
The number of swapchains to be created could only be found by walking this
linked list of alternating structures, and the pSwapchains out parameter was
reinterpreted to be an array of <code><a href="#VkSwapchainKHR">VkSwapchainKHR</a></code> handles.</p></div>
<div class="paragraph"><p>Another option considered was a method to specify a &#8220;shared&#8221; swapchain
when creating a new swapchain, such that groups of swapchains using the same
images could be built up one at a time.
This was deemed unusable because drivers need to know all of the displays an
image will be used on when determining which internal formats and layouts to
use for that image.</p></div>
</div>
<div class="sect4">
<h5 id="_examples_5">Examples</h5>
<div class="paragraph"><p><strong>Example 1</strong></p></div>
<div class="paragraph"><p>Create a swapchain on a display mode and plane</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>    <span style="font-style: italic"><span style="color: #9A1900">// See VK_KHR_display for an example of how to pick a display,</span></span>
    <span style="font-style: italic"><span style="color: #9A1900">// display mode, plane, and how to create a VkSurfaceKHR for</span></span>
    <span style="font-style: italic"><span style="color: #9A1900">// that plane.</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">extern</span></span> <span style="color: #008080">VkPhysicalDevice</span> physDevice<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">extern</span></span> <span style="color: #008080">VkDisplayModePropertiesKHR</span> myModeProps<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">extern</span></span> <span style="color: #008080">VkSurfaceKHR</span> mySurface<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">extern</span></span> <span style="color: #008080">VkDevice</span> device<span style="color: #990000">;</span>

    <span style="color: #008080">uint32_t</span> queueCount<span style="color: #990000">,</span> i<span style="color: #990000">;</span>
    <span style="color: #008080">uint32_t</span> presentQueueFamilyIndex <span style="color: #990000">=</span> UINT32_MAX<span style="color: #990000">;</span>
    <span style="color: #008080">VkBool32</span> supportsPresent<span style="color: #990000">;</span>

    <span style="font-style: italic"><span style="color: #9A1900">// Find a queue family that supports presenting to this surface</span></span>
    <span style="color: #008080">uint32_t</span> familyCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceQueueFamilyProperties</span></span><span style="color: #990000">(</span>physDevice<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>familyCount<span style="color: #990000">,</span> NULL<span style="color: #990000">);</span>

    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span>i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> familyCount<span style="color: #990000">;</span> <span style="color: #990000">++</span>i<span style="color: #990000">)</span>
    <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceSurfaceSupportKHR</span></span><span style="color: #990000">(</span>physDevice<span style="color: #990000">,</span> i<span style="color: #990000">,</span> mySurface<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>supportsPresent<span style="color: #990000">);</span>

        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>supportsPresent<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
            <span style="font-style: italic"><span style="color: #9A1900">// Found a queue family that supports present.  See</span></span>
            <span style="font-style: italic"><span style="color: #9A1900">// VK_KHR_surface for an example of how to find a queue that</span></span>
            <span style="font-style: italic"><span style="color: #9A1900">// supports both presentation and graphics</span></span>
            presentQueueFamilyIndex <span style="color: #990000">=</span> i<span style="color: #990000">;</span>
            <span style="font-weight: bold"><span style="color: #0000FF">break</span></span><span style="color: #990000">;</span>
        <span style="color: #FF0000">}</span>
    <span style="color: #FF0000">}</span>

    <span style="font-style: italic"><span style="color: #9A1900">// Figure out which formats and present modes this surface supports.</span></span>
    <span style="color: #008080">uint32_t</span> formatCount<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceSurfaceFormatsKHR</span></span><span style="color: #990000">(</span>physDevice<span style="color: #990000">,</span> mySurface<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>formatCount<span style="color: #990000">,</span> NULL<span style="color: #990000">);</span>

    VkSurfaceFormatKHR<span style="color: #990000">*</span> formats <span style="color: #990000">=</span> <span style="color: #990000">(</span>VkSurfaceFormatKHR<span style="color: #990000">*)</span><span style="font-weight: bold"><span style="color: #000000">malloc</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>VkSurfaceFormatKHR<span style="color: #990000">)</span> <span style="color: #990000">*</span> formatCount<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">vkGetPhysicalDeviceSurfaceFormatsKHR</span></span><span style="color: #990000">(</span>physDevice<span style="color: #990000">,</span> mySurface<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>formatCount<span style="color: #990000">,</span> formats<span style="color: #990000">);</span>

    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">VkSwapchainCreateInfoKHR</span> createInfo <span style="color: #990000">=</span>
    <span style="color: #FF0000">{</span>
        VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR<span style="color: #990000">,</span>    <span style="font-style: italic"><span style="color: #9A1900">// sType</span></span>
        NULL<span style="color: #990000">,</span>                                           <span style="font-style: italic"><span style="color: #9A1900">// pNext</span></span>
        <span style="color: #993399">0</span><span style="color: #990000">,</span>                                              <span style="font-style: italic"><span style="color: #9A1900">// flags</span></span>
        mySurface<span style="color: #990000">,</span>                                      <span style="font-style: italic"><span style="color: #9A1900">// surface</span></span>
        <span style="color: #993399">3</span><span style="color: #990000">,</span>                                              <span style="font-style: italic"><span style="color: #9A1900">// minImageCount</span></span>
        formats<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">].</span>format<span style="color: #990000">,</span>                              <span style="font-style: italic"><span style="color: #9A1900">// imageFormat</span></span>
        formats<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">].</span>colorSpace<span style="color: #990000">,</span>                          <span style="font-style: italic"><span style="color: #9A1900">// imageColorSpace</span></span>
        myModeProps<span style="color: #990000">.</span>parameters<span style="color: #990000">.</span>visibleRegion<span style="color: #990000">,</span>           <span style="font-style: italic"><span style="color: #9A1900">// imageExtent</span></span>
        <span style="color: #993399">1</span><span style="color: #990000">,</span>                                              <span style="font-style: italic"><span style="color: #9A1900">// imageArrayLayers</span></span>
        VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT<span style="color: #990000">,</span>            <span style="font-style: italic"><span style="color: #9A1900">// imageUsage</span></span>
        VK_SHARING_MODE_EXCLUSIVE<span style="color: #990000">,</span>                      <span style="font-style: italic"><span style="color: #9A1900">// imageSharingMode</span></span>
        <span style="color: #993399">0</span><span style="color: #990000">,</span>                                              <span style="font-style: italic"><span style="color: #9A1900">// queueFamilyIndexCount</span></span>
        NULL<span style="color: #990000">,</span>                                           <span style="font-style: italic"><span style="color: #9A1900">// pQueueFamilyIndices</span></span>
        VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR<span style="color: #990000">,</span>          <span style="font-style: italic"><span style="color: #9A1900">// preTransform</span></span>
        VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR<span style="color: #990000">,</span>              <span style="font-style: italic"><span style="color: #9A1900">// compositeAlpha</span></span>
        VK_PRESENT_MODE_FIFO_KHR<span style="color: #990000">,</span>                       <span style="font-style: italic"><span style="color: #9A1900">// presentMode</span></span>
        VK_TRUE<span style="color: #990000">,</span>                                        <span style="font-style: italic"><span style="color: #9A1900">// clipped</span></span>
        VK_NULL_HANDLE                                  <span style="font-style: italic"><span style="color: #9A1900">// oldSwapchain</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">;</span>

    <span style="color: #008080">VkSwapchainKHR</span> swapchain<span style="color: #990000">;</span>
    <span style="font-style: italic"><span style="color: #9A1900">// This is equivalent to vkCreateSwapchainKHR.</span></span>
    <span style="font-weight: bold"><span style="color: #000000">vkCreateSharedSwapchainsKHR</span></span><span style="color: #990000">(</span>device<span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>createInfo<span style="color: #990000">,</span> NULL<span style="color: #990000">,</span> <span style="color: #990000">&amp;</span>swapchain<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect4">
<h5 id="_version_history_8">Version History</h5>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2015-07-29 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Initial draft
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 2, 2015-08-21 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed this extension and all of its enumerations, types, functions,
     etc.
     This makes it compliant with the proposed standard for Vulkan
     extensions.
</p>
</li>
<li>
<p>
Switched from "revision" to "version", including use of the
     VK_MAKE_VERSION macro in the header file.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 3, 2015-09-01 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Restore single-field revision number.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 4, 2015-09-08 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Allow creating multiple swap chains that share the same images using a
     single call to vkCreateSwapChainKHR().
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 5, 2015-09-10 (Alon Or-bach)
</p>
<div class="ulist"><ul>
<li>
<p>
Removed underscores from SWAP_CHAIN in two enums.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 6, 2015-10-02 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added support for smart panels/buffered displays.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 7, 2015-10-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed from VK_EXT_KHR_display_swapchain to VK_KHR_display_swapchain.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 8, 2015-11-03 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated sample code based on the changes to VK_KHR_swapchain.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 9, 2015-11-10 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Replaced <code>VkDisplaySwapchainCreateInfoKHR</code> with
     vkCreateSharedSwapchainsKHR, changing resolution of issue #4.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_android_surface">VK_KHR_android_surface</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_android_surface</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Instance extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    9
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Date</strong>
</dt>
<dd>
<p>
    2016-01-14
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    6
</p>
</dd>
<dt class="hdlist1">
<strong>IP Status</strong>
</dt>
<dd>
<p>
    No known IP claims.
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
<li>
<p>
Requires <span class="monospaced">VK_KHR_surface</span>.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Patrick Doane, Blizzard
</p>
</li>
<li>
<p>
Jason Ekstrand, Intel
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
<li>
<p>
Courtney Goeltzenleuchter, LunarG
</p>
</li>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
Antoine Labour, Google
</p>
</li>
<li>
<p>
Jon Leech, Khronos
</p>
</li>
<li>
<p>
David Mao, AMD
</p>
</li>
<li>
<p>
Norbert Nopper, Freescale
</p>
</li>
<li>
<p>
Alon Or-bach, Samsung
</p>
</li>
<li>
<p>
Daniel Rakos, AMD
</p>
</li>
<li>
<p>
Graham Sellers, AMD
</p>
</li>
<li>
<p>
Ray Smith, ARM
</p>
</li>
<li>
<p>
Jeff Vigil, Qualcomm
</p>
</li>
<li>
<p>
Chia-I Wu, LunarG
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contacts</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Jesse Hall, Google
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="paragraph"><p>The <span class="monospaced">VK_KHR_android_surface</span> extension is an instance extension.
It provides a mechanism to create a <code><a href="#VkSurfaceKHR">VkSurfaceKHR</a></code> object (defined by
the <span class="monospaced">VK_KHR_surface</span> extension) that refers to an <code>ANativeWindow</code>,
Android&#8217;s native surface type.
The <code>ANativeWindow</code> represents the producer endpoint of any buffer queue,
regardless of consumer endpoint.
Common consumer endpoints for <code>ANativeWindows</code> are the system window
compositor, video encoders, and application-specific compositors importing
the images through a SurfaceTexture.</p></div>
<div class="sect4">
<h5 id="_new_object_types_8">New Object Types</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_9">New Enum Constants</h5>
<div class="ulist"><ul>
<li>
<p>
Extending <code>VkStructureType</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_enums_8">New Enums</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_structures_8">New Structures</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkAndroidSurfaceCreateInfoKHR">VkAndroidSurfaceCreateInfoKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_functions_8">New Functions</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkCreateAndroidSurfaceKHR">vkCreateAndroidSurfaceKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_issues_8">Issues</h5>
<div class="paragraph"><p>1) Does Android need a way to query for compatibility between a particular
physical device (and queue family?) and a specific Android display?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: No.
Currently on Android, any GPU is expected to be able to present to the
system compositor, and all queue families must support the necessary image
layout transitions and synchronization operations.</p></div>
</div>
<div class="sect4">
<h5 id="_version_history_9">Version History</h5>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2015-09-23 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Initial draft.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 2, 2015-10-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed from VK_EXT_KHR_android_surface to VK_KHR_android_surface.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 3, 2015-11-03 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Added allocation callbacks to surface creation function.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 4, 2015-11-10 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Removed VK_ERROR_INVALID_ANDROID_WINDOW_KHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 5, 2015-11-28 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated the surface create function to take a pCreateInfo structure.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 6, 2016-01-14 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Moved VK_ERROR_NATIVE_WINDOW_IN_USE_KHR from the VK_KHR_android_surface
     to the VK_KHR_surface extension.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_mir_surface">VK_KHR_mir_surface</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_mir_surface</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Instance extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    8
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Date</strong>
</dt>
<dd>
<p>
    2015-11-28
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    4
</p>
</dd>
<dt class="hdlist1">
<strong>IP Status</strong>
</dt>
<dd>
<p>
    No known IP claims.
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
<li>
<p>
Requires <span class="monospaced">VK_KHR_surface</span>.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Patrick Doane, Blizzard
</p>
</li>
<li>
<p>
Jason Ekstrand, Intel
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
<li>
<p>
Courtney Goeltzenleuchter, LunarG
</p>
</li>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
Antoine Labour, Google
</p>
</li>
<li>
<p>
Jon Leech, Khronos
</p>
</li>
<li>
<p>
David Mao, AMD
</p>
</li>
<li>
<p>
Norbert Nopper, Freescale
</p>
</li>
<li>
<p>
Alon Or-bach, Samsung
</p>
</li>
<li>
<p>
Daniel Rakos, AMD
</p>
</li>
<li>
<p>
Graham Sellers, AMD
</p>
</li>
<li>
<p>
Ray Smith, ARM
</p>
</li>
<li>
<p>
Jeff Vigil, Qualcomm
</p>
</li>
<li>
<p>
Chia-I Wu, LunarG
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contacts</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="paragraph"><p>The <span class="monospaced">VK_KHR_mir_surface</span> extension is an instance extension.
It provides a mechanism to create a <code><a href="#VkSurfaceKHR">VkSurfaceKHR</a></code> object (defined by
the <span class="monospaced">VK_KHR_surface extension</span>) that refers to a Mir surface, as well as a
query to determine support for rendering to the windows desktop.</p></div>
<div class="sect4">
<h5 id="_new_object_types_9">New Object Types</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_10">New Enum Constants</h5>
<div class="ulist"><ul>
<li>
<p>
Extending <code><a href="#VkStructureType">VkStructureType</a></code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_STRUCTURE_TYPE_MIR_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_enums_9">New Enums</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_structures_9">New Structures</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkMirSurfaceCreateInfoKHR">VkMirSurfaceCreateInfoKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_functions_9">New Functions</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkCreateMirSurfaceKHR">vkCreateMirSurfaceKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceMirPresentationSupportKHR">vkGetPhysicalDeviceMirPresentationSupportKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_issues_9">Issues</h5>
<div class="paragraph"><p>1) Does Mir need a way to query for compatibility between a particular
physical device (and queue family?) and a specific Mir connection, screen,
window, etc.?</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Yes, <code><a href="#vkGetPhysicalDeviceMirPresentationSupportKHR">vkGetPhysicalDeviceMirPresentationSupportKHR</a></code> was
added to address this.</p></div>
</div>
<div class="sect4">
<h5 id="_version_history_10">Version History</h5>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2015-09-23 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
     (later renamed VK_EXT_KHR_surface).
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 2, 2015-10-02 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added vkGetPhysicalDeviceMirPresentationSupportKHR to resolve issue #1.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 3, 2015-10-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed from VK_EXT_KHR_mir_surface to VK_KHR_mir_surface.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 4, 2015-11-28 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated the surface create function to take a pCreateInfo structure.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_wayland_surface">VK_KHR_wayland_surface</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_wayland_surface</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Instance extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    7
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Date</strong>
</dt>
<dd>
<p>
    2015-11-28
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    5
</p>
</dd>
<dt class="hdlist1">
<strong>IP Status</strong>
</dt>
<dd>
<p>
    No known IP claims.
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
<li>
<p>
This extension requires <span class="monospaced">VK_KHR_surface</span>.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Patrick Doane, Blizzard
</p>
</li>
<li>
<p>
Jason Ekstrand, Intel
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
<li>
<p>
Courtney Goeltzenleuchter, LunarG
</p>
</li>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
Antoine Labour, Google
</p>
</li>
<li>
<p>
Jon Leech, Khronos
</p>
</li>
<li>
<p>
David Mao, AMD
</p>
</li>
<li>
<p>
Norbert Nopper, Freescale
</p>
</li>
<li>
<p>
Alon Or-bach, Samsung
</p>
</li>
<li>
<p>
Daniel Rakos, AMD
</p>
</li>
<li>
<p>
Graham Sellers, AMD
</p>
</li>
<li>
<p>
Ray Smith, ARM
</p>
</li>
<li>
<p>
Jeff Vigil, Qualcomm
</p>
</li>
<li>
<p>
Chia-I Wu, LunarG
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contacts</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="paragraph"><p>The <span class="monospaced">VK_KHR_wayland_surface</span> extension is an instance extension.
It provides a mechanism to create a <code><a href="#VkSurfaceKHR">VkSurfaceKHR</a></code> object (defined by
the <span class="monospaced">VK_KHR_surface</span> extension) that refers to a Wayland <code>wl_surface</code>, as
well as a query to determine support for rendering to the windows desktop.</p></div>
<div class="sect4">
<h5 id="_new_object_types_10">New Object Types</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_11">New Enum Constants</h5>
<div class="ulist"><ul>
<li>
<p>
Extending <code>VkStructureType</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_STRUCTURE_TYPE_WAYLAND_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_enums_10">New Enums</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_structures_10">New Structures</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkWaylandSurfaceCreateInfoKHR">VkWaylandSurfaceCreateInfoKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_functions_10">New Functions</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkCreateWaylandSurfaceKHR">vkCreateWaylandSurfaceKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceWaylandPresentationSupportKHR">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_issues_10">Issues</h5>
<div class="paragraph"><p>1) Does Wayland need a way to query for compatibility between a particular
physical device and a specific Wayland display? This would be a more general
query than <code><a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a></code>: if the
Wayland-specific query returned true for a (<code><a href="#VkPhysicalDevice">VkPhysicalDevice</a></code>, struct
wl_display*) pair, then the physical device could be assumed to support
presentation to any <code><a href="#VkSurface">VkSurface</a></code> for surfaces on the display.</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Yes.
<code><a href="#vkGetPhysicalDeviceWaylandPresentationSupportKHR">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a></code> was added to address
this issue.</p></div>
</div>
<div class="sect4">
<h5 id="_version_history_11">Version History</h5>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2015-09-23 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
     (later renamed VK_EXT_KHR_surface).
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 2, 2015-10-02 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added vkGetPhysicalDeviceWaylandPresentationSupportKHR() to resolve
     issue #1.
</p>
</li>
<li>
<p>
Adjusted wording of issue #1 to match the agreed-upon solution.
</p>
</li>
<li>
<p>
Renamed "window" parameters to "surface" to match Wayland conventions.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 3, 2015-10-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed from VK_EXT_KHR_wayland_surface to VK_KHR_wayland_surface.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 4, 2015-11-03 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Added allocation callbacks to vkCreateWaylandSurfaceKHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 5, 2015-11-28 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated the surface create function to take a pCreateInfo structure.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_win32_surface">VK_KHR_win32_surface</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_win32_surface</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Instance extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    10
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Date</strong>
</dt>
<dd>
<p>
    2015-11-28
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    5
</p>
</dd>
<dt class="hdlist1">
<strong>IP Status</strong>
</dt>
<dd>
<p>
    No known IP claims.
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
<li>
<p>
This extension requires <span class="monospaced">VK_KHR_surface</span>.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Patrick Doane, Blizzard
</p>
</li>
<li>
<p>
Jason Ekstrand, Intel
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
<li>
<p>
Courtney Goeltzenleuchter, LunarG
</p>
</li>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
Antoine Labour, Google
</p>
</li>
<li>
<p>
Jon Leech, Khronos
</p>
</li>
<li>
<p>
David Mao, AMD
</p>
</li>
<li>
<p>
Norbert Nopper, Freescale
</p>
</li>
<li>
<p>
Alon Or-bach, Samsung
</p>
</li>
<li>
<p>
Daniel Rakos, AMD
</p>
</li>
<li>
<p>
Graham Sellers, AMD
</p>
</li>
<li>
<p>
Ray Smith, ARM
</p>
</li>
<li>
<p>
Jeff Vigil, Qualcomm
</p>
</li>
<li>
<p>
Chia-I Wu, LunarG
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contacts</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="paragraph"><p>The <span class="monospaced">VK_KHR_win32_surface</span> extension is an instance extension.
It provides a mechanism to create a <code><a href="#VkSurfaceKHR">VkSurfaceKHR</a></code> object (defined by
the <span class="monospaced">VK_KHR_surface</span> extension) that refers to a Win32 <code>HWND</code>, as well as
a query to determine support for rendering to the windows desktop.</p></div>
<div class="sect4">
<h5 id="_new_object_types_11">New Object Types</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_12">New Enum Constants</h5>
<div class="ulist"><ul>
<li>
<p>
Extending <code>VkStructureType</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_enums_11">New Enums</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_structures_11">New Structures</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkWin32SurfaceCreateInfoKHR">VkWin32SurfaceCreateInfoKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_functions_11">New Functions</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkCreateWin32SurfaceKHR">vkCreateWin32SurfaceKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceWin32PresentationSupportKHR">vkGetPhysicalDeviceWin32PresentationSupportKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_issues_11">Issues</h5>
<div class="paragraph"><p>1) Does Win32 need a way to query for compatibility between a particular
physical device and a specific screen? Compatibility between a physical
device and a window generally only depends on what screen the window is on.
However, there is not an obvious way to identify a screen without already
having a window on the screen.</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: No.
While it may be useful, there is not a clear way to do this on Win32.
However, a method was added to query support for presenting to the windows
desktop as a whole.</p></div>
</div>
<div class="sect4">
<h5 id="_version_history_12">Version History</h5>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2015-09-23 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
     (later renamed VK_EXT_KHR_surface).
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 2, 2015-10-02 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added presentation support query for win32 desktops.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 3, 2015-10-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed from VK_EXT_KHR_win32_surface to VK_KHR_win32_surface.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 4, 2015-11-03 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Added allocation callbacks to vkCreateWin32SurfaceKHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 5, 2015-11-28 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated the surface create function to take a pCreateInfo structure.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_xcb_surface">VK_KHR_xcb_surface</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_xcb_surface</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Instance extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    6
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Date</strong>
</dt>
<dd>
<p>
    2015-11-28
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    6
</p>
</dd>
<dt class="hdlist1">
<strong>IP Status</strong>
</dt>
<dd>
<p>
    No known IP claims.
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
<li>
<p>
Requires <span class="monospaced">VK_KHR_surface</span>.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Patrick Doane, Blizzard
</p>
</li>
<li>
<p>
Jason Ekstrand, Intel
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
<li>
<p>
Courtney Goeltzenleuchter, LunarG
</p>
</li>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
Antoine Labour, Google
</p>
</li>
<li>
<p>
Jon Leech, Khronos
</p>
</li>
<li>
<p>
David Mao, AMD
</p>
</li>
<li>
<p>
Norbert Nopper, Freescale
</p>
</li>
<li>
<p>
Alon Or-bach, Samsung
</p>
</li>
<li>
<p>
Daniel Rakos, AMD
</p>
</li>
<li>
<p>
Graham Sellers, AMD
</p>
</li>
<li>
<p>
Ray Smith, ARM
</p>
</li>
<li>
<p>
Jeff Vigil, Qualcomm
</p>
</li>
<li>
<p>
Chia-I Wu, LunarG
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contacts</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="paragraph"><p>The <span class="monospaced">VK_KHR_xcb_surface</span> extension is an instance extension.
It provides a mechanism to create a <code><a href="#VkSurfaceKHR">VkSurfaceKHR</a></code> object (defined by
the <span class="monospaced">VK_KHR_surface extension</span>) that refers to an X11 <code>Window</code>, using the
XCB client-side library, as well as a query to determine support for
rendering via XCB.</p></div>
<div class="sect4">
<h5 id="_new_object_types_12">New Object Types</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_13">New Enum Constants</h5>
<div class="ulist"><ul>
<li>
<p>
Extending <code>VkStructureType</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_STRUCTURE_TYPE_XCB_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_enums_12">New Enums</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_structures_12">New Structures</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkXcbSurfaceCreateInfoKHR">VkXcbSurfaceCreateInfoKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_functions_12">New Functions</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkCreateXcbSurfaceKHR">vkCreateXcbSurfaceKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceXcbPresentationSupportKHR">vkGetPhysicalDeviceXcbPresentationSupportKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_issues_12">Issues</h5>
<div class="paragraph"><p>1) Does XCB need a way to query for compatibility between a particular
physical device and a specific screen? This would be a more general query
than <code><a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a></code>: If it returned true, then
the physical device could be assumed to support presentation to any window
on that screen.</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Yes, this is needed for toolkits that want to create a
<code><a href="#VkDevice">VkDevice</a></code> before creating a window.
To ensure the query is reliable, it must be made against a particular X
visual rather than the screen in general.</p></div>
</div>
<div class="sect4">
<h5 id="_version_history_13">Version History</h5>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2015-09-23 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
     (later renamed VK_EXT_KHR_surface).
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 2, 2015-10-02 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added presentation support query for an (xcb_connection_t*,
     xcb_visualid_t) pair.
</p>
</li>
<li>
<p>
Removed "root" parameter from CreateXcbSurfaceKHR(), as it is redundant
     when a window on the same screen is specified as well.
</p>
</li>
<li>
<p>
Adjusted wording of issue #1 and added agreed upon resolution.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 3, 2015-10-14 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Removed "root" parameter from CreateXcbSurfaceKHR() in one more place.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 4, 2015-10-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed from VK_EXT_KHR_xcb_surface to VK_KHR_xcb_surface.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 5, 2015-10-23 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Added allocation callbacks to vkCreateXcbSurfaceKHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 6, 2015-11-28 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated the surface create function to take a pCreateInfo structure.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_xlib_surface">VK_KHR_xlib_surface</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Name String</strong>
</dt>
<dd>
<p>
    <span class="monospaced">VK_KHR_xlib_surface</span>
</p>
</dd>
<dt class="hdlist1">
<strong>Extension Type</strong>
</dt>
<dd>
<p>
    Instance extension
</p>
</dd>
<dt class="hdlist1">
<strong>Registered Extension Number</strong>
</dt>
<dd>
<p>
    5
</p>
</dd>
<dt class="hdlist1">
<strong>Last Modified Date</strong>
</dt>
<dd>
<p>
    2015-11-28
</p>
</dd>
<dt class="hdlist1">
<strong>Revision</strong>
</dt>
<dd>
<p>
    6
</p>
</dd>
<dt class="hdlist1">
<strong>IP Status</strong>
</dt>
<dd>
<p>
    No known IP claims.
</p>
</dd>
<dt class="hdlist1">
<strong>Dependencies</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
This extension is written against version 1.0 of the Vulkan API.
</p>
</li>
<li>
<p>
Requires <span class="monospaced">VK_KHR_surface</span>.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contributors</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Patrick Doane, Blizzard
</p>
</li>
<li>
<p>
Jason Ekstrand, Intel
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
<li>
<p>
Courtney Goeltzenleuchter, LunarG
</p>
</li>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
Antoine Labour, Google
</p>
</li>
<li>
<p>
Jon Leech, Khronos
</p>
</li>
<li>
<p>
David Mao, AMD
</p>
</li>
<li>
<p>
Norbert Nopper, Freescale
</p>
</li>
<li>
<p>
Alon Or-bach, Samsung
</p>
</li>
<li>
<p>
Daniel Rakos, AMD
</p>
</li>
<li>
<p>
Graham Sellers, AMD
</p>
</li>
<li>
<p>
Ray Smith, ARM
</p>
</li>
<li>
<p>
Jeff Vigil, Qualcomm
</p>
</li>
<li>
<p>
Chia-I Wu, LunarG
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>Contacts</strong>
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="paragraph"><p>The <span class="monospaced">VK_KHR_xlib_surface</span> extension is an instance extension.
It provides a mechanism to create a <code><a href="#VkSurfaceKHR">VkSurfaceKHR</a></code> object (defined by
the <span class="monospaced">VK_KHR_surface</span> extension) that refers to an X11 <code>Window</code>, using the
Xlib client-side library, as well as a query to determine support for
rendering via Xlib.</p></div>
<div class="sect4">
<h5 id="_new_object_types_13">New Object Types</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_14">New Enum Constants</h5>
<div class="ulist"><ul>
<li>
<p>
Extending <code>VkStructureType</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>VK_STRUCTURE_TYPE_XLIB_SURFACE_CREATE_INFO_KHR</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_enums_13">New Enums</h5>
<div class="paragraph"><p>None</p></div>
</div>
<div class="sect4">
<h5 id="_new_structures_13">New Structures</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#VkXlibSurfaceCreateInfoKHR">VkXlibSurfaceCreateInfoKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_new_functions_13">New Functions</h5>
<div class="ulist"><ul>
<li>
<p>
<code><a href="#vkCreateXlibSurfaceKHR">vkCreateXlibSurfaceKHR</a></code>
</p>
</li>
<li>
<p>
<code><a href="#vkGetPhysicalDeviceXlibPresentationSupportKHR">vkGetPhysicalDeviceXlibPresentationSupportKHR</a></code>
</p>
</li>
</ul></div>
</div>
<div class="sect4">
<h5 id="_issues_13">Issues</h5>
<div class="paragraph"><p>1) Does X11 need a way to query for compatibility between a particular
physical device and a specific screen? This would be a more general query
than <code><a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a></code> : if it returned true, then
the physical device could be assumed to support presentation to any window
on that screen.</p></div>
<div class="paragraph"><p><strong>RESOLVED</strong>: Yes, this is needed for toolkits that want to create a
<code><a href="#VkDevice">VkDevice</a></code> before creating a window.
To ensure the query is reliable, it must be made against a particular X
visual rather than the screen in general.</p></div>
</div>
<div class="sect4">
<h5 id="_version_history_14">Version History</h5>
<div class="ulist"><ul>
<li>
<p>
Revision 1, 2015-09-23 (Jesse Hall)
</p>
<div class="ulist"><ul>
<li>
<p>
Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
     (later renamed VK_EXT_KHR_surface).
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 2, 2015-10-02 (James Jones)
</p>
<div class="ulist"><ul>
<li>
<p>
Added presentation support query for (Display*, VisualID) pair.
</p>
</li>
<li>
<p>
Removed "root" parameter from CreateXlibSurfaceKHR(), as it is
     redundant when a window on the same screen is specified as well.
</p>
</li>
<li>
<p>
Added appropriate X errors.
</p>
</li>
<li>
<p>
Adjusted wording of issue #1 and added agreed upon resolution.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 3, 2015-10-14 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed this extension from VK_EXT_KHR_x11_surface to
     VK_EXT_KHR_xlib_surface.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 4, 2015-10-26 (Ian Elliott)
</p>
<div class="ulist"><ul>
<li>
<p>
Renamed from VK_EXT_KHR_xlib_surface to VK_KHR_xlib_surface.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 5, 2015-11-03 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Added allocation callbacks to vkCreateXlibSurfaceKHR.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Revision 6, 2015-11-28 (Daniel Rakos)
</p>
<div class="ulist"><ul>
<li>
<p>
Updated the surface create function to take a pCreateInfo structure.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="boilerplate">Appendix D: API Boilerplate</h2>
<div class="sectionbody">
<div class="paragraph"><p>This appendix defines Vulkan API features that are infrastructure required
for a complete functional description of Vulkan, but do not logically belong
elsewhere in the Specification.</p></div>
<div class="sect2">
<h3 id="boilerplate-sType">Structure Types</h3>
<div class="paragraph"><p>Vulkan structures containing <code>sType</code> members <span role="normative">must</span> have a value of
<code>sType</code> matching the type of the structure, as described more fully in
<a href="#fundamentals-validusage-sType">Valid Usage for Structure Types</a>.
Structure types supported by the Vulkan API include:</p></div>
<div class="listingblock">
<a id="VkStructureType"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VkStructureType <span style="color: #FF0000">{</span>
    VK_STRUCTURE_TYPE_APPLICATION_INFO <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_DEVICE_QUEUE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_SUBMIT_INFO <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">5</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_MAPPED_MEMORY_RANGE <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_BIND_SPARSE_INFO <span style="color: #990000">=</span> <span style="color: #993399">7</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_FENCE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">8</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_SEMAPHORE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">9</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_EVENT_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">10</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_QUERY_POOL_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">11</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">12</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_BUFFER_VIEW_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">13</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">14</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">15</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">16</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PIPELINE_CACHE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">17</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">18</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">19</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">20</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PIPELINE_TESSELLATION_STATE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">21</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">22</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">23</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">24</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PIPELINE_DEPTH_STENCIL_STATE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">25</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">26</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">27</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">28</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_COMPUTE_PIPELINE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">29</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">30</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">31</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">32</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">33</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_DESCRIPTOR_SET_ALLOCATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">34</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET <span style="color: #990000">=</span> <span style="color: #993399">35</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_COPY_DESCRIPTOR_SET <span style="color: #990000">=</span> <span style="color: #993399">36</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">37</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">38</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_COMMAND_POOL_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">39</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">40</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_COMMAND_BUFFER_INHERITANCE_INFO <span style="color: #990000">=</span> <span style="color: #993399">41</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO <span style="color: #990000">=</span> <span style="color: #993399">42</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_RENDER_PASS_BEGIN_INFO <span style="color: #990000">=</span> <span style="color: #993399">43</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_BUFFER_MEMORY_BARRIER <span style="color: #990000">=</span> <span style="color: #993399">44</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER <span style="color: #990000">=</span> <span style="color: #993399">45</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_MEMORY_BARRIER <span style="color: #990000">=</span> <span style="color: #993399">46</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_LOADER_INSTANCE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">47</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_LOADER_DEVICE_CREATE_INFO <span style="color: #990000">=</span> <span style="color: #993399">48</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000001000</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PRESENT_INFO_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000001001</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000002000</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000002001</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000003000</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_XLIB_SURFACE_CREATE_INFO_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000004000</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_XCB_SURFACE_CREATE_INFO_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000005000</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_WAYLAND_SURFACE_CREATE_INFO_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000006000</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_MIR_SURFACE_CREATE_INFO_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000007000</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000008000</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000009000</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000059000</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PROPERTIES_2_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000059001</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_FORMAT_PROPERTIES_2_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000059002</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_IMAGE_FORMAT_PROPERTIES_2_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000059003</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_FORMAT_INFO_2_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000059004</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_QUEUE_FAMILY_PROPERTIES_2_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000059005</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MEMORY_PROPERTIES_2_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000059006</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_SPARSE_IMAGE_FORMAT_PROPERTIES_2_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000059007</span><span style="color: #990000">,</span>
    VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SPARSE_IMAGE_FORMAT_INFO_2_KHR <span style="color: #990000">=</span> <span style="color: #993399">1000059008</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span> VkStructureType<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="boilerplate-flags">Flag Types</h3>
<div class="paragraph"><p>Vulkan flag types are all bitmasks aliasing the base type <code>VkFlags</code>
and with corresponding bit flag types defining the valid bits for that flag,
as described in <a href="#fundamentals-validusage-flags">Valid Usage for Flags</a>.
Flag types supported by the Vulkan API include:</p></div>
<div class="listingblock">
<a id="VkAccessFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkAccessFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkAttachmentDescriptionFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkAttachmentDescriptionFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkBufferCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkBufferCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkBufferUsageFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkBufferUsageFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkBufferViewCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkBufferViewCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkColorComponentFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkColorComponentFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkCommandBufferResetFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkCommandBufferResetFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkCommandBufferUsageFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkCommandBufferUsageFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkCommandPoolCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkCommandPoolCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkCommandPoolResetFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkCommandPoolResetFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkCullModeFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkCullModeFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkDependencyFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkDependencyFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkDescriptorPoolCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkDescriptorPoolCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkDescriptorPoolResetFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkDescriptorPoolResetFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkDescriptorSetLayoutCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkDescriptorSetLayoutCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkDeviceCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkDeviceCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkDeviceQueueCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkDeviceQueueCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkEventCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkEventCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkFenceCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkFenceCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkFormatFeatureFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkFormatFeatureFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkFramebufferCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkFramebufferCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkImageAspectFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkImageAspectFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkImageCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkImageCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkImageUsageFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkImageUsageFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkImageViewCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkImageViewCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkInstanceCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkInstanceCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkMemoryHeapFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkMemoryHeapFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkMemoryMapFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkMemoryMapFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkMemoryPropertyFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkMemoryPropertyFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineCacheCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineCacheCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineColorBlendStateCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineColorBlendStateCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineDepthStencilStateCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineDepthStencilStateCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineDynamicStateCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineDynamicStateCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineInputAssemblyStateCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineInputAssemblyStateCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineLayoutCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineLayoutCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineMultisampleStateCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineMultisampleStateCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineRasterizationStateCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineRasterizationStateCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineShaderStageCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineShaderStageCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineStageFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineStageFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineTessellationStateCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineTessellationStateCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineVertexInputStateCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineVertexInputStateCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkPipelineViewportStateCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkPipelineViewportStateCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkQueryControlFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkQueryControlFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkQueryPipelineStatisticFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkQueryPipelineStatisticFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkQueryPoolCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkQueryPoolCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkQueryResultFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkQueryResultFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkQueueFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkQueueFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkRenderPassCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkRenderPassCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkSampleCountFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkSampleCountFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkSamplerCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkSamplerCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkSemaphoreCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkSemaphoreCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkShaderModuleCreateFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkShaderModuleCreateFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkShaderStageFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkShaderStageFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkSparseImageFormatFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkSparseImageFormatFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkSparseMemoryBindFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkSparseMemoryBindFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkStencilFaceFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkStencilFaceFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="listingblock">
<a id="VkSubpassDescriptionFlags"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">VkFlags</span> VkSubpassDescriptionFlags<span style="color: #990000">;</span>
</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="boilerplate-macros">Macro Definitions in <span class="monospaced">vulkan.h</span></h3>
<div class="paragraph"><p>Vulkan is defined as a C API.
The supplied <span class="monospaced">vulkan.h</span> header defines a small number of C preprocessor
macros that are described below.</p></div>
<div class="sect3">
<h4 id="boilerplate-versions">Vulkan Version Number Macros</h4>
<div class="paragraph"><p><a href="#fundamentals-versionnum">API Version Numbers</a> are packed into integers.
These macros manipulate version numbers in useful ways.</p></div>
<div class="paragraph"><p><code>VK_VERSION_MAJOR</code> extracts the API major version number from a packed
version number:</p></div>
<div class="listingblock">
<a id="VK_VERSION_MAJOR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#define</span></span> <span style="font-weight: bold"><span style="color: #000000">VK_VERSION_MAJOR</span></span><span style="color: #990000">(</span>version<span style="color: #990000">)</span> <span style="color: #990000">((</span>uint32_t<span style="color: #990000">)(</span>version<span style="color: #990000">)</span> <span style="color: #990000">&gt;&gt;</span> <span style="color: #993399">22</span><span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p><code>VK_VERSION_MINOR</code> extracts the API minor version number from a packed
version number:</p></div>
<div class="listingblock">
<a id="VK_VERSION_MINOR"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#define</span></span> <span style="font-weight: bold"><span style="color: #000000">VK_VERSION_MINOR</span></span><span style="color: #990000">(</span>version<span style="color: #990000">)</span> <span style="color: #990000">(((</span>uint32_t<span style="color: #990000">)(</span>version<span style="color: #990000">)</span> <span style="color: #990000">&gt;&gt;</span> <span style="color: #993399">12</span><span style="color: #990000">)</span> <span style="color: #990000">&amp;</span> <span style="color: #993399">0x3ff</span><span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p><code>VK_VERSION_PATCH</code> extracts the API patch version number from a packed
version number:</p></div>
<div class="listingblock">
<a id="VK_VERSION_PATCH"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#define</span></span> <span style="font-weight: bold"><span style="color: #000000">VK_VERSION_PATCH</span></span><span style="color: #990000">(</span>version<span style="color: #990000">)</span> <span style="color: #990000">((</span>uint32_t<span style="color: #990000">)(</span>version<span style="color: #990000">)</span> <span style="color: #990000">&amp;</span> <span style="color: #993399">0xfff</span><span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p><code>VK_API_VERSION_1_0</code> returns the API version number for Vulkan 1.0.
The patch version number in this macro will always be zero.
The supported patch version for a physical device <span role="normative">can</span> be queried with
<code><a href="#vkGetPhysicalDeviceProperties">vkGetPhysicalDeviceProperties</a></code>.</p></div>
<div class="listingblock">
<a id="VK_API_VERSION_1_0"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// Vulkan 1.0 version number</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> <span style="color: #008080">VK_API_VERSION_1_0</span> <span style="font-weight: bold"><span style="color: #000000">VK_MAKE_VERSION</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p><code>VK_API_VERSION</code> is now commented out of <span class="monospaced">vulkan.h</span> and <span role="normative">cannot</span> be used.</p></div>
<div class="listingblock">
<a id="VK_API_VERSION"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// DEPRECATED: This define has been removed. Specific version defines (e.g. VK_API_VERSION_1_0), or the VK_MAKE_VERSION macro, should be used instead.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">//#define VK_API_VERSION VK_MAKE_VERSION(1, 0, 0)</span></span>
</tt></pre></div></div>
<div class="paragraph"><p><code>VK_MAKE_VERSION</code> constructs an API version number.</p></div>
<div class="listingblock">
<a id="VK_MAKE_VERSION"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#define</span></span> <span style="font-weight: bold"><span style="color: #000000">VK_MAKE_VERSION</span></span><span style="color: #990000">(</span>major<span style="color: #990000">,</span> minor<span style="color: #990000">,</span> patch<span style="color: #990000">)</span> <span style="color: #990000">\</span>
    <span style="color: #990000">(((</span>major<span style="color: #990000">)</span> <span style="color: #990000">&lt;&lt;</span> <span style="color: #993399">22</span><span style="color: #990000">)</span> <span style="color: #990000">|</span> <span style="color: #990000">((</span>minor<span style="color: #990000">)</span> <span style="color: #990000">&lt;&lt;</span> <span style="color: #993399">12</span><span style="color: #990000">)</span> <span style="color: #990000">|</span> <span style="color: #990000">(</span>patch<span style="color: #990000">))</span>
</tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>major</code> is the major version number.
</p>
</li>
<li>
<p>
<code>minor</code> is the minor version number.
</p>
</li>
<li>
<p>
<code>patch</code> is the patch version number.
</p>
</li>
</ul></div>
<div class="paragraph"><p>This macro <span role="normative">can</span> be used when constructing the
<code><a href="#VkApplicationInfo">VkApplicationInfo</a></code>::<code>apiVersion</code> parameter passed to
<code><a href="#vkCreateInstance">vkCreateInstance</a></code>.</p></div>
</div>
<div class="sect3">
<h4 id="_vulkan_header_file_version_number">Vulkan Header File Version Number</h4>
<div class="paragraph"><p><code>VK_HEADER_VERSION</code> is the version number of the <span class="monospaced">vulkan.h</span> header.
This value is currently kept synchronized with the release number of the
Specification.
However, it is not guaranteed to remain synchronized, since most
Specification updates have no effect on <span class="monospaced">vulkan.h</span>.</p></div>
<div class="listingblock">
<a id="VK_HEADER_VERSION"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// Version of this file</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> VK_HEADER_VERSION <span style="color: #993399">39</span>
</tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_vulkan_handle_macros">Vulkan Handle Macros</h4>
<div class="paragraph"><p><code>VK_DEFINE_HANDLE</code> defines a <a href="#fundamentals-objectmodel-overview">dispatchable handle</a> type.</p></div>
<div class="listingblock">
<a id="VK_DEFINE_HANDLE"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> <span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_HANDLE</span></span><span style="color: #990000">(</span>object<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">object</span>##_T<span style="color: #990000">*</span> object<span style="color: #990000">;</span>
</tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>object</code> is the name of the resulting C type.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The only dispatchable handle types are those related to device and instance
management, such as <code><a href="#VkDevice">VkDevice</a></code>.</p></div>
<div class="paragraph"><p><code>VK_DEFINE_NON_DISPATCHABLE_HANDLE</code> defines a
<a href="#fundamentals-objectmodel-overview">non-dispatchable handle</a> type.</p></div>
<div class="listingblock">
<a id="VK_DEFINE_NON_DISPATCHABLE_HANDLE"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #000080">#if</span></span> <span style="color: #990000">!</span><span style="font-weight: bold"><span style="color: #000000">defined</span></span><span style="color: #990000">(</span>VK_DEFINE_NON_DISPATCHABLE_HANDLE<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000080">#if</span></span> <span style="font-weight: bold"><span style="color: #000000">defined</span></span><span style="color: #990000">(</span>__LP64__<span style="color: #990000">)</span> <span style="color: #990000">||</span> <span style="font-weight: bold"><span style="color: #000000">defined</span></span><span style="color: #990000">(</span>_WIN64<span style="color: #990000">)</span> <span style="color: #990000">||</span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">defined</span></span><span style="color: #990000">(</span>__x86_64__<span style="color: #990000">)</span> <span style="color: #990000">&amp;&amp;</span> <span style="color: #990000">!</span><span style="font-weight: bold"><span style="color: #000000">defined</span></span><span style="color: #990000">(</span>__ILP32__<span style="color: #990000">)</span> <span style="color: #990000">)</span> <span style="color: #990000">||</span> <span style="font-weight: bold"><span style="color: #000000">defined</span></span><span style="color: #990000">(</span>_M_X64<span style="color: #990000">)</span> <span style="color: #990000">||</span> <span style="font-weight: bold"><span style="color: #000000">defined</span></span><span style="color: #990000">(</span>__ia64<span style="color: #990000">)</span> <span style="color: #990000">||</span> <span style="font-weight: bold"><span style="color: #000000">defined</span></span> <span style="color: #990000">(</span>_M_IA64<span style="color: #990000">)</span> <span style="color: #990000">||</span> <span style="font-weight: bold"><span style="color: #000000">defined</span></span><span style="color: #990000">(</span>__aarch64__<span style="color: #990000">)</span> <span style="color: #990000">||</span> <span style="font-weight: bold"><span style="color: #000000">defined</span></span><span style="color: #990000">(</span>__powerpc64__<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000080">        #define</span></span> <span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>object<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">object</span>##<span style="color: #008080">_T</span> <span style="color: #990000">*</span>object<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">#else</span></span>
<span style="font-weight: bold"><span style="color: #000080">        #define</span></span> <span style="font-weight: bold"><span style="color: #000000">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span></span><span style="color: #990000">(</span>object<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #008080">uint64_t</span> object<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">#endif</span></span>
<span style="font-weight: bold"><span style="color: #000080">#endif</span></span>

</tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
<code>object</code> is the name of the resulting C type.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Most Vulkan handle types, such as <code><a href="#VkBuffer">VkBuffer</a></code>, are non-dispatchable.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The <span class="monospaced">vulkan.h</span> header allows the <code>VK_DEFINE_NON_DISPATCHABLE_HANDLE</code>
definition to be overridden by the application.
If <code>VK_DEFINE_NON_DISPATCHABLE_HANDLE</code> is already defined when the
<span class="monospaced">vulkan.h</span> header is compiled the default definition is skipped.
This allows the application to define a binary-compatible custom handle
which <span role="normative">may</span> provide more type-safety or other features needed by the
application.
Behavior is undefined if the application defines a non-binary-compatible
handle and <span role="normative">may</span> result in memory corruption or application termination.
Binary compatibility is platform dependent so the application <span role="normative">must</span> be
careful if it overrides the default <code>VK_DEFINE_NON_DISPATCHABLE_HANDLE</code>
definition.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p><code>VK_NULL_HANDLE</code> is a reserved value representing a non-valid object
handle.
It may be passed to and returned from Vulkan commands only when
<a href="#fundamentals-validusage-handles">specifically allowed</a>.</p></div>
<div class="listingblock">
<a id="VK_NULL_HANDLE"></a>
<div class="title"></div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> VK_NULL_HANDLE <span style="color: #993399">0</span>

</tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="boilerplate-platform-macros">Platform-Specific Macro Definitions in <span class="monospaced">vk_platform.h</span></h3>
<div class="paragraph"><p>Additional platform-specific macros and interfaces are defined using the
included <span class="monospaced">vk_platform.h</span> file.
These macros are used to control platform-dependent behavior, and their
exact definitions are under the control of specific platforms and Vulkan
implementations.</p></div>
<div class="sect3">
<h4 id="_platform_specific_calling_conventions">Platform-Specific Calling Conventions</h4>
<div class="paragraph"><p>On many platforms the following macros are empty strings, causing platform-
and compiler-specific default calling conventions to be used.</p></div>
<div class="paragraph"><p><code>VKAPI_ATTR</code> is a macro placed before the return type in Vulkan API
function declarations.
This macro controls calling conventions for C++11 and GCC/Clang-style
compilers.</p></div>
<div class="paragraph"><p><code>VKAPI_CALL</code> is a macro placed after the return type in Vulkan API
function declarations.
This macro controls calling conventions for MSVC-style compilers.</p></div>
<div class="paragraph"><p><code>VKAPI_PTR</code> is a macro placed between the <em>(</em> and <em>*</em> in Vulkan API
function pointer declarations.
This macro also controls calling conventions, and typically has the same
definition as <code>VKAPI_ATTR</code> or <code>VKAPI_CALL</code>, depending on the
compiler.</p></div>
</div>
<div class="sect3">
<h4 id="_platform_specific_header_control">Platform-Specific Header Control</h4>
<div class="paragraph"><p>If the <span class="monospaced">VK_NO_STDINT_H</span> macro is defined by the application at compile time,
extended integer types used by <span class="monospaced">vulkan.h</span>, such as <code>uint8_t</code>, <span role="normative">must</span> also
be defined by the application.
Otherwise, <span class="monospaced">vulkan.h</span> will not compile.
If <span class="monospaced">VK_NO_STDINT_H</span> is not defined, the system <span class="monospaced">&lt;stdint.h&gt;</span> is used to
define these types, or there is a fallback path when Microsoft Visual Studio
version 2008 and earlier versions are detected at compile time.</p></div>
</div>
<div class="sect3">
<h4 id="boilerplate-wsi-header">Window System-Specific Header Control</h4>
<div class="paragraph"><p>To use a Vulkan extension supporting a platform-specific window system,
header files for that window systems <span role="normative">must</span> be included at compile time.
The Vulkan header files cannot determine whether or not an external header
is available at compile time, so applications wishing to use such an
extension <span role="normative">must</span> #define a macro causing such headers to be included.
If this is not done, the corresponding extension interfaces will not be
defined and they will be unusable.</p></div>
<div class="paragraph"><p>The extensions, <span role="normative">required</span> compile time symbols to enable them, window
systems they correspond to, and external header files that are included when
the macro is #defined are shown in the
<a href="#boilerplate-wsi-header-table">following table</a>.</p></div>
<table class="tableblock frame-all grid-all" id="boilerplate-wsi-header-table"
style="
width:100%;
">
<caption class="title">Table 60. Window System Extensions and Required Compile Time Symbol Definitions</caption>
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" > Extension Name           </th>
<th class="tableblock halign-left valign-top" > Required Compile Time Symbol  </th>
<th class="tableblock halign-left valign-top" > Window System Name           </th>
<th class="tableblock halign-left valign-top" > External Header Files Used</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VK_KHR_android_surface</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VK_USE_PLATFORM_ANDROID_KHR</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Android Native</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">&lt;android/native_window.h&gt;</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VK_KHR_mir_surface</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VK_USE_PLATFORM_MIR_KHR</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Mir</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">&lt;mir_toolkit/client_types.h&gt;</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VK_KHR_wayland_surface</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VK_USE_PLATFORM_WAYLAND_KHR</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Wayland</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">&lt;wayland-client.h&gt;</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VK_KHR_win32_surface</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VK_USE_PLATFORM_WIN32_KHR</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Microsoft Windows</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">&lt;windows.h&gt;</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VK_KHR_xcb_surface</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VK_USE_PLATFORM_XCB_KHR</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X Window System Xcb library</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">&lt;xcb/xcb.h&gt;</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VK_KHR_xlib_surface</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VK_USE_PLATFORM_XLIB_KHR</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X Window System Xlib library</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">&lt;X11/Xlib.h&gt;</span></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="invariance">Appendix E: Invariance</h2>
<div class="sectionbody">
<div class="paragraph"><p>The Vulkan specification is not pixel exact.
It therefore does not guarantee an exact match between images produced by
different Vulkan implementations.
However, the specification does specify exact matches, in some cases, for
images produced by the same implementation.
The purpose of this appendix is to identify and provide justification for
those cases that require exact matches.</p></div>
<div class="sect2">
<h3 id="_repeatability">Repeatability</h3>
<div class="paragraph"><p>The obvious and most fundamental case is repeated issuance of a series of
Vulkan commands.
For any given Vulkan and framebuffer state vector, and for any Vulkan
command, the resulting Vulkan and framebuffer state <span role="normative">must</span> be identical
whenever the command is executed on that initial Vulkan and framebuffer
state.
This repeatability requirement does not apply when using shaders containing
side effects (image and buffer variable stores and atomic operations),
because these memory operations are not guaranteed to be processed in a
defined order.</p></div>
<div class="paragraph"><p>One purpose of repeatability is avoidance of visual artifacts when a
double-buffered scene is redrawn.
If rendering is not repeatable, swapping between two buffers rendered with
the same command sequence <span role="normative">may</span> result in visible changes in the image.
Such false motion is distracting to the viewer.
Another reason for repeatability is testability.</p></div>
<div class="paragraph"><p>Repeatability, while important, is a weak requirement.
Given only repeatability as a requirement, two scenes rendered with one
(small) polygon changed in position might differ at every pixel.
Such a difference, while within the law of repeatability, is certainly not
within its spirit.
Additional invariance rules are desirable to ensure useful operation.</p></div>
</div>
<div class="sect2">
<h3 id="_multi_pass_algorithms">Multi-pass Algorithms</h3>
<div class="paragraph"><p>Invariance is necessary for a whole set of useful multi-pass algorithms.
Such algorithms render multiple times, each time with a different Vulkan
mode vector, to eventually produce a result in the framebuffer.
Examples of these algorithms include:</p></div>
<div class="ulist"><ul>
<li>
<p>
&#8220;Erasing&#8221; a primitive from the framebuffer by redrawing it, either in
    a different color or using the XOR logical operation.
</p>
</li>
<li>
<p>
Using stencil operations to compute capping planes.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_invariance_rules">Invariance Rules</h3>
<div class="paragraph"><p>For a given Vulkan device:</p></div>
<div class="paragraph"><p><strong>Rule 1</strong> <em>For any given Vulkan and framebuffer state vector, and for any
given Vulkan command, the resulting Vulkan and framebuffer state <span role="normative">must</span> be
identical each time the command is executed on that initial Vulkan and
framebuffer state.</em></p></div>
<div class="paragraph"><p><strong>Rule 2</strong> <em>Changes to the following state values have no side effects (the
use of any other state value is not affected by the change):</em></p></div>
<div class="paragraph"><p><strong>Required:</strong></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Color and depth/stencil attachment contents</em>
</p>
</li>
<li>
<p>
<em>Scissor parameters (other than enable)</em>
</p>
</li>
<li>
<p>
<em>Write masks (color, depth, stencil)</em>
</p>
</li>
<li>
<p>
<em>Clear values (color, depth, stencil)</em>
</p>
</li>
</ul></div>
<div class="paragraph"><p><strong>Strongly suggested:</strong></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Stencil parameters (other than enable)</em>
</p>
</li>
<li>
<p>
<em>Depth test parameters (other than enable)</em>
</p>
</li>
<li>
<p>
<em>Blend parameters (other than enable)</em>
</p>
</li>
<li>
<p>
<em>Logical operation parameters (other than enable)</em>
</p>
</li>
</ul></div>
<div class="paragraph"><p><strong>Corollary 1</strong> <em>Fragment generation is invariant with respect to the state
values listed in Rule 2.</em></p></div>
<div class="paragraph"><p><strong>Rule 3</strong> <em>The arithmetic of each per-fragment operation is invariant except
with respect to parameters that directly control it.</em></p></div>
<div class="paragraph"><p><strong>Corollary 2</strong> <em>Images rendered into different color attachments of the same
framebuffer, either simultaneously or separately using the same command
sequence, are pixel identical.</em></p></div>
<div class="paragraph"><p><strong>Rule 4</strong> <em>Identical pipelines will produce the same result when run multiple
times with the same input.
The wording &#8220;Identical pipelines&#8221; means <code><a href="#VkPipeline">VkPipeline</a></code> objects that have
been created with identical SPIR-V binaries and identical state, which are
then used by commands executed using the same Vulkan state vector.
Invariance is relaxed for shaders with side effects, such as performing
stores or atomics.</em></p></div>
<div class="paragraph"><p><strong>Rule 5</strong> <em>All fragment shaders that either conditionally or unconditionally
assign</em> <code>FragCoord</code>.z <em>to</em> <code>FragDepth</code> <em>are depth-invariant with
respect to each other, for those fragments where the assignment to</em>
<code>FragDepth</code> <em>actually is done.</em></p></div>
<div class="paragraph"><p>If a sequence of Vulkan commands specifies primitives to be rendered with
shaders containing side effects (image and buffer variable stores and atomic
operations), invariance rules are relaxed.
In particular, rule 1, corollary 2, and rule 4 do not apply in the presence
of shader side effects.</p></div>
<div class="paragraph"><p>The following weaker versions of rules 1 and 4 apply to Vulkan commands
involving shader side effects:</p></div>
<div class="paragraph"><p><strong>Rule 6</strong> <em>For any given Vulkan and framebuffer state vector, and for any
given Vulkan command, the contents of any framebuffer state not directly or
indirectly affected by results of shader image or buffer variable stores or
atomic operations <span role="normative">must</span> be identical each time the command is executed on
that initial Vulkan and framebuffer state.</em></p></div>
<div class="paragraph"><p><strong>Rule 7</strong> <em>Identical pipelines will produce the same result when run multiple
times with the same input as long as:</em></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>shader invocations do not use image atomic operations;</em>
</p>
</li>
<li>
<p>
<em>no framebuffer memory is written to more than once by image stores,
    unless all such stores write the same value; and</em>
</p>
</li>
<li>
<p>
<em>no shader invocation, or other operation performed to process the
    sequence of commands, reads memory written to by an image store.</em>
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph"><p>The OpenGL spec has the following invariance rule: Consider a primitive p'
obtained by translating a primitive p through an offset (x, y) in window
coordinates, where x and y are integers.
As long as neither p' nor p is clipped, it must be the case that each
fragment f' produced from p' is identical to a corresponding fragment f from
p except that the center of f' is offset by (x, y) from the center of f.</p></div>
<div class="paragraph"><p>This rule does not apply to Vulkan and is an intentional difference from
OpenGL.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>When any sequence of Vulkan commands triggers shader invocations that
perform image stores or atomic operations, and subsequent Vulkan commands
read the memory written by those shader invocations, these operations <span role="normative">must</span>
be explicitly synchronized.</p></div>
</div>
<div class="sect2">
<h3 id="_tessellation_invariance">Tessellation Invariance</h3>
<div class="paragraph"><p>When using a pipeline containing tessellation evaluation shaders, the
fixed-function tessellation primitive generator consumes the input patch
specified by an application and emits a new set of primitives.
The following invariance rules are intended to provide repeatability
guarantees.
Additionally, they are intended to allow an application with a carefully
crafted tessellation evaluation shader to ensure that the sets of triangles
generated for two adjacent patches have identical vertices along shared
patch edges, avoiding &#8220;cracks&#8221; caused by minor differences in the
positions of vertices along shared edges.</p></div>
<div class="paragraph"><p><strong>Rule 1</strong> <em>When processing two patches with identical outer and inner
tessellation levels, the tessellation primitive generator will emit an
identical set of point, line, or triangle primitives as long as the pipeline
used to process the patch primitives has tessellation evaluation shaders
specifying the same tessellation mode, spacing, vertex order, and point mode
decorations.
Two sets of primitives are considered identical if and only if they contain
the same number and type of primitives and the generated tessellation
coordinates for the vertex numbered m of the primitive numbered n are
identical for all values of m and n.</em></p></div>
<div class="paragraph"><p><strong>Rule 2</strong> <em>The set of vertices generated along the outer edge of the
subdivided primitive in triangle and quad tessellation, and the tessellation
coordinates of each, depends only on the corresponding outer tessellation
level and the spacing decorations in the tessellation shaders of the
pipeline.</em></p></div>
<div class="paragraph"><p><strong>Rule 3</strong> <em>The set of vertices generated when subdividing any outer primitive
edge is always symmetric.
For triangle tessellation, if the subdivision generates a vertex with
tessellation coordinates of the form (0, x, 1-x), (x, 0, 1-x), or (x, 1-x,
0), it will also generate a vertex with coordinates of exactly (0, 1-x, x),
(1-x, 0, x), or (1-x, x, 0), respectively.
For quad tessellation, if the subdivision generates a vertex with
coordinates of (x, 0) or (0, x), it will also generate a vertex with
coordinates of exactly (1-x, 0) or (0, 1-x), respectively.
For isoline tessellation, if it generates vertices at (0, x) and (1, x)
where x is not zero, it will also generate vertices at exactly (0, 1-x) and
(1, 1-x), respectively.</em></p></div>
<div class="paragraph"><p><strong>Rule 4</strong> <em>The set of vertices generated when subdividing outer edges in
triangular and quad tessellation <span role="normative">must</span> be independent of the specific edge
subdivided, given identical outer tessellation levels and spacing.
For example, if vertices at (x, 1 - x, 0) and (1-x, x, 0) are generated when
subdividing the w = 0 edge in triangular tessellation, vertices <span role="normative">must</span> be
generated at (x, 0, 1-x) and (1-x, 0, x) when subdividing an otherwise
identical v = 0 edge.
For quad tessellation, if vertices at (x, 0) and (1-x, 0) are generated when
subdividing the v = 0 edge, vertices <span role="normative">must</span> be generated at (0, x) and (0,
1-x) when subdividing an otherwise identical u = 0 edge.</em></p></div>
<div class="paragraph"><p><strong>Rule 5</strong> <em>When processing two patches that are identical in all respects
enumerated in rule 1 except for vertex order, the set of triangles generated
for triangle and quad tessellation <span role="normative">must</span> be identical except for vertex and
triangle order.
For each triangle n1 produced by processing the first patch, there <span role="normative">must</span> be
a triangle n2 produced when processing the second patch each of whose
vertices has the same tessellation coordinates as one of the vertices in
n1.</em></p></div>
<div class="paragraph"><p><strong>Rule 6</strong> <em>When processing two patches that are identical in all respects
enumerated in rule 1 other than matching outer tessellation levels and/or
vertex order, the set of interior triangles generated for triangle and quad
tessellation <span role="normative">must</span> be identical in all respects except for vertex and
triangle order.
For each interior triangle n1 produced by processing the first patch, there
<span role="normative">must</span> be a triangle n2 produced when processing the second patch each of
whose vertices has the same tessellation coordinates as one of the vertices
in n1.
A triangle produced by the tessellator is considered an interior triangle if
none of its vertices lie on an outer edge of the subdivided primitive.</em></p></div>
<div class="paragraph"><p><strong>Rule 7</strong> <em>For quad and triangle tessellation, the set of triangles
connecting an inner and outer edge depends only on the inner and outer
tessellation levels corresponding to that edge and the spacing decorations.</em></p></div>
<div class="paragraph"><p><strong>Rule 8</strong> <em>The value of all defined components of</em> <code>TessCoord</code> <em>will be in
the range [0, 1].
Additionally, for any defined component x of</em> <code>TessCoord</code>, <em>the results
of computing 1.0-x in a tessellation evaluation shader will be exact.
If any floating-point values in the range [0, 1] fail to satisfy this
property, such values <span role="normative">must</span> not be used as tessellation coordinate
components.</em></p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_glossary">Glossary</h2>
<div class="sectionbody">
<div class="paragraph"><p>The terms defined in this section are used consistently throughout this
Specification and may be used with or without capitalization.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Accessible (Descriptor Binding)
</dt>
<dd>
<p>
    A descriptor binding is accessible to a shader stage if that stage is
    included in the <code>stageFlags</code> of the descriptor binding.
    Descriptors using that binding <span role="normative">can</span> only be used by stages in which they
    are accessible.
</p>
</dd>
<dt class="hdlist1">
Acquire Operation (Resource)
</dt>
<dd>
<p>
    An operation that acquires ownership of an image subresource or buffer
    range.
</p>
</dd>
<dt class="hdlist1">
Adjacent Vertex
</dt>
<dd>
<p>
    A vertex in an adjacency primitive topology that is not part of a given
    primitive, but is accessible in geometry shaders.
</p>
</dd>
<dt class="hdlist1">
Aliased Range (Memory)
</dt>
<dd>
<p>
    A range of a device memory allocation that is bound to multiple
    resources simultaneously.
</p>
</dd>
<dt class="hdlist1">
Allocation Scope
</dt>
<dd>
<p>
    An association of a host memory allocation to a parent object or
    command, where the allocation&#8217;s lifetime ends before or at the same time
    as the parent object is freed or destroyed, or during the parent
    command.
</p>
</dd>
<dt class="hdlist1">
API Order
</dt>
<dd>
<p>
    A set of ordering rules that govern how primitives in draw commands
    affect the framebuffer.
</p>
</dd>
<dt class="hdlist1">
Aspect (Image)
</dt>
<dd>
<p>
    An image <span role="normative">may</span> contain multiple kinds, or aspects, of data for each
    pixel, where each aspect is used in a particular way by the pipeline and
    <span role="normative">may</span> be stored differently or separately from other aspects.
    For example, the color components of an image format make up the color
    aspect of the image, and <span role="normative">may</span> be used as a framebuffer color attachment.
    Some operations, like depth testing, operate only on specific aspects of
    an image.
    Others operations, like image/buffer copies, only operate on one aspect
    at a time.
</p>
</dd>
<dt class="hdlist1">
Attachment (Render Pass)
</dt>
<dd>
<p>
    A zero-based integer index name used in render pass creation to refer to
    a framebuffer attachment that is accessed by one or more subpasses.
    The index also refers to an attachment description which includes
    information about the properties of the image view that will later be
    attached.
</p>
</dd>
<dt class="hdlist1">
Availability Operation
</dt>
<dd>
<p>
    An operation that causes the values generated by specified memory write
    accesses to become available for future access.
</p>
</dd>
<dt class="hdlist1">
Available
</dt>
<dd>
<p>
    A state of values written to memory that allows them to be made visible.
</p>
</dd>
<dt class="hdlist1">
Back-Facing
</dt>
<dd>
<p>
    See Facingness.
</p>
</dd>
<dt class="hdlist1">
Batch
</dt>
<dd>
<p>
    A single structure submitted to a queue as part of a
    <a href="#devsandqueues-submission">queue submission command</a>, describing a set
    of queue operations to execute.
</p>
</dd>
<dt class="hdlist1">
Backwards Compatibility
</dt>
<dd>
<p>
    A given version of the API is backwards compatible with an earlier
    version if an application, relying only on valid behavior and
    functionality defined by the earlier specification, is able to correctly
    run against each version without any modification.
    This assumes no active attempt by that application to not run when it
    detects a different version.
</p>
</dd>
<dt class="hdlist1">
Full Compatibility
</dt>
<dd>
<p>
    A given version of the API is fully compatible with another version if
    an application, relying only on valid behavior and functionality defined
    by either of those specifications, is able to correctly run against each
    version without any modification.
    This assumes no active attempt by that application to not run when it
    detects a different version.
</p>
</dd>
<dt class="hdlist1">
Binding (Memory)
</dt>
<dd>
<p>
    An association established between a range of a resource object and a
    range of a memory object.
    These associations determine the memory locations affected by operations
    performed on elements of a resource object.
    Memory bindings are established using the <code><a href="#vkBindBufferMemory">vkBindBufferMemory</a></code>
    command for non-sparse buffer objects, using the <code><a href="#vkBindImageMemory">vkBindImageMemory</a></code>
    command for non-sparse image objects, and using the
    <code><a href="#vkQueueBindSparse">vkQueueBindSparse</a></code> command for sparse resources.
</p>
</dd>
<dt class="hdlist1">
Blend Constant
</dt>
<dd>
<p>
    Four floating point (RGBA) values used as an input to blending.
</p>
</dd>
<dt class="hdlist1">
Blending
</dt>
<dd>
<p>
    Arithmetic operations between a fragment color value and a value in a
    color attachment that produce a final color value to be written to the
    attachment.
</p>
</dd>
<dt class="hdlist1">
Buffer
</dt>
<dd>
<p>
    A resource that represents a linear array of data in device memory.
    Represented by a <code><a href="#VkBuffer">VkBuffer</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Buffer View
</dt>
<dd>
<p>
    An object that represents a range of a specific buffer, and state that
    controls how the contents are interpreted.
    Represented by a <code><a href="#VkBufferView">VkBufferView</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Built-In Variable
</dt>
<dd>
<p>
    A variable decorated in a shader, where the decoration makes the
    variable take values provided by the execution environment or values
    that are generated by fixed-function pipeline stages.
</p>
</dd>
<dt class="hdlist1">
Built-In Interface Block
</dt>
<dd>
<p>
    A block defined in a shader that contains only variables decorated with
    built-in decorations, and is used to match against other shader stages.
</p>
</dd>
<dt class="hdlist1">
Clip Coordinates
</dt>
<dd>
<p>
    The homogeneous coordinate space that vertex positions (<code>Position</code>
    decoration) are written in by vertex processing stages.
</p>
</dd>
<dt class="hdlist1">
Clip Distance
</dt>
<dd>
<p>
    A built-in output from vertex processing stages that defines a clip
    half-space against which the primitive is clipped.
</p>
</dd>
<dt class="hdlist1">
Clip Volume
</dt>
<dd>
<p>
    The intersection of the view volume with all clip half-spaces.
</p>
</dd>
<dt class="hdlist1">
Color Attachment
</dt>
<dd>
<p>
    A subpass attachment point, or image view, that is the target of
    fragment color outputs and blending.
</p>
</dd>
<dt class="hdlist1">
Color Renderable Format
</dt>
<dd>
<p>
    A <code><a href="#VkFormat">VkFormat</a></code> where <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> is
    set in the <code>optimalTilingFeatures</code> or <code>linearTilingFeatures</code>
    field of VkFormatProperties::optimalTilingFeatures returned by
    vkGetPhysicalDeviceFormatProperties, depending on the tiling used.
</p>
</dd>
<dt class="hdlist1">
Combined Image Sampler
</dt>
<dd>
<p>
    A descriptor type that includes both a sampled image and a sampler.
</p>
</dd>
<dt class="hdlist1">
Command Buffer
</dt>
<dd>
<p>
    An object that records commands to be submitted to a queue.
    Represented by a <code><a href="#VkCommandBuffer">VkCommandBuffer</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Command Pool
</dt>
<dd>
<p>
    An object that command buffer memory is allocated from, and that owns
    that memory.
    Command pools aid multithreaded performance by enabling different
    threads to use different allocators, without internal synchronization on
    each use.
    Represented by a <code><a href="#VkCommandPool">VkCommandPool</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Compatible Allocator
</dt>
<dd>
<p>
    When allocators are compatible, allocations from each allocator <span role="normative">can</span> be
    freed by the other allocator.
</p>
</dd>
<dt class="hdlist1">
Compatible Image Formats
</dt>
<dd>
<p>
    When formats are compatible, images created with one of the formats <span role="normative">can</span>
    have image views created from it using any of the compatible formats.
</p>
</dd>
<dt class="hdlist1">
Compatible Queues
</dt>
<dd>
<p>
    Queues within a queue family.
    Compatible queues have identical properties.
</p>
</dd>
<dt class="hdlist1">
Component (Format)
</dt>
<dd>
<p>
    A distinct part of a format.
    Depth, stencil, and color channels (e.g. R, G, B, A), are all separate
    components.
</p>
</dd>
<dt class="hdlist1">
Compressed Texel Block
</dt>
<dd>
<p>
    An element of an image having a block-compressed format, comprising a
    rectangular block of texel values that are encoded as a single value in
    memory.
    Compressed texel blocks of a particular block-compressed format have a
    corresponding width, height, and depth that define the dimensions of
    these elements in units of texels, and a size in bytes of the encoding
    in memory.
</p>
</dd>
<dt class="hdlist1">
Cull Distance
</dt>
<dd>
<p>
    A built-in output from vertex processing stages that defines a cull
    half-space where the primitive is rejected if all vertices have a
    negative value for the same cull distance.
</p>
</dd>
<dt class="hdlist1">
Cull Volume
</dt>
<dd>
<p>
    The intersection of the view volume with all cull half-spaces.
</p>
</dd>
<dt class="hdlist1">
Decoration (SPIR-V)
</dt>
<dd>
<p>
     Auxiliary information such as built-in variables, stream numbers,
     invariance, interpolation type, relaxed precision, etc., added to
     variables or structure-type members through decorations.
</p>
</dd>
<dt class="hdlist1">
Depth/Stencil Attachment
</dt>
<dd>
<p>
    A subpass attachment point, or image view, that is the target of depth
    and/or stencil test operations and writes.
</p>
</dd>
<dt class="hdlist1">
Depth/Stencil Format
</dt>
<dd>
<p>
    A <code><a href="#VkFormat">VkFormat</a></code> that includes depth and/or stencil components.
</p>
</dd>
<dt class="hdlist1">
Depth/Stencil Image (or ImageView)
</dt>
<dd>
<p>
    A <code><a href="#VkImage">VkImage</a></code> (or <code><a href="#VkImageView">VkImageView</a></code>) with a depth/stencil format.
</p>
</dd>
<dt class="hdlist1">
Derivative Group
</dt>
<dd>
<p>
    A set of fragment shader invocations that cooperate to compute
    derivatives, including implicit derivatives for sampled image
    operations.
</p>
</dd>
<dt class="hdlist1">
Descriptor
</dt>
<dd>
<p>
    Information about a resource or resource view written into a descriptor
    set that is used to access the resource or view from a shader.
</p>
</dd>
<dt class="hdlist1">
Descriptor Binding
</dt>
<dd>
<p>
    An entry in a descriptor set layout corresponding to zero or more
    descriptors of a single descriptor type in a set.
    Defined by a <code><a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a></code> structure.
</p>
</dd>
<dt class="hdlist1">
Descriptor Pool
</dt>
<dd>
<p>
    An object that descriptor sets are allocated from, and that owns the
    storage of those descriptor sets.
    Descriptor pools aid multithreaded performance by enabling different
    threads to use different allocators, without internal synchronization on
    each use.
    Represented by a <code><a href="#VkDescriptorPool">VkDescriptorPool</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Descriptor Set
</dt>
<dd>
<p>
    An object that resource descriptors are written into via the API, and
    that <span role="normative">can</span> be bound to a command buffer such that the descriptors
    contained within it <span role="normative">can</span> be accessed from shaders.
    Represented by a <code><a href="#VkDescriptorSet">VkDescriptorSet</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Descriptor Set Layout
</dt>
<dd>
<p>
    An object that defines the set of resources (types and counts) and their
    relative arrangement (in the binding namespace) within a descriptor set.
    Used when allocating descriptor sets and when creating pipeline layouts.
    Represented by a <code><a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Device
</dt>
<dd>
<p>
    The processor(s) and execution environment that perform tasks requested
    by the application via the Vulkan API.
</p>
</dd>
<dt class="hdlist1">
Device Memory
</dt>
<dd>
<p>
    Memory accessible to the device.
    Represented by a <code><a href="#VkDeviceMemory">VkDeviceMemory</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Device-Level Object
</dt>
<dd>
<p>
    Logical device objects and their child objects For example,
    <code><a href="#VkDevice">VkDevice</a></code>, <code><a href="#VkQueue">VkQueue</a></code>, and <code><a href="#VkCommandBuffer">VkCommandBuffer</a></code> objects are
    device-level objects.
</p>
</dd>
<dt class="hdlist1">
Device-Local Memory
</dt>
<dd>
<p>
    Memory that is connected to the device, and <span role="normative">may</span> be more performant for
    device access than host-local memory.
</p>
</dd>
<dt class="hdlist1">
Direct Drawing Commands
</dt>
<dd>
<p>
    <em>Drawing commands</em> that take all their parameters as direct arguments to
    the command (and not sourced via structures in buffer memory as the
    <em>indirect drawing commands</em>).
    Includes <code><a href="#vkCmdDraw">vkCmdDraw</a></code>, and <code><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>.
</p>
</dd>
<dt class="hdlist1">
Dispatchable Handle
</dt>
<dd>
<p>
    A handle of a pointer handle type which <span role="normative">may</span> be used by layers as part
    of intercepting API commands.
    The first argument to each Vulkan command is a dispatchable handle type.
</p>
</dd>
<dt class="hdlist1">
Dispatching Commands
</dt>
<dd>
<p>
    Commands that provoke work using a compute pipeline.
    Includes <code><a href="#vkCmdDispatch">vkCmdDispatch</a></code> and <code><a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>.
</p>
</dd>
<dt class="hdlist1">
Drawing Commands
</dt>
<dd>
<p>
    Commands that provoke work using a graphics pipeline.
    Includes <code><a href="#vkCmdDraw">vkCmdDraw</a></code>, <code><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>,
    <code><a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>,
    and <code><a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>.
</p>
</dd>
<dt class="hdlist1">
Duration (Command)
</dt>
<dd>
<p>
    The <em>duration</em> of a Vulkan command refers to the interval between
    calling the command and its return to the caller.
</p>
</dd>
<dt class="hdlist1">
Dynamic Storage Buffer
</dt>
<dd>
<p>
    A storage buffer whose offset is specified each time the storage buffer
    is bound to a command buffer via a descriptor set.
</p>
</dd>
<dt class="hdlist1">
Dynamic Uniform Buffer
</dt>
<dd>
<p>
    A uniform buffer whose offset is specified each time the uniform buffer
    is bound to a command buffer via a descriptor set.
</p>
</dd>
<dt class="hdlist1">
Dynamically Uniform
</dt>
<dd>
<p>
    See <em>Dynamically Uniform</em> in section 2.2 &#8220;Terms&#8221; of the
    <a href="#spirv-spec">Khronos SPIR-V Specification</a>.
</p>
</dd>
<dt class="hdlist1">
Element Size
</dt>
<dd>
<p>
    The size (in bytes) used to store one element of an uncompressed format
    or the size (in bytes) used to store one block of a block-compressed
    format.
</p>
</dd>
<dt class="hdlist1">
Explicitly-Enabled Layer
</dt>
<dd>
<p>
    A layer enabled by the application by adding it to the enabled layer
    list in <code><a href="#vkCreateInstance">vkCreateInstance</a></code> or <code><a href="#vkCreateDevice">vkCreateDevice</a></code>.
</p>
</dd>
<dt class="hdlist1">
Event
</dt>
<dd>
<p>
    A synchronization primitive that is signaled when execution of previous
    commands complete through a specified set of pipeline stages.
    Events can be waited on by the device and polled by the host.
    Represented by a <code><a href="#VkEvent">VkEvent</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Executable State (Command Buffer)
</dt>
<dd>
<p>
    A command buffer that has ended recording commands and <span role="normative">can</span> be executed.
    See also Initial State and Recording State.
</p>
</dd>
<dt class="hdlist1">
Execution Dependency
</dt>
<dd>
<p>
    A dependency that guarantees that certain pipeline stages' work for a
    first set of commands has completed execution before certain pipeline
    stages' work for a second set of commands begins execution.
    This is accomplished via pipeline barriers, subpass dependencies,
    events, or implicit ordering operations.
</p>
</dd>
<dt class="hdlist1">
Execution Dependency Chain
</dt>
<dd>
<p>
    A sequence of execution dependencies that transitively act as a single
    execution dependency.
</p>
</dd>
<dt class="hdlist1">
Extension Scope
</dt>
<dd>
<p>
    The set of objects and commands that <span role="normative">can</span> be affected by an extension.
    Extensions are either device scope or instance scope.
</p>
</dd>
<dt class="hdlist1">
External synchronization
</dt>
<dd>
<p>
    A type of synchronization <span role="normative">required</span> of the application, where parameters
    defined to be externally synchronized <span role="normative">must</span> not be used simultaneously
    in multiple threads.
</p>
</dd>
<dt class="hdlist1">
Facingness (Polygon)
</dt>
<dd>
<p>
    A classification of a polygon as either front-facing or back-facing,
    depending on the orientation (winding order) of its vertices.
</p>
</dd>
<dt class="hdlist1">
Fence
</dt>
<dd>
<p>
    A synchronization primitive that is signaled when a set of batches or
    sparse binding operations complete execution on a queue.
    Fences <span role="normative">can</span> be waited on by the host.
    Represented by a <code><a href="#VkFence">VkFence</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Flat Shading
</dt>
<dd>
<p>
    A property of a vertex attribute that causes the value from a single
    vertex (the provoking vertex) to be used for all vertices in a
    primitive, and for interpolation of that attribute to return that single
    value unaltered.
</p>
</dd>
<dt class="hdlist1">
Fragment Input Attachment Interface
</dt>
<dd>
<p>
    A fragment shader entry point&#8217;s variables with <code>UniformConstant</code>
    storage class and a decoration of <code>InputAttachmentIndex</code>, which
    receive values from input attachments.
</p>
</dd>
<dt class="hdlist1">
Fragment Output Interface
</dt>
<dd>
<p>
    A fragment shader entry point&#8217;s variables with <code>Output</code> storage
    class, which output to color and/or depth/stencil attachments.
</p>
</dd>
<dt class="hdlist1">
Framebuffer
</dt>
<dd>
<p>
    A collection of image views and a set of dimensions that, in conjunction
    with a render pass, define the inputs and outputs used by drawing
    commands.
    Represented by a <code><a href="#VkFramebuffer">VkFramebuffer</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Framebuffer Attachment
</dt>
<dd>
<p>
    One of the image views used in a framebuffer.
</p>
</dd>
<dt class="hdlist1">
Framebuffer Coordinates
</dt>
<dd>
<p>
    A coordinate system in which adjacent pixels' coordinates differ by 1 in
    x and/or y, with <span class="eq">(0,0)</span> in the upper left corner and pixel centers
    at half-integers.
</p>
</dd>
<dt class="hdlist1">
Framebuffer-Space
</dt>
<dd>
<p>
    Operating with respect to framebuffer coordinates.
</p>
</dd>
<dt class="hdlist1">
Framebuffer-Local
</dt>
<dd>
<p>
    A framebuffer-local dependency guarantees that only for a single
    framebuffer region, the first set of operations happens-before the
    second set of operations.
</p>
</dd>
<dt class="hdlist1">
Framebuffer-Global
</dt>
<dd>
<p>
    A framebuffer-global dependency guarantees that for all framebuffer
    regions, the first set of operations happens-before the second set of
    operations.
</p>
</dd>
<dt class="hdlist1">
Framebuffer Region
</dt>
<dd>
<p>
    A framebuffer region is a set of sample (x, y, layer, sample)
    coordinates that is a subset of the entire framebuffer.
</p>
</dd>
<dt class="hdlist1">
Front-Facing
</dt>
<dd>
<p>
    See Facingness.
</p>
</dd>
<dt class="hdlist1">
Global Workgroup
</dt>
<dd>
<p>
    A collection of local workgroups dispatched by a single dispatch
    command.
</p>
</dd>
<dt class="hdlist1">
Handle
</dt>
<dd>
<p>
    An opaque integer or pointer value used to refer to a Vulkan object.
    Each object type has a unique handle type.
</p>
</dd>
<dt class="hdlist1">
Happen-after
</dt>
<dd>
<p>
    A transitive, irreflexive and antisymmetric ordering relation between
    operations.
    An execution dependency with a source of <strong>A</strong> and a destination of <strong>B</strong>
    enforces that <strong>B</strong> happens-after <strong>A</strong>.
    The inverse relation of happens-before.
</p>
</dd>
<dt class="hdlist1">
Happen-before
</dt>
<dd>
<p>
    A transitive, irreflexive and antisymmetric ordering relation between
    operations.
    An execution dependency with a source of <strong>A</strong> and a destination of <strong>B</strong>
    enforces that <strong>A</strong> happens-before <strong>B</strong>.
    The inverse relation of happens-after.
</p>
</dd>
<dt class="hdlist1">
Helper Invocation
</dt>
<dd>
<p>
    A fragment shader invocation that is created solely for the purposes of
    evaluating derivatives for use in non-helper fragment shader
    invocations, and which does not have side effects.
</p>
</dd>
<dt class="hdlist1">
Host
</dt>
<dd>
<p>
    The processor(s) and execution environment that the application runs on,
    and that the Vulkan API is exposed on.
</p>
</dd>
<dt class="hdlist1">
Host Memory
</dt>
<dd>
<p>
    Memory not accessible to the device, used to store implementation data
    structures.
</p>
</dd>
<dt class="hdlist1">
Host-Accessible Subresource
</dt>
<dd>
<p>
    A buffer, or a linear image subresource in either the
    <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> or <code>VK_IMAGE_LAYOUT_GENERAL</code>
    layout.
    Host-accessible subresources have a well-defined addressing scheme which
    can be used by the host.
</p>
</dd>
<dt class="hdlist1">
Host-Local Memory
</dt>
<dd>
<p>
    Memory that is not local to the device, and <span role="normative">may</span> be less performant for
    device access than device-local memory.
</p>
</dd>
<dt class="hdlist1">
Host-Visible Memory
</dt>
<dd>
<p>
    Device memory that <span role="normative">can</span> be mapped on the host and <span role="normative">can</span> be read and
    written by the host.
</p>
</dd>
<dt class="hdlist1">
Image
</dt>
<dd>
<p>
    A resource that represents a multi-dimensional formatted interpretation
    of device memory.
    Represented by a <code><a href="#VkImage">VkImage</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Image Subresource
</dt>
<dd>
<p>
    A specific mipmap level and layer of an image.
</p>
</dd>
<dt class="hdlist1">
Image Subresource Range
</dt>
<dd>
<p>
    A set of image subresources that are contiguous mipmap levels and
    layers.
</p>
</dd>
<dt class="hdlist1">
Image View
</dt>
<dd>
<p>
    An object that represents an image subresource range of a specific
    image, and state that controls how the contents are interpreted.
    Represented by a <code><a href="#VkImageView">VkImageView</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Immutable Sampler
</dt>
<dd>
<p>
    A sampler descriptor provided at descriptor set layout creation time,
    and that is used for that binding in all descriptor sets allocated from
    the layout, and cannot be changed.
</p>
</dd>
<dt class="hdlist1">
Implicitly-Enabled Layer
</dt>
<dd>
<p>
    A layer enabled by a loader-defined mechanism outside the Vulkan API,
    rather than explicitly by the application during instance or device
    creation.
</p>
</dd>
<dt class="hdlist1">
Index Buffer
</dt>
<dd>
<p>
    A buffer bound via <code><a href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a></code> which is the source of
    index values used to fetch vertex attributes for a
    <code><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code> or <code><a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code> command.
</p>
</dd>
<dt class="hdlist1">
Indexed Drawing Commands
</dt>
<dd>
<p>
    <em>Drawing commands</em> which use an <em>index buffer</em> as the source of index
    values used to fetch vertex attributes for a drawing command.
    Includes <code><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>,
    and <code><a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>.
</p>
</dd>
<dt class="hdlist1">
Indirect Commands
</dt>
<dd>
<p>
    Drawing or dispatching commands that source some of their parameters
    from structures in buffer memory.
    Includes <code><a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>, <code><a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>,
    and <code><a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>.
</p>
</dd>
<dt class="hdlist1">
Indirect Drawing Commands
</dt>
<dd>
<p>
    <em>Drawing commands</em> that source some of their parameters from structures
    in buffer memory.
    Includes <code><a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>,
    and <code><a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>.
</p>
</dd>
<dt class="hdlist1">
Initial State (Command Buffer)
</dt>
<dd>
<p>
    A command buffer that has not begun recording commands.
    See also Recorded State and Executable State.
</p>
</dd>
<dt class="hdlist1">
Input Attachment
</dt>
<dd>
<p>
    A descriptor type that represents an image view, and supports unfiltered
    read-only access in a shader, only at the fragment&#8217;s location in the
    view.
</p>
</dd>
<dt class="hdlist1">
Instance
</dt>
<dd>
<p>
    The top-level Vulkan object, which represents the application&#8217;s
    connection to the implementation.
    Represented by a <code><a href="#VkInstance">VkInstance</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Instance-Level Object
</dt>
<dd>
<p>
    High-level Vulkan objects, which are not logical devices, nor children
    of logical devices.
    For example, <code><a href="#VkInstance">VkInstance</a></code> and <code><a href="#VkPhysicalDevice">VkPhysicalDevice</a></code> objects are
    instance-level objects.
</p>
</dd>
<dt class="hdlist1">
Internal Synchronization
</dt>
<dd>
<p>
    A type of synchronization <span role="normative">required</span> of the implementation, where
    parameters not defined to be externally synchronized <span role="normative">may</span> require
    internal mutexing to avoid multithreaded race conditions.
</p>
</dd>
<dt class="hdlist1">
Invocation (Shader)
</dt>
<dd>
<p>
    A single execution of an entry point in a SPIR-V module.
    For example, a single vertex&#8217;s execution of a vertex shader or a single
    fragment&#8217;s execution of a fragment shader.
</p>
</dd>
<dt class="hdlist1">
Invocation Group
</dt>
<dd>
<p>
    A set of shader invocations that are executed in parallel and that <span role="normative">must</span>
    execute the same control flow path in order for control flow to be
    considered dynamically uniform.
</p>
</dd>
<dt class="hdlist1">
Local Workgroup
</dt>
<dd>
<p>
    A collection of compute shader invocations invoked by a single dispatch
    command, which share shared memory and can synchronize with each other.
</p>
</dd>
<dt class="hdlist1">
Logical Device
</dt>
<dd>
<p>
    An object that represents the application&#8217;s interface to the physical
    device.
    The logical device is the parent of most Vulkan objects.
    Represented by a <code><a href="#VkDevice">VkDevice</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Logical Operation
</dt>
<dd>
<p>
    Bitwise operations between a fragment color value and a value in a color
    attachment, that produce a final color value to be written to the
    attachment.
</p>
</dd>
<dt class="hdlist1">
Lost Device
</dt>
<dd>
<p>
    A state that a logical device <span role="normative">may</span> be in as a result of hardware errors
    or other exceptional conditions.
</p>
</dd>
<dt class="hdlist1">
Mappable
</dt>
<dd>
<p>
    See Host-Visible Memory.
</p>
</dd>
<dt class="hdlist1">
Memory Dependency
</dt>
<dd>
<p>
    A memory dependency is an execution dependency which includes
    availability and visibility operations such that:
</p>
<div class="ulist"><ul>
<li>
<p>
The first set of operations happens-before the availability operation
</p>
</li>
<li>
<p>
The availability operation happens-before the visibility operation
</p>
</li>
<li>
<p>
The visibility operation happens-before the second set of operations
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
Memory Heap
</dt>
<dd>
<p>
    A region of memory from which device memory allocations <span role="normative">can</span> be made.
</p>
</dd>
<dt class="hdlist1">
Memory Type
</dt>
<dd>
<p>
    An index used to select a set of memory properties (e.g. mappable,
    cached) for a device memory allocation.
</p>
</dd>
<dt class="hdlist1">
Mip Tail Region
</dt>
<dd>
<p>
    The set of mipmap levels of a sparse residency texture that are too
    small to fill a sparse block, and that <span role="normative">must</span> all be bound to memory
    collectively and opaquely.
</p>
</dd>
<dt class="hdlist1">
Non-Dispatchable Handle
</dt>
<dd>
<p>
    A handle of an integer handle type.
    Handle values <span role="normative">may</span> not be unique, even for two objects of the same type.
</p>
</dd>
<dt class="hdlist1">
Non-Indexed Drawing Commands
</dt>
<dd>
<p>
    <em>Drawing commands</em> for which the vertex attributes are sourced in linear
    order from the vertex input attributes for a drawing command (i.e. they
    do not use an <em>index buffer</em>).
    Includes <code><a href="#vkCmdDraw">vkCmdDraw</a></code>,
    and <code><a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>.
</p>
</dd>
<dt class="hdlist1">
Normalized
</dt>
<dd>
<p>
    A value that is interpreted as being in the range <span class="eq">[0,1]</span> as a
    result of being implicitly divided by some other value.
</p>
</dd>
<dt class="hdlist1">
Normalized Device Coordinates
</dt>
<dd>
<p>
    A coordinate space after perspective division is applied to clip
    coordinates, and before the viewport transformation converts to
    framebuffer coordinates.
</p>
</dd>
<dt class="hdlist1">
Overlapped Range (Aliased Range)
</dt>
<dd>
<p>
    The aliased range of a device memory allocation that intersects a given
    image subresource of an image or range of a buffer.
</p>
</dd>
<dt class="hdlist1">
Ownership (Resource)
</dt>
<dd>
<p>
    If an entity (e.g. a queue family) has ownership of a resource, access
    to that resource is well-defined for access by that entity.
</p>
</dd>
<dt class="hdlist1">
Packed Format
</dt>
<dd>
<p>
    A format whose components are stored as a single data element in memory,
    with their relative locations defined within that element.
</p>
</dd>
<dt class="hdlist1">
Physical Device
</dt>
<dd>
<p>
    An object that represents a single device in the system.
    Represented by a <code><a href="#VkPhysicalDevice">VkPhysicalDevice</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Pipeline
</dt>
<dd>
<p>
    An object that controls how graphics or compute work is executed on the
    device.
    A pipeline includes one or more shaders, as well as state controlling
    any non-programmable stages of the pipeline.
    Represented by a <code><a href="#VkPipeline">VkPipeline</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Pipeline Barrier
</dt>
<dd>
<p>
    An execution and/or memory dependency recorded as an explicit command in
    a command buffer, that forms a dependency between the previous and
    subsequent commands.
</p>
</dd>
<dt class="hdlist1">
Pipeline Cache
</dt>
<dd>
<p>
    An object that <span role="normative">can</span> be used to collect and retrieve information from
    pipelines as they are created, and <span role="normative">can</span> be populated with previously
    retrieved information in order to accelerate pipeline creation.
    Represented by a <code><a href="#VkPipelineCache">VkPipelineCache</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Pipeline Layout
</dt>
<dd>
<p>
    An object that defines the set of resources (via a collection of
    descriptor set layouts) and push constants used by pipelines that are
    created using the layout.
    Used when creating a pipeline and when binding descriptor sets and
    setting push constant values.
    Represented by a <code><a href="#VkPipelineLayout">VkPipelineLayout</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Pipeline Stage
</dt>
<dd>
<p>
    A logically independent execution unit that performs some of the
    operations defined by an action command.
</p>
</dd>
<dt class="hdlist1">
Point Sampling (Rasterization)
</dt>
<dd>
<p>
    A rule that determines whether a fragment sample location is covered by
    a polygon primitive by testing whether the sample location is in the
    interior of the polygon in framebuffer-space, or on the boundary of the
    polygon according to the tie-breaking rules.
</p>
</dd>
<dt class="hdlist1">
Preserve Attachment
</dt>
<dd>
<p>
    One of a list of attachments in a subpass description that is not read
    or written by the subpass, but that is read or written on earlier and
    later subpasses and whose contents must be preserved through this
    subpass.
</p>
</dd>
<dt class="hdlist1">
Primary Command Buffer
</dt>
<dd>
<p>
    A command buffer that <span role="normative">can</span> execute secondary command buffers, and <span role="normative">can</span>
    be submitted directly to a queue.
</p>
</dd>
<dt class="hdlist1">
Primitive Topology
</dt>
<dd>
<p>
    State that controls how vertices are assembled into primitives, e.g. as
    lists of triangles, strips of lines, etc..
</p>
</dd>
<dt class="hdlist1">
Provoking Vertex
</dt>
<dd>
<p>
    The vertex in a primitive from which flat shaded attribute values are
    taken.
    This is generally the &#8220;first&#8221; vertex in the primitive, and depends on
    the primitive topology.
</p>
</dd>
<dt class="hdlist1">
Push Constants
</dt>
<dd>
<p>
    A small bank of values writable via the API and accessible in shaders.
    Push constants allow the application to set values used in shaders
    without creating buffers or modifying and binding descriptor sets for
    each update.
</p>
</dd>
<dt class="hdlist1">
Push Constant Interface
</dt>
<dd>
<p>
    The set of variables with <code>PushConstant</code> storage class that are
    statically used by a shader entry point, and which receive values from
    push constant commands.
</p>
</dd>
<dt class="hdlist1">
Query Pool
</dt>
<dd>
<p>
    An object that contains a number of query entries and their associated
    state and results.
    Represented by a <code><a href="#VkQueryPool">VkQueryPool</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Queue
</dt>
<dd>
<p>
    An object that executes command buffers and sparse binding operations on
    a device.
    Represented by a <code><a href="#VkQueue">VkQueue</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Queue Family
</dt>
<dd>
<p>
    A set of queues that have common properties and support the same
    functionality, as advertised in <code><a href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a></code>.
</p>
</dd>
<dt class="hdlist1">
Queue Operation
</dt>
<dd>
<p>
    A unit of work to be executed by a specific queue on a device, submitted
    via a <a href="#devsandqueues-submission">queue submission command</a>.
    Each queue submission command details the specific queue operations that
    occur as a result of calling that command.
    Queue operations typically include work that is specific to each
    command, and synchronization tasks.
</p>
</dd>
<dt class="hdlist1">
Queue Submission
</dt>
<dd>
<p>
    Zero or more batches and an optional fence to be signaled, passed to a
    command for execution on a queue.
    See the <a href="#devsandqueues-submission">Devices and Queues chapter</a> for
    more information.
</p>
</dd>
<dt class="hdlist1">
Recording State (Command Buffer)
</dt>
<dd>
<p>
    A command buffer that is ready to record commands.
    See also Initial State and Executable State.
</p>
</dd>
<dt class="hdlist1">
Release Operation (Resource)
</dt>
<dd>
<p>
    An operation that releases ownership of an image subresource or buffer
    range.
</p>
</dd>
<dt class="hdlist1">
Render Pass
</dt>
<dd>
<p>
    An object that represents a set of framebuffer attachments and phases of
    rendering using those attachments.
    Represented by a <code><a href="#VkRenderPass">VkRenderPass</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Render Pass Instance
</dt>
<dd>
<p>
    A use of a render pass in a command buffer.
</p>
</dd>
<dt class="hdlist1">
Reset (Command Buffer)
</dt>
<dd>
<p>
    Resetting a command buffer discards any previously recorded commands and
    puts a command buffer in the initial state.
</p>
</dd>
<dt class="hdlist1">
Residency Code
</dt>
<dd>
<p>
    An integer value returned by sparse image instructions, indicating
    whether any sparse unbound texels were accessed.
</p>
</dd>
<dt class="hdlist1">
Resolve Attachment
</dt>
<dd>
<p>
    A subpass attachment point, or image view, that is the target of a
    multisample resolve operation from the corresponding color attachment at
    the end of the subpass.
</p>
</dd>
<dt class="hdlist1">
Sampled Image
</dt>
<dd>
<p>
    A descriptor type that represents an image view, and supports filtered
    (sampled) and unfiltered read-only acccess in a shader.
</p>
</dd>
<dt class="hdlist1">
Sampler
</dt>
<dd>
<p>
    An object that contains state that controls how sampled image data is
    sampled (or filtered) when accessed in a shader.
    Also a descriptor type describing the object.
    Represented by a <code><a href="#VkSampler">VkSampler</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Secondary Command Buffer
</dt>
<dd>
<p>
    A command buffer that <span role="normative">can</span> be executed by a primary command buffer, and
    <span role="normative">must</span> not be submitted directly to a queue.
</p>
</dd>
<dt class="hdlist1">
Self-Dependency
</dt>
<dd>
<p>
    A subpass dependency from a subpass to itself, i.e. with
    <code>srcSubpass</code> equal to <code>dstSubpass</code>.
    A self-dependency is not automatically performed during a render pass
    instance, rather a subset of it <span role="normative">can</span> be performed via
    <code><a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code> during the subpass.
</p>
</dd>
<dt class="hdlist1">
Semaphore
</dt>
<dd>
<p>
    A synchronization primitive that supports signal and wait operations,
    and <span role="normative">can</span> be used to synchronize operations within a queue or across
    queues.
    Represented by a <code><a href="#VkSemaphore">VkSemaphore</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Shader
</dt>
<dd>
<p>
    Instructions selected (via an entry point) from a shader module, which
    are executed in a shader stage.
</p>
</dd>
<dt class="hdlist1">
Shader Code
</dt>
<dd>
<p>
    A stream of instructions used to describe the operation of a shader.
</p>
</dd>
<dt class="hdlist1">
Shader Module
</dt>
<dd>
<p>
    A collection of shader code, potentially including several functions and
    entry points, that is used to create shaders in pipelines.
    Represented by a <code><a href="#VkShaderModule">VkShaderModule</a></code> object.
</p>
</dd>
<dt class="hdlist1">
Shader Stage
</dt>
<dd>
<p>
    A stage of the graphics or compute pipeline that executes shader code.
</p>
</dd>
<dt class="hdlist1">
Side Effect
</dt>
<dd>
<p>
    A store to memory or atomic operation on memory from a shader
    invocation.
</p>
</dd>
<dt class="hdlist1">
Sparse Block
</dt>
<dd>
<p>
    An element of a sparse resource that can be independently bound to
    memory.
    Sparse blocks of a particular sparse resource have a corresponding size
    in bytes that they use in the bound memory.
</p>
</dd>
<dt class="hdlist1">
Sparse Image Block
</dt>
<dd>
<p>
    A sparse block in a sparse partially-resident image.
    In addition to the sparse block size in bytes, sparse image blocks have
    a corresponding width, height, and depth that define the dimensions of
    these elements in units of texels or compressed texel blocks, the latter
    being used in case of sparse images having a block-compressed format.
</p>
</dd>
<dt class="hdlist1">
Sparse Unbound Texel
</dt>
<dd>
<p>
    A texel read from a region of a sparse texture that does not have memory
    bound to it.
</p>
</dd>
<dt class="hdlist1">
Static Use
</dt>
<dd>
<p>
    An object in a shader is statically used by a shader entry point if any
    function in the entry point&#8217;s call tree contains an instruction using
    the object.
    Static use is used to constrain the set of descriptors used by a shader
    entry point.
</p>
</dd>
<dt class="hdlist1">
Storage Buffer
</dt>
<dd>
<p>
    A descriptor type that represents a buffer, and supports reads, writes,
    and atomics in a shader.
</p>
</dd>
<dt class="hdlist1">
Storage Image
</dt>
<dd>
<p>
    A descriptor type that represents an image view, and supports unfiltered
    loads, stores, and atomics in a shader.
</p>
</dd>
<dt class="hdlist1">
Storage Texel Buffer
</dt>
<dd>
<p>
    A descriptor type that represents a buffer view, and supports
    unfiltered, formatted reads, writes, and atomics in a shader.
</p>
</dd>
<dt class="hdlist1">
Subpass
</dt>
<dd>
<p>
    A phase of rendering within a render pass, that reads and writes a
    subset of the attachments.
</p>
</dd>
<dt class="hdlist1">
Subpass Dependency
</dt>
<dd>
<p>
    An execution and/or memory dependency between two subpasses described as
    part of render pass creation, and automatically performed between
    subpasses in a render pass instance.
    A subpass dependency limits the overlap of execution of the pair of
    subpasses, and <span role="normative">can</span> provide guarantees of memory coherence between
    accesses in the subpasses.
</p>
</dd>
<dt class="hdlist1">
Subpass Description
</dt>
<dd>
<p>
    Lists of attachment indices for input attachments, color attachments,
    depth/stencil attachment, resolve attachments, and preserve attachments
    used by the subpass in a render pass.
</p>
</dd>
<dt class="hdlist1">
Subset (Self-Dependency)
</dt>
<dd>
<p>
    A subset of a self-dependency is a pipeline barrier performed during the
    subpass of the self-dependency, and whose stage masks and access masks
    each contain a subset of the bits set in the identically named mask in
    the self-dependency.
</p>
</dd>
<dt class="hdlist1">
Texel Coordinate System
</dt>
<dd>
<p>
    One of three coordinate systems (normalized, unnormalized, integer) that
    define how texel coordinates are interpreted in an image or a specific
    mipmap level of an image.
</p>
</dd>
<dt class="hdlist1">
Uniform Texel Buffer
</dt>
<dd>
<p>
    A descriptor type that represents a buffer view, and supports
    unfiltered, formatted, read-only access in a shader.
</p>
</dd>
<dt class="hdlist1">
Uniform Buffer
</dt>
<dd>
<p>
    A descriptor type that represents a buffer, and supports read-only
    access in a shader.
</p>
</dd>
<dt class="hdlist1">
Unnormalized
</dt>
<dd>
<p>
    A value that is interpreted according to its conventional
    interpretation, and is not normalized.
</p>
</dd>
<dt class="hdlist1">
User-Defined Variable Interface
</dt>
<dd>
<p>
    A shader entry point&#8217;s variables with <code>Input</code> or <code>Output</code> storage
    class that are not built-in variables.
</p>
</dd>
<dt class="hdlist1">
Vertex Input Attribute
</dt>
<dd>
<p>
    A graphics pipeline resource that produces input values for the vertex
    shader by reading data from a vertex input binding and converting it to
    the attribute&#8217;s format.
</p>
</dd>
<dt class="hdlist1">
Vertex Input Binding
</dt>
<dd>
<p>
    A graphics pipeline resource that is bound to a buffer and includes
    state that affects addressing calculations within that buffer.
</p>
</dd>
<dt class="hdlist1">
Vertex Input Interface
</dt>
<dd>
<p>
    A vertex shader entry point&#8217;s variables with <code>Input</code> storage class,
    which receive values from vertex input attributes.
</p>
</dd>
<dt class="hdlist1">
Vertex Processing Stages
</dt>
<dd>
<p>
    A set of shader stages that comprises the vertex shader, tessellation
    control shader, tessellation evaluation shader, and geometry shader
    stages.
</p>
</dd>
<dt class="hdlist1">
View Volume
</dt>
<dd>
<p>
    A subspace in homogeneous coordinates, corresponding to post-projection
    x and y values between -1 and +1, and z values between 0 and +1.
</p>
</dd>
<dt class="hdlist1">
Viewport Transformation
</dt>
<dd>
<p>
    A transformation from normalized device coordinates to framebuffer
    coordinates, based on a viewport rectangle and depth range.
</p>
</dd>
<dt class="hdlist1">
Visibility Operation
</dt>
<dd>
<p>
    An operation that causes available values to become visible to specified
    memory accesses.
</p>
</dd>
<dt class="hdlist1">
Visible
</dt>
<dd>
<p>
    A state of values written to memory that allows them to be accessed by a
    set of operations.
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_common_abbreviations">Common Abbreviations</h2>
<div class="sectionbody">
<div class="paragraph"><p>Abbreviations and acronyms are sometimes used in the Specification and the
API where they are considered clear and commonplace, and are defined here:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Src
</dt>
<dd>
<p>
    Source
</p>
</dd>
<dt class="hdlist1">
Dst
</dt>
<dd>
<p>
    Destination
</p>
</dd>
<dt class="hdlist1">
Min
</dt>
<dd>
<p>
    Minimum
</p>
</dd>
<dt class="hdlist1">
Max
</dt>
<dd>
<p>
    Maximum
</p>
</dd>
<dt class="hdlist1">
Rect
</dt>
<dd>
<p>
    Rectangle
</p>
</dd>
<dt class="hdlist1">
Info
</dt>
<dd>
<p>
    Information
</p>
</dd>
<dt class="hdlist1">
LOD
</dt>
<dd>
<p>
    Level of Detail
</p>
</dd>
<dt class="hdlist1">
ID
</dt>
<dd>
<p>
    Identifier
</p>
</dd>
<dt class="hdlist1">
UUID
</dt>
<dd>
<p>
    Universally Unique Identifier
</p>
</dd>
<dt class="hdlist1">
Op
</dt>
<dd>
<p>
    Operation
</p>
</dd>
<dt class="hdlist1">
R
</dt>
<dd>
<p>
    Red color component
</p>
</dd>
<dt class="hdlist1">
G
</dt>
<dd>
<p>
    Green color component
</p>
</dd>
<dt class="hdlist1">
B
</dt>
<dd>
<p>
    Blue color component
</p>
</dd>
<dt class="hdlist1">
A
</dt>
<dd>
<p>
    Alpha color component
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_prefixes">Prefixes</h2>
<div class="sectionbody">
<div class="paragraph"><p>Prefixes are used in the API to denote specific semantic meaning of Vulkan
names, or as a label to avoid name clashes, and are explained here:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
VK/Vk/vk
</dt>
<dd>
<p>
    Vulkan namespace<br>
    All types, commands, enumerants and defines in this specification are
    prefixed with these two characters.
</p>
</dd>
<dt class="hdlist1">
PFN/pfn
</dt>
<dd>
<p>
    Function Pointer<br>
    Denotes that a type is a function pointer, or that a variable is of a
    pointer type.
</p>
</dd>
<dt class="hdlist1">
p
</dt>
<dd>
<p>
    Pointer<br>
    Variable is a pointer.
</p>
</dd>
<dt class="hdlist1">
vkCmd
</dt>
<dd>
<p>
    Commands that record commands in command buffers<br>
    These API commands do not result in immediate processing on the device.
    Instead, they record the requested action in a command buffer for
    execution when the command buffer is submitted to a queue.
</p>
</dd>
<dt class="hdlist1">
s
</dt>
<dd>
<p>
    Structure<br>
    Used to denote the <code>VK_STRUCTURE_TYPE*</code> member of each structure in
    <code>sType</code>
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="credits">Appendix F: Credits</h2>
<div class="sectionbody">
<div class="paragraph"><p>Vulkan 1.0 is the result of contributions from many people and companies
participating in the Khronos Vulkan Working Group, as well as input from the
Vulkan Advisory Panel.</p></div>
<div class="paragraph"><p>Members of the Working Group, including the company that they represented at
the time of their contributions, are listed below.
Some specific contributions made by individuals are listed together with
their name.</p></div>
<div class="ulist"><ul>
<li>
<p>
Adam Jackson, Red Hat
</p>
</li>
<li>
<p>
Adam migielski, Mobica
</p>
</li>
<li>
<p>
Alex Bourd, Qualcomm Technologies, Inc.
</p>
</li>
<li>
<p>
Alexander Galazin, ARM
</p>
</li>
<li>
<p>
Allen Hux, Intel
</p>
</li>
<li>
<p>
Alon Or-bach, Samsung Electronics (WSI technical sub-group chair)
</p>
</li>
<li>
<p>
Andrew Cox, Samsung Electronics
</p>
</li>
<li>
<p>
Andrew Garrard, Samsung Electronics (format wrangler)
</p>
</li>
<li>
<p>
Andrew Poole, Samsung Electronics
</p>
</li>
<li>
<p>
Andrew Rafter, Samsung Electronics
</p>
</li>
<li>
<p>
Andrew Richards, Codeplay Software Ltd.
</p>
</li>
<li>
<p>
Andrew Woloszyn, Google
</p>
</li>
<li>
<p>
Antoine Labour, Google
</p>
</li>
<li>
<p>
Aras Pranckeviius, Unity
</p>
</li>
<li>
<p>
Ashwin Kolhe, NVIDIA
</p>
</li>
<li>
<p>
Ben Bowman, Imagination Technologies
</p>
</li>
<li>
<p>
Benj Lipchak
</p>
</li>
<li>
<p>
Bill Hollings, The Brenwill Workshop
</p>
</li>
<li>
<p>
Bill Licea-Kane, Qualcomm Technologies, Inc.
</p>
</li>
<li>
<p>
Brent E.
    Insko, Intel
</p>
</li>
<li>
<p>
Brian Ellis, Qualcomm Technologies, Inc.
</p>
</li>
<li>
<p>
Cass Everitt, Oculus VR
</p>
</li>
<li>
<p>
Cemil Azizoglu, Canonical
</p>
</li>
<li>
<p>
Chad Versace, Intel
</p>
</li>
<li>
<p>
Chang-Hyo Yu, Samsung Electronics
</p>
</li>
<li>
<p>
Chia-I Wu, LunarG
</p>
</li>
<li>
<p>
Chris Frascati, Qualcomm Technologies, Inc.
</p>
</li>
<li>
<p>
Christophe Riccio, Unity
</p>
</li>
<li>
<p>
Cody Northrop, LunarG
</p>
</li>
<li>
<p>
Courtney Goeltzenleuchter, LunarG
</p>
</li>
<li>
<p>
Damien Leone, NVIDIA
</p>
</li>
<li>
<p>
Dan Baker, Oxide Games
</p>
</li>
<li>
<p>
Dan Ginsburg, Valve
</p>
</li>
<li>
<p>
Daniel Johnston, Intel
</p>
</li>
<li>
<p>
Daniel Koch, NVIDIA (<a href="#interfaces">Shader Interfaces</a>;
    <a href="#features">Features</a>)
</p>
</li>
<li>
<p>
Daniel Rakos, AMD
</p>
</li>
<li>
<p>
David Airlie, Red Hat
</p>
</li>
<li>
<p>
David Neto, Google
</p>
</li>
<li>
<p>
David Mao, AMD
</p>
</li>
<li>
<p>
David Yu, Pixar
</p>
</li>
<li>
<p>
Dominik Witczak, AMD
</p>
</li>
<li>
<p>
Frank (LingJun) Chen, Qualcomm Technologies, Inc.
</p>
</li>
<li>
<p>
Fred Liao, Mediatek
</p>
</li>
<li>
<p>
Gabe Dagani, Freescale
</p>
</li>
<li>
<p>
Graeme Leese, Broadcom
</p>
</li>
<li>
<p>
Graham Connor, Imagination Technologies
</p>
</li>
<li>
<p>
Graham Sellers, AMD
</p>
</li>
<li>
<p>
Hwanyong Lee, Kyungpook National University
</p>
</li>
<li>
<p>
Ian Elliott, LunarG
</p>
</li>
<li>
<p>
Ian Romanick, Intel
</p>
</li>
<li>
<p>
James Jones, NVIDIA
</p>
</li>
<li>
<p>
James Hughes, Oculus VR
</p>
</li>
<li>
<p>
Jan Hermes, Continental Corporation
</p>
</li>
<li>
<p>
Jan-Harald Fredriksen, ARM
</p>
</li>
<li>
<p>
Jason Ekstrand, Intel
</p>
</li>
<li>
<p>
Jeff Bolz, NVIDIA (extensive contributions, exhaustive review and
    rewrites for technical correctness)
</p>
</li>
<li>
<p>
Jeff Juliano, NVIDIA
</p>
</li>
<li>
<p>
Jeff Vigil, Qualcomm Technologies, Inc.
</p>
</li>
<li>
<p>
Jens Owen, LunarG
</p>
</li>
<li>
<p>
Jeremy Hayes, LunarG
</p>
</li>
<li>
<p>
Jesse Barker, ARM
</p>
</li>
<li>
<p>
Jesse Hall, Google
</p>
</li>
<li>
<p>
Johannes van Waveren, Oculus VR
</p>
</li>
<li>
<p>
John Kessenich, Google (SPIR-V and GLSL for Vulkan spec author)
</p>
</li>
<li>
<p>
John McDonald, Valve
</p>
</li>
<li>
<p>
Jon Ashburn, LunarG
</p>
</li>
<li>
<p>
Jon Leech, Independent (XML toolchain, normative language, release
    wrangler)
</p>
</li>
<li>
<p>
Jonas Gustavsson, Sony Mobile
</p>
</li>
<li>
<p>
Jonathan Hamilton, Imagination Technologies
</p>
</li>
<li>
<p>
Jungwoo Kim, Samsung Electronics
</p>
</li>
<li>
<p>
Kenneth Benzie, Codeplay Software Ltd.
</p>
</li>
<li>
<p>
Kerch Holt, NVIDIA (SPIR-V technical sub-group chair)
</p>
</li>
<li>
<p>
Kristian Kristensen, Intel
</p>
</li>
<li>
<p>
Krzysztof Iwanicki, Samsung Electronics
</p>
</li>
<li>
<p>
Larry Seiler, Intel
</p>
</li>
<li>
<p>
Lutz Latta, Lucasfilm
</p>
</li>
<li>
<p>
Maria Rovatsou, Codeplay Software Ltd.
</p>
</li>
<li>
<p>
Mark Callow
</p>
</li>
<li>
<p>
Mark Lobodzinski, LunarG
</p>
</li>
<li>
<p>
Mateusz Przybylski, Intel
</p>
</li>
<li>
<p>
Mathias Heyer, NVIDIA
</p>
</li>
<li>
<p>
Mathias Schott, NVIDIA
</p>
</li>
<li>
<p>
Maxim Lukyanov, Samsung Electronics
</p>
</li>
<li>
<p>
Maurice Ribble, Qualcomm Technologies, Inc.
</p>
</li>
<li>
<p>
Michael Lentine, Google
</p>
</li>
<li>
<p>
Michael Worcester, Imagination Technologies
</p>
</li>
<li>
<p>
Michal Pietrasiuk, Intel
</p>
</li>
<li>
<p>
Mika Isojarvi, Google
</p>
</li>
<li>
<p>
Mike Stroyan, LunarG
</p>
</li>
<li>
<p>
Minyoung Son, Samsung Electronics
</p>
</li>
<li>
<p>
Mitch Singer, AMD
</p>
</li>
<li>
<p>
Mythri Venugopal, Samsung Electronics
</p>
</li>
<li>
<p>
Naveen Leekha, Google
</p>
</li>
<li>
<p>
Neil Henning, Codeplay Software Ltd.
</p>
</li>
<li>
<p>
Neil Trevett, NVIDIA
</p>
</li>
<li>
<p>
Nick Penwarden, Epic Games
</p>
</li>
<li>
<p>
Niklas Smedberg, Epic Games
</p>
</li>
<li>
<p>
Norbert Nopper, Freescale
</p>
</li>
<li>
<p>
Pat Brown, NVIDIA
</p>
</li>
<li>
<p>
Patrick Doane, Blizzard Entertainment
</p>
</li>
<li>
<p>
Peter Lohrmann, Valve
</p>
</li>
<li>
<p>
Pierre Boudier, NVIDIA
</p>
</li>
<li>
<p>
Pierre-Loup A.
    Griffais, Valve
</p>
</li>
<li>
<p>
Piers Daniell, NVIDIA (dynamic state, copy commands, memory types)
</p>
</li>
<li>
<p>
Piotr Bialecki, Intel
</p>
</li>
<li>
<p>
Prabindh Sundareson, Samsung Electronics
</p>
</li>
<li>
<p>
Pyry Haulos, Google (Vulkan conformance test subcommittee chair)
</p>
</li>
<li>
<p>
Ray Smith, ARM
</p>
</li>
<li>
<p>
Rob Stepinski, Transgaming
</p>
</li>
<li>
<p>
Robert J.
    Simpson, Qualcomm Technologies, Inc.
</p>
</li>
<li>
<p>
Rolando Caloca Olivares, Epic Games
</p>
</li>
<li>
<p>
Roy Ju, Mediatek
</p>
</li>
<li>
<p>
Rufus Hamede, Imagination Technologies
</p>
</li>
<li>
<p>
Sean Ellis, ARM
</p>
</li>
<li>
<p>
Sean Harmer, KDAB
</p>
</li>
<li>
<p>
Shannon Woods, Google
</p>
</li>
<li>
<p>
Slawomir Cygan, Intel
</p>
</li>
<li>
<p>
Slawomir Grajewski, Intel
</p>
</li>
<li>
<p>
Stefanus Du Toit, Google
</p>
</li>
<li>
<p>
Steve Hill, Broadcom
</p>
</li>
<li>
<p>
Steve Viggers, Core Avionics &amp; Industrial Inc.
</p>
</li>
<li>
<p>
Stuart Smith, Imagination Technologies
</p>
</li>
<li>
<p>
Tim Foley, Intel
</p>
</li>
<li>
<p>
Timo Suoranta, AMD
</p>
</li>
<li>
<p>
Timothy Lottes, AMD
</p>
</li>
<li>
<p>
Tobias Hector, Imagination Technologies (validity language and
    toolchain)
</p>
</li>
<li>
<p>
Tobin Ehlis, LunarG
</p>
</li>
<li>
<p>
Tom Olson, ARM (working group chair)
</p>
</li>
<li>
<p>
Tomasz Kubale, Intel
</p>
</li>
<li>
<p>
Tony Barbour, LunarG
</p>
</li>
<li>
<p>
Wayne Lister, Imagination Technologies
</p>
</li>
<li>
<p>
Yanjun Zhang, Vivante
</p>
</li>
<li>
<p>
Zhenghong Wang, Mediatek
</p>
</li>
</ul></div>
<div class="paragraph"><p>In addition to the Working Group, the Vulkan Advisory Panel members provided
important real-world usage information and advice that helped guide design
decisions.</p></div>
<div class="paragraph"><p>Administrative support to the Working Group was provided by members of Gold
Standard Group, including Andrew Riegel, Elizabeth Riegel, Glenn Fredericks,
Kathleen Mattson and Michelle Clark.
Technical support was provided by James Riordon, webmaster of Khronos.org
and OpenGL.org.</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr></div>
<div id="footer">
<div id="footer-text">
Version 1.0.39<br>
Last updated
 2017-01-17 20:00:16 PST
</div>
</div>
</body>
</html>
