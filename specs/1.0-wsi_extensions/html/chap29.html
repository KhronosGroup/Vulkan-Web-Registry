<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="author" content="The Khronos® Vulkan  Working Group">
<title>Vulkan® 1.0.296 - A Specification (with all ratified extensions)</title>
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="style1.css" type="text/css">
<link rel="stylesheet" href="style2.css" type="text/css">

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin="" even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="../katex/katex.min.css">
<!--ChunkedSearchJSMarker-->
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<link rel="stylesheet" href="style3.css" type="text/css">
<script>
    function hideElement(e){
        e.setAttribute("hidden", "");
        e.classList.add("hidden");
    }

    function unhideElement(e){
        e.classList.remove("hidden");
        e.removeAttribute("hidden");
    }

    function hideLoadableContent(){
        unhideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) hideElement(loadable);
    }

    function unhideLoadableContent(){
        hideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) unhideElement(loadable);
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div style="text-align: center;">
    <span class="image"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgdmlld0JveD0iMCAwIDExNTAgMzI2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTsiPgogICAgPGcgaWQ9IkFydGJvYXJkMSIgdHJhbnNmb3JtPSJtYXRyaXgoMC45NTUxNSwwLDAsMC44ODgyODMsLTQwLjExNjMsLTMwLjIwMTYpIj4KICAgICAgICA8cmVjdCB4PSI0MiIgeT0iMzQiIHdpZHRoPSIxMjA0IiBoZWlnaHQ9IjM2NyIgc3R5bGU9ImZpbGw6bm9uZTsiLz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLjA0Njk2LDAsMCwxLjEyNTc3LC00Ni45OTEzLC01MC40MzI1KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik03MjQuMSwzODUuMDZMNjgzLjUzLDM4NS4wNkM2ODMuNTMsMzg1LjA2IDY4My41MywyODYuMDkgNjgzLjUzLDI1NS40QzY5Ni40OSwyNjIuNjIgNzEzLjYyLDI3NS45NCA3MjQuMSwyODguNzJMNzI0LjEsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxnPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM4MS43NSwzODUuMDZMMzMxLjE3LDM4NS4wNkwyNjUuMTYsMTgxLjAzTDMxMS4xNywxODEuMDNMMzU2LjYxLDMyNC40OEwzNTcuMTgsMzI0LjQ4TDQwMy4xOCwxODEuMDNMNDQ5LjQ3LDE4MS4wM0wzODEuNzUsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTg1LjUxLDM4NS4wNkw1NDYuOTMsMzg1LjA2TDU0Ni45MywzNjQuNDlMNTQ2LjA4LDM2NC40OUM1NDAuOTMsMzczLjA3IDUzNC4yNywzNzkuMjYgNTI2LjA3LDM4My4wN0M1MTcuODgsMzg2Ljg4IDUwOS41LDM4OC43OCA1MDAuOTIsMzg4Ljc4QzQ5MC4wNiwzODguNzggNDgxLjE2LDM4Ny4zNSA0NzQuMiwzODQuNUM0NjcuMjUsMzgxLjY1IDQ2MS43NywzNzcuNTkgNDU3Ljc3LDM3Mi4zNkM0NTMuNzYsMzY3LjEyIDQ1MC45NSwzNjAuNzQgNDQ5LjMzLDM1My4yMUM0NDcuNzIsMzQ1LjY5IDQ0Ni45MSwzMzcuMzUgNDQ2LjkxLDMyOC4yMUw0NDYuOTEsMjM3LjMzTDQ4Ny40OSwyMzcuMzNMNDg3LjQ5LDMyMC43N0M0ODcuNDksMzMyLjk2IDQ4OS40LDM0Mi4wNiA0OTMuMjEsMzQ4LjA2QzQ5Ny4wMiwzNTQuMDcgNTAzLjc4LDM1Ny4wNiA1MTMuNSwzNTcuMDZDNTI0LjU1LDM1Ny4wNiA1MzIuNTUsMzUzLjc4IDUzNy41LDM0Ny4yQzU0Mi40NiwzNDAuNjIgNTQ0LjkzLDMyOS44MSA1NDQuOTMsMzE0Ljc2TDU0NC45MywyMzcuMzJMNTg1LjUyLDIzNy4zMkw1ODUuNTIsMzg1LjA2TDU4NS41MSwzODUuMDZaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNNzMwLjg0LDI5Ni4xOUw3MzAuNzQsMjkwLjQ3TDc4MS44OSwyMzcuMzNMODI5LjkxLDIzNy4zM0w3NzQuMTgsMjkxLjYyTDgzNi4xOSwzODUuMDZMNzg3LjA0LDM4NS4wNkw3MzAuODQsMjk2LjE5WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik04NDMuNjIsMjgyLjc2Qzg0NC4xOSwyNzMuMjQgODQ2LjU4LDI2NS4zMyA4NTAuNzcsMjU5LjA0Qzg1NC45NiwyNTIuNzUgODYwLjI5LDI0Ny43MSA4NjYuNzcsMjQzLjlDODczLjI1LDI0MC4wOSA4ODAuNTQsMjM3LjM3IDg4OC42NCwyMzUuNzZDODk2LjczLDIzNC4xNCA5MDQuODgsMjMzLjMzIDkxMy4wNywyMzMuMzNDOTIwLjUsMjMzLjMzIDkyOC4wMiwyMzMuODUgOTM1LjY0LDIzNC45Qzk0My4yNywyMzUuOTUgOTUwLjIxLDIzOCA5NTYuNSwyNDEuMDVDOTYyLjc4LDI0NC4xIDk2Ny45MywyNDguMzQgOTcxLjk0LDI1My43NkM5NzUuOTQsMjU5LjE5IDk3Ny45NCwyNjYuMzggOTc3Ljk0LDI3NS4zNEw5NzcuOTQsMzUyLjIxQzk3Ny45NCwzNTguODggOTc4LjMyLDM2NS4yNyA5NzkuMDgsMzcxLjM2Qzk3OS44NCwzNzcuNDYgOTgxLjE4LDM4Mi4wMyA5ODMuMDksMzg1LjA4TDk0MS45NCwzODUuMDhDOTQxLjE4LDM4Mi44IDk0MC41NiwzODAuNDYgOTQwLjA4LDM3OC4wOEM5MzkuNjEsMzc1LjcgOTM5LjI3LDM3My4yOCA5MzkuMDgsMzcwLjc5QzkzMi42LDM3Ny40NyA5MjQuOTcsMzgyLjEzIDkxNi4yMSwzODQuOEM5MDcuNDUsMzg3LjQ2IDg5OC40OSwzODguOCA4ODkuMzUsMzg4LjhDODgyLjMsMzg4LjggODc1LjcyLDM4Ny45NCA4NjkuNjQsMzg2LjIzQzg2My41NCwzODQuNTIgODU4LjIsMzgxLjg1IDg1My42NCwzNzguMjNDODQ5LjA2LDM3NC42MSA4NDUuNDgsMzcwLjA0IDg0Mi45MiwzNjQuNTFDODQwLjM1LDM1OC45OSA4MzkuMDYsMzUyLjQyIDgzOS4wNiwzNDQuOEM4MzkuMDYsMzM2LjQyIDg0MC41NCwzMjkuNTEgODQzLjQ5LDMyNC4wOEM4NDYuNDUsMzE4LjY1IDg1MC4yNSwzMTQuMzIgODU0LjkzLDMxMS4wOEM4NTkuNiwzMDcuODQgODY0LjkzLDMwNS40MSA4NzAuOTMsMzAzLjc5Qzg3Ni45MywzMDIuMTcgODgyLjk4LDMwMC44OCA4ODkuMDcsMjk5LjkzQzg5NS4xNywyOTguOTkgOTAxLjE3LDI5OC4yMiA5MDcuMDgsMjk3LjY1QzkxMi45OSwyOTcuMDggOTE4LjIyLDI5Ni4yMiA5MjIuNzksMjk1LjA4QzkyNy4zNywyOTMuOTMgOTMwLjk4LDI5Mi4yNyA5MzMuNjUsMjkwLjA3QzkzNi4zMiwyODcuODggOTM3LjU2LDI4NC42OSA5MzcuMzcsMjgwLjVDOTM3LjM3LDI3Ni4xMiA5MzYuNjUsMjcyLjY0IDkzNS4yMiwyNzAuMDdDOTMzLjc5LDI2Ny41IDkzMS44OSwyNjUuNSA5MjkuNTEsMjY0LjA3QzkyNy4xMywyNjIuNjQgOTI0LjM3LDI2MS42OSA5MjEuMjIsMjYxLjIxQzkxOC4wNywyNjAuNzMgOTE0LjcsMjYwLjQ5IDkxMS4wOCwyNjAuNDlDOTAzLjA4LDI2MC40OSA4OTYuNzksMjYyLjIgODkyLjIyLDI2NS42NEM4ODcuNjUsMjY5LjA3IDg4NC45OCwyNzQuNzggODg0LjIyLDI4Mi43OUw4NDMuNjIsMjgyLjc5TDg0My42MiwyODIuNzZaTTkzNy4zNSwzMTIuNzdDOTM1LjYzLDMxNC4zIDkzMy40OSwzMTUuNDggOTMwLjkyLDMxNi4zNEM5MjguMzUsMzE3LjIxIDkyNS41OSwzMTcuOTIgOTIyLjYzLDMxOC40OUM5MTkuNjgsMzE5LjA2IDkxNi41OCwzMTkuNTQgOTEzLjM1LDMxOS45MkM5MTAuMTEsMzIwLjMgOTA2Ljg3LDMyMC43NyA5MDMuNjMsMzIxLjM1QzkwMC41OCwzMjEuOTIgODk3LjU4LDMyMi42OSA4OTQuNjMsMzIzLjYzQzg5MS42OCwzMjQuNTkgODg5LjEsMzI1Ljg3IDg4Ni45MSwzMjcuNDlDODg0LjcyLDMyOS4xMSA4ODIuOTYsMzMxLjE2IDg4MS42MiwzMzMuNjNDODgwLjI5LDMzNi4xMSA4NzkuNjIsMzM5LjI1IDg3OS42MiwzNDMuMDZDODc5LjYyLDM0Ni42OCA4ODAuMjksMzQ5LjczIDg4MS42MiwzNTIuMkM4ODIuOTYsMzU0LjY4IDg4NC43NywzNTYuNjMgODg3LjA1LDM1OC4wNkM4ODkuMzQsMzU5LjQ5IDg5MiwzNjAuNDkgODk1LjA1LDM2MS4wNkM4OTguMSwzNjEuNjMgOTAxLjI0LDM2MS45MSA5MDQuNDgsMzYxLjkxQzkxMi40OCwzNjEuOTEgOTE4LjY4LDM2MC41OCA5MjMuMDYsMzU3LjkyQzkyNy40NCwzNTUuMjUgOTMwLjY5LDM1Mi4wNiA5MzIuNzcsMzQ4LjM0QzkzNC44NiwzNDQuNjMgOTM2LjE2LDM0MC44NyA5MzYuNjIsMzM3LjA2QzkzNy4xLDMzMy4yNSA5MzcuMzMsMzMwLjIgOTM3LjM0LDMyNy45Mkw5MzcuMzQsMzEyLjc3TDkzNy4zNSwzMTIuNzdaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTEwMDQuMjEsMjM3LjMzTDEwNDIuOCwyMzcuMzNMMTA0Mi44LDI1Ny45TDEwNDMuNjUsMjU3LjlDMTA0OC43OSwyNDkuMzMgMTA1NS40NiwyNDMuMDkgMTA2My42NSwyMzkuMTlDMTA3MS44NCwyMzUuMjggMTA4MC4yMywyMzMuMzMgMTA4OC43OSwyMzMuMzNDMTA5OS42NiwyMzMuMzMgMTEwOC41NiwyMzQuODEgMTExNS41MiwyMzcuNzZDMTEyMi40NywyNDAuNzIgMTEyNy45NCwyNDQuODEgMTEzMS45NSwyNTAuMDVDMTEzNS45NSwyNTUuMjkgMTEzOC43NiwyNjEuNjcgMTE0MC4zOCwyNjkuMTlDMTE0MiwyNzYuNzIgMTE0Mi44MSwyODUuMDUgMTE0Mi44MSwyOTQuMkwxMTQyLjgxLDM4NS4wN0wxMTAyLjI0LDM4NS4wN0wxMTAyLjI0LDMwMS42M0MxMTAyLjI0LDI4OS40MyAxMTAwLjMzLDI4MC4zNCAxMDk2LjUzLDI3NC4zNEMxMDkyLjcxLDI2OC4zNCAxMDg1Ljk1LDI2NS4zNCAxMDc2LjIzLDI2NS4zNEMxMDY1LjE4LDI2NS4zNCAxMDU3LjE5LDI2OC42MyAxMDUyLjIzLDI3NS4yQzEwNDcuMjcsMjgxLjc2IDEwNDQuOCwyOTIuNTggMTA0NC44LDMwNy42M0wxMDQ0LjgsMzg1LjA3TDEwMDQuMjIsMzg1LjA3TDEwMDQuMjIsMjM3LjMzTDEwMDQuMjEsMjM3LjMzWiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik02MTIuMzcsMjExLjg0TDYxMi4zNywzODUuMDdMNjUyLjk1LDM4NS4wN0w2NTIuOTUsMjM0LjIxQzYzOS45MywyMjYuMjMgNjI2LjM2LDIxOC43NCA2MTIuMzcsMjExLjg0WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOTguNDMsMjE5LjIxQzIyMS45NSwxNTAuMzIgMzYyLjU4LDEyNS4wNSA1MTIuNTgsMTYyLjc4QzYwMi41NSwxODUuNCA2NzYuMDcsMjI5LjI4IDcyNC4wOSwyNzIuNjdDNzAyLjMsMjE1LjEyIDU5Ni42NSwxMzMuMDggNDUxLjE4LDEwNC45NkMyODYuNyw3My4xNiAxMjQuNDcsMTAxLjExIDEwNC4zOSwxNzQuMUM4OS44OSwyMjYuODMgMTUzLjU3LDI4OC42IDI1Mi4wNSwzMzAuODRDMjA3LjgxLDI5NS4wMiAxODYuMjksMjU0Ljc4IDE5OC40MywyMTkuMjFaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTcyNC4xNiwyNDcuNjJMNzI0LjE2LDE4MS4wM0w2ODMuNTcsMTgxLjAzTDY4My41NywyMDEuMjVDNzAwLjg4LDIxNi43MSA3MTQuNjEsMjMyLjQ1IDcyNC4xNiwyNDcuNjJaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS4wNDY5NiwwLDAsMS4xMjU3NywtNDYuOTkxMywtNTAuNDMyNSkiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTIxNC45OCwzNjMuNDNDMTIxNC45OCwzNzUuNjkgMTIwNS4zNSwzODUuMzIgMTE5Mi44MywzODUuMzJDMTE4MC40MywzODUuMzIgMTE3MC41NCwzNzUuNjkgMTE3MC41NCwzNjMuNDNDMTE3MC41NCwzNTEuNDMgMTE4MC40MywzNDEuOCAxMTkyLjgzLDM0MS44QzEyMDUuMzUsMzQxLjggMTIxNC45OCwzNTEuNDMgMTIxNC45OCwzNjMuNDNaTTExNzYuMDgsMzYzLjQzQzExNzYuMDgsMzczLjA2IDExODMuMiwzODAuNyAxMTkyLjk2LDM4MC43QzEyMDIuNDUsMzgwLjcgMTIwOS40NCwzNzMuMDUgMTIwOS40NCwzNjMuNTZDMTIwOS40NCwzNTMuOTMgMTIwMi40NSwzNDYuMTUgMTE5Mi44MiwzNDYuMTVDMTE4My4yLDM0Ni4xNiAxMTc2LjA4LDM1My45NCAxMTc2LjA4LDM2My40M1pNMTE4OS4zOSwzNzQuNzdMMTE4NC4zOCwzNzQuNzdMMTE4NC4zOCwzNTMuMTRDMTE4Ni4zNiwzNTIuNzQgMTE4OS4xMywzNTIuNDggMTE5Mi42OSwzNTIuNDhDMTE5Ni43OCwzNTIuNDggMTE5OC42MiwzNTMuMTQgMTIwMC4yMSwzNTQuMDZDMTIwMS40LDM1NC45OCAxMjAyLjMyLDM1Ni43IDEyMDIuMzIsMzU4LjgxQzEyMDIuMzIsMzYxLjE4IDEyMDAuNDcsMzYzLjAzIDExOTcuODQsMzYzLjgyTDExOTcuODQsMzY0LjA4QzExOTkuOTUsMzY0Ljg3IDEyMDEuMTQsMzY2LjQ1IDEyMDEuOCwzNjkuMzVDMTIwMi40NiwzNzIuNjUgMTIwMi44NSwzNzMuOTcgMTIwMy4zOCwzNzQuNzZMMTE5Ny45NywzNzQuNzZDMTE5Ny4zMSwzNzMuOTcgMTE5Ni45MiwzNzEuOTkgMTE5Ni4yNiwzNjkuNDlDMTE5NS44NiwzNjcuMTIgMTE5NC41NSwzNjYuMDYgMTE5MS43OCwzNjYuMDZMMTE4OS40MSwzNjYuMDZMMTE4OS40MSwzNzQuNzdMMTE4OS4zOSwzNzQuNzdaTTExODkuNTMsMzYyLjUxTDExOTEuOSwzNjIuNTFDMTE5NC42NywzNjIuNTEgMTE5Ni45MSwzNjEuNTkgMTE5Ni45MSwzNTkuMzRDMTE5Ni45MSwzNTcuMzYgMTE5NS40NiwzNTYuMDQgMTE5Mi4yOSwzNTYuMDRDMTE5MC45NywzNTYuMDQgMTE5MC4wNSwzNTYuMTcgMTE4OS41MiwzNTYuM0wxMTg5LjUyLDM2Mi41MUwxMTg5LjUzLDM2Mi41MVoiIHN0eWxlPSJmaWxsOnJnYigxNzIsMjIsNDQpO2ZpbGwtcnVsZTpub256ZXJvOyIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg==" alt="Vulkan Logo" width="50%">
    </span>
</div>
<div id="header">
<h1>Vulkan<sup>®</sup> 1.0.296 - A Specification (with all ratified extensions)</h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan  Working Group</span><br>
<span id="revnumber">version 1.0.296,</span>
<span id="revdate">2024-09-26 07:29:15Z</span>
<br><span id="revremark">from git branch: github-main commit: 486e4b289053a7d64784e7ce791711843c60c235</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Titlepage</a></li><li><a href="chap1.html">1. Preamble</a></li>
<li><a href="chap2.html">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap2.html#introduction-conventions">2.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap3.html#fundamentals-host-environment">3.1. Host and Device Environment</a></li>
<li><a href="chap3.html#fundamentals-execmodel">3.2. Execution Model</a></li>
<li><a href="chap3.html#fundamentals-objectmodel-overview">3.3. Object Model</a></li>
<li><a href="chap3.html#fundamentals-abi">3.4. Application Binary Interface</a></li>
<li><a href="chap3.html#fundamentals-commandsyntax">3.5. Command Syntax and Duration</a></li>
<li><a href="chap3.html#fundamentals-threadingbehavior">3.6. Threading Behavior</a></li>
<li><a href="chap3.html#fundamentals-validusage">3.7. Valid Usage</a></li>
<li><a href="chap3.html#fundamentals-returncodes">3.8. <code>VkResult</code> Return Codes</a></li>
<li><a href="chap3.html#fundamentals-numerics">3.9. Numeric Representation and Computation</a></li>
<li><a href="chap3.html#fundamentals-fixedconv">3.10. Fixed-Point Data Conversions</a></li>
<li><a href="chap3.html#fundamentals-strings">3.11. String Representation</a></li>
<li><a href="chap3.html#fundamentals-common-objects">3.12. Common Object Types</a></li>
<li><a href="chap3.html#fundamentals-api-name-aliases">3.13. API Name Aliases</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap4.html#initialization-functionpointers">4.1. Command Function Pointers</a></li>
<li><a href="chap4.html#initialization-instances">4.2. Instances</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap5.html#devsandqueues-physical-device-enumeration">5.1. Physical Devices</a></li>
<li><a href="chap5.html#devsandqueues-devices">5.2. Devices</a></li>
<li><a href="chap5.html#devsandqueues-queues">5.3. Queues</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap6.html#commandbuffers-lifecycle">6.1. Command Buffer Lifecycle</a></li>
<li><a href="chap6.html#commandbuffers-pools">6.2. Command Pools</a></li>
<li><a href="chap6.html#commandbuffer-allocation">6.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap6.html#commandbuffers-recording">6.4. Command Buffer Recording</a></li>
<li><a href="chap6.html#commandbuffers-submission">6.5. Command Buffer Submission</a></li>
<li><a href="chap6.html#commandbuffers-submission-progress">6.6. Queue Forward Progress</a></li>
<li><a href="chap6.html#commandbuffers-secondary">6.7. Secondary Command Buffer Execution</a></li>
<li><a href="chap6.html#commandbuffers-nested">6.8. Nested Command Buffers</a></li>
<li><a href="chap6.html#commandbuffers-devicemask">6.9. Command Buffer Device Mask</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap7.html#synchronization-dependencies">7.1. Execution and Memory Dependencies</a></li>
<li><a href="chap7.html#synchronization-implicit">7.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap7.html#synchronization-fences">7.3. Fences</a></li>
<li><a href="chap7.html#synchronization-semaphores">7.4. Semaphores</a></li>
<li><a href="chap7.html#synchronization-events">7.5. Events</a></li>
<li><a href="chap7.html#synchronization-pipeline-barriers">7.6. Pipeline Barriers</a></li>
<li><a href="chap7.html#synchronization-memory-barriers">7.7. Memory Barriers</a></li>
<li><a href="chap7.html#synchronization-wait-idle">7.8. Wait Idle Operations</a></li>
<li><a href="chap7.html#synchronization-submission-host-writes">7.9. Host Write Ordering Guarantees</a></li>
<li><a href="chap7.html#synchronization-device-group">7.10. Synchronization and Multiple Physical Devices</a></li>
<li><a href="chap7.html#calibrated-timestamps">7.11. Calibrated Timestamps</a></li>
</ul>
</li>
<li><a href="chap8.html">8. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap8.html#renderpass-objects">8.1. Render Pass Objects</a></li>
<li><a href="chap8.html#renderpass-creation">8.2. Render Pass Creation</a></li>
<li><a href="chap8.html#renderpass-compatibility">8.3. Render Pass Compatibility</a></li>
<li><a href="chap8.html#_framebuffers">8.4. Framebuffers</a></li>
<li><a href="chap8.html#renderpass-load-operations">8.5. Render Pass Load Operations</a></li>
<li><a href="chap8.html#renderpass-store-operations">8.6. Render Pass Store Operations</a></li>
<li><a href="chap8.html#renderpass-resolve-operations">8.7. Render Pass Multisample Resolve Operations</a></li>
<li><a href="chap8.html#renderpass-commands">8.8. Render Pass Commands</a></li>
<li><a href="chap8.html#_common_render_pass_data_races_informative">8.9. Common Render Pass Data Races (Informative)</a></li>
</ul>
</li>
<li><a href="chap9.html">9. Shaders</a>
<ul class="sectlevel2">
<li><a href="chap9.html#shaders-objects">9.1. Shader Objects</a></li>
<li><a href="chap9.html#shader-modules">9.2. Shader Modules</a></li>
<li><a href="chap9.html#shaders-binding">9.3. Binding Shaders</a></li>
<li><a href="chap9.html#shaders-execution">9.4. Shader Execution</a></li>
<li><a href="chap9.html#shaders-execution-memory-ordering">9.5. Shader Memory Access Ordering</a></li>
<li><a href="chap9.html#shaders-inputs">9.6. Shader Inputs and Outputs</a></li>
<li><a href="chap9.html#shaders-vertex">9.7. Vertex Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-control">9.8. Tessellation Control Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-evaluation">9.9. Tessellation Evaluation Shaders</a></li>
<li><a href="chap9.html#shaders-geometry">9.10. Geometry Shaders</a></li>
<li><a href="chap9.html#shaders-fragment">9.11. Fragment Shaders</a></li>
<li><a href="chap9.html#shaders-compute">9.12. Compute Shaders</a></li>
<li><a href="chap9.html#shaders-ray-generation">9.13. Ray Generation Shaders</a></li>
<li><a href="chap9.html#shaders-intersection">9.14. Intersection Shaders</a></li>
<li><a href="chap9.html#shaders-any-hit">9.15. Any-Hit Shaders</a></li>
<li><a href="chap9.html#shaders-closest-hit">9.16. Closest Hit Shaders</a></li>
<li><a href="chap9.html#shaders-miss">9.17. Miss Shaders</a></li>
<li><a href="chap9.html#shaders-callable">9.18. Callable Shaders</a></li>
<li><a href="chap9.html#shaders-interpolation-decorations">9.19. Interpolation Decorations</a></li>
<li><a href="chap9.html#shaders-staticuse">9.20. Static Use</a></li>
<li><a href="chap9.html#shaders-scope">9.21. Scope</a></li>
<li><a href="chap9.html#shaders-derivative-operations">9.22. Derivative Operations</a></li>
<li><a href="chap9.html#shaders-helper-invocations">9.23. Helper Invocations</a></li>
<li><a href="chap9.html#_cooperative_matrices">9.24. Cooperative Matrices</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap10.html#pipelines-multiple">10.1. Multiple Pipeline Creation</a></li>
<li><a href="chap10.html#pipelines-compute">10.2. Compute Pipelines</a></li>
<li><a href="chap10.html#pipelines-graphics">10.3. Graphics Pipelines</a></li>
<li><a href="chap10.html#pipelines-ray-tracing">10.4. Ray Tracing Pipelines</a></li>
<li><a href="chap10.html#pipelines-destruction">10.5. Pipeline Destruction</a></li>
<li><a href="chap10.html#pipelines-pipeline-derivatives">10.6. Pipeline Derivatives</a></li>
<li><a href="chap10.html#pipelines-cache">10.7. Pipeline Cache</a></li>
<li><a href="chap10.html#pipelines-binaries">10.8. Pipeline Binaries</a></li>
<li><a href="chap10.html#pipelines-specialization-constants">10.9. Specialization Constants</a></li>
<li><a href="chap10.html#pipelines-library">10.10. Pipeline Libraries</a></li>
<li><a href="chap10.html#pipelines-binding">10.11. Pipeline Binding</a></li>
<li><a href="chap10.html#pipelines-dynamic-state">10.12. Dynamic State</a></li>
<li><a href="chap10.html#pipelines-shader-information">10.13. Pipeline Properties and Shader Information</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#memory-host">11.1. Host Memory</a></li>
<li><a href="chap11.html#memory-device">11.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap12.html#resources-buffers">12.1. Buffers</a></li>
<li><a href="chap12.html#resources-buffer-views">12.2. Buffer Views</a></li>
<li><a href="chap12.html#resources-images">12.3. Images</a></li>
<li><a href="chap12.html#resources-image-layouts">12.4. Image Layouts</a></li>
<li><a href="chap12.html#resources-image-views">12.5. Image Views</a></li>
<li><a href="chap12.html#resources-acceleration-structures">12.6. Acceleration Structures</a></li>
<li><a href="chap12.html#resources-micromaps">12.7. Micromaps</a></li>
<li><a href="chap12.html#resources-association">12.8. Resource Memory Association</a></li>
<li><a href="chap12.html#resources-sharing">12.9. Resource Sharing Mode</a></li>
<li><a href="chap12.html#resources-memory-aliasing">12.10. Memory Aliasing</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Samplers</a>
<ul class="sectlevel2">
<li><a href="chap13.html#samplers-YCbCr-conversion">13.1. Sampler Y′C<sub>B</sub>C<sub>R</sub> Conversion</a></li>
</ul>
</li>
<li><a href="chap14.html">14. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap14.html#descriptorsets-types">14.1. Descriptor Types</a></li>
<li><a href="chap14.html#descriptorsets-sets">14.2. Descriptor Sets</a></li>
<li><a href="chap14.html#descriptorsets-physical-storage-buffer">14.3. Physical Storage Buffer Access</a></li>
</ul>
</li>
<li><a href="chap15.html">15. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap15.html#interfaces-iointerfaces">15.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap15.html#interfaces-vertexinput">15.2. Vertex Input Interface</a></li>
<li><a href="chap15.html#interfaces-fragmentoutput">15.3. Fragment Output Interface</a></li>
<li><a href="chap15.html#interfaces-fragmenttileimage">15.4. Fragment Tile Image Interface</a></li>
<li><a href="chap15.html#interfaces-inputattachment">15.5. Fragment Input Attachment Interface</a></li>
<li><a href="chap15.html#interfaces-raypipeline">15.6. Ray Tracing Pipeline Interface</a></li>
<li><a href="chap15.html#interfaces-resources">15.7. Shader Resource Interface</a></li>
<li><a href="chap15.html#interfaces-builtin-variables">15.8. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_image_operations_overview">16.1. Image Operations Overview</a></li>
<li><a href="chap16.html#_conversion_formulas">16.2. Conversion Formulas</a></li>
<li><a href="chap16.html#textures-input">16.3. Texel Input Operations</a></li>
<li><a href="chap16.html#_texel_output_operations">16.4. Texel Output Operations</a></li>
<li><a href="chap16.html#textures-normalized-operations">16.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#_unnormalized_texel_coordinate_operations">16.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-integer-coordinate-operations">16.7. Integer Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-sample-operations">16.8. Image Sample Operations</a></li>
<li><a href="chap16.html#textures-instructions">16.9. Image Operation Steps</a></li>
<li><a href="chap16.html#textures-queries">16.10. Image Query Instructions</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Queries</a>
<ul class="sectlevel2">
<li><a href="chap17.html#queries-pools">17.1. Query Pools</a></li>
<li><a href="chap17.html#queries-operation">17.2. Query Operation</a></li>
<li><a href="chap17.html#queries-occlusion">17.3. Occlusion Queries</a></li>
<li><a href="chap17.html#queries-pipestats">17.4. Pipeline Statistics Queries</a></li>
<li><a href="chap17.html#queries-timestamps">17.5. Timestamp Queries</a></li>
<li><a href="chap17.html#queries-performance">17.6. Performance Queries</a></li>
<li><a href="chap17.html#queries-transform-feedback">17.7. Transform Feedback Queries</a></li>
<li><a href="chap17.html#queries-result-status-only">17.8. Result Status Queries</a></li>
<li><a href="chap17.html#queries-video-encode-feedback">17.9. Video Encode Feedback Queries</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap18.html#clears-outside">18.1. Clearing Images Outside a Render Pass Instance</a></li>
<li><a href="chap18.html#clears-inside">18.2. Clearing Images Inside a Render Pass Instance</a></li>
<li><a href="chap18.html#clears-values">18.3. Clear Values</a></li>
<li><a href="chap18.html#clears-filling-buffers">18.4. Filling Buffers</a></li>
<li><a href="chap18.html#clears-updating-buffers">18.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#copies-buffers">19.1. Copying Data Between Buffers</a></li>
<li><a href="chap19.html#copies-images">19.2. Copying Data Between Images</a></li>
<li><a href="chap19.html#copies-buffers-images">19.3. Copying Data Between Buffers and Images</a></li>
<li><a href="chap19.html#copies-imagescaling">19.4. Image Copies With Scaling</a></li>
<li><a href="chap19.html#copies-resolve">19.5. Resolving Multisample Images</a></li>
</ul>
</li>
<li><a href="chap20.html">20. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap20.html#drawing-primitive-topologies">20.1. Primitive Topologies</a></li>
<li><a href="chap20.html#drawing-primitive-order">20.2. Primitive Order</a></li>
<li><a href="chap20.html#drawing-primitive-shading">20.3. Programmable Primitive Shading</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap21.html#fxvertex-attrib">21.1. Vertex Attributes</a></li>
<li><a href="chap21.html#fxvertex-input">21.2. Vertex Input Description</a></li>
<li><a href="chap21.html#fxvertex-attribute_divisor">21.3. Vertex Attribute Divisor in Instanced Rendering</a></li>
<li><a href="chap21.html#fxvertex-input-address-calculation">21.4. Vertex Input Address Calculation</a></li>
</ul>
</li>
<li><a href="chap22.html">22. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap22.html#_tessellator">22.1. Tessellator</a></li>
<li><a href="chap22.html#_tessellator_patch_discard">22.2. Tessellator Patch Discard</a></li>
<li><a href="chap22.html#tessellation-tessellator-spacing">22.3. Tessellator Spacing</a></li>
<li><a href="chap22.html#tessellation-primitive-order">22.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap22.html#tessellation-vertex-winding-order">22.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap22.html#tessellation-triangle-tessellation">22.6. Triangle Tessellation</a></li>
<li><a href="chap22.html#tessellation-quad-tessellation">22.7. Quad Tessellation</a></li>
<li><a href="chap22.html#tessellation-isoline-tessellation">22.8. Isoline Tessellation</a></li>
<li><a href="chap22.html#tessellation-point-mode">22.9. Tessellation Point Mode</a></li>
<li><a href="chap22.html#_tessellation_pipeline_state">22.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap23.html">23. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap23.html#geometry-input">23.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap23.html#geometry-output">23.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap23.html#geometry-invocations">23.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap23.html#geometry-ordering">23.4. Geometry Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap24.html">24. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap24.html#vertexpostproc-transform-feedback">24.1. Transform Feedback</a></li>
<li><a href="chap24.html#vertexpostproc-flatshading">24.2. Flat Shading</a></li>
<li><a href="chap24.html#vertexpostproc-clipping">24.3. Primitive Clipping</a></li>
<li><a href="chap24.html#vertexpostproc-clipping-shader-outputs">24.4. Clipping Shader Outputs</a></li>
<li><a href="chap24.html#vertexpostproc-coord-transform">24.5. Coordinate Transformations</a></li>
<li><a href="chap24.html#vertexpostproc-viewport">24.6. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap25.html">25. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap25.html#primsrast-discard">25.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap25.html#primsrast-stream">25.2. Controlling the Vertex Stream Used for Rasterization</a></li>
<li><a href="chap25.html#primsrast-order">25.3. Rasterization Order</a></li>
<li><a href="chap25.html#primsrast-multisampling">25.4. Multisampling</a></li>
<li><a href="chap25.html#primsrast-samplelocations">25.5. Custom Sample Locations</a></li>
<li><a href="chap25.html#primsrast-fragment-shading-rate">25.6. Fragment Shading Rates</a></li>
<li><a href="chap25.html#primsrast-sampleshading">25.7. Sample Shading</a></li>
<li><a href="chap25.html#primsrast-barycentric">25.8. Barycentric Interpolation</a></li>
<li><a href="chap25.html#primsrast-points">25.9. Points</a></li>
<li><a href="chap25.html#primsrast-lines">25.10. Line Segments</a></li>
<li><a href="chap25.html#primsrast-polygons">25.11. Polygons</a></li>
</ul>
</li>
<li><a href="chap26.html">26. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap26.html#fragops-discard-rectangles">26.1. Discard Rectangles Test</a></li>
<li><a href="chap26.html#fragops-scissor">26.2. Scissor Test</a></li>
<li><a href="chap26.html#fragops-samplemask">26.3. Sample Mask Test</a></li>
<li><a href="chap26.html#fragops-shader">26.4. Fragment Shading</a></li>
<li><a href="chap26.html#fragops-covg">26.5. Multisample Coverage</a></li>
<li><a href="chap26.html#fragops-ds-state">26.6. Depth and Stencil Operations</a></li>
<li><a href="chap26.html#fragops-dbt">26.7. Depth Bounds Test</a></li>
<li><a href="chap26.html#fragops-stencil">26.8. Stencil Test</a></li>
<li><a href="chap26.html#fragops-depth">26.9. Depth Test</a></li>
<li><a href="chap26.html#fragops-samplecount">26.10. Sample Counting</a></li>
<li><a href="chap26.html#fragops-coverage-reduction">26.11. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap27.html">27. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap27.html#framebuffer-blending">27.1. Blending</a></li>
<li><a href="chap27.html#framebuffer-logicop">27.2. Logical Operations</a></li>
<li><a href="chap27.html#framebuffer-color-write-mask">27.3. Color Write Mask</a></li>
<li><a href="chap27.html#framebuffer-color-write-enable">27.4. Color Write Enable</a></li>
</ul>
</li>
<li><a href="chap28.html">28. Dispatching Commands</a></li>
<li class="current"><a href="chap29.html">29. Device-Generated Commands</a>
<ul class="sectlevel2">
<li class="current"><a href="chap29.html#indirectmdslayout">29.1. Indirect Commands Layout</a></li>
<li class="current"><a href="chap29.html#_indirect_commands_generation_and_execution">29.2. Indirect Commands Generation and Execution</a></li>
</ul>
</li>
<li><a href="chap30.html">30. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap30.html#sparsememory-sparseresourcefeatures">30.1. Sparse Resource Features</a></li>
<li><a href="chap30.html#sparsememory-fully-resident">30.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap30.html#sparsememory-partially-resident-buffers">30.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap30.html#sparsememory-partially-resident-images">30.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap30.html#sparsememory-sparse-memory-aliasing">30.5. Sparse Memory Aliasing</a></li>
<li><a href="chap30.html#_sparse_resource_implementation_guidelines_informative">30.6. Sparse Resource Implementation Guidelines (Informative)</a></li>
<li><a href="chap30.html#sparsememory-resourceapi">30.7. Sparse Resource API</a></li>
</ul>
</li>
<li><a href="chap31.html">31. Window System Integration (WSI)</a>
<ul class="sectlevel2">
<li><a href="chap31.html#_wsi_platform">31.1. WSI Platform</a></li>
<li><a href="chap31.html#_wsi_surface">31.2. WSI Surface</a></li>
<li><a href="chap31.html#display">31.3. Presenting Directly to Display Devices</a></li>
<li><a href="chap31.html#_querying_for_wsi_support">31.4. Querying for WSI Support</a></li>
<li><a href="chap31.html#_surface_queries">31.5. Surface Queries</a></li>
<li><a href="chap31.html#_full_screen_exclusive_control">31.6. Full Screen Exclusive Control</a></li>
<li><a href="chap31.html#_device_group_queries">31.7. Device Group Queries</a></li>
<li><a href="chap31.html#present-wait">31.8. Present Wait</a></li>
<li><a href="chap31.html#_wsi_swapchain">31.9. WSI Swapchain</a></li>
<li><a href="chap31.html#_hdr_metadata">31.10. HDR Metadata</a></li>
</ul>
</li>
<li><a href="chap32.html">32. Deferred Host Operations</a>
<ul class="sectlevel2">
<li><a href="chap32.html#deferred-host-operations-requesting">32.1. Requesting Deferral</a></li>
<li><a href="chap32.html#_deferred_host_operations_api">32.2. Deferred Host Operations API</a></li>
</ul>
</li>
<li><a href="chap33.html">33. Acceleration Structures</a>
<ul class="sectlevel2">
<li><a href="chap33.html#acceleration-structure-def">33.1. Acceleration Structures</a></li>
<li><a href="chap33.html#host-acceleration-structure">33.2. Host Acceleration Structure Operations</a></li>
</ul>
</li>
<li><a href="chap34.html">34. Micromap</a>
<ul class="sectlevel2">
<li><a href="chap34.html#micromap-def">34.1. Micromaps</a></li>
<li><a href="chap34.html#host-micromap">34.2. Host Micromap Operations</a></li>
</ul>
</li>
<li><a href="chap35.html">35. Ray Traversal</a>
<ul class="sectlevel2">
<li><a href="chap35.html#ray-intersection-candidate-determination">35.1. Ray Intersection Candidate Determination</a></li>
<li><a href="chap35.html#ray-intersection-culling">35.2. Ray Intersection Culling</a></li>
<li><a href="chap35.html#ray-intersection-confirmation">35.3. Ray Intersection Confirmation</a></li>
<li><a href="chap35.html#ray-closest-hit-determination">35.4. Ray Closest Hit Determination</a></li>
<li><a href="chap35.html#ray-result-determination">35.5. Ray Result Determination</a></li>
</ul>
</li>
<li><a href="chap36.html">36. Ray Tracing</a>
<ul class="sectlevel2">
<li><a href="chap36.html#ray-tracing-shader-call">36.1. Shader Call Instructions</a></li>
<li><a href="chap36.html#ray-tracing-commands">36.2. Ray Tracing Commands</a></li>
<li><a href="chap36.html#shader-binding-table">36.3. Shader Binding Table</a></li>
<li><a href="chap36.html#ray-tracing-pipeline-stack">36.4. Ray Tracing Pipeline Stack</a></li>
<li><a href="chap36.html#ray-tracing-capture-replay">36.5. Ray Tracing Capture Replay</a></li>
</ul>
</li>
<li><a href="chap37.html">37. Video Coding</a>
<ul class="sectlevel2">
<li><a href="chap37.html#video-picture-resources">37.1. Video Picture Resources</a></li>
<li><a href="chap37.html#dpb">37.2. Decoded Picture Buffer</a></li>
<li><a href="chap37.html#video-profiles">37.3. Video Profiles</a></li>
<li><a href="chap37.html#video-capabilities">37.4. Video Capabilities</a></li>
<li><a href="chap37.html#video-session">37.5. Video Sessions</a></li>
<li><a href="chap37.html#video-profile-compatibility">37.6. Video Profile Compatibility</a></li>
<li><a href="chap37.html#video-session-parameters">37.7. Video Session Parameters</a></li>
<li><a href="chap37.html#video-coding-scope">37.8. Video Coding Scope</a></li>
<li><a href="chap37.html#video-coding-control">37.9. Video Coding Control</a></li>
<li><a href="chap37.html#video-inline-queries">37.10. Inline Queries</a></li>
<li><a href="chap37.html#video-decode-operations">37.11. Video Decode Operations</a></li>
<li><a href="chap37.html#decode-h264">37.12. H.264 Decode Operations</a></li>
<li><a href="chap37.html#decode-h265">37.13. H.265 Decode Operations</a></li>
<li><a href="chap37.html#decode-av1">37.14. AV1 Decode Operations</a></li>
<li><a href="chap37.html#video-encode-operations">37.15. Video Encode Operations</a></li>
<li><a href="chap37.html#encode-rate-control">37.16. Video Encode Rate Control</a></li>
<li><a href="chap37.html#encode-h264">37.17. H.264 Encode Operations</a></li>
<li><a href="chap37.html#encode-h265">37.18. H.265 Encode Operations</a></li>
</ul>
</li>
<li><a href="chap38.html">38. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap38.html#extendingvulkan-instanceanddevicefunctionality">38.1. Instance and Device Functionality</a></li>
<li><a href="chap38.html#extendingvulkan-coreversions">38.2. Core Versions</a></li>
<li><a href="chap38.html#extendingvulkan-layers">38.3. Layers</a></li>
<li><a href="chap38.html#extendingvulkan-extensions">38.4. Extensions</a></li>
<li><a href="chap38.html#extendingvulkan-extensions-extensiondependencies">38.5. Extension Dependencies</a></li>
<li><a href="chap38.html#_compatibility_guarantees_informative">38.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap39.html">39. Features</a>
<ul class="sectlevel2">
<li><a href="chap39.html#features-requirements">39.1. Feature Requirements</a></li>
</ul>
</li>
<li><a href="chap40.html">40. Limits</a>
<ul class="sectlevel2">
<li><a href="chap40.html#limits-minmax">40.1. Limit Requirements</a></li>
<li><a href="chap40.html#limits-multisample">40.2. Additional Multisampling Capabilities</a></li>
</ul>
</li>
<li><a href="chap41.html">41. Formats</a>
<ul class="sectlevel2">
<li><a href="chap41.html#formats-definition">41.1. Format Definition</a></li>
<li><a href="chap41.html#formats-properties">41.2. Format Properties</a></li>
<li><a href="chap41.html#features-required-format-support">41.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="chap42.html">42. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="chap42.html#capabilities-image">42.1. Additional Image Capabilities</a></li>
<li><a href="chap42.html#capabilities-buffer">42.2. Additional Buffer Capabilities</a></li>
<li><a href="chap42.html#capabilities-semaphore">42.3. Optional Semaphore Capabilities</a></li>
<li><a href="chap42.html#capabilities-fence">42.4. Optional Fence Capabilities</a></li>
<li><a href="chap42.html#features-timestamp-calibration">42.5. Timestamp Calibration Capabilities</a></li>
</ul>
</li>
<li><a href="chap43.html">43. Debugging</a>
<ul class="sectlevel2">
<li><a href="chap43.html#_frame_boundary">43.1. Frame Boundary</a></li>
</ul>
</li>
<li><a href="chap44.html">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap44.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap44.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap44.html#spirvenv-module-validation">Validation Rules Within a Module</a></li>
<li><a href="chap44.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap44.html#spirvenv-image-signedness">Signedness of SPIR-V Image Accesses</a></li>
<li><a href="chap44.html#spirvenv-format-type-matching">Image Format and Type Matching</a></li>
<li><a href="chap44.html#spirvenv-image-dimensions">Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types</a></li>
<li><a href="chap44.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats and Vulkan Formats</a></li>
<li><a href="chap44.html#spirenv-ray-query-precision-operation">Ray Query Precision and Operation</a></li>
</ul>
</li>
<li><a href="chap45.html">Appendix B: Memory Model</a>
<ul class="sectlevel2">
<li><a href="chap45.html#memory-model-agent">Agent</a></li>
<li><a href="chap45.html#memory-model-memory-location">Memory Location</a></li>
<li><a href="chap45.html#memory-model-allocation">Allocation</a></li>
<li><a href="chap45.html#memory-model-memory-operation">Memory Operation</a></li>
<li><a href="chap45.html#memory-model-references">Reference</a></li>
<li><a href="chap45.html#memory-model-program-order">Program-Order</a></li>
<li><a href="chap45.html#shader-call-related">Shader Call Related</a></li>
<li><a href="chap45.html#shader-call-order">Shader Call Order</a></li>
<li><a href="chap45.html#memory-model-scope">Scope</a></li>
<li><a href="chap45.html#memory-model-atomic-operation">Atomic Operation</a></li>
<li><a href="chap45.html#memory-model-scoped-modification-order">Scoped Modification Order</a></li>
<li><a href="chap45.html#memory-model-memory-semantics">Memory Semantics</a></li>
<li><a href="chap45.html#memory-model-release-sequence">Release Sequence</a></li>
<li><a href="chap45.html#memory-model-synchronizes-with">Synchronizes-With</a></li>
<li><a href="chap45.html#memory-model-system-synchronizes-with">System-Synchronizes-With</a></li>
<li><a href="chap45.html#memory-model-non-private">Private vs. Non-Private</a></li>
<li><a href="chap45.html#memory-model-inter-thread-happens-before">Inter-Thread-Happens-Before</a></li>
<li><a href="chap45.html#memory-model-happens-before">Happens-Before</a></li>
<li><a href="chap45.html#memory-model-availability-visibility">Availability and Visibility</a></li>
<li><a href="chap45.html#memory-model-vulkan-availability-visibility">Availability, Visibility, and Domain Operations</a></li>
<li><a href="chap45.html#memory-model-availability-visibility-semantics">Availability and Visibility Semantics</a></li>
<li><a href="chap45.html#memory-model-instruction-av-vis">Per-Instruction Availability and Visibility Semantics</a></li>
<li><a href="chap45.html#memory-model-location-ordered">Location-Ordered</a></li>
<li><a href="chap45.html#memory-model-access-data-race">Data Race</a></li>
<li><a href="chap45.html#memory-model-visible-to">Visible-To</a></li>
<li><a href="chap45.html#memory-model-acyclicity">Acyclicity</a></li>
<li><a href="chap45.html#memory-model-shader-io">Shader I/O</a></li>
<li><a href="chap45.html#memory-model-deallocation">Deallocation</a></li>
<li><a href="chap45.html#memory-model-informative-descriptions">Descriptions (Informative)</a></li>
<li><a href="chap45.html#memory-model-tessellation-output-ordering">Tessellation Output Ordering</a></li>
</ul>
</li>
<li><a href="chap46.html">Appendix C: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap46.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap46.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap46.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap47.html">Appendix D: Core Revisions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap47.html#versions-1.0">Vulkan Version 1.0</a></li>
</ul>
</li>
<li><a href="chap48.html">Appendix E: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap48.html#_extension_dependencies">Extension Dependencies</a></li>
<li><a href="chap48.html#_extension_interactions">Extension Interactions</a></li>
<li><a href="chap48.html#current-extension-appendices-list">List of Current Extensions</a></li>
<li><a href="chap48.html#provisional-extension-appendices-list">List of Provisional Extensions</a></li>
<li><a href="chap48.html#deprecated-extension-appendices-list">List of Deprecated Extensions</a></li>
</ul>
</li>
<li><a href="chap49.html">Appendix F: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap49.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap49.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="chap49.html#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
<li><a href="chap49.html#boilerplate-video-std-headers">Video Std Headers</a></li>
</ul>
</li>
<li><a href="chap50.html">Appendix G: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap50.html#_repeatability">Repeatability</a></li>
<li><a href="chap50.html#_multi_pass_algorithms">Multi-Pass Algorithms</a></li>
<li><a href="chap50.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap50.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap51.html">Appendix H: Lexicon</a>
<ul class="sectlevel2">
<li><a href="chap51.html#glossary">Glossary</a></li>
<li><a href="chap51.html#lexicon-common-abbreviations">Common Abbreviations</a></li>
<li><a href="chap51.html#lexicon-video-abbreviations">Video-Specific Abbreviations</a></li>
<li><a href="chap51.html#lexicon-prefixes">Prefixes</a></li>
</ul>
</li>
<li><a href="chap52.html">Appendix I: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap52.html#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="chap52.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="loading_msg" class="hidden" hidden=""><p>Loading… please wait.</p></div>
<!--ChunkedSearchboxMarker-->
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
<div id="content" class="loadable"><div class="sect1">
<h2 id="device-generated-commands"><a class="anchor" href="chap29.html"></a>29. Device-Generated Commands</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter discusses the generation of command buffer content on the
device, for which these principle steps are to be taken:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Define a layout describing the sequence of commands which should be
generated.</p>
</li>
<li>
<p>Optionally set up device-bindable shaders.</p>
</li>
<li>
<p>Retrieve device addresses by <code>vkGetBufferDeviceAddressEXT</code> for
setting buffers on the device.</p>
</li>
<li>
<p>Fill one or more <code>VkBuffer</code> with the appropriate content that gets
interpreted by the command layout.</p>
</li>
<li>
<p>Create a <code>preprocess</code> <code>VkBuffer</code> using the device-queried allocation
information.</p>
</li>
<li>
<p>Optionally preprocess the input data in a separate action.</p>
</li>
<li>
<p>Generate and execute the actual commands.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The preprocessing step executes in a separate logical pipeline from either
graphics or compute.
When preprocessing commands in a separate step they <strong class="purple">must</strong> be explicitly
synchronized against the command execution.
When not preprocessing in a separate step, the preprocessing is
automatically synchronized against the command execution.</p>
</div>
<div class="sect2">
<h3 id="indirectmdslayout"><a class="anchor" href="chap29.html#indirectmdslayout"></a>29.1. Indirect Commands Layout</h3>
<div class="paragraph">
<p>The device-side command generation happens through an iterative processing
of an atomic sequence comprised of command tokens, which are represented by:</p>
</div>
<div class="openblock">
<div class="content">
<div id="VkIndirectCommandsLayoutEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkIndirectCommandsLayoutEXT</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Each indirect command layout <strong class="purple">must</strong> have exactly one action command token and
it <strong class="purple">must</strong> be the last token in the sequence.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the indirect commands layout contains only 1 token, it will be an action
command token, and the contents of the indirect buffer will be a sequence of
indirect command structures, similar to the ones used for indirect draws and
dispatches.
On some implementations, using indirect draws and dispatches for these cases
will result in increased performance compared to using device-generated
commands, due to the overhead that results from using the latter.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="_creation_and_deletion"><a class="anchor" href="chap29.html#_creation_and_deletion"></a>29.1.1. Creation and Deletion</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Indirect command layouts for <code><a href="chap48.html#VK_EXT_device_generated_commands">VK_EXT_device_generated_commands</a></code> are
created by:</p>
</div>
<div id="vkCreateIndirectCommandsLayoutEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="n">VkResult</span> <span class="nf">vkCreateIndirectCommandsLayoutEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkIndirectCommandsLayoutCreateInfoEXT</span><span class="o">*</span> <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkIndirectCommandsLayoutEXT</span><span class="o">*</span>                <span class="n">pIndirectCommandsLayout</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the indirect command
layout.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a
<a href="chap29.html#VkIndirectCommandsLayoutCreateInfoEXT">VkIndirectCommandsLayoutCreateInfoEXT</a> structure containing
parameters affecting creation of the indirect command layout.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pIndirectCommandsLayout</code> is a pointer to a
<code>VkIndirectCommandsLayoutEXT</code> handle in which the resulting indirect
command layout is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateIndirectCommandsLayoutEXT-deviceGeneratedCommands-11089" href="chap29.html#VUID-vkCreateIndirectCommandsLayoutEXT-deviceGeneratedCommands-11089"></a> <span class="vuid">VUID-vkCreateIndirectCommandsLayoutEXT-deviceGeneratedCommands-11089</span><br>

The <a href="chap39.html#features-deviceGeneratedCommandsEXT"><code>VkPhysicalDeviceDeviceGeneratedCommandsFeaturesEXT</code>::<code>deviceGeneratedCommands</code></a>
feature <strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateIndirectCommandsLayoutEXT-device-parameter" href="chap29.html#VUID-vkCreateIndirectCommandsLayoutEXT-device-parameter"></a> <span class="vuid">VUID-vkCreateIndirectCommandsLayoutEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateIndirectCommandsLayoutEXT-pCreateInfo-parameter" href="chap29.html#VUID-vkCreateIndirectCommandsLayoutEXT-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateIndirectCommandsLayoutEXT-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap29.html#VkIndirectCommandsLayoutCreateInfoEXT">VkIndirectCommandsLayoutCreateInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateIndirectCommandsLayoutEXT-pAllocator-parameter" href="chap29.html#VUID-vkCreateIndirectCommandsLayoutEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateIndirectCommandsLayoutEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateIndirectCommandsLayoutEXT-pIndirectCommandsLayout-parameter" href="chap29.html#VUID-vkCreateIndirectCommandsLayoutEXT-pIndirectCommandsLayout-parameter"></a> <span class="vuid">VUID-vkCreateIndirectCommandsLayoutEXT-pIndirectCommandsLayout-parameter</span><br>
 <code>pIndirectCommandsLayout</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap29.html#VkIndirectCommandsLayoutEXT">VkIndirectCommandsLayoutEXT</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkIndirectCommandsLayoutCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkIndirectCommandsLayoutCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkIndirectCommandsLayoutCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                            <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkIndirectCommandsLayoutUsageFlagsEXT</span>      <span class="n">flags</span><span class="p">;</span>
    <span class="n">VkShaderStageFlags</span>                         <span class="n">shaderStages</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                                   <span class="n">indirectStride</span><span class="p">;</span>
    <span class="n">VkPipelineLayout</span>                           <span class="n">pipelineLayout</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                                   <span class="n">tokenCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkIndirectCommandsLayoutTokenEXT</span><span class="o">*</span>    <span class="n">pTokens</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkIndirectCommandsLayoutCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of
<a href="chap29.html#VkIndirectCommandsLayoutUsageFlagBitsEXT">VkIndirectCommandsLayoutUsageFlagBitsEXT</a> specifying usage rules
for this layout.</p>
</li>
<li>
<p><code>shaderStages</code> is the <a href="chap10.html#VkShaderStageFlags">VkShaderStageFlags</a> that this layout
supports.</p>
</li>
<li>
<p><code>indirectStride</code> is the distance in bytes between sequences in the
indirect buffer</p>
</li>
<li>
<p><code>pipelineLayout</code> is the optional <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> that tokens
in this layout use.
If the <a href="chap39.html#features-dynamicGeneratedPipelineLayout"><code>dynamicGeneratedPipelineLayout</code></a> feature is enabled,
<code>pipelineLayout</code> <strong class="purple">can</strong> be <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> and the layout <strong class="purple">must</strong>
be specified by chaining the <a href="chap14.html#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a> structure
off the <code>pNext</code></p>
</li>
<li>
<p><code>tokenCount</code> is the length of the individual command sequence.</p>
</li>
<li>
<p><code>pTokens</code> is a pointer to an array of
<a href="chap29.html#VkIndirectCommandsLayoutTokenEXT">VkIndirectCommandsLayoutTokenEXT</a> describing each command token in
detail.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following code illustrates some of the flags:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">cmdProcessAllSequences</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">indirectExecutionSet</span><span class="p">,</span> <span class="n">indirectCommandsLayout</span><span class="p">,</span> <span class="n">indirectAddress</span><span class="p">,</span> <span class="n">sequencesCount</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">s</span> <span class="o">&lt;</span> <span class="n">sequencesCount</span><span class="p">;</span> <span class="n">s</span><span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">sUsed</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">flags</span> <span class="o">&amp;</span> <span class="n">VK_INDIRECT_COMMANDS_LAYOUT_USAGE_UNORDERED_SEQUENCES_BIT_EXT</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">sUsed</span> <span class="o">=</span> <span class="n">incoherent_implementation_dependent_permutation</span><span class="p">[</span> <span class="n">sUsed</span> <span class="p">];</span>
    <span class="p">}</span>

    <span class="n">cmdProcessSequence</span><span class="p">(</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">indirectExecutionSet</span><span class="p">,</span> <span class="n">indirectCommandsLayout</span><span class="p">,</span> <span class="n">indirectAddress</span><span class="p">,</span> <span class="n">sUsed</span> <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When tokens are consumed, an offset is computed based on token offset and
stream stride.
The resulting offset is required to be aligned.
The alignment for a specific token is equal to the scalar alignment of the
data type as defined in <a href="chap15.html#interfaces-alignment-requirements">Alignment
Requirements</a>, or <code>4</code>, whichever is lower.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-indirectStride-11090" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-indirectStride-11090"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-indirectStride-11090</span><br>

<code>indirectStride</code> <strong class="purple">must</strong> be less than or equal to
<a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>maxIndirectCommandsIndirectStride</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11091" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11091"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11091</span><br>

<code>shaderStages</code> <strong class="purple">must</strong> only contain stages supported by
<a href="chap40.html#limits-supportedIndirectCommandsShaderStages"></a><a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>supportedIndirectCommandsShaderStages</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-tokenCount-11092" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-tokenCount-11092"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-tokenCount-11092</span><br>

<code>tokenCount</code> <strong class="purple">must</strong> less than or equal to
<a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>maxIndirectCommandsTokenCount</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11093" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11093"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11093</span><br>

The number of tokens in the <code>pTokens</code> array with <code>type</code> equal to
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code> <strong class="purple">must</strong> be less
than or equal to <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11145" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11145"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11145</span><br>

The number of tokens in the <code>pTokens</code> array with <code>type</code> equal to
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</code> <strong class="purple">must</strong> be less
than or equal to <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11094" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11094"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11094</span><br>

The number of tokens in the <code>pTokens</code> array with <code>type</code> equal to
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_INDEX_BUFFER_EXT</code> <strong class="purple">must</strong> be less
than or equal to <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11095" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11095"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11095</span><br>

If the action command token in the <code>pTokens</code> array is not an indexed
draw token, then <code>pTokens</code> <strong class="purple">must</strong> not contain a member with
<code>type</code> set to <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_INDEX_BUFFER_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11096" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11096"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11096</span><br>

If the action command token in the <code>pTokens</code> array is not a non-mesh
draw token, then <code>pTokens</code> <strong class="purple">must</strong> not contain a member with
<code>type</code> set to
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_VERTEX_BUFFER_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11097" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11097"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11097</span><br>

If the <code>pTokens</code> array contains multiple tokens with <code>type</code>
equal to <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_VERTEX_BUFFER_EXT</code>, then
there <strong class="purple">must</strong> be no duplicate
<a href="chap29.html#VkIndirectCommandsVertexBufferTokenEXT">VkIndirectCommandsVertexBufferTokenEXT</a>::<code>vertexBindingUnit</code>
values</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11099" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11099"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11099</span><br>

For all <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</code> and
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</code> type tokens in
<code>pTokens</code>, there <strong class="purple">must</strong> be no overlapping ranges between any
specified push constant ranges</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11100" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11100"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11100</span><br>

The action command token <strong class="purple">must</strong> be the last token in the <code>pTokens</code>
array</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11139" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11139"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11139</span><br>

If the <code>pTokens</code> array contains a
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code> token, then this
token <strong class="purple">must</strong> be the first token in the array</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11101" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11101"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11101</span><br>

For any element of <code>pTokens</code>, if <code>type</code> is
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</code> or
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</code> and the
<a href="chap39.html#features-dynamicGeneratedPipelineLayout"><code>dynamicGeneratedPipelineLayout</code></a> is not enabled, then the
<code>pipelineLayout</code> <strong class="purple">must</strong> not be <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11102" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11102"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11102</span><br>

For any element of <code>pTokens</code>, if <code>type</code> is either
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</code> or
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</code> and
<code>pipelineLayout</code> is <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, then the <code>pNext</code> chain
<strong class="purple">must</strong> include a <a href="chap14.html#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a> struct</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11103" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11103"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11103</span><br>

For any element of <code>pTokens</code>, the <code>offset</code> <strong class="purple">must</strong> be greater than
or equal to the <code>offset</code> member of the previous tokens</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11104" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11104"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11104</span><br>

For any element of <code>pTokens</code>, if <code>type</code> is
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_INDEX_BUFFER_EXT</code>,
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_VERTEX_BUFFER_EXT</code>,
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_INDEXED_COUNT_EXT</code>,
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_INDEXED_EXT</code>, or
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_EXT</code>, then <code>shaderStages</code>
<strong class="purple">must</strong> contain graphics stages</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11105" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11105"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11105</span><br>

For any element of <code>pTokens</code>, if <code>type</code> is
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DISPATCH_EXT</code>, then
<code>shaderStages</code> <strong class="purple">must</strong> be <code>VK_SHADER_STAGE_COMPUTE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11108" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11108"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-11108</span><br>

For any element of <code>pTokens</code>, if <code>type</code> is
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_TRACE_RAYS2_EXT</code>, then
<code>shaderStages</code> <strong class="purple">must</strong> contain ray tracing stages</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11109" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11109"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11109</span><br>

    If <code>shaderStages</code> contains graphics stages then the state tokens in
    <code>pTokens</code> <strong class="purple">must</strong> not include
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_TRACE_RAYS2_EXT</code>,
    <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DISPATCH_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11110" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11110"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11110</span><br>

If <code>shaderStages</code> is <code>VK_SHADER_STAGE_COMPUTE_BIT</code> then the
state tokens in <code>pTokens</code> <strong class="purple">must</strong> only include
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DISPATCH_EXT</code>,
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code>,
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</code>, or
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11111" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11111"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11111</span><br>

If <code>shaderStages</code> contains ray tracing stages then the state tokens
in <code>pTokens</code> <strong class="purple">must</strong> only include
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_TRACE_RAYS2_EXT</code>,
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code>,
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</code>, or
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11112" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11112"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11112</span><br>

The <code>shaderStages</code> <strong class="purple">must</strong> only contain stages from one of the
following:</p>
<div class="ulist">
<ul>
<li>
<p>graphics stages</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_COMPUTE_BIT</code></p>
</li>
<li>
<p>ray tracing stages</p>
</li>
</ul>
</div>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11113" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11113"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-11113</span><br>

If <code>shaderStages</code> contains <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, then
<code>shaderStages</code> <strong class="purple">must</strong> also contain <code>VK_SHADER_STAGE_VERTEX_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-sType-sType" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_INDIRECT_COMMANDS_LAYOUT_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pNext-pNext" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="chap14.html#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-sType-unique" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-sType-unique"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-flags-parameter" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-flags-parameter"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-flags-parameter</span><br>
 <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="chap29.html#VkIndirectCommandsLayoutUsageFlagBitsEXT">VkIndirectCommandsLayoutUsageFlagBitsEXT</a> values</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-parameter" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-parameter"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-parameter</span><br>
 <code>shaderStages</code> <strong class="purple">must</strong> be a valid combination of <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-requiredbitmask" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-requiredbitmask"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-shaderStages-requiredbitmask</span><br>
 <code>shaderStages</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pipelineLayout-parameter" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pipelineLayout-parameter"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pipelineLayout-parameter</span><br>
 If <code>pipelineLayout</code> is not <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>pipelineLayout</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-parameter" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-parameter"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-pTokens-parameter</span><br>
 <code>pTokens</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>tokenCount</code> valid <a href="chap29.html#VkIndirectCommandsLayoutTokenEXT">VkIndirectCommandsLayoutTokenEXT</a> structures</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutCreateInfoEXT-tokenCount-arraylength" href="chap29.html#VUID-VkIndirectCommandsLayoutCreateInfoEXT-tokenCount-arraylength"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutCreateInfoEXT-tokenCount-arraylength</span><br>
 <code>tokenCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in
<a href="chap29.html#VkIndirectCommandsLayoutCreateInfoEXT">VkIndirectCommandsLayoutCreateInfoEXT</a>::<code>flags</code>, specifying usage
hints of an indirect command layout, are:</p>
</div>
<div id="VkIndirectCommandsLayoutUsageFlagBitsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkIndirectCommandsLayoutUsageFlagBitsEXT</span> <span class="p">{</span>
    <span class="n">VK_INDIRECT_COMMANDS_LAYOUT_USAGE_EXPLICIT_PREPROCESS_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_INDIRECT_COMMANDS_LAYOUT_USAGE_UNORDERED_SEQUENCES_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkIndirectCommandsLayoutUsageFlagBitsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_INDIRECT_COMMANDS_LAYOUT_USAGE_EXPLICIT_PREPROCESS_BIT_EXT</code>
specifies that the layout is always used with the manual preprocessing
step through calling <a href="chap29.html#vkCmdPreprocessGeneratedCommandsEXT">vkCmdPreprocessGeneratedCommandsEXT</a> and
executed by <a href="chap29.html#vkCmdExecuteGeneratedCommandsEXT">vkCmdExecuteGeneratedCommandsEXT</a> with <code>isPreprocessed</code>
set to <code>VK_TRUE</code>.</p>
</li>
<li>
<p><code>VK_INDIRECT_COMMANDS_LAYOUT_USAGE_UNORDERED_SEQUENCES_BIT_EXT</code>
specifies that the processing of sequences will happen at an
implementation-dependent order, which is not guaranteed to be
deterministic using the same input data.
This flag is ignored when the <code>shaderStages</code> is
<code>VK_SHADER_STAGE_COMPUTE_BIT</code> as it is implied that the dispatch
sequence is always unordered.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkIndirectCommandsLayoutUsageFlagsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkIndirectCommandsLayoutUsageFlagsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkIndirectCommandsLayoutUsageFlagsEXT</code> is a bitmask type for setting a
mask of zero or more <a href="chap29.html#VkIndirectCommandsLayoutUsageFlagBitsEXT">VkIndirectCommandsLayoutUsageFlagBitsEXT</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Indirect command layouts for <code><a href="chap48.html#VK_EXT_device_generated_commands">VK_EXT_device_generated_commands</a></code> are
destroyed by:</p>
</div>
<div id="vkDestroyIndirectCommandsLayoutEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="kt">void</span> <span class="nf">vkDestroyIndirectCommandsLayoutEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkIndirectCommandsLayoutEXT</span>                 <span class="n">indirectCommandsLayout</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the layout.</p>
</li>
<li>
<p><code>indirectCommandsLayout</code> is the layout to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-11114" href="chap29.html#VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-11114"></a> <span class="vuid">VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-11114</span><br>

All submitted commands that refer to <code>indirectCommandsLayout</code> <strong class="purple">must</strong>
have completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-11115" href="chap29.html#VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-11115"></a> <span class="vuid">VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-11115</span><br>

If <code>VkAllocationCallbacks</code> were provided when
<code>indirectCommandsLayout</code> was created, a compatible set of callbacks
<strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-11116" href="chap29.html#VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-11116"></a> <span class="vuid">VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-11116</span><br>

If no <code>VkAllocationCallbacks</code> were provided when
<code>indirectCommandsLayout</code> was created, <code>pAllocator</code> <strong class="purple">must</strong> be
<code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyIndirectCommandsLayoutEXT-device-parameter" href="chap29.html#VUID-vkDestroyIndirectCommandsLayoutEXT-device-parameter"></a> <span class="vuid">VUID-vkDestroyIndirectCommandsLayoutEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-parameter" href="chap29.html#VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-parameter"></a> <span class="vuid">VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-parameter</span><br>
 If <code>indirectCommandsLayout</code> is not <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>indirectCommandsLayout</code> <strong class="purple">must</strong> be a valid <a href="chap29.html#VkIndirectCommandsLayoutEXT">VkIndirectCommandsLayoutEXT</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyIndirectCommandsLayoutEXT-pAllocator-parameter" href="chap29.html#VUID-vkDestroyIndirectCommandsLayoutEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyIndirectCommandsLayoutEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-parent" href="chap29.html#VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-parent"></a> <span class="vuid">VUID-vkDestroyIndirectCommandsLayoutEXT-indirectCommandsLayout-parent</span><br>
 If <code>indirectCommandsLayout</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>indirectCommandsLayout</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_token_input_streams"><a class="anchor" href="chap29.html#_token_input_streams"></a>29.1.2. Token Input Streams</h4>
<div class="paragraph">
<p>For <code><a href="chap48.html#VK_EXT_device_generated_commands">VK_EXT_device_generated_commands</a></code>, the input streams <strong class="purple">can</strong>
contain raw <code>uint32_t</code> values, existing indirect commands such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap20.html#VkDrawIndirectCommand">VkDrawIndirectCommand</a></p>
</li>
<li>
<p><a href="chap20.html#VkDrawIndexedIndirectCommand">VkDrawIndexedIndirectCommand</a></p>
</li>
<li>
<p><a href="chap28.html#VkDispatchIndirectCommand">VkDispatchIndirectCommand</a></p>
</li>
<li>
<p><a href="chap36.html#VkTraceRaysIndirectCommandKHR">VkTraceRaysIndirectCommandKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkTraceRaysIndirectCommand2KHR">VkTraceRaysIndirectCommand2KHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>or additional commands as listed below.
How the data is used is described in the next section.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkBindIndexBufferIndirectCommandEXT</code> structure specifies the input
data for the <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_INDEX_BUFFER_EXT</code> token.</p>
</div>
<div id="VkBindIndexBufferIndirectCommandEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkBindIndexBufferIndirectCommandEXT</span> <span class="p">{</span>
    <span class="n">VkDeviceAddress</span>    <span class="n">bufferAddress</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">size</span><span class="p">;</span>
    <span class="n">VkIndexType</span>        <span class="n">indexType</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkBindIndexBufferIndirectCommandEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>bufferAddress</code> specifies a physical address of the <a href="chap12.html#VkBuffer">VkBuffer</a>
used as index buffer.</p>
</li>
<li>
<p><code>size</code> is the byte size range which is available for this operation
from the provided address.</p>
</li>
<li>
<p><code>indexType</code> is a <a href="chap20.html#VkIndexType">VkIndexType</a> value specifying how indices are
treated.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBindIndexBufferIndirectCommandEXT-None-11117" href="chap29.html#VUID-VkBindIndexBufferIndirectCommandEXT-None-11117"></a> <span class="vuid">VUID-VkBindIndexBufferIndirectCommandEXT-None-11117</span><br>

The buffer’s usage flags from which the address was acquired <strong class="purple">must</strong> have
the <code>VK_BUFFER_USAGE_INDEX_BUFFER_BIT</code> bit set</p>
</li>
<li>
<p><a id="VUID-VkBindIndexBufferIndirectCommandEXT-bufferAddress-11118" href="chap29.html#VUID-VkBindIndexBufferIndirectCommandEXT-bufferAddress-11118"></a> <span class="vuid">VUID-VkBindIndexBufferIndirectCommandEXT-bufferAddress-11118</span><br>

The <code>bufferAddress</code> <strong class="purple">must</strong> be aligned to the <a href="chap20.html#VkIndexType">VkIndexType</a> of the
<code>indexType</code> used</p>
</li>
<li>
<p><a id="VUID-VkBindIndexBufferIndirectCommandEXT-None-11119" href="chap29.html#VUID-VkBindIndexBufferIndirectCommandEXT-None-11119"></a> <span class="vuid">VUID-VkBindIndexBufferIndirectCommandEXT-None-11119</span><br>

Each element of the buffer from which the address was acquired and that
is non-sparse <strong class="purple">must</strong> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBindIndexBufferIndirectCommandEXT-indexType-parameter" href="chap29.html#VUID-VkBindIndexBufferIndirectCommandEXT-indexType-parameter"></a> <span class="vuid">VUID-VkBindIndexBufferIndirectCommandEXT-indexType-parameter</span><br>
 <code>indexType</code> <strong class="purple">must</strong> be a valid <a href="chap20.html#VkIndexType">VkIndexType</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkBindVertexBufferIndirectCommandEXT</code> structure specifies the input
data for the <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_VERTEX_BUFFER_EXT</code> token.</p>
</div>
<div id="VkBindVertexBufferIndirectCommandEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkBindVertexBufferIndirectCommandEXT</span> <span class="p">{</span>
    <span class="n">VkDeviceAddress</span>    <span class="n">bufferAddress</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">size</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">stride</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkBindVertexBufferIndirectCommandEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>bufferAddress</code> specifies a physical address of the <a href="chap12.html#VkBuffer">VkBuffer</a>
used as vertex input binding.</p>
</li>
<li>
<p><code>size</code> is the byte size range which is available for this operation
from the provided address.</p>
</li>
<li>
<p><code>stride</code> is the byte size stride for this vertex input binding as in
<code>VkVertexInputBindingDescription</code>::<code>stride</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBindVertexBufferIndirectCommandEXT-None-11120" href="chap29.html#VUID-VkBindVertexBufferIndirectCommandEXT-None-11120"></a> <span class="vuid">VUID-VkBindVertexBufferIndirectCommandEXT-None-11120</span><br>

The buffer’s usage flag from which the address was acquired <strong class="purple">must</strong> have
the <code>VK_BUFFER_USAGE_VERTEX_BUFFER_BIT</code> bit set</p>
</li>
<li>
<p><a id="VUID-VkBindVertexBufferIndirectCommandEXT-None-11121" href="chap29.html#VUID-VkBindVertexBufferIndirectCommandEXT-None-11121"></a> <span class="vuid">VUID-VkBindVertexBufferIndirectCommandEXT-None-11121</span><br>

Each element of the buffer from which the address was acquired and that
is non-sparse <strong class="purple">must</strong> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDrawIndirectCountIndirectCommandEXT</code> structure specifies the
input data for all draw-type tokens.</p>
</div>
<div id="VkDrawIndirectCountIndirectCommandEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDrawIndirectCountIndirectCommandEXT</span> <span class="p">{</span>
    <span class="n">VkDeviceAddress</span>    <span class="n">bufferAddress</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">stride</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">commandCount</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDrawIndirectCountIndirectCommandEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>bufferAddress</code> specifies a physical address of the <a href="chap12.html#VkBuffer">VkBuffer</a>
used for draw commands.</p>
</li>
<li>
<p><code>stride</code> is the byte size stride for the command arguments</p>
</li>
<li>
<p><code>commandCount</code> is the number of commands to execute</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The corresponding indirect draw struct data will be read from the buffer
address.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDrawIndirectCountIndirectCommandEXT-None-11122" href="chap29.html#VUID-VkDrawIndirectCountIndirectCommandEXT-None-11122"></a> <span class="vuid">VUID-VkDrawIndirectCountIndirectCommandEXT-None-11122</span><br>

The buffer’s usage flag from which the address was acquired <strong class="purple">must</strong> have
the <code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> bit set</p>
</li>
<li>
<p><a id="VUID-VkDrawIndirectCountIndirectCommandEXT-None-11123" href="chap29.html#VUID-VkDrawIndirectCountIndirectCommandEXT-None-11123"></a> <span class="vuid">VUID-VkDrawIndirectCountIndirectCommandEXT-None-11123</span><br>

Each element of the buffer from which the address was acquired and that
is non-sparse <strong class="purple">must</strong> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tokenized_command_processing"><a class="anchor" href="chap29.html#_tokenized_command_processing"></a>29.1.3. Tokenized Command Processing</h4>
<div class="paragraph">
<p>The processing for <code><a href="chap48.html#VK_EXT_device_generated_commands">VK_EXT_device_generated_commands</a></code> is in principle
illustrated below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">cmdProcessSequence</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">indirectExecutionSet</span><span class="p">,</span> <span class="n">indirectCommandsLayout</span><span class="p">,</span> <span class="n">indirectAddress</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">t</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">tokenCount</span><span class="p">;</span> <span class="n">t</span><span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="kt">uint32_t</span> <span class="n">offset</span>  <span class="o">=</span> <span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">pTokens</span><span class="p">[</span><span class="n">t</span><span class="p">].</span><span class="n">offset</span><span class="p">;</span>
    <span class="kt">uint32_t</span> <span class="n">stride</span>  <span class="o">=</span> <span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">indirectStride</span><span class="p">;</span>
    <span class="n">VkDeviceAddress</span> <span class="n">streamData</span> <span class="o">=</span> <span class="n">indirectAddress</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">input</span> <span class="o">=</span> <span class="n">streamData</span> <span class="o">+</span> <span class="n">stride</span> <span class="o">*</span> <span class="n">s</span> <span class="o">+</span> <span class="n">offset</span><span class="p">;</span>

    <span class="c1">// further details later</span>
    <span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">pTokens</span><span class="p">[</span><span class="n">t</span><span class="p">].</span><span class="n">command</span> <span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">indirectExecutionSet</span><span class="p">,</span> <span class="n">input</span><span class="p">,</span> <span class="n">s</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">cmdProcessAllSequences</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">indirectExecutionSet</span><span class="p">,</span> <span class="n">indirectCommandsLayout</span><span class="p">,</span> <span class="n">indirectAddress</span><span class="p">,</span> <span class="n">sequencesCount</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">s</span> <span class="o">&lt;</span> <span class="n">sequencesCount</span><span class="p">;</span> <span class="n">s</span><span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">sUsed</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">flags</span> <span class="o">&amp;</span> <span class="n">VK_INDIRECT_COMMANDS_LAYOUT_USAGE_UNORDERED_SEQUENCES_BIT_EXT</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">sUsed</span> <span class="o">=</span> <span class="n">incoherent_implementation_dependent_permutation</span><span class="p">[</span> <span class="n">sUsed</span> <span class="p">];</span>
    <span class="p">}</span>

    <span class="n">cmdProcessSequence</span><span class="p">(</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">indirectExecutionSet</span><span class="p">,</span> <span class="n">indirectCommandsLayout</span><span class="p">,</span> <span class="n">indirectAddress</span><span class="p">,</span> <span class="n">sUsed</span> <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The processing of each sequence is considered stateless, therefore all state
changes <strong class="purple">must</strong> occur prior to action commands within the sequence.
A single sequence is strictly targeting the <a href="chap10.html#VkShaderStageFlags">VkShaderStageFlags</a> it was
created with.</p>
</div>
<div class="paragraph">
<p>The primary input data for each token is provided through <code>VkBuffer</code>
content at preprocessing using <a href="chap29.html#vkCmdPreprocessGeneratedCommandsEXT">vkCmdPreprocessGeneratedCommandsEXT</a> or
execution time using <a href="chap29.html#vkCmdExecuteGeneratedCommandsEXT">vkCmdExecuteGeneratedCommandsEXT</a>, however some
functional arguments, for example push constant layouts, are specified at
layout creation time.
The input size is different for each token.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of those elements of the
<a href="chap29.html#VkIndirectCommandsLayoutCreateInfoEXT">VkIndirectCommandsLayoutCreateInfoEXT</a>::<code>pTokens</code> array specifying
command tokens (other elements of the array specify command parameters) are:</p>
</div>
<div id="VkIndirectCommandsTokenTypeEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkIndirectCommandsTokenTypeEXT</span> <span class="p">{</span>
    <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_INDEX_BUFFER_EXT</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_VERTEX_BUFFER_EXT</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_INDEXED_EXT</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_EXT</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
    <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_INDEXED_COUNT_EXT</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_COUNT_EXT</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
    <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DISPATCH_EXT</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
  <span class="c1">// Provided by VK_KHR_ray_tracing_maintenance1 with VK_EXT_device_generated_commands</span>
    <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_TRACE_RAYS2_EXT</span> <span class="o">=</span> <span class="mi">1000386004</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkIndirectCommandsTokenTypeEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<table id="indirectmdslayout-command-tokens-ext" class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 40. Supported Indirect Command Tokens</caption>
<colgroup>
<col style="width: 67%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Common Tokens</strong></th>
<th class="tableblock halign-left valign-top"><strong>Command Data</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>u32[]</code> array of indices into the indirect execution set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>u32[]</code> raw data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>u32</code> placeholder data (not accessed by shader)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Compute Tokens</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DISPATCH_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap28.html#VkDispatchIndirectCommand">VkDispatchIndirectCommand</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ray Tracing Tokens</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_TRACE_RAYS2_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap36.html#VkTraceRaysIndirectCommand2KHR">VkTraceRaysIndirectCommand2KHR</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Graphics State Tokens</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_INDEX_BUFFER_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap29.html#VkBindIndexBufferIndirectCommandEXT">VkBindIndexBufferIndirectCommandEXT</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_VERTEX_BUFFER_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap29.html#VkBindVertexBufferIndirectCommandEXT">VkBindVertexBufferIndirectCommandEXT</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Graphics Draw Tokens</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_INDEXED_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap20.html#VkDrawIndexedIndirectCommand">VkDrawIndexedIndirectCommand</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap20.html#VkDrawIndirectCommand">VkDrawIndirectCommand</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Graphics Draw Count Tokens</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_INDEXED_COUNT_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap29.html#VkDrawIndirectCountIndirectCommandEXT">VkDrawIndirectCountIndirectCommandEXT</a> with VkDrawIndexedIndirectCommand</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_COUNT_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap29.html#VkDrawIndirectCountIndirectCommandEXT">VkDrawIndirectCountIndirectCommandEXT</a> with VkDrawIndirectCommand</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkIndirectCommandsLayoutTokenEXT</code> structure specifies details to
the function arguments that need to be known at layout creation time:</p>
</div>
<div id="VkIndirectCommandsLayoutTokenEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkIndirectCommandsLayoutTokenEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                   <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                       <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkIndirectCommandsTokenTypeEXT</span>    <span class="n">type</span><span class="p">;</span>
    <span class="n">VkIndirectCommandsTokenDataEXT</span>    <span class="n">data</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                          <span class="n">offset</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkIndirectCommandsLayoutTokenEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>type</code> specifies the <a href="chap29.html#VkIndirectCommandsTokenTypeEXT">VkIndirectCommandsTokenTypeEXT</a> for
<code>data</code>.</p>
</li>
<li>
<p><code>data</code> specifies a <a href="chap29.html#VkIndirectCommandsTokenDataEXT">VkIndirectCommandsTokenDataEXT</a> containing
token-specific details for command execution.
It is ignored if <code>type</code> does not match any member of the
<a href="chap29.html#VkIndirectCommandsTokenDataEXT">VkIndirectCommandsTokenDataEXT</a> union.</p>
</li>
<li>
<p><code>offset</code> is the relative byte offset for the token within one
sequence of the indirect buffer.
The data stored at that offset is the command data for the token, e.g.
<code>VkDispatchIndirectCommand</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutTokenEXT-offset-11124" href="chap29.html#VUID-VkIndirectCommandsLayoutTokenEXT-offset-11124"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutTokenEXT-offset-11124</span><br>

<code>offset</code> <strong class="purple">must</strong> be less than or equal to
<a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>maxIndirectCommandsTokenOffset</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutTokenEXT-offset-11125" href="chap29.html#VUID-VkIndirectCommandsLayoutTokenEXT-offset-11125"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutTokenEXT-offset-11125</span><br>

<code>offset</code> <strong class="purple">must</strong> be aligned to <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutTokenEXT-rayTracingMaintenance1-11128" href="chap29.html#VUID-VkIndirectCommandsLayoutTokenEXT-rayTracingMaintenance1-11128"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutTokenEXT-rayTracingMaintenance1-11128</span><br>

If <a href="chap39.html#features-rayTracingMaintenance1"><code>rayTracingMaintenance1</code></a> is
not enabled, <code>type</code> <strong class="purple">must</strong> not be
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_TRACE_RAYS2_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutTokenEXT-deviceGeneratedCommandsMultiDrawIndirectCount-11129" href="chap29.html#VUID-VkIndirectCommandsLayoutTokenEXT-deviceGeneratedCommandsMultiDrawIndirectCount-11129"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutTokenEXT-deviceGeneratedCommandsMultiDrawIndirectCount-11129</span><br>

If <a href="chap40.html#limits-deviceGeneratedCommandsMultiDrawIndirectCount"></a><a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>deviceGeneratedCommandsMultiDrawIndirectCount</code>
is not supported, <code>type</code> <strong class="purple">must</strong> not be
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_INDEXED_COUNT_EXT</code> or
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_COUNT_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutTokenEXT-sType-sType" href="chap29.html#VUID-VkIndirectCommandsLayoutTokenEXT-sType-sType"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutTokenEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_INDIRECT_COMMANDS_LAYOUT_TOKEN_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutTokenEXT-type-parameter" href="chap29.html#VUID-VkIndirectCommandsLayoutTokenEXT-type-parameter"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutTokenEXT-type-parameter</span><br>
 <code>type</code> <strong class="purple">must</strong> be a valid <a href="chap29.html#VkIndirectCommandsTokenTypeEXT">VkIndirectCommandsTokenTypeEXT</a> value</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutTokenEXT-pPushConstant-parameter" href="chap29.html#VUID-VkIndirectCommandsLayoutTokenEXT-pPushConstant-parameter"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutTokenEXT-pPushConstant-parameter</span><br>
 If <code>type</code> is <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</code>, the <code>pPushConstant</code> member of <code>data</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap29.html#VkIndirectCommandsPushConstantTokenEXT">VkIndirectCommandsPushConstantTokenEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutTokenEXT-pVertexBuffer-parameter" href="chap29.html#VUID-VkIndirectCommandsLayoutTokenEXT-pVertexBuffer-parameter"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutTokenEXT-pVertexBuffer-parameter</span><br>
 If <code>type</code> is <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_VERTEX_BUFFER_EXT</code>, the <code>pVertexBuffer</code> member of <code>data</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap29.html#VkIndirectCommandsVertexBufferTokenEXT">VkIndirectCommandsVertexBufferTokenEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutTokenEXT-pIndexBuffer-parameter" href="chap29.html#VUID-VkIndirectCommandsLayoutTokenEXT-pIndexBuffer-parameter"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutTokenEXT-pIndexBuffer-parameter</span><br>
 If <code>type</code> is <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_INDEX_BUFFER_EXT</code>, the <code>pIndexBuffer</code> member of <code>data</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap29.html#VkIndirectCommandsIndexBufferTokenEXT">VkIndirectCommandsIndexBufferTokenEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsLayoutTokenEXT-pExecutionSet-parameter" href="chap29.html#VUID-VkIndirectCommandsLayoutTokenEXT-pExecutionSet-parameter"></a> <span class="vuid">VUID-VkIndirectCommandsLayoutTokenEXT-pExecutionSet-parameter</span><br>
 If <code>type</code> is <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code>, the <code>pExecutionSet</code> member of <code>data</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap29.html#VkIndirectCommandsExecutionSetTokenEXT">VkIndirectCommandsExecutionSetTokenEXT</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkIndirectCommandsTokenDataEXT</code> structure provides token-specific
details used to generate the indirect execution layout.</p>
</div>
<div id="VkIndirectCommandsTokenDataEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">union</span> <span class="n">VkIndirectCommandsTokenDataEXT</span> <span class="p">{</span>
    <span class="k">const</span> <span class="n">VkIndirectCommandsPushConstantTokenEXT</span><span class="o">*</span>    <span class="n">pPushConstant</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkIndirectCommandsVertexBufferTokenEXT</span><span class="o">*</span>    <span class="n">pVertexBuffer</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkIndirectCommandsIndexBufferTokenEXT</span><span class="o">*</span>     <span class="n">pIndexBuffer</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkIndirectCommandsExecutionSetTokenEXT</span><span class="o">*</span>    <span class="n">pExecutionSet</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkIndirectCommandsTokenDataEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pPushConstant</code> is a pointer to a
<a href="chap29.html#VkIndirectCommandsPushConstantTokenEXT">VkIndirectCommandsPushConstantTokenEXT</a> struct needed for
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</code> and
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</code> tokens</p>
</li>
<li>
<p><code>pVertexBuffer</code> is a pointer to a
<a href="chap29.html#VkIndirectCommandsVertexBufferTokenEXT">VkIndirectCommandsVertexBufferTokenEXT</a> struct needed for
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_VERTEX_BUFFER_EXT</code> tokens</p>
</li>
<li>
<p><code>pIndexBuffer</code> is a pointer to a
<a href="chap29.html#VkIndirectCommandsIndexBufferTokenEXT">VkIndirectCommandsIndexBufferTokenEXT</a> struct needed for
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_INDEX_BUFFER_EXT</code> tokens</p>
</li>
<li>
<p><code>pExecutionSet</code> is a pointer to a
<a href="chap29.html#VkIndirectCommandsExecutionSetTokenEXT">VkIndirectCommandsExecutionSetTokenEXT</a> struct needed for
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code> tokens</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The appropriate member of the union <strong class="purple">must</strong> be set for each token.</p>
</div>
<div class="paragraph">
<p>The following code provides detailed information on how an individual
sequence is processed.
For valid usage, all restrictions from the regular commands apply.</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">cmdProcessSequence</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">indirectExecutionSet</span><span class="p">,</span> <span class="n">indirectCommandsLayout</span><span class="p">,</span> <span class="n">indirectAddress</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">uint32_t</span> <span class="n">t</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">tokenCount</span><span class="p">;</span> <span class="n">t</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">VkIndirectCommandsLayoutTokenEXT</span> <span class="o">*</span><span class="n">token</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">pTokens</span><span class="p">[</span><span class="n">t</span><span class="p">];</span>

    <span class="kt">uint32_t</span> <span class="n">offset</span>  <span class="o">=</span> <span class="n">token</span><span class="o">-&gt;</span><span class="n">offset</span><span class="p">;</span>
    <span class="kt">uint32_t</span> <span class="n">stride</span>  <span class="o">=</span> <span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">indirectStride</span><span class="p">;</span>
    <span class="n">VkDeviceAddress</span> <span class="n">streamData</span> <span class="o">=</span> <span class="n">indirectAddress</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">input</span> <span class="o">=</span> <span class="n">streamData</span> <span class="o">+</span> <span class="n">stride</span> <span class="o">*</span> <span class="n">s</span> <span class="o">+</span> <span class="n">offset</span><span class="p">;</span>

    <span class="k">switch</span> <span class="p">(</span><span class="n">token</span><span class="o">-&gt;</span><span class="n">tokenType</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</span><span class="p">:</span>
      <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">bind</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>
      <span class="n">VkIndirectCommandsExecutionSetTokenEXT</span> <span class="o">*</span><span class="n">info</span> <span class="o">=</span> <span class="n">token</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">.</span><span class="n">pExecutionSet</span><span class="p">;</span>

      <span class="k">if</span> <span class="p">(</span><span class="n">info</span><span class="o">-&gt;</span><span class="n">type</span> <span class="o">==</span> <span class="n">VK_INDIRECT_EXECUTION_SET_INFO_TYPE_PIPELINES_EXT</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">vkCmdBindPipeline</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">indirectExecutionSet</span><span class="p">.</span><span class="n">pipelineBindPoint</span><span class="p">,</span> <span class="n">indirectExecutionSet</span><span class="p">.</span><span class="n">pipelines</span><span class="p">[</span><span class="o">*</span><span class="n">bind</span><span class="p">]);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">VkShaderStageFlagBits</span> <span class="n">stages</span><span class="p">[];</span>
        <span class="n">VkShaderEXT</span> <span class="n">shaders</span><span class="p">[];</span>
        <span class="kt">uint32_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">IterateBitmaskLSBToMSB</span><span class="p">(</span><span class="n">iter</span><span class="p">,</span> <span class="n">info</span><span class="o">-&gt;</span><span class="n">shaderStages</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">stages</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">iter</span><span class="p">;</span>
            <span class="n">shaders</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">indirectExecutionSet</span><span class="p">.</span><span class="n">shaders</span><span class="p">[</span><span class="n">bind</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">shaderObject</span><span class="p">;</span>
            <span class="n">i</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">vkCmdBindShadersEXT</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">stages</span><span class="p">,</span> <span class="n">shaders</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</span><span class="p">:</span>
      <span class="kt">uint32_t</span><span class="o">*</span> <span class="n">data</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>
      <span class="n">VkPushConstantsInfoKHR</span> <span class="n">info</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">VK_STRUCTURE_TYPE_PUSH_CONSTANTS_INFO_KHR</span><span class="p">,</span>
        <span class="c1">// this can also use `dynamicGeneratedPipelineLayout' to pass a VkPipelineLayoutCreateInfo from pNext</span>
        <span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">pipelineLayout</span><span class="p">,</span>
        <span class="n">token</span><span class="o">-&gt;</span><span class="n">token</span><span class="p">.</span><span class="n">pushConstant</span><span class="p">.</span><span class="n">updateRange</span><span class="p">.</span><span class="n">shaderStages</span><span class="p">,</span>
        <span class="n">token</span><span class="o">-&gt;</span><span class="n">token</span><span class="p">.</span><span class="n">pushConstant</span><span class="p">.</span><span class="n">updateRange</span><span class="p">.</span><span class="n">offset</span><span class="p">,</span>
        <span class="n">token</span><span class="o">-&gt;</span><span class="n">token</span><span class="p">.</span><span class="n">pushConstant</span><span class="p">.</span><span class="n">updateRange</span><span class="p">.</span><span class="n">size</span><span class="p">,</span>
        <span class="n">data</span>
      <span class="p">};</span>

      <span class="n">vkCmdPushConstants2KHR</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">info</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</span><span class="p">:</span>
      <span class="n">VkPushConstantsInfoKHR</span> <span class="n">info</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">VK_STRUCTURE_TYPE_PUSH_CONSTANTS_INFO_KHR</span><span class="p">,</span>
        <span class="c1">// this can also use `dynamicGeneratedPipelineLayout' to pass a VkPipelineLayoutCreateInfo from pNext</span>
        <span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">pipelineLayout</span><span class="p">,</span>
        <span class="n">token</span><span class="o">-&gt;</span><span class="n">token</span><span class="p">.</span><span class="n">pushConstant</span><span class="p">.</span><span class="n">updateRange</span><span class="p">.</span><span class="n">shaderStages</span><span class="p">,</span>
        <span class="n">token</span><span class="o">-&gt;</span><span class="n">token</span><span class="p">.</span><span class="n">pushConstant</span><span class="p">.</span><span class="n">updateRange</span><span class="p">.</span><span class="n">offset</span><span class="p">,</span>
        <span class="c1">// this must be 4</span>
        <span class="n">token</span><span class="o">-&gt;</span><span class="n">token</span><span class="p">.</span><span class="n">pushConstant</span><span class="p">.</span><span class="n">updateRange</span><span class="p">.</span><span class="n">size</span><span class="p">,</span>
        <span class="c1">// this just updates the sequence index</span>
        <span class="o">&amp;</span><span class="n">s</span>
      <span class="p">};</span>

      <span class="n">vkCmdPushConstants2KHR</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">info</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_INDEX_BUFFER_EXT</span><span class="p">:</span>
      <span class="n">VkBindIndexBufferIndirectCommandEXT</span><span class="o">*</span> <span class="n">data</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>

      <span class="n">vkCmdBindIndexBuffer</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">deriveBuffer</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">bufferAddress</span><span class="p">),</span> <span class="n">deriveOffset</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">bufferAddress</span><span class="p">),</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">indexType</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_VERTEX_BUFFER_EXT</span><span class="p">:</span>
      <span class="n">VkBindVertexBufferIndirectCommandEXT</span><span class="o">*</span> <span class="n">data</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>

      <span class="n">vkCmdBindVertexBuffers2</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">token</span><span class="o">-&gt;</span><span class="n">token</span><span class="p">.</span><span class="n">vertexBuffer</span><span class="o">-&gt;</span><span class="n">vertexBindingUnit</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">deriveBuffer</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">bufferAddress</span><span class="p">),</span>
                              <span class="o">&amp;</span><span class="n">deriveOffset</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">bufferAddress</span><span class="p">),</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">size</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">stride</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_INDEXED_EXT</span><span class="p">:</span>
      <span class="n">VkDrawIndexedIndirectCommand</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>

      <span class="n">vkCmdDrawIndexed</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">indexCount</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">instanceCount</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">firstIndex</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">vertexOffset</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">firstInstance</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_INDEXED_COUNT_EXT</span><span class="p">:</span>
      <span class="n">VkDrawIndirectCountIndirectCommandEXT</span><span class="o">*</span> <span class="n">data</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>

      <span class="n">vkCmdDrawIndexedIndirect</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">deriveBuffer</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">bufferAddress</span><span class="p">),</span>  <span class="n">deriveoffset</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">bufferAddress</span><span class="p">),</span> <span class="n">min</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">commandCount</span><span class="p">,</span> <span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">maxDrawCount</span><span class="p">),</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">stride</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_EXT</span><span class="p">:</span>
      <span class="n">VkDrawIndirectCommand</span><span class="o">*</span> <span class="n">data</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>

      <span class="n">vkCmdDraw</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">vertex_count</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">instanceCount</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">firstVertex</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">firstIndex</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_COUNT_EXT</span><span class="p">:</span>
      <span class="n">VkDrawIndirectCountIndirectCommandEXT</span><span class="o">*</span> <span class="n">data</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>

      <span class="n">vkCmdDrawIndirect</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">deriveBuffer</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">bufferAddress</span><span class="p">),</span> <span class="n">deriveoffset</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">bufferAddress</span><span class="p">),</span> <span class="n">min</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">commandCount</span><span class="p">,</span> <span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">maxDrawCount</span><span class="p">),</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">stride</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>

    <span class="c1">// only available if VK_NV_mesh_shader is enabled</span>
    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_MESH_TASKS_NV_EXT</span><span class="p">:</span>
      <span class="n">VkDrawMeshTasksIndirectCommandNV</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>

      <span class="n">vkCmdDrawMeshTasksNV</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">taskCount</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">firstTask</span><span class="p">);</span>
     <span class="k">break</span><span class="p">;</span>

    <span class="c1">// only available if VK_NV_mesh_shader is enabled</span>
    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_MESH_TASKS_COUNT_NV_EXT</span><span class="p">:</span>
      <span class="n">VkDrawIndirectCountIndirectCommandEXT</span><span class="o">*</span> <span class="n">data</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>

      <span class="n">vkCmdDrawMeshTasksIndirectCountNV</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">deriveBuffer</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">bufferAddress</span><span class="p">),</span>  <span class="n">deriveoffset</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">bufferAddress</span><span class="p">),</span> <span class="n">min</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">commandCount</span><span class="p">,</span> <span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">maxDrawCount</span><span class="p">),</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">stride</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>

    <span class="c1">// only available if VK_EXT_mesh_shader is enabled</span>
    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_MESH_TASKS_EXT</span><span class="p">:</span>
      <span class="n">VkDrawMeshTasksIndirectCommandEXT</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>

      <span class="n">vkCmdDrawMeshTasksEXT</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">groupCountX</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">groupCountY</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">groupCountZ</span><span class="p">);</span>
     <span class="k">break</span><span class="p">;</span>

    <span class="c1">// only available if VK_EXT_mesh_shader is enabled</span>
    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_MESH_TASKS_COUNT_EXT</span><span class="p">:</span>
      <span class="n">VkDrawIndirectCountIndirectCommandEXT</span><span class="o">*</span> <span class="n">data</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>

      <span class="n">vkCmdDrawMeshTasksIndirectCountEXT</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">deriveBuffer</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">bufferAddress</span><span class="p">),</span>  <span class="n">deriveoffset</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">bufferAddress</span><span class="p">),</span> <span class="n">min</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">commandCount</span><span class="p">,</span> <span class="n">indirectCommandsLayout</span><span class="p">.</span><span class="n">maxDrawCount</span><span class="p">),</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">stride</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_DISPATCH_EXT</span><span class="p">:</span>
      <span class="n">VkDispatchIndirectCommand</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>

      <span class="n">vkCmdDispatch</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">x</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">y</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">z</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>

    <span class="c1">// only available if VK_KHR_ray_tracing_maintenance1 is enabled</span>
    <span class="k">case</span> <span class="n">VK_INDIRECT_COMMANDS_TOKEN_TYPE_TRACE_RAYS2_EXT</span><span class="p">:</span>
      <span class="n">vkCmdTraceRaysIndirect2KHR</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">deriveBuffer</span><span class="p">(</span><span class="n">input</span><span class="p">));</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkIndirectCommandsPushConstantTokenEXT</code> structure specifies the
layout token info for
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</code> and
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</code> tokens.</p>
</div>
<div id="VkIndirectCommandsPushConstantTokenEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkIndirectCommandsPushConstantTokenEXT</span> <span class="p">{</span>
    <span class="n">VkPushConstantRange</span>    <span class="n">updateRange</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkIndirectCommandsPushConstantTokenEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>updateRange</code> is the push constant range that will be updated by the
token.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>stageFlags</code> member of <code>updateRange</code> is ignored.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectCommandsPushConstantTokenEXT-updateRange-11132" href="chap29.html#VUID-VkIndirectCommandsPushConstantTokenEXT-updateRange-11132"></a> <span class="vuid">VUID-VkIndirectCommandsPushConstantTokenEXT-updateRange-11132</span><br>

<code>updateRange</code> <strong class="purple">must</strong> be contained within the push constant info used
by <a href="chap29.html#VkIndirectCommandsLayoutCreateInfoEXT">VkIndirectCommandsLayoutCreateInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsPushConstantTokenEXT-size-11133" href="chap29.html#VUID-VkIndirectCommandsPushConstantTokenEXT-size-11133"></a> <span class="vuid">VUID-VkIndirectCommandsPushConstantTokenEXT-size-11133</span><br>

If the token type is
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</code>, the <code>size</code>
member of <code>updateRange</code> <strong class="purple">must</strong> be 4</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectCommandsPushConstantTokenEXT-updateRange-parameter" href="chap29.html#VUID-VkIndirectCommandsPushConstantTokenEXT-updateRange-parameter"></a> <span class="vuid">VUID-VkIndirectCommandsPushConstantTokenEXT-updateRange-parameter</span><br>
 <code>updateRange</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkPushConstantRange">VkPushConstantRange</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkIndirectCommandsVertexBufferTokenEXT</code> structure specifies the
layout token info for the
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_VERTEX_BUFFER_EXT</code> token.</p>
</div>
<div id="VkIndirectCommandsVertexBufferTokenEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkIndirectCommandsVertexBufferTokenEXT</span> <span class="p">{</span>
    <span class="kt">uint32_t</span>    <span class="n">vertexBindingUnit</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkIndirectCommandsVertexBufferTokenEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>vertexBindingUnit</code> is the vertex input binding number to be bound.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectCommandsVertexBufferTokenEXT-vertexBindingUnit-11134" href="chap29.html#VUID-VkIndirectCommandsVertexBufferTokenEXT-vertexBindingUnit-11134"></a> <span class="vuid">VUID-VkIndirectCommandsVertexBufferTokenEXT-vertexBindingUnit-11134</span><br>

<code>vertexBindingUnit</code> <strong class="purple">must</strong> be less than the total number of vertex
input bindings in use by the current graphics state.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkIndirectCommandsIndexBufferTokenEXT</code> structure specifies the
layout token info for the
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_INDEX_BUFFER_EXT</code> token.</p>
</div>
<div id="VkIndirectCommandsIndexBufferTokenEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkIndirectCommandsIndexBufferTokenEXT</span> <span class="p">{</span>
    <span class="n">VkIndirectCommandsInputModeFlagBitsEXT</span>    <span class="n">mode</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkIndirectCommandsIndexBufferTokenEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mode</code> specifies the mode to use with this token.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This allows for easy layering of Vulkan atop other APIs.
When <code>VK_INDIRECT_COMMANDS_INPUT_MODE_DXGI_INDEX_BUFFER_EXT</code> is
specified, the indirect buffer can contain a <code>D3D12_INDEX_BUFFER_VIEW</code>
instead of <a href="chap29.html#VkBindIndexBufferIndirectCommandEXT">VkBindIndexBufferIndirectCommandEXT</a> as D3D’s DXGI format
value is mapped to the <a href="chap20.html#VkIndexType">VkIndexType</a>.
It works as both structs are otherwise binary compatible.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectCommandsIndexBufferTokenEXT-mode-11135" href="chap29.html#VUID-VkIndirectCommandsIndexBufferTokenEXT-mode-11135"></a> <span class="vuid">VUID-VkIndirectCommandsIndexBufferTokenEXT-mode-11135</span><br>

<code>mode</code> <strong class="purple">must</strong> be non-zero</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsIndexBufferTokenEXT-mode-11136" href="chap29.html#VUID-VkIndirectCommandsIndexBufferTokenEXT-mode-11136"></a> <span class="vuid">VUID-VkIndirectCommandsIndexBufferTokenEXT-mode-11136</span><br>

<code>mode</code> <strong class="purple">must</strong> be one of the bits supported in
<a href="chap40.html#limits-supportedIndirectCommandsInputModes"></a><a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>supportedIndirectCommandsInputModes</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectCommandsIndexBufferTokenEXT-mode-parameter" href="chap29.html#VUID-VkIndirectCommandsIndexBufferTokenEXT-mode-parameter"></a> <span class="vuid">VUID-VkIndirectCommandsIndexBufferTokenEXT-mode-parameter</span><br>
 <code>mode</code> <strong class="purple">must</strong> be a valid <a href="chap29.html#VkIndirectCommandsInputModeFlagBitsEXT">VkIndirectCommandsInputModeFlagBitsEXT</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which are set in
<a href="chap29.html#VkIndirectCommandsIndexBufferTokenEXT">VkIndirectCommandsIndexBufferTokenEXT</a>::<code>mode</code>, specifying how an
index buffer is used, are:</p>
</div>
<div id="VkIndirectCommandsInputModeFlagBitsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkIndirectCommandsInputModeFlagBitsEXT</span> <span class="p">{</span>
    <span class="n">VK_INDIRECT_COMMANDS_INPUT_MODE_VULKAN_INDEX_BUFFER_EXT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_INDIRECT_COMMANDS_INPUT_MODE_DXGI_INDEX_BUFFER_EXT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkIndirectCommandsInputModeFlagBitsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_INDIRECT_COMMANDS_INPUT_MODE_VULKAN_INDEX_BUFFER_EXT</code> indicates
that the indirect buffer contains
<a href="chap29.html#VkBindIndexBufferIndirectCommandEXT">VkBindIndexBufferIndirectCommandEXT</a>.</p>
</li>
<li>
<p><code>VK_INDIRECT_COMMANDS_INPUT_MODE_DXGI_INDEX_BUFFER_EXT</code> indicates
that the indirect buffer contains <code>D3D12_INDEX_BUFFER_VIEW</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkIndirectCommandsInputModeFlagsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkIndirectCommandsInputModeFlagsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkIndirectCommandsInputModeFlagsEXT</code> is a bitmask type for setting a
mask of zero or more <a href="chap29.html#VkIndirectCommandsInputModeFlagBitsEXT">VkIndirectCommandsInputModeFlagBitsEXT</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkIndirectCommandsExecutionSetTokenEXT</code> structure specifies the
input data for the <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code>
token.</p>
</div>
<div id="VkIndirectCommandsExecutionSetTokenEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkIndirectCommandsExecutionSetTokenEXT</span> <span class="p">{</span>
    <span class="n">VkIndirectExecutionSetInfoTypeEXT</span>    <span class="n">type</span><span class="p">;</span>
    <span class="n">VkShaderStageFlags</span>                   <span class="n">shaderStages</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkIndirectCommandsExecutionSetTokenEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>type</code> describes the type of indirect execution set in use.</p>
</li>
<li>
<p><code>shaderStages</code> specifies the shaders that will be changed by this
token.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectCommandsExecutionSetTokenEXT-shaderStages-11137" href="chap29.html#VUID-VkIndirectCommandsExecutionSetTokenEXT-shaderStages-11137"></a> <span class="vuid">VUID-VkIndirectCommandsExecutionSetTokenEXT-shaderStages-11137</span><br>

Each bit in <code>shaderStages</code> <strong class="purple">must</strong> be supported by
<a href="chap40.html#limits-supportedIndirectCommandsShaderStagesPipelineBinding"></a><a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>supportedIndirectCommandsShaderStagesPipelineBinding</code>
or <a href="chap40.html#limits-supportedIndirectCommandsShaderStagesShaderBinding"></a><a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>supportedIndirectCommandsShaderStagesShaderBinding</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectCommandsExecutionSetTokenEXT-type-parameter" href="chap29.html#VUID-VkIndirectCommandsExecutionSetTokenEXT-type-parameter"></a> <span class="vuid">VUID-VkIndirectCommandsExecutionSetTokenEXT-type-parameter</span><br>
 <code>type</code> <strong class="purple">must</strong> be a valid <a href="chap29.html#VkIndirectExecutionSetInfoTypeEXT">VkIndirectExecutionSetInfoTypeEXT</a> value</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsExecutionSetTokenEXT-shaderStages-parameter" href="chap29.html#VUID-VkIndirectCommandsExecutionSetTokenEXT-shaderStages-parameter"></a> <span class="vuid">VUID-VkIndirectCommandsExecutionSetTokenEXT-shaderStages-parameter</span><br>
 <code>shaderStages</code> <strong class="purple">must</strong> be a valid combination of <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkIndirectCommandsExecutionSetTokenEXT-shaderStages-requiredbitmask" href="chap29.html#VUID-VkIndirectCommandsExecutionSetTokenEXT-shaderStages-requiredbitmask"></a> <span class="vuid">VUID-VkIndirectCommandsExecutionSetTokenEXT-shaderStages-requiredbitmask</span><br>
 <code>shaderStages</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_indirect_commands_generation_and_execution"><a class="anchor" href="chap29.html#_indirect_commands_generation_and_execution"></a>29.2. Indirect Commands Generation and Execution</h3>
<div class="paragraph">
<p>The generation of commands on the device requires a <code>preprocess</code> buffer.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>With <code><a href="chap48.html#VK_EXT_device_generated_commands">VK_EXT_device_generated_commands</a></code>, to retrieve the memory size
and alignment requirements of a particular execution state call:</p>
</div>
<div id="vkGetGeneratedCommandsMemoryRequirementsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="kt">void</span> <span class="nf">vkGetGeneratedCommandsMemoryRequirementsEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkGeneratedCommandsMemoryRequirementsInfoEXT</span><span class="o">*</span> <span class="n">pInfo</span><span class="p">,</span>
    <span class="n">VkMemoryRequirements2</span><span class="o">*</span>                      <span class="n">pMemoryRequirements</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the buffer.</p>
</li>
<li>
<p><code>pInfo</code> is a pointer to a
<a href="chap29.html#VkGeneratedCommandsMemoryRequirementsInfoEXT">VkGeneratedCommandsMemoryRequirementsInfoEXT</a> structure containing
parameters required for the memory requirements query.</p>
</li>
<li>
<p><code>pMemoryRequirements</code> is a pointer to a <a href="chap12.html#VkMemoryRequirements2">VkMemoryRequirements2</a>
structure in which the memory requirements of the buffer object are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the size returned is zero, the preprocessing step can be skipped for this
layout.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetGeneratedCommandsMemoryRequirementsEXT-device-parameter" href="chap29.html#VUID-vkGetGeneratedCommandsMemoryRequirementsEXT-device-parameter"></a> <span class="vuid">VUID-vkGetGeneratedCommandsMemoryRequirementsEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetGeneratedCommandsMemoryRequirementsEXT-pInfo-parameter" href="chap29.html#VUID-vkGetGeneratedCommandsMemoryRequirementsEXT-pInfo-parameter"></a> <span class="vuid">VUID-vkGetGeneratedCommandsMemoryRequirementsEXT-pInfo-parameter</span><br>
 <code>pInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap29.html#VkGeneratedCommandsMemoryRequirementsInfoEXT">VkGeneratedCommandsMemoryRequirementsInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetGeneratedCommandsMemoryRequirementsEXT-pMemoryRequirements-parameter" href="chap29.html#VUID-vkGetGeneratedCommandsMemoryRequirementsEXT-pMemoryRequirements-parameter"></a> <span class="vuid">VUID-vkGetGeneratedCommandsMemoryRequirementsEXT-pMemoryRequirements-parameter</span><br>
 <code>pMemoryRequirements</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap12.html#VkMemoryRequirements2">VkMemoryRequirements2</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkGeneratedCommandsMemoryRequirementsInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkGeneratedCommandsMemoryRequirementsInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                          <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkIndirectExecutionSetEXT</span>      <span class="n">indirectExecutionSet</span><span class="p">;</span>
    <span class="n">VkIndirectCommandsLayoutEXT</span>    <span class="n">indirectCommandsLayout</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                       <span class="n">maxSequenceCount</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                       <span class="n">maxDrawCount</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkGeneratedCommandsMemoryRequirementsInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>indirectExecutionSet</code> is the indirect execution set to be used for
binding shaders.</p>
</li>
<li>
<p><code>indirectCommandsLayout</code> is the <a href="chap29.html#VkIndirectCommandsLayoutEXT">VkIndirectCommandsLayoutEXT</a>
that this buffer memory is intended to be used with.</p>
</li>
<li>
<p><code>maxSequenceCount</code> is the maximum number of sequences that this
buffer memory can be used with.</p>
</li>
<li>
<p><code>maxDrawCount</code> is the maximum number of indirect draws that can be
executed by any COUNT-type multi-draw indirect tokens.
The draw count in the indirect buffer is clamped to this value for these
token types.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the action command token for the layout is not a COUNT-type multi-draw
indirect token, <code>maxDrawCount</code> is ignored.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-maxSequencesCount-11009" href="chap29.html#VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-maxSequencesCount-11009"></a> <span class="vuid">VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-maxSequencesCount-11009</span><br>

<code>maxSequencesCount</code> <strong class="purple">must</strong> be less or equal to
<a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>maxIndirectSequenceCount</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectCommandsLayout-11010" href="chap29.html#VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectCommandsLayout-11010"></a> <span class="vuid">VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectCommandsLayout-11010</span><br>

If <code>indirectCommandsLayout</code> was created with a token sequence that
contained the <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code>
token, <code>indirectExecutionSet</code> <strong class="purple">must</strong> not be <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectCommandsLayout-11151" href="chap29.html#VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectCommandsLayout-11151"></a> <span class="vuid">VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectCommandsLayout-11151</span><br>

If <code>indirectCommandsLayout</code> was created with a token sequence that
contained the <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code>
token, the shader stages used to create the initial shader state of
<code>indirectExecutionSet</code> <strong class="purple">must</strong> equal the
<a href="chap29.html#VkIndirectCommandsExecutionSetTokenEXT">VkIndirectCommandsExecutionSetTokenEXT</a>::<code>shaderStages</code> used to
create <code>indirectCommandsLayout</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectCommandsLayout-11011" href="chap29.html#VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectCommandsLayout-11011"></a> <span class="vuid">VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectCommandsLayout-11011</span><br>

If <code>indirectCommandsLayout</code> was not created with a token sequence
that contained the
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code> token,
<code>indirectExecutionSet</code> <strong class="purple">must</strong> be <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-maxDrawCount-11146" href="chap29.html#VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-maxDrawCount-11146"></a> <span class="vuid">VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-maxDrawCount-11146</span><br>

When not ignored, <span class="eq"><code>maxDrawCount</code> ×
<code>maxSequenceCount</code></span> <strong class="purple">must</strong> be less than <span class="eq">2^24</span></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectExecutionSet-11012" href="chap29.html#VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectExecutionSet-11012"></a> <span class="vuid">VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectExecutionSet-11012</span><br>

    If <code>indirectExecutionSet</code> is <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>,
either
    a <a href="chap29.html#VkGeneratedCommandsPipelineInfoEXT">VkGeneratedCommandsPipelineInfoEXT</a>
or a <a href="chap29.html#VkGeneratedCommandsShaderInfoEXT">VkGeneratedCommandsShaderInfoEXT</a>
    <strong class="purple">must</strong> be included in the <code>pNext</code> chain</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-sType-sType" href="chap29.html#VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_GENERATED_COMMANDS_MEMORY_REQUIREMENTS_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-pNext-pNext" href="chap29.html#VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong class="purple">must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="chap29.html#VkGeneratedCommandsPipelineInfoEXT">VkGeneratedCommandsPipelineInfoEXT</a> or <a href="chap29.html#VkGeneratedCommandsShaderInfoEXT">VkGeneratedCommandsShaderInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-sType-unique" href="chap29.html#VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-sType-unique"></a> <span class="vuid">VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectExecutionSet-parameter" href="chap29.html#VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectExecutionSet-parameter"></a> <span class="vuid">VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectExecutionSet-parameter</span><br>
 If <code>indirectExecutionSet</code> is not <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>indirectExecutionSet</code> <strong class="purple">must</strong> be a valid <a href="chap29.html#VkIndirectExecutionSetEXT">VkIndirectExecutionSetEXT</a> handle</p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectCommandsLayout-parameter" href="chap29.html#VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectCommandsLayout-parameter"></a> <span class="vuid">VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-indirectCommandsLayout-parameter</span><br>
 <code>indirectCommandsLayout</code> <strong class="purple">must</strong> be a valid <a href="chap29.html#VkIndirectCommandsLayoutEXT">VkIndirectCommandsLayoutEXT</a> handle</p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-commonparent" href="chap29.html#VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-commonparent"></a> <span class="vuid">VUID-VkGeneratedCommandsMemoryRequirementsInfoEXT-commonparent</span><br>
 Both of <code>indirectCommandsLayout</code>, and <code>indirectExecutionSet</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkGeneratedCommandsPipelineInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkGeneratedCommandsPipelineInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>              <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkPipeline</span>         <span class="n">pipeline</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkGeneratedCommandsPipelineInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>pipeline</code> is a valid pipeline object.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>

</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGeneratedCommandsPipelineInfoEXT-sType-sType" href="chap29.html#VUID-VkGeneratedCommandsPipelineInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkGeneratedCommandsPipelineInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_GENERATED_COMMANDS_PIPELINE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsPipelineInfoEXT-pipeline-parameter" href="chap29.html#VUID-VkGeneratedCommandsPipelineInfoEXT-pipeline-parameter"></a> <span class="vuid">VUID-VkGeneratedCommandsPipelineInfoEXT-pipeline-parameter</span><br>
 <code>pipeline</code> <strong class="purple">must</strong> be a valid <a href="chap10.html#VkPipeline">VkPipeline</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkGeneratedCommandsShaderInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkGeneratedCommandsShaderInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>       <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                 <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>              <span class="n">shaderCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkShaderEXT</span><span class="o">*</span>    <span class="n">pShaders</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkGeneratedCommandsShaderInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>shaderCount</code> is the size of the <code>pShaders</code> array.</p>
</li>
<li>
<p><code>pShaders</code> is a pointer to an array of shader objects.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGeneratedCommandsShaderInfoEXT-pShaders-11127" href="chap29.html#VUID-VkGeneratedCommandsShaderInfoEXT-pShaders-11127"></a> <span class="vuid">VUID-VkGeneratedCommandsShaderInfoEXT-pShaders-11127</span><br>

<code>pShaders</code> <strong class="purple">must</strong> not contain more than one shader object for a given
<a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> stage</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGeneratedCommandsShaderInfoEXT-sType-sType" href="chap29.html#VUID-VkGeneratedCommandsShaderInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkGeneratedCommandsShaderInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_GENERATED_COMMANDS_SHADER_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsShaderInfoEXT-pShaders-parameter" href="chap29.html#VUID-VkGeneratedCommandsShaderInfoEXT-pShaders-parameter"></a> <span class="vuid">VUID-VkGeneratedCommandsShaderInfoEXT-pShaders-parameter</span><br>
 <code>pShaders</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>shaderCount</code> valid <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> handles</p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsShaderInfoEXT-shaderCount-arraylength" href="chap29.html#VUID-VkGeneratedCommandsShaderInfoEXT-shaderCount-arraylength"></a> <span class="vuid">VUID-VkGeneratedCommandsShaderInfoEXT-shaderCount-arraylength</span><br>
 <code>shaderCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="device-generated-indirect-execution-sets"><a class="anchor" href="chap29.html#device-generated-indirect-execution-sets"></a>29.2.1. Indirect Execution Sets</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Indirect Execution Sets contain sets of pipelines
or shader objects
which can be bound individually.</p>
</div>
<div id="VkIndirectExecutionSetEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkIndirectExecutionSetEXT</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Indirect Execution Sets allow the device to bind different shaders and
pipeline states using <a href="chap29.html">Device-Generated Commands</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Indirect Execution Sets are created by calling:</p>
</div>
<div id="vkCreateIndirectExecutionSetEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="n">VkResult</span> <span class="nf">vkCreateIndirectExecutionSetEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkIndirectExecutionSetCreateInfoEXT</span><span class="o">*</span>  <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkIndirectExecutionSetEXT</span><span class="o">*</span>                  <span class="n">pIndirectExecutionSet</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the indirect execution
set.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a
<a href="chap29.html#VkIndirectExecutionSetCreateInfoEXT">VkIndirectExecutionSetCreateInfoEXT</a> structure containing
parameters affecting creation of the indirect execution set.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pIndirectExecutionSet</code> is a pointer to a
<a href="chap29.html#VkIndirectExecutionSetEXT">VkIndirectExecutionSetEXT</a> handle in which the resulting indirect
execution set is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateIndirectExecutionSetEXT-deviceGeneratedCommands-11013" href="chap29.html#VUID-vkCreateIndirectExecutionSetEXT-deviceGeneratedCommands-11013"></a> <span class="vuid">VUID-vkCreateIndirectExecutionSetEXT-deviceGeneratedCommands-11013</span><br>

The <a href="chap39.html#features-deviceGeneratedCommandsEXT"><code>VkPhysicalDeviceDeviceGeneratedCommandsFeaturesEXT</code>::<code>deviceGeneratedCommands</code></a>
feature <strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateIndirectExecutionSetEXT-device-parameter" href="chap29.html#VUID-vkCreateIndirectExecutionSetEXT-device-parameter"></a> <span class="vuid">VUID-vkCreateIndirectExecutionSetEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateIndirectExecutionSetEXT-pCreateInfo-parameter" href="chap29.html#VUID-vkCreateIndirectExecutionSetEXT-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateIndirectExecutionSetEXT-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap29.html#VkIndirectExecutionSetCreateInfoEXT">VkIndirectExecutionSetCreateInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateIndirectExecutionSetEXT-pAllocator-parameter" href="chap29.html#VUID-vkCreateIndirectExecutionSetEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateIndirectExecutionSetEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateIndirectExecutionSetEXT-pIndirectExecutionSet-parameter" href="chap29.html#VUID-vkCreateIndirectExecutionSetEXT-pIndirectExecutionSet-parameter"></a> <span class="vuid">VUID-vkCreateIndirectExecutionSetEXT-pIndirectExecutionSet-parameter</span><br>
 <code>pIndirectExecutionSet</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap29.html#VkIndirectExecutionSetEXT">VkIndirectExecutionSetEXT</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkIndirectExecutionSetCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkIndirectExecutionSetCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkIndirectExecutionSetCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                      <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                          <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkIndirectExecutionSetInfoTypeEXT</span>    <span class="n">type</span><span class="p">;</span>
    <span class="n">VkIndirectExecutionSetInfoEXT</span>        <span class="n">info</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkIndirectExecutionSetCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>type</code> is a <a href="chap29.html#VkIndirectExecutionSetInfoTypeEXT">VkIndirectExecutionSetInfoTypeEXT</a> describing the
type of set being created and determining which field of the <code>info</code>
union will be used.</p>
</li>
<li>
<p><code>info</code> is a <a href="chap29.html#VkIndirectExecutionSetInfoEXT">VkIndirectExecutionSetInfoEXT</a> union containing
layout information for the set.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectExecutionSetCreateInfoEXT-maxIndirectShaderObjectCount-11014" href="chap29.html#VUID-VkIndirectExecutionSetCreateInfoEXT-maxIndirectShaderObjectCount-11014"></a> <span class="vuid">VUID-VkIndirectExecutionSetCreateInfoEXT-maxIndirectShaderObjectCount-11014</span><br>

If
<code>VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</code>::<code>maxIndirectShaderObjectCount</code>
is zero
or <a href="chap39.html#features-shaderObject"><code>shaderObject</code></a> is not enabled
<code>type</code> <strong class="purple">must</strong> not be
<code>VK_INDIRECT_EXECUTION_SET_INFO_TYPE_SHADER_OBJECTS_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectExecutionSetCreateInfoEXT-sType-sType" href="chap29.html#VUID-VkIndirectExecutionSetCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkIndirectExecutionSetCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_INDIRECT_EXECUTION_SET_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetCreateInfoEXT-type-parameter" href="chap29.html#VUID-VkIndirectExecutionSetCreateInfoEXT-type-parameter"></a> <span class="vuid">VUID-VkIndirectExecutionSetCreateInfoEXT-type-parameter</span><br>
 <code>type</code> <strong class="purple">must</strong> be a valid <a href="chap29.html#VkIndirectExecutionSetInfoTypeEXT">VkIndirectExecutionSetInfoTypeEXT</a> value</p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetCreateInfoEXT-pPipelineInfo-parameter" href="chap29.html#VUID-VkIndirectExecutionSetCreateInfoEXT-pPipelineInfo-parameter"></a> <span class="vuid">VUID-VkIndirectExecutionSetCreateInfoEXT-pPipelineInfo-parameter</span><br>
 If <code>type</code> is <code>VK_INDIRECT_EXECUTION_SET_INFO_TYPE_PIPELINES_EXT</code>, the <code>pPipelineInfo</code> member of <code>info</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap29.html#VkIndirectExecutionSetPipelineInfoEXT">VkIndirectExecutionSetPipelineInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetCreateInfoEXT-pShaderInfo-parameter" href="chap29.html#VUID-VkIndirectExecutionSetCreateInfoEXT-pShaderInfo-parameter"></a> <span class="vuid">VUID-VkIndirectExecutionSetCreateInfoEXT-pShaderInfo-parameter</span><br>
 If <code>type</code> is <code>VK_INDIRECT_EXECUTION_SET_INFO_TYPE_SHADER_OBJECTS_EXT</code>, the <code>pShaderInfo</code> member of <code>info</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap29.html#VkIndirectExecutionSetShaderInfoEXT">VkIndirectExecutionSetShaderInfoEXT</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Values which <strong class="purple">can</strong> be set in
<a href="chap29.html#VkIndirectExecutionSetCreateInfoEXT">VkIndirectExecutionSetCreateInfoEXT</a>::<code>type</code>, specifying contents
of an indirect execution set, are:</p>
</div>
<div id="VkIndirectExecutionSetInfoTypeEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkIndirectExecutionSetInfoTypeEXT</span> <span class="p">{</span>
    <span class="n">VK_INDIRECT_EXECUTION_SET_INFO_TYPE_PIPELINES_EXT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_INDIRECT_EXECUTION_SET_INFO_TYPE_SHADER_OBJECTS_EXT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkIndirectExecutionSetInfoTypeEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_INDIRECT_EXECUTION_SET_INFO_TYPE_PIPELINES_EXT</code> specifies that
the indirect execution set contains <a href="chap10.html#VkPipeline">VkPipeline</a> objects.</p>
</li>
<li>
<p><code>VK_INDIRECT_EXECUTION_SET_INFO_TYPE_SHADER_OBJECTS_EXT</code> specifies
that the indirect execution set contains <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> objects.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkIndirectExecutionSetInfoEXT</code> union is defined as:</p>
</div>
<div id="VkIndirectExecutionSetInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">union</span> <span class="n">VkIndirectExecutionSetInfoEXT</span> <span class="p">{</span>
    <span class="k">const</span> <span class="n">VkIndirectExecutionSetPipelineInfoEXT</span><span class="o">*</span>    <span class="n">pPipelineInfo</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkIndirectExecutionSetShaderInfoEXT</span><span class="o">*</span>      <span class="n">pShaderInfo</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkIndirectExecutionSetInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pPipelineInfo</code> is a pointer to a
<a href="chap29.html#VkIndirectExecutionSetPipelineInfoEXT">VkIndirectExecutionSetPipelineInfoEXT</a> struct containing pipeline
layout information for the set.</p>
</li>
<li>
<p><code>pShaderInfo</code> is a pointer to a
<a href="chap29.html#VkIndirectExecutionSetShaderInfoEXT">VkIndirectExecutionSetShaderInfoEXT</a> struct containing shader
object layout information for the set.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkIndirectExecutionSetPipelineInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkIndirectExecutionSetPipelineInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkIndirectExecutionSetPipelineInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkPipeline</span>         <span class="n">initialPipeline</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">maxPipelineCount</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkIndirectExecutionSetPipelineInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>initialPipeline</code> is the initial pipeline for the set.
This pipeline will be automatically added to the set at index <code>0</code>.</p>
</li>
<li>
<p><code>maxPipelineCount</code> is the maximum number of pipelines stored in the
set.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The characteristics of <code>initialPipeline</code> will be used to validate all
pipelines added to the set even if they are removed from the set or
destroyed.</p>
</div>
<div class="paragraph">
<p>When an Indirect Execution Set created with pipelines is used,
<code>initialPipeline</code> constitutes the initial shader state.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectExecutionSetPipelineInfoEXT-supportedIndirectCommandsShaderStagesPipelineBinding-11015" href="chap29.html#VUID-VkIndirectExecutionSetPipelineInfoEXT-supportedIndirectCommandsShaderStagesPipelineBinding-11015"></a> <span class="vuid">VUID-VkIndirectExecutionSetPipelineInfoEXT-supportedIndirectCommandsShaderStagesPipelineBinding-11015</span><br>

If <a href="chap40.html#limits-supportedIndirectCommandsShaderStagesPipelineBinding"></a><a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>supportedIndirectCommandsShaderStagesPipelineBinding</code>
does not contain <code>VK_SHADER_STAGE_COMPUTE_BIT</code>, the
<code>VkPipelineBindPoint</code> of <code>initialPipeline</code> <strong class="purple">must</strong> not be
<code>VK_PIPELINE_BIND_POINT_COMPUTE</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetPipelineInfoEXT-supportedIndirectCommandsShaderStagesPipelineBinding-11016" href="chap29.html#VUID-VkIndirectExecutionSetPipelineInfoEXT-supportedIndirectCommandsShaderStagesPipelineBinding-11016"></a> <span class="vuid">VUID-VkIndirectExecutionSetPipelineInfoEXT-supportedIndirectCommandsShaderStagesPipelineBinding-11016</span><br>

If <a href="chap40.html#limits-supportedIndirectCommandsShaderStagesPipelineBinding"></a><a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>supportedIndirectCommandsShaderStagesPipelineBinding</code>
does not contain <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, the
<code>VkPipelineBindPoint</code> of <code>initialPipeline</code> <strong class="purple">must</strong> not be
<code>VK_PIPELINE_BIND_POINT_GRAPHICS</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetPipelineInfoEXT-supportedIndirectCommandsShaderStagesPipelineBinding-11017" href="chap29.html#VUID-VkIndirectExecutionSetPipelineInfoEXT-supportedIndirectCommandsShaderStagesPipelineBinding-11017"></a> <span class="vuid">VUID-VkIndirectExecutionSetPipelineInfoEXT-supportedIndirectCommandsShaderStagesPipelineBinding-11017</span><br>

If <a href="chap40.html#limits-supportedIndirectCommandsShaderStagesPipelineBinding"></a><a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>supportedIndirectCommandsShaderStagesPipelineBinding</code>
does not contain ray tracing stages, the <code>VkPipelineBindPoint</code> of
<code>initialPipeline</code> <strong class="purple">must</strong> not be
<code>VK_PIPELINE_BIND_POINT_RAY_TRACING_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetPipelineInfoEXT-maxPipelineCount-11018" href="chap29.html#VUID-VkIndirectExecutionSetPipelineInfoEXT-maxPipelineCount-11018"></a> <span class="vuid">VUID-VkIndirectExecutionSetPipelineInfoEXT-maxPipelineCount-11018</span><br>

<code>maxPipelineCount</code> <strong class="purple">must</strong> be between <code>1</code> and
<code>VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</code>::<code>maxIndirectPipelineCount</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetPipelineInfoEXT-initialPipeline-11019" href="chap29.html#VUID-VkIndirectExecutionSetPipelineInfoEXT-initialPipeline-11019"></a> <span class="vuid">VUID-VkIndirectExecutionSetPipelineInfoEXT-initialPipeline-11019</span><br>

<code>initialPipeline</code> <strong class="purple">must</strong> not use descriptors of type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetPipelineInfoEXT-initialPipeline-11153" href="chap29.html#VUID-VkIndirectExecutionSetPipelineInfoEXT-initialPipeline-11153"></a> <span class="vuid">VUID-VkIndirectExecutionSetPipelineInfoEXT-initialPipeline-11153</span><br>

<code>initialPipeline</code> <strong class="purple">must</strong> have been created with
<code>VK_PIPELINE_CREATE_2_INDIRECT_BINDABLE_BIT_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectExecutionSetPipelineInfoEXT-sType-sType" href="chap29.html#VUID-VkIndirectExecutionSetPipelineInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkIndirectExecutionSetPipelineInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_INDIRECT_EXECUTION_SET_PIPELINE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetPipelineInfoEXT-initialPipeline-parameter" href="chap29.html#VUID-VkIndirectExecutionSetPipelineInfoEXT-initialPipeline-parameter"></a> <span class="vuid">VUID-VkIndirectExecutionSetPipelineInfoEXT-initialPipeline-parameter</span><br>
 <code>initialPipeline</code> <strong class="purple">must</strong> be a valid <a href="chap10.html#VkPipeline">VkPipeline</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkIndirectExecutionSetShaderInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkIndirectExecutionSetShaderInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkIndirectExecutionSetShaderInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                                     <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                         <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                                            <span class="n">shaderCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkShaderEXT</span><span class="o">*</span>                                  <span class="n">pInitialShaders</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkIndirectExecutionSetShaderLayoutInfoEXT</span><span class="o">*</span>    <span class="n">pSetLayoutInfos</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                                            <span class="n">maxShaderCount</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                                            <span class="n">pushConstantRangeCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkPushConstantRange</span><span class="o">*</span>                          <span class="n">pPushConstantRanges</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkIndirectExecutionSetShaderInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>shaderCount</code> is the number of members in the <code>pInitialShaders</code>
and <code>pSetLayoutInfos</code> arrays.</p>
</li>
<li>
<p><code>pInitialShaders</code> is a pointer to an array containing a
<a href="chap9.html#VkShaderEXT">VkShaderEXT</a> object for each shader stage that will be used in the
set.
These shaders will be automatically added to the set beginning at index
<code>0</code>.</p>
</li>
<li>
<p><code>pSetLayoutInfos</code> is a pointer to an array containing a
<a href="chap29.html#VkIndirectExecutionSetShaderLayoutInfoEXT">VkIndirectExecutionSetShaderLayoutInfoEXT</a> used by each
corresponding <code>pInitialShaders</code> shader stage in the set.</p>
</li>
<li>
<p><code>maxShaderCount</code> is the maximum number of shader objects stored in
the set.</p>
</li>
<li>
<p><code>pushConstantRangeCount</code> is the number of members in the
<code>pPushConstantRanges</code> array.</p>
</li>
<li>
<p><code>pPushConstantRanges</code> is a pointer to the array of
<a href="chap14.html#VkPushConstantRange">VkPushConstantRange</a> ranges used by all shaders in the set.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The characteristics of <code>pInitialShaders</code> will be used to validate all
shaders added to the set even if they are removed from the set or destroyed.</p>
</div>
<div class="paragraph">
<p>When an Indirect Execution Set created with shader objects is used,
<code>pInitialShaders</code> constitutes the initial shader state.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderInfoEXT-pInitialShaders-11020" href="chap29.html#VUID-VkIndirectExecutionSetShaderInfoEXT-pInitialShaders-11020"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderInfoEXT-pInitialShaders-11020</span><br>

All members of <code>pInitialShaders</code> <strong class="purple">must</strong> have a <code>stage</code> supported
by <a href="chap40.html#limits-supportedIndirectCommandsShaderStagesShaderBinding"></a><a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>supportedIndirectCommandsShaderStagesShaderBinding</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderInfoEXT-maxShaderCount-11021" href="chap29.html#VUID-VkIndirectExecutionSetShaderInfoEXT-maxShaderCount-11021"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderInfoEXT-maxShaderCount-11021</span><br>

<code>maxShaderCount</code> <strong class="purple">must</strong> not be zero</p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderInfoEXT-maxShaderCount-11022" href="chap29.html#VUID-VkIndirectExecutionSetShaderInfoEXT-maxShaderCount-11022"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderInfoEXT-maxShaderCount-11022</span><br>

<code>maxShaderCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</code>::<code>maxIndirectShaderObjectCount</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderInfoEXT-maxShaderCount-11036" href="chap29.html#VUID-VkIndirectExecutionSetShaderInfoEXT-maxShaderCount-11036"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderInfoEXT-maxShaderCount-11036</span><br>

<code>maxShaderCount</code> <strong class="purple">must</strong> be greater than or equal to <code>shaderCount</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderInfoEXT-stage-11023" href="chap29.html#VUID-VkIndirectExecutionSetShaderInfoEXT-stage-11023"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderInfoEXT-stage-11023</span><br>

The <code>stage</code> of each element in the <code>pInitialShaders</code> array <strong class="purple">must</strong>
be unique</p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderInfoEXT-pInitialShaders-11154" href="chap29.html#VUID-VkIndirectExecutionSetShaderInfoEXT-pInitialShaders-11154"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderInfoEXT-pInitialShaders-11154</span><br>

Each member of <code>pInitialShaders</code> <strong class="purple">must</strong> have been created with
<code>VK_SHADER_CREATE_INDIRECT_BINDABLE_BIT_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderInfoEXT-sType-sType" href="chap29.html#VUID-VkIndirectExecutionSetShaderInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_INDIRECT_EXECUTION_SET_SHADER_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderInfoEXT-pInitialShaders-parameter" href="chap29.html#VUID-VkIndirectExecutionSetShaderInfoEXT-pInitialShaders-parameter"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderInfoEXT-pInitialShaders-parameter</span><br>
 <code>pInitialShaders</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>shaderCount</code> valid <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> handles</p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderInfoEXT-pSetLayoutInfos-parameter" href="chap29.html#VUID-VkIndirectExecutionSetShaderInfoEXT-pSetLayoutInfos-parameter"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderInfoEXT-pSetLayoutInfos-parameter</span><br>
 If <code>pSetLayoutInfos</code> is not <code>NULL</code>, <code>pSetLayoutInfos</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>shaderCount</code> valid <a href="chap29.html#VkIndirectExecutionSetShaderLayoutInfoEXT">VkIndirectExecutionSetShaderLayoutInfoEXT</a> structures</p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderInfoEXT-pPushConstantRanges-parameter" href="chap29.html#VUID-VkIndirectExecutionSetShaderInfoEXT-pPushConstantRanges-parameter"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderInfoEXT-pPushConstantRanges-parameter</span><br>
 If <code>pushConstantRangeCount</code> is not <code>0</code>, <code>pPushConstantRanges</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pushConstantRangeCount</code> valid <a href="chap14.html#VkPushConstantRange">VkPushConstantRange</a> structures</p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderInfoEXT-shaderCount-arraylength" href="chap29.html#VUID-VkIndirectExecutionSetShaderInfoEXT-shaderCount-arraylength"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderInfoEXT-shaderCount-arraylength</span><br>
 <code>shaderCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkIndirectExecutionSetShaderLayoutInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkIndirectExecutionSetShaderLayoutInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkIndirectExecutionSetShaderLayoutInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                 <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                     <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                        <span class="n">setLayoutCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkDescriptorSetLayout</span><span class="o">*</span>    <span class="n">pSetLayouts</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkIndirectExecutionSetShaderLayoutInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>setLayoutCount</code> is the number of members in the <code>pSetLayouts</code>
array</p>
</li>
<li>
<p><code>pSetLayouts</code> is a pointer to an array containing
<a href="chap14.html#VkDescriptorSetLayout">VkDescriptorSetLayout</a> objects used by the shader stage.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderLayoutInfoEXT-pSetLayouts-11024" href="chap29.html#VUID-VkIndirectExecutionSetShaderLayoutInfoEXT-pSetLayouts-11024"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderLayoutInfoEXT-pSetLayouts-11024</span><br>

All members of <code>pSetLayouts</code> <strong class="purple">must</strong> not contain descriptors of type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderLayoutInfoEXT-sType-sType" href="chap29.html#VUID-VkIndirectExecutionSetShaderLayoutInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderLayoutInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_INDIRECT_EXECUTION_SET_SHADER_LAYOUT_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkIndirectExecutionSetShaderLayoutInfoEXT-pSetLayouts-parameter" href="chap29.html#VUID-VkIndirectExecutionSetShaderLayoutInfoEXT-pSetLayouts-parameter"></a> <span class="vuid">VUID-VkIndirectExecutionSetShaderLayoutInfoEXT-pSetLayouts-parameter</span><br>
 If <code>setLayoutCount</code> is not <code>0</code>, <code>pSetLayouts</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>setLayoutCount</code> valid or <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> <a href="chap14.html#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handles</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Destroy an Indirect Execution Set by calling:</p>
</div>
<div id="vkDestroyIndirectExecutionSetEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="kt">void</span> <span class="nf">vkDestroyIndirectExecutionSetEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkIndirectExecutionSetEXT</span>                   <span class="n">indirectExecutionSet</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the indirect execution set.</p>
</li>
<li>
<p><code>indirectExecutionSet</code> is the indirect execution set to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyIndirectExecutionSetEXT-indirectExecutionSet-11025" href="chap29.html#VUID-vkDestroyIndirectExecutionSetEXT-indirectExecutionSet-11025"></a> <span class="vuid">VUID-vkDestroyIndirectExecutionSetEXT-indirectExecutionSet-11025</span><br>

All submitted commands that refer to <code>indirectExecutionSet</code> <strong class="purple">must</strong>
have completed execution</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyIndirectExecutionSetEXT-device-parameter" href="chap29.html#VUID-vkDestroyIndirectExecutionSetEXT-device-parameter"></a> <span class="vuid">VUID-vkDestroyIndirectExecutionSetEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyIndirectExecutionSetEXT-indirectExecutionSet-parameter" href="chap29.html#VUID-vkDestroyIndirectExecutionSetEXT-indirectExecutionSet-parameter"></a> <span class="vuid">VUID-vkDestroyIndirectExecutionSetEXT-indirectExecutionSet-parameter</span><br>
 If <code>indirectExecutionSet</code> is not <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>indirectExecutionSet</code> <strong class="purple">must</strong> be a valid <a href="chap29.html#VkIndirectExecutionSetEXT">VkIndirectExecutionSetEXT</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyIndirectExecutionSetEXT-pAllocator-parameter" href="chap29.html#VUID-vkDestroyIndirectExecutionSetEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyIndirectExecutionSetEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyIndirectExecutionSetEXT-indirectExecutionSet-parent" href="chap29.html#VUID-vkDestroyIndirectExecutionSetEXT-indirectExecutionSet-parent"></a> <span class="vuid">VUID-vkDestroyIndirectExecutionSetEXT-indirectExecutionSet-parent</span><br>
 If <code>indirectExecutionSet</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>indirectExecutionSet</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkWriteIndirectExecutionSetPipelineEXT</code> struct is defined as:</p>
</div>
<div id="VkWriteIndirectExecutionSetPipelineEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkWriteIndirectExecutionSetPipelineEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">index</span><span class="p">;</span>
    <span class="n">VkPipeline</span>         <span class="n">pipeline</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkWriteIndirectExecutionSetPipelineEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>index</code> is the element of the set to update</p>
</li>
<li>
<p><code>pipeline</code> is the pipeline to store in the indirect execution set</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteIndirectExecutionSetPipelineEXT-index-11026" href="chap29.html#VUID-VkWriteIndirectExecutionSetPipelineEXT-index-11026"></a> <span class="vuid">VUID-VkWriteIndirectExecutionSetPipelineEXT-index-11026</span><br>

<code>index</code> <strong class="purple">must</strong> be less than the value of
<code>VkIndirectExecutionSetPipelineInfoEXT</code>::<code>maxPipelineCount</code> used
to create the set</p>
</li>
<li>
<p><a id="VUID-VkWriteIndirectExecutionSetPipelineEXT-pipeline-11027" href="chap29.html#VUID-VkWriteIndirectExecutionSetPipelineEXT-pipeline-11027"></a> <span class="vuid">VUID-VkWriteIndirectExecutionSetPipelineEXT-pipeline-11027</span><br>

<code>pipeline</code> <strong class="purple">must</strong> have been created with
<code>VK_PIPELINE_CREATE_2_INDIRECT_BINDABLE_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkWriteIndirectExecutionSetPipelineEXT-pipeline-11028" href="chap29.html#VUID-VkWriteIndirectExecutionSetPipelineEXT-pipeline-11028"></a> <span class="vuid">VUID-VkWriteIndirectExecutionSetPipelineEXT-pipeline-11028</span><br>

The descriptor layout info used to create <code>pipeline</code> <strong class="purple">must</strong> be
<a href="chap14.html#descriptorsets-compatibility">compatible</a> with the descriptor layout
info used to create the indirect execution set</p>
</li>
<li>
<p><a id="VUID-VkWriteIndirectExecutionSetPipelineEXT-index-11029" href="chap29.html#VUID-VkWriteIndirectExecutionSetPipelineEXT-index-11029"></a> <span class="vuid">VUID-VkWriteIndirectExecutionSetPipelineEXT-index-11029</span><br>

<code>index</code> <strong class="purple">must</strong> not be referenced by submitted command buffers</p>
</li>
<li>
<p><a id="VUID-VkWriteIndirectExecutionSetPipelineEXT-pipeline-11030" href="chap29.html#VUID-VkWriteIndirectExecutionSetPipelineEXT-pipeline-11030"></a> <span class="vuid">VUID-VkWriteIndirectExecutionSetPipelineEXT-pipeline-11030</span><br>

The shader stages contained in <code>pipeline</code> <strong class="purple">must</strong> be supported by
<a href="chap40.html#limits-supportedIndirectCommandsShaderStagesPipelineBinding"></a><a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>supportedIndirectCommandsShaderStagesPipelineBinding</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteIndirectExecutionSetPipelineEXT-sType-sType" href="chap29.html#VUID-VkWriteIndirectExecutionSetPipelineEXT-sType-sType"></a> <span class="vuid">VUID-VkWriteIndirectExecutionSetPipelineEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_WRITE_INDIRECT_EXECUTION_SET_PIPELINE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkWriteIndirectExecutionSetPipelineEXT-pipeline-parameter" href="chap29.html#VUID-VkWriteIndirectExecutionSetPipelineEXT-pipeline-parameter"></a> <span class="vuid">VUID-VkWriteIndirectExecutionSetPipelineEXT-pipeline-parameter</span><br>
 <code>pipeline</code> <strong class="purple">must</strong> be a valid <a href="chap10.html#VkPipeline">VkPipeline</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkWriteIndirectExecutionSetShaderEXT</code> struct is defined as:</p>
</div>
<div id="VkWriteIndirectExecutionSetShaderEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands with VK_EXT_shader_object</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkWriteIndirectExecutionSetShaderEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">index</span><span class="p">;</span>
    <span class="n">VkShaderEXT</span>        <span class="n">shader</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkWriteIndirectExecutionSetShaderEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>index</code> is the element of the set to update</p>
</li>
<li>
<p><code>shader</code> is the shader to store in the indirect execution set</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Shaders need not be stored in the Indirect Execution Set according to their
stage.
The only restriction for shader indices within a set is that the value of
the index <strong class="purple">must</strong> be less than the maximum number of shaders in the set.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteIndirectExecutionSetShaderEXT-index-11031" href="chap29.html#VUID-VkWriteIndirectExecutionSetShaderEXT-index-11031"></a> <span class="vuid">VUID-VkWriteIndirectExecutionSetShaderEXT-index-11031</span><br>

<code>index</code> <strong class="purple">must</strong> be less than
<code>VkIndirectExecutionSetShaderInfoEXT</code>::<code>maxShaderCount</code></p>
</li>
<li>
<p><a id="VUID-VkWriteIndirectExecutionSetShaderEXT-shader-11032" href="chap29.html#VUID-VkWriteIndirectExecutionSetShaderEXT-shader-11032"></a> <span class="vuid">VUID-VkWriteIndirectExecutionSetShaderEXT-shader-11032</span><br>

<code>shader</code> <strong class="purple">must</strong> have been created with
<code>VK_SHADER_CREATE_INDIRECT_BINDABLE_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkWriteIndirectExecutionSetShaderEXT-pInitialShaders-11033" href="chap29.html#VUID-VkWriteIndirectExecutionSetShaderEXT-pInitialShaders-11033"></a> <span class="vuid">VUID-VkWriteIndirectExecutionSetShaderEXT-pInitialShaders-11033</span><br>

A shader created with the same <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> <strong class="purple">must</strong> have
been passed in the
<code>VkIndirectExecutionSetShaderInfoEXT</code>::<code>pInitialShaders</code> array</p>
</li>
<li>
<p><a id="VUID-VkWriteIndirectExecutionSetShaderEXT-index-11034" href="chap29.html#VUID-VkWriteIndirectExecutionSetShaderEXT-index-11034"></a> <span class="vuid">VUID-VkWriteIndirectExecutionSetShaderEXT-index-11034</span><br>

<code>index</code> <strong class="purple">must</strong> not be in use by submitted command buffers</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteIndirectExecutionSetShaderEXT-sType-sType" href="chap29.html#VUID-VkWriteIndirectExecutionSetShaderEXT-sType-sType"></a> <span class="vuid">VUID-VkWriteIndirectExecutionSetShaderEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_WRITE_INDIRECT_EXECUTION_SET_SHADER_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkWriteIndirectExecutionSetShaderEXT-shader-parameter" href="chap29.html#VUID-VkWriteIndirectExecutionSetShaderEXT-shader-parameter"></a> <span class="vuid">VUID-VkWriteIndirectExecutionSetShaderEXT-shader-parameter</span><br>
 <code>shader</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Pipeline elements in an Indirect Execution Set can be updated by calling:</p>
</div>
<div id="vkUpdateIndirectExecutionSetPipelineEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="kt">void</span> <span class="nf">vkUpdateIndirectExecutionSetPipelineEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkIndirectExecutionSetEXT</span>                   <span class="n">indirectExecutionSet</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">executionSetWriteCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkWriteIndirectExecutionSetPipelineEXT</span><span class="o">*</span> <span class="n">pExecutionSetWrites</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the indirect execution set.</p>
</li>
<li>
<p><code>indirectExecutionSet</code> is the indirect execution set being updated.</p>
</li>
<li>
<p><code>executionSetWriteCount</code> is the number of elements in the
<code>pExecutionSetWrites</code> array.</p>
</li>
<li>
<p><code>pExecutionSetWrites</code> is a pointer to an array of
<a href="chap29.html#VkWriteIndirectExecutionSetPipelineEXT">VkWriteIndirectExecutionSetPipelineEXT</a> structures describing the
elements to update.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-indirectExecutionSet-11035" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-indirectExecutionSet-11035"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-indirectExecutionSet-11035</span><br>

<code>indirectExecutionSet</code> <strong class="purple">must</strong> have been created with type
<code>VK_INDIRECT_EXECUTION_SET_INFO_TYPE_PIPELINES_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-executionSetWriteCount-11037" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-executionSetWriteCount-11037"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-executionSetWriteCount-11037</span><br>

<code>executionSetWriteCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkIndirectExecutionSetPipelineInfoEXT</code>::<code>maxPipelineCount</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-pExecutionSetWrites-11042" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-pExecutionSetWrites-11042"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-pExecutionSetWrites-11042</span><br>

Each element in the <code>pExecutionSetWrites</code> array must have a unique
<code>VkWriteIndirectExecutionSetPipelineEXT</code>::<code>index</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-None-11038" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-None-11038"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-None-11038</span><br>

Each member of the Indirect Execution Set referenced by the update
command <strong class="purple">must</strong> not be in use by the device</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-None-11039" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-None-11039"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-None-11039</span><br>

The layout of each pipeline in <code>pExecutionSetWrites</code> <strong class="purple">must</strong> be
<a href="chap14.html#descriptorsets-compatibility">compatible</a> with the
<code>initialPipeline</code> used to create the Indirect Execution Set</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-None-11040" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-None-11040"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-None-11040</span><br>

Each pipeline in the Indirect Execution Set <strong class="purple">must</strong> have identically
defined static and dynamic state values to the <code>initialPipeline</code>
used to create the Indirect Execution Set</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11147" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11147"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11147</span><br>

Each pipeline in the Indirect Execution Set <strong class="purple">must</strong> have identically
defined <a href="chap15.html#interfaces-fragmentoutput">fragment outputs interface</a> to the
<code>initialPipeline</code> used to create the Indirect Execution Set</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11152" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11152"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11152</span><br>

Each pipeline in the Indirect Execution Set <strong class="purple">must</strong> match the
<code>initialPipeline</code> used to create the Indirect Execution Set in its
included shader stages</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11098" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11098"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11098</span><br>

Each pipeline in the Indirect Execution Set <strong class="purple">must</strong> match the
<code>initialPipeline</code> used to create the Indirect Execution Set in its
use of <code>FragDepth</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11086" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11086"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11086</span><br>

Each pipeline in the Indirect Execution Set <strong class="purple">must</strong> match the
<code>initialPipeline</code> used to create the Indirect Execution Set in its
use of <code>SampleMask</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11085" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11085"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-initialPipeline-11085</span><br>

Each pipeline in the Indirect Execution Set <strong class="purple">must</strong> match the
<code>initialPipeline</code> used to create the Indirect Execution Set in its
use of <code>StencilExportEXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-device-parameter" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-device-parameter"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-indirectExecutionSet-parameter" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-indirectExecutionSet-parameter"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-indirectExecutionSet-parameter</span><br>
 <code>indirectExecutionSet</code> <strong class="purple">must</strong> be a valid <a href="chap29.html#VkIndirectExecutionSetEXT">VkIndirectExecutionSetEXT</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-pExecutionSetWrites-parameter" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-pExecutionSetWrites-parameter"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-pExecutionSetWrites-parameter</span><br>
 <code>pExecutionSetWrites</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>executionSetWriteCount</code> valid <a href="chap29.html#VkWriteIndirectExecutionSetPipelineEXT">VkWriteIndirectExecutionSetPipelineEXT</a> structures</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-executionSetWriteCount-arraylength" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-executionSetWriteCount-arraylength"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-executionSetWriteCount-arraylength</span><br>
 <code>executionSetWriteCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetPipelineEXT-indirectExecutionSet-parent" href="chap29.html#VUID-vkUpdateIndirectExecutionSetPipelineEXT-indirectExecutionSet-parent"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetPipelineEXT-indirectExecutionSet-parent</span><br>
 <code>indirectExecutionSet</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>indirectExecutionSet</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Shader object elements in an Indirect Execution Set can be updated by
calling:</p>
</div>
<div id="vkUpdateIndirectExecutionSetShaderEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="kt">void</span> <span class="nf">vkUpdateIndirectExecutionSetShaderEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkIndirectExecutionSetEXT</span>                   <span class="n">indirectExecutionSet</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">executionSetWriteCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkWriteIndirectExecutionSetShaderEXT</span><span class="o">*</span> <span class="n">pExecutionSetWrites</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the indirect execution set.</p>
</li>
<li>
<p><code>indirectExecutionSet</code> is the indirect execution set being updated.</p>
</li>
<li>
<p><code>executionSetWriteCount</code> is the number of elements in the
<code>pExecutionSetWrites</code> array.</p>
</li>
<li>
<p><code>pExecutionSetWrites</code> is a pointer to an array of
<a href="chap29.html#VkWriteIndirectExecutionSetShaderEXT">VkWriteIndirectExecutionSetShaderEXT</a> structures describing the
elements to update.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetShaderEXT-indirectExecutionSet-11041" href="chap29.html#VUID-vkUpdateIndirectExecutionSetShaderEXT-indirectExecutionSet-11041"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetShaderEXT-indirectExecutionSet-11041</span><br>

<code>indirectExecutionSet</code> <strong class="purple">must</strong> have been created with type
<code>VK_INDIRECT_EXECUTION_SET_INFO_TYPE_SHADER_OBJECTS_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetShaderEXT-pExecutionSetWrites-11043" href="chap29.html#VUID-vkUpdateIndirectExecutionSetShaderEXT-pExecutionSetWrites-11043"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetShaderEXT-pExecutionSetWrites-11043</span><br>

Each element in the <code>pExecutionSetWrites</code> array must have a unique
<code>VkWriteIndirectExecutionSetShaderEXT</code>::<code>index</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetShaderEXT-None-11044" href="chap29.html#VUID-vkUpdateIndirectExecutionSetShaderEXT-None-11044"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetShaderEXT-None-11044</span><br>

Each member of the Indirect Execution Set referenced by the update
command <strong class="purple">must</strong> not be in use by the device</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetShaderEXT-pExecutionSetWrites-11140" href="chap29.html#VUID-vkUpdateIndirectExecutionSetShaderEXT-pExecutionSetWrites-11140"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetShaderEXT-pExecutionSetWrites-11140</span><br>

The descriptor layout of each shader in <code>pExecutionSetWrites</code> <strong class="purple">must</strong>
be <a href="chap14.html#descriptorsets-compatibility">compatible</a> with the initial layout
info used to create the Indirect Execution Set</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetShaderEXT-None-11148" href="chap29.html#VUID-vkUpdateIndirectExecutionSetShaderEXT-None-11148"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetShaderEXT-None-11148</span><br>

Each fragment shader element in the Indirect Execution Set <strong class="purple">must</strong> have
identically defined <a href="chap15.html#interfaces-fragmentoutput">fragment outputs
interface</a> to the initial shader state used to create the Indirect
Execution Set</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetShaderEXT-FragDepth-11054" href="chap29.html#VUID-vkUpdateIndirectExecutionSetShaderEXT-FragDepth-11054"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetShaderEXT-FragDepth-11054</span><br>

Each fragment shader element in the Indirect Execution Set <strong class="purple">must</strong> match
the initial shader state used to create the Indirect Execution Set in
its use of <code>FragDepth</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetShaderEXT-SampleMask-11050" href="chap29.html#VUID-vkUpdateIndirectExecutionSetShaderEXT-SampleMask-11050"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetShaderEXT-SampleMask-11050</span><br>

Each fragment shader element in the Indirect Execution Set <strong class="purple">must</strong> match
the initial shader state used to create the Indirect Execution Set in
its use of <code>SampleMask</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetShaderEXT-StencilExportEXT-11003" href="chap29.html#VUID-vkUpdateIndirectExecutionSetShaderEXT-StencilExportEXT-11003"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetShaderEXT-StencilExportEXT-11003</span><br>

Each fragment shader element in the Indirect Execution Set <strong class="purple">must</strong> match
the initial shader state used to create the Indirect Execution Set in
its use of <code>StencilExportEXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetShaderEXT-device-parameter" href="chap29.html#VUID-vkUpdateIndirectExecutionSetShaderEXT-device-parameter"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetShaderEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetShaderEXT-indirectExecutionSet-parameter" href="chap29.html#VUID-vkUpdateIndirectExecutionSetShaderEXT-indirectExecutionSet-parameter"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetShaderEXT-indirectExecutionSet-parameter</span><br>
 <code>indirectExecutionSet</code> <strong class="purple">must</strong> be a valid <a href="chap29.html#VkIndirectExecutionSetEXT">VkIndirectExecutionSetEXT</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetShaderEXT-pExecutionSetWrites-parameter" href="chap29.html#VUID-vkUpdateIndirectExecutionSetShaderEXT-pExecutionSetWrites-parameter"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetShaderEXT-pExecutionSetWrites-parameter</span><br>
 <code>pExecutionSetWrites</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>executionSetWriteCount</code> valid <a href="chap29.html#VkWriteIndirectExecutionSetShaderEXT">VkWriteIndirectExecutionSetShaderEXT</a> structures</p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetShaderEXT-executionSetWriteCount-arraylength" href="chap29.html#VUID-vkUpdateIndirectExecutionSetShaderEXT-executionSetWriteCount-arraylength"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetShaderEXT-executionSetWriteCount-arraylength</span><br>
 <code>executionSetWriteCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateIndirectExecutionSetShaderEXT-indirectExecutionSet-parent" href="chap29.html#VUID-vkUpdateIndirectExecutionSetShaderEXT-indirectExecutionSet-parent"></a> <span class="vuid">VUID-vkUpdateIndirectExecutionSetShaderEXT-indirectExecutionSet-parent</span><br>
 <code>indirectExecutionSet</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>indirectExecutionSet</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>It is legal to update an Indirect Execution Set that is in flight as long as
the element indices in <code>pExecutionSetWrites</code> are not in use.
Any change to an indirect execution set requires recalculating memory
requirements by calling <a href="chap29.html#vkGetGeneratedCommandsMemoryRequirementsEXT">vkGetGeneratedCommandsMemoryRequirementsEXT</a>
for commands that use that modified state.
Commands that are in flight or those not using updated elements require no
changes.</p>
</div>
<div class="paragraph">
<p>The lifetimes of pipelines
and shader objects
contained in a set <strong class="purple">must</strong> match or exceed the lifetime of the set.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>With <code><a href="chap48.html#VK_EXT_device_generated_commands">VK_EXT_device_generated_commands</a></code>, the actual generation of
commands as well as their execution on the device is handled as single
action with:</p>
</div>
<div id="vkCmdExecuteGeneratedCommandsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="kt">void</span> <span class="nf">vkCmdExecuteGeneratedCommandsEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkBool32</span>                                    <span class="n">isPreprocessed</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkGeneratedCommandsInfoEXT</span><span class="o">*</span>           <span class="n">pGeneratedCommandsInfo</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>isPreprocessed</code> represents whether the input data has already been
preprocessed on the device.
If it is <code>VK_FALSE</code> this command will implicitly trigger the
preprocessing step, otherwise not.</p>
</li>
<li>
<p><code>pGeneratedCommandsInfo</code> is a pointer to a
<a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a> structure containing parameters
affecting the generation of commands.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>VK_INDIRECT_COMMANDS_LAYOUT_USAGE_UNORDERED_SEQUENCES_BIT_EXT</code>
flag was used to create the
<a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a>::<code>indirectCommandsLayout</code> then the
execution of sequences through this command <strong class="purple">may</strong> use implementation-defined
ordering which is not guaranteed to be coherent using the same input data.
It does not affect the order of token processing within a sequence.
This is the implied ordering with
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DISPATCH_EXT</code>.</p>
</div>
<div class="paragraph">
<p>After a call to <code>vkCmdExecuteGeneratedCommandsEXT</code>, command buffer state
will become undefined according to the tokens executed.
This table specifies the relationship between tokens used and state
invalidation.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 41. Indirect Execution State Invalidation</caption>
<colgroup>
<col style="width: 67%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Common Tokens</strong></th>
<th class="tableblock halign-left valign-top"><strong>States Invalidated</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bound shaders and pipelines</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Push constant data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Push constant data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_INDEX_BUFFER_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Index buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_VERTEX_BUFFER_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vertex buffer</p></td>
</tr>
</tbody>
</table>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-magFilter-04553" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-magFilter-04553"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-magFilter-04553</span><br>

If a <a href="chap13.html#VkSampler">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="chap12.html#VkImageView">VkImageView</a> as a result of this command, then the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-mipmapMode-04770" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-mipmapMode-04770"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-mipmapMode-04770</span><br>

If a <a href="chap13.html#VkSampler">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="chap12.html#VkImageView">VkImageView</a> as a result of this command, then the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-unnormalizedCoordinates-09635" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-unnormalizedCoordinates-09635"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-unnormalizedCoordinates-09635</span><br>

If a <a href="chap13.html#VkSampler">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="chap12.html#VkImageView">VkImageView</a> as a result of this
command, then the image view’s <code>levelCount</code> and <code>layerCount</code>
<strong class="purple">must</strong> be 1</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-unnormalizedCoordinates-09636" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-unnormalizedCoordinates-09636"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-unnormalizedCoordinates-09636</span><br>

If a <a href="chap13.html#VkSampler">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="chap12.html#VkImageView">VkImageView</a> as a result of this
command, then the image view’s <code>viewType</code> <strong class="purple">must</strong> be
<code>VK_IMAGE_VIEW_TYPE_1D</code> or <code>VK_IMAGE_VIEW_TYPE_2D</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-06479" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-06479"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-06479</span><br>

If a <a href="chap12.html#VkImageView">VkImageView</a> is sampled with
<a href="chap16.html#textures-depth-compare-operation">depth comparison</a>, the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-02691" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-02691"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-02691</span><br>

If a <a href="chap12.html#VkImageView">VkImageView</a> is accessed using atomic operations as a result
of this command, then the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07888" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07888"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07888</span><br>

If a <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s <a href="chap12.html#resources-buffer-view-format-features">format
features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-02692" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-02692"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-02692</span><br>

If a <a href="chap12.html#VkImageView">VkImageView</a> is sampled with <code>VK_FILTER_CUBIC_EXT</code> as a
result of this command, then the image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-02693" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-02693"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-02693</span><br>

If
the <a href="chap48.html#VK_EXT_filter_cubic">VK_EXT_filter_cubic</a> extension is not enabled and
any <a href="chap12.html#VkImageView">VkImageView</a> is sampled with <code>VK_FILTER_CUBIC_EXT</code> as a
result of this command, it <strong class="purple">must</strong> not have a <a href="chap12.html#VkImageViewType">VkImageViewType</a> of
<code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>, or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-filterCubic-02694" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-filterCubic-02694"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-filterCubic-02694</span><br>

Any <a href="chap12.html#VkImageView">VkImageView</a> being sampled with <code>VK_FILTER_CUBIC_EXT</code> as a
result of this command <strong class="purple">must</strong> have a <a href="chap12.html#VkImageViewType">VkImageViewType</a> and format
that supports cubic filtering, as specified by
<a href="chap42.html#VkFilterCubicImageViewImageFormatPropertiesEXT">VkFilterCubicImageViewImageFormatPropertiesEXT</a>::<code>filterCubic</code>
returned by <a href="chap42.html#vkGetPhysicalDeviceImageFormatProperties2KHR">vkGetPhysicalDeviceImageFormatProperties2KHR</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-filterCubicMinmax-02695" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-filterCubicMinmax-02695"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-filterCubicMinmax-02695</span><br>

Any <a href="chap12.html#VkImageView">VkImageView</a> being sampled with <code>VK_FILTER_CUBIC_EXT</code> with
a reduction mode of either <code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> as a result of this command <strong class="purple">must</strong>
have a <a href="chap12.html#VkImageViewType">VkImageViewType</a> and format that supports cubic filtering
together with minmax filtering, as specified by
<a href="chap42.html#VkFilterCubicImageViewImageFormatPropertiesEXT">VkFilterCubicImageViewImageFormatPropertiesEXT</a>::<code>filterCubicMinmax</code>
returned by <a href="chap42.html#vkGetPhysicalDeviceImageFormatProperties2KHR">vkGetPhysicalDeviceImageFormatProperties2KHR</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07027" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07027"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07027</span><br>

For any <a href="chap12.html#VkImageView">VkImageView</a> being written as a storage image where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07028" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07028"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07028</span><br>

For any <a href="chap12.html#VkImageView">VkImageView</a> being read as a storage image where the image
format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07029" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07029"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07029</span><br>

For any <a href="chap12.html#VkBufferView">VkBufferView</a> being written as a storage texel buffer where
the image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the
view’s <a href="chap41.html#VkFormatProperties3">buffer features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07030" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07030"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07030</span><br>

Any <a href="chap12.html#VkBufferView">VkBufferView</a> being read as a storage texel buffer where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code> then the
view’s <a href="chap41.html#VkFormatProperties3">buffer features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08600" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08600"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08600</span><br>

For each set <em>n</em> that is statically used by <a href="chap9.html#shaders-binding">a bound
shader</a>, a descriptor set <strong class="purple">must</strong> have been bound to <em>n</em> at the same
pipeline bind point, with a <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> that is compatible
for set <em>n</em>, with the <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> used to create the current
<a href="chap10.html#VkPipeline">VkPipeline</a>
or the <a href="chap14.html#VkDescriptorSetLayout">VkDescriptorSetLayout</a> array used to create the current
<a href="chap9.html#VkShaderEXT">VkShaderEXT</a>
, as described in <a href="chap14.html#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08601" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08601"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08601</span><br>

For each push constant that is statically used by <a href="chap9.html#shaders-binding">a
bound shader</a>, a push constant value <strong class="purple">must</strong> have been set for the same
pipeline bind point, with a <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> that is compatible
for push constants, with the <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> used to create the
current <a href="chap10.html#VkPipeline">VkPipeline</a>
or the <a href="chap14.html#VkDescriptorSetLayout">VkDescriptorSetLayout</a> array used to create the current
<a href="chap9.html#VkShaderEXT">VkShaderEXT</a>
, as described in <a href="chap14.html#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-10068" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-10068"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-10068</span><br>

For each array of resources that is used by <a href="chap9.html#shaders-binding">a bound
shader</a>, the indices used to access members of the array <strong class="purple">must</strong> be less
than the descriptor count for the identified binding in the descriptor
sets used by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-maintenance4-08602" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-maintenance4-08602"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-maintenance4-08602</span><br>

If the <a href="chap39.html#features-maintenance4"><code>maintenance4</code></a> feature is not
enabled, then for each push constant that is statically used by
<a href="chap9.html#shaders-binding">a bound shader</a>, a push constant value <strong class="purple">must</strong> have
been set for the same pipeline bind point, with a <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a>
that is compatible for push constants, with the <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a>
used to create the current <a href="chap10.html#VkPipeline">VkPipeline</a>
or the <a href="chap14.html#VkDescriptorSetLayout">VkDescriptorSetLayout</a> and <a href="chap14.html#VkPushConstantRange">VkPushConstantRange</a> arrays
used to create the current <a href="chap9.html#VkShaderEXT">VkShaderEXT</a>
, as described in <a href="chap14.html#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08114" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08114"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08114</span><br>

    Descriptors in each bound descriptor set, specified via
    <a href="chap14.html#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a>, <strong class="purple">must</strong> be valid as described by
    <a href="chap14.html#descriptor-validity">descriptor validity</a> if they are statically used
    by
<a href="chap9.html#shaders-binding">a bound shader</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08606" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08606"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08606</span><br>

If the <a href="chap39.html#features-shaderObject"><code>shaderObject</code></a> feature is not
enabled, a
valid pipeline <strong class="purple">must</strong> be bound to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08608" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08608"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08608</span><br>

If a pipeline is bound to the pipeline bind point used by this command,
there
<strong class="purple">must</strong> not have been any calls to dynamic state setting commands for any
state specified statically in the <a href="chap10.html#VkPipeline">VkPipeline</a> object bound to the
pipeline bind point used by this command, since that pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08609" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08609"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08609</span><br>

If the <a href="chap10.html#VkPipeline">VkPipeline</a> object bound to the pipeline bind point used by
this command
or any <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> bound to a stage corresponding to the pipeline
bind point used by this command
accesses a <a href="chap13.html#VkSampler">VkSampler</a> object that uses unnormalized coordinates,
that sampler <strong class="purple">must</strong> not be used to sample from any <a href="chap12.html#VkImage">VkImage</a> with a
<a href="chap12.html#VkImageView">VkImageView</a> of the type <code>VK_IMAGE_VIEW_TYPE_3D</code>,
<code>VK_IMAGE_VIEW_TYPE_CUBE</code>, <code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>,
<code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08610" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08610"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08610</span><br>

If the <a href="chap10.html#VkPipeline">VkPipeline</a> object bound to the pipeline bind point used by
this command
or any <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> bound to a stage corresponding to the pipeline
bind point used by this command
accesses a <a href="chap13.html#VkSampler">VkSampler</a> object that uses unnormalized coordinates,
that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V <code>OpImageSample*</code>
or <code>OpImageSparseSample*</code> instructions with <code>ImplicitLod</code>, <code>Dref</code>
or <code>Proj</code> in their name, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08611" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08611"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08611</span><br>

If the <a href="chap10.html#VkPipeline">VkPipeline</a> object bound to the pipeline bind point used by
this command
or any <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> bound to a stage corresponding to the pipeline
bind point used by this command
accesses a <a href="chap13.html#VkSampler">VkSampler</a> object that uses unnormalized coordinates,
that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V <code>OpImageSample*</code>
or <code>OpImageSparseSample*</code> instructions that includes a LOD bias or any
offset values, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08607" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08607"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08607</span><br>

If the <a href="chap39.html#features-shaderObject"><code>shaderObject</code></a> is enabled, either
a valid pipeline <strong class="purple">must</strong> be bound to the pipeline bind point used by this
command, or a valid combination of valid and <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> shader
objects <strong class="purple">must</strong> be bound to every supported shader stage corresponding to
the pipeline bind point used by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-uniformBuffers-06935" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-uniformBuffers-06935"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-uniformBuffers-06935</span><br>

If any stage of the <a href="chap10.html#VkPipeline">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and the <a href="chap39.html#features-robustBufferAccess"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong class="purple">must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08612" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08612"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08612</span><br>

If the <a href="chap39.html#features-robustBufferAccess"><code>robustBufferAccess</code></a> feature
is not enabled, and any <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it <strong class="purple">must</strong> not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-storageBuffers-06936" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-storageBuffers-06936"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-storageBuffers-06936</span><br>

If any stage of the <a href="chap10.html#VkPipeline">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a storage buffer,
and the <a href="chap39.html#features-robustBufferAccess"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong class="purple">must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08613" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08613"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08613</span><br>

If the <a href="chap39.html#features-robustBufferAccess"><code>robustBufferAccess</code></a> feature
is not enabled, and any <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it <strong class="purple">must</strong> not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-06550" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-06550"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-06550</span><br>

If <a href="chap9.html#shaders-binding">a bound shader</a> accesses a <a href="chap13.html#VkSampler">VkSampler</a> or
<a href="chap12.html#VkImageView">VkImageView</a> object that enables
<a href="chap13.html#samplers-YCbCr-conversion">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong class="purple">must</strong> only be used with <code>OpImageSample*</code> or <code>OpImageSparseSample*</code>
instructions</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-ConstOffset-06551" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-ConstOffset-06551"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-ConstOffset-06551</span><br>

If <a href="chap9.html#shaders-binding">a bound shader</a> accesses a <a href="chap13.html#VkSampler">VkSampler</a> or
<a href="chap12.html#VkImageView">VkImageView</a> object that enables
<a href="chap13.html#samplers-YCbCr-conversion">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong class="purple">must</strong> not use the <code>ConstOffset</code> and <code>Offset</code> operands</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-viewType-07752" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-viewType-07752"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-viewType-07752</span><br>

If a <a href="chap12.html#VkImageView">VkImageView</a> is accessed as a result of this command, then the
image view’s <code>viewType</code> <strong class="purple">must</strong> match the <code>Dim</code> operand of the
<code>OpTypeImage</code> as described in <a href="chap44.html#spirvenv-image-dimensions">Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-format-07753" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-format-07753"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-format-07753</span><br>

If a <a href="chap12.html#VkImageView">VkImageView</a> is accessed as a result of this command, then the
<a href="chap41.html#formats-numericformat">numeric type</a> of the image view’s <code>format</code>
and the <code>Sampled</code> <code>Type</code> operand of the <code>OpTypeImage</code> <strong class="purple">must</strong>
match</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-OpImageWrite-08795" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-OpImageWrite-08795"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-OpImageWrite-08795</span><br>

If a <a href="chap12.html#VkImageView">VkImageView</a>
created with a format other than <code>VK_FORMAT_A8_UNORM_KHR</code>
is accessed using <code>OpImageWrite</code> as a result of this command, then
the <code>Type</code> of the <code>Texel</code> operand of that instruction <strong class="purple">must</strong> have
at least as many components as the image view’s format</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-OpImageWrite-08796" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-OpImageWrite-08796"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-OpImageWrite-08796</span><br>

If a <a href="chap12.html#VkImageView">VkImageView</a> created with the format
<code>VK_FORMAT_A8_UNORM_KHR</code> is accessed using <code>OpImageWrite</code> as a
result of this command, then the <code>Type</code> of the <code>Texel</code> operand of
that instruction <strong class="purple">must</strong> have four components</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-OpImageWrite-04469" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-OpImageWrite-04469"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-OpImageWrite-04469</span><br>

If a <a href="chap12.html#VkBufferView">VkBufferView</a> is accessed using <code>OpImageWrite</code> as a result
of this command, then the <code>Type</code> of the <code>Texel</code> operand of that
instruction <strong class="purple">must</strong> have at least as many components as the buffer view’s
format</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-SampledType-04470" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-SampledType-04470"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-SampledType-04470</span><br>

If a <a href="chap12.html#VkImageView">VkImageView</a> with a <a href="chap41.html#VkFormat">VkFormat</a> that has a 64-bit component
width is accessed as a result of this command, the <code>SampledType</code> of
the <code>OpTypeImage</code> operand of that instruction <strong class="purple">must</strong> have a <code>Width</code>
of 64</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-SampledType-04471" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-SampledType-04471"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-SampledType-04471</span><br>

If a <a href="chap12.html#VkImageView">VkImageView</a> with a <a href="chap41.html#VkFormat">VkFormat</a> that has a component width
less than 64-bit is accessed as a result of this command, the
<code>SampledType</code> of the <code>OpTypeImage</code> operand of that instruction
<strong class="purple">must</strong> have a <code>Width</code> of 32</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-SampledType-04472" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-SampledType-04472"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-SampledType-04472</span><br>

If a <a href="chap12.html#VkBufferView">VkBufferView</a> with a <a href="chap41.html#VkFormat">VkFormat</a> that has a 64-bit
component width is accessed as a result of this command, the
<code>SampledType</code> of the <code>OpTypeImage</code> operand of that instruction
<strong class="purple">must</strong> have a <code>Width</code> of 64</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-SampledType-04473" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-SampledType-04473"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-SampledType-04473</span><br>

If a <a href="chap12.html#VkBufferView">VkBufferView</a> with a <a href="chap41.html#VkFormat">VkFormat</a> that has a component width
less than 64-bit is accessed as a result of this command, the
<code>SampledType</code> of the <code>OpTypeImage</code> operand of that instruction
<strong class="purple">must</strong> have a <code>Width</code> of 32</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-sparseImageInt64Atomics-04474" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-sparseImageInt64Atomics-04474"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-sparseImageInt64Atomics-04474</span><br>

If the <a href="chap39.html#features-sparseImageInt64Atomics"><code>sparseImageInt64Atomics</code></a> feature is not enabled, <a href="chap12.html#VkImage">VkImage</a>
objects created with the <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> flag
<strong class="purple">must</strong> not be accessed by atomic instructions through an <code>OpTypeImage</code>
with a <code>SampledType</code> with a <code>Width</code> of 64 by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-sparseImageInt64Atomics-04475" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-sparseImageInt64Atomics-04475"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-sparseImageInt64Atomics-04475</span><br>

If the <a href="chap39.html#features-sparseImageInt64Atomics"><code>sparseImageInt64Atomics</code></a> feature is not enabled, <a href="chap12.html#VkBuffer">VkBuffer</a>
objects created with the <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code>
flag <strong class="purple">must</strong> not be accessed by atomic instructions through an
<code>OpTypeImage</code> with a <code>SampledType</code> with a <code>Width</code> of 64 by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07288" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07288"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07288</span><br>

Any shader invocation executed by this command <strong class="purple">must</strong>
<a href="chap9.html#shaders-termination">terminate</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-09600" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-09600"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-09600</span><br>

If a descriptor with type equal to any of
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> is accessed as a result of
this command, the image subresource identified by that descriptor <strong class="purple">must</strong>
be in the image layout identified when the descriptor was written</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-renderPass-02684" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-renderPass-02684"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-renderPass-02684</span><br>

The current render pass <strong class="purple">must</strong> be <a href="chap8.html#renderpass-compatibility">compatible</a>
with the <code>renderPass</code> member of the
<code>VkGraphicsPipelineCreateInfo</code> structure specified when creating the
<code>VkPipeline</code> bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-subpass-02685" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-subpass-02685"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-subpass-02685</span><br>

The subpass index of the current render pass <strong class="purple">must</strong> be equal to the
<code>subpass</code> member of the <code>VkGraphicsPipelineCreateInfo</code> structure
specified when creating the <code>VkPipeline</code> bound to
<code>VK_PIPELINE_BIND_POINT_GRAPHICS</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07748" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07748"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07748</span><br>

If any shader statically accesses an input attachment, a valid
descriptor <strong class="purple">must</strong> be bound to the pipeline via a descriptor set</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07468" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07468"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-OpTypeImage-07468</span><br>

If any shader executed by this pipeline accesses an <code>OpTypeImage</code>
variable with a <code>Dim</code> operand of <code>SubpassData</code>, it <strong class="purple">must</strong> be
decorated with an <code>InputAttachmentIndex</code> that corresponds to a valid
input attachment in the current subpass</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07469" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07469"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07469</span><br>

Input attachment views accessed in a subpass <strong class="purple">must</strong> be created with the
same <a href="chap41.html#VkFormat">VkFormat</a> as the corresponding subpass definition, and be
created with a <a href="chap12.html#VkImageView">VkImageView</a> that is compatible with the attachment
referenced by the subpass'
<code>pInputAttachments</code>[<code>InputAttachmentIndex</code>] in the currently
bound <a href="chap8.html#VkFramebuffer">VkFramebuffer</a> as specified by
<a href="chap15.html#compatibility-inputattachment">Fragment Input Attachment
Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-pDepthInputAttachmentIndex-09595" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-pDepthInputAttachmentIndex-09595"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-pDepthInputAttachmentIndex-09595</span><br>

Input attachment views accessed in a dynamic render pass with a
<code>InputAttachmentIndex</code> referenced by
<a href="chap15.html#VkRenderingInputAttachmentIndexInfoKHR">VkRenderingInputAttachmentIndexInfoKHR</a>, or no
<code>InputAttachmentIndex</code> if
<a href="chap15.html#VkRenderingInputAttachmentIndexInfoKHR">VkRenderingInputAttachmentIndexInfoKHR</a>:<code>pDepthInputAttachmentIndex</code>
or
<a href="chap15.html#VkRenderingInputAttachmentIndexInfoKHR">VkRenderingInputAttachmentIndexInfoKHR</a>:<code>pStencilInputAttachmentIndex</code>
are <code>NULL</code>, <strong class="purple">must</strong> be created with a <a href="chap12.html#VkImageView">VkImageView</a> that is compatible
with the corresponding color, depth, or stencil attachment in
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-pDepthInputAttachmentIndex-09596" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-pDepthInputAttachmentIndex-09596"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-pDepthInputAttachmentIndex-09596</span><br>

Input attachment views accessed in a dynamic render pass via a shader
object <strong class="purple">must</strong> have an <code>InputAttachmentIndex</code> if both
<a href="chap15.html#VkRenderingInputAttachmentIndexInfoKHR">VkRenderingInputAttachmentIndexInfoKHR</a>:<code>pDepthInputAttachmentIndex</code>
and
<a href="chap15.html#VkRenderingInputAttachmentIndexInfoKHR">VkRenderingInputAttachmentIndexInfoKHR</a>:<code>pStencilInputAttachmentIndex</code>
are non-<code>NULL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-InputAttachmentIndex-09597" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-InputAttachmentIndex-09597"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-InputAttachmentIndex-09597</span><br>

If an input attachment view accessed in a dynamic render pass via a
shader object has an <code>InputAttachmentIndex</code>, the
<code>InputAttachmentIndex</code> <strong class="purple">must</strong> match an index in
<a href="chap15.html#VkRenderingInputAttachmentIndexInfoKHR">VkRenderingInputAttachmentIndexInfoKHR</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-06537" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-06537"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-06537</span><br>

Memory backing image subresources used as attachments in the current
render pass <strong class="purple">must</strong> not be written in any way other than as an attachment
by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-09000" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-09000"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-09000</span><br>

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
<code>VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT</code> image layout,
and
either:</p>
<div class="ulist">
<ul>
<li>
<p>
the <code>VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code> is
set on the currently bound pipeline
or</p>
</li>
<li>
<p>the last call to <a href="chap8.html#vkCmdSetAttachmentFeedbackLoopEnableEXT">vkCmdSetAttachmentFeedbackLoopEnableEXT</a> included
<code>VK_IMAGE_ASPECT_COLOR_BIT</code> and</p>
<div class="ulist">
<ul>
<li>
<p>there is no currently bound graphics pipeline or</p>
</li>
<li>
<p>the currently bound graphics pipeline was created with
<code>VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>it <strong class="purple">must</strong> not be accessed in any way other than as an attachment by this
command</p>
</div>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-09001" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-09001"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-09001</span><br>

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
<code>VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT</code> image layout,
and
either:</p>
<div class="ulist">
<ul>
<li>
<p>
the
<code>VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code>
is set on the currently bound pipeline
or</p>
</li>
<li>
<p>the last call to <a href="chap8.html#vkCmdSetAttachmentFeedbackLoopEnableEXT">vkCmdSetAttachmentFeedbackLoopEnableEXT</a> included
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> and</p>
<div class="ulist">
<ul>
<li>
<p>there is no currently bound graphics pipeline or</p>
</li>
<li>
<p>the currently bound graphics pipeline was created with
<code>VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>it <strong class="purple">must</strong> not be accessed in any way other than as an attachment by this
command</p>
</div>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-09002" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-09002"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-09002</span><br>

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
<code>VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT</code> image layout,
and
either:</p>
<div class="ulist">
<ul>
<li>
<p>
the
<code>VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code>
is set on the currently bound pipeline
or</p>
</li>
<li>
<p>the last call to <a href="chap8.html#vkCmdSetAttachmentFeedbackLoopEnableEXT">vkCmdSetAttachmentFeedbackLoopEnableEXT</a> included
<code>VK_IMAGE_ASPECT_STENCIL_BIT</code> and</p>
<div class="ulist">
<ul>
<li>
<p>there is no currently bound graphics pipeline or</p>
</li>
<li>
<p>the currently bound graphics pipeline was created with
<code>VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>it <strong class="purple">must</strong> not be accessed in any way other than as an attachment by this
command</p>
</div>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-09003" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-09003"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-09003</span><br>

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it <strong class="purple">must</strong> not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-06539" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-06539"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-06539</span><br>

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command <strong class="purple">must</strong> not write to that image
subresource as an attachment</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-06886" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-06886"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-06886</span><br>

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, <a href="chap26.html#fragops-depth-write">depth
writes</a> <strong class="purple">must</strong> be disabled</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-06887" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-06887"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-06887</span><br>

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
<code>writeMask</code> are not zero, and stencil test is enabled,
<a href="chap26.html#fragops-stencil">all stencil ops</a> <strong class="purple">must</strong> be <code>VK_STENCIL_OP_KEEP</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07831" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07831"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07831</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_VIEWPORT</code> dynamic state enabled then
<a href="chap24.html#vkCmdSetViewport">vkCmdSetViewport</a> <strong class="purple">must</strong> have been called and not subsequently
<a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer
prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07832" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07832"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07832</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_SCISSOR</code> dynamic state enabled then
<a href="chap26.html#vkCmdSetScissor">vkCmdSetScissor</a> <strong class="purple">must</strong> have been called and not subsequently
<a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer
prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07833" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07833"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07833</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_LINE_WIDTH</code> dynamic state enabled then
<a href="chap25.html#vkCmdSetLineWidth">vkCmdSetLineWidth</a> <strong class="purple">must</strong> have been called and not subsequently
<a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer
prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08617" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08617"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08617</span><br>

If a shader object is bound to any graphics stage, and the most recent
call to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command
buffer set <code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, and the most
recent call to <a href="chap25.html#vkCmdSetPolygonModeEXT">vkCmdSetPolygonModeEXT</a> in the current command
buffer set <code>polygonMode</code> to <code>VK_POLYGON_MODE_LINE</code>,
<a href="chap25.html#vkCmdSetLineWidth">vkCmdSetLineWidth</a> <strong class="purple">must</strong> have been called and not subsequently
<a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer
prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08618" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08618"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08618</span><br>

If a shader object is bound to any graphics stage, and the most recent
call to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command
buffer set <code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, and the most
recent call to <a href="chap20.html#vkCmdSetPrimitiveTopologyEXT">vkCmdSetPrimitiveTopologyEXT</a> in the current command
buffer set <code>primitiveTopology</code> to any line topology,
<a href="chap25.html#vkCmdSetLineWidth">vkCmdSetLineWidth</a> <strong class="purple">must</strong> have been called and not subsequently
<a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer
prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08619" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08619"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08619</span><br>

If a shader object that outputs line primitives is bound to the
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> or
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code> stage, and the most recent call to
<a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer set
<code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, <a href="chap25.html#vkCmdSetLineWidth">vkCmdSetLineWidth</a>
<strong class="purple">must</strong> have been called and not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer prior to this drawing
command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07834" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07834"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07834</span><br>

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_DEPTH_BIAS</code> dynamic state enabled, the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, and the
<a href="chap10.html#dynamic-state-current-value">current value</a> of <code>depthBiasEnable</code>
is <code>VK_TRUE</code>, then <a href="chap26.html#vkCmdSetDepthBounds">vkCmdSetDepthBounds</a>
or <a href="chap25.html#vkCmdSetDepthBias2EXT">vkCmdSetDepthBias2EXT</a>
<strong class="purple">must</strong> have been called and not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer prior to this drawing
command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07835" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07835"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07835</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_BLEND_CONSTANTS</code> dynamic state enabled then
<a href="chap27.html#vkCmdSetBlendConstants">vkCmdSetBlendConstants</a> <strong class="purple">must</strong> have been called and not subsequently
<a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer
prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08621" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08621"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08621</span><br>

If a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, and the most recent call to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a>
in the current command buffer set <code>rasterizerDiscardEnable</code> to
<code>VK_FALSE</code>, and the most recent call to
<a href="chap27.html#vkCmdSetColorBlendEnableEXT">vkCmdSetColorBlendEnableEXT</a> in the current command buffer set any
element of <code>pColorBlendEnables</code> to <code>VK_TRUE</code>, and the most
recent call to <a href="chap27.html#vkCmdSetColorBlendEquationEXT">vkCmdSetColorBlendEquationEXT</a> in the current
command buffer set the same element of <code>pColorBlendEquations</code> to a
<code>VkColorBlendEquationEXT</code> structure with any <a href="chap27.html#VkBlendFactor">VkBlendFactor</a>
member with a value of <code>VK_BLEND_FACTOR_CONSTANT_COLOR</code>,
<code>VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR</code>,
<code>VK_BLEND_FACTOR_CONSTANT_ALPHA</code>, or
<code>VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA</code>,
<a href="chap27.html#vkCmdSetBlendConstants">vkCmdSetBlendConstants</a> <strong class="purple">must</strong> have been called and not subsequently
<a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer
prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07836" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07836"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07836</span><br>

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> dynamic state enabled, the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, and the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>depthBoundsTestEnable</code> is <code>VK_TRUE</code>, then
<a href="chap26.html#vkCmdSetDepthBounds">vkCmdSetDepthBounds</a> <strong class="purple">must</strong> have been called and not subsequently
<a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer
prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07837" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07837"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07837</span><br>

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code> dynamic state enabled, the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, and the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>stencilTestEnable</code> is <code>VK_TRUE</code>, then
<a href="chap26.html#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07838" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07838"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07838</span><br>

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> dynamic state enabled, the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, and the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>stencilTestEnable</code> is <code>VK_TRUE</code>, then
<a href="chap26.html#vkCmdSetStencilWriteMask">vkCmdSetStencilWriteMask</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07839" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07839"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07839</span><br>

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> dynamic state enabled, the
<a href="chap10.html#dynamic-state-current-value">current value</a> of and
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>stencilTestEnable</code> is <code>VK_TRUE</code>, then
<a href="chap26.html#vkCmdSetStencilReference">vkCmdSetStencilReference</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-maxMultiviewInstanceIndex-02688" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-maxMultiviewInstanceIndex-02688"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-maxMultiviewInstanceIndex-02688</span><br>

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index <strong class="purple">must</strong> be less than or equal to
<a href="chap40.html#VkPhysicalDeviceMultiviewProperties">VkPhysicalDeviceMultiviewProperties</a>::<code>maxMultiviewInstanceIndex</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-02689" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-02689"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-02689</span><br>

If the bound graphics pipeline was created with
<a href="chap25.html#VkPipelineSampleLocationsStateCreateInfoEXT">VkPipelineSampleLocationsStateCreateInfoEXT</a>::<code>sampleLocationsEnable</code>
set to <code>VK_TRUE</code> and the current subpass has a depth/stencil
attachment, then that attachment <strong class="purple">must</strong> have been created with the
<code>VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT</code> bit set</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-06666" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-06666"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-06666</span><br>

If the <code><a href="chap48.html#VK_EXT_sample_locations">VK_EXT_sample_locations</a></code> extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code> dynamic state enabled, the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, and the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>sampleLocationsEnable</code> is <code>VK_TRUE</code>, then
<a href="chap25.html#vkCmdSetSampleLocationsEXT">vkCmdSetSampleLocationsEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-blendEnable-04727" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-blendEnable-04727"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-blendEnable-04727</span><br>

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s <a href="chap12.html#resources-image-view-format-features">format features</a> do not
contain <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code>, then the
<code>blendEnable</code> member of the corresponding element of the
<code>pAttachments</code> member of <code>pColorBlendState</code> <strong class="purple">must</strong> be
<code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08643" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08643"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08643</span><br>

If a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, and the most recent call to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a>
in the current command buffer set <code>rasterizerDiscardEnable</code> to
<code>VK_FALSE</code>, then for each color attachment in the render pass, if
the corresponding image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> do not contain
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code>, then the
corresponding member of <code>pColorBlendEnables</code> in the most recent call
to <code>vkCmdSetColorBlendEnableEXT</code> in the current command buffer that
affected that attachment index <strong class="purple">must</strong> have been <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-multisampledRenderToSingleSampled-07284" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-multisampledRenderToSingleSampled-07284"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-multisampledRenderToSingleSampled-07284</span><br>

If rasterization is not disabled in the bound graphics pipeline,</p>
<div class="paragraph">
<p>then <code>rasterizationSamples</code> for the currently bound graphics pipeline
<strong class="purple">must</strong> be the same as the current subpass color and/or depth/stencil
attachments</p>
</div>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08644" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08644"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08644</span><br>

If a shader object is bound to any graphics stage, and the most recent
call to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command
buffer set <code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>,</p>
<div class="paragraph">
<p>then the most recent call to <a href="chap25.html#vkCmdSetRasterizationSamplesEXT">vkCmdSetRasterizationSamplesEXT</a> in the
current command buffer <strong class="purple">must</strong> have set <code>rasterizationSamples</code> to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments</p>
</div>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08876" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08876"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08876</span><br>

If a shader object is bound to any graphics stage, the current render
pass instance <strong class="purple">must</strong> have been begun with <a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06172" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06172"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06172</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, the <code>imageView</code> member of
<code>pDepthAttachment</code> is not <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, and the <code>layout</code>
member of <code>pDepthAttachment</code> is
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>, this command
<strong class="purple">must</strong> not write any values to the depth attachment</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06173" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06173"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06173</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, the <code>imageView</code> member of
<code>pStencilAttachment</code> is not <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, and the
<code>layout</code> member of <code>pStencilAttachment</code> is
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>, this command
<strong class="purple">must</strong> not write any values to the stencil attachment</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06174" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06174"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06174</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, the <code>imageView</code> member of
<code>pDepthAttachment</code> is not <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, and the <code>layout</code>
member of <code>pDepthAttachment</code> is
<code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL</code>, this
command <strong class="purple">must</strong> not write any values to the depth attachment</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06175" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06175"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06175</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, the <code>imageView</code> member of
<code>pStencilAttachment</code> is not <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, and the
<code>layout</code> member of <code>pStencilAttachment</code> is
<code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL</code>, this
command <strong class="purple">must</strong> not write any values to the stencil attachment</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06176" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06176"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06176</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, the <code>imageView</code> member of
<code>pDepthAttachment</code> is not <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, and the <code>layout</code>
member of <code>pDepthAttachment</code> is
<code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL</code>, this command <strong class="purple">must</strong> not
write any values to the depth attachment</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06177" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06177"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06177</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, the <code>imageView</code> member of
<code>pStencilAttachment</code> is not <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, and the
<code>layout</code> member of <code>pStencilAttachment</code> is
<code>VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL</code>, this command <strong class="purple">must</strong> not
write any values to the stencil attachment</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-viewMask-06178" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-viewMask-06178"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-viewMask-06178</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, the currently bound graphics pipeline <strong class="purple">must</strong>
have been created with a
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> equal to
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>viewMask</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-colorAttachmentCount-06179" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-colorAttachmentCount-06179"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-colorAttachmentCount-06179</span><br>

If
the <a href="chap39.html#features-dynamicRenderingUnusedAttachments"><code>dynamicRenderingUnusedAttachments</code></a> feature is not enabled and
the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, the currently bound graphics pipeline <strong class="purple">must</strong>
have been created with a
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>colorAttachmentCount</code> equal to
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>colorAttachmentCount</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08910" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08910"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08910</span><br>

If
the <a href="chap39.html#features-dynamicRenderingUnusedAttachments"><code>dynamicRenderingUnusedAttachments</code></a> feature is not enabled, and
the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a> and
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>colorAttachmentCount</code> greater than <code>0</code>, then
each element of the <a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pColorAttachments</code> array
with an <code>imageView</code> not equal to <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> <strong class="purple">must</strong> have
been created with a <a href="chap41.html#VkFormat">VkFormat</a> equal to the corresponding element of
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>pColorAttachmentFormats</code> used
to create the currently bound graphics pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08912" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08912"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08912</span><br>

If
the <a href="chap39.html#features-dynamicRenderingUnusedAttachments"><code>dynamicRenderingUnusedAttachments</code></a> feature is not enabled, and
the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a> and
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>colorAttachmentCount</code> greater than <code>0</code>, then
each element of the <a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pColorAttachments</code> array
with an <code>imageView</code> equal to <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> <strong class="purple">must</strong> have the
corresponding element of
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>pColorAttachmentFormats</code> used
to create the currently bound pipeline equal to
<code>VK_FORMAT_UNDEFINED</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08911" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08911"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08911</span><br>

If the <a href="chap39.html#features-dynamicRenderingUnusedAttachments"><code>dynamicRenderingUnusedAttachments</code></a> feature is enabled, and the
current render pass instance was begun with <a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>
and <a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>colorAttachmentCount</code> greater than <code>0</code>,
then each element of the <a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pColorAttachments</code>
array with an <code>imageView</code> not equal to <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> <strong class="purple">must</strong>
have been created with a <a href="chap41.html#VkFormat">VkFormat</a> equal to the corresponding
element of
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>pColorAttachmentFormats</code> used
to create the currently bound graphics pipeline, or the corresponding
element of
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>pColorAttachmentFormats</code>, if
it exists, <strong class="purple">must</strong> be <code>VK_FORMAT_UNDEFINED</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07749" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07749"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07749</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT</code> dynamic state enabled then
<a href="chap27.html#vkCmdSetColorWriteEnableEXT">vkCmdSetColorWriteEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08646" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08646"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08646</span><br>

If the <a href="chap39.html#features-colorWriteEnable"><code>colorWriteEnable</code></a> feature is
enabled on the device, and a shader object is bound to the
<code>VK_SHADER_STAGE_FRAGMENT_BIT</code> stage, and the most recent call to
<a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer set
<code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, then
<a href="chap27.html#vkCmdSetColorWriteEnableEXT">vkCmdSetColorWriteEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-attachmentCount-07750" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-attachmentCount-07750"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-attachmentCount-07750</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT</code> dynamic state enabled then
the <code>attachmentCount</code> parameter of <code>vkCmdSetColorWriteEnableEXT</code>
<strong class="purple">must</strong> be greater than or equal to the
<code>VkPipelineColorBlendStateCreateInfo</code>::<code>attachmentCount</code> of the
currently bound graphics pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08647" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08647"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08647</span><br>

If the <a href="chap39.html#features-colorWriteEnable"><code>colorWriteEnable</code></a> feature is
enabled on the device, and a shader object is bound to the
<code>VK_SHADER_STAGE_FRAGMENT_BIT</code> stage, and the most recent call to
<a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer set
<code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, then the
<code>attachmentCount</code> parameter of most recent call to
<code>vkCmdSetColorWriteEnableEXT</code> in the current command buffer <strong class="purple">must</strong> be
greater than or equal to the number of color attachments in the current
render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07751" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07751"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07751</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT</code> dynamic state enabled then
<a href="chap26.html#vkCmdSetDiscardRectangleEXT">vkCmdSetDiscardRectangleEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command for each discard rectangle
in
<a href="chap26.html#VkPipelineDiscardRectangleStateCreateInfoEXT">VkPipelineDiscardRectangleStateCreateInfoEXT</a>::<code>discardRectangleCount</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07880" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07880"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07880</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT</code> dynamic state
enabled then <a href="chap26.html#vkCmdSetDiscardRectangleEnableEXT">vkCmdSetDiscardRectangleEnableEXT</a> <strong class="purple">must</strong> have been
called and not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in
the current command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09236" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09236"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09236</span><br>

If the <code><a href="chap48.html#VK_EXT_discard_rectangles">VK_EXT_discard_rectangles</a></code> extension is enabled, and a
shader object is bound to any graphics stage, and the most recent call
to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer
set <code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, and the most recent
call to <a href="chap26.html#vkCmdSetDiscardRectangleEnableEXT">vkCmdSetDiscardRectangleEnableEXT</a> in the current command
buffer set <code>discardRectangleEnable</code> to <code>VK_TRUE</code>, then
<a href="chap26.html#vkCmdSetDiscardRectangleEXT">vkCmdSetDiscardRectangleEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08648" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08648"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08648</span><br>

If the <code><a href="chap48.html#VK_EXT_discard_rectangles">VK_EXT_discard_rectangles</a></code> extension is enabled, and a
shader object is bound to any graphics stage, and the most recent call
to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer
set <code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, then
<a href="chap26.html#vkCmdSetDiscardRectangleEnableEXT">vkCmdSetDiscardRectangleEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07881" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07881"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07881</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT</code> dynamic state enabled
then <a href="chap26.html#vkCmdSetDiscardRectangleModeEXT">vkCmdSetDiscardRectangleModeEXT</a> <strong class="purple">must</strong> have been called and
not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08649" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08649"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08649</span><br>

If the <code><a href="chap48.html#VK_EXT_discard_rectangles">VK_EXT_discard_rectangles</a></code> extension is enabled, and a
shader object is bound to any graphics stage, and the most recent call
to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer
set <code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, and the most recent
call to <a href="chap26.html#vkCmdSetDiscardRectangleEnableEXT">vkCmdSetDiscardRectangleEnableEXT</a> in the current command
buffer set <code>discardRectangleEnable</code> to <code>VK_TRUE</code>, then
<a href="chap26.html#vkCmdSetDiscardRectangleModeEXT">vkCmdSetDiscardRectangleModeEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08913" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08913"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08913</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>,
the
<a href="chap39.html#features-dynamicRenderingUnusedAttachments"><code>dynamicRenderingUnusedAttachments</code></a>
feature is not enabled,
and <a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pDepthAttachment-&gt;imageView</code> was
<a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the value of
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> used to
create the currently bound graphics pipeline <strong class="purple">must</strong> be equal to
<code>VK_FORMAT_UNDEFINED</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08914" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08914"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08914</span><br>

If current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>,
the
<a href="chap39.html#features-dynamicRenderingUnusedAttachments"><code>dynamicRenderingUnusedAttachments</code></a>
feature is not enabled,
and <a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pDepthAttachment-&gt;imageView</code> was not
<a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the value of
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> used to
create the currently bound graphics pipeline <strong class="purple">must</strong> be equal to the
<a href="chap41.html#VkFormat">VkFormat</a> used to create
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pDepthAttachment-&gt;imageView</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08915" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08915"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08915</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, the
<a href="chap39.html#features-dynamicRenderingUnusedAttachments"><code>dynamicRenderingUnusedAttachments</code></a> feature is enabled,
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pDepthAttachment-&gt;imageView</code> was not
<a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, and the value of
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> used to
create the currently bound graphics pipeline was not equal to the
<a href="chap41.html#VkFormat">VkFormat</a> used to create
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pDepthAttachment-&gt;imageView</code>, the value of
the format <strong class="purple">must</strong> be <code>VK_FORMAT_UNDEFINED</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08916" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08916"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08916</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>,
the
<a href="chap39.html#features-dynamicRenderingUnusedAttachments"><code>dynamicRenderingUnusedAttachments</code></a>
feature is not enabled,
and <a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pStencilAttachment-&gt;imageView</code> was
<a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the value of
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> used
to create the currently bound graphics pipeline <strong class="purple">must</strong> be equal to
<code>VK_FORMAT_UNDEFINED</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08917" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08917"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08917</span><br>

If current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>,
the
<a href="chap39.html#features-dynamicRenderingUnusedAttachments"><code>dynamicRenderingUnusedAttachments</code></a>
feature is not enabled,
and <a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pStencilAttachment-&gt;imageView</code> was not
<a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the value of
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> used
to create the currently bound graphics pipeline <strong class="purple">must</strong> be equal to the
<a href="chap41.html#VkFormat">VkFormat</a> used to create
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pStencilAttachment-&gt;imageView</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08918" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08918"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-dynamicRenderingUnusedAttachments-08918</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, the
<a href="chap39.html#features-dynamicRenderingUnusedAttachments"><code>dynamicRenderingUnusedAttachments</code></a> feature is enabled,
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pStencilAttachment-&gt;imageView</code> was not
<a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, and the value of
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> used
to create the currently bound graphics pipeline was not equal to the
<a href="chap41.html#VkFormat">VkFormat</a> used to create
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pStencilAttachment-&gt;imageView</code>, the value of
the format <strong class="purple">must</strong> be <code>VK_FORMAT_UNDEFINED</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06183" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06183"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-imageView-06183</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a> and
<a href="chap8.html#VkRenderingFragmentShadingRateAttachmentInfoKHR">VkRenderingFragmentShadingRateAttachmentInfoKHR</a>::<code>imageView</code>
was not <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the currently bound graphics pipeline
<strong class="purple">must</strong> have been created with
<code>VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-multisampledRenderToSingleSampled-07285" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-multisampledRenderToSingleSampled-07285"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-multisampledRenderToSingleSampled-07285</span><br>

If
the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a> with a
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>colorAttachmentCount</code> parameter greater than
<code>0</code>, then each element of the
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pColorAttachments</code> array with a
<code>imageView</code> not equal to <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> <strong class="purple">must</strong> have been
created with a sample count equal to the value of
<code>rasterizationSamples</code> for the currently bound graphics pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-multisampledRenderToSingleSampled-07286" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-multisampledRenderToSingleSampled-07286"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-multisampledRenderToSingleSampled-07286</span><br>

If
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pDepthAttachment-&gt;imageView</code> was not
<a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the value of <code>rasterizationSamples</code> for the
currently bound graphics pipeline <strong class="purple">must</strong> be equal to the sample count
used to create <a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pDepthAttachment-&gt;imageView</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-multisampledRenderToSingleSampled-07287" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-multisampledRenderToSingleSampled-07287"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-multisampledRenderToSingleSampled-07287</span><br>

If
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pStencilAttachment-&gt;imageView</code> was not
<a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the value of <code>rasterizationSamples</code> for the
currently bound graphics pipeline <strong class="purple">must</strong> be equal to the sample count
used to create
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pStencilAttachment-&gt;imageView</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-renderPass-06198" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-renderPass-06198"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-renderPass-06198</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, the currently bound pipeline <strong class="purple">must</strong> have been
created with a <a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>renderPass</code>
equal to <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-pColorAttachments-08963" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-pColorAttachments-08963"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-pColorAttachments-08963</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the <a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pColorAttachments-&gt;imageView</code>
was not <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, then the corresponding element of
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>pColorAttachmentFormats</code> used
to create the pipeline <strong class="purple">must</strong> not be <code>VK_FORMAT_UNDEFINED</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-pDepthAttachment-08964" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-pDepthAttachment-08964"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-pDepthAttachment-08964</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pDepthAttachment-&gt;imageView</code> was not
<a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, then the
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> used to
create the pipeline <strong class="purple">must</strong> not be <code>VK_FORMAT_UNDEFINED</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-pStencilAttachment-08965" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-pStencilAttachment-08965"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-pStencilAttachment-08965</span><br>

If the current render pass instance was begun with
<a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>, there is a graphics pipeline bound, stencil
test is enabled and the
<a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pStencilAttachment-&gt;imageView</code> was not
<a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, then the
<a href="chap10.html#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> used
to create the pipeline <strong class="purple">must</strong> not be <code>VK_FORMAT_UNDEFINED</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07619" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07619"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07619</span><br>

If
a shader object is bound to the
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT</code> dynamic state
enabled, then <a href="chap22.html#vkCmdSetTessellationDomainOriginEXT">vkCmdSetTessellationDomainOriginEXT</a> <strong class="purple">must</strong> have been
called and not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in
the current command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07620" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07620"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07620</span><br>

If the <a href="chap39.html#features-depthClamp"><code>depthClamp</code></a> feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT</code> dynamic state enabled, and
the <a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, then
<a href="chap24.html#vkCmdSetDepthClampEnableEXT">vkCmdSetDepthClampEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07621" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07621"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07621</span><br>

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_POLYGON_MODE_EXT</code> dynamic state enabled, and the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, then
<a href="chap25.html#vkCmdSetPolygonModeEXT">vkCmdSetPolygonModeEXT</a> <strong class="purple">must</strong> have been called and not subsequently
<a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer
prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07622" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07622"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07622</span><br>

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code> dynamic state enabled,
and the <a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, then
<a href="chap25.html#vkCmdSetRasterizationSamplesEXT">vkCmdSetRasterizationSamplesEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07623" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07623"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07623</span><br>

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_MASK_EXT</code> dynamic state enabled, and the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, then
<a href="chap26.html#vkCmdSetSampleMaskEXT">vkCmdSetSampleMaskEXT</a> <strong class="purple">must</strong> have been called and not subsequently
<a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer
prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-alphaToCoverageEnable-08919" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-alphaToCoverageEnable-08919"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-alphaToCoverageEnable-08919</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT</code> dynamic state
enabled, and <code>alphaToCoverageEnable</code> was <code>VK_TRUE</code> in the last
call to <a href="chap26.html#vkCmdSetAlphaToCoverageEnableEXT">vkCmdSetAlphaToCoverageEnableEXT</a>, then the
<a href="chap15.html#interfaces-fragmentoutput">Fragment Output Interface</a> <strong class="purple">must</strong> contain a
variable for the alpha <code>Component</code> word in <code>Location</code> 0 at
<code>Index</code> 0</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-alphaToCoverageEnable-08920" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-alphaToCoverageEnable-08920"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-alphaToCoverageEnable-08920</span><br>

If a shader object is bound to any graphics stage, and the most recent
call to <a href="chap26.html#vkCmdSetAlphaToCoverageEnableEXT">vkCmdSetAlphaToCoverageEnableEXT</a> in the current command
buffer set <code>alphaToCoverageEnable</code> to <code>VK_TRUE</code>, then the
<a href="chap15.html#interfaces-fragmentoutput">Fragment Output Interface</a> <strong class="purple">must</strong> contain a
variable for the alpha <code>Component</code> word in <code>Location</code> 0 at
<code>Index</code> 0</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07624" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07624"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07624</span><br>

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT</code> dynamic state
enabled, and the <a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, then
<a href="chap26.html#vkCmdSetAlphaToCoverageEnableEXT">vkCmdSetAlphaToCoverageEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07625" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07625"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07625</span><br>

If the <a href="chap39.html#features-alphaToOne"><code>alphaToOne</code></a> feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT</code> dynamic state enabled,
and the <a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, then
<a href="chap26.html#vkCmdSetAlphaToOneEnableEXT">vkCmdSetAlphaToOneEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07626" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07626"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07626</span><br>

If the <a href="chap39.html#features-logicOp"><code>logicOp</code></a> feature is enabled,
a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code> stage
or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT</code> dynamic state enabled, and
the <a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, then
<a href="chap27.html#vkCmdSetLogicOpEnableEXT">vkCmdSetLogicOpEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07627" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07627"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07627</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT</code> dynamic state enabled then
<a href="chap27.html#vkCmdSetColorBlendEnableEXT">vkCmdSetColorBlendEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08657" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08657"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08657</span><br>

If a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, and both the most recent call to
<a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer set
<code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code> and there are color
attachments bound, then <a href="chap27.html#vkCmdSetColorBlendEnableEXT">vkCmdSetColorBlendEnableEXT</a> <strong class="purple">must</strong> have
been called and not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a>
in the current command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07628" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07628"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07628</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT</code> dynamic state enabled
then <a href="chap27.html#vkCmdSetColorBlendEquationEXT">vkCmdSetColorBlendEquationEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08658" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08658"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08658</span><br>

If a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, and the most recent call to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a>
in the current command buffer set <code>rasterizerDiscardEnable</code> to
<code>VK_FALSE</code>, and the most recent call to
<a href="chap27.html#vkCmdSetColorBlendEnableEXT">vkCmdSetColorBlendEnableEXT</a> for any attachment set that
attachment’s value in <code>pColorBlendEnables</code> to <code>VK_TRUE</code>, then
<a href="chap27.html#vkCmdSetColorBlendEquationEXT">vkCmdSetColorBlendEquationEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07629" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07629"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07629</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT</code> dynamic state enabled then
<a href="chap27.html#vkCmdSetColorWriteMaskEXT">vkCmdSetColorWriteMaskEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08659" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08659"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08659</span><br>

If a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, and both the most recent call to
<a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer set
<code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code> and there are color
attachments bound, then <a href="chap27.html#vkCmdSetColorWriteMaskEXT">vkCmdSetColorWriteMaskEXT</a> <strong class="purple">must</strong> have been
called and not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in
the current command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07630" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07630"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07630</span><br>

If the <a href="chap39.html#features-geometryStreams"><code>geometryStreams</code></a> feature is
enabled, and
a shader object is bound to the <code>VK_SHADER_STAGE_GEOMETRY_BIT</code> stage
or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT</code> dynamic state enabled,
then <a href="chap25.html#vkCmdSetRasterizationStreamEXT">vkCmdSetRasterizationStreamEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07631" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07631"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07631</span><br>

If the <code><a href="chap48.html#VK_EXT_conservative_rasterization">VK_EXT_conservative_rasterization</a></code> extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT</code> dynamic state
enabled, and the <a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, then
<a href="chap25.html#vkCmdSetConservativeRasterizationModeEXT">vkCmdSetConservativeRasterizationModeEXT</a> <strong class="purple">must</strong> have been called
and not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the
current command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07632" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07632"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07632</span><br>

If the <code><a href="chap48.html#VK_EXT_conservative_rasterization">VK_EXT_conservative_rasterization</a></code> extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT</code> dynamic
state enabled, the <a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, and the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>conservativeRasterizationMode</code> is
<code>VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT</code>, then
<a href="chap25.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT">vkCmdSetExtraPrimitiveOverestimationSizeEXT</a> <strong class="purple">must</strong> have been called
and not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the
current command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07633" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07633"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07633</span><br>

If the <a href="chap39.html#features-depthClipEnable"><code>depthClipEnable</code></a> feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT</code> dynamic state, then
<a href="chap24.html#vkCmdSetDepthClipEnableEXT">vkCmdSetDepthClipEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07634" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07634"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07634</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT</code> dynamic state enabled
then <a href="chap25.html#vkCmdSetSampleLocationsEnableEXT">vkCmdSetSampleLocationsEnableEXT</a> <strong class="purple">must</strong> have been called and
not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08664" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08664"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08664</span><br>

If the <code><a href="chap48.html#VK_EXT_sample_locations">VK_EXT_sample_locations</a></code> extension is enabled, and a
shader object is bound to any graphics stage, and the most recent call
to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer
set <code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, then
<a href="chap25.html#vkCmdSetSampleLocationsEnableEXT">vkCmdSetSampleLocationsEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07635" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07635"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07635</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT</code> dynamic state enabled
then <a href="chap27.html#vkCmdSetColorBlendAdvancedEXT">vkCmdSetColorBlendAdvancedEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09416" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09416"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09416</span><br>

If the <code><a href="chap48.html#VK_EXT_blend_operation_advanced">VK_EXT_blend_operation_advanced</a></code> extension is enabled,
and a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, and the most recent call to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a>
in the current command buffer set <code>rasterizerDiscardEnable</code> to
<code>VK_FALSE</code>, then at least one of <a href="chap27.html#vkCmdSetColorBlendEquationEXT">vkCmdSetColorBlendEquationEXT</a>
and <a href="chap27.html#vkCmdSetColorBlendAdvancedEXT">vkCmdSetColorBlendAdvancedEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07636" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07636"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07636</span><br>

If the <code><a href="chap48.html#VK_EXT_provoking_vertex">VK_EXT_provoking_vertex</a></code> extension is enabled,
a shader object is bound to the <code>VK_SHADER_STAGE_VERTEX_BIT</code> stage
or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT</code> dynamic state enabled,
and the <a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, then
<a href="chap24.html#vkCmdSetProvokingVertexModeEXT">vkCmdSetProvokingVertexModeEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07637" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07637"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07637</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT</code> dynamic state enabled
then <a href="chap25.html#vkCmdSetLineRasterizationModeEXT">vkCmdSetLineRasterizationModeEXT</a> <strong class="purple">must</strong> have been called and
not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08666" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08666"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08666</span><br>

If the <code><a href="chap48.html#VK_KHR_line_rasterization">VK_KHR_line_rasterization</a></code> or
<code><code>VK_EXT_line_rasterization</code></code> extension is enabled, and a shader
object is bound to any graphics stage, and the most recent call to
<a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer set
<code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, and the most recent
call to <a href="chap25.html#vkCmdSetPolygonModeEXT">vkCmdSetPolygonModeEXT</a> in the current command buffer set
<code>polygonMode</code> to <code>VK_POLYGON_MODE_LINE</code>, then
<a href="chap25.html#vkCmdSetLineRasterizationModeEXT">vkCmdSetLineRasterizationModeEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08667" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08667"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08667</span><br>

If the <code><a href="chap48.html#VK_KHR_line_rasterization">VK_KHR_line_rasterization</a></code> or
<code><code>VK_EXT_line_rasterization</code></code> extension is enabled, and a shader
object is bound to the <code>VK_SHADER_STAGE_VERTEX_BIT</code> stage, and the
most recent call to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current
command buffer set <code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, and
the most recent call to <a href="chap20.html#vkCmdSetPrimitiveTopologyEXT">vkCmdSetPrimitiveTopologyEXT</a> in the current
command buffer set <code>primitiveTopology</code> to any line topology, then
<a href="chap25.html#vkCmdSetLineRasterizationModeEXT">vkCmdSetLineRasterizationModeEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08668" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08668"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08668</span><br>

If the <code><a href="chap48.html#VK_KHR_line_rasterization">VK_KHR_line_rasterization</a></code> or
<code><code>VK_EXT_line_rasterization</code></code> extension is enabled, and a shader
object that outputs line primitives is bound to the
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> or
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code> stage, and the most recent call to
<a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer set
<code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, then
<a href="chap25.html#vkCmdSetLineRasterizationModeEXT">vkCmdSetLineRasterizationModeEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07638" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07638"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07638</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT</code> dynamic state enabled
then <a href="chap25.html#vkCmdSetLineStippleEnableEXT">vkCmdSetLineStippleEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08669" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08669"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08669</span><br>

If the <code><a href="chap48.html#VK_KHR_line_rasterization">VK_KHR_line_rasterization</a></code> or
<code><code>VK_EXT_line_rasterization</code></code> extension is enabled, and a shader
object is bound to any graphics stage, and the most recent call to
<a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer set
<code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, and the most recent
call to <a href="chap25.html#vkCmdSetPolygonModeEXT">vkCmdSetPolygonModeEXT</a> in the current command buffer set
<code>polygonMode</code> to <code>VK_POLYGON_MODE_LINE</code>, then
<a href="chap25.html#vkCmdSetLineStippleEnableEXT">vkCmdSetLineStippleEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08670" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08670"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08670</span><br>

If the <code><a href="chap48.html#VK_KHR_line_rasterization">VK_KHR_line_rasterization</a></code> or
<code><code>VK_EXT_line_rasterization</code></code> extension is enabled, and a shader
object is bound to the <code>VK_SHADER_STAGE_VERTEX_BIT</code> stage, and the
most recent call to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current
command buffer set <code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, and
the most recent call to <a href="chap20.html#vkCmdSetPrimitiveTopologyEXT">vkCmdSetPrimitiveTopologyEXT</a> in the current
command buffer set <code>primitiveTopology</code> to any line topology, then
<a href="chap25.html#vkCmdSetLineStippleEnableEXT">vkCmdSetLineStippleEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08671" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08671"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08671</span><br>

If the <code><a href="chap48.html#VK_KHR_line_rasterization">VK_KHR_line_rasterization</a></code> or
<code><code>VK_EXT_line_rasterization</code></code> extension is enabled, and a shader
object that outputs line primitives is bound to the
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> or
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code> stage, and the most recent call to
<a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer set
<code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, then
<a href="chap25.html#vkCmdSetLineStippleEnableEXT">vkCmdSetLineStippleEnableEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07849" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07849"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07849</span><br>

    If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_LINE_STIPPLE_KHR</code>
    dynamic state enabled then
<a href="chap25.html#vkCmdSetLineStippleKHR">vkCmdSetLineStippleKHR</a>
    <strong class="purple">must</strong> have been called and not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer prior to this drawing
    command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08672" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08672"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08672</span><br>

If the <code><a href="chap48.html#VK_KHR_line_rasterization">VK_KHR_line_rasterization</a></code> or
<code><code>VK_EXT_line_rasterization</code></code> extension is enabled, and a shader
object is bound to any graphics stage, and the most recent call to
<a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer set
<code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code>, and the most recent
call to <a href="chap25.html#vkCmdSetLineStippleEnableEXT">vkCmdSetLineStippleEnableEXT</a> in the current command buffer
set <code>stippledLineEnable</code> to <code>VK_TRUE</code>, then
<code>vkCmdSetLineStippleEXT</code> <strong class="purple">must</strong> have been called and not subsequently
<a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current command buffer
prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-07639" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-07639"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-07639</span><br>

If the <a href="chap39.html#features-depthClipControl"><code>depthClipControl</code></a> feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT</code> dynamic state
enabled, then <a href="chap24.html#vkCmdSetDepthClipNegativeOneToOneEXT">vkCmdSetDepthClipNegativeOneToOneEXT</a> <strong class="purple">must</strong> have been
called and not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in
the current command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-09650" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-09650"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-09650</span><br>

If the <a href="chap39.html#features-depthClampControl"><code>depthClampControl</code></a> feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT</code> dynamic state enabled, and
the <a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>depthClampEnable</code> is <code>VK_TRUE</code>, then
<a href="chap26.html#vkCmdSetDepthClampRangeEXT">vkCmdSetDepthClampRangeEXT</a> <strong class="purple">must</strong> have been called and not
subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-pColorBlendEnables-07470" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-pColorBlendEnables-07470"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-pColorBlendEnables-07470</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT</code> state enabled and the last
call to <a href="chap27.html#vkCmdSetColorBlendEnableEXT">vkCmdSetColorBlendEnableEXT</a> set <code>pColorBlendEnables</code>
for any attachment to <code>VK_TRUE</code>, then for those attachments in the
subpass the corresponding image view’s
<a href="chap12.html#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizationSamples-07471" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizationSamples-07471"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizationSamples-07471</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code> state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the <code>rasterizationSamples</code> in the last call to
<a href="chap25.html#vkCmdSetRasterizationSamplesEXT">vkCmdSetRasterizationSamplesEXT</a> <strong class="purple">must</strong> follow the rules for a
<a href="chap8.html#renderpass-noattachments">zero-attachment subpass</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-samples-07472" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-samples-07472"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-samples-07472</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_MASK_EXT</code> state enabled and the
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code> state disabled, then
the <code>samples</code> parameter in the last call to
<a href="chap26.html#vkCmdSetSampleMaskEXT">vkCmdSetSampleMaskEXT</a> <strong class="purple">must</strong> be greater or equal to the
<a href="chap25.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>::<code>rasterizationSamples</code>
parameter used to create the bound graphics pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-samples-07473" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-samples-07473"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-samples-07473</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_MASK_EXT</code> state and
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code> states enabled, then
the <code>samples</code> parameter in the last call to
<a href="chap26.html#vkCmdSetSampleMaskEXT">vkCmdSetSampleMaskEXT</a> <strong class="purple">must</strong> be greater or equal to the
<code>rasterizationSamples</code> parameter in the last call to
<a href="chap25.html#vkCmdSetRasterizationSamplesEXT">vkCmdSetRasterizationSamplesEXT</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizationSamples-07474" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizationSamples-07474"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizationSamples-07474</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code> state enabled, and
neither the <code><code>VK_AMD_mixed_attachment_samples</code></code> nor the
<code><code>VK_NV_framebuffer_mixed_samples</code></code> extensions are enabled, then
the <code>rasterizationSamples</code> in the last call to
<a href="chap25.html#vkCmdSetRasterizationSamplesEXT">vkCmdSetRasterizationSamplesEXT</a> <strong class="purple">must</strong> be the same as the current
subpass color and/or depth/stencil attachments</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-firstAttachment-07476" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-firstAttachment-07476"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-firstAttachment-07476</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT</code> dynamic state enabled then
<a href="chap27.html#vkCmdSetColorBlendEnableEXT">vkCmdSetColorBlendEnableEXT</a> <strong class="purple">must</strong> have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the <code>firstAttachment</code> and <code>attachmentCount</code>
parameters of <code>vkCmdSetColorBlendEnableEXT</code> calls <strong class="purple">must</strong> specify an
enable for all active color attachments in the current subpass</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09417" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09417"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09417</span><br>

If a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, and the most recent call to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a>
in the current command buffer set <code>rasterizerDiscardEnable</code> to
<code>VK_FALSE</code>, then <a href="chap27.html#vkCmdSetColorBlendEnableEXT">vkCmdSetColorBlendEnableEXT</a> <strong class="purple">must</strong> have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the <code>firstAttachment</code> and
<code>attachmentCount</code> parameters of <code>vkCmdSetColorBlendEnableEXT</code>
calls <strong class="purple">must</strong> specify an enable for all active color attachments in the
current subpass</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-firstAttachment-07477" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-firstAttachment-07477"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-firstAttachment-07477</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT</code> dynamic state enabled
then <a href="chap27.html#vkCmdSetColorBlendEquationEXT">vkCmdSetColorBlendEquationEXT</a> <strong class="purple">must</strong> have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the <code>firstAttachment</code> and
<code>attachmentCount</code> parameters of <code>vkCmdSetColorBlendEquationEXT</code>
calls <strong class="purple">must</strong> specify the blend equations for all active color attachments
in the current subpass where blending is enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09418" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09418"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09418</span><br>

If a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, and both the most recent call to
<a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a> in the current command buffer set
<code>rasterizerDiscardEnable</code> to <code>VK_FALSE</code> and there are color
attachments bound, then <a href="chap27.html#vkCmdSetColorBlendEquationEXT">vkCmdSetColorBlendEquationEXT</a> <strong class="purple">must</strong> have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the <code>firstAttachment</code> and
<code>attachmentCount</code> parameters of <code>vkCmdSetColorBlendEquationEXT</code>
calls <strong class="purple">must</strong> specify the blend equations for all active color attachments
in the current subpass where blending is enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-firstAttachment-07478" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-firstAttachment-07478"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-firstAttachment-07478</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT</code> dynamic state enabled then
<a href="chap27.html#vkCmdSetColorWriteMaskEXT">vkCmdSetColorWriteMaskEXT</a> <strong class="purple">must</strong> have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the <code>firstAttachment</code> and <code>attachmentCount</code>
parameters of <code>vkCmdSetColorWriteMaskEXT</code> calls <strong class="purple">must</strong> specify the
color write mask for all active color attachments in the current subpass</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09419" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09419"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-rasterizerDiscardEnable-09419</span><br>

If a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, and the most recent call to <a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a>
in the current command buffer set <code>rasterizerDiscardEnable</code> to
<code>VK_FALSE</code>, then <a href="chap27.html#vkCmdSetColorWriteMaskEXT">vkCmdSetColorWriteMaskEXT</a> <strong class="purple">must</strong> have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the <code>firstAttachment</code> and
<code>attachmentCount</code> parameters of <code>vkCmdSetColorWriteMaskEXT</code>
calls <strong class="purple">must</strong> specify the color write mask for all active color
attachments in the current subpass</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-firstAttachment-07479" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-firstAttachment-07479"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-firstAttachment-07479</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT</code> dynamic state enabled
then <a href="chap27.html#vkCmdSetColorBlendAdvancedEXT">vkCmdSetColorBlendAdvancedEXT</a> <strong class="purple">must</strong> have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the <code>firstAttachment</code> and
<code>attachmentCount</code> parameters of <code>vkCmdSetColorBlendAdvancedEXT</code>
calls <strong class="purple">must</strong> specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-advancedBlendMaxColorAttachments-07480" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-advancedBlendMaxColorAttachments-07480"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-advancedBlendMaxColorAttachments-07480</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT</code> and
<code>VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT</code> dynamic states enabled and
the last calls to <a href="chap27.html#vkCmdSetColorBlendEnableEXT">vkCmdSetColorBlendEnableEXT</a> and
<a href="chap27.html#vkCmdSetColorBlendAdvancedEXT">vkCmdSetColorBlendAdvancedEXT</a> have enabled advanced blending, then
the number of active color attachments in the current subpass <strong class="purple">must</strong> not
exceed <a href="chap40.html#limits-advancedBlendMaxColorAttachments"><code>advancedBlendMaxColorAttachments</code></a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-primitivesGeneratedQueryWithNonZeroStreams-07481" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-primitivesGeneratedQueryWithNonZeroStreams-07481"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-primitivesGeneratedQueryWithNonZeroStreams-07481</span><br>

If the <a href="#features-primitivesGeneratedQueryWithNonZeroStreams" class="target-missing"><code>primitivesGeneratedQueryWithNonZeroStreams</code></a> feature is not
enabled and the <code>VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT</code> query is
active, and the bound graphics pipeline was created with
<code>VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT</code> state enabled, the last
call to <a href="chap25.html#vkCmdSetRasterizationStreamEXT">vkCmdSetRasterizationStreamEXT</a> <strong class="purple">must</strong> have set the
<code>rasterizationStream</code> to zero</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsPerPixel-07482" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsPerPixel-07482"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsPerPixel-07482</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code> state enabled and the
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code> state disabled, and the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>sampleLocationsEnable</code> is <code>VK_TRUE</code>, then the
<code>sampleLocationsPerPixel</code> member of <code>pSampleLocationsInfo</code> in
the last call to <a href="chap25.html#vkCmdSetSampleLocationsEXT">vkCmdSetSampleLocationsEXT</a> <strong class="purple">must</strong> equal the
<code>rasterizationSamples</code> member of the
<a href="chap25.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a> structure the bound graphics
pipeline has been created with</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsPerPixel-07483" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsPerPixel-07483"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsPerPixel-07483</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code> state enabled and the
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code> state enabled, and the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>sampleLocationsEnable</code> is <code>VK_TRUE</code>, then the
<code>sampleLocationsPerPixel</code> member of <code>pSampleLocationsInfo</code> in
the last call to <a href="chap25.html#vkCmdSetSampleLocationsEXT">vkCmdSetSampleLocationsEXT</a> <strong class="purple">must</strong> equal the
<code>rasterizationSamples</code> parameter of the last call to
<a href="chap25.html#vkCmdSetRasterizationSamplesEXT">vkCmdSetRasterizationSamplesEXT</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07484" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07484"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07484</span><br>

If
a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, or
the bound graphics pipeline was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT</code> state enabled, and
<code>sampleLocationsEnable</code> was <code>VK_TRUE</code> in the last call to
<a href="chap25.html#vkCmdSetSampleLocationsEnableEXT">vkCmdSetSampleLocationsEnableEXT</a>, and the current subpass has a
depth/stencil attachment, then that attachment <strong class="purple">must</strong> have been created
with the <code>VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT</code>
bit set</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07485" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07485"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07485</span><br>

If
a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, or
the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code> state enabled and the
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT</code> state enabled, and if
<code>sampleLocationsEnable</code> was <code>VK_TRUE</code> in the last call to
<a href="chap25.html#vkCmdSetSampleLocationsEnableEXT">vkCmdSetSampleLocationsEnableEXT</a>, then the
<code>sampleLocationsInfo.sampleLocationGridSize.width</code> in the last call
to <a href="chap25.html#vkCmdSetSampleLocationsEXT">vkCmdSetSampleLocationsEXT</a> <strong class="purple">must</strong> evenly divide
<a href="chap40.html#VkMultisamplePropertiesEXT">VkMultisamplePropertiesEXT</a>::<code>sampleLocationGridSize.width</code> as
returned by <a href="chap40.html#vkGetPhysicalDeviceMultisamplePropertiesEXT">vkGetPhysicalDeviceMultisamplePropertiesEXT</a> with a
<code>samples</code> parameter equaling <code>rasterizationSamples</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07486" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07486"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07486</span><br>

If
a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, or
the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code> state enabled and the
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT</code> state enabled, and if
<code>sampleLocationsEnable</code> was <code>VK_TRUE</code> in the last call to
<a href="chap25.html#vkCmdSetSampleLocationsEnableEXT">vkCmdSetSampleLocationsEnableEXT</a>, then the
<code>sampleLocationsInfo.sampleLocationGridSize.height</code> in the last call
to <a href="chap25.html#vkCmdSetSampleLocationsEXT">vkCmdSetSampleLocationsEXT</a> <strong class="purple">must</strong> evenly divide
<a href="chap40.html#VkMultisamplePropertiesEXT">VkMultisamplePropertiesEXT</a>::<code>sampleLocationGridSize.height</code> as
returned by <a href="chap40.html#vkGetPhysicalDeviceMultisamplePropertiesEXT">vkGetPhysicalDeviceMultisamplePropertiesEXT</a> with a
<code>samples</code> parameter equaling <code>rasterizationSamples</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07487" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07487"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07487</span><br>

If
a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, or
the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT</code> state enabled, and if
<code>sampleLocationsEnable</code> was <code>VK_TRUE</code> in the last call to
<a href="chap25.html#vkCmdSetSampleLocationsEnableEXT">vkCmdSetSampleLocationsEnableEXT</a>, the fragment shader code <strong class="purple">must</strong>
not statically use the extended instruction <code>InterpolateAtSample</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07936" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07936"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07936</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code> state disabled and the
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code> state enabled, and the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>sampleLocationsEnable</code> is <code>VK_TRUE</code>, then
<code>sampleLocationsInfo.sampleLocationGridSize.width</code> <strong class="purple">must</strong> evenly
divide
<a href="chap40.html#VkMultisamplePropertiesEXT">VkMultisamplePropertiesEXT</a>::<code>sampleLocationGridSize.width</code> as
returned by <a href="chap40.html#vkGetPhysicalDeviceMultisamplePropertiesEXT">vkGetPhysicalDeviceMultisamplePropertiesEXT</a> with a
<code>samples</code> parameter equaling the value of <code>rasterizationSamples</code>
in the last call to <a href="chap25.html#vkCmdSetRasterizationSamplesEXT">vkCmdSetRasterizationSamplesEXT</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07937" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07937"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07937</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code> state disabled and the
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code> state enabled, and the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>sampleLocationsEnable</code> is <code>VK_TRUE</code>, then
<code>sampleLocationsInfo.sampleLocationGridSize.height</code> <strong class="purple">must</strong> evenly
divide
<a href="chap40.html#VkMultisamplePropertiesEXT">VkMultisamplePropertiesEXT</a>::<code>sampleLocationGridSize.height</code> as
returned by <a href="chap40.html#vkGetPhysicalDeviceMultisamplePropertiesEXT">vkGetPhysicalDeviceMultisamplePropertiesEXT</a> with a
<code>samples</code> parameter equaling the value of <code>rasterizationSamples</code>
in the last call to <a href="chap25.html#vkCmdSetRasterizationSamplesEXT">vkCmdSetRasterizationSamplesEXT</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07938" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07938"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-sampleLocationsEnable-07938</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code> state disabled and the
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code> state enabled, and the
<a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>sampleLocationsEnable</code> is <code>VK_TRUE</code>, then
<code>sampleLocationsInfo.sampleLocationsPerPixel</code> <strong class="purple">must</strong> equal
<code>rasterizationSamples</code> in the last call to
<a href="chap25.html#vkCmdSetRasterizationSamplesEXT">vkCmdSetRasterizationSamplesEXT</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-stippledLineEnable-07495" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-stippledLineEnable-07495"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-stippledLineEnable-07495</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT</code> or
<code>VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT</code> dynamic states
enabled, and if the current <code>stippledLineEnable</code> state is
<code>VK_TRUE</code> and the current <code>lineRasterizationMode</code> state is
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_KHR</code>, then the
<a href="chap39.html#features-stippledRectangularLines"><code>stippledRectangularLines</code></a>
feature <strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-stippledLineEnable-07496" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-stippledLineEnable-07496"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-stippledLineEnable-07496</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT</code> or
<code>VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT</code> dynamic states
enabled, and if the current <code>stippledLineEnable</code> state is
<code>VK_TRUE</code> and the current <code>lineRasterizationMode</code> state is
<code>VK_LINE_RASTERIZATION_MODE_BRESENHAM_KHR</code>, then the
<a href="chap39.html#features-stippledBresenhamLines"><code>stippledBresenhamLines</code></a>
feature <strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-stippledLineEnable-07497" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-stippledLineEnable-07497"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-stippledLineEnable-07497</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT</code> or
<code>VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT</code> dynamic states
enabled, and if the current <code>stippledLineEnable</code> state is
<code>VK_TRUE</code> and the current <code>lineRasterizationMode</code> state is
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH_KHR</code>, then the
<a href="chap39.html#features-stippledSmoothLines"><code>stippledSmoothLines</code></a> feature
<strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-stippledLineEnable-07498" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-stippledLineEnable-07498"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-stippledLineEnable-07498</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT</code> or
<code>VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT</code> dynamic states
enabled, and if the current <code>stippledLineEnable</code> state is
<code>VK_TRUE</code> and the current <code>lineRasterizationMode</code> state is
<code>VK_LINE_RASTERIZATION_MODE_DEFAULT_KHR</code>, then the
<a href="chap39.html#features-stippledRectangularLines"><code>stippledRectangularLines</code></a>
feature <strong class="purple">must</strong> be enabled and
<a href="chap40.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>strictLines</code> <strong class="purple">must</strong> be <code>VK_TRUE</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-conservativePointAndLineRasterization-07499" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-conservativePointAndLineRasterization-07499"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-conservativePointAndLineRasterization-07499</span><br>

If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT</code> dynamic state
enabled, <a href="chap40.html#limits-conservativePointAndLineRasterization"><code>conservativePointAndLineRasterization</code></a> is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the <code>conservativeRasterizationMode</code>
set by the last call to <a href="chap25.html#vkCmdSetConservativeRasterizationModeEXT">vkCmdSetConservativeRasterizationModeEXT</a>
<strong class="purple">must</strong> be <code>VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08877" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08877"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08877</span><br>

If
a shader object is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code> stage
or
a graphics pipeline is bound which was created with the
<code>VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT</code> dynamic state
enabled, and the <a href="chap10.html#dynamic-state-current-value">current value</a> of
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, then
<a href="chap8.html#vkCmdSetAttachmentFeedbackLoopEnableEXT">vkCmdSetAttachmentFeedbackLoopEnableEXT</a> <strong class="purple">must</strong> have been called and
not subsequently <a href="chap10.html#dynamic-state-lifetime">invalidated</a> in the current
command buffer prior to this drawing command</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08684" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08684"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08684</span><br>

If there is no bound graphics pipeline, <code>vkCmdBindShadersEXT</code> <strong class="purple">must</strong>
have been called in the current command buffer with <code>pStages</code> with
an element of <code>VK_SHADER_STAGE_VERTEX_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08685" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08685"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08685</span><br>

If there is no bound graphics pipeline, and the
<a href="chap39.html#features-tessellationShader"><code>tessellationShader</code></a> feature is
enabled, <code>vkCmdBindShadersEXT</code> <strong class="purple">must</strong> have been called in the current
command buffer with <code>pStages</code> with an element of
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08686" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08686"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08686</span><br>

If there is no bound graphics pipeline, and the
<a href="chap39.html#features-tessellationShader"><code>tessellationShader</code></a> feature is
enabled, <code>vkCmdBindShadersEXT</code> <strong class="purple">must</strong> have been called in the current
command buffer with <code>pStages</code> with an element of
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08687" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08687"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08687</span><br>

If there is no bound graphics pipeline, and the
<a href="chap39.html#features-geometryShader"><code>geometryShader</code></a> feature is enabled,
<code>vkCmdBindShadersEXT</code> <strong class="purple">must</strong> have been called in the current command
buffer with <code>pStages</code> with an element of
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08688" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08688"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08688</span><br>

If there is no bound graphics pipeline, <code>vkCmdBindShadersEXT</code> <strong class="purple">must</strong>
have been called in the current command buffer with <code>pStages</code> with
an element of <code>VK_SHADER_STAGE_FRAGMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08698" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08698"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08698</span><br>

If any graphics shader is bound which was created with the
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code> flag, then all shaders created
with the <code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code> flag in the same
<a href="chap9.html#vkCreateShadersEXT">vkCreateShadersEXT</a> call <strong class="purple">must</strong> also be bound</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08699" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08699"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08699</span><br>

If any graphics shader is bound which was created with the
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code> flag, any stages in between
stages whose shaders which did not create a shader with the
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code> flag as part of the same
<a href="chap9.html#vkCreateShadersEXT">vkCreateShadersEXT</a> call <strong class="purple">must</strong> not have any <code>VkShaderEXT</code> bound</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08878" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08878"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08878</span><br>

All bound graphics shader objects <strong class="purple">must</strong> have been created with identical
or identically defined push constant ranges</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-08879" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-08879"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-08879</span><br>

All bound graphics shader objects <strong class="purple">must</strong> have been created with identical
or identically defined arrays of descriptor set layouts</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-pDynamicStates-08715" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-pDynamicStates-08715"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-pDynamicStates-08715</span><br>

If the bound graphics pipeline state includes a fragment shader stage,
was created with <code>VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>, and the
fragment shader declares the <code>EarlyFragmentTests</code> execution mode and
uses <code>OpDepthAttachmentReadEXT</code>, the <code>depthWriteEnable</code> parameter
in the last call to <a href="chap26.html#vkCmdSetDepthWriteEnableEXT">vkCmdSetDepthWriteEnableEXT</a> <strong class="purple">must</strong> be
<code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-pDynamicStates-08716" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-pDynamicStates-08716"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-pDynamicStates-08716</span><br>

If the bound graphics pipeline state includes a fragment shader stage,
was created with <code>VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>, and the
fragment shader declares the <code>EarlyFragmentTests</code> execution mode and
uses <code>OpStencilAttachmentReadEXT</code>, the <code>writeMask</code> parameter in
the last call to <a href="chap26.html#vkCmdSetStencilWriteMask">vkCmdSetStencilWriteMask</a> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-09116" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-09116"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-09116</span><br>

    If
    a shader object is bound to any graphics stage
or
    the currently bound graphics pipeline was created with
    <code>VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT</code>,
    and the format of any color attachment is
    <code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code>, the corresponding element of the
    <code>pColorWriteMasks</code> parameter of <a href="chap27.html#vkCmdSetColorWriteMaskEXT">vkCmdSetColorWriteMaskEXT</a>
    <strong class="purple">must</strong> either include all of <code>VK_COLOR_COMPONENT_R_BIT</code>,
    <code>VK_COLOR_COMPONENT_G_BIT</code>, and <code>VK_COLOR_COMPONENT_B_BIT</code>, or
    none of them</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-maxFragmentDualSrcAttachments-09239" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-maxFragmentDualSrcAttachments-09239"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-maxFragmentDualSrcAttachments-09239</span><br>

If <a href="chap27.html#framebuffer-blending">blending</a> is enabled for any attachment where
either the source or destination blend factors for that attachment
<a href="chap27.html#framebuffer-dsb">use the secondary color input</a>, the maximum value of
<code>Location</code> for any output attachment <a href="chap9.html#shaders-staticuse">statically
used</a> in the <code>Fragment</code> <code>Execution</code> <code>Model</code> executed by this command
<strong class="purple">must</strong> be less than <a href="chap40.html#limits-maxFragmentDualSrcAttachments"><code>maxFragmentDualSrcAttachments</code></a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-09548" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-09548"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-09548</span><br>

If the current render pass was begun with <a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>,
and there is no shader object bound to any graphics stage,
the value of each element of
<a href="chap15.html#VkRenderingAttachmentLocationInfoKHR">VkRenderingAttachmentLocationInfoKHR</a>::<code>pColorAttachmentLocations</code>
set by <a href="chap15.html#vkCmdSetRenderingAttachmentLocationsKHR">vkCmdSetRenderingAttachmentLocationsKHR</a> <strong class="purple">must</strong> match the
value set for the corresponding element in the currently bound pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-09549" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-09549"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-09549</span><br>

If the current render pass was begun with <a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a>,
and there is no shader object bound to any graphics stage,
input attachment index mappings in the currently bound pipeline <strong class="purple">must</strong>
match those set for the current render pass instance via
<a href="chap15.html#VkRenderingInputAttachmentIndexInfoKHR">VkRenderingInputAttachmentIndexInfoKHR</a></p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11046" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11046"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11046</span><br>

If <code>isPreprocessed</code> is <code>VK_TRUE</code> and
<a href="chap29.html#vkGetGeneratedCommandsMemoryRequirementsEXT">vkGetGeneratedCommandsMemoryRequirementsEXT</a> did not return a
required size of zero then <a href="chap29.html#vkCmdPreprocessGeneratedCommandsEXT">vkCmdPreprocessGeneratedCommandsEXT</a>
<strong class="purple">must</strong> have already been executed on the device before this command
executes, and the preprocessing command <strong class="purple">must</strong> have used the same
<code>pGeneratedCommandsInfo</code> content as well as the content of the input
buffers it references (all except
<a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a>::<code>preprocessBuffer</code>).</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11047" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11047"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11047</span><br>

If <code>isPreprocessed</code> is <code>VK_TRUE</code> then the
<code>indirectCommandsLayout</code> member of <code>pGeneratedCommandsInfo</code>
<strong class="purple">must</strong> have been created with the
<code>VK_INDIRECT_COMMANDS_LAYOUT_USAGE_EXPLICIT_PREPROCESS_BIT_EXT</code> bit
set</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-indirectCommandsLayout-11141" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-indirectCommandsLayout-11141"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-indirectCommandsLayout-11141</span><br>

If the <code>indirectCommandsLayout</code> member of
<code>pGeneratedCommandsInfo</code> was created with the
<code>VK_INDIRECT_COMMANDS_LAYOUT_USAGE_EXPLICIT_PREPROCESS_BIT_EXT</code> bit
set, then <code>isPreprocessed</code> <strong class="purple">must</strong> be <code>VK_TRUE</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-preprocessAddress-11142" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-preprocessAddress-11142"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-preprocessAddress-11142</span><br>

The contents of the <code>preprocessAddress</code> member of
<code>pGeneratedCommandsInfo</code> <strong class="purple">must</strong> not have been previously used to
record another <a href="chap29.html#vkCmdExecuteGeneratedCommandsEXT">vkCmdExecuteGeneratedCommandsEXT</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11048" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11048"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11048</span><br>

If <code>isPreprocessed</code> is <code>VK_TRUE</code> then the bound descriptor sets
and push constants <strong class="purple">must</strong> match identically with those bound during
recording of the corresponding call to
<a href="chap29.html#vkCmdPreprocessGeneratedCommandsEXT">vkCmdPreprocessGeneratedCommandsEXT</a>.</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11049" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11049"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11049</span><br>

If <code>isPreprocessed</code> is <code>VK_TRUE</code> and the
<code>indirectCommandsLayout</code> member of <code>pGeneratedCommandsInfo</code>
contains a draw token, then the graphics state bound on
<code>commandBuffer</code> <strong class="purple">must</strong> match identically with the graphics state
bound on the <code>stateCommandBuffer</code> passed to
<a href="chap29.html#vkCmdPreprocessGeneratedCommandsEXT">vkCmdPreprocessGeneratedCommandsEXT</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11149" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11149"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11149</span><br>

If <code>isPreprocessed</code> is <code>VK_TRUE</code>, then the queue family index of
<code>commandBuffer</code> <strong class="purple">must</strong> be the same as the queue family index used to
allocate the <code>stateCommandBuffer</code> passed to
<a href="chap29.html#vkCmdPreprocessGeneratedCommandsEXT">vkCmdPreprocessGeneratedCommandsEXT</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11051" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11051"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11051</span><br>

If <code>isPreprocessed</code> is <code>VK_TRUE</code> and the
<code>indirectCommandsLayout</code> member of <code>pGeneratedCommandsInfo</code>
contains a dispatch token, then the compute state bound on
<code>commandBuffer</code> <strong class="purple">must</strong> match identically with the compute state bound
on the <code>stateCommandBuffer</code> passed to
<a href="chap29.html#vkCmdPreprocessGeneratedCommandsEXT">vkCmdPreprocessGeneratedCommandsEXT</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11052" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11052"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11052</span><br>

If <code>isPreprocessed</code> is <code>VK_TRUE</code> and the
<code>indirectCommandsLayout</code> member of <code>pGeneratedCommandsInfo</code>
contains a ray tracing token, then the ray tracing state bound on
<code>commandBuffer</code> <strong class="purple">must</strong> match identically with the ray tracing state
bound on the <code>stateCommandBuffer</code> passed to
<a href="chap29.html#vkCmdPreprocessGeneratedCommandsEXT">vkCmdPreprocessGeneratedCommandsEXT</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11150" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11150"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11150</span><br>

If <code>isPreprocessed</code> is <code>VK_TRUE</code> and the
<code>indirectCommandsLayout</code> member of <code>pGeneratedCommandsInfo</code>
contains a ray tracing token, the queue family index <code>commandBuffer</code>
was allocated from <strong class="purple">must</strong> be the same queue family index used to allocate
the <code>stateCommandBuffer</code> passed to
<a href="chap29.html#vkCmdPreprocessGeneratedCommandsEXT">vkCmdPreprocessGeneratedCommandsEXT</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-indirectCommandsLayout-11053" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-indirectCommandsLayout-11053"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-indirectCommandsLayout-11053</span><br>

If the token sequence of the passed
<a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a>::<code>indirectCommandsLayout</code> contains
a <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code> token, the
initial shader state of
<a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a>::<code>indirectExecutionSet</code> <strong class="purple">must</strong> be
bound on <code>commandBuffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-indirectCommandsLayout-11004" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-indirectCommandsLayout-11004"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-indirectCommandsLayout-11004</span><br>

If <code>indirectCommandsLayout</code> was created with a token sequence that
contained the <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code>
token and <code>indirectExecutionSet</code> was created using
<code>VK_INDIRECT_EXECUTION_SET_INFO_TYPE_SHADER_OBJECTS_EXT</code>, every
executed <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code> token
<strong class="purple">must</strong> bind all the shader stages set in the
<a href="chap29.html#VkIndirectCommandsExecutionSetTokenEXT">VkIndirectCommandsExecutionSetTokenEXT</a>::<code>shaderStages</code> used to
create <code>indirectCommandsLayout</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11055" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11055"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-isPreprocessed-11055</span><br>

If <code>isPreprocessed</code> is <code>VK_TRUE</code> and the token sequence of the
passed <a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a>::<code>indirectCommandsLayout</code>
contains a <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code>
token, the members of
<a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a>::<code>indirectExecutionSet</code> accessed by
this command <strong class="purple">must</strong> not have been modified since the preprocess buffer
was generated</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-deviceGeneratedCommandsTransformFeedback-11057" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-deviceGeneratedCommandsTransformFeedback-11057"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-deviceGeneratedCommandsTransformFeedback-11057</span><br>

If
<a href="chap40.html#limits-deviceGeneratedCommandsTransformFeedback"><code>deviceGeneratedCommandsTransformFeedback</code></a>
is not supported on device, transform feedback <strong class="purple">must</strong> not be active</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-indirectExecutionSet-11058" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-indirectExecutionSet-11058"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-indirectExecutionSet-11058</span><br>

If transform feedback is active,
<a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a>::<code>indirectExecutionSet</code> <strong class="purple">must</strong> be
<a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-deviceGeneratedCommands-11059" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-deviceGeneratedCommands-11059"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-deviceGeneratedCommands-11059</span><br>

The <a href="chap39.html#features-deviceGeneratedCommandsEXT"><code>VkPhysicalDeviceDeviceGeneratedCommandsFeaturesEXT</code>::<code>deviceGeneratedCommands</code></a>
feature <strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-supportedIndirectCommandsShaderStages-11060" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-supportedIndirectCommandsShaderStages-11060"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-supportedIndirectCommandsShaderStages-11060</span><br>

The currently bound shader stages <strong class="purple">must</strong> be supported by
<a href="chap40.html#limits-supportedIndirectCommandsShaderStages"></a><a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>supportedIndirectCommandsShaderStages</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-supportedIndirectCommandsShaderStages-11061" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-supportedIndirectCommandsShaderStages-11061"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-supportedIndirectCommandsShaderStages-11061</span><br>

Only stages specified in <a href="chap40.html#limits-supportedIndirectCommandsShaderStages"></a><a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>supportedIndirectCommandsShaderStages</code>
<strong class="purple">can</strong> be set in <code>pGeneratedCommandsInfo-&gt;shaderStages</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-None-11062" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-None-11062"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-None-11062</span><br>

If a rendering pass is currently active, the view mask <strong class="purple">must</strong> be <code>0</code>.</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-commandBuffer-11143" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-commandBuffer-11143"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-commandBuffer-11143</span><br>

<code>commandBuffer</code> <strong class="purple">must</strong> not have been created with
<code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-commandBuffer-parameter" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-pGeneratedCommandsInfo-parameter" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-pGeneratedCommandsInfo-parameter"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-pGeneratedCommandsInfo-parameter</span><br>
 <code>pGeneratedCommandsInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-commandBuffer-recording" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-commandBuffer-cmdpool" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-videocoding" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-videocoding"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteGeneratedCommandsEXT-bufferlevel" href="chap29.html#VUID-vkCmdExecuteGeneratedCommandsEXT-bufferlevel"></a> <span class="vuid">VUID-vkCmdExecuteGeneratedCommandsEXT-bufferlevel</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a primary <code>VkCommandBuffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap37.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action<br>
Indirection</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkGeneratedCommandsInfoEXT</code> is defined as:</p>
</div>
<div id="VkGeneratedCommandsInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkGeneratedCommandsInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                    <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkShaderStageFlags</span>             <span class="n">shaderStages</span><span class="p">;</span>
    <span class="n">VkIndirectExecutionSetEXT</span>      <span class="n">indirectExecutionSet</span><span class="p">;</span>
    <span class="n">VkIndirectCommandsLayoutEXT</span>    <span class="n">indirectCommandsLayout</span><span class="p">;</span>
    <span class="n">VkDeviceAddress</span>                <span class="n">indirectAddress</span><span class="p">;</span>
    <span class="n">VkDeviceSize</span>                   <span class="n">indirectAddressSize</span><span class="p">;</span>
    <span class="n">VkDeviceAddress</span>                <span class="n">preprocessAddress</span><span class="p">;</span>
    <span class="n">VkDeviceSize</span>                   <span class="n">preprocessSize</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                       <span class="n">maxSequenceCount</span><span class="p">;</span>
    <span class="n">VkDeviceAddress</span>                <span class="n">sequenceCountAddress</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                       <span class="n">maxDrawCount</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkGeneratedCommandsInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>shaderStages</code> is the mask of shader stages used by the commands.</p>
</li>
<li>
<p><code>indirectExecutionSet</code> is the indirect execution set to be used for
binding shaders.</p>
</li>
<li>
<p><code>indirectCommandsLayout</code> is the <a href="chap29.html#VkIndirectCommandsLayoutEXT">VkIndirectCommandsLayoutEXT</a>
that specifies the command sequence data.</p>
</li>
<li>
<p><code>indirectAddress</code> is an address that holds the indirect buffer data.</p>
</li>
<li>
<p><code>indirectAddressSize</code> is the size in bytes of indirect buffer data
starting at <code>indirectAddress</code>.</p>
</li>
<li>
<p><code>preprocessAddress</code> specifies a physical address of the
<code>VkBuffer</code> used for preprocessing the input data for execution.
If this structure is used with <a href="chap29.html#vkCmdExecuteGeneratedCommandsEXT">vkCmdExecuteGeneratedCommandsEXT</a>
with its <code>isPreprocessed</code> set to <code>VK_TRUE</code>, then the
preprocessing step is skipped but data in this address <strong class="purple">may</strong> still be
modified.
The contents and the layout of this address are opaque to applications
and <strong class="purple">must</strong> not be modified outside functions related to device-generated
commands or copied to another buffer for reuse.</p>
</li>
<li>
<p><code>preprocessSize</code> is the maximum byte size within
<code>preprocessAddress</code> that is available for preprocessing.</p>
</li>
<li>
<p><code>maxSequenceCount</code> is used to determine the number of sequences to
execute.</p>
</li>
<li>
<p><code>sequenceCountAddress</code> specifies an optional physical address of a
single <code>uint32_t</code> value containing the requested number of sequences
to execute.</p>
</li>
<li>
<p><code>maxDrawCount</code> is the maximum number of indirect draws that can be
executed by any COUNT-type multi-draw indirect tokens.
The draw count in the indirect buffer is clamped to this value for these
token types.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>sequenceCountAddress</code> is not <code>NULL</code>, then <code>maxSequenceCount</code> is
the maximum number of sequences that can be executed.
The actual number is <code>min(maxSequenceCount, *sequenceCountAddress)</code>.
If <code>sequenceCountAddress</code> is <code>NULL</code>, then <code>maxSequenceCount</code> is the
exact number of sequences to execute.</p>
</div>
<div class="paragraph">
<p>If the action command token for the layout is not a COUNT-type multi-draw
indirect token, <code>maxDrawCount</code> is ignored.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-preprocessAddress-11063" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-preprocessAddress-11063"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-preprocessAddress-11063</span><br>

If <a href="chap29.html#vkGetGeneratedCommandsMemoryRequirementsEXT">vkGetGeneratedCommandsMemoryRequirementsEXT</a> returns a non-zero
size, <code>preprocessAddress</code> <strong class="purple">must</strong> not be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-preprocessAddress-11064" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-preprocessAddress-11064"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-preprocessAddress-11064</span><br>

<code>VkDeviceMemory</code> objects bound to the underlying buffer for
<code>preprocessAddress</code> <strong class="purple">must</strong> have been allocated using one of the
memory types allowed in the <code>memoryTypeBits</code> member of the
<a href="chap12.html#VkMemoryRequirements">VkMemoryRequirements</a> structure returned by
<a href="chap29.html#vkGetGeneratedCommandsMemoryRequirementsEXT">vkGetGeneratedCommandsMemoryRequirementsEXT</a></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11065" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11065"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11065</span><br>

If the <code>indirectCommandsLayout</code> uses a token of
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</code>, then the
<code>indirectExecutionSet</code>’s push constant layout <strong class="purple">must</strong> contain the
<code>updateRange</code> specified in
<a href="chap29.html#VkIndirectCommandsPushConstantTokenEXT">VkIndirectCommandsPushConstantTokenEXT</a></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11066" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11066"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11066</span><br>

If the <code>indirectCommandsLayout</code> uses a token of
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</code>, then the
<code>indirectExecutionSet</code>’s push constant layout <strong class="purple">must</strong> contain the
<code>updateRange</code> specified in
<a href="chap29.html#VkIndirectCommandsPushConstantTokenEXT">VkIndirectCommandsPushConstantTokenEXT</a></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-maxSequenceCount-11067" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-maxSequenceCount-11067"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-maxSequenceCount-11067</span><br>

<code>maxSequenceCount</code> <strong class="purple">must</strong> be less or equal to
<a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>maxIndirectSequenceCount</code>
and
<a href="chap29.html#VkGeneratedCommandsMemoryRequirementsInfoEXT">VkGeneratedCommandsMemoryRequirementsInfoEXT</a>::<code>maxSequencesCount</code>
that was used to determine the <code>preprocessSize</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-sequenceCountAddress-11068" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-sequenceCountAddress-11068"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-sequenceCountAddress-11068</span><br>

If <code>sequenceCountAddress</code> is not <code>NULL</code>, the value contained in the
address <strong class="purple">must</strong> be less or equal to
<a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>maxIndirectSequenceCount</code>
and
<a href="chap29.html#VkGeneratedCommandsMemoryRequirementsInfoEXT">VkGeneratedCommandsMemoryRequirementsInfoEXT</a>::<code>maxSequencesCount</code>
that was used to determine the <code>preprocessSize</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-preprocessAddress-11069" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-preprocessAddress-11069"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-preprocessAddress-11069</span><br>

The underlying buffer for <code>preprocessAddress</code> <strong class="purple">must</strong> have the
<code>VK_BUFFER_USAGE_2_PREPROCESS_BUFFER_BIT_EXT</code> bit set in its usage
flag</p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-preprocessAddress-11070" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-preprocessAddress-11070"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-preprocessAddress-11070</span><br>

If the underlying buffer for <code>preprocessAddress</code> is non-sparse then
it <strong class="purple">must</strong> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11144" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11144"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11144</span><br>

If the <code>indirectCommandsLayout</code> contains a
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code> token, then the
descriptor and push constant layout info provided either by
<code>pipelineLayout</code> or through a <a href="chap14.html#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a> in
<code>pNext</code> of the <a href="chap29.html#VkIndirectCommandsLayoutCreateInfoEXT">VkIndirectCommandsLayoutCreateInfoEXT</a> used to
create <code>indirectCommandsLayout</code> <strong class="purple">must</strong> be
<a href="chap14.html#descriptorsets-compatibility">compatible</a> with the descriptor and push
constant layout info used by <code>indirectExecutionSet</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11002" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11002"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11002</span><br>

If <code>indirectCommandsLayout</code> was created with a token sequence that
contained the <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code>
token, the shader stages used to create the initial shader state of
<code>indirectExecutionSet</code> <strong class="purple">must</strong> equal the
<a href="chap29.html#VkIndirectCommandsExecutionSetTokenEXT">VkIndirectCommandsExecutionSetTokenEXT</a>::<code>shaderStages</code> used to
create <code>indirectCommandsLayout</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-preprocessSize-11071" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-preprocessSize-11071"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-preprocessSize-11071</span><br>

<code>preprocessSize</code> <strong class="purple">must</strong> be greater than or equal to the memory
requirement’s size returned by
<a href="chap29.html#vkGetGeneratedCommandsMemoryRequirementsEXT">vkGetGeneratedCommandsMemoryRequirementsEXT</a> using the matching
inputs (<code>indirectCommandsLayout</code>, …​) as within this structure</p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-sequenceCountAddress-11072" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-sequenceCountAddress-11072"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-sequenceCountAddress-11072</span><br>

The underlying buffer for <code>sequenceCountAddress</code> <strong class="purple">must</strong> have the
<code>VK_BUFFER_USAGE_2_PREPROCESS_BUFFER_BIT_EXT</code> bit set in its usage
flag</p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-sequenceCountAddress-11073" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-sequenceCountAddress-11073"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-sequenceCountAddress-11073</span><br>

If <code>sequenceCountAddress</code> is not <code>NULL</code>, <code>sequenceCountAddress</code>
<strong class="purple">must</strong> be aligned to <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-indirectAddress-11074" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-indirectAddress-11074"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-indirectAddress-11074</span><br>

<code>indirectAddress</code> <strong class="purple">must</strong> be aligned to <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-sequenceCountAddress-11075" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-sequenceCountAddress-11075"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-sequenceCountAddress-11075</span><br>

If the underlying buffer for <code>sequenceCountAddress</code> is non-sparse
then it <strong class="purple">must</strong> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-indirectAddress-11076" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-indirectAddress-11076"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-indirectAddress-11076</span><br>

<code>indirectAddress</code> <strong class="purple">must</strong> not be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-indirectAddressSize-11077" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-indirectAddressSize-11077"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-indirectAddressSize-11077</span><br>

<code>indirectAddressSize</code> <strong class="purple">must</strong> be greater than zero</p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-maxDrawCount-11078" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-maxDrawCount-11078"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-maxDrawCount-11078</span><br>

When not ignored, <span class="eq"><code>maxDrawCount</code> ×
<code>maxSequenceCount</code></span> <strong class="purple">must</strong> be less than <span class="eq">2^24</span></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11079" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11079"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11079</span><br>

    If <code>indirectCommandsLayout</code> was created using a
    <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_VERTEX_BUFFER_EXT</code> token
and shader objects are not bound
    then the currently bound graphics pipeline <strong class="purple">must</strong> have been created with
    <code>VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE</code> in
    <code>pDynamicStates</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11083" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11083"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-11083</span><br>

If the token sequence of the passed <code>indirectCommandsLayout</code>
contains a <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code>
token, the <code>indirectExecutionSet</code> <strong class="purple">must</strong> not be <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-indirectExecutionSet-11080" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-indirectExecutionSet-11080"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-indirectExecutionSet-11080</span><br>

    If <code>indirectExecutionSet</code> is <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, a
    <a href="chap29.html#VkGeneratedCommandsPipelineInfoEXT">VkGeneratedCommandsPipelineInfoEXT</a>
or <a href="chap29.html#VkGeneratedCommandsShaderInfoEXT">VkGeneratedCommandsShaderInfoEXT</a>
    <strong class="purple">must</strong> be included in the <code>pNext</code> chain</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-sType-sType" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_GENERATED_COMMANDS_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-shaderStages-parameter" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-shaderStages-parameter"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-shaderStages-parameter</span><br>
 <code>shaderStages</code> <strong class="purple">must</strong> be a valid combination of <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-shaderStages-requiredbitmask" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-shaderStages-requiredbitmask"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-shaderStages-requiredbitmask</span><br>
 <code>shaderStages</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-indirectExecutionSet-parameter" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-indirectExecutionSet-parameter"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-indirectExecutionSet-parameter</span><br>
 If <code>indirectExecutionSet</code> is not <a href="chap49.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>indirectExecutionSet</code> <strong class="purple">must</strong> be a valid <a href="chap29.html#VkIndirectExecutionSetEXT">VkIndirectExecutionSetEXT</a> handle</p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-parameter" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-parameter"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-indirectCommandsLayout-parameter</span><br>
 <code>indirectCommandsLayout</code> <strong class="purple">must</strong> be a valid <a href="chap29.html#VkIndirectCommandsLayoutEXT">VkIndirectCommandsLayoutEXT</a> handle</p>
</li>
<li>
<p><a id="VUID-VkGeneratedCommandsInfoEXT-commonparent" href="chap29.html#VUID-VkGeneratedCommandsInfoEXT-commonparent"></a> <span class="vuid">VUID-VkGeneratedCommandsInfoEXT-commonparent</span><br>
 Both of <code>indirectCommandsLayout</code>, and <code>indirectExecutionSet</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Referencing the functions defined in <a href="chap29.html#indirectmdslayout">Indirect Commands Layout</a>,
<code>vkCmdExecuteGeneratedCommandsEXT</code> behaves as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">uint32_t</span> <span class="n">sequencesCount</span> <span class="o">=</span> <span class="n">sequenceCountAddress</span> <span class="o">?</span>
      <span class="n">min</span><span class="p">(</span><span class="n">maxSequenceCount</span><span class="p">,</span> <span class="n">sequenceCountAddress</span><span class="p">.</span><span class="n">load_uint32</span><span class="p">())</span> <span class="o">:</span>
      <span class="n">maxSequenceCount</span><span class="p">;</span>


<span class="n">cmdProcessAllSequences</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">,</span> <span class="n">indirectExecutionSet</span><span class="p">,</span>
                       <span class="n">indirectCommandsLayout</span><span class="p">,</span> <span class="n">indirectAddress</span><span class="p">,</span>
                       <span class="n">sequencesCount</span><span class="p">);</span>

<span class="c1">// The stateful commands within indirectCommandsLayout will not</span>
<span class="c1">// affect the state of subsequent commands in the target</span>
<span class="c1">// command buffer (cmd)</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is important to note that the affected values of all state related to the
<code>shaderStages</code> used are undefined after this command.
This means that e.g., if this command indirectly alters push constants, the
push constant state becomes undefined.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Commands <strong class="purple">can</strong> be preprocessed prior execution using the following command:</p>
</div>
<div id="vkCmdPreprocessGeneratedCommandsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_device_generated_commands</span>
<span class="kt">void</span> <span class="nf">vkCmdPreprocessGeneratedCommandsEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkGeneratedCommandsInfoEXT</span><span class="o">*</span>           <span class="n">pGeneratedCommandsInfo</span><span class="p">,</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">stateCommandBuffer</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer which does the preprocessing.</p>
</li>
<li>
<p><code>pGeneratedCommandsInfo</code> is a pointer to a
<a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a> structure containing parameters
affecting the preprocessing step.</p>
</li>
<li>
<p><code>stateCommandBuffer</code> is a command buffer from which to snapshot
current states affecting the preprocessing step.
When a graphics command action token is used, graphics state is
snapshotted.
When a compute action command token is used, compute state is
snapshotted.
When a ray tracing action command token is used, ray tracing state is
snapshotted.
It can be deleted at any time after this command has been recorded.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><code>stateCommandBuffer</code> access is not synchronized by the driver, meaning
that this command buffer <strong class="purple">must</strong> not be modified between threads in an unsafe
manner.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-pGeneratedCommandsInfo-11082" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-pGeneratedCommandsInfo-11082"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-pGeneratedCommandsInfo-11082</span><br>

<code>pGeneratedCommandsInfo</code>’s <code>indirectCommandsLayout</code> <strong class="purple">must</strong> have
been created with the
<code>VK_INDIRECT_COMMANDS_LAYOUT_USAGE_EXPLICIT_PREPROCESS_BIT_EXT</code> bit
set</p>
</li>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-indirectCommandsLayout-11084" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-indirectCommandsLayout-11084"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-indirectCommandsLayout-11084</span><br>

If the token sequence of the passed
<a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a>::<code>indirectCommandsLayout</code> contains
a <code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_EXECUTION_SET_EXT</code> token, the
initial shader state of
<a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a>::<code>indirectExecutionSet</code> <strong class="purple">must</strong> be
bound on <code>stateCommandBuffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-stateCommandBuffer-11138" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-stateCommandBuffer-11138"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-stateCommandBuffer-11138</span><br>

<code>stateCommandBuffer</code> <strong class="purple">must</strong> be in the recording state</p>
</li>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-deviceGeneratedCommands-11087" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-deviceGeneratedCommands-11087"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-deviceGeneratedCommands-11087</span><br>

The <a href="chap39.html#features-deviceGeneratedCommandsEXT"><code>VkPhysicalDeviceDeviceGeneratedCommandsFeaturesEXT</code>::<code>deviceGeneratedCommands</code></a>
feature <strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-supportedIndirectCommandsShaderStages-11088" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-supportedIndirectCommandsShaderStages-11088"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-supportedIndirectCommandsShaderStages-11088</span><br>

Only stages specified in <a href="chap40.html#limits-supportedIndirectCommandsShaderStages"></a><a href="chap40.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesEXT</a>::<code>supportedIndirectCommandsShaderStages</code>
<strong class="purple">can</strong> be set in <code>pGeneratedCommandsInfo-&gt;shaderStages</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-commandBuffer-parameter" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-pGeneratedCommandsInfo-parameter" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-pGeneratedCommandsInfo-parameter"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-pGeneratedCommandsInfo-parameter</span><br>
 <code>pGeneratedCommandsInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-stateCommandBuffer-parameter" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-stateCommandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-stateCommandBuffer-parameter</span><br>
 <code>stateCommandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-commandBuffer-recording" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-commandBuffer-cmdpool" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-renderpass" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-renderpass"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-renderpass</span><br>
 This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-videocoding" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-videocoding"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-bufferlevel" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-bufferlevel"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-bufferlevel</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a primary <code>VkCommandBuffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPreprocessGeneratedCommandsEXT-commonparent" href="chap29.html#VUID-vkCmdPreprocessGeneratedCommandsEXT-commonparent"></a> <span class="vuid">VUID-vkCmdPreprocessGeneratedCommandsEXT-commonparent</span><br>
 Both of <code>commandBuffer</code>, and <code>stateCommandBuffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>stateCommandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap37.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The bound descriptor sets and push constants that will be used with indirect
command generation <strong class="purple">must</strong> already be specified on <code>stateCommandBuffer</code> at
the time of preprocessing commands with
<a href="chap29.html#vkCmdPreprocessGeneratedCommandsEXT">vkCmdPreprocessGeneratedCommandsEXT</a>.
They <strong class="purple">must</strong> match the bound descriptor sets and push constants used in the
execution of indirect commands with <a href="chap29.html#vkCmdExecuteGeneratedCommandsEXT">vkCmdExecuteGeneratedCommandsEXT</a>.</p>
</div>
<div class="paragraph">
<p>If push constants for shader stages are also specified in the
<a href="chap29.html#VkGeneratedCommandsInfoEXT">VkGeneratedCommandsInfoEXT</a>::<code>indirectCommandsLayout</code> with a
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_PUSH_CONSTANT_EXT</code> or
<code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_SEQUENCE_INDEX_EXT</code> token, then those
values override the push constants that were previously pushed.</p>
</div>
<div class="paragraph">
<p>All state bound on <code>stateCommandBuffer</code> will be used.
All state bound on <code>stateCommandBuffer</code> <strong class="purple">must</strong> be identical to the state
bound at the time <a href="chap29.html#vkCmdExecuteGeneratedCommandsEXT">vkCmdExecuteGeneratedCommandsEXT</a> is recorded.
The queue family index <code>stateCommandBuffer</code> was allocated from <strong class="purple">must</strong> be
the same as the queue family index of the command buffer used in
<a href="chap29.html#vkCmdExecuteGeneratedCommandsEXT">vkCmdExecuteGeneratedCommandsEXT</a>.</p>
</div>
<div class="paragraph">
<p>On some implementations, preprocessing <strong class="purple">may</strong> have no effect on performance.</p>
</div>
<div class="paragraph">
<p><a href="chap29.html#vkCmdExecuteGeneratedCommandsEXT">vkCmdExecuteGeneratedCommandsEXT</a> <strong class="purple">may</strong> write to the preprocess buffer,
no matter the isPreprocess parameter.
In this case, the implementation <strong class="purple">must</strong> insert appropriate synchronization
automatically, which corresponds to the following pseudocode:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Barrier</p>
<div class="ulist">
<ul>
<li>
<p>srcStageMask = DRAW_INDIRECT</p>
</li>
<li>
<p>srcAccesMask = 0</p>
</li>
<li>
<p>dstStageMask = COMMAND_PREPROCESS_BIT</p>
</li>
<li>
<p>dstAccessMask = COMMAND_PREPROCESS_WRITE_BIT |
COMMAND_PREPROCESS_READ_BIT</p>
</li>
</ul>
</div>
</li>
<li>
<p>Do internal writes</p>
</li>
<li>
<p>Barrier</p>
<div class="ulist">
<ul>
<li>
<p>srcStageMask = COMMAND_PREPROCESS_BIT</p>
</li>
<li>
<p>srcAccesMask = COMMAND_PREPROCESS_WRITE_BIT</p>
</li>
<li>
<p>dstStageMask = DRAW_INDIRECT</p>
</li>
<li>
<p>dstAccessMask = INDIRECT_COMMAND_READ_BIT</p>
</li>
</ul>
</div>
</li>
<li>
<p>Execute</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div></div>
<nav>
  <a rel="prev" href="chap28.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap30.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>




</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>