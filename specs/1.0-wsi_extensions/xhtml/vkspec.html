<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Vulkan 1.0.28 - A Specification (with KHR extensions)</title><link rel="stylesheet" type="text/css" href="config/vkspec-xhtml.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><script xmlns="" type="text/x-mathjax-config">
        MathJax.Hub.Config({
            MathML: { extensions: ["content-mathml.js"] },
            tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] }
        });
    </script><script xmlns="" type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></head><body><div xml:lang="en" class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="id-1"></a>Vulkan 1.0.28 - A Specification (with KHR extensions)</h1></div><div><div class="author"><h3 class="author"><span class="firstname">The Khronos Vulkan Working Group</span></h3></div></div><div><div class="revhistory"><table style="border-style:solid; width:100%;" summary="Revision History"><tr><th align="left" valign="top" colspan="3"><strong>Revision History</strong></th></tr><tr><td align="left">Revision 1.0.28</td><td align="left">Sat, 24 Sep 2016 08:01:17 +0000</td><td align="left">T</td></tr><tr><td align="left" colspan="3">from git branch: 1.0 commit: 8dfeb510f151e4c52eaecc3bd48fd1551c267837</td></tr></table></div></div></div><hr /></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="preface"><a href="#id-1.2"></a></span></dt><dt><span class="chapter"><a href="#introduction">1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="#introduction-whatis">1.1. What is the Vulkan Graphics System?</a></span></dt><dd><dl><dt><span class="section"><a href="#introduction-programmer">1.1.1. The Programmer’s View of Vulkan</a></span></dt><dt><span class="section"><a href="#introduction-implementor">1.1.2. The Implementor’s View of Vulkan</a></span></dt><dt><span class="section"><a href="#introduction-ourview">1.1.3. Our View of Vulkan</a></span></dt></dl></dd><dt><span class="section"><a href="#introduction-bugs">1.2. Filing Bug Reports</a></span></dt><dt><span class="section"><a href="#introduction-terminology">1.3. Terminology</a></span></dt><dt><span class="section"><a href="#introduction-normative">1.4. Normative References</a></span></dt></dl></dd><dt><span class="chapter"><a href="#fundamentals">2. Fundamentals</a></span></dt><dd><dl><dt><span class="section"><a href="#fundamentals-architecture-model">2.1. Architecture Model</a></span></dt><dt><span class="section"><a href="#fundamentals-execmodel">2.2. Execution Model</a></span></dt><dd><dl><dt><span class="section"><a href="#fundamentals-queueoperation">2.2.1. Queue Operation</a></span></dt></dl></dd><dt><span class="section"><a href="#fundamentals-objectmodel-overview">2.3. Object Model</a></span></dt><dd><dl><dt><span class="section"><a href="#fundamentals-objectmodel-lifetime">2.3.1. Object Lifetime</a></span></dt></dl></dd><dt><span class="section"><a href="#fundamentals-commandsyntax">2.4. Command Syntax and Duration</a></span></dt><dd><dl><dt><span class="section"><a href="#fundamentals-commandsyntax-results-lifetime">2.4.1. Lifetime of Retrieved Results</a></span></dt></dl></dd><dt><span class="section"><a href="#fundamentals-threadingbehavior">2.5. Threading Behavior</a></span></dt><dt><span class="section"><a href="#fundamentals-errors">2.6. Errors</a></span></dt><dd><dl><dt><span class="section"><a href="#fundamentals-validusage">2.6.1. Valid Usage</a></span></dt><dt><span class="section"><a href="#fundamentals-returncodes">2.6.2. Return Codes</a></span></dt></dl></dd><dt><span class="section"><a href="#fundamentals-numerics">2.7. Numeric Representation and Computation</a></span></dt><dd><dl><dt><span class="section"><a href="#fundamentals-floatingpoint">2.7.1. Floating-Point Computation</a></span></dt><dt><span class="section"><a href="#fundamentals-fp16">2.7.2. 16-Bit Floating-Point Numbers</a></span></dt><dt><span class="section"><a href="#fundamentals-fp11">2.7.3. Unsigned 11-Bit Floating-Point Numbers</a></span></dt><dt><span class="section"><a href="#fundamentals-fp10">2.7.4. Unsigned 10-Bit Floating-Point Numbers</a></span></dt><dt><span class="section"><a href="#fundamentals-general">2.7.5. General Requirements</a></span></dt></dl></dd><dt><span class="section"><a href="#fundamentals-fixedconv">2.8. Fixed-Point Data Conversions</a></span></dt><dd><dl><dt><span class="section"><a href="#fundamentals-fixedfpconv">2.8.1. Conversion from Normalized Fixed-Point to Floating-Point</a></span></dt><dt><span class="section"><a href="#fundamentals-fpfixedconv">2.8.2. Conversion from Floating-Point to Normalized Fixed-Point</a></span></dt></dl></dd><dt><span class="section"><a href="#fundamentals-versionnum">2.9. API Version Numbers and Semantics</a></span></dt><dt><span class="section"><a href="#fundamentals-common-objects">2.10. Common Object Types</a></span></dt><dd><dl><dt><span class="section"><a href="#_offsets">2.10.1. Offsets</a></span></dt><dt><span class="section"><a href="#_extents">2.10.2. Extents</a></span></dt><dt><span class="section"><a href="#_rectangles">2.10.3. Rectangles</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#initialization">3. Initialization</a></span></dt><dd><dl><dt><span class="section"><a href="#initialization-functionpointers">3.1. Command Function Pointers</a></span></dt><dt><span class="section"><a href="#initialization-instances">3.2. Instances</a></span></dt></dl></dd><dt><span class="chapter"><a href="#devsandqueues">4. Devices and Queues</a></span></dt><dd><dl><dt><span class="section"><a href="#devsandqueues-physical-device-enumeration">4.1. Physical Devices</a></span></dt><dt><span class="section"><a href="#devsandqueues-devices">4.2. Devices</a></span></dt><dd><dl><dt><span class="section"><a href="#devsandqueues-device-creation">4.2.1. Device Creation</a></span></dt><dt><span class="section"><a href="#devsandqueues-use">4.2.2. Device Use</a></span></dt><dt><span class="section"><a href="#devsandqueues-lost-device">4.2.3. Lost Device</a></span></dt><dt><span class="section"><a href="#devsandqueues-destruction">4.2.4. Device Destruction</a></span></dt></dl></dd><dt><span class="section"><a href="#devsandqueues-queues">4.3. Queues</a></span></dt><dd><dl><dt><span class="section"><a href="#devsandqueues-queueprops">4.3.1. Queue Family Properties</a></span></dt><dt><span class="section"><a href="#devsandqueues-queue-creation">4.3.2. Queue Creation</a></span></dt><dt><span class="section"><a href="#devsandqueues-index">4.3.3. Queue Family Index</a></span></dt><dt><span class="section"><a href="#devsandqueues-priority">4.3.4. Queue Priority</a></span></dt><dt><span class="section"><a href="#devsandqueues-submission">4.3.5. Queue Submission</a></span></dt><dt><span class="section"><a href="#devsandqueues-queuedestruction">4.3.6. Queue Destruction</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#commandbuffers">5. Command Buffers</a></span></dt><dd><dl><dt><span class="section"><a href="#commandbuffers-pools">5.1. Command Pools</a></span></dt><dt><span class="section"><a href="#commandbuffer-allocation">5.2. Command Buffer Allocation and Management</a></span></dt><dt><span class="section"><a href="#commandbuffers-recording">5.3. Command Buffer Recording</a></span></dt><dt><span class="section"><a href="#commandbuffers-submission">5.4. Command Buffer Submission</a></span></dt><dt><span class="section"><a href="#commandbuffers-submission-progress">5.5. Queue Forward Progress</a></span></dt><dt><span class="section"><a href="#commandbuffers-secondary">5.6. Secondary Command Buffer Execution</a></span></dt></dl></dd><dt><span class="chapter"><a href="#synchronization">6. Synchronization and Cache Control</a></span></dt><dd><dl><dt><span class="section"><a href="#synchronization-fences">6.1. Fences</a></span></dt><dt><span class="section"><a href="#synchronization-semaphores">6.2. Semaphores</a></span></dt><dt><span class="section"><a href="#synchronization-events">6.3. Events</a></span></dt><dt><span class="section"><a href="#synchronization-execution-and-memory-dependencies">6.4. Execution And Memory Dependencies</a></span></dt><dt><span class="section"><a href="#synchronization-pipeline-barriers">6.5. Pipeline Barriers</a></span></dt><dd><dl><dt><span class="section"><a href="#synchronization-pipeline-barriers-subpass-self-dependencies">6.5.1. Subpass Self-dependency</a></span></dt><dt><span class="section"><a href="#synchronization-pipeline-stage-flags">6.5.2. Pipeline Stage Flags</a></span></dt><dt><span class="section"><a href="#synchronization-memory-barriers">6.5.3. Memory Barriers</a></span></dt><dt><span class="section"><a href="#synchronization-global-memory-barrier">6.5.4. Global Memory Barriers</a></span></dt><dt><span class="section"><a href="#synchronization-buffer-memory-barrier">6.5.5. Buffer Memory Barriers</a></span></dt><dt><span class="section"><a href="#synchronization-image-memory-barrier">6.5.6. Image Memory Barriers</a></span></dt><dt><span class="section"><a href="#synchronization-waitidle">6.5.7. Wait Idle Operations</a></span></dt></dl></dd><dt><span class="section"><a href="#synchronization-implicit-ordering-hostwrites">6.6. Host Write Ordering Guarantees</a></span></dt></dl></dd><dt><span class="chapter"><a href="#renderpass">7. Render Pass</a></span></dt><dd><dl><dt><span class="section"><a href="#renderpass-creation">7.1. Render Pass Creation</a></span></dt><dt><span class="section"><a href="#renderpass-compatibility">7.2. Render Pass Compatibility</a></span></dt><dt><span class="section"><a href="#_framebuffers">7.3. Framebuffers</a></span></dt><dt><span class="section"><a href="#renderpass-commands">7.4. Render Pass Commands</a></span></dt></dl></dd><dt><span class="chapter"><a href="#shaders">8. Shaders</a></span></dt><dd><dl><dt><span class="section"><a href="#shader-modules">8.1. Shader Modules</a></span></dt><dt><span class="section"><a href="#shaders-execution">8.2. Shader Execution</a></span></dt><dt><span class="section"><a href="#shaders-execution-memory-ordering">8.3. Shader Memory Access Ordering</a></span></dt><dt><span class="section"><a href="#shaders-inputs">8.4. Shader Inputs and Outputs</a></span></dt><dt><span class="section"><a href="#shaders-vertex">8.5. Vertex Shaders</a></span></dt><dd><dl><dt><span class="section"><a href="#shaders-vertex-execution">8.5.1. Vertex Shader Execution</a></span></dt></dl></dd><dt><span class="section"><a href="#shaders-tessellation-control">8.6. Tessellation Control Shaders</a></span></dt><dd><dl><dt><span class="section"><a href="#shaders-tessellation-control-execution">8.6.1. Tessellation Control Shader Execution</a></span></dt></dl></dd><dt><span class="section"><a href="#shaders-tessellation-evaluation">8.7. Tessellation Evaluation Shaders</a></span></dt><dd><dl><dt><span class="section"><a href="#shaders-tessellation-evaluation-execution">8.7.1. Tessellation Evaluation Shader Execution</a></span></dt></dl></dd><dt><span class="section"><a href="#shaders-geometry">8.8. Geometry Shaders</a></span></dt><dd><dl><dt><span class="section"><a href="#shaders-geometry-execution">8.8.1. Geometry Shader Execution</a></span></dt></dl></dd><dt><span class="section"><a href="#shaders-fragment">8.9. Fragment Shaders</a></span></dt><dd><dl><dt><span class="section"><a href="#shaders-fragment-execution">8.9.1. Fragment Shader Execution</a></span></dt><dt><span class="section"><a href="#shaders-fragment-earlytest">8.9.2. Early Fragment Tests</a></span></dt></dl></dd><dt><span class="section"><a href="#shaders-compute">8.10. Compute Shaders</a></span></dt><dt><span class="section"><a href="#shaders-interpolation-decorations">8.11. Interpolation Decorations</a></span></dt><dt><span class="section"><a href="#shaders-staticuse">8.12. Static Use</a></span></dt><dt><span class="section"><a href="#shaders-invocationgroups">8.13. Invocation and Derivative Groups</a></span></dt></dl></dd><dt><span class="chapter"><a href="#pipelines">9. Pipelines</a></span></dt><dd><dl><dt><span class="section"><a href="#pipelines-compute">9.1. Compute Pipelines</a></span></dt><dt><span class="section"><a href="#pipelines-graphics">9.2. Graphics Pipelines</a></span></dt><dd><dl><dt><span class="section"><a href="#_valid_combinations_of_stages_for_graphics_pipelines">9.2.1. Valid Combinations of Stages for Graphics Pipelines</a></span></dt></dl></dd><dt><span class="section"><a href="#pipelines-destruction">9.3. Pipeline destruction</a></span></dt><dt><span class="section"><a href="#pipelines-multiple">9.4. Multiple Pipeline Creation</a></span></dt><dt><span class="section"><a href="#pipelines-pipeline-derivatives">9.5. Pipeline Derivatives</a></span></dt><dt><span class="section"><a href="#pipelines-cache">9.6. Pipeline Cache</a></span></dt><dt><span class="section"><a href="#pipelines-specialization-constants">9.7. Specialization Constants</a></span></dt><dt><span class="section"><a href="#pipelines-binding">9.8. Pipeline Binding</a></span></dt></dl></dd><dt><span class="chapter"><a href="#memory">10. Memory Allocation</a></span></dt><dd><dl><dt><span class="section"><a href="#memory-host">10.1. Host Memory</a></span></dt><dt><span class="section"><a href="#memory-device">10.2. Device Memory</a></span></dt><dd><dl><dt><span class="section"><a href="#memory-device-hostaccess">10.2.1. Host Access to Device Memory Objects</a></span></dt><dt><span class="section"><a href="#memory-device-lazy_allocation">10.2.2. Lazily Allocated Memory</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#resources">11. Resource Creation</a></span></dt><dd><dl><dt><span class="section"><a href="#resources-buffers">11.1. Buffers</a></span></dt><dt><span class="section"><a href="#resources-buffer-views">11.2. Buffer Views</a></span></dt><dt><span class="section"><a href="#resources-images">11.3. Images</a></span></dt><dt><span class="section"><a href="#resources-image-layouts">11.4. Image Layouts</a></span></dt><dt><span class="section"><a href="#resources-image-views">11.5. Image Views</a></span></dt><dt><span class="section"><a href="#resources-association">11.6. Resource Memory Association</a></span></dt><dt><span class="section"><a href="#resources-sharing">11.7. Resource Sharing Mode</a></span></dt><dt><span class="section"><a href="#resources-memory-aliasing">11.8. Memory Aliasing</a></span></dt></dl></dd><dt><span class="chapter"><a href="#samplers">12. Samplers</a></span></dt><dt><span class="chapter"><a href="#descriptorsets">13. Resource Descriptors</a></span></dt><dd><dl><dt><span class="section"><a href="#descriptorsets-types">13.1. Descriptor Types</a></span></dt><dd><dl><dt><span class="section"><a href="#descriptorsets-storageimage">13.1.1. Storage Image</a></span></dt><dt><span class="section"><a href="#descriptorsets-sampler">13.1.2. Sampler</a></span></dt><dt><span class="section"><a href="#descriptorsets-sampledimage">13.1.3. Sampled Image</a></span></dt><dt><span class="section"><a href="#descriptorsets-combinedimagesampler">13.1.4. Combined Image Sampler</a></span></dt><dt><span class="section"><a href="#descriptorsets-uniformtexelbuffer">13.1.5. Uniform Texel Buffer</a></span></dt><dt><span class="section"><a href="#descriptorsets-storagetexelbuffer">13.1.6. Storage Texel Buffer</a></span></dt><dt><span class="section"><a href="#descriptorsets-uniformbuffer">13.1.7. Uniform Buffer</a></span></dt><dt><span class="section"><a href="#descriptorsets-storagebuffer">13.1.8. Storage Buffer</a></span></dt><dt><span class="section"><a href="#descriptorsets-uniformbufferdynamic">13.1.9. Dynamic Uniform Buffer</a></span></dt><dt><span class="section"><a href="#descriptorsets-storagebufferdynamic">13.1.10. Dynamic Storage Buffer</a></span></dt><dt><span class="section"><a href="#descriptorsets-inputattachment">13.1.11. Input Attachment</a></span></dt></dl></dd><dt><span class="section"><a href="#descriptorsets-sets">13.2. Descriptor Sets</a></span></dt><dd><dl><dt><span class="section"><a href="#descriptorsets-setlayout">13.2.1. Descriptor Set Layout</a></span></dt><dt><span class="section"><a href="#descriptorsets-pipelinelayout">13.2.2. Pipeline Layouts</a></span></dt><dt><span class="section"><a href="#descriptorsets-allocation">13.2.3. Allocation of Descriptor Sets</a></span></dt><dt><span class="section"><a href="#descriptorsets-updates">13.2.4. Descriptor Set Updates</a></span></dt><dt><span class="section"><a href="#descriptorsets-binding">13.2.5. Descriptor Set Binding</a></span></dt><dt><span class="section"><a href="#_push_constant_updates">13.2.6. Push Constant Updates</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#interfaces">14. Shader Interfaces</a></span></dt><dd><dl><dt><span class="section"><a href="#interfaces-iointerfaces">14.1. Shader Input and Output Interfaces</a></span></dt><dd><dl><dt><span class="section"><a href="#interfaces-iointerfaces-builtin">14.1.1. Built-in Interface Block</a></span></dt><dt><span class="section"><a href="#interfaces-iointerfaces-user">14.1.2. User-defined Variable Interface</a></span></dt><dt><span class="section"><a href="#interfaces-iointerfaces-matching">14.1.3. Interface Matching</a></span></dt><dt><span class="section"><a href="#interfaces-iointerfaces-locations">14.1.4. Location Assignment</a></span></dt><dt><span class="section"><a href="#interfaces-iointerfaces-components">14.1.5. Component Assignment</a></span></dt></dl></dd><dt><span class="section"><a href="#interfaces-vertexinput">14.2. Vertex Input Interface</a></span></dt><dt><span class="section"><a href="#interfaces-fragmentoutput">14.3. Fragment Output Interface</a></span></dt><dt><span class="section"><a href="#interfaces-inputattachment">14.4. Fragment Input Attachment Interface</a></span></dt><dt><span class="section"><a href="#interfaces-resources">14.5. Shader Resource Interface</a></span></dt><dd><dl><dt><span class="section"><a href="#interfaces-resources-pushconst">14.5.1. Push Constant Interface</a></span></dt><dt><span class="section"><a href="#interfaces-resources-descset">14.5.2. Descriptor Set Interface</a></span></dt><dt><span class="section"><a href="#interfaces-resources-setandbinding">14.5.3. DescriptorSet and Binding Assignment</a></span></dt><dt><span class="section"><a href="#interfaces-resources-layout">14.5.4. Offset and Stride Assignment</a></span></dt></dl></dd><dt><span class="section"><a href="#interfaces-builtin-variables">14.6. Built-In Variables</a></span></dt></dl></dd><dt><span class="chapter"><a href="#textures">15. Image Operations</a></span></dt><dd><dl><dt><span class="section"><a href="#_image_operations_overview">15.1. Image Operations Overview</a></span></dt><dd><dl><dt><span class="section"><a href="#_texel_coordinate_systems">15.1.1. Texel Coordinate Systems</a></span></dt></dl></dd><dt><span class="section"><a href="#_conversion_formulas">15.2. Conversion Formulas</a></span></dt><dd><dl><dt><span class="section"><a href="#textures-RGB-sexp">15.2.1. RGB to Shared Exponent Conversion</a></span></dt><dt><span class="section"><a href="#textures-sexp-RGB">15.2.2. Shared Exponent to RGB</a></span></dt></dl></dd><dt><span class="section"><a href="#_texel_input_operations">15.3. Texel Input Operations</a></span></dt><dd><dl><dt><span class="section"><a href="#textures-input-validation">15.3.1. Texel Input Validation Operations</a></span></dt><dt><span class="section"><a href="#textures-format-conversion">15.3.2. Format Conversion</a></span></dt><dt><span class="section"><a href="#textures-texel-replacement">15.3.3. Texel Replacement</a></span></dt><dt><span class="section"><a href="#textures-depth-compare-operation">15.3.4. Depth Compare Operation</a></span></dt><dt><span class="section"><a href="#textures-conversion-to-rgba">15.3.5. Conversion to RGBA</a></span></dt><dt><span class="section"><a href="#textures-component-swizzle">15.3.6. Component Swizzle</a></span></dt><dt><span class="section"><a href="#textures-sparse-residency">15.3.7. Sparse Residency</a></span></dt></dl></dd><dt><span class="section"><a href="#_texel_output_operations">15.4. Texel Output Operations</a></span></dt><dd><dl><dt><span class="section"><a href="#textures-output-validation">15.4.1. Texel Output Validation Operations</a></span></dt><dt><span class="section"><a href="#textures-output-coordinate-validation">15.4.2. Integer Texel Coordinate Validation</a></span></dt><dt><span class="section"><a href="#textures-output-sparse-validation">15.4.3. Sparse Texel Operation</a></span></dt><dt><span class="section"><a href="#textures-output-format-conversion">15.4.4. Texel Output Format Conversion</a></span></dt></dl></dd><dt><span class="section"><a href="#_derivative_operations">15.5. Derivative Operations</a></span></dt><dt><span class="section"><a href="#textures-normalized-operations">15.6. Normalized Texel Coordinate Operations</a></span></dt><dd><dl><dt><span class="section"><a href="#textures-projection">15.6.1. Projection Operation</a></span></dt><dt><span class="section"><a href="#_derivative_image_operations">15.6.2. Derivative Image Operations</a></span></dt><dt><span class="section"><a href="#_cube_map_face_selection_and_transformations">15.6.3. Cube Map Face Selection and Transformations</a></span></dt><dt><span class="section"><a href="#_cube_map_face_selection">15.6.4. Cube Map Face Selection</a></span></dt><dt><span class="section"><a href="#_cube_map_coordinate_transformation">15.6.5. Cube Map Coordinate Transformation</a></span></dt><dt><span class="section"><a href="#_cube_map_derivative_transformation">15.6.6. Cube Map Derivative Transformation</a></span></dt><dt><span class="section"><a href="#_scale_factor_operation_level_of_detail_operation_and_image_level_s_selection">15.6.7. Scale Factor Operation, Level-of-Detail Operation and Image Level(s) Selection</a></span></dt><dt><span class="section"><a href="#textures-normalized-to-unnormalized">15.6.8. (s,t,r,q,a) to (u,v,w,a) Transformation</a></span></dt></dl></dd><dt><span class="section"><a href="#_unnormalized_texel_coordinate_operations">15.7. Unnormalized Texel Coordinate Operations</a></span></dt><dd><dl><dt><span class="section"><a href="#textures-unnormalized-to-integer">15.7.1. (u,v,w,a) to (i,j,k,l,n) Transformation And Array Layer Selection</a></span></dt></dl></dd><dt><span class="section"><a href="#textures-sample-operations">15.8. Image Sample Operations</a></span></dt><dd><dl><dt><span class="section"><a href="#textures-wrapping-operation">15.8.1. Wrapping Operation</a></span></dt><dt><span class="section"><a href="#textures-gather">15.8.2. Texel Gathering</a></span></dt><dt><span class="section"><a href="#textures-texel-filtering">15.8.3. Texel Filtering</a></span></dt><dt><span class="section"><a href="#textures-texel-anisotropic-filtering">15.8.4. Texel Anisotropic Filtering</a></span></dt></dl></dd><dt><span class="section"><a href="#textures-instructions">15.9. Image Operation Steps</a></span></dt></dl></dd><dt><span class="chapter"><a href="#queries">16. Queries</a></span></dt><dd><dl><dt><span class="section"><a href="#queries-pools">16.1. Query Pools</a></span></dt><dt><span class="section"><a href="#queries-operation">16.2. Query Operation</a></span></dt><dt><span class="section"><a href="#queries-occlusion">16.3. Occlusion Queries</a></span></dt><dt><span class="section"><a href="#queries-pipestats">16.4. Pipeline Statistics Queries</a></span></dt><dt><span class="section"><a href="#queries-timestamps">16.5. Timestamp Queries</a></span></dt></dl></dd><dt><span class="chapter"><a href="#clears">17. Clear Commands</a></span></dt><dd><dl><dt><span class="section"><a href="#clears-outside">17.1. Clearing Images Outside A Render Pass Instance</a></span></dt><dt><span class="section"><a href="#clears-inside">17.2. Clearing Images Inside A Render Pass Instance</a></span></dt><dt><span class="section"><a href="#clears-values">17.3. Clear Values</a></span></dt><dt><span class="section"><a href="#clears-filling-buffers">17.4. Filling Buffers</a></span></dt><dt><span class="section"><a href="#clears-updating-buffers">17.5. Updating Buffers</a></span></dt></dl></dd><dt><span class="chapter"><a href="#copies">18. Copy Commands</a></span></dt><dd><dl><dt><span class="section"><a href="#_common_operation">18.1. Common Operation</a></span></dt><dt><span class="section"><a href="#copies-buffers">18.2. Copying Data Between Buffers</a></span></dt><dt><span class="section"><a href="#copies-images">18.3. Copying Data Between Images</a></span></dt><dt><span class="section"><a href="#copies-buffers-images">18.4. Copying Data Between Buffers and Images</a></span></dt><dt><span class="section"><a href="#copies-imagescaling">18.5. Image Copies with Scaling</a></span></dt><dt><span class="section"><a href="#copies-resolve">18.6. Resolving Multisample Images</a></span></dt></dl></dd><dt><span class="chapter"><a href="#drawing">19. Drawing Commands</a></span></dt><dd><dl><dt><span class="section"><a href="#drawing-primitive-topologies">19.1. Primitive Topologies</a></span></dt><dd><dl><dt><span class="section"><a href="#_points">19.1.1. Points</a></span></dt><dt><span class="section"><a href="#_separate_lines">19.1.2. Separate Lines</a></span></dt><dt><span class="section"><a href="#_line_strips">19.1.3. Line Strips</a></span></dt><dt><span class="section"><a href="#_triangle_strips">19.1.4. Triangle Strips</a></span></dt><dt><span class="section"><a href="#_triangle_fans">19.1.5. Triangle Fans</a></span></dt><dt><span class="section"><a href="#_separate_triangles">19.1.6. Separate Triangles</a></span></dt><dt><span class="section"><a href="#_lines_with_adjacency">19.1.7. Lines With Adjacency</a></span></dt><dt><span class="section"><a href="#_line_strips_with_adjacency">19.1.8. Line Strips With Adjacency</a></span></dt><dt><span class="section"><a href="#_triangle_list_with_adjacency">19.1.9. Triangle List With Adjacency</a></span></dt><dt><span class="section"><a href="#_triangle_strips_with_adjacency">19.1.10. Triangle Strips With Adjacency</a></span></dt><dt><span class="section"><a href="#drawing-primitive-topologies-patches">19.1.11. Separate Patches</a></span></dt><dt><span class="section"><a href="#_general_considerations_for_polygon_primitives">19.1.12. General Considerations For Polygon Primitives</a></span></dt></dl></dd><dt><span class="section"><a href="#_programmable_primitive_shading">19.2. Programmable Primitive Shading</a></span></dt></dl></dd><dt><span class="chapter"><a href="#fxvertex">20. Fixed-Function Vertex Processing</a></span></dt><dd><dl><dt><span class="section"><a href="#fxvertex-attrib">20.1. Vertex Attributes</a></span></dt><dd><dl><dt><span class="section"><a href="#fxvertex-attrib-location">20.1.1. Attribute Location and Component Assignment</a></span></dt></dl></dd><dt><span class="section"><a href="#fxvertex-input">20.2. Vertex Input Description</a></span></dt><dt><span class="section"><a href="#fxvertex-example">20.3. Example</a></span></dt></dl></dd><dt><span class="chapter"><a href="#tessellation">21. Tessellation</a></span></dt><dd><dl><dt><span class="section"><a href="#_tessellator">21.1. Tessellator</a></span></dt><dt><span class="section"><a href="#_tessellator_patch_discard">21.2. Tessellator Patch Discard</a></span></dt><dt><span class="section"><a href="#tessellation-tessellator-spacing">21.3. Tessellator Spacing</a></span></dt><dt><span class="section"><a href="#tessellation-triangle-tessellation">21.4. Triangle Tessellation</a></span></dt><dt><span class="section"><a href="#tessellation-quad-tessellation">21.5. Quad Tessellation</a></span></dt><dt><span class="section"><a href="#tessellation-isoline-tessellation">21.6. Isoline Tessellation</a></span></dt><dt><span class="section"><a href="#_tessellation_pipeline_state">21.7. Tessellation Pipeline State</a></span></dt></dl></dd><dt><span class="chapter"><a href="#geometry">22. Geometry Shading</a></span></dt><dd><dl><dt><span class="section"><a href="#geometry-input">22.1. Geometry Shader Input Primitives</a></span></dt><dt><span class="section"><a href="#geometry-output">22.2. Geometry Shader Output Primitives</a></span></dt><dt><span class="section"><a href="#geometry-invocations">22.3. Multiple Invocations of Geometry Shaders</a></span></dt><dt><span class="section"><a href="#geometry-ordering">22.4. Geometry Shader Primitive Ordering</a></span></dt></dl></dd><dt><span class="chapter"><a href="#vertexpostproc">23. Fixed-Function Vertex Post-Processing</a></span></dt><dd><dl><dt><span class="section"><a href="#vertexpostproc-flatshading">23.1. Flat Shading</a></span></dt><dt><span class="section"><a href="#vertexpostproc-clipping">23.2. Primitive Clipping</a></span></dt><dt><span class="section"><a href="#vertexpostproc-clipping-shader-outputs">23.3. Clipping Shader Outputs</a></span></dt><dt><span class="section"><a href="#vertexpostproc-coord-transform">23.4. Coordinate Transformations</a></span></dt><dt><span class="section"><a href="#vertexpostproc-viewport">23.5. Controlling the Viewport</a></span></dt></dl></dd><dt><span class="chapter"><a href="#primsrast">24. Rasterization</a></span></dt><dd><dl><dt><span class="section"><a href="#primsrast-discard">24.1. Discarding Primitives Before Rasterization</a></span></dt><dt><span class="section"><a href="#primrast-order">24.2. Rasterization Order</a></span></dt><dt><span class="section"><a href="#primsrast-multisampling">24.3. Multisampling</a></span></dt><dt><span class="section"><a href="#primsrast-sampleshading">24.4. Sample Shading</a></span></dt><dt><span class="section"><a href="#primsrast-points">24.5. Points</a></span></dt><dd><dl><dt><span class="section"><a href="#primsrast-points-basic">24.5.1. Basic Point Rasterization</a></span></dt></dl></dd><dt><span class="section"><a href="#primsrast-lines">24.6. Line Segments</a></span></dt><dd><dl><dt><span class="section"><a href="#primsrast-lines-basic">24.6.1. Basic Line Segment Rasterization</a></span></dt></dl></dd><dt><span class="section"><a href="#primsrast-polygons">24.7. Polygons</a></span></dt><dd><dl><dt><span class="section"><a href="#primsrast-polygons-basic">24.7.1. Basic Polygon Rasterization</a></span></dt><dt><span class="section"><a href="#primsrast-polygonmode">24.7.2. Polygon Mode</a></span></dt><dt><span class="section"><a href="#primsrast-depthbias">24.7.3. Depth Bias</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#fragops">25. Fragment Operations</a></span></dt><dd><dl><dt><span class="section"><a href="#fragops-early">25.1. Early Per-Fragment Tests</a></span></dt><dt><span class="section"><a href="#fragops-scissor">25.2. Scissor Test</a></span></dt><dt><span class="section"><a href="#fragops-samplemask">25.3. Sample Mask</a></span></dt><dt><span class="section"><a href="#fragops-early-mode">25.4. Early Fragment Test Mode</a></span></dt><dt><span class="section"><a href="#fragops-late">25.5. Late Per-Fragment Tests</a></span></dt><dt><span class="section"><a href="#fragops-covg">25.6. Multisample Coverage</a></span></dt><dt><span class="section"><a href="#fragops-ds-state">25.7. Depth and Stencil Operations</a></span></dt><dt><span class="section"><a href="#fragops-dbt">25.8. Depth Bounds Test</a></span></dt><dt><span class="section"><a href="#fragops-stencil">25.9. Stencil Test</a></span></dt><dt><span class="section"><a href="#fragops-depth">25.10. Depth Test</a></span></dt><dt><span class="section"><a href="#fragops-samplecount">25.11. Sample Counting</a></span></dt></dl></dd><dt><span class="chapter"><a href="#framebuffer">26. The Framebuffer</a></span></dt><dd><dl><dt><span class="section"><a href="#framebuffer-blending">26.1. Blending</a></span></dt><dd><dl><dt><span class="section"><a href="#framebuffer-blendfactors">26.1.1. Blend Factors</a></span></dt><dt><span class="section"><a href="#framebuffer-dsb">26.1.2. Dual-Source Blending</a></span></dt><dt><span class="section"><a href="#framebuffer-blendoperations">26.1.3. Blend Operations</a></span></dt></dl></dd><dt><span class="section"><a href="#framebuffer-logicop">26.2. Logical Operations</a></span></dt></dl></dd><dt><span class="chapter"><a href="#dispatch">27. Dispatching Commands</a></span></dt><dt><span class="chapter"><a href="#sparsememory">28. Sparse Resources</a></span></dt><dd><dl><dt><span class="section"><a href="#sparsememory-sparseresourcefeatures">28.1. Sparse Resource Features</a></span></dt><dt><span class="section"><a href="#sparsememory-fully-resident">28.2. Sparse Buffers and Fully-Resident Images</a></span></dt><dd><dl><dt><span class="section"><a href="#_sparse_buffer_and_fully_resident_image_block_size">28.2.1. Sparse Buffer and Fully-Resident Image Block Size</a></span></dt></dl></dd><dt><span class="section"><a href="#sparsememory-partially-resident-buffers">28.3. Sparse Partially-Resident Buffers</a></span></dt><dt><span class="section"><a href="#sparsememory-partially-resident-images">28.4. Sparse Partially-Resident Images</a></span></dt><dd><dl><dt><span class="section"><a href="#sparsememory-accessing-unbound">28.4.1. Accessing Unbound Regions</a></span></dt><dt><span class="section"><a href="#sparsememory-miptail">28.4.2. Mip Tail Regions</a></span></dt><dt><span class="section"><a href="#sparsememory-standard-shapes">28.4.3. Standard Sparse Image Block Shapes</a></span></dt><dt><span class="section"><a href="#sparsememory-custom-shapes">28.4.4. Custom Sparse Image Block Shapes</a></span></dt><dt><span class="section"><a href="#sparsememory-multiaspect">28.4.5. Multiple Aspects</a></span></dt></dl></dd><dt><span class="section"><a href="#sparsememory-sparse-memory-aliasing">28.5. Sparse Memory Aliasing</a></span></dt><dt><span class="section"><a href="#_sparse_resource_implementation_guidelines">28.6. Sparse Resource Implementation Guidelines</a></span></dt><dt><span class="section"><a href="#sparsememory-resourceapi">28.7. Sparse Resource API</a></span></dt><dd><dl><dt><span class="section"><a href="#sparsememory-physicalfeatures">28.7.1. Physical Device Features</a></span></dt><dt><span class="section"><a href="#sparsememory-physicalprops">28.7.2. Physical Device Sparse Properties</a></span></dt><dt><span class="section"><a href="#sparsememory-format-props">28.7.3. Sparse Image Format Properties</a></span></dt><dt><span class="section"><a href="#sparsememory-resource-creation">28.7.4. Sparse Resource Creation</a></span></dt><dt><span class="section"><a href="#sparsememory-memory-requirements">28.7.5. Sparse Resource Memory Requirements</a></span></dt><dt><span class="section"><a href="#sparsememory-resource-binding">28.7.6. Binding Resource Memory</a></span></dt></dl></dd><dt><span class="section"><a href="#sparsememory-examples">28.8. Examples</a></span></dt><dd><dl><dt><span class="section"><a href="#sparsememory-examples-basic">28.8.1. Basic Sparse Resources</a></span></dt><dt><span class="section"><a href="#sparsememory-examples-advanced">28.8.2. Advanced Sparse Resources</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#wsi">29. Window System Integration (WSI)</a></span></dt><dd><dl><dt><span class="section"><a href="#_wsi_platform">29.1. WSI Platform</a></span></dt><dt><span class="section"><a href="#_wsi_surface">29.2. WSI Surface</a></span></dt><dd><dl><dt><span class="section"><a href="#platformCreateSurface_android">29.2.1. Android Platform</a></span></dt><dt><span class="section"><a href="#platformCreateSurface_mir">29.2.2. Mir Platform</a></span></dt><dt><span class="section"><a href="#platformCreateSurface_wayland">29.2.3. Wayland Platform</a></span></dt><dt><span class="section"><a href="#platformCreateSurface_win32">29.2.4. Win32 Platform</a></span></dt><dt><span class="section"><a href="#platformCreateSurface_xcb">29.2.5. XCB Platform</a></span></dt><dt><span class="section"><a href="#platformCreateSurface_xlib">29.2.6. Xlib Platform</a></span></dt><dt><span class="section"><a href="#_platform_independent_information">29.2.7. Platform-Independent Information</a></span></dt></dl></dd><dt><span class="section"><a href="#display">29.3. Presenting Directly to Display Devices</a></span></dt><dd><dl><dt><span class="section"><a href="#_display_enumeration">29.3.1. Display Enumeration</a></span></dt><dt><span class="section"><a href="#_display_surfaces">29.3.2. Display Surfaces</a></span></dt></dl></dd><dt><span class="section"><a href="#_querying_for_wsi_support">29.4. Querying for WSI Support</a></span></dt><dd><dl><dt><span class="section"><a href="#platformQuerySupport_android">29.4.1. Android Platform</a></span></dt><dt><span class="section"><a href="#platformQuerySupport_mir">29.4.2. Mir Platform</a></span></dt><dt><span class="section"><a href="#platformQuerySupport_walyand">29.4.3. Wayland Platform</a></span></dt><dt><span class="section"><a href="#platformQuerySupport_win32">29.4.4. Win32 Platform</a></span></dt><dt><span class="section"><a href="#platformQuerySupport_xcb">29.4.5. XCB Platform</a></span></dt><dt><span class="section"><a href="#platformQuerySupport_xlib">29.4.6. Xlib Platform</a></span></dt></dl></dd><dt><span class="section"><a href="#_surface_queries">29.5. Surface Queries</a></span></dt><dt><span class="section"><a href="#_wsi_swapchain">29.6. WSI Swapchain</a></span></dt></dl></dd><dt><span class="chapter"><a href="#extended-functionality">30. Extended Functionality</a></span></dt><dd><dl><dt><span class="section"><a href="#extended-functionality-layers">30.1. Layers</a></span></dt><dd><dl><dt><span class="section"><a href="#extended-functionality-device-layer-deprecation">30.1.1. Device Layer Deprecation</a></span></dt></dl></dd><dt><span class="section"><a href="#extended-functionality-extensions">30.2. Extensions</a></span></dt><dd><dl><dt><span class="section"><a href="#extended-functionality-instance-extensions-and-devices">30.2.1. Instance Extensions and Device Extensions</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#features">31. Features, Limits, and Formats</a></span></dt><dd><dl><dt><span class="section"><a href="#features-features">31.1. Features</a></span></dt><dd><dl><dt><span class="section"><a href="#features-features-requirements">31.1.1. Feature Requirements</a></span></dt></dl></dd><dt><span class="section"><a href="#features-limits">31.2. Limits</a></span></dt><dd><dl><dt><span class="section"><a href="#features-limits-minmax">31.2.1. Limit Requirements</a></span></dt></dl></dd><dt><span class="section"><a href="#features-formats">31.3. Formats</a></span></dt><dd><dl><dt><span class="section"><a href="#features-formats-definition">31.3.1. Format Definition</a></span></dt><dt><span class="section"><a href="#features-formats-properties">31.3.2. Format Properties</a></span></dt><dt><span class="section"><a href="#features-required-format-support">31.3.3. Required Format Support</a></span></dt></dl></dd><dt><span class="section"><a href="#_additional_image_capabilities">31.4. Additional Image Capabilities</a></span></dt><dd><dl><dt><span class="section"><a href="#features-supported-sample-counts">31.4.1. Supported Sample Counts</a></span></dt><dt><span class="section"><a href="#features-extentperimagetype">31.4.2. Allowed Extent Values Based On Image Type</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#_debugging">32. Debugging</a></span></dt><dt><span class="appendix"><a href="#spirvenv">A. Vulkan Environment for SPIR-V</a></span></dt><dd><dl><dt><span class="section"><a href="#_required_versions_and_formats">A.1. Required Versions and Formats</a></span></dt><dt><span class="section"><a href="#spirvenv-capabilities">A.2. Capabilities</a></span></dt><dt><span class="section"><a href="#spirvenv-module-validation">A.3. Validation Rules within a Module</a></span></dt><dt><span class="section"><a href="#spirvenv-precision-operation">A.4. Precision and Operation of SPIR-V Instructions</a></span></dt></dl></dd><dt><span class="appendix"><a href="#_compressed_image_formats">B. Compressed Image Formats</a></span></dt><dd><dl><dt><span class="section"><a href="#appendix-compressedtex-bc">B.1. Block-Compressed Image Formats</a></span></dt><dt><span class="section"><a href="#appendix-compressedtex-etc2">B.2. ETC Compressed Image Formats</a></span></dt><dt><span class="section"><a href="#appendix-compressedtex-astc">B.3. ASTC Compressed Image Formats</a></span></dt></dl></dd><dt><span class="appendix"><a href="#extensions">C. Layers &amp; Extensions</a></span></dt><dd><dl><dt><span class="section"><a href="#VK_KHR_sampler_mirror_clamp_to_edge">C.1. VK_KHR_sampler_mirror_clamp_to_edge</a></span></dt><dd><dl><dt><span class="section"><a href="#_new_enum_constants">C.1.1. New Enum Constants</a></span></dt><dt><span class="section"><a href="#_example">C.1.2. Example</a></span></dt><dt><span class="section"><a href="#_version_history">C.1.3. Version History</a></span></dt></dl></dd><dt><span class="section"><a href="#_window_system_integration_wsi_extensions">C.2. Window System Integration (WSI) Extensions</a></span></dt><dd><dl><dt><span class="section"><a href="#_editors">C.2.1. Editors</a></span></dt><dt><span class="section"><a href="#VK_KHR_surface">C.2.2. VK_KHR_surface</a></span></dt><dt><span class="section"><a href="#VK_KHR_swapchain">C.2.3. VK_KHR_swapchain</a></span></dt><dt><span class="section"><a href="#VK_KHR_display">C.2.4. VK_KHR_display</a></span></dt><dt><span class="section"><a href="#VK_KHR_display_swapchain">C.2.5. VK_KHR_display_swapchain</a></span></dt><dt><span class="section"><a href="#VK_KHR_android_surface">C.2.6. VK_KHR_android_surface</a></span></dt><dt><span class="section"><a href="#VK_KHR_mir_surface">C.2.7. VK_KHR_mir_surface</a></span></dt><dt><span class="section"><a href="#VK_KHR_wayland_surface">C.2.8. VK_KHR_wayland_surface</a></span></dt><dt><span class="section"><a href="#VK_KHR_win32_surface">C.2.9. VK_KHR_win32_surface</a></span></dt><dt><span class="section"><a href="#VK_KHR_xcb_surface">C.2.10. VK_KHR_xcb_surface</a></span></dt><dt><span class="section"><a href="#VK_KHR_xlib_surface">C.2.11. VK_KHR_xlib_surface</a></span></dt></dl></dd></dl></dd><dt><span class="appendix"><a href="#boilerplate">D. API Boilerplate</a></span></dt><dd><dl><dt><span class="section"><a href="#boilerplate-sType">D.1. Structure Types</a></span></dt><dt><span class="section"><a href="#boilerplate-flags">D.2. Flag Types</a></span></dt><dt><span class="section"><a href="#boilerplate-macros">D.3. Macro Definitions in <code class="literal">vulkan.h</code></a></span></dt><dd><dl><dt><span class="section"><a href="#boilerplate-versions">D.3.1. Vulkan Version Number Macros</a></span></dt><dt><span class="section"><a href="#_vulkan_header_file_version_number">D.3.2. Vulkan Header File Version Number</a></span></dt><dt><span class="section"><a href="#_vulkan_handle_macros">D.3.3. Vulkan Handle Macros</a></span></dt></dl></dd><dt><span class="section"><a href="#boilerplate-platform-macros">D.4. Platform-Specific Macro Definitions in <code class="literal">vk_platform.h</code></a></span></dt><dd><dl><dt><span class="section"><a href="#_platform_specific_calling_conventions">D.4.1. Platform-Specific Calling Conventions</a></span></dt><dt><span class="section"><a href="#_platform_specific_header_control">D.4.2. Platform-Specific Header Control</a></span></dt><dt><span class="section"><a href="#boilerplate-wsi-header">D.4.3. Window System-Specific Header Control</a></span></dt></dl></dd></dl></dd><dt><span class="appendix"><a href="#_invariance">E. Invariance</a></span></dt><dd><dl><dt><span class="section"><a href="#_repeatability">E.1. Repeatability</a></span></dt><dt><span class="section"><a href="#_multi_pass_algorithms">E.2. Multi-pass Algorithms</a></span></dt><dt><span class="section"><a href="#_invariance_rules">E.3. Invariance Rules</a></span></dt><dt><span class="section"><a href="#_tessellation_invariance">E.4. Tessellation Invariance</a></span></dt></dl></dd><dt><span class="glossary"><a href="#_glossary">Glossary</a></span></dt><dt><span class="glossary"><a href="#_common_abbreviations">Common Abbreviations</a></span></dt><dt><span class="glossary"><a href="#_prefixes">Prefixes</a></span></dt><dt><span class="appendix"><a href="#credits">F. Credits</a></span></dt></dl></div><div class="list-of-figures"><p><strong>List of Figures</strong></p><dl><dt>9.1. <a href="#pipelines-block-diagram">Block diagram of the Vulkan pipeline</a></dt><dt>19.1. <a href="#fig-triangles">Triangle strips, fans, and lists</a></dt><dt>19.2. <a href="#fig-lineadj">Lines with adjacency</a></dt><dt>19.3. <a href="#fig-triadj">Triangles with adjacency</a></dt><dt>19.4. <a href="#fig-tstripadj">Triangle strips with adjacency</a></dt><dt>21.1. <a href="#img-tessellation-topology">Domain parameterization for tessellation primitive modes</a></dt><dt>21.2. <a href="#img-innertri">Inner Triangle Tessellation</a></dt><dt>21.3. <a href="#img-innerquad">Inner Quad Tessellation</a></dt><dt>24.1. <a href="#fig-non-strict-lines">Non strict lines</a></dt><dt>28.1. <a href="#id-1.30.8.5.9">Sparse Image</a></dt><dt>28.2. <a href="#id-1.30.8.5.12">Sparse Image with Single Mip Tail</a></dt><dt>28.3. <a href="#id-1.30.8.5.14">Sparse Image with Aligned Mip Size</a></dt><dt>28.4. <a href="#id-1.30.8.5.17">Sparse Image with Aligned Mip Size and Single Mip Tail</a></dt><dt>28.5. <a href="#id-1.30.8.8.3">Multiple Aspect Sparse Image</a></dt></dl></div><div class="list-of-tables"><p><strong>List of Tables</strong></p><dl><dt>3.1. <a href="#id-1.5.3.8">vkGetInstanceProcAddr behavior</a></dt><dt>3.2. <a href="#id-1.5.3.15">vkGetDeviceProcAddr behavior</a></dt><dt>6.1. <a href="#id-1.8.8.24">Event Object Status Codes</a></dt><dt>6.2. <a href="#id-1.8.10.12.9">Supported pipeline stage flags</a></dt><dt>6.3. <a href="#id-1.8.10.14.14">Supported access flags</a></dt><dt>9.1. <a href="#id-1.11.18.31">Layout for pipeline cache header version <code class="code">VK_PIPELINE_CACHE_HEADER_VERSION_ONE</code></a></dt><dt>11.1. <a href="#resources-image-views-compatibility">Image and image view parameter compatibility requirements</a></dt><dt>11.2. <a href="#resources-image-views-identity-mappings">Component Mappings Equivalent To <code class="code">VK_COMPONENT_SWIZZLE_IDENTITY</code></a></dt><dt>13.1. <a href="#descriptorsets-pipelinelayout-limits">Pipeline Layout Resource Limits</a></dt><dt>14.1. <a href="#interfaces-iointerfaces-limits">Shader Input and Output Locations</a></dt><dt>14.2. <a href="#interfaces-resources-correspondence">Shader Resource and Descriptor Type Correspondence</a></dt><dt>14.3. <a href="#id-1.16.8.6.18">Shader Resource and Storage Class Correspondence</a></dt><dt>14.4. <a href="#interfaces-resources-limits">Shader Resource Limits</a></dt><dt>15.1. <a href="#textures-border-replacement-color">Border Color <span class="inlinemediaobject"><span class="phrase">
$B$
</span></span></a></dt><dt>15.2. <a href="#textures-border-replacement-table">Border Texel Components After Replacement</a></dt><dt>15.3. <a href="#textures-texel-color-rgba-conversion-table">Texel Color After Conversion To RGBA</a></dt><dt>15.4. <a href="#id-1.17.7.6.5">Cube map face and coordinate selection</a></dt><dt>15.5. <a href="#id-1.17.7.6.6">Cube map derivative selection</a></dt><dt>19.1. <a href="#trigenadj">Triangles generated by triangle strips with adjacency.</a></dt><dt>20.1. <a href="#fxvertex-attrib-components">Input attribute components accessed by 32-bit input variables</a></dt><dt>20.2. <a href="#fxvertex-attrib-matrix">Input attributes accessed by 32-bit input matrix variables</a></dt><dt>20.3. <a href="#fxvertex-attrib-double">Input attribute locations and components accessed by 64-bit input variables</a></dt><dt>23.1. <a href="#id-1.25.5.5">Provoking vertex selection</a></dt><dt>24.1. <a href="#id-1.26.21.8">Standard sample locations</a></dt><dt>26.1. <a href="#id-1.28.2.17.5">Blend Factors</a></dt><dt>26.2. <a href="#id-1.28.2.19.6">Blend Operations</a></dt><dt>26.3. <a href="#id-1.28.3.8">Logical Operations</a></dt><dt>28.1. <a href="#sparsememory-sparseblockshapessingle">Standard Sparse Image Block Shapes (Single Sample)</a></dt><dt>28.2. <a href="#sparsememory-sparseblockshapesmsaa">Standard Sparse Image Block Shapes (MSAA)</a></dt><dt>31.1. <a href="#features-limits-types">Required Limit Types</a></dt><dt>31.2. <a href="#features-limits-required">Required Limits</a></dt><dt>31.3. <a href="#features-formats-numericformat">Interpretation of Numeric Format</a></dt><dt>31.4. <a href="#features-formats-compressionscheme">Interpretation of Compression Scheme</a></dt><dt>31.5. <a href="#features-formats-non-packed">Byte mappings for non-packed/compressed color formats</a></dt><dt>31.6. <a href="#features-formats-packed-8-bit">Bit mappings for packed 8-bit formats</a></dt><dt>31.7. <a href="#features-formats-packed-16-bit">Bit mappings for packed 16-bit formats</a></dt><dt>31.8. <a href="#features-formats-packed-32-bit">Bit mappings for packed 32-bit formats</a></dt><dt>31.9. <a href="#features-formats-compatibility">Compatible formats</a></dt><dt>31.10. <a href="#id-1.33.6.5.4">Key for format feature tables</a></dt><dt>31.11. <a href="#id-1.33.6.5.5">Feature bits in <em class="parameter"><code>optimalTilingFeatures</code></em></a></dt><dt>31.12. <a href="#id-1.33.6.5.6">Feature bits in <em class="parameter"><code>bufferFeatures</code></em></a></dt><dt>31.13. <a href="#features-formats-mandatory-features-subbyte">Mandatory format support: sub-byte channels</a></dt><dt>31.14. <a href="#features-formats-mandatory-features-2byte">Mandatory format support: 1-3 byte-sized channels</a></dt><dt>31.15. <a href="#features-formats-mandatory-features-4byte">Mandatory format support: 4 byte-sized channels</a></dt><dt>31.16. <a href="#features-formats-mandatory-features-10bit">Mandatory format support: 10-bit channels</a></dt><dt>31.17. <a href="#features-formats-mandatory-features-16bit">Mandatory format support: 16-bit channels</a></dt><dt>31.18. <a href="#features-formats-mandatory-features-32bit">Mandatory format support: 32-bit channels</a></dt><dt>31.19. <a href="#features-formats-mandatory-features-64bit">Mandatory format support: 64-bit/uneven channels and depth/stencil</a></dt><dt>31.20. <a href="#features-formats-mandatory-features-bcn">Mandatory format support: BC compressed formats with VkImageType <code class="code">VK_IMAGE_TYPE_2D</code> and <code class="code">VK_IMAGE_TYPE_3D</code></a></dt><dt>31.21. <a href="#features-formats-mandatory-features-etc">Mandatory format support: ETC2 and EAC compressed formats with VkImageType <code class="code">VK_IMAGE_TYPE_2D</code></a></dt><dt>31.22. <a href="#features-formats-mandatory-features-astc">Mandatory format support: ASTC LDR compressed formats with VkImageType <code class="code">VK_IMAGE_TYPE_2D</code></a></dt><dt>A.1. <a href="#spirvenv-capabilities-table">SPIR-V Capabilities which are not <span class="normative">required</span>, and corresponding feature names</a></dt><dt>A.2. <a href="#id-1.35.6.5">Precision of core SPIR-V Instructions</a></dt><dt>A.3. <a href="#id-1.35.6.6">Precision of GLSL.std.450 Instructions</a></dt><dt>A.4. <a href="#id-1.35.6.11">SPIR-V and Vulkan Image Format Compatibility</a></dt><dt>B.1. <a href="#id-1.36.6.2">Mapping of Vulkan BC formats to descriptions</a></dt><dt>B.2. <a href="#id-1.36.7.3">Mapping of Vulkan ETC formats to descriptions</a></dt><dt>B.3. <a href="#id-1.36.8.3">Mapping of Vulkan ASTC formats to descriptions</a></dt><dt>D.1. <a href="#boilerplate-wsi-header-table">Window System Extensions and Required Compile Time Symbol Definitions</a></dt></dl></div><div class="list-of-equations"><p><strong>List of Equations</strong></p><dl><dt>24.1. <a href="#line_perspective_interpolation">line_perspective_interpolation</a></dt><dt>24.2. <a href="#line_noperspective_interpolation">line_noperspective_interpolation</a></dt><dt>24.3. <a href="#triangle_perspective_interpolation">triangle_perspective_interpolation</a></dt><dt>24.4. <a href="#triangle_noperspective_interpolation">triangle_noperspective_interpolation</a></dt></dl></div><div class="preface"><div class="titlepage"><div><div><h1 class="title"><a id="id-1.2"></a></h1></div></div></div><p></p><p>Copyright © 2014-2016 The Khronos Group Inc. All Rights Reserved.</p><p>This specification is protected by copyright laws and contains material proprietary
to the Khronos Group, Inc. It or any components may not be reproduced, republished,
distributed, transmitted, displayed, broadcast or otherwise exploited in any
manner without the express prior written permission of Khronos Group. You may
use this specification for implementing the functionality therein, without altering or
removing any trademark, copyright or other notice from the specification, but the
receipt or possession of this specification does not convey any rights to reproduce,
disclose, or distribute its contents, or to manufacture, use, or sell anything that it
may describe, in whole or in part.</p><p>Khronos Group grants express permission to any current Promoter, Contributor
or Adopter member of Khronos to copy and redistribute UNMODIFIED versions
of this specification in any fashion, provided that NO CHARGE is made for the
specification and the latest available update of the specification for any version
of the API is used whenever possible. Such distributed specification may be reformatted
AS LONG AS the contents of the specification are not changed in any
way. The specification may be incorporated into a product that is sold as long as
such product includes significant independent work developed by the seller. A link
to the current version of this specification on the Khronos Group web-site should
be included whenever possible with specification distributions.</p><p>This specification has been created under the Khronos Intellectual Property Rights Policy,
which is Attachment A of the Khronos Group Membership Agreement available at
www.khronos.org/files/member_agreement.pdf. This specification contains substantially
unmodified functionality from, and is a successor to, Khronos specifications including
OpenGL, OpenGL ES and OpenCL.</p><p>Some parts of this Specification are purely informative and do not define requirements
necessary for compliance and so are outside the Scope of this Specification.  These
parts of the Specification are marked by the “Note” icon or designated “Informative”.</p><p>Where this Specification uses terms, defined in the Glossary or otherwise, that refer to
enabling technologies that are not expressly set forth as being required for compliance,
those enabling technologies are outside the Scope of this Specification.</p><p>Where this Specification uses the terms “may”, or “optional”, such features or
behaviors do not define requirements necessary for compliance and so are outside the
Scope of this Specification.</p><p>Where this Specification uses the terms “not required”, such features or
behaviors may be omitted from certain implementations, but when they are included, they
define requirements necessary for compliance and so are INCLUDED in the Scope of this
Specification.</p><p>Where this Specification includes normative references to external documents, the
specifically identified sections and functionality of those external documents are in
Scope. Requirements defined by external documents not created by Khronos may contain
contributions from non-members of Khronos not covered by the Khronos Intellectual
Property Rights Policy.</p><p>Khronos Group makes no, and expressly disclaims any, representations or warranties,
express or implied, regarding this specification, including, without limitation,
any implied warranties of merchantability or fitness for a particular purpose
or non-infringement of any intellectual property. Khronos Group makes no, and
expressly disclaims any, warranties, express or implied, regarding the correctness,
accuracy, completeness, timeliness, and reliability of the specification. Under no
circumstances will the Khronos Group, or any of its Promoters, Contributors or
Members or their respective partners, officers, directors, employees, agents or
representatives be liable for any damages, whether direct, indirect, special or
consequential damages for lost revenues, lost profits, or otherwise, arising from or in
connection with these materials.</p><p>Khronos and Vulkan are trademarks of The Khronos Group Inc. OpenCL is a trademark of
Apple Inc. and OpenGL is a registered trademark of Silicon Graphics International, both
used under license by Khronos.</p><p></p></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="introduction"></a>Chapter 1. Introduction</h1></div></div></div><p>This chapter is Informative except for the sections on Terminology and
Normative References.</p><p>This document, referred to as the “Vulkan Specification” or just the
“Specification” hereafter, describes the Vulkan graphics system: what it
is, how it acts, and what is required to implement it.
We assume that the reader has at least a rudimentary understanding of
computer graphics.
This means familiarity with the essentials of computer graphics algorithms
and terminology as well as with modern GPUs (Graphic Processing Units).</p><p>The canonical version of the Specification is available in the official
Vulkan Registry, located at URL</p><p><a class="ulink" href="http://www.khronos.org/registry/vulkan/" target="_top">http://www.khronos.org/registry/vulkan/</a></p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="introduction-whatis"></a>1.1. What is the Vulkan Graphics System?</h2></div></div></div><p>Vulkan is an API (Application Programming Interface) for graphics and
compute hardware.
The API consists of many commands that allow a programmer to specify shader
programs, compute kernels, objects, and operations involved in producing
high-quality graphical images, specifically color images of
three-dimensional objects.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="introduction-programmer"></a>1.1.1. The Programmer’s View of Vulkan</h3></div></div></div><p>To the programmer, Vulkan is a set of commands that allow the specification
of <span class="emphasis"><em>shader programs</em></span> or <span class="emphasis"><em>shaders</em></span>, <span class="emphasis"><em>kernels</em></span>, data used by kernels or
shaders, and state controlling aspects of Vulkan outside the scope of
shaders.
Typically, the data represents geometry in two or three dimensions and
texture images, while the shaders and kernels control the processing of the
data, rasterization of the geometry, and the lighting and shading of
<span class="emphasis"><em>fragments</em></span> generated by rasterization, resulting in the rendering of
geometry into the framebuffer.</p><p>A typical Vulkan program begins with platform-specific calls to open a
window or otherwise prepare a display device onto which the program will
draw.
Then, calls are made to open <span class="emphasis"><em>queues</em></span> to which <span class="emphasis"><em>command buffers</em></span> are
submitted.
The command buffers contain lists of commands which will be executed by the
underlying hardware.
The application <span class="normative">can</span> also allocate device memory, associate <span class="emphasis"><em>resources</em></span> with
memory and refer to these resources from within command buffers.
Drawing commands cause application-defined shader programs to be invoked,
which <span class="normative">can</span> then consume the data in the resources and use them to produce
graphical images.
To display the resulting images, further platform-specific commands are made
to transfer the resulting image to a display device or window.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="introduction-implementor"></a>1.1.2. The Implementor’s View of Vulkan</h3></div></div></div><p>To the implementor, Vulkan is a set of commands that allow the construction
and submission of command buffers to a device.
Modern devices accelerate virtually all Vulkan operations, storing data and
framebuffer images in high-speed memory and executing shaders in dedicated
GPU processing resources.</p><p>The implementor’s task is to provide a software library on the host which
implements the Vulkan API, while mapping the work for each Vulkan command to
the graphics hardware as appropriate for the capabilities of the device.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="introduction-ourview"></a>1.1.3. Our View of Vulkan</h3></div></div></div><p>We view Vulkan as a pipeline having some programmable stages and some
state-driven fixed-function stages that are invoked by a set of specific
drawing operations.
We expect this model to result in a specification that satisfies the needs
of both programmers and implementors.
It does not, however, necessarily provide a model for implementation.
An implementation <span class="normative">must</span> produce results conforming to those produced by the
specified methods, but <span class="normative">may</span> carry out particular computations in ways that
are more efficient than the one specified.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="introduction-bugs"></a>1.2. Filing Bug Reports</h2></div></div></div><p>Issues with and bug reports on the Vulkan Specification and the API Registry
<span class="normative">can</span> be filed in the Khronos Vulkan GitHub repository, located at URL</p><p><a class="ulink" href="http://github.com/KhronosGroup/Vulkan-Docs" target="_top">http://github.com/KhronosGroup/Vulkan-Docs</a></p><p>Please tag issues with appropriate labels, such as “Specification”, “Ref
Pages” or “Registry”, to help us triage and assign them appropriately.
Unfortunately, GitHub does not currently let users who do not have write
access to the repository set GitHub labels on issues.
In the meantime, they <span class="normative">can</span> be added to the title line of the issue set in
brackets, e.g.
<span class="emphasis"><em>'[Specification]</em></span>'.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="introduction-terminology"></a>1.3. Terminology</h2></div></div></div><p>The key words <span class="strong"><strong>must</strong></span>, <span class="strong"><strong>required</strong></span>, <span class="strong"><strong>shall</strong></span> <span class="strong"><strong>should</strong></span>, <span class="strong"><strong>recommend</strong></span>, <span class="strong"><strong>may</strong></span>, and
<span class="strong"><strong>optional</strong></span> in this document are to be interpreted as described in RFC 2119:</p><p><a class="ulink" href="http://www.ietf.org/rfc/rfc2119.txt" target="_top">http://www.ietf.org/rfc/rfc2119.txt</a></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>must</strong></span>
</span></dt><dd>
When used alone, this word, or the term <span class="strong"><strong>required</strong></span>, means that the
definition is an absolute requirement of the specification.
When followed by <span class="strong"><strong>not</strong></span> (“<span class="normative">must</span> not” ), the phrase means that the
definition is an absolute prohibition of the specification.
</dd><dt><span class="term">
<span class="strong"><strong>should</strong></span>
</span></dt><dd>
When used alone, this word, or the adjective <span class="strong"><strong>recommended</strong></span>, means that there
may exist valid reasons in particular circumstances to ignore a particular
item, but the full implications must be understood and carefully weighed
before choosing a different course.
When followed by <span class="strong"><strong>not</strong></span> (“<span class="normative">should</span> not”), the phrase means that there may
exist valid reasons in particular circumstances when the particular behavior
is acceptable or even useful, but the full implications <span class="normative">should</span> be
understood and the case carefully weighed before implementing any behavior
described with this label.
</dd><dt><span class="term">
<span class="strong"><strong>may</strong></span>
</span></dt><dd>
This word, or the adjective <span class="strong"><strong>optional</strong></span>, means that an item is truly
optional.
One vendor may choose to include the item because a particular marketplace
requires it or because the vendor feels that it enhances the product while
another vendor may omit the same item.
An implementation which does not include a particular option must be
prepared to interoperate with another implementation which does include the
option, though perhaps with reduced functionality.
In the same vein an implementation which does include a particular option
must be prepared to interoperate with another implementation which does not
include the option (except, of course, for the feature the option provides).
</dd></dl></div><p>The additional terms <span class="strong"><strong>can</strong></span> and <span class="strong"><strong>cannot</strong></span> are to be interpreted as follows:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>can</strong></span>
</span></dt><dd>
This word means that the particular behavior described is a valid choice for
an application, and is never used to refer to implementation behavior.
</dd><dt><span class="term">
<span class="strong"><strong>cannot</strong></span>
</span></dt><dd>
This word means that the particular behavior described is not achievable by
an application.
For example, an entry point does not exist, or shader code is not capable of
expressing an operation.
</dd></dl></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>There is an important distinction between <span class="strong"><strong>cannot</strong></span> and <span class="strong"><strong>must not</strong></span>, as used
in this Specification.
<span class="strong"><strong>Cannot</strong></span> means something the application literally is unable to express or
accomplish through the API, while <span class="strong"><strong>must not</strong></span> means something that the
application is capable of expressing through the API, but that the
consequences of doing so are undefined and potentially unrecoverable for the
implementation.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="introduction-normative"></a>1.4. Normative References</h2></div></div></div><p>Normative references are references to external documents or resources to
which implementers of Vulkan <span class="normative">must</span> comply.</p><p><a id="ieee-754"></a><span class="emphasis"><em>IEEE Standard for Floating-Point Arithmetic</em></span>, IEEE Std 754-2008,
<a class="ulink" href="http://dx.doi.org/10.1109/IEEESTD.2008.4610935" target="_top">http://dx.doi.org/10.1109/IEEESTD.2008.4610935</a>, August, 2008.</p><p><a id="data-format"></a> A.
Garrard, <span class="emphasis"><em>Khronos Data Format Specification, version 1.1</em></span>,
<a class="ulink" href="https://www.khronos.org/registry/dataformat/specs/1.1/dataformat.1.1.html" target="_top">https://www.khronos.org/registry/dataformat/specs/1.1/dataformat.1.1.html</a>,
June, 2016.</p><p><a id="spirv-extended"></a> J.
Kessenich, <span class="emphasis"><em>SPIR-V Extended Instructions for GLSL, Version 1.00</em></span>,
<a class="ulink" href="https://www.khronos.org/registry/spir-v/" target="_top">https://www.khronos.org/registry/spir-v/</a>, February 10, 2016.</p><p><a id="spirv-spec"></a> J.
Kessenich and B.
Ouriel, <span class="emphasis"><em>The Khronos SPIR-V Specification, Version 1.00</em></span>,
<a class="ulink" href="https://www.khronos.org/registry/spir-v/" target="_top">https://www.khronos.org/registry/spir-v/</a>, February 10, 2016.</p><p><a id="vulkan-styleguide"></a> J.
Leech and T.
Hector, <span class="emphasis"><em>Vulkan Documentation and Extensions: Procedures and Conventions</em></span>,
<a class="ulink" href="https://www.khronos.org/registry/vulkan/" target="_top">https://www.khronos.org/registry/vulkan/</a>, July 11, 2016</p><p><a id="LoaderAndValidationLayers"></a><span class="emphasis"><em>Vulkan Loader Specification and Architecture Overview</em></span>,
<a class="ulink" href="https://github.com/KhronosGroup/Vulkan-LoaderAndValidationLayers/blob/master/loader/LoaderAndLayerInterface.md" target="_top">https://github.com/KhronosGroup/Vulkan-LoaderAndValidationLayers/blob/master/loader/LoaderAndLayerInterface.md</a>,
August, 2016.</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="fundamentals"></a>Chapter 2. Fundamentals</h1></div></div></div><p>This chapter introduces fundamental concepts including the Vulkan
architecture and execution model, API syntax, queues, pipeline
configurations, numeric representation, state and state queries, and the
different types of objects and shaders.
It provides a framework for interpreting more specific descriptions of
commands and behavior in the remainder of the Specification.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fundamentals-architecture-model"></a>2.1. Architecture Model</h2></div></div></div><p>Vulkan is designed for, and the API is written for, CPU, GPU, and other
hardware accelerator architectures with the following properties:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Runtime support for 8, 16, 32 and 64-bit signed and unsigned
    twos-complement integers, all addressable at the granularity of their
    size in bytes.
</li><li class="listitem">
Runtime support for 32- and 64-bit floating-point types satisfying the
    range and precision constraints in the
    <a class="link" href="#fundamentals-floatingpoint" title="2.7.1. Floating-Point Computation">Floating Point Computation</a> section.
</li><li class="listitem">
The representation and endianness of these types <span class="normative">must</span> be identical for
    the host and the physical devices.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Since a variety of data types and structures in Vulkan <span class="normative">may</span> be mapped back
and forth between host and physical device memory, host and device
architectures <span class="normative">must</span> both be able to access such data efficiently in order to
write portable and performant applications.</p></td></tr></table></div><p>Where the Specification leaves choices open that would affect Application
Binary Interface compatibility on a given platform supporting Vulkan, those
choices are usually made to be compliant to the preferred ABI defined by the
platform vendor.
Some choices, such as function calling conventions, <span class="normative">may</span> be made in
platform-specific portions of the <code class="literal">vk_platform.h</code> header file.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For example, the Android ABI is defined by Google, and the Linux ABI is
defined by a combination of gcc defaults, distribution vendor choices, and
external standards such as the Linux Standard Base.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fundamentals-execmodel"></a>2.2. Execution Model</h2></div></div></div><p>This section outlines the execution model of a Vulkan system.</p><p>Vulkan exposes one or more <span class="emphasis"><em>devices</em></span>, each of which exposes one or more
<span class="emphasis"><em>queues</em></span> which <span class="normative">may</span> process work asynchronously to one another.
The set of queues supported by a device is partitioned into <span class="emphasis"><em>families</em></span>.
Each family supports one or more types of functionality and <span class="normative">may</span> contain
multiple queues with similar characteristics.
Queues within a single family are considered <span class="emphasis"><em>compatible</em></span> with one another,
and work produced for a family of queues <span class="normative">can</span> be executed on any queue
within that family.
This specification defines four types of functionality that queues <span class="normative">may</span>
support: graphics, compute, transfer, and sparse memory management.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>A single device <span class="normative">may</span> report multiple similar queue families rather than, or
as well as, reporting multiple members of one or more of those families.
This indicates that while members of those families have similar
capabilities, they are <span class="emphasis"><em>not</em></span> directly compatible with one another.</p></td></tr></table></div><p>Device memory is explicitly managed by the application.
Each device <span class="normative">may</span> advertise one or more heaps, representing different areas
of memory.
Memory heaps are either device local or host local, but are always visible
to the device.
Further detail about memory heaps is exposed via memory types available on
that heap.
Examples of memory areas that <span class="normative">may</span> be available on an implementation
include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="emphasis"><em>device local</em></span> is memory that is physically connected to the device.
</li><li class="listitem">
<span class="emphasis"><em>device local, host visible</em></span> is device local memory that is visible to
    the host.
</li><li class="listitem">
<span class="emphasis"><em>host local, host visible</em></span> is memory that is local to the host and
    visible to the device and host.
</li></ul></div><p>On other architectures, there <span class="normative">may</span> only be a single heap that <span class="normative">can</span> be used
for any purpose.</p><p>A Vulkan application controls a set of devices through the submission of
command buffers which have recorded device commands issued via Vulkan
library calls.
The content of command buffers is specific to the underlying hardware and is
opaque to the application.
Once constructed, a command buffer <span class="normative">can</span> be submitted once or many times to a
queue for execution.
Multiple command buffers <span class="normative">can</span> be built in parallel by employing multiple
threads within the application.</p><p>Command buffers submitted to different queues <span class="normative">may</span> execute in parallel or
even out of order with respect to one another.
Command buffers submitted to a single queue respect the submission order, as
described further in <a class="link" href="#fundamentals-queueoperation" title="2.2.1. Queue Operation">Queue Operation</a>.
Command buffer execution by the device is also asynchronous to host
execution.
Once a command buffer is submitted to a queue, control <span class="normative">may</span> return to the
application immediately.
Synchronization between the device and host, and between different queues is
the responsibility of the application.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="fundamentals-queueoperation"></a>2.2.1. Queue Operation</h3></div></div></div><p>Vulkan queues provide an interface to the execution engines of a device.
Commands for these execution engines are recorded into command buffers ahead
of execution time.
These command buffers are then submitted to queues with a <span class="emphasis"><em>queue submission</em></span>
command for execution in a number of <span class="emphasis"><em>batches</em></span>.
Once submitted to a queue, these commands will begin and complete execution
without further application intervention, though the order of this execution
is dependent on a number of implicit and explicit ordering constraints.</p><p>Work is submitted to queues using queue submission commands that typically
take the form <span class="strong"><strong><code class="code">vkQueue*</code></strong></span> (e.g.
<code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code>, <code class="code"><a class="link" href="#vkQueueBindSparse">vkQueueBindSparse</a></code>), and optionally take a list of
semaphores upon which to wait before work begins and a list of semaphores to
signal once work has completed.
The work itself, as well as signaling and waiting on the semaphores are all
<span class="emphasis"><em>queue operations</em></span>.</p><p>Queue operations on different queues have no implicit ordering constraints,
and <span class="normative">may</span> execute in any order.
Explicit ordering constraints between queues <span class="normative">can</span> be expressed with
<a class="link" href="#synchronization-semaphores" title="6.2. Semaphores">semaphores</a> and
<a class="link" href="#synchronization-fences" title="6.1. Fences">fences</a>.</p><p>Command buffer submissions to a single queue <span class="normative">must</span> always adhere to
<a class="link" href="#fundamentals-queueoperation-commandorder">command order</a> and
<a class="link" href="#fundamentals-queueoperation-apiorder">API order</a>, but otherwise <span class="normative">may</span>
overlap or execute out of order.
Other types of batches and queue submissions against a single queue (e.g.
<a class="link" href="#sparsemem-memory-binding" title="Sparse Memory Binding Functions">sparse memory binding</a>) have no implicit
ordering constraints with any other queue submission or batch.
Additional explicit ordering constraints between queue submissions and
individual batches can be expressed with
<a class="link" href="#synchronization-semaphores" title="6.2. Semaphores">semaphores</a> and
<a class="link" href="#synchronization-fences" title="6.1. Fences">fences</a>.</p><p>Before a fence or semaphore is signaled, it is guaranteed that any
previously submitted queue operations have completed execution, and that
memory writes from those queue operations are
<a class="link" href="#synchronization-execution-and-memory-dependencies-available-and-visible">available</a>
to future queue operations.
Waiting on a signaled semaphore or fence guarantees that previous writes
that are available are also
<a class="link" href="#synchronization-execution-and-memory-dependencies-available-and-visible">visible</a>
to subsequent commands.</p><p>Command buffer boundaries, both between primary command buffers of the same
or different batches or submissions as well as between primary and secondary
command buffers, do not introduce any implicit ordering constraints.
In other words, submitting the set of command buffers (which <span class="normative">can</span> include
executing secondary command buffers) between any semaphore or fence
operations execute the recorded commands as if they had all been recorded
into a single primary command buffer, except that the current state is
<a class="link" href="#commandbuffers-statereset">reset</a> on each boundary.
Explicit ordering constraints can be expressed with
<a class="link" href="#synchronization-events" title="6.3. Events">events</a> and
<a class="link" href="#synchronization-pipeline-barriers" title="6.5. Pipeline Barriers">pipeline barriers</a>.</p><p>There are a few <a class="link" href="#fundamentals-queueoperation-apiorder">implicit ordering constraints</a> between commands within a command buffer, but only covering a
subset of execution.
Additional explicit ordering constraints can be expressed with
<a class="link" href="#synchronization-events" title="6.3. Events">events</a>,
<a class="link" href="#synchronization-pipeline-barriers" title="6.5. Pipeline Barriers">pipeline barriers</a> and
<a class="link" href="#VkSubpassDependency">subpass dependencies</a>.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Implementations have significant freedom to overlap execution of work
submitted to a queue, and this is common due to deep pipelining and
parallelism in Vulkan devices.</p></td></tr></table></div><p><a id="fundamentals-queueoperation-commandorder"></a>Commands recorded in command buffers either perform actions (draw, dispatch,
clear, copy, query/timestamp operations, begin/end subpass operations), set
state (bind pipelines, descriptor sets, and buffers, set dynamic state, push
constants, set render pass/subpass state), or perform synchronization
(set/wait events, pipeline barrier, render pass/subpass dependencies).
Some commands perform more than one of these tasks.
State setting commands update the <span class="emphasis"><em>current state</em></span> of the command buffer.
Some commands that perform actions (e.g.
draw/dispatch) do so based on the current state set cumulatively since the
start of the command buffer.
The work involved in performing action commands is often allowed to overlap
or to be reordered, but doing so <span class="normative">must</span> not alter the state to be used by
each action command.
In general, action commands are those commands that alter framebuffer
attachments, read/write buffer or image memory, or write to query pools.</p><p>Synchronization commands introduce explicit
<a class="link" href="#synchronization-execution-and-memory-dependencies" title="6.4. Execution And Memory Dependencies">execution and memory dependencies</a> between two sets of action commands, where the second set of
commands depends on the first set of commands.
These dependencies enforce that both the execution of certain
<a class="link" href="#synchronization-pipeline-stage-flags" title="6.5.2. Pipeline Stage Flags">pipeline stages</a> in the later set
occur after the execution of certain stages in the source set, and that the
effects of <a class="link" href="#synchronization-global-memory-barrier" title="6.5.4. Global Memory Barriers">memory accesses</a>
performed by certain pipeline stages occur in order and are visible to each
other.
When not enforced by an explicit dependency or otherwise forbidden by the
specification, action commands <span class="normative">may</span> overlap execution or execute out of
order, and <span class="normative">may</span> not see the side effects of each other’s memory accesses.</p><p>The execution order of an action command with respect to any synchronization
commands that affect that action command <span class="normative">must</span> match the recording and
submission order, within submissions to a single queue.</p><p><a id="fundamentals-queueoperation-apiorder"></a><span class="emphasis"><em>API order</em></span> sorts primitives:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
First, by the action command that generates them.
</li><li class="listitem">
Second, by the order they are processed by
    <a class="link" href="#drawing-primitive-assembly-apiorder">primitive assembly</a>.
</li></ul></div><p>Within this order, implementations also sort primitives:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Third, by an implementation-dependent ordering of new primitives
    generated by tessellation, if a tessellation shader is active.
</li><li class="listitem">
Fourth, by the order new primitives are generated by
    <a class="link" href="#geometry-ordering" title="22.4. Geometry Shader Primitive Ordering">geometry shading</a>, if geometry shading is active.
</li><li class="listitem">
Fifth, by an implementation-dependent ordering of primitives generated
    due to the <a class="link" href="#primsrast-polygonmode" title="24.7.2. Polygon Mode">polygon mode</a>.
</li></ul></div><p>The device executes queue operations asynchronously with respect to the
host.
Control is returned to an application immediately following command buffer
submission to a queue.
The application <span class="normative">must</span> synchronize work between the host and device as
needed.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fundamentals-objectmodel-overview"></a>2.3. Object Model</h2></div></div></div><p>The devices, queues, and other entities in Vulkan are represented by Vulkan
objects.
At the API level, all objects are referred to by handles.
There are two classes of handles, dispatchable and non-dispatchable.
<span class="emphasis"><em>Dispatchable</em></span> handle types are a pointer to an opaque type.
This pointer <span class="normative">may</span> be used by layers as part of intercepting API commands,
and thus each API command takes a dispatchable type as its first parameter.
Each object of a dispatchable type <span class="normative">must</span> have a unique handle value during
its lifetime.</p><p><span class="emphasis"><em>Non-dispatchable</em></span> handle types are a 64-bit integer type whose meaning is
implementation-dependent, and <span class="normative">may</span> encode object information directly in the
handle rather than pointing to a software structure.
Objects of a non-dispatchable type <span class="normative">may</span> not have unique handle values within
a type or across types.
If handle values are not unique, then destroying one such handle <span class="normative">must</span> not
cause identical handles of other types to become invalid, and <span class="normative">must</span> not
cause identical handles of the same type to become invalid if that handle
value has been created more times than it has been destroyed.</p><p>All objects created or allocated from a <code class="code">VkDevice</code> (i.e.
with a <code class="code">VkDevice</code> as the first parameter) are private to that device,
and <span class="normative">must</span> not be used on other devices.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="fundamentals-objectmodel-lifetime"></a>2.3.1. Object Lifetime</h3></div></div></div><p>Objects are created or allocated by <span class="strong"><strong><code class="code">vkCreate*</code></strong></span> and <span class="strong"><strong><code class="code">vkAllocate*</code></strong></span>
commands, respectively.
Once an object is created or allocated, its “structure” is considered to
be immutable, though the contents of certain object types is still free to
change.
Objects are destroyed or freed by <span class="strong"><strong><code class="code">vkDestroy*</code></strong></span> and <span class="strong"><strong><code class="code">vkFree*</code></strong></span>
commands, respectively.</p><p>Objects that are allocated (rather than created) take resources from an
existing pool object or memory heap, and when freed return resources to that
pool or heap.
While object creation and destruction are generally expected to be
low-frequency occurrences during runtime, allocating and freeing objects
<span class="normative">can</span> occur at high frequency.
Pool objects help accommodate improved performance of the allocations and
frees.</p><p>It is an application’s responsibility to track the lifetime of Vulkan
objects, and not to destroy them while they are still in use.</p><p>Application-owned memory is immediately consumed by any Vulkan command it is
passed into.
The application <span class="normative">can</span> alter or free this memory as soon as the commands that
consume it have returned.</p><p>The following object types are consumed when they are passed into a Vulkan
command and not further accessed by the objects they are used to create.
They <span class="normative">must</span> not be destroyed in the duration of any API command they are
passed into:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VkShaderModule</code>
</li><li class="listitem">
<code class="code">VkPipelineCache</code>
</li></ul></div><p>A <code class="code">VkPipelineLayout</code> object <span class="normative">must</span> not be destroyed while any command
buffer that uses it is in the recording state.</p><p><code class="code">VkDescriptorSetLayout</code> objects <span class="normative">may</span> be accessed by commands that
operate on descriptor sets allocated using that layout, and those descriptor
sets <span class="normative">must</span> not be updated with <code class="code"><a class="link" href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a></code> after the
descriptor set layout has been destroyed.
Otherwise, descriptor set layouts <span class="normative">can</span> be destroyed any time they are not in
use by an API command.</p><p>The application <span class="normative">must</span> not destroy any other type of Vulkan object until all
uses of that object by the device (such as via command buffer execution)
have completed.</p><p>The following Vulkan objects <span class="normative">must</span> not be destroyed while any command
buffers using the object are recording or pending execution:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VkEvent</code>
</li><li class="listitem">
<code class="code">VkQueryPool</code>
</li><li class="listitem">
<code class="code">VkBuffer</code>
</li><li class="listitem">
<code class="code">VkBufferView</code>
</li><li class="listitem">
<code class="code">VkImage</code>
</li><li class="listitem">
<code class="code">VkImageView</code>
</li><li class="listitem">
<code class="code">VkPipeline</code>
</li><li class="listitem">
<code class="code">VkSampler</code>
</li><li class="listitem">
<code class="code">VkDescriptorPool</code>
</li><li class="listitem">
<code class="code">VkFramebuffer</code>
</li><li class="listitem">
<code class="code">VkRenderPass</code>
</li><li class="listitem">
<code class="code">VkCommandPool</code>
</li><li class="listitem">
<code class="code">VkDeviceMemory</code>
</li><li class="listitem">
<code class="code">VkDescriptorSet</code>
</li></ul></div><p>The following Vulkan objects <span class="normative">must</span> not be destroyed while any queue is
executing commands that use the object:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VkFence</code>
</li><li class="listitem">
<code class="code">VkSemaphore</code>
</li><li class="listitem">
<code class="code">VkCommandBuffer</code>
</li><li class="listitem">
<code class="code">VkCommandPool</code>
</li></ul></div><p>In general, objects <span class="normative">can</span> be destroyed or freed in any order, even if the
object being freed is involved in the use of another object (e.g.
use of a resource in a view, use of a view in a descriptor set, use of an
object in a command buffer, binding of a memory allocation to a resource),
as long as any object that uses the freed object is not further used in any
way except to be destroyed or to be reset in such a way that it no longer
uses the other object (such as resetting a command buffer).
If the object has been reset, then it <span class="normative">can</span> be used as if it never used the
freed object.
An exception to this is when there is a parent/child relationship between
objects.
In this case, the application <span class="normative">must</span> not destroy a parent object before its
children, except when the parent is explicitly defined to free its children
when it is destroyed (e.g.
for pool objects, as defined below).</p><p><code class="code">VkCommandPool</code> objects are parents of <code class="code">VkCommandBuffer</code> objects.
<code class="code">VkDescriptorPool</code> objects are parents of <code class="code">VkDescriptorSet</code> objects.
<code class="code">VkDevice</code> objects are parents of many object types (all that take a
<code class="code">VkDevice</code> as a parameter to their creation).</p><p>The following Vulkan objects have specific restrictions for when they <span class="normative">can</span>
be destroyed:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VkQueue</code> objects <span class="normative">cannot</span> be explicitly destroyed.
    Instead, they are implicitly destroyed when the <code class="code">VkDevice</code> object
    they are retrieved from is destroyed.
</li><li class="listitem">
Destroying a pool object implicitly frees all objects allocated from
    that pool.
    Specifically, destroying <code class="code">VkCommandPool</code> frees all
    <code class="code">VkCommandBuffer</code> objects that were allocated from it, and
    destroying <code class="code">VkDescriptorPool</code> frees all <code class="code">VkDescriptorSet</code>
    objects that were allocated from it.
</li><li class="listitem"><p class="simpara">
<code class="code">VkDevice</code> objects <span class="normative">can</span> be destroyed when all <code class="code">VkQueue</code> objects
    retrieved from them are idle, and all objects created from them have
    been destroyed.
    This includes the following objects:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VkFence</code>
</li><li class="listitem">
<code class="code">VkSemaphore</code>
</li><li class="listitem">
<code class="code">VkEvent</code>
</li><li class="listitem">
<code class="code">VkQueryPool</code>
</li><li class="listitem">
<code class="code">VkBuffer</code>
</li><li class="listitem">
<code class="code">VkBufferView</code>
</li><li class="listitem">
<code class="code">VkImage</code>
</li><li class="listitem">
<code class="code">VkImageView</code>
</li><li class="listitem">
<code class="code">VkShaderModule</code>
</li><li class="listitem">
<code class="code">VkPipelineCache</code>
</li><li class="listitem">
<code class="code">VkPipeline</code>
</li><li class="listitem">
<code class="code">VkPipelineLayout</code>
</li><li class="listitem">
<code class="code">VkSampler</code>
</li><li class="listitem">
<code class="code">VkDescriptorSetLayout</code>
</li><li class="listitem">
<code class="code">VkDescriptorPool</code>
</li><li class="listitem">
<code class="code">VkFramebuffer</code>
</li><li class="listitem">
<code class="code">VkRenderPass</code>
</li><li class="listitem">
<code class="code">VkCommandPool</code>
</li><li class="listitem">
<code class="code">VkCommandBuffer</code>
</li><li class="listitem">
<code class="code">VkDeviceMemory</code>
</li></ul></div></li><li class="listitem">
<code class="code">VkPhysicalDevice</code> objects <span class="normative">cannot</span> be explicitly destroyed.
    Instead, they are implicitly destroyed when the <code class="code">VkInstance</code> object
    they are retrieved from is destroyed.
</li><li class="listitem">
<code class="code">VkInstance</code> objects <span class="normative">can</span> be destroyed once all <code class="code">VkDevice</code>
    objects created from any of its <code class="code">VkPhysicalDevice</code> objects have been
    destroyed.
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fundamentals-commandsyntax"></a>2.4. Command Syntax and Duration</h2></div></div></div><p>The Specification describes Vulkan commands as functions or procedures using
C99 syntax.
Language bindings for other languages such as C++ and JavaScript <span class="normative">may</span> allow
for stricter parameter passing, or object-oriented interfaces.</p><p>Vulkan uses the standard C types for the base type of scalar parameters
(e.g.
types from <code class="literal">stdint.h</code>), with exceptions described below, or elsewhere in the
text when appropriate:</p><p><code class="code">VkBool32</code> represents boolean <code class="literal">True</code> and <code class="literal">False</code> values, since
C does not have a sufficiently portable built-in boolean type:</p><p><a id="VkBool32"></a><strong> </strong>
</p><pre class="programlisting">typedef uint32_t VkBool32;</pre><p>
</p><p><code class="code">VK_TRUE</code> represents a boolean <span class="strong"><strong>True</strong></span> (integer 1) value, and
<code class="code">VK_FALSE</code> a boolean <span class="strong"><strong>False</strong></span> (integer 0) value.</p><p>All values returned from a Vulkan implementation in a <code class="code">VkBool32</code> will
be either <code class="code">VK_TRUE</code> or <code class="code">VK_FALSE</code>.</p><p>Applications <span class="normative">must</span> not pass any other values than <code class="code">VK_TRUE</code> or
<code class="code">VK_FALSE</code> into a Vulkan implementation where a <code class="code">VkBool32</code> is
expected.</p><p><code class="code">VkDeviceSize</code> represents device memory size and offset values:</p><p><a id="VkDeviceSize"></a><strong> </strong>
</p><pre class="programlisting">typedef uint64_t VkDeviceSize;</pre><p>
</p><p>Commands that create Vulkan objects are of the form <span class="strong"><strong><code class="code">vkCreate*</code></strong></span> and take
<code class="code">Vk*CreateInfo</code> structures with the parameters needed to create the
object.
These Vulkan objects are destroyed with commands of the form
<span class="strong"><strong><code class="code">vkDestroy*</code></strong></span>.</p><p>The last in-parameter to each command that creates or destroys a Vulkan
object is <em class="parameter"><code>pAllocator</code></em>.
The <em class="parameter"><code>pAllocator</code></em> parameter <span class="normative">can</span> be set to a non-<code class="literal">NULL</code> value such that
allocations for the given object are delegated to an application provided
callback; refer to the <a class="link" href="#memory-allocation">Memory Allocation</a> chapter for
further details.</p><p>Commands that allocate Vulkan objects owned by pool objects are of the form
<span class="strong"><strong><code class="code">vkAllocate*</code></strong></span>, and take <code class="code">Vk*AllocateInfo</code> structures.
These Vulkan objects are freed with commands of the form <span class="strong"><strong><code class="code">vkFree*</code></strong></span>.
These objects do not take allocators; if host memory is needed, they will
use the allocator that was specified when their parent pool was created.</p><p>Commands are recorded into a command buffer by calling API commands of the
form <span class="strong"><strong><code class="code">vkCmd*</code></strong></span>.
Each such command <span class="normative">may</span> have different restrictions on where it <span class="normative">can</span> be used:
in a primary and/or secondary command buffer, inside and/or outside a render
pass, and in one or more of the supported queue types.
These restrictions are documented together with the definition of each such
command.</p><p>The <span class="emphasis"><em>duration</em></span> of a Vulkan command refers to the interval between calling
the command and its return to the caller.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="fundamentals-commandsyntax-results-lifetime"></a>2.4.1. Lifetime of Retrieved Results</h3></div></div></div><p>Information is retrieved from the implementation with commands of the form
<span class="strong"><strong><code class="code">vkGet*</code></strong></span> and <span class="strong"><strong><code class="code">vkEnumerate*</code></strong></span>.</p><p>Unless otherwise specified for an individual command, the results are
<span class="emphasis"><em>invariant</em></span>; that is, they will remain unchanged when retrieved again by
calling the same command with the same parameters, so long as those
parameters themselves all remain valid.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fundamentals-threadingbehavior"></a>2.5. Threading Behavior</h2></div></div></div><p>Vulkan is intended to provide scalable performance when used on multiple
host threads.
All commands support being called concurrently from multiple threads, but
certain parameters, or components of parameters are defined to be
<span class="emphasis"><em>externally synchronized</em></span>.
This means that the caller <span class="normative">must</span> guarantee that no more than one thread is
using such a parameter at a given time.</p><p>More precisely, Vulkan commands use simple stores to update software
structures representing Vulkan objects.
A parameter declared as externally synchronized <span class="normative">may</span> have its software
structures updated at any time during the host execution of the command.
If two commands operate on the same object and at least one of the commands
declares the object to be externally synchronized, then the caller <span class="normative">must</span>
guarantee not only that the commands do not execute simultaneously, but also
that the two commands are separated by an appropriate memory barrier (if
needed).</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Memory barriers are particularly relevant on the ARM CPU architecture which
is more weakly ordered than many developers are accustomed to from x86/x64
programming.
Fortunately, most higher-level synchronization primitives (like the pthread
library) perform memory barriers as a part of mutual exclusion, so mutexing
Vulkan objects via these primitives will have the desired effect.</p></td></tr></table></div><p>Many object types are <span class="emphasis"><em>immutable</em></span>, meaning the objects <span class="normative">cannot</span> change once
they have been created.
These types of objects never need external synchronization, except that they
<span class="normative">must</span> not be destroyed while they are in use on another thread.
In certain special cases, mutable object parameters are internally
synchronized such that they do not require external synchronization.
One example of this is the use of a <code class="code">VkPipelineCache</code> in
<span class="strong"><strong><code class="code">vkCreateGraphicsPipelines</code></strong></span> and <span class="strong"><strong><code class="code">vkCreateComputePipelines</code></strong></span>, where
external synchronization around such a heavyweight command would be
impractical.
The implementation <span class="normative">must</span> internally synchronize the cache in this example,
and <span class="normative">may</span> be able to do so in the form of a much finer-grained mutex around
the command.
Any command parameters that are not labeled as externally synchronized are
either not mutated by the command or are internally synchronized.
Additionally, certain objects related to a command’s parameters (e.g.
command pools and descriptor pools) <span class="normative">may</span> be affected by a command, and <span class="normative">must</span>
also be externally synchronized.
These implicit parameters are documented as described below.</p><p>Parameters of commands that are externally synchronized are listed below.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Externally Synchronized Parameters</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
The <em class="parameter"><code>instance</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyInstance">vkDestroyInstance</a></code>
</li><li class="listitem">
The <em class="parameter"><code>device</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyDevice">vkDestroyDevice</a></code>
</li><li class="listitem">
The <em class="parameter"><code>queue</code></em> parameter in <code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code>
</li><li class="listitem">
The <em class="parameter"><code>fence</code></em> parameter in <code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code>
</li><li class="listitem">
The <em class="parameter"><code>memory</code></em> parameter in <code class="code"><a class="link" href="#vkFreeMemory">vkFreeMemory</a></code>
</li><li class="listitem">
The <em class="parameter"><code>memory</code></em> parameter in <code class="code"><a class="link" href="#vkMapMemory">vkMapMemory</a></code>
</li><li class="listitem">
The <em class="parameter"><code>memory</code></em> parameter in <code class="code"><a class="link" href="#vkUnmapMemory">vkUnmapMemory</a></code>
</li><li class="listitem">
The <em class="parameter"><code>buffer</code></em> parameter in <code class="code"><a class="link" href="#vkBindBufferMemory">vkBindBufferMemory</a></code>
</li><li class="listitem">
The <em class="parameter"><code>image</code></em> parameter in <code class="code"><a class="link" href="#vkBindImageMemory">vkBindImageMemory</a></code>
</li><li class="listitem">
The <em class="parameter"><code>queue</code></em> parameter in <code class="code"><a class="link" href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</li><li class="listitem">
The <em class="parameter"><code>fence</code></em> parameter in <code class="code"><a class="link" href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</li><li class="listitem">
The <em class="parameter"><code>fence</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyFence">vkDestroyFence</a></code>
</li><li class="listitem">
The <em class="parameter"><code>semaphore</code></em> parameter in <code class="code"><a class="link" href="#vkDestroySemaphore">vkDestroySemaphore</a></code>
</li><li class="listitem">
The <em class="parameter"><code>event</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyEvent">vkDestroyEvent</a></code>
</li><li class="listitem">
The <em class="parameter"><code>event</code></em> parameter in <code class="code"><a class="link" href="#vkSetEvent">vkSetEvent</a></code>
</li><li class="listitem">
The <em class="parameter"><code>event</code></em> parameter in <code class="code"><a class="link" href="#vkResetEvent">vkResetEvent</a></code>
</li><li class="listitem">
The <em class="parameter"><code>queryPool</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyQueryPool">vkDestroyQueryPool</a></code>
</li><li class="listitem">
The <em class="parameter"><code>buffer</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyBuffer">vkDestroyBuffer</a></code>
</li><li class="listitem">
The <em class="parameter"><code>bufferView</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyBufferView">vkDestroyBufferView</a></code>
</li><li class="listitem">
The <em class="parameter"><code>image</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyImage">vkDestroyImage</a></code>
</li><li class="listitem">
The <em class="parameter"><code>imageView</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyImageView">vkDestroyImageView</a></code>
</li><li class="listitem">
The <em class="parameter"><code>shaderModule</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyShaderModule">vkDestroyShaderModule</a></code>
</li><li class="listitem">
The <em class="parameter"><code>pipelineCache</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyPipelineCache">vkDestroyPipelineCache</a></code>
</li><li class="listitem">
The <em class="parameter"><code>dstCache</code></em> parameter in <code class="code"><a class="link" href="#vkMergePipelineCaches">vkMergePipelineCaches</a></code>
</li><li class="listitem">
The <em class="parameter"><code>pipeline</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyPipeline">vkDestroyPipeline</a></code>
</li><li class="listitem">
The <em class="parameter"><code>pipelineLayout</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyPipelineLayout">vkDestroyPipelineLayout</a></code>
</li><li class="listitem">
The <em class="parameter"><code>sampler</code></em> parameter in <code class="code"><a class="link" href="#vkDestroySampler">vkDestroySampler</a></code>
</li><li class="listitem">
The <em class="parameter"><code>descriptorSetLayout</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyDescriptorSetLayout">vkDestroyDescriptorSetLayout</a></code>
</li><li class="listitem">
The <em class="parameter"><code>descriptorPool</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyDescriptorPool">vkDestroyDescriptorPool</a></code>
</li><li class="listitem">
The <em class="parameter"><code>descriptorPool</code></em> parameter in <code class="code"><a class="link" href="#vkResetDescriptorPool">vkResetDescriptorPool</a></code>
</li><li class="listitem">
The <em class="parameter"><code>descriptorPool</code></em> the <em class="parameter"><code>pAllocateInfo</code></em> parameter in <code class="code"><a class="link" href="#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a></code>
</li><li class="listitem">
The <em class="parameter"><code>descriptorPool</code></em> parameter in <code class="code"><a class="link" href="#vkFreeDescriptorSets">vkFreeDescriptorSets</a></code>
</li><li class="listitem">
The <em class="parameter"><code>framebuffer</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyFramebuffer">vkDestroyFramebuffer</a></code>
</li><li class="listitem">
The <em class="parameter"><code>renderPass</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyRenderPass">vkDestroyRenderPass</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandPool</code></em> parameter in <code class="code"><a class="link" href="#vkDestroyCommandPool">vkDestroyCommandPool</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandPool</code></em> parameter in <code class="code"><a class="link" href="#vkResetCommandPool">vkResetCommandPool</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandPool</code></em> the <em class="parameter"><code>pAllocateInfo</code></em> parameter in <code class="code"><a class="link" href="#vkAllocateCommandBuffers">vkAllocateCommandBuffers</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandPool</code></em> parameter in <code class="code"><a class="link" href="#vkFreeCommandBuffers">vkFreeCommandBuffers</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkEndCommandBuffer">vkEndCommandBuffer</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkResetCommandBuffer">vkResetCommandBuffer</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdBindPipeline">vkCmdBindPipeline</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdSetViewport">vkCmdSetViewport</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdSetScissor">vkCmdSetScissor</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdSetLineWidth">vkCmdSetLineWidth</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdSetDepthBias">vkCmdSetDepthBias</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdSetBlendConstants">vkCmdSetBlendConstants</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdSetDepthBounds">vkCmdSetDepthBounds</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdSetStencilWriteMask">vkCmdSetStencilWriteMask</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdSetStencilReference">vkCmdSetStencilReference</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdBindVertexBuffers">vkCmdBindVertexBuffers</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdDraw">vkCmdDraw</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdDispatch">vkCmdDispatch</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdCopyBuffer">vkCmdCopyBuffer</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdCopyImage">vkCmdCopyImage</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdBlitImage">vkCmdBlitImage</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdCopyImageToBuffer">vkCmdCopyImageToBuffer</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdUpdateBuffer">vkCmdUpdateBuffer</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdFillBuffer">vkCmdFillBuffer</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdClearColorImage">vkCmdClearColorImage</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdClearDepthStencilImage">vkCmdClearDepthStencilImage</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdClearAttachments">vkCmdClearAttachments</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdResolveImage">vkCmdResolveImage</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdSetEvent">vkCmdSetEvent</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdResetEvent">vkCmdResetEvent</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdWaitEvents">vkCmdWaitEvents</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdBeginQuery">vkCmdBeginQuery</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdEndQuery">vkCmdEndQuery</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdWriteTimestamp">vkCmdWriteTimestamp</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdPushConstants">vkCmdPushConstants</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdNextSubpass">vkCmdNextSubpass</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdEndRenderPass">vkCmdEndRenderPass</a></code>
</li><li class="listitem">
The <em class="parameter"><code>commandBuffer</code></em> parameter in <code class="code"><a class="link" href="#vkCmdExecuteCommands">vkCmdExecuteCommands</a></code>
</li><li class="listitem">
The <em class="parameter"><code>surface</code></em> parameter in <code class="code"><a class="link" href="#vkDestroySurfaceKHR">vkDestroySurfaceKHR</a></code>
</li><li class="listitem">
The <em class="parameter"><code>surface</code></em> member of the <em class="parameter"><code>pCreateInfo</code></em> parameter in <code class="code"><a class="link" href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>
</li><li class="listitem">
The <em class="parameter"><code>oldSwapchain</code></em> member of the <em class="parameter"><code>pCreateInfo</code></em> parameter in <code class="code"><a class="link" href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>
</li><li class="listitem">
The <em class="parameter"><code>swapchain</code></em> parameter in <code class="code"><a class="link" href="#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a></code>
</li><li class="listitem">
The <em class="parameter"><code>swapchain</code></em> parameter in <code class="code"><a class="link" href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>
</li><li class="listitem">
The <em class="parameter"><code>semaphore</code></em> parameter in <code class="code"><a class="link" href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>
</li><li class="listitem">
The <em class="parameter"><code>fence</code></em> parameter in <code class="code"><a class="link" href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>
</li><li class="listitem">
The <em class="parameter"><code>queue</code></em> parameter in <code class="code"><a class="link" href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code>
</li><li class="listitem">
The <em class="parameter"><code>display</code></em> parameter in <code class="code"><a class="link" href="#vkCreateDisplayModeKHR">vkCreateDisplayModeKHR</a></code>
</li><li class="listitem">
The <em class="parameter"><code>mode</code></em> parameter in <code class="code"><a class="link" href="#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a></code>
</li></ul></div></div><p>There are also a few instances where a command <span class="normative">can</span> take in a user allocated
list whose contents are externally synchronized parameters.
In these cases, the caller <span class="normative">must</span> guarantee that at most one thread is using
a given element within the list at a given time.
These parameters are listed below.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Externally Synchronized Parameter Lists</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Each element of the <em class="parameter"><code>pWaitSemaphores</code></em> member of each element of the <em class="parameter"><code>pSubmits</code></em> parameter in <code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code>
</li><li class="listitem">
Each element of the <em class="parameter"><code>pSignalSemaphores</code></em> member of each element of the <em class="parameter"><code>pSubmits</code></em> parameter in <code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code>
</li><li class="listitem">
Each element of the <em class="parameter"><code>pWaitSemaphores</code></em> member of each element of the <em class="parameter"><code>pBindInfo</code></em> parameter in <code class="code"><a class="link" href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</li><li class="listitem">
Each element of the <em class="parameter"><code>pSignalSemaphores</code></em> member of each element of the <em class="parameter"><code>pBindInfo</code></em> parameter in <code class="code"><a class="link" href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</li><li class="listitem">
The <em class="parameter"><code>buffer</code></em> member of each element of the <em class="parameter"><code>pBufferBinds</code></em> member of each element of the <em class="parameter"><code>pBindInfo</code></em> parameter in <code class="code"><a class="link" href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</li><li class="listitem">
The <em class="parameter"><code>image</code></em> member of each element of the <em class="parameter"><code>pImageOpaqueBinds</code></em> member of each element of the <em class="parameter"><code>pBindInfo</code></em> parameter in <code class="code"><a class="link" href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</li><li class="listitem">
The <em class="parameter"><code>image</code></em> member of each element of the <em class="parameter"><code>pImageBinds</code></em> member of each element of the <em class="parameter"><code>pBindInfo</code></em> parameter in <code class="code"><a class="link" href="#vkQueueBindSparse">vkQueueBindSparse</a></code>
</li><li class="listitem">
Each element of the <em class="parameter"><code>pFences</code></em> parameter in <code class="code"><a class="link" href="#vkResetFences">vkResetFences</a></code>
</li><li class="listitem">
Each element of the <em class="parameter"><code>pDescriptorSets</code></em> parameter in <code class="code"><a class="link" href="#vkFreeDescriptorSets">vkFreeDescriptorSets</a></code>
</li><li class="listitem">
The <em class="parameter"><code>dstSet</code></em> member of each element of the <em class="parameter"><code>pDescriptorWrites</code></em> parameter in <code class="code"><a class="link" href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a></code>
</li><li class="listitem">
The <em class="parameter"><code>dstSet</code></em> member of each element of the <em class="parameter"><code>pDescriptorCopies</code></em> parameter in <code class="code"><a class="link" href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a></code>
</li><li class="listitem">
Each element of the <em class="parameter"><code>pCommandBuffers</code></em> parameter in <code class="code"><a class="link" href="#vkFreeCommandBuffers">vkFreeCommandBuffers</a></code>
</li><li class="listitem">
Each element of the <em class="parameter"><code>pWaitSemaphores</code></em> member of the <em class="parameter"><code>pPresentInfo</code></em> parameter in <code class="code"><a class="link" href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code>
</li><li class="listitem">
Each element of the <em class="parameter"><code>pSwapchains</code></em> member of the <em class="parameter"><code>pPresentInfo</code></em> parameter in <code class="code"><a class="link" href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code>
</li><li class="listitem">
The <em class="parameter"><code>surface</code></em> member of each element of the <em class="parameter"><code>pCreateInfos</code></em> parameter in <code class="code"><a class="link" href="#vkCreateSharedSwapchainsKHR">vkCreateSharedSwapchainsKHR</a></code>
</li><li class="listitem">
The <em class="parameter"><code>oldSwapchain</code></em> member of each element of the <em class="parameter"><code>pCreateInfos</code></em> parameter in <code class="code"><a class="link" href="#vkCreateSharedSwapchainsKHR">vkCreateSharedSwapchainsKHR</a></code>
</li></ul></div></div><p>In addition, there are some implicit parameters that need to be externally
synchronized.
For example, all <em class="parameter"><code>commandBuffer</code></em> parameters that need to be externally
synchronized imply that the <em class="parameter"><code>commandPool</code></em> that was passed in when
creating that command buffer also needs to be externally synchronized.
The implicit parameters and their associated object are listed below.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Implicit Externally Synchronized Parameters</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
All <code class="code">VkQueue</code> objects created from <em class="parameter"><code>device</code></em> in <code class="code"><a class="link" href="#vkDeviceWaitIdle">vkDeviceWaitIdle</a></code>
</li><li class="listitem">
Any <code class="code">VkDescriptorSet</code> objects allocated from <em class="parameter"><code>descriptorPool</code></em> in <code class="code"><a class="link" href="#vkResetDescriptorPool">vkResetDescriptorPool</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdBindPipeline">vkCmdBindPipeline</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdSetViewport">vkCmdSetViewport</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdSetScissor">vkCmdSetScissor</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdSetLineWidth">vkCmdSetLineWidth</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdSetDepthBias">vkCmdSetDepthBias</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdSetBlendConstants">vkCmdSetBlendConstants</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdSetDepthBounds">vkCmdSetDepthBounds</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdSetStencilWriteMask">vkCmdSetStencilWriteMask</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdSetStencilReference">vkCmdSetStencilReference</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdBindVertexBuffers">vkCmdBindVertexBuffers</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdDraw">vkCmdDraw</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdDispatch">vkCmdDispatch</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdCopyBuffer">vkCmdCopyBuffer</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdCopyImage">vkCmdCopyImage</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdBlitImage">vkCmdBlitImage</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdCopyImageToBuffer">vkCmdCopyImageToBuffer</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdUpdateBuffer">vkCmdUpdateBuffer</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdFillBuffer">vkCmdFillBuffer</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdClearColorImage">vkCmdClearColorImage</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdClearDepthStencilImage">vkCmdClearDepthStencilImage</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdClearAttachments">vkCmdClearAttachments</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdResolveImage">vkCmdResolveImage</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdSetEvent">vkCmdSetEvent</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdResetEvent">vkCmdResetEvent</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdWaitEvents">vkCmdWaitEvents</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdBeginQuery">vkCmdBeginQuery</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdEndQuery">vkCmdEndQuery</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdWriteTimestamp">vkCmdWriteTimestamp</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdPushConstants">vkCmdPushConstants</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdNextSubpass">vkCmdNextSubpass</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdEndRenderPass">vkCmdEndRenderPass</a></code>
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from, in <code class="code"><a class="link" href="#vkCmdExecuteCommands">vkCmdExecuteCommands</a></code>
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fundamentals-errors"></a>2.6. Errors</h2></div></div></div><p>Vulkan is a layered API.
The lowest layer is the core Vulkan layer, as defined by this Specification.
The application <span class="normative">can</span> use additional layers above the core for debugging,
validation, and other purposes.</p><p>One of the core principles of Vulkan is that building and submitting command
buffers <span class="normative">should</span> be highly efficient.
Thus error checking and validation of state in the core layer is minimal,
although more rigorous validation <span class="normative">can</span> be enabled through the use of layers.</p><p>The core layer assumes applications are using the API correctly.
Except as documented elsewhere in the Specification, the behavior of the
core layer to an application using the API incorrectly is undefined, and
<span class="normative">may</span> include program termination.
However, implementations <span class="normative">must</span> ensure that incorrect usage by an application
does not affect the integrity of the operating system, the Vulkan
implementation, or other Vulkan client applications in the system, and does
not allow one application to access data belonging to another application.
Applications <span class="normative">can</span> request stronger robustness guarantees by enabling the
<em class="parameter"><code>robustBufferAccess</code></em> feature as described in <a class="xref" href="#features" title="Chapter 31. Features, Limits, and Formats">Chapter 31, <em>Features, Limits, and Formats</em></a>.</p><p>Validation of correct API usage is left to validation layers.
Applications <span class="normative">should</span> be developed with validation layers enabled, to help
catch and eliminate errors.
Once validated, released applications <span class="normative">should</span> not enable validation layers
by default.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="fundamentals-validusage"></a>2.6.1. Valid Usage</h3></div></div></div><p>Valid usage defines a set of conditions which <span class="normative">must</span> be met in order to
achieve well-defined run-time behavior in an application.
These conditions depend only on Vulkan state, and the parameters or objects
whose usage is constrained by the condition.</p><p>Some valid usage conditions have dependencies on run-time limits or feature
availability.
It is possible to validate these conditions against Vulkan’s minimum
supported values for these limits and features, or some subset of other
known values.</p><p>Valid usage conditions do not cover conditions where well-defined behavior
(including returning an error code) exists.</p><p>Valid usage conditions <span class="normative">should</span> apply to the command or structure where
complete information about the condition would be known during execution of
an application.
This is such that a validation layer or linter <span class="normative">can</span> be written directly
against these statements at the point they are specified.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This does lead to some non-obvious places for valid usage statements.
For instance, the valid values for a structure might depend on a separate
value in the calling command.
In this case, the structure itself will not reference this valid usage as it
is impossible to determine validity from the structure that it is invalid -
instead this valid usage would be attached to the calling command.</p><p>Another example is draw state - the state setters are independent, and can
cause a legitimately invalid state configuration between draw calls; so the
valid usage statements are attached to the place where all state needs to be
valid - at the draw command.</p></td></tr></table></div><p>Certain usage rules apply to all commands in the API unless explicitly
denoted differently for a command.
These rules are as follows.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="fundamentals-validusage-handles"></a>Valid Usage for Object Handles</h4></div></div></div><p>Any input parameter to a command that is an object handle <span class="normative">must</span> be a valid
object handle, unless otherwise specified.
An object handle is valid if:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
It has been created or allocated by a previous, successful call to the
    API.
    Such calls are noted in the specification.
</li><li class="listitem">
It has not been deleted or freed by a previous call to the API.
    Such calls are noted in the specification.
</li><li class="listitem">
Any objects used by that object, either as part of creation or
    execution, <span class="normative">must</span> also be valid.
</li></ul></div><p>The reserved handle <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> <span class="normative">can</span> be passed in place of valid
object handles when <span class="emphasis"><em>explicitly called out in the specification</em></span>.
Any command that creates an object successfully <span class="normative">must</span> not return
<code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>.
It is valid to pass <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> to any <span class="strong"><strong><code class="code">vkDestroy*</code></strong></span> or
<span class="strong"><strong><code class="code">vkFree*</code></strong></span> command, which will silently ignore these values.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="fundamentals-validusage-pointers"></a>Valid Usage for Pointers</h4></div></div></div><p>Any parameter that is a pointer <span class="normative">must</span> be a valid pointer.
A pointer is valid if it points at memory containing values of the number
and type(s) expected by the command, and all fundamental types accessed
through the pointer (e.g.
as elements of an array or as members of a structure) satisfy the alignment
requirements of the host processor.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="fundamentals-validusage-enums"></a>Valid Usage for Enumerated Types</h4></div></div></div><p>Any parameter of an enumerated type <span class="normative">must</span> be a valid enumerant for that
type.
A enumerant is valid if:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
The enumerant is defined as part of the enumerated type.
</li><li class="listitem">
The enumerant is not one of the special values defined for the
    enumerated type, which are suffixed with <code class="code">_BEGIN_RANGE</code>,
    <code class="code">_END_RANGE</code>, <code class="code">_RANGE_SIZE</code> or <code class="code">_MAX_ENUM</code>.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="fundamentals-validusage-flags"></a>Valid Usage for Flags</h4></div></div></div><p>A collection of flags is represented by a bitmask using the type
<code class="code">VkFlags</code>:</p><p><a id="VkFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef uint32_t VkFlags;</pre><p>
</p><p>Bitmasks are passed to many commands and structures to compactly represent
options, but <code class="code">VkFlags</code> is not used directly in the API.
Instead, a <code class="code">Vk*Flags</code> type which is an alias of <code class="code">VkFlags</code>, and
whose name matches the corresponding <code class="code">Vk*FlagBits</code> that are valid for
that type, is used.
These aliases are described in the <a class="link" href="#boilerplate-flags" title="D.2. Flag Types">Flag Types</a> appendix
of the Specification.</p><p>Any <code class="code">Vk*Flags</code> member or parameter used in the API <span class="normative">must</span> be a valid
combination of bit flags.
A valid combination is either zero or the bitwise OR of valid bit flags.
A bit flag is valid if:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
The bit flag is defined as part of the <code class="code">Vk*FlagBits</code> type, where the
    bits type is obtained by taking the flag type and replacing the trailing
    <code class="code">Flags</code> with <code class="code">FlagBits</code>.
    For example, a flag value of type <code class="code"><a class="link" href="#VkColorComponentFlags">VkColorComponentFlags</a></code> <span class="normative">must</span>
    contain only bit flags defined by <code class="code"><a class="link" href="#VkColorComponentFlagBits">VkColorComponentFlagBits</a></code>.
</li><li class="listitem">
The flag is allowed in the context in which it is being used.
    For example, in some cases, certain bit flags or combinations of bit
    flags are mutually exclusive.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="fundamentals-validusage-sType"></a>Valid Usage for Structure Types</h4></div></div></div><p>Any parameter that is a structure containing a <em class="parameter"><code>sType</code></em> member <span class="normative">must</span> have
a value of <em class="parameter"><code>sType</code></em> which is a valid <code class="code"><a class="link" href="#VkStructureType">VkStructureType</a></code> value matching
the type of the structure.
As a general rule, the name of this value is obtained by taking the
structure name, stripping the leading <code class="code">Vk</code>, prefixing each capital
letter with <code class="code">_</code>, converting the entire resulting string to upper case,
and prefixing it with <code class="code">VK_STRUCTURE_TYPE_</code>.
For example, structures of type <code class="code">VkImageCreateInfo</code> <span class="normative">must</span> have a
<em class="parameter"><code>sType</code></em> value of <code class="code">VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO</code>.</p><p>The values <code class="code">VK_STRUCTURE_TYPE_LOADER_INSTANCE_CREATE_INFO</code> and
<code class="code">VK_STRUCTURE_TYPE_LOADER_DEVICE_CREATE_INFO</code> are reserved for internal
use by the loader, and do not have corresponding Vulkan structures in this
specification.</p><p>The list of supported <a class="link" href="#boilerplate-sType" title="D.1. Structure Types">structure types</a> is defined in an
appendix.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="fundamentals-validusage-pNext"></a>Valid Usage for Structure Pointer Chains</h4></div></div></div><p>Any parameter that is a structure containing a <code class="literal">void*</code> <em class="parameter"><code>pNext</code></em>
member <span class="normative">must</span> have a value of <em class="parameter"><code>pNext</code></em> that is either <code class="literal">NULL</code>, or points to
a valid structure defined by an extension, containing <em class="parameter"><code>sType</code></em> and
<em class="parameter"><code>pNext</code></em> members as described in the <a class="link" href="#vulkan-styleguide">Vulkan Documentation and Extensions</a> document in the section “Extension
Interactions”.
If that extension is supported by the implementation, then it <span class="normative">must</span> be
enabled.
Any component of the implementation (the loader, any enabled layers, and
drivers) <span class="normative">must</span> skip over, without processing (other than reading the
<em class="parameter"><code>sType</code></em> and <em class="parameter"><code>pNext</code></em> members) any chained structures with <em class="parameter"><code>sType</code></em>
values not defined by extensions supported by that component.</p><p>Extension structures are not described in the base Vulkan specification, but
either in layered specifications incorporating those extensions, or in
separate vendor-provided documents.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="fundamentals-validusage-nested-structs"></a>Valid Usage for Nested Structures</h4></div></div></div><p>The above rules also apply recursively to members of structures provided as
input to a command, either as a direct argument to the command, or
themselves a member of another structure.</p><p>Specifics on valid usage of each command are covered in their individual
sections.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="fundamentals-returncodes"></a>2.6.2. Return Codes</h3></div></div></div><p>While the core Vulkan API is not designed to capture incorrect usage, some
circumstances still require return codes.
Commands in Vulkan return their status via return codes that are in one of
two categories:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Successful completion codes are returned when a command needs to
    communicate success or status information.
    All successful completion codes are non-negative values.
</li><li class="listitem">
Run time error codes are returned when a command needs to communicate a
    failure that could only be detected at run time.
    All run time error codes are negative values.
</li></ul></div><p>All return codes in Vulkan are reported via <code class="code"><a class="link" href="#VkResult">VkResult</a></code> return values.
The possible codes are:</p><p><a id="VkResult"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkResult {
    VK_SUCCESS = 0,
    VK_NOT_READY = 1,
    VK_TIMEOUT = 2,
    VK_EVENT_SET = 3,
    VK_EVENT_RESET = 4,
    VK_INCOMPLETE = 5,
    VK_ERROR_OUT_OF_HOST_MEMORY = -1,
    VK_ERROR_OUT_OF_DEVICE_MEMORY = -2,
    VK_ERROR_INITIALIZATION_FAILED = -3,
    VK_ERROR_DEVICE_LOST = -4,
    VK_ERROR_MEMORY_MAP_FAILED = -5,
    VK_ERROR_LAYER_NOT_PRESENT = -6,
    VK_ERROR_EXTENSION_NOT_PRESENT = -7,
    VK_ERROR_FEATURE_NOT_PRESENT = -8,
    VK_ERROR_INCOMPATIBLE_DRIVER = -9,
    VK_ERROR_TOO_MANY_OBJECTS = -10,
    VK_ERROR_FORMAT_NOT_SUPPORTED = -11,
    VK_ERROR_FRAGMENTED_POOL = -12,
    VK_ERROR_SURFACE_LOST_KHR = -1000000000,
    VK_ERROR_NATIVE_WINDOW_IN_USE_KHR = -1000000001,
    VK_SUBOPTIMAL_KHR = 1000001003,
    VK_ERROR_OUT_OF_DATE_KHR = -1000001004,
    VK_ERROR_INCOMPATIBLE_DISPLAY_KHR = -1000003001,
} VkResult;</pre><p>
</p><div class="itemizedlist"><a id="fundamentals-successcodes"></a><p class="title"><strong>Success Codes</strong></p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code> Command successfully completed
</li><li class="listitem">
<code class="code">VK_NOT_READY</code> A fence or query has not yet completed
</li><li class="listitem">
<code class="code">VK_TIMEOUT</code> A wait operation has not completed in the specified
    time
</li><li class="listitem">
<code class="code">VK_EVENT_SET</code> An event is signaled
</li><li class="listitem">
<code class="code">VK_EVENT_RESET</code> An event is unsignaled
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code> A return array was too small for the result
</li><li class="listitem">
<code class="code">VK_SUBOPTIMAL_KHR</code> A swapchain no longer matches the surface
    properties exactly, but <span class="normative">can</span> still be used to present to the surface
    successfully.
</li></ul></div><div class="itemizedlist"><a id="fundamentals-errorcodes"></a><p class="title"><strong>Error codes</strong></p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code> A host memory allocation has failed.
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code> A device memory allocation has
    failed.
</li><li class="listitem">
<code class="code">VK_ERROR_INITIALIZATION_FAILED</code> Initialization of an object could
    not be completed for implementation-specific reasons.
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code> The logical or physical device has been lost.
    See <a class="link" href="#devsandqueues-lost-device" title="4.2.3. Lost Device">Lost Device</a>
</li><li class="listitem">
<code class="code">VK_ERROR_MEMORY_MAP_FAILED</code> Mapping of a memory object has failed.
</li><li class="listitem">
<code class="code">VK_ERROR_LAYER_NOT_PRESENT</code> A requested layer is not present or
    could not be loaded.
</li><li class="listitem">
<code class="code">VK_ERROR_EXTENSION_NOT_PRESENT</code> A requested extension is not
    supported.
</li><li class="listitem">
<code class="code">VK_ERROR_FEATURE_NOT_PRESENT</code> A requested feature is not supported.
</li><li class="listitem">
<code class="code">VK_ERROR_INCOMPATIBLE_DRIVER</code> The requested version of Vulkan is
    not supported by the driver or is otherwise incompatible for
    implementation-specific reasons.
</li><li class="listitem">
<code class="code">VK_ERROR_TOO_MANY_OBJECTS</code> Too many objects of the type have
    already been created.
</li><li class="listitem">
<code class="code">VK_ERROR_FORMAT_NOT_SUPPORTED</code> A requested format is not supported
    on this device.
</li><li class="listitem">
<code class="code">VK_ERROR_FRAGMENTED_POOL</code> A requested pool allocation has failed
    due to fragmentation of the pool’s memory.
</li><li class="listitem">
<code class="code">VK_ERROR_SURFACE_LOST_KHR</code> A surface is no longer available.
</li><li class="listitem">
<code class="code">VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code> The requested window is already
    connected to a VkSurfaceKHR, or to some other non-Vulkan API.
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DATE_KHR</code> A surface has changed in such a way that
    it is no longer compatible with the swapchain, and further presentation
    requests using the swapchain will fail.
    Applications <span class="normative">must</span> query the new surface properties and recreate their
    swapchain if they wish to continue presenting to the surface.
</li><li class="listitem">
<code class="code">VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code> The display used by a swapchain
    does not use the same presentable image layout, or is incompatible in a
    way that prevents sharing an image.
</li></ul></div><p>If a command returns a run time error, it will leave any result pointers
unmodified, unless other behavior is explicitly defined in the
specification.</p><p>Out of memory errors do not damage any currently existing Vulkan objects.
Objects that have already been successfully created <span class="normative">can</span> still be used by
the application.</p><p>Performance-critical commands generally do not have return codes.
If a run time error occurs in such commands, the implementation will defer
reporting the error until a specified point.
For commands that record into command buffers (<span class="strong"><strong><code class="code">vkCmd*</code></strong></span>) run time errors
are reported by <span class="strong"><strong><code class="code">vkEndCommandBuffer</code></strong></span>.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fundamentals-numerics"></a>2.7. Numeric Representation and Computation</h2></div></div></div><p>Implementations normally perform computations in floating-point, and <span class="normative">must</span>
meet the range and precision requirements defined under “Floating-Point
Computation” below.</p><p>These requirements only apply to computations performed in Vulkan operations
outside of shader execution, such as texture image specification and
sampling, and per-fragment operations.
Range and precision requirements during shader execution differ and are
specified by the <a class="link" href="#spirvenv-precision-operation" title="A.4. Precision and Operation of SPIR-V Instructions">Precision and Operation of SPIR-V Instructions</a> section.</p><p>In some cases, the representation and/or precision of operations is
implicitly limited by the specified format of vertex or texel data consumed
by Vulkan.
Specific floating-point formats are described later in this section.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="fundamentals-floatingpoint"></a>2.7.1. Floating-Point Computation</h3></div></div></div><p>Most floating-point computation is performed in SPIR-V shader modules.
The properties of computation within shaders are constrained as defined by
the <a class="link" href="#spirvenv-precision-operation" title="A.4. Precision and Operation of SPIR-V Instructions">Precision and Operation of SPIR-V Instructions</a> section.</p><p>Some floating-point computation is performed outside of shaders, such as
viewport and depth range calculations.
For these computations, we do not specify how floating-point numbers are to
be represented, or the details of how operations on them are performed, but
only place minimal requirements on representation and precision as described
in the remainder of this section.</p><p>We require simply that numbers' floating-point parts contain enough bits and
that their exponent fields are large enough so that individual results of
floating-point operations are accurate to about 1 part in 10<sup>5</sup>.
The maximum representable magnitude for all floating-point values <span class="normative">must</span> be
at least 2<sup>32</sup>.
<span class="inlinemediaobject"><span class="phrase">
$x \times 0 = 0 \times x = 0$
</span></span> for any non-infinite and non-NaN
<span class="inlinemediaobject"><span class="phrase">
$x$
</span></span>.
<span class="inlinemediaobject"><span class="phrase">
$1 \times x = x \times 1 = x$
</span></span>.
<span class="inlinemediaobject"><span class="phrase">
$x + 0 = 0 + x = x$
</span></span>.
<span class="inlinemediaobject"><span class="phrase">
$0^0 = 1$
</span></span>.</p><p>Occasionally, further requirements will be specified.
Most single-precision floating-point formats meet these requirements.</p><p>The special values <span class="inlinemediaobject"><span class="phrase">
$Inf$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$-Inf$
</span></span> encode values
with magnitudes too large to be represented; the special value
<span class="inlinemediaobject"><span class="phrase">
$NaN$
</span></span> encodes “Not A Number” values resulting from undefined
arithmetic operations such as <span class="inlinemediaobject"><span class="phrase">
$0 / 0$
</span></span>.
Implementations <span class="normative">may</span> support <span class="inlinemediaobject"><span class="phrase">
$Inf$
</span></span>s and <span class="inlinemediaobject"><span class="phrase">
$NaN$
</span></span>s in
their floating-point computations.</p><p>Any representable floating-point value is legal as input to a Vulkan command
that requires floating-point data.
The result of providing a value that is not a floating-point number to such
a command is unspecified, but <span class="normative">must</span> not lead to Vulkan interruption or
termination.
In <a class="link" href="#ieee-754">IEEE 754</a> arithmetic, for example, providing a negative zero
or a denormalized number to an Vulkan command <span class="normative">must</span> yield deterministic
results, while providing a <span class="inlinemediaobject"><span class="phrase">
$NaN$
</span></span> or <span class="inlinemediaobject"><span class="phrase">
$Inf$
</span></span> yields
unspecified results.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="fundamentals-fp16"></a>2.7.2. 16-Bit Floating-Point Numbers</h3></div></div></div><p>16-bit floating point numbers are defined in the “16-bit floating point
numbers” section of the <a class="link" href="#data-format">Khronos Data Format Specification</a>.</p><p>Any representable 16-bit floating-point value is legal as input to a Vulkan
command that accepts 16-bit floating-point data.
The result of providing a value that is not a floating-point number (such as
<span class="inlinemediaobject"><span class="phrase">
$Inf$
</span></span> or <span class="inlinemediaobject"><span class="phrase">
$NaN$
</span></span>) to such a command is unspecified,
but <span class="normative">must</span> not lead to Vulkan interruption or termination.
Providing a denormalized number or negative zero to Vulkan <span class="normative">must</span> yield
deterministic results.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="fundamentals-fp11"></a>2.7.3. Unsigned 11-Bit Floating-Point Numbers</h3></div></div></div><p>Unsigned 11-bit floating point numbers are defined in the “Unsigned 11-bit
floating point numbers” section of the <a class="link" href="#data-format">Khronos Data Format Specification</a>.</p><p>When a floating-point value is converted to an unsigned 11-bit
floating-point representation, finite values are rounded to the closest
representable finite value.</p><p>While less accurate, implementations are allowed to always round in the
direction of zero.
This means negative values are converted to zero.
Likewise, finite positive values greater than 65024 (the maximum finite
representable unsigned 11-bit floating-point value) are converted to 65024.
Additionally: negative infinity is converted to zero; positive infinity is
converted to positive infinity; and both positive and negative
<span class="inlinemediaobject"><span class="phrase">
$NaN$
</span></span> are converted to positive <span class="inlinemediaobject"><span class="phrase">
$NaN$
</span></span>.</p><p>Any representable unsigned 11-bit floating-point value is legal as input to
a Vulkan command that accepts 11-bit floating-point data.
The result of providing a value that is not a floating-point number (such as
<span class="inlinemediaobject"><span class="phrase">
$Inf$
</span></span> or <span class="inlinemediaobject"><span class="phrase">
$NaN$
</span></span>) to such a command is unspecified,
but <span class="normative">must</span> not lead to Vulkan interruption or termination.
Providing a denormalized number to Vulkan <span class="normative">must</span> yield deterministic results.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="fundamentals-fp10"></a>2.7.4. Unsigned 10-Bit Floating-Point Numbers</h3></div></div></div><p>Unsigned 10-bit floating point numbers are defined in the “Unsigned 10-bit
floating point numbers” section of the <a class="link" href="#data-format">Khronos Data Format Specification</a>.</p><p>When a floating-point value is converted to an unsigned 10-bit
floating-point representation, finite values are rounded to the closest
representable finite value.</p><p>While less accurate, implementations are allowed to always round in the
direction of zero.
This means negative values are converted to zero.
Likewise, finite positive values greater than 64512 (the maximum finite
representable unsigned 10-bit floating-point value) are converted to 64512.
Additionally: negative infinity is converted to zero; positive infinity is
converted to positive infinity; and both positive and negative
<span class="inlinemediaobject"><span class="phrase">
$NaN$
</span></span> are converted to positive <span class="inlinemediaobject"><span class="phrase">
$NaN$
</span></span>.</p><p>Any representable unsigned 10-bit floating-point value is legal as input to
a Vulkan command that accepts 10-bit floating-point data.
The result of providing a value that is not a floating-point number (such as
<span class="inlinemediaobject"><span class="phrase">
$Inf$
</span></span> or <span class="inlinemediaobject"><span class="phrase">
$NaN$
</span></span>) to such a command is unspecified,
but <span class="normative">must</span> not lead to Vulkan interruption or termination.
Providing a denormalized number to Vulkan <span class="normative">must</span> yield deterministic results.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="fundamentals-general"></a>2.7.5. General Requirements</h3></div></div></div><p>Some calculations require division.
In such cases (including implied divisions performed by vector
normalization), division by zero produces an unspecified result but <span class="normative">must</span>
not lead to Vulkan interruption or termination.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fundamentals-fixedconv"></a>2.8. Fixed-Point Data Conversions</h2></div></div></div><p>When generic vertex attributes and pixel color or depth <span class="emphasis"><em>components</em></span> are
represented as integers, they are often (but not always) considered to be
<span class="emphasis"><em>normalized</em></span>.
Normalized integer values are treated specially when being converted to and
from floating-point values, and are usually referred to as <span class="emphasis"><em>normalized
fixed-point</em></span>.</p><p>In the remainder of this section, <span class="inlinemediaobject"><span class="phrase">
$b$
</span></span> denotes the bit width of
the fixed-point integer representation.
When the integer is one of the types defined by the API, <span class="inlinemediaobject"><span class="phrase">
$b$
</span></span> is
the bit width of that type.
When the integer comes from an <a class="link" href="#resources-images" title="11.3. Images">image</a> containing color
or depth component texels, <span class="inlinemediaobject"><span class="phrase">
$b$
</span></span> is the number of bits allocated
to that component in its <a class="link" href="#features-formats" title="31.3. Formats">specified image format</a>.</p><p>The signed and unsigned fixed-point representations are assumed to be
<span class="inlinemediaobject"><span class="phrase">
$b$
</span></span>-bit binary two’s-complement integers and binary unsigned
integers, respectively.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="fundamentals-fixedfpconv"></a>2.8.1. Conversion from Normalized Fixed-Point to Floating-Point</h3></div></div></div><p>Unsigned normalized fixed-point integers represent numbers in the range
<span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span>.
The conversion from an unsigned normalized fixed-point value <span class="inlinemediaobject"><span class="phrase">
$c$
</span></span>
to the corresponding floating-point value <span class="inlinemediaobject"><span class="phrase">
$f$
</span></span> is defined as</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\[ f = { c \over { 2^b - 1 } } \]</span></div></div><p>Signed normalized fixed-point integers represent numbers in the range
<span class="inlinemediaobject"><span class="phrase">
$[-1,1]$
</span></span>.
The conversion from a signed normalized fixed-point value <span class="inlinemediaobject"><span class="phrase">
$c$
</span></span> to
the corresponding floating-point value <span class="inlinemediaobject"><span class="phrase">
$f$
</span></span> is performed using</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\[ f = \max\left( {c \over {2^{b-1} - 1}}, -1.0 \right) \]</span></div></div><p>Only the range <span class="inlinemediaobject"><span class="phrase">
$[-2^{b-1}+1,2^{b-1}-1]$
</span></span> is used to represent
signed fixed-point values in the range <span class="inlinemediaobject"><span class="phrase">
$[-1,1]$
</span></span>.
For example, if <span class="inlinemediaobject"><span class="phrase">
$b = 8$
</span></span>, then the integer value
<span class="inlinemediaobject"><span class="phrase">
$-127$
</span></span> corresponds to <span class="inlinemediaobject"><span class="phrase">
$-1.0$
</span></span> and the value 127
corresponds to <span class="inlinemediaobject"><span class="phrase">
$1.0$
</span></span>.
Note that while zero is exactly expressible in this representation, one
value (<span class="inlinemediaobject"><span class="phrase">
$-128$
</span></span> in the example) is outside the representable
range, and <span class="normative">must</span> be clamped before use.
This equation is used everywhere that signed normalized fixed-point values
are converted to floating-point.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="fundamentals-fpfixedconv"></a>2.8.2. Conversion from Floating-Point to Normalized Fixed-Point</h3></div></div></div><p>The conversion from a floating-point value <span class="inlinemediaobject"><span class="phrase">
$f$
</span></span> to the
corresponding unsigned normalized fixed-point value <span class="inlinemediaobject"><span class="phrase">
$c$
</span></span> is
defined by first clamping <span class="inlinemediaobject"><span class="phrase">
$f$
</span></span> to the range <span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span>,
then computing</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\[ c = \operatorname{convertFloatToUint} ( f \times ( 2^b - 1 ) , b ) \]</span></div></div><p>where <span class="inlinemediaobject"><span class="phrase">
$\operatorname{convertFloatToUint}(r,b)$
</span></span> returns one of
the two unsigned binary integer values with exactly <span class="inlinemediaobject"><span class="phrase">
$b$
</span></span> bits
which are closest to the floating-point value <span class="inlinemediaobject"><span class="phrase">
$r$
</span></span>.
Implementations <span class="normative">should</span> round to nearest.
If <span class="inlinemediaobject"><span class="phrase">
$r$
</span></span> is equal to an integer, then that integer value <span class="normative">must</span> be
returned.
In particular, if <span class="inlinemediaobject"><span class="phrase">
$f$
</span></span> is equal to 0.0 or 1.0, then
<span class="inlinemediaobject"><span class="phrase">
$c$
</span></span> <span class="normative">must</span> be assigned 0 or <span class="inlinemediaobject"><span class="phrase">
$2^b-1$
</span></span>, respectively.</p><p>The conversion from a floating-point value <span class="inlinemediaobject"><span class="phrase">
$f$
</span></span> to the
corresponding signed normalized fixed-point value <span class="inlinemediaobject"><span class="phrase">
$c$
</span></span> is
performed by clamping <span class="inlinemediaobject"><span class="phrase">
$f$
</span></span> to the range <span class="inlinemediaobject"><span class="phrase">
$[-1,1]$
</span></span>,
then computing</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\[ c = \operatorname{convertFloatToInt} ( f \times ( 2^{b - 1} - 1 ) , b ) \]</span></div></div><p>where <span class="inlinemediaobject"><span class="phrase">
$\operatorname{convertFloatToInt}(r,b)$
</span></span> returns one of the
two signed two’s-complement binary integer values with exactly
<span class="inlinemediaobject"><span class="phrase">
$b$
</span></span> bits which are closest to the floating-point value
<span class="inlinemediaobject"><span class="phrase">
$r$
</span></span>.
Implementations <span class="normative">should</span> round to nearest.
If <span class="inlinemediaobject"><span class="phrase">
$r$
</span></span> is equal to an integer, then that integer value <span class="normative">must</span> be
returned.
In particular, if <span class="inlinemediaobject"><span class="phrase">
$f$
</span></span> is equal to -1.0, 0.0, or 1.0, then
<span class="inlinemediaobject"><span class="phrase">
$c$
</span></span> <span class="normative">must</span> be assigned <span class="inlinemediaobject"><span class="phrase">
$-(2^{b-1}-1)$
</span></span>, 0, or
<span class="inlinemediaobject"><span class="phrase">
$2^{b-1}-1$
</span></span>, respectively.</p><p>This equation is used everywhere that floating-point values are converted to
signed normalized fixed-point.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fundamentals-versionnum"></a>2.9. API Version Numbers and Semantics</h2></div></div></div><p>The Vulkan version number is used in several places in the API.
In each such use, the API <span class="emphasis"><em>major version number</em></span>, <span class="emphasis"><em>minor version number</em></span>,
and <span class="emphasis"><em>patch version number</em></span> are packed into a 32-bit integer as follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
The major version number is a 10-bit integer packed into bits 31-22.
</li><li class="listitem">
The minor version number is a 10-bit integer packed into bits 21-12.
</li><li class="listitem">
The patch version number is a 12-bit integer packed into bits 11-0.
</li></ul></div><p>Differences in any of the Vulkan version numbers indicates a change to the
API in some way, with each part of the version number indicating a different
scope of changes.</p><p>A difference in patch version numbers indicates that some usually small part
of the specification or header has been modified, typically to fix a bug,
and <span class="normative">may</span> have an impact on the behavior of existing functionality.
Differences in this version number <span class="normative">should</span> not affect either <span class="emphasis"><em>full
compatibility</em></span> or <span class="emphasis"><em>backwards compatibility</em></span> between two versions, or add
additional interfaces to the API.</p><p>A difference in minor version numbers indicates that some amount of new
functionality has been added.
This will usually include new interfaces in the header, and <span class="normative">may</span> also
include behavior changes and bug fixes.
Functionality <span class="normative">may</span> be deprecated in a minor revision, but will not be
removed.
When a new minor version is introduced, the patch version is reset to 0, and
each minor revision maintains its own set of patch versions.
Differences in this version <span class="normative">should</span> not affect backwards compatibility, but
will affect full compatibility.</p><p>A difference in major version numbers indicates a large set of changes to
the API, potentially including new functionality and header interfaces,
behavioral changes, removal of deprecated features, modification or outright
replacement of any feature, and is thus very likely to break any and all
compatibility.
Differences in this version will typically require significant modification
to an application in order for it to function.</p><p>C language macros for manipulating version numbers are defined in the
<a class="link" href="#boilerplate-versions" title="D.3.1. Vulkan Version Number Macros">Version Number Macros</a> appendix.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fundamentals-common-objects"></a>2.10. Common Object Types</h2></div></div></div><p>Some types of Vulkan objects are used in many different structures and
command parameters, and are described here.
These types include <span class="emphasis"><em>offsets</em></span>, <span class="emphasis"><em>extents</em></span>, and <span class="emphasis"><em>rectangles</em></span>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_offsets"></a>2.10.1. Offsets</h3></div></div></div><p>Offsets are used to describe a pixel location within an image or
framebuffer, as an (x,y) location for two-dimensional images, or an (x,y,z)
location for three-dimensional images.</p><p>A two-dimensional offsets is defined by the structure:</p><p><a id="VkOffset2D"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkOffset2D {
    int32_t    x;
    int32_t    y;
} VkOffset2D;</pre><p>
</p><p>A three-dimensional offset is defined by the structure:</p><p><a id="VkOffset3D"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkOffset3D {
    int32_t    x;
    int32_t    y;
    int32_t    z;
} VkOffset3D;</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_extents"></a>2.10.2. Extents</h3></div></div></div><p>Extents are used to describe the size of a rectangular region of pixels
within an image or framebuffer, as (width,height) for two-dimensional
images, or as (width,height,depth) for three-dimensional images.</p><p>A two-dimensional extent is defined by the structure:</p><p><a id="VkExtent2D"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkExtent2D {
    uint32_t    width;
    uint32_t    height;
} VkExtent2D;</pre><p>
</p><p>A three-dimensional extent is defined by the structure:</p><p><a id="VkExtent3D"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkExtent3D {
    uint32_t    width;
    uint32_t    height;
    uint32_t    depth;
} VkExtent3D;</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_rectangles"></a>2.10.3. Rectangles</h3></div></div></div><p>Rectangles are used to describe a specified rectangular region of pixels
within an image or framebuffer.
Rectangles include both an offset and an extent of the same dimensionality,
as described above.
Two-dimensional rectangles are defined by the structure</p><p><a id="VkRect2D"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkRect2D {
    VkOffset2D    offset;
    VkExtent2D    extent;
} VkRect2D;</pre><p>
</p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="initialization"></a>Chapter 3. Initialization</h1></div></div></div><p>Before using Vulkan, an application <span class="normative">must</span> initialize it by loading the
Vulkan commands, and creating a <code class="code">VkInstance</code> object.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="initialization-functionpointers"></a>3.1. Command Function Pointers</h2></div></div></div><p>Vulkan commands are not necessarily exposed statically on a platform.
Function pointers for all Vulkan commands <span class="normative">can</span> be obtained with the command:</p><p><a id="vkGetInstanceProcAddr"></a><strong> </strong>
</p><pre class="programlisting">PFN_vkVoidFunction vkGetInstanceProcAddr(
    VkInstance                                  instance,
    const char*                                 pName);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> is the instance that the function pointer will be
    compatible with, or <code class="literal">NULL</code> for commands not dependent on any instance.
</li><li class="listitem">
<em class="parameter"><code>pName</code></em> is the name of the command to obtain.
</li></ul></div><p><span class="strong"><strong><code class="code">vkGetInstanceProcAddr</code></strong></span> itself is obtained in a platform- and loader-
specific manner.
Typically, the loader library will export this command as a function symbol,
so applications <span class="normative">can</span> link against the loader library, or load it dynamically
and look up the symbol using platform-specific APIs.
Loaders are encouraged to export function symbols for all other core Vulkan
commands as well; if this is done, then applications that use only the core
Vulkan commands have no need to use <span class="strong"><strong><code class="code">vkGetInstanceProcAddr</code></strong></span>.</p><p>The table below defines the various use cases for
<span class="strong"><strong><code class="code">vkGetInstanceProcAddr</code></strong></span> and expected return value ("fp" is function
pointer) for each case.</p><p>The returned function pointer is of type <code class="code"><a class="link" href="#PFN_vkVoidFunction">PFN_vkVoidFunction</a></code>, and must
be cast to the type of the command being queried.</p><div class="table"><a id="id-1.5.3.8"></a><p class="title"><strong>Table 3.1. vkGetInstanceProcAddr behavior</strong></p><div class="table-contents"><table summary="vkGetInstanceProcAddr behavior" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="80%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> <em class="parameter"><code>instance</code></em>   </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> <em class="parameter"><code>pName</code></em>                                  </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> return value</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>*</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">NULL</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>undefined</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>invalid instance</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>*</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>undefined</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">NULL</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code"><a class="link" href="#vkEnumerateInstanceExtensionProperties">vkEnumerateInstanceExtensionProperties</a></code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>fp</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">NULL</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code"><a class="link" href="#vkEnumerateInstanceLayerProperties">vkEnumerateInstanceLayerProperties</a></code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>fp</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">NULL</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code"><a class="link" href="#vkCreateInstance">vkCreateInstance</a></code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>fp</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">NULL</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>* (any <em class="parameter"><code>pName</code></em> not covered above)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">NULL</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>instance</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>core Vulkan command</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>fp<sup>1</sup></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>instance</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>enabled instance extension commands for <em class="parameter"><code>instance</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>fp<sup>1</sup></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>instance</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>available device extension<sup>2</sup> commands for <em class="parameter"><code>instance</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>fp<sup>1</sup></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>instance</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>* (any <em class="parameter"><code>pName</code></em> not covered above)</p></td><td style="" align="left" valign="top"><p><code class="literal">NULL</code></p></td></tr></tbody></table></div></div><br class="table-break" /><div class="variablelist"><dl class="variablelist"><dt><span class="term">
1
</span></dt><dd>
    The returned function pointer <span class="normative">must</span> only be called with a dispatchable
    object (the first parameter) that is <em class="parameter"><code>instance</code></em> or a child of
    <em class="parameter"><code>instance</code></em>.
    e.g.
    <code class="code">VkInstance</code>, <code class="code">VkPhysicalDevice</code>, <code class="code">VkDevice</code>, <code class="code">VkQueue</code>,
    or <code class="code">VkCommandBuffer</code>.
</dd><dt><span class="term">
2
</span></dt><dd>
    An “available extension” is an extension function supported by any of
    the loader, driver or layer.
</dd></dl></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If <em class="parameter"><code>instance</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>instance</code></em> <span class="normative">must</span> be a valid <code class="code">VkInstance</code> handle
</li><li class="listitem">
<em class="parameter"><code>pName</code></em> <span class="normative">must</span> be a null-terminated string
</li></ul></div></div><p>In order to support systems with multiple Vulkan implementations comprising
heterogeneous collections of hardware and software, the function pointers
returned by <span class="strong"><strong><code class="code">vkGetInstanceProcAddr</code></strong></span> <span class="normative">may</span> point to dispatch code, which
calls a different real implementation for different <code class="code">VkDevice</code> objects
(and objects created from them).
The overhead of this internal dispatch <span class="normative">can</span> be avoided by obtaining
device-specific function pointers for any commands that use a device or
device-child object as their dispatchable object.
Such function pointers <span class="normative">can</span> be obtained with the command:</p><p><a id="vkGetDeviceProcAddr"></a><strong> </strong>
</p><pre class="programlisting">PFN_vkVoidFunction vkGetDeviceProcAddr(
    VkDevice                                    device,
    const char*                                 pName);</pre><p>
</p><p>The table below defines the various use cases for <span class="strong"><strong><code class="code">vkGetDeviceProcAddr</code></strong></span>
and expected return value for each case.</p><p>The returned function pointer is of type <code class="code"><a class="link" href="#PFN_vkVoidFunction">PFN_vkVoidFunction</a></code>, and must
be cast to the type of the command being queried.</p><div class="table"><a id="id-1.5.3.15"></a><p class="title"><strong>Table 3.2. vkGetDeviceProcAddr behavior</strong></p><div class="table-contents"><table summary="vkGetDeviceProcAddr behavior" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="80%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> <em class="parameter"><code>device</code></em>   </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> <em class="parameter"><code>pName</code></em>                           </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> return value</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">NULL</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>*</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>undefined</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>invalid device</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>*</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>undefined</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>device</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">NULL</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>undefined</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>device</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>core Vulkan command</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>fp<sup>1</sup></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>device</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>enabled extension commands</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>fp<sup>1</sup></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>device</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>* (any <em class="parameter"><code>pName</code></em> not covered above)</p></td><td style="" align="left" valign="top"><p><code class="literal">NULL</code></p></td></tr></tbody></table></div></div><br class="table-break" /><div class="variablelist"><dl class="variablelist"><dt><span class="term">
1
</span></dt><dd>
    The returned function pointer <span class="normative">must</span> only be called with a dispatchable
    object (the first parameter) that is <em class="parameter"><code>device</code></em> or a child of
    <em class="parameter"><code>device</code></em>.
    e.g.
    <code class="code">VkDevice</code>, <code class="code">VkQueue</code>, or <code class="code">VkCommandBuffer</code>.
</dd></dl></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pName</code></em> <span class="normative">must</span> be a null-terminated string
</li></ul></div></div><p>The definition of <code class="code"><a class="link" href="#PFN_vkVoidFunction">PFN_vkVoidFunction</a></code> is:</p><p><a id="PFN_vkVoidFunction"></a><strong> </strong>
</p><pre class="programlisting">typedef void (VKAPI_PTR *PFN_vkVoidFunction)(void);</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="initialization-instances"></a>3.2. Instances</h2></div></div></div><p>There is no global state in Vulkan and all per-application state is stored
in a <code class="code">VkInstance</code> object.
Creating a <code class="code">VkInstance</code> object initializes the Vulkan library and allows
the application to pass information about itself to the implementation.</p><p>Instances are represented by <code class="code">VkInstance</code> handles:</p><p><a id="VkInstance"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_HANDLE(VkInstance)</pre><p>
</p><p>To create an instance object, call:</p><p><a id="vkCreateInstance"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateInstance(
    const VkInstanceCreateInfo*                 pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkInstance*                                 pInstance);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> points to an instance of <code class="code"><a class="link" href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a></code>
    controlling creation of the instance.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pInstance</code></em> points a <code class="code">VkInstance</code> handle in which the resulting
    instance is returned.
</li></ul></div><p><span class="strong"><strong><code class="code">vkCreateInstance</code></strong></span> creates the instance, then enables and initializes
global layers and extensions requested by the application.
If an extension is provided by a layer, both the layer and extension <span class="normative">must</span>
be specified at <span class="strong"><strong><code class="code">vkCreateInstance</code></strong></span> time.
If a specified layer cannot be found, no <code class="code">VkInstance</code> will be created
and the function will return <code class="code">VK_ERROR_LAYER_NOT_PRESENT</code>.
Likewise, if a specified extension cannot be found the call will return
<code class="code">VK_ERROR_EXTENSION_NOT_PRESENT</code>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkInstanceCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pInstance</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkInstance</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_INITIALIZATION_FAILED</code>
</li><li class="listitem">
<code class="code">VK_ERROR_LAYER_NOT_PRESENT</code>
</li><li class="listitem">
<code class="code">VK_ERROR_EXTENSION_NOT_PRESENT</code>
</li><li class="listitem">
<code class="code">VK_ERROR_INCOMPATIBLE_DRIVER</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkInstanceCreateInfo</code> structure is defined as:</p><p><a id="VkInstanceCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkInstanceCreateInfo {
    VkStructureType             sType;
    const void*                 pNext;
    VkInstanceCreateFlags       flags;
    const VkApplicationInfo*    pApplicationInfo;
    uint32_t                    enabledLayerCount;
    const char* const*          ppEnabledLayerNames;
    uint32_t                    enabledExtensionCount;
    const char* const*          ppEnabledExtensionNames;
} VkInstanceCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>pApplicationInfo</code></em> is <code class="literal">NULL</code> or a pointer to an instance of
    <code class="code">VkApplicationInfo</code>.
    If not <code class="literal">NULL</code>, this information helps implementations recognize behavior
    inherent to classes of applications.
    <code class="code"><a class="link" href="#VkApplicationInfo">VkApplicationInfo</a></code> is defined in detail below.
</li><li class="listitem">
<em class="parameter"><code>enabledLayerCount</code></em> is the number of global layers to enable.
</li><li class="listitem">
<em class="parameter"><code>ppEnabledLayerNames</code></em> is a pointer to an array of
    <em class="parameter"><code>enabledLayerCount</code></em> null-terminated UTF-8 strings containing the
    names of layers to enable for the created instance.
    See the <a class="link" href="#extended-functionality-layers" title="30.1. Layers">Layers</a> section for further
    details.
</li><li class="listitem">
<em class="parameter"><code>enabledExtensionCount</code></em> is the number of global extensions to
    enable.
</li><li class="listitem">
<em class="parameter"><code>ppEnabledExtensionNames</code></em> is a pointer to an array of
    <em class="parameter"><code>enabledExtensionCount</code></em> null-terminated UTF-8 strings containing the
    names of extensions to enable.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>pApplicationInfo</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pApplicationInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkApplicationInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>enabledLayerCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>ppEnabledLayerNames</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>enabledLayerCount</code></em> null-terminated strings
</li><li class="listitem">
If <em class="parameter"><code>enabledExtensionCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>ppEnabledExtensionNames</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>enabledExtensionCount</code></em> null-terminated strings
</li></ul></div></div><p>The <code class="code">VkApplicationInfo</code> structure is defined as:</p><p><a id="VkApplicationInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkApplicationInfo {
    VkStructureType    sType;
    const void*        pNext;
    const char*        pApplicationName;
    uint32_t           applicationVersion;
    const char*        pEngineName;
    uint32_t           engineVersion;
    uint32_t           apiVersion;
} VkApplicationInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>pApplicationName</code></em> is a pointer to a null-terminated UTF-8 string
    containing the name of the application.
</li><li class="listitem">
<em class="parameter"><code>applicationVersion</code></em> is an unsigned integer variable containing the
    developer-supplied version number of the application.
</li><li class="listitem">
<em class="parameter"><code>pEngineName</code></em> is a pointer to a null-terminated UTF-8 string
    containing the name of the engine (if any) used to create the
    application.
</li><li class="listitem">
<em class="parameter"><code>engineVersion</code></em> is an unsigned integer variable containing the
    developer-supplied version number of the engine used to create the
    application.
</li><li class="listitem">
<em class="parameter"><code>apiVersion</code></em> is the version of the Vulkan API against which the
    application expects to run, encoded as described in the
    <a class="link" href="#fundamentals-versionnum" title="2.9. API Version Numbers and Semantics">API Version Numbers and Semantics</a> section.
    If <em class="parameter"><code>apiVersion</code></em> is 0 the implementation <span class="normative">must</span> ignore it, otherwise
    if the implementation does not support the requested <em class="parameter"><code>apiVersion</code></em> it
    <span class="normative">must</span> return <code class="code">VK_ERROR_INCOMPATIBLE_DRIVER</code>.
    The patch version number specified in <em class="parameter"><code>apiVersion</code></em> is ignored when
    creating an instance object.
    Only the major and minor versions of the instance <span class="normative">must</span> match those
    requested in <em class="parameter"><code>apiVersion</code></em>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_APPLICATION_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
If <em class="parameter"><code>pApplicationName</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pApplicationName</code></em> <span class="normative">must</span> be a null-terminated string
</li><li class="listitem">
If <em class="parameter"><code>pEngineName</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pEngineName</code></em> <span class="normative">must</span> be a null-terminated string
</li><li class="listitem">
<em class="parameter"><code>apiVersion</code></em> <span class="normative">must</span> be zero, or otherwise it <span class="normative">must</span> be a version that the implementation supports, or supports an effective substitute for
</li></ul></div></div><p>To destroy an instance, call:</p><p><a id="vkDestroyInstance"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyInstance(
    VkInstance                                  instance,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> is the handle of the instance to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If <em class="parameter"><code>instance</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>instance</code></em> <span class="normative">must</span> be a valid <code class="code">VkInstance</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
All child objects created using <em class="parameter"><code>instance</code></em> <span class="normative">must</span> have been destroyed prior to destroying <em class="parameter"><code>instance</code></em>
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>instance</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>instance</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>instance</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="devsandqueues"></a>Chapter 4. Devices and Queues</h1></div></div></div><p>Once Vulkan is initialized, devices and queues are the primary objects used
to interact with a Vulkan implementation.</p><p>Vulkan separates the concept of <span class="emphasis"><em>physical</em></span> and <span class="emphasis"><em>logical</em></span> devices.
A physical device usually represents a single device in a system (perhaps
made up of several individual hardware devices working together), of which
there are a finite number.
A logical device represents an application’s view of the device.</p><p>Physical devices are represented by <code class="code">VkPhysicalDevice</code> handles:</p><p><a id="VkPhysicalDevice"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_HANDLE(VkPhysicalDevice)</pre><p>
</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="devsandqueues-physical-device-enumeration"></a>4.1. Physical Devices</h2></div></div></div><p>To retrieve a list of physical device objects representing the physical
devices installed in the system, call:</p><p><a id="vkEnumeratePhysicalDevices"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkEnumeratePhysicalDevices(
    VkInstance                                  instance,
    uint32_t*                                   pPhysicalDeviceCount,
    VkPhysicalDevice*                           pPhysicalDevices);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> is a handle to a Vulkan instance previously created with
    <span class="strong"><strong><code class="code">vkCreateInstance</code></strong></span>.
</li><li class="listitem">
<em class="parameter"><code>pPhysicalDeviceCount</code></em> is a pointer to an integer related to the
    number of physical devices available or queried, as described below.
</li><li class="listitem">
<em class="parameter"><code>pPhysicalDevices</code></em> is either <code class="literal">NULL</code> or a pointer to an array of
    <code class="code">VkPhysicalDevice</code> handles.
</li></ul></div><p>If <em class="parameter"><code>pPhysicalDevices</code></em> is <code class="literal">NULL</code>, then the number of physical devices
available is returned in <em class="parameter"><code>pPhysicalDeviceCount</code></em>.
Otherwise, <em class="parameter"><code>pPhysicalDeviceCount</code></em> <span class="normative">must</span> point to a variable set by the
user to the number of elements in the <em class="parameter"><code>pPhysicalDevices</code></em> array, and on
return the variable is overwritten with the number of structures actually
written to <em class="parameter"><code>pPhysicalDevices</code></em>.
If <em class="parameter"><code>pPhysicalDeviceCount</code></em> is less than the number of physical devices
available, at most <em class="parameter"><code>pPhysicalDeviceCount</code></em> structures will be written.
If <em class="parameter"><code>pPhysicalDeviceCount</code></em> is smaller than the number of physical devices
available, <code class="code">VK_INCOMPLETE</code> will be returned instead of <code class="code">VK_SUCCESS</code>,
to indicate that not all the available physical devices were returned.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> <span class="normative">must</span> be a valid <code class="code">VkInstance</code> handle
</li><li class="listitem">
<em class="parameter"><code>pPhysicalDeviceCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pPhysicalDeviceCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pPhysicalDevices</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pPhysicalDevices</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pPhysicalDeviceCount</code></em> <code class="code">VkPhysicalDevice</code> handles
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_INITIALIZATION_FAILED</code>
</li></ul></div></dd></dl></div></div><p>To query general properties of physical devices once enumerated, call:</p><p><a id="vkGetPhysicalDeviceProperties"></a><strong> </strong>
</p><pre class="programlisting">void vkGetPhysicalDeviceProperties(
    VkPhysicalDevice                            physicalDevice,
    VkPhysicalDeviceProperties*                 pProperties);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the handle to the physical device whose
    properties will be queried.
</li><li class="listitem">
<em class="parameter"><code>pProperties</code></em> points to an instance of the
    <code class="code"><a class="link" href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a></code> structure, that will be filled with
    returned information.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pProperties</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkPhysicalDeviceProperties</code> structure
</li></ul></div></div><p>The <code class="code">VkPhysicalDeviceProperties</code> structure is defined as:</p><p><a id="VkPhysicalDeviceProperties"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPhysicalDeviceProperties {
    uint32_t                            apiVersion;
    uint32_t                            driverVersion;
    uint32_t                            vendorID;
    uint32_t                            deviceID;
    VkPhysicalDeviceType                deviceType;
    char                                deviceName[VK_MAX_PHYSICAL_DEVICE_NAME_SIZE];
    uint8_t                             pipelineCacheUUID[VK_UUID_SIZE];
    VkPhysicalDeviceLimits              limits;
    VkPhysicalDeviceSparseProperties    sparseProperties;
} VkPhysicalDeviceProperties;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>apiVersion</code></em> is the version of Vulkan supported by the device,
    encoded as described in the <a class="link" href="#fundamentals-versionnum" title="2.9. API Version Numbers and Semantics">API Version     Numbers and Semantics</a> section.
</li><li class="listitem">
<em class="parameter"><code>driverVersion</code></em> is the vendor-specified version of the driver.
</li><li class="listitem">
<em class="parameter"><code>vendorID</code></em> is a unique identifier for the <span class="emphasis"><em>vendor</em></span> (see below) of
    the physical device.
</li><li class="listitem">
<em class="parameter"><code>deviceID</code></em> is a unique identifier for the physical device among
    devices available from the vendor.
</li><li class="listitem">
<em class="parameter"><code>deviceType</code></em> is a <code class="code"><a class="link" href="#VkPhysicalDeviceType">VkPhysicalDeviceType</a></code> specifying the type of
    device.
</li><li class="listitem">
<em class="parameter"><code>deviceName</code></em> is a null-terminated UTF-8 string containing the name
    of the device.
</li><li class="listitem">
<em class="parameter"><code>pipelineCacheUUID</code></em> is an array of size <code class="code">VK_UUID_SIZE</code>,
    containing 8-bit values that represent a universally unique identifier
    for the device.
</li><li class="listitem">
<em class="parameter"><code>limits</code></em> is the <code class="code"><a class="link" href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code> structure which
    specifies device-specific limits of the physical device.
    See <a class="link" href="#features-limits" title="31.2. Limits">Limits</a> for details.
</li><li class="listitem">
<em class="parameter"><code>sparseProperties</code></em> is the <code class="code"><a class="link" href="#VkPhysicalDeviceSparseProperties">VkPhysicalDeviceSparseProperties</a></code>
    structure which specifies various sparse related properties of the
    physical device.
    See <a class="link" href="#sparsememory-physicalprops" title="28.7.2. Physical Device Sparse Properties">Sparse Properties</a> for details.
</li></ul></div><p>The <em class="parameter"><code>vendorID</code></em> and <em class="parameter"><code>deviceID</code></em> fields are provided to allow
applications to adapt to device characteristics that are not adequately
exposed by other Vulkan queries.
These <span class="normative">may</span> include performance profiles, hardware errata, or other
characteristics.
In PCI-based implementations, the low sixteen bits of <em class="parameter"><code>vendorID</code></em> and
<em class="parameter"><code>deviceID</code></em> <span class="normative">must</span> contain (respectively) the PCI vendor and device IDs
associated with the hardware device, and the remaining bits <span class="normative">must</span> be set to
zero.
In non-PCI implementations, the choice of what values to return <span class="normative">may</span> be
dictated by operating system or platform policies.
It is otherwise at the discretion of the implementer, subject to the
following constraints and guidelines:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
For purposes of physical device identification, the <span class="emphasis"><em>vendor</em></span> of a
    physical device is the entity responsible for the most salient
    characteristics of the hardware represented by the physical device
    handle.
    In the case of a discrete GPU, this <span class="normative">should</span> be the GPU chipset vendor.
    In the case of a GPU or other accelerator integrated into a
    system-on-chip (SoC), this <span class="normative">should</span> be the supplier of the silicon IP
    used to create the GPU or other accelerator.
</li><li class="listitem">
If the vendor of the physical device has a valid PCI vendor ID issued by
    <a class="ulink" href="https://pcisig.com/" target="_top">PCI-SIG</a>, that ID <span class="normative">should</span> be used to construct
    <em class="parameter"><code>vendorID</code></em> as described above for PCI-based implementations.
    Implementations that do not return a PCI vendor ID in <em class="parameter"><code>vendorID</code></em>
    <span class="normative">must</span> return a valid Khronos vendor ID, obtained as described in the
    <a class="link" href="#vulkan-styleguide">Vulkan Documentation and Extensions</a> document in
    the section “Registering a Vendor ID with Khronos”.
    Khronos vendor IDs are allocated starting at 0x10000, to distinguish
    them from the PCI vendor ID namespace.
</li><li class="listitem">
The vendor of the physical device is responsible for selecting
    <em class="parameter"><code>deviceID</code></em>.
    The value selected <span class="normative">should</span> uniquely identify both the device version and
    any major configuration options (for example, core count in the case of
    multicore devices).
    The same device ID <span class="normative">should</span> be used for all physical implementations of
    that device version and configuration.
    For example, all uses of a specific silicon IP GPU version and
    configuration <span class="normative">should</span> use the same device ID, even if those uses occur
    in different SoCs.
</li></ul></div><p>The physical devices types are:</p><p><a id="VkPhysicalDeviceType"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkPhysicalDeviceType {
    VK_PHYSICAL_DEVICE_TYPE_OTHER = 0,
    VK_PHYSICAL_DEVICE_TYPE_INTEGRATED_GPU = 1,
    VK_PHYSICAL_DEVICE_TYPE_DISCRETE_GPU = 2,
    VK_PHYSICAL_DEVICE_TYPE_VIRTUAL_GPU = 3,
    VK_PHYSICAL_DEVICE_TYPE_CPU = 4,
} VkPhysicalDeviceType;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_PHYSICAL_DEVICE_TYPE_OTHER</code> The device does not match any other
    available types.
</li><li class="listitem">
<code class="code">VK_PHYSICAL_DEVICE_TYPE_INTEGRATED_GPU</code> The device is typically one
    embedded in or tightly coupled with the host.
</li><li class="listitem">
<code class="code">VK_PHYSICAL_DEVICE_TYPE_DISCRETE_GPU</code> The device is typically a
    separate processor connected to the host via an interlink.
</li><li class="listitem">
<code class="code">VK_PHYSICAL_DEVICE_TYPE_VIRTUAL_GPU</code> The device is typically a
    virtual node in a virtualization environment.
</li><li class="listitem">
<code class="code">VK_PHYSICAL_DEVICE_TYPE_CPU</code> The device is typically running on the
    same processors as the host.
</li></ul></div><p>The physical device type is advertised for informational purposes only, and
does not directly affect the operation of the system.
However, the device type <span class="normative">may</span> correlate with other advertised properties or
capabilities of the system, such as how many memory heaps there are.</p><p>To query properties of queues available on a physical device, call:</p><p><a id="vkGetPhysicalDeviceQueueFamilyProperties"></a><strong> </strong>
</p><pre class="programlisting">void vkGetPhysicalDeviceQueueFamilyProperties(
    VkPhysicalDevice                            physicalDevice,
    uint32_t*                                   pQueueFamilyPropertyCount,
    VkQueueFamilyProperties*                    pQueueFamilyProperties);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the handle to the physical device whose
    properties will be queried.
</li><li class="listitem">
<em class="parameter"><code>pQueueFamilyPropertyCount</code></em> is a pointer to an integer related to
    the number of queue families available or queried, as described below.
</li><li class="listitem">
<em class="parameter"><code>pQueueFamilyProperties</code></em> is either <code class="literal">NULL</code> or a pointer to an array
    of <code class="code"><a class="link" href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a></code> structures.
</li></ul></div><p>If <em class="parameter"><code>pQueueFamilyProperties</code></em> is <code class="literal">NULL</code>, then the number of queue families
available is returned in <em class="parameter"><code>pQueueFamilyPropertyCount</code></em>.
Otherwise, <em class="parameter"><code>pQueueFamilyPropertyCount</code></em> <span class="normative">must</span> point to a variable set by
the user to the number of elements in the <em class="parameter"><code>pQueueFamilyProperties</code></em>
array, and on return the variable is overwritten with the number of
structures actually written to <em class="parameter"><code>pQueueFamilyProperties</code></em>.
If <em class="parameter"><code>pQueueFamilyPropertyCount</code></em> is less than the number of queue families
available, at most <em class="parameter"><code>pQueueFamilyPropertyCount</code></em> structures will be
written.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pQueueFamilyPropertyCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pQueueFamilyPropertyCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pQueueFamilyProperties</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pQueueFamilyProperties</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pQueueFamilyPropertyCount</code></em> <code class="code">VkQueueFamilyProperties</code> structures
</li></ul></div></div><p>The <code class="code">VkQueueFamilyProperties</code> structure is defined as:</p><p><a id="VkQueueFamilyProperties"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkQueueFamilyProperties {
    VkQueueFlags    queueFlags;
    uint32_t        queueCount;
    uint32_t        timestampValidBits;
    VkExtent3D      minImageTransferGranularity;
} VkQueueFamilyProperties;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>queueFlags</code></em> contains flags indicating the capabilities of the
    queues in this queue family.
</li><li class="listitem">
<em class="parameter"><code>queueCount</code></em> is the unsigned integer count of queues in this queue
    family.
</li><li class="listitem">
<em class="parameter"><code>timestampValidBits</code></em> is the unsigned integer count of meaningful
    bits in the timestamps written via <span class="strong"><strong><code class="code">vkCmdWriteTimestamp</code></strong></span>.
    The valid range for the count is 36..64 bits, or a value of 0,
    indicating no support for timestamps.
    Bits outside the valid range are guaranteed to be zeros.
</li><li class="listitem">
<em class="parameter"><code>minImageTransferGranularity</code></em> is the minimum granularity supported
    for image transfer operations on the queues in this queue family.
</li></ul></div><p>The bits specified in <em class="parameter"><code>queueFlags</code></em> are:</p><p><a id="VkQueueFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkQueueFlagBits {
    VK_QUEUE_GRAPHICS_BIT = 0x00000001,
    VK_QUEUE_COMPUTE_BIT = 0x00000002,
    VK_QUEUE_TRANSFER_BIT = 0x00000004,
    VK_QUEUE_SPARSE_BINDING_BIT = 0x00000008,
} VkQueueFlagBits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
if <code class="code">VK_QUEUE_GRAPHICS_BIT</code> is set, then the queues in this queue
    family support graphics operations.
</li><li class="listitem">
if <code class="code">VK_QUEUE_COMPUTE_BIT</code> is set, then the queues in this queue
    family support compute operations.
</li><li class="listitem">
if <code class="code">VK_QUEUE_TRANSFER_BIT</code> is set, then the queues in this queue
    family support transfer operations.
</li><li class="listitem">
if <code class="code">VK_QUEUE_SPARSE_BINDING_BIT</code> is set, then the queues in this
    queue family support sparse memory management operations (see
    <a class="link" href="#sparsememory" title="Chapter 28. Sparse Resources">Sparse Resources</a>).
    If any of the sparse resource features are enabled, then at least one
    queue family <span class="normative">must</span> support this bit.
</li></ul></div><p>If an implementation exposes any queue family that supports graphics
operations, at least one queue family of at least one physical device
exposed by the implementation <span class="normative">must</span> support both graphics and compute
operations.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>All commands that are allowed on a queue that supports transfer operations
are also allowed on a queue that supports either graphics or compute
operations thus if the capabilities of a queue family include
<code class="code">VK_QUEUE_GRAPHICS_BIT</code> or <code class="code">VK_QUEUE_COMPUTE_BIT</code> then reporting the
<code class="code">VK_QUEUE_TRANSFER_BIT</code> capability separately for that queue family is
<span class="normative">optional</span>.</p></td></tr></table></div><p>For further details see <a class="link" href="#devsandqueues-queues" title="4.3. Queues">Queues</a>.</p><p>The value returned in <em class="parameter"><code>minImageTransferGranularity</code></em> has a unit of
compressed texel blocks for images having a block-compressed format, and a
unit of texels otherwise.</p><p>Possible values of <em class="parameter"><code>minImageTransferGranularity</code></em> are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
<span class="inlinemediaobject"><span class="phrase">
$(0,0,0)$
</span></span> which indicates that only whole mip levels <span class="normative">must</span>
    be transferred using the image transfer operations on the corresponding
    queues.
    In this case, the following restrictions apply to all offset and extent
    parameters of image transfer operations:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
The <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>, and <em class="parameter"><code>z</code></em> members of a <code class="code"><a class="link" href="#VkOffset3D">VkOffset3D</a></code>
     parameter <span class="normative">must</span> always be zero.
</li><li class="listitem">
The <em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em>, and <em class="parameter"><code>depth</code></em> members of a
     <code class="code"><a class="link" href="#VkExtent3D">VkExtent3D</a></code> parameter <span class="normative">must</span> always match the width, height, and
     depth of the image subresource corresponding to the parameter,
     respectively.
</li></ul></div></li><li class="listitem"><p class="simpara">
<span class="inlinemediaobject"><span class="phrase">
$(Ax, Ay, Az)$
</span></span> where <span class="inlinemediaobject"><span class="phrase">
$Ax$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$Ay$
</span></span>, and
    <span class="inlinemediaobject"><span class="phrase">
$Az$
</span></span> are all integer powers of two.
    In this case the following restrictions apply to all image transfer
    operations:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>, and <em class="parameter"><code>z</code></em> of a <code class="code"><a class="link" href="#VkOffset3D">VkOffset3D</a></code> parameter <span class="normative">must</span> be
     integer multiples of <span class="inlinemediaobject"><span class="phrase">
$Ax$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$Ay$
</span></span>, and
     <span class="inlinemediaobject"><span class="phrase">
$Az$
</span></span>, respectively.
</li><li class="listitem">
<em class="parameter"><code>width</code></em> of a <code class="code"><a class="link" href="#VkExtent3D">VkExtent3D</a></code> parameter <span class="normative">must</span> be an integer
     multiple of <span class="inlinemediaobject"><span class="phrase">
$Ax$
</span></span>, or else <span class="inlinemediaobject"><span class="phrase">
$(x + width)$
</span></span> <span class="normative">must</span>
     equal the width of the image subresource corresponding to the
     parameter.
</li><li class="listitem">
<em class="parameter"><code>height</code></em> of a <code class="code"><a class="link" href="#VkExtent3D">VkExtent3D</a></code> parameter <span class="normative">must</span> be an integer
     multiple of <span class="inlinemediaobject"><span class="phrase">
$Ay$
</span></span>, or else <span class="inlinemediaobject"><span class="phrase">
$(y + height)$
</span></span> <span class="normative">must</span>
     equal the height of the image subresource corresponding to the
     parameter.
</li><li class="listitem">
<em class="parameter"><code>depth</code></em> of a <code class="code"><a class="link" href="#VkExtent3D">VkExtent3D</a></code> parameter <span class="normative">must</span> be an integer
     multiple of <span class="inlinemediaobject"><span class="phrase">
$Az$
</span></span>, or else <span class="inlinemediaobject"><span class="phrase">
$(z + depth)$
</span></span> <span class="normative">must</span>
     equal the depth of the image subresource corresponding to the
     parameter.
</li><li class="listitem">
If the format of the image corresponding to the parameters is one of
     the block-compressed formats then for the purposes of the above
     calculations the granularity <span class="normative">must</span> be scaled up by the compressed texel
     block dimensions.
</li></ul></div></li></ul></div><p>Queues supporting graphics and/or compute operations <span class="normative">must</span> report
<span class="inlinemediaobject"><span class="phrase">
$(1,1,1)$
</span></span> in <em class="parameter"><code>minImageTransferGranularity</code></em>, meaning that
there are no additional restrictions on the granularity of image transfer
operations for these queues.
Other queues supporting image transfer operations are only <span class="normative">required</span> to
support whole mip level transfers, thus <em class="parameter"><code>minImageTransferGranularity</code></em>
for queues belonging to such queue families <span class="normative">may</span> be <span class="inlinemediaobject"><span class="phrase">
$(0,0,0)$
</span></span>.</p><p>The <a class="link" href="#memory-device" title="10.2. Device Memory">Device Memory</a> section describes memory properties
queried from the physical device.</p><p>For physical device feature queries see the <a class="link" href="#features" title="Chapter 31. Features, Limits, and Formats">Features</a> chapter.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="devsandqueues-devices"></a>4.2. Devices</h2></div></div></div><p>Device objects represent logical connections to physical devices.
Each device exposes a number of <span class="emphasis"><em>queue families</em></span> each having one or more
<span class="emphasis"><em>queues</em></span>.
All queues in a queue family support the same operations.</p><p>As described in <a class="link" href="#devsandqueues-physical-device-enumeration" title="4.1. Physical Devices">Physical Devices</a>, a Vulkan application will first query for all physical devices in
a system.
Each physical device <span class="normative">can</span> then be queried for its capabilities, including
its queue and queue family properties.
Once an acceptable physical device is identified, an application will create
a corresponding logical device.
An application <span class="normative">must</span> create a separate logical device for each physical
device it will use.
The created logical device is then the primary interface to the physical
device.</p><p>How to enumerate the physical devices in a system and query those physical
devices for their queue family properties is described in the
<a class="link" href="#devsandqueues-physical-device-enumeration" title="4.1. Physical Devices">Physical Device Enumeration</a>
section above.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="devsandqueues-device-creation"></a>4.2.1. Device Creation</h3></div></div></div><p>Logical devices are represented by <code class="code">VkDevice</code> handles:</p><p><a id="VkDevice"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_HANDLE(VkDevice)</pre><p>
</p><p>A logical device is created as a <span class="emphasis"><em>connection</em></span> to a physical device.
To create a logical device, call:</p><p><a id="vkCreateDevice"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateDevice(
    VkPhysicalDevice                            physicalDevice,
    const VkDeviceCreateInfo*                   pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkDevice*                                   pDevice);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be one of the device handles returned from a
    call to <span class="strong"><strong><code class="code">vkEnumeratePhysicalDevices</code></strong></span> (see
    <a class="link" href="#devsandqueues-physical-device-enumeration" title="4.1. Physical Devices">Physical Device     Enumeration</a>).
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to a <code class="code"><a class="link" href="#VkDeviceCreateInfo">VkDeviceCreateInfo</a></code> structure
    containing information about how to create the device.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pDevice</code></em> points to a handle in which the created <code class="code">VkDevice</code> is
    returned.
</li></ul></div><p>Multiple logical devices <span class="normative">can</span> be created from the same physical device.
Logical device creation <span class="normative">may</span> fail due to lack of device-specific resources
(in addition to the other errors).
If that occurs, <span class="strong"><strong><code class="code">vkCreateDevice</code></strong></span> will return
<code class="code">VK_ERROR_TOO_MANY_OBJECTS</code>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkDeviceCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pDevice</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkDevice</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_INITIALIZATION_FAILED</code>
</li><li class="listitem">
<code class="code">VK_ERROR_EXTENSION_NOT_PRESENT</code>
</li><li class="listitem">
<code class="code">VK_ERROR_FEATURE_NOT_PRESENT</code>
</li><li class="listitem">
<code class="code">VK_ERROR_TOO_MANY_OBJECTS</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkDeviceCreateInfo</code> structure is defined as:</p><p><a id="VkDeviceCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDeviceCreateInfo {
    VkStructureType                    sType;
    const void*                        pNext;
    VkDeviceCreateFlags                flags;
    uint32_t                           queueCreateInfoCount;
    const VkDeviceQueueCreateInfo*     pQueueCreateInfos;
    uint32_t                           enabledLayerCount;
    const char* const*                 ppEnabledLayerNames;
    uint32_t                           enabledExtensionCount;
    const char* const*                 ppEnabledExtensionNames;
    const VkPhysicalDeviceFeatures*    pEnabledFeatures;
} VkDeviceCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>queueCreateInfoCount</code></em> is the unsigned integer size of the
    <em class="parameter"><code>pQueueCreateInfos</code></em> array.
    Refer to the <a class="link" href="#devsandqueues-queue-creation" title="4.3.2. Queue Creation">Queue Creation</a> section
    below for further details.
</li><li class="listitem">
<em class="parameter"><code>pQueueCreateInfos</code></em> is a pointer to an array of
    <code class="code"><a class="link" href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a></code> structures describing the queues that are
    requested to be created along with the logical device.
    Refer to the <a class="link" href="#devsandqueues-queue-creation" title="4.3.2. Queue Creation">Queue Creation</a> section
    below for further details.
</li><li class="listitem">
<em class="parameter"><code>enabledLayerCount</code></em> is deprecated and ignored.
</li><li class="listitem">
<em class="parameter"><code>ppEnabledLayerNames</code></em> is deprecated and ignored.
    See <a class="link" href="#extended-functionality-device-layer-deprecation" title="30.1.1. Device Layer Deprecation">Device Layer     Deprecation</a>.
</li><li class="listitem">
<em class="parameter"><code>enabledExtensionCount</code></em> is the number of device extensions to
    enable.
</li><li class="listitem">
<em class="parameter"><code>ppEnabledExtensionNames</code></em> is a pointer to an array of
    <em class="parameter"><code>enabledExtensionCount</code></em> null-terminated UTF-8 strings containing the
    names of extensions to enable for the created device.
    See the <a class="link" href="#extended-functionality-extensions" title="30.2. Extensions">Extensions</a> section for
    further details.
</li><li class="listitem">
<em class="parameter"><code>pEnabledFeatures</code></em> is <code class="literal">NULL</code> or a pointer to a
    <code class="code"><a class="link" href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a></code> structure that contains boolean
    indicators of all the features to be enabled.
    Refer to the <a class="link" href="#features-features" title="31.1. Features">Features</a> section for further details.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>pQueueCreateInfos</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>queueCreateInfoCount</code></em> valid <code class="code">VkDeviceQueueCreateInfo</code> structures
</li><li class="listitem">
If <em class="parameter"><code>enabledLayerCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>ppEnabledLayerNames</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>enabledLayerCount</code></em> null-terminated strings
</li><li class="listitem">
If <em class="parameter"><code>enabledExtensionCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>ppEnabledExtensionNames</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>enabledExtensionCount</code></em> null-terminated strings
</li><li class="listitem">
If <em class="parameter"><code>pEnabledFeatures</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pEnabledFeatures</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkPhysicalDeviceFeatures</code> structure
</li><li class="listitem">
<em class="parameter"><code>queueCreateInfoCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
The <em class="parameter"><code>queueFamilyIndex</code></em> member of any given element of <em class="parameter"><code>pQueueCreateInfos</code></em> <span class="normative">must</span> be unique within <em class="parameter"><code>pQueueCreateInfos</code></em>
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="devsandqueues-use"></a>4.2.2. Device Use</h3></div></div></div><p>The following is a high-level list of <code class="code">VkDevice</code> uses along with
references on where to find more information:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Creation of queues.
    See the <a class="link" href="#devsandqueues-queues" title="4.3. Queues">Queues</a> section below for further
    details.
</li><li class="listitem">
Creation and tracking of various synchronization constructs.
    See <a class="link" href="#synchronization" title="Chapter 6. Synchronization and Cache Control">Synchronization and Cache Control</a> for further
    details.
</li><li class="listitem">
Allocating, freeing, and managing memory.
    See <a class="link" href="#memory" title="Chapter 10. Memory Allocation">Memory Allocation</a> and <a class="link" href="#resources" title="Chapter 11. Resource Creation">Resource Creation</a> for
    further details.
</li><li class="listitem">
Creation and destruction of command buffers and command buffer pools.
    See <a class="link" href="#commandbuffers" title="Chapter 5. Command Buffers">Command Buffers</a> for further details.
</li><li class="listitem">
Creation, destruction, and management of graphics state.
    See <a class="link" href="#pipelines" title="Chapter 9. Pipelines">Pipelines</a> and <a class="link" href="#descriptorsets" title="Chapter 13. Resource Descriptors">Resource Descriptors</a>,
    among others, for further details.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="devsandqueues-lost-device"></a>4.2.3. Lost Device</h3></div></div></div><p>A logical device <span class="normative">may</span> become <span class="emphasis"><em>lost</em></span> because of hardware errors, execution
timeouts, power management events and/or platform-specific events.
This <span class="normative">may</span> cause pending and future command execution to fail and cause
hardware resources to be corrupted.
When this happens, certain commands will return <code class="code">VK_ERROR_DEVICE_LOST</code>
(see <a class="link" href="#fundamentals-errorcodes" title="Error codes">Error Codes</a> for a list of such commands).
After any such event, the logical device is considered <span class="emphasis"><em>lost</em></span>.
It is not possible to reset the logical device to a non-lost state, however
the lost state is specific to a logical device (<code class="code">VkDevice</code>), and the
corresponding physical device (<code class="code">VkPhysicalDevice</code>) <span class="normative">may</span> be otherwise
unaffected.
In some cases, the physical device <span class="normative">may</span> also be lost, and attempting to
create a new logical device will fail, returning <code class="code">VK_ERROR_DEVICE_LOST</code>.
This is usually indicative of a problem with the underlying hardware, or its
connection to the host.
If the physical device has not been lost, and a new logical device is
successfully created from that physical device, it <span class="normative">must</span> be in the non-lost
state.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Whilst logical device loss <span class="normative">may</span> be recoverable, in the case of physical
device loss, it is unlikely that an application will be able to recover
unless additional, unaffected physical devices exist on the system.
The error is largely informational and intended only to inform the user that
their hardware has probably developed a fault or become physically
disconnected, and <span class="normative">should</span> be investigated further.
In many cases, physical device loss <span class="normative">may</span> cause other more serious issues
such as the operating system crashing; in which case it <span class="normative">may</span> not be reported
via the Vulkan API.</p></td></tr></table></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Undefined behavior caused by an application error <span class="normative">may</span> cause a device to
become lost.
However, such undefined behavior <span class="normative">may</span> also cause unrecoverable damage to the
process, and it is then not guaranteed that the API objects, including the
<code class="code">VkPhysicalDevice</code> or the <code class="code">VkInstance</code> are still valid or that the
error is recoverable.</p></td></tr></table></div><p>When a device is lost, its child objects are not implicitly destroyed and
their handles are still valid.
Those objects <span class="normative">must</span> still be destroyed before their parents or the device
<span class="normative">can</span> be destroyed (see the <a class="link" href="#fundamentals-objectmodel-lifetime" title="2.3.1. Object Lifetime">Object Lifetime</a> section).
The host address space corresponding to device memory mapped using
<code class="code"><a class="link" href="#vkMapMemory">vkMapMemory</a></code> is still valid, and host memory accesses to these mapped
regions are still valid, but the contents are undefined.
It is still legal to call any API command on the device and child objects.</p><p>Once a device is lost, command execution <span class="normative">may</span> fail, and commands that return
a <code class="code"><a class="link" href="#VkResult">VkResult</a></code> <span class="normative">may</span> return <code class="code">VK_ERROR_DEVICE_LOST</code>.
Commands that do not allow run-time errors <span class="normative">must</span> still operate correctly for
valid usage and, if applicable, return valid data.</p><p>Commands that wait indefinitely for device execution (namely
<code class="code"><a class="link" href="#vkDeviceWaitIdle">vkDeviceWaitIdle</a></code>, <code class="code"><a class="link" href="#vkQueueWaitIdle">vkQueueWaitIdle</a></code>, <code class="code"><a class="link" href="#vkWaitForFences">vkWaitForFences</a></code>
or <code class="code"><a class="link" href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>
with a maximum <em class="parameter"><code>timeout</code></em>, and <code class="code"><a class="link" href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code> with the
<code class="code">VK_QUERY_RESULT_WAIT_BIT</code> bit set in <em class="parameter"><code>flags</code></em>) <span class="normative">must</span> return in
finite time even in the case of a lost device, and return either
<code class="code">VK_SUCCESS</code> or <code class="code">VK_ERROR_DEVICE_LOST</code>.
For any command that <span class="normative">may</span> return <code class="code">VK_ERROR_DEVICE_LOST</code>, for the purpose
of determining whether a command buffer is pending execution, or whether
resources are considered in-use by the device, a return value of
<code class="code">VK_ERROR_DEVICE_LOST</code> is equivalent to <code class="code">VK_SUCCESS</code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="devsandqueues-destruction"></a>4.2.4. Device Destruction</h3></div></div></div><p>To destroy a device, call:</p><p><a id="vkDestroyDevice"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyDevice(
    VkDevice                                    device,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><p>To ensure that no work is active on the device, <code class="code"><a class="link" href="#vkDeviceWaitIdle">vkDeviceWaitIdle</a></code> <span class="normative">can</span>
be used to gate the destruction of the device.
Prior to destroying a device, an application is responsible for
destroying/freeing any Vulkan objects that were created using that device as
the first parameter of the corresponding <span class="strong"><strong><code class="code">vkCreate*</code></strong></span> or
<span class="strong"><strong><code class="code">vkAllocate*</code></strong></span> command.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The lifetime of each of these objects is bound by the lifetime of the
<code class="code">VkDevice</code> object.
Therefore, to avoid resource leaks, it is critical that an application
explicitly free all of these resources prior to calling
<span class="strong"><strong><code class="code">vkDestroyDevice</code></strong></span>.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If <em class="parameter"><code>device</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
All child objects created on <em class="parameter"><code>device</code></em> <span class="normative">must</span> have been destroyed prior to destroying <em class="parameter"><code>device</code></em>
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>device</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>device</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>device</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="devsandqueues-queues"></a>4.3. Queues</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="devsandqueues-queueprops"></a>4.3.1. Queue Family Properties</h3></div></div></div><p>As discussed in the <a class="link" href="#devsandqueues-physical-device-enumeration" title="4.1. Physical Devices">Physical Device Enumeration</a> section above, the
<code class="code"><a class="link" href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a></code> command is used to retrieve
details about the queue families and queues supported by a device.</p><p>Each index in the <em class="parameter"><code>pQueueFamilyProperties</code></em> array returned by
<code class="code"><a class="link" href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a></code> describes a unique queue
family on that physical device.
These indices are used when creating queues, and they correspond directly
with the <em class="parameter"><code>queueFamilyIndex</code></em> that is passed to the <code class="code"><a class="link" href="#vkCreateDevice">vkCreateDevice</a></code>
command via the <code class="code"><a class="link" href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a></code> structure as described in the
<a class="link" href="#devsandqueues-queue-creation" title="4.3.2. Queue Creation">Queue Creation</a> section below.</p><p>Grouping of queue families within a physical device is
implementation-dependent.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The general expectation is that a physical device groups all queues of
matching capabilities into a single family.
However, this is a recommendation to implementations and it is possible that
a physical device <span class="normative">may</span> return two separate queue families with the same
capabilities.</p></td></tr></table></div><p>Once an application has identified a physical device with the queue(s) that
it desires to use, it will create those queues in conjunction with a logical
device.
This is described in the following section.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="devsandqueues-queue-creation"></a>4.3.2. Queue Creation</h3></div></div></div><p>Creating a logical device also creates the queues associated with that
device.
The queues to create are described by a set of <code class="code"><a class="link" href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a></code>
structures that are passed to <code class="code"><a class="link" href="#vkCreateDevice">vkCreateDevice</a></code> in
<em class="parameter"><code>pQueueCreateInfos</code></em>.</p><p>Queues are represented by <code class="code">VkQueue</code> handles:</p><p><a id="VkQueue"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_HANDLE(VkQueue)</pre><p>
</p><p>The <code class="code">VkDeviceQueueCreateInfo</code> structure is defined as:</p><p><a id="VkDeviceQueueCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDeviceQueueCreateInfo {
    VkStructureType             sType;
    const void*                 pNext;
    VkDeviceQueueCreateFlags    flags;
    uint32_t                    queueFamilyIndex;
    uint32_t                    queueCount;
    const float*                pQueuePriorities;
} VkDeviceQueueCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> is an unsigned integer indicating the index of
    the queue family to create on this device.
    This index corresponds to the index of an element of the
    <em class="parameter"><code>pQueueFamilyProperties</code></em> array that was returned by
    <span class="strong"><strong><code class="code">vkGetPhysicalDeviceQueueFamilyProperties</code></strong></span>.
</li><li class="listitem">
<em class="parameter"><code>queueCount</code></em> is an unsigned integer specifying the number of queues
    to create in the queue family indicated by <em class="parameter"><code>queueFamilyIndex</code></em>.
</li><li class="listitem">
<em class="parameter"><code>pQueuePriorities</code></em> is an array of <em class="parameter"><code>queueCount</code></em> normalized
    floating point values, specifying priorities of work that will be
    submitted to each created queue.
    See <a class="link" href="#devsandqueues-priority" title="4.3.4. Queue Priority">Queue Priority</a> for more information.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_DEVICE_QUEUE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>pQueuePriorities</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>queueCount</code></em> <code class="code">float</code> values
</li><li class="listitem">
<em class="parameter"><code>queueCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> <span class="normative">must</span> be less than <em class="parameter"><code>pQueueFamilyPropertyCount</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceQueueFamilyProperties</code></strong></span>
</li><li class="listitem">
<em class="parameter"><code>queueCount</code></em> <span class="normative">must</span> be less than or equal to the <em class="parameter"><code>queueCount</code></em> member of the <code class="code">VkQueueFamilyProperties</code> structure, as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceQueueFamilyProperties</code></strong></span> in the <em class="parameter"><code>pQueueFamilyProperties</code></em>[<em class="parameter"><code>queueFamilyIndex</code></em>]
</li><li class="listitem">
Each element of <em class="parameter"><code>pQueuePriorities</code></em> <span class="normative">must</span> be between <code class="literal">0.0</code> and <code class="literal">1.0</code> inclusive
</li></ul></div></div><p>To retrieve a handle to a VkQueue object, call:</p><p><a id="vkGetDeviceQueue"></a><strong> </strong>
</p><pre class="programlisting">void vkGetDeviceQueue(
    VkDevice                                    device,
    uint32_t                                    queueFamilyIndex,
    uint32_t                                    queueIndex,
    VkQueue*                                    pQueue);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the queue.
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> is the index of the queue family to which the
    queue belongs.
</li><li class="listitem">
<em class="parameter"><code>queueIndex</code></em> is the index within this queue family of the queue to
    retrieve.
</li><li class="listitem">
<em class="parameter"><code>pQueue</code></em> is a pointer to a <code class="code">VkQueue</code> object that will be filled
    with the handle for the requested queue.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pQueue</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkQueue</code> handle
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> <span class="normative">must</span> be one of the queue family indices specified when <em class="parameter"><code>device</code></em> was created, via the <code class="code">VkDeviceQueueCreateInfo</code> structure
</li><li class="listitem">
<em class="parameter"><code>queueIndex</code></em> <span class="normative">must</span> be less than the number of queues created for the specified queue family index when <em class="parameter"><code>device</code></em> was created, via the <em class="parameter"><code>queueCount</code></em> member of the <code class="code">VkDeviceQueueCreateInfo</code> structure
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="devsandqueues-index"></a>4.3.3. Queue Family Index</h3></div></div></div><p>The queue family index is used in multiple places in Vulkan in order to tie
operations to a specific family of queues.</p><p>When retrieving a handle to the queue via <span class="strong"><strong><code class="code">vkGetDeviceQueue</code></strong></span>, the queue
family index is used to select which queue family to retrieve the
<code class="code">VkQueue</code> handle from as described in the previous section.</p><p>When creating a <code class="code">VkCommandPool</code> object (see
<a class="link" href="#commandbuffers-pools" title="5.1. Command Pools">Command Pools</a>), a queue family index is specified
in the <code class="code"><a class="link" href="#VkCommandPoolCreateInfo">VkCommandPoolCreateInfo</a></code> structure.
Command buffers from this pool <span class="normative">can</span> only be submitted on queues
corresponding to this queue family.</p><p>When creating <code class="code">VkImage</code> (see <a class="link" href="#resources-images" title="11.3. Images">Images</a>) and
<code class="code">VkBuffer</code> (see <a class="link" href="#resources-buffers" title="11.1. Buffers">Buffers</a>) resources, a set of queue
families is included in the <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code> and
<code class="code"><a class="link" href="#VkBufferCreateInfo">VkBufferCreateInfo</a></code> structures to specify the queue families that <span class="normative">can</span>
access the resource.</p><p>When inserting a <code class="code"><a class="link" href="#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a></code> or <code class="code"><a class="link" href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a></code>
(see <a class="xref" href="#synchronization-events" title="6.3. Events">Section 6.3, “Events”</a>) a source and destination queue family index
is specified to allow the ownership of a buffer or image to be transferred
from one queue family to another.
See the <a class="link" href="#resources-sharing" title="11.7. Resource Sharing Mode">Resource Sharing</a> section for details.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="devsandqueues-priority"></a>4.3.4. Queue Priority</h3></div></div></div><p>Each queue is assigned a priority, as set in the
<code class="code"><a class="link" href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a></code> structures when creating the device.
The priority of each queue is a normalized floating point value between 0.0
and 1.0, which is then translated to a discrete priority level by the
implementation.
Higher values indicate a higher priority, with 0.0 being the lowest priority
and 1.0 being the highest.</p><p>Within the same device, queues with higher priority <span class="normative">may</span> be allotted more
processing time than queues with lower priority.
The implementation makes no guarantees with regards to ordering or
scheduling among queues with the same priority, other than the constraints
defined by explicit scheduling primitives.
The implementation make no guarantees with regards to queues across
different devices.</p><p>An implementation <span class="normative">may</span> allow a higher-priority queue to starve a
lower-priority queue on the same <code class="code">VkDevice</code> until the higher-priority
queue has no further commands to execute.
The relationship of queue priorities <span class="normative">must</span> not cause queues on one VkDevice
to starve queues on another <code class="code">VkDevice</code>.</p><p>No specific guarantees are made about higher priority queues receiving more
processing time or better quality of service than lower priority queues.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="devsandqueues-submission"></a>4.3.5. Queue Submission</h3></div></div></div><p>Work is submitted to a queue via <span class="emphasis"><em>queue submission</em></span> commands such as
<code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code>.
Queue submission commands define a set of <span class="emphasis"><em>queue operations</em></span> to be executed
by the underlying physical device, including synchronization with semaphores
and fences.</p><p>Submission commands take as parameters a target queue, zero or more
<span class="emphasis"><em>batches</em></span> of work, and an optional fence to signal upon completion.
Each batch consists of three distinct parts:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Zero or more semaphores to wait on before execution of the rest of the
    batch.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If present, these describe a <a class="link" href="#synchronization-semaphores-waiting">semaphore wait operation</a>.
</li></ul></div></li><li class="listitem"><p class="simpara">
Zero or more work items to execute.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If present, these describe a <span class="emphasis"><em>queue operation</em></span> matching the work
     described.
</li></ul></div></li><li class="listitem"><p class="simpara">
Zero or more semaphores to signal upon completion of the work items.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If present, these describe a <a class="link" href="#synchronization-semaphores-signaling">semaphore signal operation</a>.
</li></ul></div></li></ol></div><p>If a fence is present in a queue submission, it describes a
<a class="link" href="#synchronization-fences-signaling">fence signal operation</a>.</p><p>All work described by a queue submission command <span class="normative">must</span> be submitted to the
queue before the command returns.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="devsandqueues-sparsebinding"></a>Sparse Memory Binding</h4></div></div></div><p>In Vulkan it is possible to sparsely bind memory to buffers and images as
described in the <a class="link" href="#sparsememory" title="Chapter 28. Sparse Resources">Sparse Resource</a> chapter.
Sparse memory binding is a queue operation.
A queue whose flags include the <code class="code">VK_QUEUE_SPARSE_BINDING_BIT</code> <span class="normative">must</span> be
able to support the mapping of a virtual address to a physical address on
the device.
This causes an update to the page table mappings on the device.
This update <span class="normative">must</span> be synchronized on a queue to avoid corrupting page table
mappings during execution of graphics commands.
By binding the sparse memory resources on queues, all commands that are
dependent on the updated bindings are synchronized to only execute after the
binding is updated.
See the <a class="link" href="#synchronization" title="Chapter 6. Synchronization and Cache Control">Synchronization and Cache Control</a> chapter for
how this synchronization is accomplished.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="devsandqueues-queuedestruction"></a>4.3.6. Queue Destruction</h3></div></div></div><p>Queues are created along with a logical device during <span class="strong"><strong><code class="code">vkCreateDevice</code></strong></span>.
All queues associated with a logical device are destroyed when
<span class="strong"><strong><code class="code">vkDestroyDevice</code></strong></span> is called on that device.</p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="commandbuffers"></a>Chapter 5. Command Buffers</h1></div></div></div><p>Command buffers are objects used to record commands which <span class="normative">can</span> be
subsequently submitted to a device queue for execution.
There are two levels of command buffers - <span class="emphasis"><em>primary command buffers</em></span>, which
<span class="normative">can</span> execute secondary command buffers, and which are submitted to queues,
and <span class="emphasis"><em>secondary command buffers</em></span>, which <span class="normative">can</span> be executed by primary command
buffers, and which are not directly submitted to queues.</p><p>Command buffers are represented by <code class="code">VkCommandBuffer</code> handles:</p><p><a id="VkCommandBuffer"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_HANDLE(VkCommandBuffer)</pre><p>
</p><p>Recorded commands include commands to bind pipelines and descriptor sets to
the command buffer, commands to modify dynamic state, commands to draw (for
graphics rendering), commands to dispatch (for compute), commands to execute
secondary command buffers (for primary command buffers only), commands to
copy buffers and images, and other commands.</p><p><a id="commandbuffers-statereset"></a>Each command buffer manages state independently of other command buffers.
There is no inheritance of state across primary and secondary command
buffers, or between secondary command buffers.
When a command buffer begins recording, all state in that command buffer is
undefined.
When secondary command buffer(s) are recorded to execute on a primary
command buffer, the secondary command buffer inherits no state from the
primary command buffer, and all state of the primary command buffer is
undefined after an execute secondary command buffer command is recorded.
There is one exception to this rule - if the primary command buffer is
inside a render pass instance, then the render pass and subpass state is not
disturbed by executing secondary command buffers.
Whenever the state of a command buffer is undefined, the application <span class="normative">must</span>
set all relevant state on the command buffer before any state dependent
commands such as draws and dispatches are recorded, otherwise the behavior
of executing that command buffer is undefined.</p><p>Unless otherwise specified, and without explicit synchronization, the
various commands submitted to a queue via command buffers <span class="normative">may</span> execute in
arbitrary order relative to each other, and/or concurrently.
Also, the memory side-effects of those commands <span class="normative">may</span> not be directly visible
to other commands without memory barriers.
This is true within a command buffer, and across command buffers submitted
to a given queue.
See <a class="xref" href="#synchronization-events" title="6.3. Events">Section 6.3, “Events”</a>, <a class="xref" href="#synchronization-pipeline-barriers" title="6.5. Pipeline Barriers">Section 6.5, “Pipeline Barriers”</a> and
<a class="xref" href="#synchronization-memory-barriers" title="6.5.3. Memory Barriers">Section 6.5.3, “Memory Barriers”</a> about synchronization primitives
suitable to guarantee execution order and side-effect visibility between
commands on a given queue.</p><p>Each command buffer is always in one of three states:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="emphasis"><em>Initial state</em></span>: Before <code class="code"><a class="link" href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></code>.
    Either <code class="code"><a class="link" href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></code> has never been called, or the command
    buffer has been reset since it last recorded commands.
</li><li class="listitem">
<span class="emphasis"><em>Recording state</em></span>: Between <code class="code"><a class="link" href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></code> and
    <code class="code"><a class="link" href="#vkEndCommandBuffer">vkEndCommandBuffer</a></code>.
    The command buffer is in a state where it <span class="normative">can</span> record commands.
</li><li class="listitem">
<span class="emphasis"><em>Executable state</em></span>: After <code class="code"><a class="link" href="#vkEndCommandBuffer">vkEndCommandBuffer</a></code>.
    The command buffer is in a state where it has finished recording
    commands and <span class="normative">can</span> be executed.
</li></ul></div><p><span class="emphasis"><em>Resetting</em></span> a command buffer is an operation that discards any previously
recorded commands and puts a command buffer in the initial state.
Resetting occurs as a result of <code class="code"><a class="link" href="#vkResetCommandBuffer">vkResetCommandBuffer</a></code> or
<code class="code"><a class="link" href="#vkResetCommandPool">vkResetCommandPool</a></code>, or as part of <code class="code"><a class="link" href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></code> (which
additionally puts the command buffer in the recording state).</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="commandbuffers-pools"></a>5.1. Command Pools</h2></div></div></div><p>Command pools are opaque objects that command buffer memory is allocated
from, and which allow the implementation to amortize the cost of resource
creation across multiple command buffers.
Command pools are application-synchronized, meaning that a command pool
<span class="normative">must</span> not be used concurrently in multiple threads.
That includes use via recording commands on any command buffers allocated
from the pool, as well as operations that allocate, free, and reset command
buffers or the pool itself.</p><p>Command pools are represented by <code class="code">VkCommandPool</code> handles:</p><p><a id="VkCommandPool"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkCommandPool)</pre><p>
</p><p>To create a command pool, call:</p><p><a id="vkCreateCommandPool"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateCommandPool(
    VkDevice                                    device,
    const VkCommandPoolCreateInfo*              pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkCommandPool*                              pCommandPool);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the command pool.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> contains information used to create the command pool.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pCommandPool</code></em> points to a <code class="code">VkCommandPool</code> handle in which the
    created pool is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkCommandPoolCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pCommandPool</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkCommandPool</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkCommandPoolCreateInfo</code> structure is defined as:</p><p><a id="VkCommandPoolCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkCommandPoolCreateInfo {
    VkStructureType             sType;
    const void*                 pNext;
    VkCommandPoolCreateFlags    flags;
    uint32_t                    queueFamilyIndex;
} VkCommandPoolCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>flags</code></em> is a bitmask indicating usage behavior for the pool and
    command buffers allocated from it.
    Bits which <span class="normative">can</span> be set include:
</p><p><a id="VkCommandPoolCreateFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkCommandPoolCreateFlagBits {
    VK_COMMAND_POOL_CREATE_TRANSIENT_BIT = 0x00000001,
    VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT = 0x00000002,
} VkCommandPoolCreateFlagBits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_COMMAND_POOL_CREATE_TRANSIENT_BIT</code> indicates that command
     buffers allocated from the pool will be short-lived, meaning that they
     will be reset or freed in a relatively short timeframe.
     This flag <span class="normative">may</span> be used by the implementation to control memory
     allocation behavior within the pool.
</li><li class="listitem">
<code class="code">VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</code> controls whether
     command buffers allocated from the pool <span class="normative">can</span> be individually reset.
     If this flag is set, individual command buffers allocated from the pool
     <span class="normative">can</span> be reset either explicitly, by calling <span class="strong"><strong><code class="code">vkResetCommandBuffer</code></strong></span>,
     or implicitly, by calling <span class="strong"><strong><code class="code">vkBeginCommandBuffer</code></strong></span> on an executable
     command buffer.
     If this flag is not set, then <span class="strong"><strong><code class="code">vkResetCommandBuffer</code></strong></span> and
     <span class="strong"><strong><code class="code">vkBeginCommandBuffer</code></strong></span> (on an executable command buffer) <span class="normative">must</span> not
     be called on the command buffers allocated from the pool, and they <span class="normative">can</span>
     only be reset in bulk by calling <span class="strong"><strong><code class="code">vkResetCommandPool</code></strong></span>.
</li></ul></div></li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> designates a queue family as described in section
    <a class="link" href="#devsandqueues-queueprops" title="4.3.1. Queue Family Properties">Queue Family Properties</a>.
    All command buffers allocated from this command pool <span class="normative">must</span> be submitted
    on queues from the same queue family.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_COMMAND_POOL_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkCommandPoolCreateFlagBits">VkCommandPoolCreateFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> <span class="normative">must</span> be the index of a queue family available in the calling command’s <em class="parameter"><code>device</code></em> parameter
</li></ul></div></div><p>To reset a command pool, call:</p><p><a id="vkResetCommandPool"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkResetCommandPool(
    VkDevice                                    device,
    VkCommandPool                               commandPool,
    VkCommandPoolResetFlags                     flags);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the command pool.
</li><li class="listitem">
<em class="parameter"><code>commandPool</code></em> is the command pool to reset.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>flags</code></em> contains additional flags controlling the behavior of the
    reset.
    Bits which <span class="normative">can</span> be set include:
</p><p><a id="VkCommandPoolResetFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkCommandPoolResetFlagBits {
    VK_COMMAND_POOL_RESET_RELEASE_RESOURCES_BIT = 0x00000001,
} VkCommandPoolResetFlagBits;</pre><p>
</p><p class="simpara">If <em class="parameter"><code>flags</code></em> includes <code class="code">VK_COMMAND_POOL_RESET_RELEASE_RESOURCES_BIT</code>,
resetting a command pool recycles all of the resources from the command pool
back to the system.</p></li></ul></div><p>Resetting a command pool recycles all of the resources from all of the
command buffers allocated from the command pool back to the command pool.
All command buffers that have been allocated from the command pool are put
in the initial state.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandPool</code> handle
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkCommandPoolResetFlagBits">VkCommandPoolResetFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>commandPool</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All <code class="code">VkCommandBuffer</code> objects allocated from <em class="parameter"><code>commandPool</code></em> <span class="normative">must</span> not currently be pending execution
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandPool</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>To destroy a command pool, call:</p><p><a id="vkDestroyCommandPool"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyCommandPool(
    VkDevice                                    device,
    VkCommandPool                               commandPool,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the command pool.
</li><li class="listitem">
<em class="parameter"><code>commandPool</code></em> is the handle of the command pool to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><p>When a pool is destroyed, all command buffers allocated from the pool are
implicitly freed and become invalid.
Command buffers allocated from a given pool do not need to be freed before
destroying that command pool.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>commandPool</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>commandPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandPool</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>commandPool</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All <code class="code">VkCommandBuffer</code> objects allocated from <em class="parameter"><code>commandPool</code></em> <span class="normative">must</span> not be pending execution
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>commandPool</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>commandPool</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandPool</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="commandbuffer-allocation"></a>5.2. Command Buffer Allocation and Management</h2></div></div></div><p>To allocate command buffers, call:</p><p><a id="vkAllocateCommandBuffers"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkAllocateCommandBuffers(
    VkDevice                                    device,
    const VkCommandBufferAllocateInfo*          pAllocateInfo,
    VkCommandBuffer*                            pCommandBuffers);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the command pool.
</li><li class="listitem">
<em class="parameter"><code>pAllocateInfo</code></em> is a pointer to an instance of the
    <code class="code">VkCommandBufferAllocateInfo</code> structure describing parameters of the
    allocation.
</li><li class="listitem">
<em class="parameter"><code>pCommandBuffers</code></em> is a pointer to an array of <code class="code">VkCommandBuffer</code>
    handles in which the resulting command buffer objects are returned.
    The array <span class="normative">must</span> be at least the length specified by the
    <em class="parameter"><code>commandBufferCount</code></em> member of <em class="parameter"><code>pAllocateInfo</code></em>.
    Each allocated command buffer begins in the initial state.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pAllocateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkCommandBufferAllocateInfo</code> structure
</li><li class="listitem">
<em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pAllocateInfo</code></em>::commandBufferCount <code class="code">VkCommandBuffer</code> handles
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>pAllocateInfo</code></em>::commandPool <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkCommandBufferAllocateInfo</code> structure is defined as:</p><p><a id="VkCommandBufferAllocateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkCommandBufferAllocateInfo {
    VkStructureType         sType;
    const void*             pNext;
    VkCommandPool           commandPool;
    VkCommandBufferLevel    level;
    uint32_t                commandBufferCount;
} VkCommandBufferAllocateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>commandPool</code></em> is the name of the command pool that the command
    buffers allocate their memory from.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>level</code></em> determines whether the command buffers are primary or
    secondary command buffers.
    Possible values include:
</p><p><a id="VkCommandBufferLevel"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkCommandBufferLevel {
    VK_COMMAND_BUFFER_LEVEL_PRIMARY = 0,
    VK_COMMAND_BUFFER_LEVEL_SECONDARY = 1,
} VkCommandBufferLevel;</pre><p>
</p></li><li class="listitem">
<em class="parameter"><code>commandBufferCount</code></em> is the number of command buffers to allocate
    from the pool.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>commandPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandPool</code> handle
</li><li class="listitem">
<em class="parameter"><code>level</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkCommandBufferLevel">VkCommandBufferLevel</a></code> value
</li><li class="listitem">
<em class="parameter"><code>commandBufferCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li></ul></div></div><p>To reset command buffers, call:</p><p><a id="vkResetCommandBuffer"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkResetCommandBuffer(
    VkCommandBuffer                             commandBuffer,
    VkCommandBufferResetFlags                   flags);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer to reset.
    The command buffer <span class="normative">can</span> be in any state, and is put in the initial
    state.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>flags</code></em> is a bitmask controlling the reset operation.
    Bits which <span class="normative">can</span> be set include:
</p><p><a id="VkCommandBufferResetFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkCommandBufferResetFlagBits {
    VK_COMMAND_BUFFER_RESET_RELEASE_RESOURCES_BIT = 0x00000001,
} VkCommandBufferResetFlagBits;</pre><p>
</p><p class="simpara">If <em class="parameter"><code>flags</code></em> includes <code class="code">VK_COMMAND_BUFFER_RESET_RELEASE_RESOURCES_BIT</code>,
then most or all memory resources currently owned by the command buffer
<span class="normative">should</span> be returned to the parent command pool.
If this flag is not set, then the command buffer <span class="normative">may</span> hold onto memory
resources and reuse them when recording commands.</p></li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkCommandBufferResetFlagBits">VkCommandBufferResetFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> not currently be pending execution
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> have been allocated from a pool that was created with the <code class="code">VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>To free command buffers, call:</p><p><a id="vkFreeCommandBuffers"></a><strong> </strong>
</p><pre class="programlisting">void vkFreeCommandBuffers(
    VkDevice                                    device,
    VkCommandPool                               commandPool,
    uint32_t                                    commandBufferCount,
    const VkCommandBuffer*                      pCommandBuffers);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the command pool.
</li><li class="listitem">
<em class="parameter"><code>commandPool</code></em> is the handle of the command pool that the command
    buffers were allocated from.
</li><li class="listitem">
<em class="parameter"><code>commandBufferCount</code></em> is the length of the <em class="parameter"><code>pCommandBuffers</code></em>
    array.
</li><li class="listitem">
<em class="parameter"><code>pCommandBuffers</code></em> is an array of handles of command buffers to free.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandPool</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBufferCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>commandPool</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
Each element of <em class="parameter"><code>pCommandBuffers</code></em> that is a valid handle <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>commandPool</code></em>
</li><li class="listitem">
All elements of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> not be pending execution
</li><li class="listitem">
<em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>commandBufferCount</code></em> <code class="code">VkCommandBuffer</code> handles, each element of which <span class="normative">must</span> either be a valid handle or <span class="strong"><strong><code class="code">NULL</code></strong></span>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandPool</code></em> <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to each member of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="commandbuffers-recording"></a>5.3. Command Buffer Recording</h2></div></div></div><p>To begin recording a command buffer, call:</p><p><a id="vkBeginCommandBuffer"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkBeginCommandBuffer(
    VkCommandBuffer                             commandBuffer,
    const VkCommandBufferBeginInfo*             pBeginInfo);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the handle of the command buffer which is to be
    put in the recording state.
</li><li class="listitem">
<em class="parameter"><code>pBeginInfo</code></em> is an instance of the <code class="code">VkCommandBufferBeginInfo</code>
    structure, which defines additional information about how the command
    buffer begins recording.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pBeginInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkCommandBufferBeginInfo</code> structure
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> not be in the recording state
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> not currently be pending execution
</li><li class="listitem">
If <em class="parameter"><code>commandBuffer</code></em> was allocated from a <code class="code">VkCommandPool</code> which did not have the <code class="code">VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</code> flag set, <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the initial state
</li><li class="listitem">
If <em class="parameter"><code>commandBuffer</code></em> is a secondary command buffer, the <em class="parameter"><code>pInheritanceInfo</code></em> member of <em class="parameter"><code>pBeginInfo</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBufferInheritanceInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>commandBuffer</code></em> is a secondary command buffer and either the <em class="parameter"><code>occlusionQueryEnable</code></em> member of the <em class="parameter"><code>pInheritanceInfo</code></em> member of <em class="parameter"><code>pBeginInfo</code></em> is <code class="code">VK_FALSE</code>, or the precise occlusion queries feature is not enabled, the <em class="parameter"><code>queryFlags</code></em> member of the <em class="parameter"><code>pInheritanceInfo</code></em> member <em class="parameter"><code>pBeginInfo</code></em> <span class="normative">must</span> not contain <code class="code">VK_QUERY_CONTROL_PRECISE_BIT</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkCommandBufferBeginInfo</code> structure is defined as:</p><p><a id="VkCommandBufferBeginInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkCommandBufferBeginInfo {
    VkStructureType                          sType;
    const void*                              pNext;
    VkCommandBufferUsageFlags                flags;
    const VkCommandBufferInheritanceInfo*    pInheritanceInfo;
} VkCommandBufferBeginInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>flags</code></em> is a bitmask indicating usage behavior for the command
    buffer.
    Bits which <span class="normative">can</span> be set include:
</p><p><a id="VkCommandBufferUsageFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkCommandBufferUsageFlagBits {
    VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT = 0x00000001,
    VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT = 0x00000002,
    VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT = 0x00000004,
} VkCommandBufferUsageFlagBits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT</code> indicates that each
     recording of the command buffer will only be submitted once, and the
     command buffer will be reset and recorded again between each
     submission.
</li><li class="listitem">
<code class="code">VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code> indicates that a
     secondary command buffer is considered to be entirely inside a render
     pass.
     If this is a primary command buffer, then this bit is ignored.
</li><li class="listitem">
Setting <code class="code">VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> allows the
     command buffer to be resubmitted to a queue or recorded into a primary
     command buffer while it is pending execution.
</li></ul></div></li><li class="listitem">
<em class="parameter"><code>pInheritanceInfo</code></em> is a pointer to a
    <code class="code">VkCommandBufferInheritanceInfo</code> structure, which is used if
    <em class="parameter"><code>commandBuffer</code></em> is a secondary command buffer.
    If this is a primary command buffer, then this value is ignored.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkCommandBufferUsageFlagBits">VkCommandBufferUsageFlagBits</a></code> values
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains <code class="code">VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code>, the <em class="parameter"><code>renderPass</code></em> member of <em class="parameter"><code>pInheritanceInfo</code></em> <span class="normative">must</span> be a valid <code class="code">VkRenderPass</code>
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains <code class="code">VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code>, the <em class="parameter"><code>subpass</code></em> member of <em class="parameter"><code>pInheritanceInfo</code></em> <span class="normative">must</span> be a valid subpass index within the <em class="parameter"><code>renderPass</code></em> member of <em class="parameter"><code>pInheritanceInfo</code></em>
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains <code class="code">VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code>, the <em class="parameter"><code>framebuffer</code></em> member of <em class="parameter"><code>pInheritanceInfo</code></em> <span class="normative">must</span> be either <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, or a valid <code class="code">VkFramebuffer</code> that is compatible with the <em class="parameter"><code>renderPass</code></em> member of <em class="parameter"><code>pInheritanceInfo</code></em>
</li></ul></div></div><p>If the command buffer is a secondary command buffer, then the
<code class="code">VkCommandBufferInheritanceInfo</code> structure defines any state that will
be inherited from the primary command buffer:</p><p><a id="VkCommandBufferInheritanceInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkCommandBufferInheritanceInfo {
    VkStructureType                  sType;
    const void*                      pNext;
    VkRenderPass                     renderPass;
    uint32_t                         subpass;
    VkFramebuffer                    framebuffer;
    VkBool32                         occlusionQueryEnable;
    VkQueryControlFlags              queryFlags;
    VkQueryPipelineStatisticFlags    pipelineStatistics;
} VkCommandBufferInheritanceInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>renderPass</code></em> is a <code class="code">VkRenderPass</code> object defining which render
    passes the <code class="code">VkCommandBuffer</code> will be <a class="link" href="#renderpass-compatibility" title="7.2. Render Pass Compatibility">compatible</a> with and <span class="normative">can</span> be executed within.
    If the <code class="code">VkCommandBuffer</code> will not be executed within a render pass
    instance, <em class="parameter"><code>renderPass</code></em> is ignored.
</li><li class="listitem">
<em class="parameter"><code>subpass</code></em> is the index of the subpass within <em class="parameter"><code>renderPass</code></em> that
    the <code class="code">VkCommandBuffer</code> will be executed within.
    If the <code class="code">VkCommandBuffer</code> will not be executed within a render pass
    instance, <em class="parameter"><code>subpass</code></em> is ignored.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>framebuffer</code></em> optionally refers to the <code class="code">VkFramebuffer</code> object
    that the <code class="code">VkCommandBuffer</code> will be rendering to if it is executed
    within a render pass instance.
    It <span class="normative">can</span> be <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> if the framebuffer is not known, or if
    the <code class="code">VkCommandBuffer</code> will not be executed within a render pass
    instance.
</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Specifying the exact framebuffer that the secondary command buffer will be
executed with <span class="normative">may</span> result in better performance at command buffer execution
time.</p></td></tr></table></div></li><li class="listitem">
<em class="parameter"><code>occlusionQueryEnable</code></em> indicates whether the command buffer <span class="normative">can</span> be
    executed while an occlusion query is active in the primary command
    buffer.
    If this is <code class="code">VK_TRUE</code>, then this command buffer <span class="normative">can</span> be executed
    whether the primary command buffer has an occlusion query active or not.
    If this is <code class="code">VK_FALSE</code>, then the primary command buffer <span class="normative">must</span> not
    have an occlusion query active.
</li><li class="listitem">
<em class="parameter"><code>queryFlags</code></em> indicates the query flags that <span class="normative">can</span> be used by an
    active occlusion query in the primary command buffer when this secondary
    command buffer is executed.
    If this value includes the <code class="code">VK_QUERY_CONTROL_PRECISE_BIT</code> bit, then
    the active query <span class="normative">can</span> return boolean results or actual sample counts.
    If this bit is not set, then the active query <span class="normative">must</span> not use the
    <code class="code">VK_QUERY_CONTROL_PRECISE_BIT</code> bit.
    If this is a primary command buffer, then this value is ignored.
</li><li class="listitem">
<em class="parameter"><code>pipelineStatistics</code></em> indicates the set of pipeline statistics that
    <span class="normative">can</span> be counted by an active query in the primary command buffer when
    this secondary command buffer is executed.
    If this value includes a given bit, then this command buffer <span class="normative">can</span> be
    executed whether the primary command buffer has a pipeline statistics
    query active that includes this bit or not.
    If this value excludes a given bit, then the active pipeline statistics
    query <span class="normative">must</span> not be from a query pool that counts that statistic.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_COMMAND_BUFFER_INHERITANCE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
Both of <em class="parameter"><code>framebuffer</code></em>, and <em class="parameter"><code>renderPass</code></em> that are valid handles <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-inheritedQueries">inherited queries</a> feature is not enabled, <em class="parameter"><code>occlusionQueryEnable</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-inheritedQueries">inherited queries</a> feature is enabled, <em class="parameter"><code>queryFlags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkQueryControlFlagBits">VkQueryControlFlagBits</a></code> values
</li><li class="listitem">
If the <a class="link" href="#features-features-pipelineStatisticsQuery">pipeline statistics queries</a> feature is not enabled, <em class="parameter"><code>pipelineStatistics</code></em> <span class="normative">must</span> be <span class="strong"><strong><code class="code">0</code></strong></span>
</li></ul></div></div><p>A primary command buffer is considered to be pending execution from the time
it is submitted via <span class="strong"><strong><code class="code">vkQueueSubmit</code></strong></span> until that submission completes.</p><p>A secondary command buffer is considered to be pending execution from the
time its execution is recorded into a primary buffer (via
<span class="strong"><strong><code class="code">vkCmdExecuteCommands</code></strong></span>) until the final time that primary buffer’s
submission to a queue completes.
If, after the primary buffer completes, the secondary command buffer is
recorded to execute on a different primary buffer, the first primary buffer
<span class="normative">must</span> not be resubmitted until after it is reset with
<code class="code"><a class="link" href="#vkResetCommandBuffer">vkResetCommandBuffer</a></code> unless the secondary command buffer was recorded
with <code class="code">VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code>.</p><p>If <code class="code">VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> is not set on a
secondary command buffer, that command buffer <span class="normative">must</span> not be used more than
once in a given primary command buffer.
Furthermore, if a secondary command buffer without
<code class="code">VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> set is recorded to
execute in a primary command buffer with
<code class="code">VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> set, the primary command
buffer <span class="normative">must</span> not be pending execution more than once at a time.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>On some implementations, not using the
<code class="code">VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> bit enables command
buffers to be patched in-place if needed, rather than creating a copy of the
command buffer.</p></td></tr></table></div><p>If a command buffer is in the executable state and the command buffer was
allocated from a command pool with the
<code class="code">VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</code> flag set, then
<span class="strong"><strong><code class="code">vkBeginCommandBuffer</code></strong></span> implicitly resets the command buffer, behaving as
if <span class="strong"><strong><code class="code">vkResetCommandBuffer</code></strong></span> had been called with
<code class="code">VK_COMMAND_BUFFER_RESET_RELEASE_RESOURCES_BIT</code> not set.
It then puts the command buffer in the recording state.</p><p>Once recording starts, an application records a sequence of commands
(<span class="strong"><strong><code class="code">vkCmd*</code></strong></span>) to set state in the command buffer, draw, dispatch, and other
commands.</p><p>To complete recording of a command buffer, call:</p><p><a id="vkEndCommandBuffer"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkEndCommandBuffer(
    VkCommandBuffer                             commandBuffer);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer to complete recording.
    The command buffer <span class="normative">must</span> have been in the recording state, and is moved
    to the executable state.
</li></ul></div><p>If there was an error during recording, the application will be notified by
an unsuccessful return code returned by <span class="strong"><strong><code class="code">vkEndCommandBuffer</code></strong></span>.
If the application wishes to further use the command buffer, the command
buffer <span class="normative">must</span> be reset.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
If <em class="parameter"><code>commandBuffer</code></em> is a primary command buffer, there <span class="normative">must</span> not be an active render pass instance
</li><li class="listitem">
All queries made <a class="link" href="#queries-operation-active">active</a> during the recording of <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> have been made inactive
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>When a command buffer is in the executable state, it <span class="normative">can</span> be submitted to a
queue for execution.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="commandbuffers-submission"></a>5.4. Command Buffer Submission</h2></div></div></div><p>To submit command buffers to a queue, call:</p><p><a id="vkQueueSubmit"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkQueueSubmit(
    VkQueue                                     queue,
    uint32_t                                    submitCount,
    const VkSubmitInfo*                         pSubmits,
    VkFence                                     fence);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>queue</code></em> is the queue that the command buffers will be submitted to.
</li><li class="listitem">
<em class="parameter"><code>submitCount</code></em> is the number of elements in the <em class="parameter"><code>pSubmits</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pSubmits</code></em> is a pointer to an array of <code class="code"><a class="link" href="#VkSubmitInfo">VkSubmitInfo</a></code>
    structures, each specifying a command buffer submission batch.
</li><li class="listitem">
<em class="parameter"><code>fence</code></em> is an optional handle to a fence to be signaled.
    If <em class="parameter"><code>fence</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, it defines a
    <a class="link" href="#synchronization-fences-signaling">fence signal operation</a>.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Submission can be a high overhead operation, and applications <span class="normative">should</span>
attempt to batch work together into as few calls to <span class="strong"><strong><code class="code">vkQueueSubmit</code></strong></span> as
possible.</p></td></tr></table></div><p><span class="strong"><strong><code class="code">vkQueueSubmit</code></strong></span> is a <a class="link" href="#devsandqueues-submission" title="4.3.5. Queue Submission">queue submission command</a>, with each batch defined by an element of <em class="parameter"><code>pSubmits</code></em> as an
instance of the <code class="code"><a class="link" href="#VkSubmitInfo">VkSubmitInfo</a></code> structure.</p><p>Fence and semaphore operations submitted with <code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code> have
additional ordering constraints compared to other submission commands, with
dependencies involving previous and subsequent queue operations.
Information about these additional constraints can be found in the
<a class="link" href="#synchronization-semaphores" title="6.2. Semaphores">semaphore</a> and <a class="link" href="#synchronization-fences" title="6.1. Fences">fence</a> sections of <a class="link" href="#synchronization" title="Chapter 6. Synchronization and Cache Control">the synchronization chapter</a>.</p><p>Details on the interaction of <em class="parameter"><code>pWaitDstStageMask</code></em> with synchronization
are described in the <a class="link" href="#synchronization-semaphores-waiting">semaphore wait operation</a> section of <a class="link" href="#synchronization" title="Chapter 6. Synchronization and Cache Control">the synchronization chapter</a>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>queue</code></em> <span class="normative">must</span> be a valid <code class="code">VkQueue</code> handle
</li><li class="listitem">
If <em class="parameter"><code>submitCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pSubmits</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>submitCount</code></em> valid <code class="code">VkSubmitInfo</code> structures
</li><li class="listitem">
If <em class="parameter"><code>fence</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>fence</code></em> <span class="normative">must</span> be a valid <code class="code">VkFence</code> handle
</li><li class="listitem">
Both of <em class="parameter"><code>fence</code></em>, and <em class="parameter"><code>queue</code></em> that are valid handles <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
If <em class="parameter"><code>fence</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>fence</code></em> <span class="normative">must</span> be unsignaled
</li><li class="listitem">
If <em class="parameter"><code>fence</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>fence</code></em> <span class="normative">must</span> not be associated with any other queue command that has not yet completed execution on that queue
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>queue</code></em> <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>pSubmits</code></em>[].pWaitSemaphores[] <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>pSubmits</code></em>[].pSignalSemaphores[] <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>fence</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="" align="left" valign="top"><p>Any</p></td></tr></tbody></table></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkSubmitInfo</code> structure is defined as:</p><p><a id="VkSubmitInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSubmitInfo {
    VkStructureType                sType;
    const void*                    pNext;
    uint32_t                       waitSemaphoreCount;
    const VkSemaphore*             pWaitSemaphores;
    const VkPipelineStageFlags*    pWaitDstStageMask;
    uint32_t                       commandBufferCount;
    const VkCommandBuffer*         pCommandBuffers;
    uint32_t                       signalSemaphoreCount;
    const VkSemaphore*             pSignalSemaphores;
} VkSubmitInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>waitSemaphoreCount</code></em> is the number of semaphores upon which to wait
    before executing the command buffers for the batch.
</li><li class="listitem">
<em class="parameter"><code>pWaitSemaphores</code></em> is a pointer to an array of semaphores upon which
    to wait before the command buffers for this batch begin execution.
    If semaphores to wait on are provided, they define a
    <a class="link" href="#synchronization-semaphores-waiting">semaphore wait operation</a>.
</li><li class="listitem">
<em class="parameter"><code>pWaitDstStageMask</code></em> is a pointer to an array of pipeline stages at
    which each corresponding semaphore wait will occur.
</li><li class="listitem">
<em class="parameter"><code>commandBufferCount</code></em> is the number of command buffers to execute in
    the batch.
</li><li class="listitem">
<em class="parameter"><code>pCommandBuffers</code></em> is a pointer to an array of command buffers to
    execute in the batch.
    The command buffers submitted in a batch begin execution in the order
    they appear in <em class="parameter"><code>pCommandBuffers</code></em>, but <span class="normative">may</span> complete out of order.
</li><li class="listitem">
<em class="parameter"><code>signalSemaphoreCount</code></em> is the number of semaphores to be signaled
    once the commands specified in <em class="parameter"><code>pCommandBuffers</code></em> have completed
    execution.
</li><li class="listitem">
<em class="parameter"><code>pSignalSemaphores</code></em> is a pointer to an array of semaphores which
    will be signaled when the command buffers for this batch have completed
    execution.
    If semaphores to be signaled are provided, they define a
    <a class="link" href="#synchronization-semaphores-signaling">semaphore signal operation</a>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_SUBMIT_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
If <em class="parameter"><code>waitSemaphoreCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pWaitSemaphores</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>waitSemaphoreCount</code></em> valid <code class="code">VkSemaphore</code> handles
</li><li class="listitem">
If <em class="parameter"><code>waitSemaphoreCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pWaitDstStageMask</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>waitSemaphoreCount</code></em> valid combinations of <code class="code"><a class="link" href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</li><li class="listitem">
Each element of <em class="parameter"><code>pWaitDstStageMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>commandBufferCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>commandBufferCount</code></em> valid <code class="code">VkCommandBuffer</code> handles
</li><li class="listitem">
If <em class="parameter"><code>signalSemaphoreCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pSignalSemaphores</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>signalSemaphoreCount</code></em> valid <code class="code">VkSemaphore</code> handles
</li><li class="listitem">
Each of the elements of <em class="parameter"><code>pCommandBuffers</code></em>, the elements of <em class="parameter"><code>pSignalSemaphores</code></em>, and the elements of <em class="parameter"><code>pWaitSemaphores</code></em> that are valid handles <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pSignalSemaphores</code></em> <span class="normative">must</span> currently be unsignaled
</li><li class="listitem">
Any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> either have been recorded with the <code class="code">VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code>, or not currently be executing on the device
</li><li class="listitem">
Any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> be in the executable state
</li><li class="listitem">
If any given element of <em class="parameter"><code>pCommandBuffers</code></em> contains commands that execute secondary command buffers, those secondary command buffers <span class="normative">must</span> have been recorded with the <code class="code">VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code>, or not currently be executing on the device
</li><li class="listitem">
If any given element of <em class="parameter"><code>pCommandBuffers</code></em> was recorded with <code class="code">VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT</code>, it <span class="normative">must</span> not have been previously submitted without re-recording that command buffer
</li><li class="listitem">
If any given element of <em class="parameter"><code>pCommandBuffers</code></em> contains commands that execute secondary command buffers recorded with <code class="code">VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT</code>, each such secondary command buffer <span class="normative">must</span> not have been previously submitted without re-recording that command buffer
</li><li class="listitem">
Any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> not contain commands that execute a secondary command buffer, if that secondary command buffer has been recorded in another primary command buffer after it was recorded into this <code class="code">VkCommandBuffer</code>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> have been allocated from a <code class="code">VkCommandPool</code> that was created for the same queue family that the calling command’s <em class="parameter"><code>queue</code></em> belongs to
</li><li class="listitem">
Any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> not have been allocated with <code class="code">VK_COMMAND_BUFFER_LEVEL_SECONDARY</code>
</li><li class="listitem">
Any given element of <code class="code">VkSemaphore</code> in <em class="parameter"><code>pWaitSemaphores</code></em> <span class="normative">must</span> refer to a prior signal of that <code class="code">VkSemaphore</code> that will not be consumed by any other wait on that semaphore
</li><li class="listitem">
If the <a class="link" href="#features-features-geometryShader">geometry shaders</a> feature is not enabled, any given element of <em class="parameter"><code>pWaitDstStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-tessellationShader">tessellation shaders</a> feature is not enabled, any given element of <em class="parameter"><code>pWaitDstStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or <code class="code">VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="commandbuffers-submission-progress"></a>5.5. Queue Forward Progress</h2></div></div></div><p>The application <span class="normative">must</span> ensure that command buffer submissions will be able to
complete without any subsequent operations by the application on any queue.
After any call to <span class="strong"><strong><code class="code">vkQueueSubmit</code></strong></span>, for every queued wait on a semaphore
there <span class="normative">must</span> be a prior signal of that semaphore that will not be consumed by
a different wait on the semaphore.</p><p>Command buffers in the submission <span class="normative">can</span> include <code class="code"><a class="link" href="#vkCmdWaitEvents">vkCmdWaitEvents</a></code>
commands that wait on events that will not be signaled by earlier commands
in the queue.
Such events <span class="normative">must</span> be signaled by the application using <code class="code"><a class="link" href="#vkSetEvent">vkSetEvent</a></code>, and
the <span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> commands that wait upon them <span class="normative">must</span> not be inside a
render pass instance.
Implementations <span class="normative">may</span> have limits on how long the command buffer will wait,
in order to avoid interfering with progress of other clients of the device.
If the event is not signaled within these limits, results are undefined and
<span class="normative">may</span> include device loss.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="commandbuffers-secondary"></a>5.6. Secondary Command Buffer Execution</h2></div></div></div><p>A secondary command buffer <span class="normative">must</span> not be directly submitted to a queue.
Instead, secondary command buffers are recorded to execute as part of a
primary command buffer with the command:</p><p><a id="vkCmdExecuteCommands"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdExecuteCommands(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    commandBufferCount,
    const VkCommandBuffer*                      pCommandBuffers);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is a handle to a primary command buffer that the
    secondary command buffers are executed in.
</li><li class="listitem">
<em class="parameter"><code>commandBufferCount</code></em> is the length of the <em class="parameter"><code>pCommandBuffers</code></em>
    array.
</li><li class="listitem">
<em class="parameter"><code>pCommandBuffers</code></em> is an array of secondary command buffer handles,
    which are recorded to execute in the primary command buffer in the order
    they are listed in the array.
</li></ul></div><p>Once <span class="strong"><strong><code class="code">vkCmdExecuteCommands</code></strong></span> has been called, any prior executions of the
secondary command buffers specified by <em class="parameter"><code>pCommandBuffers</code></em> in any other
primary command buffer become invalidated, unless those secondary command
buffers were recorded with
<code class="code">VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>commandBufferCount</code></em> valid <code class="code">VkCommandBuffer</code> handles
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support transfer, graphics, or compute operations
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a primary <code class="code">VkCommandBuffer</code>
</li><li class="listitem">
<em class="parameter"><code>commandBufferCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and the elements of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> have been allocated with a <em class="parameter"><code>level</code></em> of <code class="code">VK_COMMAND_BUFFER_LEVEL_PRIMARY</code>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> have been allocated with a <em class="parameter"><code>level</code></em> of <code class="code">VK_COMMAND_BUFFER_LEVEL_SECONDARY</code>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> not be already pending execution in <em class="parameter"><code>commandBuffer</code></em>, or appear twice in <em class="parameter"><code>pCommandBuffers</code></em>, unless it was recorded with the <code class="code">VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> flag
</li><li class="listitem">
Any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> not be already pending execution in any other <code class="code">VkCommandBuffer</code>, unless it was recorded with the <code class="code">VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> flag
</li><li class="listitem">
Any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> be in the executable state
</li><li class="listitem">
Any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> have been allocated from a <code class="code">VkCommandPool</code> that was created for the same queue family as the <code class="code">VkCommandPool</code> from which <em class="parameter"><code>commandBuffer</code></em> was allocated
</li><li class="listitem">
If <span class="strong"><strong><code class="code">vkCmdExecuteCommands</code></strong></span> is being called within a render pass instance, that render pass instance <span class="normative">must</span> have been begun with the <em class="parameter"><code>contents</code></em> parameter of <span class="strong"><strong><code class="code">vkCmdBeginRenderPass</code></strong></span> set to <code class="code">VK_SUBPASS_CONTENTS_SECONDARY_COMMAND_BUFFERS</code>
</li><li class="listitem">
If <span class="strong"><strong><code class="code">vkCmdExecuteCommands</code></strong></span> is being called within a render pass instance, any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> have been recorded with the <code class="code">VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code>
</li><li class="listitem">
If <span class="strong"><strong><code class="code">vkCmdExecuteCommands</code></strong></span> is being called within a render pass instance, any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> have been recorded with <code class="code">VkCommandBufferInheritanceInfo</code>::<em class="parameter"><code>subpass</code></em> set to the index of the subpass which the given command buffer will be executed in
</li><li class="listitem">
If <span class="strong"><strong><code class="code">vkCmdExecuteCommands</code></strong></span> is being called within a render pass instance, any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> have been recorded with a render pass that is compatible with the current render pass - see <a class="xref" href="#renderpass-compatibility" title="7.2. Render Pass Compatibility">Section 7.2, “Render Pass Compatibility”</a>
</li><li class="listitem">
If <span class="strong"><strong><code class="code">vkCmdExecuteCommands</code></strong></span> is being called within a render pass instance, and any given element of <em class="parameter"><code>pCommandBuffers</code></em> was recorded with <code class="code">VkCommandBufferInheritanceInfo</code>::<em class="parameter"><code>framebuffer</code></em> not equal to <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, that <code class="code">VkFramebuffer</code> <span class="normative">must</span> match the <code class="code">VkFramebuffer</code> used in the current render pass instance
</li><li class="listitem">
If <span class="strong"><strong><code class="code">vkCmdExecuteCommands</code></strong></span> is not being called within a render pass instance, any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> not have been recorded with the <code class="code">VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-inheritedQueries">inherited queries</a> feature is not enabled, <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> not have any queries <a class="link" href="#queries-operation-active">active</a>
</li><li class="listitem">
If <em class="parameter"><code>commandBuffer</code></em> has a <code class="code">VK_QUERY_TYPE_OCCLUSION</code> query <a class="link" href="#queries-operation-active">active</a>, then each element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> have been recorded with <code class="code">VkCommandBufferInheritanceInfo</code>::<em class="parameter"><code>occlusionQueryEnable</code></em> set to <code class="code">VK_TRUE</code>
</li><li class="listitem">
If <em class="parameter"><code>commandBuffer</code></em> has a <code class="code">VK_QUERY_TYPE_OCCLUSION</code> query <a class="link" href="#queries-operation-active">active</a>, then each element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> have been recorded with <code class="code">VkCommandBufferInheritanceInfo</code>::<em class="parameter"><code>queryFlags</code></em> having all bits set that are set for the query
</li><li class="listitem">
If <em class="parameter"><code>commandBuffer</code></em> has a <code class="code">VK_QUERY_TYPE_PIPELINE_STATISTICS</code> query <a class="link" href="#queries-operation-active">active</a>, then each element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> have been recorded with <code class="code">VkCommandBufferInheritanceInfo</code>::<em class="parameter"><code>pipelineStatistics</code></em> having all bits set that are set in the <code class="code">VkQueryPool</code> the query uses
</li><li class="listitem">
Any given element of <em class="parameter"><code>pCommandBuffers</code></em> <span class="normative">must</span> not begin any query types that are <a class="link" href="#queries-operation-active">active</a> in <em class="parameter"><code>commandBuffer</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>TRANSFER
GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="synchronization"></a>Chapter 6. Synchronization and Cache Control</h1></div></div></div><p>Synchronization of access to resources is primarily the responsibility of
the application.
In Vulkan, there are four forms of concurrency during execution: between the
host and device, between the queues, between queue submissions, and between
commands within a command buffer.
Vulkan provides the application with a set of synchronization primitives for
these purposes.
Further, memory caches and other optimizations mean that the normal flow of
command execution does not guarantee that all memory transactions from a
command are immediately visible to other agents with views into a given
range of memory.
Vulkan also provides barrier operations to ensure this type of
synchronization.</p><p>Four synchronization primitive types are exposed by Vulkan.
These are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<a class="link" href="#synchronization-fences" title="6.1. Fences">Fences</a>
</li><li class="listitem">
<a class="link" href="#synchronization-semaphores" title="6.2. Semaphores">Semaphores</a>
</li><li class="listitem">
<a class="link" href="#synchronization-events" title="6.3. Events">Events</a>
</li><li class="listitem">
<a class="link" href="#synchronization-pipeline-barriers" title="6.5. Pipeline Barriers">Barriers</a>
</li></ul></div><p>Each is covered in detail in its own subsection of this chapter.
Fences are used to communicate completion of execution of command buffer
submissions to queues back to the application.
Fences <span class="normative">can</span> therefore be used as a coarse-grained synchronization mechanism.
Semaphores are generally associated with resources or groups of resources
and <span class="normative">can</span> be used to marshal ownership of shared data.
Their status is not visible to the host.
Events provide a finer-grained synchronization primitive which <span class="normative">can</span> be
signaled at command level granularity by both device and host, and <span class="normative">can</span> be
waited upon by either.
Barriers provide execution and memory synchronization between sets of
commands.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="synchronization-fences"></a>6.1. Fences</h2></div></div></div><p>Fences <span class="normative">can</span> be used by the host to determine completion of execution of
<span class="emphasis"><em>queue operations</em></span>.</p><p>A fence’s status is always either <span class="emphasis"><em>signaled</em></span> or <span class="emphasis"><em>unsignaled</em></span>.
The host <span class="normative">can</span> poll the status of a single fence, or wait for any or all of a
group of fences to become signaled.</p><p>Fences are represented by <code class="code">VkFence</code> handles:</p><p><a id="VkFence"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkFence)</pre><p>
</p><p>To create a new fence object, use the command</p><p><a id="vkCreateFence"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateFence(
    VkDevice                                    device,
    const VkFenceCreateInfo*                    pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkFence*                                    pFence);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the fence.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> points to a <code class="code"><a class="link" href="#VkFenceCreateInfo">VkFenceCreateInfo</a></code> structure
    specifying the state of the fence object.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pFence</code></em> points to a handle in which the resulting fence object is
    returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkFenceCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pFence</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkFence</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkFenceCreateInfo</code> structure is defined as:</p><p><a id="VkFenceCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkFenceCreateInfo {
    VkStructureType       sType;
    const void*           pNext;
    VkFenceCreateFlags    flags;
} VkFenceCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
<em class="parameter"><code>flags</code></em> defines the initial state and behavior of the fence.
    Bits which <span class="normative">can</span> be set include:
</p><p><a id="VkFenceCreateFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkFenceCreateFlagBits {
    VK_FENCE_CREATE_SIGNALED_BIT = 0x00000001,
} VkFenceCreateFlagBits;</pre><p>
</p><p class="simpara">If <em class="parameter"><code>flags</code></em> contains <code class="code">VK_FENCE_CREATE_SIGNALED_BIT</code> then the fence
object is created in the signaled state.
Otherwise it is created in the unsignaled state.</p></li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_FENCE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkFenceCreateFlagBits">VkFenceCreateFlagBits</a></code> values
</li></ul></div></div><p>To destroy a fence, call:</p><p><a id="vkDestroyFence"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyFence(
    VkDevice                                    device,
    VkFence                                     fence,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the fence.
</li><li class="listitem">
<em class="parameter"><code>fence</code></em> is the handle of the fence to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>fence</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>fence</code></em> <span class="normative">must</span> be a valid <code class="code">VkFence</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>fence</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
<em class="parameter"><code>fence</code></em> <span class="normative">must</span> not be associated with any queue command that has not yet completed execution on that queue
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>fence</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>fence</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>fence</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><p>To query the status of a fence from the host, use the command</p><p><a id="vkGetFenceStatus"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetFenceStatus(
    VkDevice                                    device,
    VkFence                                     fence);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the fence.
</li><li class="listitem">
<em class="parameter"><code>fence</code></em> is the handle of the fence to query.
</li></ul></div><p>Upon success, <span class="strong"><strong><code class="code">vkGetFenceStatus</code></strong></span> returns the status of the fence, which
is one of:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code> indicates that the fence is signaled.
</li><li class="listitem">
<code class="code">VK_NOT_READY</code> indicates that the fence is unsignaled.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>fence</code></em> <span class="normative">must</span> be a valid <code class="code">VkFence</code> handle
</li><li class="listitem">
<em class="parameter"><code>fence</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_NOT_READY</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li></ul></div></dd></dl></div></div><p>To reset the status of one or more fences to the unsignaled state, use the
command:</p><p><a id="vkResetFences"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkResetFences(
    VkDevice                                    device,
    uint32_t                                    fenceCount,
    const VkFence*                              pFences);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the fences.
</li><li class="listitem">
<em class="parameter"><code>fenceCount</code></em> is the number of fences to reset.
</li><li class="listitem">
<em class="parameter"><code>pFences</code></em> is a pointer to an array of <em class="parameter"><code>fenceCount</code></em> fence handles
    to reset.
</li></ul></div><p>If a fence is already in the unsignaled state, then resetting it has no
effect.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pFences</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>fenceCount</code></em> valid <code class="code">VkFence</code> handles
</li><li class="listitem">
<em class="parameter"><code>fenceCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Each element of <em class="parameter"><code>pFences</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pFences</code></em> <span class="normative">must</span> not currently be associated with any queue command that has not yet completed execution on that queue
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to each member of <em class="parameter"><code>pFences</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p><a id="synchronization-fences-signaling"></a>Fences <span class="normative">can</span> be signaled by including them in a <a class="link" href="#devsandqueues-submission" title="4.3.5. Queue Submission">queue submission</a> command, defining a queue operation to signal that fence.
This <span class="emphasis"><em>fence signal operation</em></span> defines the first half of a memory dependency,
guaranteeing that all memory accesses defined by the queue submission are
made available, and that queue operations described by that submission have
completed execution.
This half of the memory dependency does not include host availability of
memory accesses.
The second half of the dependency <span class="normative">can</span> be defined by <code class="code"><a class="link" href="#vkWaitForFences">vkWaitForFences</a></code>.</p><p>Fence signal operations for <code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code> additionally include all
queue operations previously submitted via <code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code> in their half
of a memory dependency.</p><p>To cause the host to wait until any one or all of a group of fences is
signaled, use the command:</p><p><a id="vkWaitForFences"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkWaitForFences(
    VkDevice                                    device,
    uint32_t                                    fenceCount,
    const VkFence*                              pFences,
    VkBool32                                    waitAll,
    uint64_t                                    timeout);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the fences.
</li><li class="listitem">
<em class="parameter"><code>fenceCount</code></em> is the number of fences to wait on.
</li><li class="listitem">
<em class="parameter"><code>pFences</code></em> is a pointer to an array of <em class="parameter"><code>fenceCount</code></em> fence
    handles.
</li><li class="listitem">
<em class="parameter"><code>waitAll</code></em> is the condition that <span class="normative">must</span> be satisfied to successfully
    unblock the wait.
    If <em class="parameter"><code>waitAll</code></em> is <code class="code">VK_TRUE</code>, then the condition is that all fences
    in <em class="parameter"><code>pFences</code></em> are signaled.
    Otherwise, the condition is that at least one fence in <em class="parameter"><code>pFences</code></em> is
    signaled.
</li><li class="listitem">
<em class="parameter"><code>timeout</code></em> is the timeout period in units of nanoseconds.
    <em class="parameter"><code>timeout</code></em> is adjusted to the closest value allowed by the
    implementation-dependent timeout accuracy, which <span class="normative">may</span> be substantially
    longer than one nanosecond, and <span class="normative">may</span> be longer than the requested
    period.
</li></ul></div><p>If the condition is satisfied when <span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> is called, then
<span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> returns immediately.
If the condition is not satisfied at the time <span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> is
called, then <span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> will block and wait up to <em class="parameter"><code>timeout</code></em>
nanoseconds for the condition to become satisfied.</p><p>If <em class="parameter"><code>timeout</code></em> is zero, then <span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> does not wait, but
simply returns the current state of the fences.
<code class="code">VK_TIMEOUT</code> will be returned in this case if the condition is not
satisfied, even though no actual wait was performed.</p><p>If the specified timeout period expires before the condition is satisfied,
<span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> returns <code class="code">VK_TIMEOUT</code>.
If the condition is satisfied before <em class="parameter"><code>timeout</code></em> nanoseconds has expired,
<span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> returns <code class="code">VK_SUCCESS</code>.</p><p><a id="synchronization-fences-devicewrites"></a><span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> defines the second half of a memory dependency with
the host, for each fence being waited on.
The memory dependency defined by signaling a fence and waiting on the host
does not guarantee that the results of memory accesses will be visible to
the host, or that the memory is available.
To provide that guarantee, the application <span class="normative">must</span> insert a memory barrier
between the device writes and the end of the submission that will signal the
fence, with <em class="parameter"><code>dstAccessMask</code></em> having the <code class="code">VK_ACCESS_HOST_READ_BIT</code> bit
set, with <em class="parameter"><code>dstStageMask</code></em> having the <code class="code">VK_PIPELINE_STAGE_HOST_BIT</code> bit
set, and with the appropriate <em class="parameter"><code>srcStageMask</code></em> and <em class="parameter"><code>srcAccessMask</code></em>
members set to guarantee completion of the writes.
If the memory was allocated without the
<code class="code">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> set, then
<span class="strong"><strong><code class="code">vkInvalidateMappedMemoryRanges</code></strong></span> <span class="normative">must</span> be called after the fence is
signaled in order to ensure the writes are visible to the host, as described
in <a class="link" href="#memory-device-hostaccess" title="10.2.1. Host Access to Device Memory Objects">Host Access to Device Memory Objects</a>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pFences</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>fenceCount</code></em> valid <code class="code">VkFence</code> handles
</li><li class="listitem">
<em class="parameter"><code>fenceCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Each element of <em class="parameter"><code>pFences</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_TIMEOUT</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li></ul></div></dd></dl></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="synchronization-semaphores"></a>6.2. Semaphores</h2></div></div></div><p>Semaphores are used to coordinate queue operations both within a queue and
between different queues.
A semaphore’s status is always either <span class="emphasis"><em>signaled</em></span> or <span class="emphasis"><em>unsignaled</em></span>.</p><p>Semaphores are represented by <code class="code">VkSemaphore</code> handles:</p><p><a id="VkSemaphore"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkSemaphore)</pre><p>
</p><p>To create a new semaphore object, use the command</p><p><a id="vkCreateSemaphore"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateSemaphore(
    VkDevice                                    device,
    const VkSemaphoreCreateInfo*                pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSemaphore*                                pSemaphore);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the semaphore.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> points to a <code class="code"><a class="link" href="#VkSemaphoreCreateInfo">VkSemaphoreCreateInfo</a></code> structure
    specifying the state of the semaphore object.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pSemaphore</code></em> points to a handle in which the resulting semaphore
    object is returned.
    The semaphore is created in the unsignaled state.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkSemaphoreCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pSemaphore</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkSemaphore</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkSemaphoreCreateInfo</code> structure is defined as:</p><p><a id="VkSemaphoreCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSemaphoreCreateInfo {
    VkStructureType           sType;
    const void*               pNext;
    VkSemaphoreCreateFlags    flags;
} VkSemaphoreCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_SEMAPHORE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li></ul></div></div><p>To destroy a semaphore, call:</p><p><a id="vkDestroySemaphore"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroySemaphore(
    VkDevice                                    device,
    VkSemaphore                                 semaphore,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the semaphore.
</li><li class="listitem">
<em class="parameter"><code>semaphore</code></em> is the handle of the semaphore to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>semaphore</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>semaphore</code></em> <span class="normative">must</span> be a valid <code class="code">VkSemaphore</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>semaphore</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
<em class="parameter"><code>semaphore</code></em> <span class="normative">must</span> not be associated with any queue command that has not yet completed execution on that queue
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>semaphore</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>semaphore</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>semaphore</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><p><a id="synchronization-semaphores-signaling"></a>Semaphores <span class="normative">can</span> be signaled by including them in a batch as part of a
<a class="link" href="#devsandqueues-submission" title="4.3.5. Queue Submission">queue submission</a> command, defining a queue
operation to signal that semaphore.
This <span class="emphasis"><em>semaphore signal operation</em></span> defines the first half of a memory
dependency, guaranteeing that all memory accesses defined by the submitted
queue operations in the batch are made available, and that those queue
operations have completed execution.</p><p>Semaphore signal operations for <code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code> additionally include all
queue operations previously submitted via <code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code> in their half
of a memory dependency, and all batches that are stored at a lower index in
the same <em class="parameter"><code>pSubmits</code></em> array.</p><p><a id="synchronization-semaphores-waiting"></a>Signaling of semaphores <span class="normative">can</span> be waited on by similarly including them in a
batch, defining a queue operation to wait for a signal.
A semaphore wait operation defines the second half of a memory dependency
for the semaphores being waited on.
This half of the memory dependency guarantees that the first half has
completed execution, and also guarantees that all available memory accesses
are made visible to the queue operations in the batch.</p><p>Semaphore wait operations for <code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code> additionally include all
queue operations subsequently submitted via <code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code> in their
half of a memory dependency, and all batches that are stored at a higher
index in the same <em class="parameter"><code>pSubmits</code></em> array.</p><p>When queue execution reaches a semaphore wait operation, the queue will
stall execution of queue operations in the batch until each semaphore
becomes signaled.
Once all semaphores are signaled, the semaphores will be reset to the
unsignaled state, and subsequent queue operations will be permitted to
execute.</p><p>Semaphore wait operations defined by <code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code> only wait at
specific pipeline stages, rather than delaying all of each command buffer’s
execution, with the pipeline stages determined by the corresponding element
of the <em class="parameter"><code>pWaitDstStageMask</code></em> member of <code class="code">VkSubmitInfo</code>.
Execution of work by those stages in subsequent commands is stalled until
the corresponding semaphore reaches the signaled state.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>A common scenario for using <em class="parameter"><code>pWaitDstStageMask</code></em> with values other than
<code class="code">VK_PIPELINE_STAGE_ALL_COMMANDS_BIT</code> is when synchronizing a window
system presentation operation against subsequent command buffers which
render the next frame.
In this case, a presentation image <span class="normative">must</span> not be overwritten until the
presentation operation completes, but other pipeline stages <span class="normative">can</span> execute
without waiting.
A mask of <code class="code">VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code> prevents
subsequent color attachment writes from executing until the semaphore
signals.
Some implementations <span class="normative">may</span> be able to execute transfer operations and/or
vertex processing work before the semaphore is signaled.</p><p>If an image layout transition needs to be performed on a swapchain image
before it is used in a framebuffer, that <span class="normative">can</span> be performed as the first
operation submitted to the queue after acquiring the image, and <span class="normative">should</span> not
prevent other work from overlapping with the presentation operation.
For example, a <code class="code">VkImageMemoryBarrier</code> could use:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> = <code class="code">VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>srcAccessMask</code></em> = <code class="code">VK_ACCESS_MEMORY_READ_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>dstStageMask</code></em> = <code class="code">VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>dstAccessMask</code></em> = <code class="code">VK_ACCESS_COLOR_ATTACHMENT_READ_BIT</code> |
    <code class="code">VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>.
</li><li class="listitem">
<em class="parameter"><code>oldLayout</code></em> = <code class="code">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>
</li><li class="listitem">
<em class="parameter"><code>newLayout</code></em> = <code class="code">VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code>
</li></ul></div><p>Alternatively, <em class="parameter"><code>oldLayout</code></em> <span class="normative">can</span> be <code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code>, if
the image’s contents need not be preserved.</p><p>This barrier accomplishes a dependency chain between previous presentation
operations and subsequent color attachment output operations, with the
layout transition performed in between, and does not introduce a dependency
between previous work and any vertex processing stages.
More precisely, the semaphore signals after the presentation operation
completes, then the semaphore wait stalls the
<code class="code">VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code> stage, then there is a
dependency from that same stage to itself with the layout transition
performed in between.</p><p>(The primary use case for this example is with the presentation extensions,
thus the <code class="code">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> token is used even though it
is not defined in the core Vulkan specification.)</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="synchronization-events"></a>6.3. Events</h2></div></div></div><p>Events represent a fine-grained synchronization primitive that <span class="normative">can</span> be used
to gauge progress through a sequence of commands executed on a queue by
Vulkan.
An event is initially in the unsignaled state.
It <span class="normative">can</span> be signaled by a device, using commands inserted into the command
buffer, or by the host.
It <span class="normative">can</span> also be reset to the unsignaled state by a device or the host.
The host <span class="normative">can</span> query the state of an event.
A device <span class="normative">can</span> wait for one or more events to become signaled.</p><p>Events are represented by <code class="code">VkEvent</code> handles:</p><p><a id="VkEvent"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkEvent)</pre><p>
</p><p>To create an event, call:</p><p><a id="vkCreateEvent"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateEvent(
    VkDevice                                    device,
    const VkEventCreateInfo*                    pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkEvent*                                    pEvent);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the event.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code">VkEventCreateInfo</code> structure which contains information about how
    the event is to be created.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pEvent</code></em> points to a handle in which the resulting event object is
    returned.
</li></ul></div><p>When created, the event object is in the unsignaled state.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkEventCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pEvent</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkEvent</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkEventCreateInfo</code> structure is defined as:</p><p><a id="VkEventCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkEventCreateInfo {
    VkStructureType       sType;
    const void*           pNext;
    VkEventCreateFlags    flags;
} VkEventCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_EVENT_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li></ul></div></div><p>To destroy an event, call:</p><p><a id="vkDestroyEvent"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyEvent(
    VkDevice                                    device,
    VkEvent                                     event,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the event.
</li><li class="listitem">
<em class="parameter"><code>event</code></em> is the handle of the event to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>event</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>event</code></em> <span class="normative">must</span> be a valid <code class="code">VkEvent</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>event</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All submitted commands that refer to <em class="parameter"><code>event</code></em> <span class="normative">must</span> have completed execution
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>event</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>event</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>event</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><p>To query the state of an event from the host, call:</p><p><a id="vkGetEventStatus"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetEventStatus(
    VkDevice                                    device,
    VkEvent                                     event);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the event.
</li><li class="listitem">
<em class="parameter"><code>event</code></em> is the handle of the event to query.
</li></ul></div><p>Upon success, <span class="strong"><strong><code class="code">vkGetEventStatus</code></strong></span> returns the state of the event object
with the following return codes:</p><div class="table"><a id="id-1.8.8.24"></a><p class="title"><strong>Table 6.1. Event Object Status Codes</strong></p><div class="table-contents"><table summary="Event Object Status Codes" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="80%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Status </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Meaning</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_EVENT_SET</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>The event specified by <em class="parameter"><code>event</code></em> is signaled.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_EVENT_RESET</code></p></td><td style="" align="left" valign="top"><p>The event specified by <em class="parameter"><code>event</code></em> is unsignaled.</p></td></tr></tbody></table></div></div><br class="table-break" /><p>If a <span class="strong"><strong><code class="code">vkCmdSetEvent</code></strong></span> or <span class="strong"><strong><code class="code">vkCmdResetEvent</code></strong></span> command is pending
execution, then the value returned by this command <span class="normative">may</span> immediately be out
of date.</p><p>The state of an event <span class="normative">can</span> be updated by the host.
The state of the event is immediately changed, and subsequent calls to
<span class="strong"><strong><code class="code">vkGetEventStatus</code></strong></span> will return the new state.
If an event is already in the requested state, then updating it to the same
state has no effect.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>event</code></em> <span class="normative">must</span> be a valid <code class="code">VkEvent</code> handle
</li><li class="listitem">
<em class="parameter"><code>event</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_EVENT_SET</code>
</li><li class="listitem">
<code class="code">VK_EVENT_RESET</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li></ul></div></dd></dl></div></div><p>To set the state of an event to signaled from the host, call:</p><p><a id="vkSetEvent"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkSetEvent(
    VkDevice                                    device,
    VkEvent                                     event);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the event.
</li><li class="listitem">
<em class="parameter"><code>event</code></em> is the event to set.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>event</code></em> <span class="normative">must</span> be a valid <code class="code">VkEvent</code> handle
</li><li class="listitem">
<em class="parameter"><code>event</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>event</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>To set the state of an event to unsignaled from the host, call:</p><p><a id="vkResetEvent"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkResetEvent(
    VkDevice                                    device,
    VkEvent                                     event);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the event.
</li><li class="listitem">
<em class="parameter"><code>event</code></em> is the event to reset.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>event</code></em> <span class="normative">must</span> be a valid <code class="code">VkEvent</code> handle
</li><li class="listitem">
<em class="parameter"><code>event</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
<em class="parameter"><code>event</code></em> <span class="normative">must</span> not be waited on by a <span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> command that is currently executing
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>event</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The state of an event <span class="normative">can</span> also be updated on the device by commands
inserted in command buffers.
To set the state of an event to signaled from a device, call:</p><p><a id="vkCmdSetEvent"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdSetEvent(
    VkCommandBuffer                             commandBuffer,
    VkEvent                                     event,
    VkPipelineStageFlags                        stageMask);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command is
    recorded.
</li><li class="listitem">
<em class="parameter"><code>event</code></em> is the event that will be signaled.
</li><li class="listitem">
<em class="parameter"><code>stageMask</code></em> specifies the pipeline stage at which the state of
    <em class="parameter"><code>event</code></em> is updated as described below.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>event</code></em> <span class="normative">must</span> be a valid <code class="code">VkEvent</code> handle
</li><li class="listitem">
<em class="parameter"><code>stageMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>stageMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and <em class="parameter"><code>event</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-geometryShader">geometry shaders</a> feature is not enabled, <em class="parameter"><code>stageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-tessellationShader">tessellation shaders</a> feature is not enabled, <em class="parameter"><code>stageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or <code class="code">VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p>To set the state of an event to unsignaled from a device, call:</p><p><a id="vkCmdResetEvent"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdResetEvent(
    VkCommandBuffer                             commandBuffer,
    VkEvent                                     event,
    VkPipelineStageFlags                        stageMask);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command is
    recorded.
</li><li class="listitem">
<em class="parameter"><code>event</code></em> is the event that will be reset.
</li><li class="listitem">
<em class="parameter"><code>stageMask</code></em> specifies the pipeline stage at which the state of
    <em class="parameter"><code>event</code></em> is updated as described below.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>event</code></em> <span class="normative">must</span> be a valid <code class="code">VkEvent</code> handle
</li><li class="listitem">
<em class="parameter"><code>stageMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>stageMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and <em class="parameter"><code>event</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-geometryShader">geometry shaders</a> feature is not enabled, <em class="parameter"><code>stageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-tessellationShader">tessellation shaders</a> feature is not enabled, <em class="parameter"><code>stageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or <code class="code">VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</li><li class="listitem">
When this command executes, <em class="parameter"><code>event</code></em> <span class="normative">must</span> not be waited on by a <span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> command that is currently executing
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p>For both <span class="strong"><strong><code class="code">vkCmdSetEvent</code></strong></span> and <span class="strong"><strong><code class="code">vkCmdResetEvent</code></strong></span>, the status of
<em class="parameter"><code>event</code></em> is updated once the pipeline stages specified by <em class="parameter"><code>stageMask</code></em>
(see <a class="xref" href="#synchronization-pipeline-stage-flags" title="6.5.2. Pipeline Stage Flags">Section 6.5.2, “Pipeline Stage Flags”</a>) have completed executing
prior commands.
The command modifying the event is passed through the pipeline bound to the
command buffer at time of execution.</p><p>To wait for one or more events to enter the signaled state on a device,
call:</p><p><a id="vkCmdWaitEvents"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdWaitEvents(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    eventCount,
    const VkEvent*                              pEvents,
    VkPipelineStageFlags                        srcStageMask,
    VkPipelineStageFlags                        dstStageMask,
    uint32_t                                    memoryBarrierCount,
    const VkMemoryBarrier*                      pMemoryBarriers,
    uint32_t                                    bufferMemoryBarrierCount,
    const VkBufferMemoryBarrier*                pBufferMemoryBarriers,
    uint32_t                                    imageMemoryBarrierCount,
    const VkImageMemoryBarrier*                 pImageMemoryBarriers);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command is
    recorded.
</li><li class="listitem">
<em class="parameter"><code>eventCount</code></em> is the length of the <em class="parameter"><code>pEvents</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pEvents</code></em> is an array of event object handles to wait on.
</li><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> (see <a class="xref" href="#synchronization-pipeline-stage-flags" title="6.5.2. Pipeline Stage Flags">Section 6.5.2, “Pipeline Stage Flags”</a>) is the
    bitwise OR of the pipeline stages used to signal the event object
    handles in <em class="parameter"><code>pEvents</code></em>.
</li><li class="listitem">
<em class="parameter"><code>dstStageMask</code></em> is the pipeline stages at which the wait will occur.
</li><li class="listitem">
<em class="parameter"><code>pMemoryBarriers</code></em> is a pointer to an array of
    <em class="parameter"><code>memoryBarrierCount</code></em> <code class="code">VkMemoryBarrier</code> structures.
</li><li class="listitem">
<em class="parameter"><code>pBufferMemoryBarriers</code></em> is a pointer to an array of
    <em class="parameter"><code>bufferMemoryBarrierCount</code></em> <code class="code">VkBufferMemoryBarrier</code> structures.
</li><li class="listitem">
<em class="parameter"><code>pImageMemoryBarriers</code></em> is a pointer to an array of
    <em class="parameter"><code>imageMemoryBarrierCount</code></em> <code class="code">VkImageMemoryBarrier</code> structures.
    See <a class="xref" href="#synchronization-memory-barriers" title="6.5.3. Memory Barriers">Section 6.5.3, “Memory Barriers”</a> for more details about memory
    barriers.
</li></ul></div><p><span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> waits for events set by either <span class="strong"><strong><code class="code">vkSetEvent</code></strong></span> or
<span class="strong"><strong><code class="code">vkCmdSetEvent</code></strong></span> to become signaled.
Logically, it has three phases:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Wait at the pipeline stages specified by <em class="parameter"><code>dstStageMask</code></em> (see
    <a class="xref" href="#synchronization-pipeline-stage-flags" title="6.5.2. Pipeline Stage Flags">Section 6.5.2, “Pipeline Stage Flags”</a>) until the <em class="parameter"><code>eventCount</code></em>
    event objects specified by <em class="parameter"><code>pEvents</code></em> become signaled.
    Implementations <span class="normative">may</span> wait for each event object to become signaled in
    sequence (starting with the first event object in <em class="parameter"><code>pEvents</code></em>, and
    ending with the last), or wait for all of the event objects to become
    signaled at the same time.
</li><li class="listitem">
Execute the memory barriers specified by <em class="parameter"><code>pMemoryBarriers</code></em>,
    <em class="parameter"><code>pBufferMemoryBarriers</code></em> and <em class="parameter"><code>pImageMemoryBarriers</code></em> (see
    <a class="xref" href="#synchronization-memory-barriers" title="6.5.3. Memory Barriers">Section 6.5.3, “Memory Barriers”</a>).
</li><li class="listitem">
Resume execution of pipeline stages specified by <em class="parameter"><code>dstStageMask</code></em>
</li></ol></div><p>Implementations <span class="normative">may</span> not execute commands in a pipelined manner, so
<span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> <span class="normative">may</span> not observe the results of a subsequent
<span class="strong"><strong><code class="code">vkCmdSetEvent</code></strong></span> or <span class="strong"><strong><code class="code">vkCmdResetEvent</code></strong></span> command, even if the stages in
<em class="parameter"><code>dstStageMask</code></em> occur after the stages in <em class="parameter"><code>srcStageMask</code></em>.</p><p>Commands that update the state of events in different pipeline stages <span class="normative">may</span>
execute out of order, unless the ordering is enforced by execution
dependencies.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Applications <span class="normative">should</span> be careful to avoid race conditions when using events.
For example, an event <span class="normative">should</span> only be reset if no <span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span>
command is executing that waits upon that event.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pEvents</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>eventCount</code></em> valid <code class="code">VkEvent</code> handles
</li><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>memoryBarrierCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pMemoryBarriers</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>memoryBarrierCount</code></em> valid <code class="code">VkMemoryBarrier</code> structures
</li><li class="listitem">
If <em class="parameter"><code>bufferMemoryBarrierCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pBufferMemoryBarriers</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>bufferMemoryBarrierCount</code></em> valid <code class="code">VkBufferMemoryBarrier</code> structures
</li><li class="listitem">
If <em class="parameter"><code>imageMemoryBarrierCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pImageMemoryBarriers</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>imageMemoryBarrierCount</code></em> valid <code class="code">VkImageMemoryBarrier</code> structures
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li><li class="listitem">
<em class="parameter"><code>eventCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and the elements of <em class="parameter"><code>pEvents</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> be the bitwise OR of the <em class="parameter"><code>stageMask</code></em> parameter used in previous calls to <span class="strong"><strong><code class="code">vkCmdSetEvent</code></strong></span> with any of the members of <em class="parameter"><code>pEvents</code></em> and <code class="code">VK_PIPELINE_STAGE_HOST_BIT</code> if any of the members of <em class="parameter"><code>pEvents</code></em> was set using <span class="strong"><strong><code class="code">vkSetEvent</code></strong></span>
</li><li class="listitem">
If the <a class="link" href="#features-features-geometryShader">geometry shaders</a> feature is not enabled, <em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-geometryShader">geometry shaders</a> feature is not enabled, <em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-tessellationShader">tessellation shaders</a> feature is not enabled, <em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or <code class="code">VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-tessellationShader">tessellation shaders</a> feature is not enabled, <em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or <code class="code">VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>pEvents</code></em> includes one or more events that will be signaled by <span class="strong"><strong><code class="code">vkSetEvent</code></strong></span> after <em class="parameter"><code>commandBuffer</code></em> has been submitted to a queue, then <span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> <span class="normative">must</span> not be called inside a render pass instance
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p>An act of setting or resetting an event in one queue <span class="normative">may</span> not affect or be
visible to other queues.
For cross-queue synchronization, semaphores <span class="normative">can</span> be used.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="synchronization-execution-and-memory-dependencies"></a>6.4. Execution And Memory Dependencies</h2></div></div></div><p>Synchronization commands introduce explicit execution and memory
dependencies between two sets of action commands, where the second set of
commands depends on the first set of commands.
The two sets <span class="normative">can</span> be:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
First set: commands before a <code class="code"><a class="link" href="#vkCmdSetEvent">vkCmdSetEvent</a></code> command.
</p><p class="simpara">Second set: commands after a <code class="code"><a class="link" href="#vkCmdWaitEvents">vkCmdWaitEvents</a></code> command in the same
queue, using the same event.</p></li><li class="listitem"><p class="simpara">
First set: commands in a lower numbered subpass (or before a render pass
    instance).
</p><p class="simpara">Second set: commands in a higher numbered subpass (or after a render pass
instance), where there is a <a class="link" href="#renderpass" title="Chapter 7. Render Pass">subpass dependency</a> between the
two subpasses (or between a subpass and <code class="code">VK_SUBPASS_EXTERNAL</code>).</p></li><li class="listitem"><p class="simpara">
First set: commands before a
    <a class="link" href="#synchronization-pipeline-barriers" title="6.5. Pipeline Barriers">pipeline barrier</a>.
</p><p class="simpara">Second set: commands after that pipeline barrier in the same queue (possibly
    limited to within the same subpass).</p></li></ul></div><p>An <span class="emphasis"><em>execution dependency</em></span> is a single dependency between a set of source and
destination pipeline stages, which guarantees that all work performed by the
set of pipeline stages included in <em class="parameter"><code>srcStageMask</code></em> (see
<a class="link" href="#synchronization-pipeline-stage-flags" title="6.5.2. Pipeline Stage Flags">Pipeline Stage Flags</a>) of the first
set of commands completes before any work performed by the set of pipeline
stages included in <em class="parameter"><code>dstStageMask</code></em> of the second set of commands begins.</p><p>An <span class="emphasis"><em>execution dependency chain</em></span> from a set of source pipeline stages
<span class="inlinemediaobject"><span class="phrase">
$A$
</span></span> to a set of destination pipeline stages <span class="inlinemediaobject"><span class="phrase">
$B$
</span></span> is a
sequence of execution dependencies submitted to a queue in order between a
first set of commands and a second set of commands, satisfying the following
conditions:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
the first dependency includes <span class="inlinemediaobject"><span class="phrase">
$A$
</span></span> or
    <code class="code">VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code> or
    <code class="code">VK_PIPELINE_STAGE_ALL_COMMANDS_BIT</code> in the <em class="parameter"><code>srcStageMask</code></em>.
    And,
</li><li class="listitem">
the final dependency includes <span class="inlinemediaobject"><span class="phrase">
$B$
</span></span> or
    <code class="code">VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code> or
    <code class="code">VK_PIPELINE_STAGE_ALL_COMMANDS_BIT</code> in the <em class="parameter"><code>dstStageMask</code></em>.
    And,
</li><li class="listitem"><p class="simpara">
for each dependency in the sequence (except the first) at least one of
    the following conditions is true:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> of the current dependency includes at least one bit
     <span class="inlinemediaobject"><span class="phrase">
$C$
</span></span> that is present in the <em class="parameter"><code>dstStageMask</code></em> of the
     previous dependency.
     Or,
</li><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> of the current dependency includes
     <code class="code">VK_PIPELINE_STAGE_ALL_COMMANDS_BIT</code> or
     <code class="code">VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>.
     Or,
</li><li class="listitem">
<em class="parameter"><code>dstStageMask</code></em> of the previous dependency includes
     <code class="code">VK_PIPELINE_STAGE_ALL_COMMANDS_BIT</code> or
     <code class="code">VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code>.
     Or,
</li><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> of the current dependency includes
     <code class="code">VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT</code>, and <em class="parameter"><code>dstStageMask</code></em> of the
     previous dependency includes at least one graphics pipeline stage.
     Or,
</li><li class="listitem">
<em class="parameter"><code>dstStageMask</code></em> of the previous dependency includes
     <code class="code">VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT</code>, and <em class="parameter"><code>srcStageMask</code></em> of the
     current dependency includes at least one graphics pipeline stage.
</li></ul></div></li><li class="listitem"><p class="simpara">
for each dependency in the sequence (except the first), at least one of
    the following conditions is true:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p class="simpara">
the current dependency is a <span class="strong"><strong><code class="code">vkCmdSetEvent</code></strong></span>/<span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span>
     pair (where the <span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> <span class="normative">may</span> be inside or outside a
     render pass instance), or a <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> outside of a
     render pass instance, or a subpass dependency with <em class="parameter"><code>srcSubpass</code></em>
     equal to <code class="code">VK_SUBPASS_EXTERNAL</code> for a render pass instance that
     begins with a <span class="strong"><strong><code class="code">vkCmdBeginRenderPass</code></strong></span> command, and the previous
     dependency is any of:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem">
a <span class="strong"><strong><code class="code">vkCmdSetEvent</code></strong></span>/<span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> pair or a
      <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span>, either one outside of a render pass
      instance, that precedes the current dependency in the queue execution
      order.
      Or,
</li><li class="listitem">
a subpass dependency, with <em class="parameter"><code>dstSubpass</code></em> equal to
      <code class="code">VK_SUBPASS_EXTERNAL</code>, for a renderpass instance that was ended
      with a <span class="strong"><strong><code class="code">vkCmdEndRenderPass</code></strong></span> command that precedes the current
      dependency in the queue execution order.
</li></ul></div></li><li class="listitem"><p class="simpara">
the current dependency is a subpass dependency for a render pass
     instance, and the previous dependency is any of:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem">
another dependency for the same render pass instance, with a
      <em class="parameter"><code>dstSubpass</code></em> equal to the <em class="parameter"><code>srcSubpass</code></em> of the current
      dependency.
      Or,
</li><li class="listitem">
a <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> of the same render pass instance,
      recorded for the subpass indicated by the <em class="parameter"><code>srcSubpass</code></em> of the
      current dependency.
      Or,
</li><li class="listitem">
a <span class="strong"><strong><code class="code">vkCmdSetEvent</code></strong></span>/<span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> pair, where the
      <span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> is inside the same render pass instance,
      recorded for the subpass indicated by the <em class="parameter"><code>srcSubpass</code></em> of the
      current dependency.
</li></ul></div></li><li class="listitem"><p class="simpara">
the current dependency is a <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> inside a subpass
     of a render pass instance, and the previous dependency is any of:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem">
a subpass dependency for the same render pass instance, with a
      <em class="parameter"><code>dstSubpass</code></em> equal to the subpass of the
      <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span>.
      Or,
</li><li class="listitem">
a <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> of the same render pass instance,
      recorded for the same subpass, before the current dependency.
      Or,
</li><li class="listitem">
a <span class="strong"><strong><code class="code">vkCmdSetEvent</code></strong></span>/<span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> pair, where the
      <span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> is inside the same render pass instance,
      recorded for the same subpass, before the current dependency.
</li></ul></div></li></ul></div></li></ul></div><p>A pair of consecutive execution dependencies in an execution dependency
chain accomplishes a dependency between the stages <span class="inlinemediaobject"><span class="phrase">
$A$
</span></span> and
<span class="inlinemediaobject"><span class="phrase">
$B$
</span></span> via intermediate stages <span class="inlinemediaobject"><span class="phrase">
$C$
</span></span>, even if no work is
executed between them that uses the pipeline stages included in
<span class="inlinemediaobject"><span class="phrase">
$C$
</span></span>.</p><p>An execution dependency chain guarantees that the work performed by the
pipeline stages <span class="inlinemediaobject"><span class="phrase">
$A$
</span></span> in the first set of commands completes
before the work performed by pipeline stages <span class="inlinemediaobject"><span class="phrase">
$B$
</span></span> in the second
set of commands begins.</p><p>A command <span class="inlinemediaobject"><span class="phrase">
$C_1$
</span></span> is said to <span class="emphasis"><em>happen-before</em></span> an execution
dependency <span class="inlinemediaobject"><span class="phrase">
$D_2$
</span></span> for a pipeline stage <span class="inlinemediaobject"><span class="phrase">
$S$
</span></span> if all the
following conditions are true:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$C_1$
</span></span> is in the first set of commands for an execution
    dependency <span class="inlinemediaobject"><span class="phrase">
$D_1$
</span></span> that includes <span class="inlinemediaobject"><span class="phrase">
$S$
</span></span> in its
    <em class="parameter"><code>srcStageMask</code></em>.
    And,
</li><li class="listitem">
there exists an execution dependency chain that includes
    <span class="inlinemediaobject"><span class="phrase">
$D_1$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$D_2$
</span></span>, where <span class="inlinemediaobject"><span class="phrase">
$D_2$
</span></span> follows
    <span class="inlinemediaobject"><span class="phrase">
$D_1$
</span></span> in the execution dependency sequence.
</li></ul></div><p>Similarly, a command <span class="inlinemediaobject"><span class="phrase">
$C_2$
</span></span> is said to <span class="emphasis"><em>happen-after</em></span> an
execution dependency <span class="inlinemediaobject"><span class="phrase">
$D_1$
</span></span> for a pipeline stage <span class="inlinemediaobject"><span class="phrase">
$S$
</span></span>
if all the following conditions are true:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$C_2$
</span></span> is in the second set of commands for an execution
    dependency <span class="inlinemediaobject"><span class="phrase">
$D_2$
</span></span> that includes <span class="inlinemediaobject"><span class="phrase">
$S$
</span></span> in its
    <em class="parameter"><code>dstStageMask</code></em>.
    And,
</li><li class="listitem">
there exists an execution dependency chain that includes
    <span class="inlinemediaobject"><span class="phrase">
$D_1$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$D_2$
</span></span>, where <span class="inlinemediaobject"><span class="phrase">
$D_2$
</span></span> follows
    <span class="inlinemediaobject"><span class="phrase">
$D_1$
</span></span> in the execution dependency sequence.
</li></ul></div><p>An execution dependency is <span class="emphasis"><em>by-region</em></span> if its <em class="parameter"><code>dependencyFlags</code></em>
parameter includes <code class="code">VK_DEPENDENCY_BY_REGION_BIT</code>.
Such a barrier describes a per-region (x,y,layer) dependency.
That is, for each region, the implementation <span class="normative">must</span> ensure that the source
stages for the first set of commands complete execution before any
destination stages begin execution in the second set of commands for the
same region.
Since fragment shader invocations are not specified to run in any particular
groupings, the size of a region is implementation-dependent, not known to
the application, and <span class="normative">must</span> be assumed to be no larger than a single pixel.
If <em class="parameter"><code>dependencyFlags</code></em> does not include <code class="code">VK_DEPENDENCY_BY_REGION_BIT</code>,
it describes a global dependency, that is for all pixel regions, the source
stages <span class="normative">must</span> have completed for preceding commands before any destination
stages starts for subsequent commands.</p><p><a id="synchronization-execution-and-memory-dependencies-available-and-visible"></a><span class="emphasis"><em>Memory dependencies</em></span> are coupled to execution dependencies, and synchronize
accesses to memory between two sets of commands.
They operate according to two “halves” of a dependency to synchronize two
sets of commands, the commands that happen-before the execution dependency
for the <em class="parameter"><code>srcStageMask</code></em> vs the commands that happen-after the execution
dependency for the <em class="parameter"><code>dstStageMask</code></em>, as described above.
The first half of the dependency makes memory accesses using the set of
access types in <em class="parameter"><code>srcAccessMask</code></em> performed in pipeline stages in
<em class="parameter"><code>srcStageMask</code></em> by the first set of commands complete and writes be
<span class="emphasis"><em>available</em></span> for subsequent commands.
The second half of the dependency makes any available writes from previous
commands <span class="emphasis"><em>visible</em></span> to pipeline stages in <em class="parameter"><code>dstStageMask</code></em> using the set of
access types in <em class="parameter"><code>dstAccessMask</code></em> for the second set of commands, if those
writes have been made available with the first half of the same or a
previous dependency.
The two halves of a memory dependency <span class="normative">can</span> either be expressed as part of a
single command, or <span class="normative">can</span> be part of separate barriers as long as there is an
execution dependency chain between them.
The application <span class="normative">must</span> use memory dependencies to make writes visible before
subsequent reads <span class="normative">can</span> rely on them, and before subsequent writes <span class="normative">can</span>
overwrite them.
Failure to do so causes the result of the reads to be undefined, and the
order of writes to be undefined.</p><p><a id="synchronization-execution-and-memory-dependencies-types"></a><a class="link" href="#synchronization-global-memory-barrier" title="6.5.4. Global Memory Barriers">Global memory barriers</a> apply to
all resources owned by the device.
<a class="link" href="#synchronization-buffer-memory-barrier" title="6.5.5. Buffer Memory Barriers">Buffer</a> and
<a class="link" href="#synchronization-image-memory-barrier" title="6.5.6. Image Memory Barriers">image memory barriers</a> apply to the
buffer range(s) or image subresource(s) included in the command.
For accesses to a byte of a buffer or image subresource of an image to be
synchronized between two sets of commands, the byte or image subresource
<span class="normative">must</span> be included in both the first and second halves of the dependencies
described above, but need not be included in each step of the execution
dependency chain between them.</p><p>An execution dependency chain is <span class="emphasis"><em>by-region</em></span> if all stages in all
dependencies in the chain are framebuffer-space pipeline stages, and if the
<code class="code">VK_DEPENDENCY_BY_REGION_BIT</code> bit is included in all dependencies in the
chain.
Otherwise, the execution dependency chain is not by-region.
The two halves of a memory dependency form a by-region dependency if <span class="strong"><strong>all</strong></span>
execution dependency chains between them are by-region.
In other words, if there is any execution dependency between two sets of
commands that is not by-region, then the memory dependency is not by-region.</p><p>When an image memory barrier includes a layout transition, the barrier first
makes writes via <em class="parameter"><code>srcStageMask</code></em> and <em class="parameter"><code>srcAccessMask</code></em> available, then
performs the layout transition, then makes the contents of the image
subresource(s) in the new layout visible to memory accesses in
<em class="parameter"><code>dstStageMask</code></em> and <em class="parameter"><code>dstAccessMask</code></em>, as if there is an execution and
memory dependency between the source masks and the transition, as well as
between the transition and the destination masks.
Any writes that have previously been made available are included in the
layout transition, but any previous writes that have not been made available
<span class="normative">may</span> become lost or corrupt the image.</p><p>All dependencies <span class="normative">must</span> include at least one bit in each of the
<em class="parameter"><code>srcStageMask</code></em> and <em class="parameter"><code>dstStageMask</code></em>.</p><p>Memory dependencies are used to solve data hazards, e.g.
to ensure that write operations are visible to subsequent read operations
(read-after-write hazard), as well as write-after-write hazards.
Write-after-read and read-after-read hazards only require execution
dependencies to synchronize.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="synchronization-pipeline-barriers"></a>6.5. Pipeline Barriers</h2></div></div></div><p>A <span class="emphasis"><em>pipeline barrier</em></span> inserts an execution dependency and a set of memory
dependencies between a set of commands earlier in the command buffer and a
set of commands later in the command buffer.</p><p>To record a pipeline barrier, call:</p><p><a id="vkCmdPipelineBarrier"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdPipelineBarrier(
    VkCommandBuffer                             commandBuffer,
    VkPipelineStageFlags                        srcStageMask,
    VkPipelineStageFlags                        dstStageMask,
    VkDependencyFlags                           dependencyFlags,
    uint32_t                                    memoryBarrierCount,
    const VkMemoryBarrier*                      pMemoryBarriers,
    uint32_t                                    bufferMemoryBarrierCount,
    const VkBufferMemoryBarrier*                pBufferMemoryBarriers,
    uint32_t                                    imageMemoryBarrierCount,
    const VkImageMemoryBarrier*                 pImageMemoryBarriers);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command is
    recorded.
</li><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> is a bitmask of <code class="code"><a class="link" href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code>
    specifying a set of source pipeline stages (see
    <a class="xref" href="#synchronization-pipeline-stage-flags" title="6.5.2. Pipeline Stage Flags">Section 6.5.2, “Pipeline Stage Flags”</a>).
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>dstStageMask</code></em> is a bitmask specifying a set of destination pipeline
    stages.
</p><p class="simpara">The pipeline barrier specifies an execution dependency such that all work
performed by the set of pipeline stages included in <em class="parameter"><code>srcStageMask</code></em> of
the first set of commands completes before any work performed by the set of
pipeline stages included in <em class="parameter"><code>dstStageMask</code></em> of the second set of commands
begins.</p></li><li class="listitem">
<em class="parameter"><code>dependencyFlags</code></em> is a bitmask of <code class="code"><a class="link" href="#VkDependencyFlagBits">VkDependencyFlagBits</a></code>.
    The execution dependency is by-region if the mask includes
    <code class="code">VK_DEPENDENCY_BY_REGION_BIT</code>.
</li><li class="listitem">
<em class="parameter"><code>memoryBarrierCount</code></em> is the length of the <em class="parameter"><code>pMemoryBarriers</code></em>
    array.
</li><li class="listitem">
<em class="parameter"><code>pMemoryBarriers</code></em> is a pointer to an array of <code class="code"><a class="link" href="#VkMemoryBarrier">VkMemoryBarrier</a></code>
    structures.
</li><li class="listitem">
<em class="parameter"><code>bufferMemoryBarrierCount</code></em> is the length of the
    <em class="parameter"><code>pBufferMemoryBarriers</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pBufferMemoryBarriers</code></em> is a pointer to an array of
    <code class="code"><a class="link" href="#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a></code> structures.
</li><li class="listitem">
<em class="parameter"><code>imageMemoryBarrierCount</code></em> is the length of the
    <em class="parameter"><code>pImageMemoryBarriers</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pImageMemoryBarriers</code></em> is a pointer to an array of
    <code class="code"><a class="link" href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a></code> structures.
</li></ul></div><p>Each element of the <em class="parameter"><code>pMemoryBarriers</code></em>, <em class="parameter"><code>pBufferMemoryBarriers</code></em> and
<em class="parameter"><code>pImageMemoryBarriers</code></em> arrays specifies two halves of a memory
dependency, as defined above.
Specifics of each type of memory barrier and the memory access types are
defined further in <a class="link" href="#synchronization-memory-barriers" title="6.5.3. Memory Barriers">Memory Barriers</a>.</p><p>If <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> is called outside a render pass instance, then
the first set of commands is all prior commands submitted to the queue and
recorded in the command buffer and the second set of commands is all
subsequent commands recorded in the command buffer and submitted to the
queue.
If <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> is called inside a render pass instance, then
the first set of commands is all prior commands in the same subpass and the
second set of commands is all subsequent commands in the same subpass.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>dependencyFlags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkDependencyFlagBits">VkDependencyFlagBits</a></code> values
</li><li class="listitem">
If <em class="parameter"><code>memoryBarrierCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pMemoryBarriers</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>memoryBarrierCount</code></em> valid <code class="code">VkMemoryBarrier</code> structures
</li><li class="listitem">
If <em class="parameter"><code>bufferMemoryBarrierCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pBufferMemoryBarriers</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>bufferMemoryBarrierCount</code></em> valid <code class="code">VkBufferMemoryBarrier</code> structures
</li><li class="listitem">
If <em class="parameter"><code>imageMemoryBarrierCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pImageMemoryBarriers</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>imageMemoryBarrierCount</code></em> valid <code class="code">VkImageMemoryBarrier</code> structures
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support transfer, graphics, or compute operations
</li><li class="listitem">
If the <a class="link" href="#features-features-geometryShader">geometry shaders</a> feature is not enabled, <em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-geometryShader">geometry shaders</a> feature is not enabled, <em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-tessellationShader">tessellation shaders</a> feature is not enabled, <em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or <code class="code">VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-tessellationShader">tessellation shaders</a> feature is not enabled, <em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or <code class="code">VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</li><li class="listitem"><p class="simpara">
If <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> is called within a render pass instance, the render pass <span class="normative">must</span> have been created with a <code class="code">VkSubpassDependency</code> instance in <em class="parameter"><code>pDependencies</code></em> that expresses a dependency from the current subpass to itself. Additionally:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> contain a subset of the bit values in the <em class="parameter"><code>srcStageMask</code></em> member of that instance of <code class="code">VkSubpassDependency</code>
</li><li class="listitem">
<em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> contain a subset of the bit values in the <em class="parameter"><code>dstStageMask</code></em> member of that instance of <code class="code">VkSubpassDependency</code>
</li><li class="listitem">
The <em class="parameter"><code>srcAccessMask</code></em> of any element of <em class="parameter"><code>pMemoryBarriers</code></em> or <em class="parameter"><code>pImageMemoryBarriers</code></em> <span class="normative">must</span> contain a subset of the bit values the <em class="parameter"><code>srcAccessMask</code></em> member of that instance of <code class="code">VkSubpassDependency</code>
</li><li class="listitem">
The <em class="parameter"><code>dstAccessMask</code></em> of any element of <em class="parameter"><code>pMemoryBarriers</code></em> or <em class="parameter"><code>pImageMemoryBarriers</code></em> <span class="normative">must</span> contain a subset of the bit values the <em class="parameter"><code>dstAccessMask</code></em> member of that instance of <code class="code">VkSubpassDependency</code>
</li><li class="listitem">
<em class="parameter"><code>dependencyFlags</code></em> <span class="normative">must</span> be equal to the <em class="parameter"><code>dependencyFlags</code></em> member of that instance of <code class="code">VkSubpassDependency</code>
</li></ul></div></li><li class="listitem">
If <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> is called within a render pass instance, <em class="parameter"><code>bufferMemoryBarrierCount</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
If <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> is called within a render pass instance, the <em class="parameter"><code>image</code></em> member of any element of <em class="parameter"><code>pImageMemoryBarriers</code></em> <span class="normative">must</span> be equal to one of the elements of <em class="parameter"><code>pAttachments</code></em> that the current <em class="parameter"><code>framebuffer</code></em> was created with, that is also referred to by one of the elements of the <em class="parameter"><code>pColorAttachments</code></em>, <em class="parameter"><code>pResolveAttachments</code></em> or <em class="parameter"><code>pDepthStencilAttachment</code></em> members of the <code class="code">VkSubpassDescription</code> instance that the current subpass was created with
</li><li class="listitem">
If <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> is called within a render pass instance, the <em class="parameter"><code>oldLayout</code></em> and <em class="parameter"><code>newLayout</code></em> members of any element of <em class="parameter"><code>pImageMemoryBarriers</code></em> <span class="normative">must</span> be equal to the <em class="parameter"><code>layout</code></em> member of an element of the <em class="parameter"><code>pColorAttachments</code></em>, <em class="parameter"><code>pResolveAttachments</code></em> or <em class="parameter"><code>pDepthStencilAttachment</code></em> members of the <code class="code">VkSubpassDescription</code> instance that the current subpass was created with, that refers to the same <em class="parameter"><code>image</code></em>
</li><li class="listitem">
If <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> is called within a render pass instance, the <em class="parameter"><code>oldLayout</code></em> and <em class="parameter"><code>newLayout</code></em> members of an element of <em class="parameter"><code>pImageMemoryBarriers</code></em> <span class="normative">must</span> be equal
</li><li class="listitem">
If <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> is called within a render pass instance, the <em class="parameter"><code>srcQueueFamilyIndex</code></em> and <em class="parameter"><code>dstQueueFamilyIndex</code></em> members of any element of <em class="parameter"><code>pImageMemoryBarriers</code></em> <span class="normative">must</span> be <code class="code">VK_QUEUE_FAMILY_IGNORED</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>TRANSFER
GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="synchronization-pipeline-barriers-subpass-self-dependencies"></a>6.5.1. Subpass Self-dependency</h3></div></div></div><p>If <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> is called inside a render pass instance, the
following restrictions apply.
For a given subpass to allow a pipeline barrier, the render pass <span class="normative">must</span>
declare a <span class="emphasis"><em>self-dependency</em></span> from that subpass to itself.
That is, there <span class="normative">must</span> exist a <code class="code">VkSubpassDependency</code> in the subpass
dependency list for the render pass with <em class="parameter"><code>srcSubpass</code></em> and
<em class="parameter"><code>dstSubpass</code></em> equal to that subpass index.
More than one self-dependency <span class="normative">can</span> be declared for each subpass.
Self-dependencies <span class="normative">must</span> only include pipeline stage bits that are graphics
stages.
Self-dependencies <span class="normative">must</span> not have any earlier pipeline stages depend on any
later pipeline stages.
More precisely, this means that whatever is the last pipeline stage in
<em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> be no later than whatever is the first pipeline
stage in <em class="parameter"><code>dstStageMask</code></em> (the latest source stage <span class="normative">can</span> be equal to the
earliest destination stage).
If the source and destination stage masks both include framebuffer-space
stages, then <em class="parameter"><code>dependencyFlags</code></em> <span class="normative">must</span> include
<code class="code">VK_DEPENDENCY_BY_REGION_BIT</code>.</p><p>A <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> command inside a render pass instance <span class="normative">must</span> be
a <span class="emphasis"><em>subset</em></span> of one of the self-dependencies of the subpass it is used in,
meaning that the stage masks and access masks <span class="normative">must</span> each include only a
subset of the bits of the corresponding mask in that self-dependency.
If the self-dependency has <code class="code">VK_DEPENDENCY_BY_REGION_BIT</code> set, then so
<span class="normative">must</span> the pipeline barrier.
Pipeline barriers within a render pass instance <span class="normative">can</span> only be types
<code class="code">VkMemoryBarrier</code> or <code class="code">VkImageMemoryBarrier</code>.
If a <code class="code">VkImageMemoryBarrier</code> is used, the image and image subresource
range specified in the barrier <span class="normative">must</span> be a subset of one of the image views
used by the framebuffer in the current subpass.
Additionally, <em class="parameter"><code>oldLayout</code></em> <span class="normative">must</span> be equal to <em class="parameter"><code>newLayout</code></em>, and both
the <em class="parameter"><code>srcQueueFamilyIndex</code></em> and <em class="parameter"><code>dstQueueFamilyIndex</code></em> <span class="normative">must</span> be
<code class="code">VK_QUEUE_FAMILY_IGNORED</code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="synchronization-pipeline-stage-flags"></a>6.5.2. Pipeline Stage Flags</h3></div></div></div><p>Several of the event commands, <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span>, and
<code class="code">VkSubpassDependency</code> depend on being able to specify where in the
logical pipeline events <span class="normative">can</span> be signaled, or the source and destination of
an execution dependency.
These pipeline stages are specified using a bitmask:</p><p><a id="VkPipelineStageFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkPipelineStageFlagBits {
    VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT = 0x00000001,
    VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT = 0x00000002,
    VK_PIPELINE_STAGE_VERTEX_INPUT_BIT = 0x00000004,
    VK_PIPELINE_STAGE_VERTEX_SHADER_BIT = 0x00000008,
    VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT = 0x00000010,
    VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT = 0x00000020,
    VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT = 0x00000040,
    VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT = 0x00000080,
    VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT = 0x00000100,
    VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT = 0x00000200,
    VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT = 0x00000400,
    VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT = 0x00000800,
    VK_PIPELINE_STAGE_TRANSFER_BIT = 0x00001000,
    VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT = 0x00002000,
    VK_PIPELINE_STAGE_HOST_BIT = 0x00004000,
    VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT = 0x00008000,
    VK_PIPELINE_STAGE_ALL_COMMANDS_BIT = 0x00010000,
} VkPipelineStageFlagBits;</pre><p>
</p><p>The meaning of each bit is:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code>: Stage of the pipeline where
    commands are initially received by the queue.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code>: Stage of the pipeline where
    Draw/DispatchIndirect data structures are consumed.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code>: Stage of the pipeline where
    vertex and index buffers are consumed.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code>: Vertex shader stage.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>: Tessellation
    control shader stage.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>: Tessellation
    evaluation shader stage.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>: Geometry shader stage.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>: Fragment shader stage.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code>: Stage of the pipeline
    where early fragment tests (depth and stencil tests before fragment
    shading) are performed.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code>: Stage of the pipeline
    where late fragment tests (depth and stencil tests after fragment
    shading) are performed.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code>: Stage of the
    pipeline after blending where the final color values are output from the
    pipeline.
    This stage also includes resolve operations that occur at the end of a
    subpass.
    Note that this does not necessarily indicate that the values have been
    committed to memory.
</li><li class="listitem">
<a id="synchronization-transfer"></a><code class="code">VK_PIPELINE_STAGE_TRANSFER_BIT</code>:
    Execution of copy commands.
    This includes the operations resulting from all transfer commands.
    The set of transfer commands comprises <span class="strong"><strong><code class="code">vkCmdCopyBuffer</code></strong></span>,
    <span class="strong"><strong><code class="code">vkCmdCopyImage</code></strong></span>, <span class="strong"><strong><code class="code">vkCmdBlitImage</code></strong></span>,
    <span class="strong"><strong><code class="code">vkCmdCopyBufferToImage</code></strong></span>, <span class="strong"><strong><code class="code">vkCmdCopyImageToBuffer</code></strong></span>,
    <span class="strong"><strong><code class="code">vkCmdUpdateBuffer</code></strong></span>, <span class="strong"><strong><code class="code">vkCmdFillBuffer</code></strong></span>,
    <span class="strong"><strong><code class="code">vkCmdClearColorImage</code></strong></span>, <span class="strong"><strong><code class="code">vkCmdClearDepthStencilImage</code></strong></span>,
    <span class="strong"><strong><code class="code">vkCmdResolveImage</code></strong></span>, and <span class="strong"><strong><code class="code">vkCmdCopyQueryPoolResults</code></strong></span>.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code>: Execution of a compute
    shader.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>: Final stage in the pipeline
    where commands complete execution.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_HOST_BIT</code>: A pseudo-stage indicating execution on
    the host of reads/writes of device memory.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT</code>: Execution of all graphics
    pipeline stages.
</li><li class="listitem">
<code class="code">VK_PIPELINE_STAGE_ALL_COMMANDS_BIT</code>: Execution of all stages
    supported on the queue.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The <code class="code">VK_PIPELINE_STAGE_ALL_COMMANDS_BIT</code> and
<code class="code">VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT</code> differ from
<code class="code">VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code> in that they correspond to all
(or all graphics) stages, rather than to a specific stage at the end of the
pipeline.
An execution dependency with only <code class="code">VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>
in <em class="parameter"><code>dstStageMask</code></em> will not delay subsequent commands, while including
either of the other two bits will.
Similarly, when defining a memory dependency, if the stage mask(s) refer to
all stages, then the indicated access types from all stages will be made
available and/or visible, but using only
<code class="code">VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code> would not make any accesses
available and/or visible because this stage does not access memory.
The <code class="code">VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code> is useful for accomplishing
memory barriers and layout transitions when the next accesses will be done
in a different queue or by a presentation engine; in these cases subsequent
commands in the same queue do not need to wait, but the barrier or
transition <span class="normative">must</span> complete before semaphores associated with the batch
signal.</p></td></tr></table></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If an implementation is unable to update the state of an event at any
specific stage of the pipeline, it <span class="normative">may</span> instead update the event at any
logically later stage.
For example, if an implementation is unable to signal an event immediately
after vertex shader execution is complete, it <span class="normative">may</span> instead signal the event
after color attachment output has completed.
In the limit, an event <span class="normative">may</span> be signaled after all graphics stages complete.
If an implementation is unable to wait on an event at any specific stage of
the pipeline, it <span class="normative">may</span> instead wait on it at any logically earlier stage.</p><p>Similarly, if an implementation is unable to implement an execution
dependency at specific stages of the pipeline, it <span class="normative">may</span> implement the
dependency in a way where additional source pipeline stages complete and/or
where additional destination pipeline stages' execution is blocked to
satisfy the dependency.</p><p>If an implementation makes such a substitution, it <span class="normative">must</span> not affect the
semantics of execution or memory dependencies or image and buffer memory
barriers.</p></td></tr></table></div><p>Certain pipeline stages are only available on queues that support a
particular set of operations.
The following table lists, for each pipeline stage flag, which queue
capability flag <span class="normative">must</span> be supported by the queue.
When multiple flags are enumerated in the second column of the table, it
means that the pipeline stage is supported on the queue if it supports any
of the listed capability flags.
For further details on queue capabilities see
<a class="link" href="#devsandqueues-physical-device-enumeration" title="4.1. Physical Devices">Physical Device Enumeration</a>
and <a class="link" href="#devsandqueues-queues" title="4.3. Queues">Queues</a>.</p><div class="table"><a id="id-1.8.10.12.9"></a><p class="title"><strong>Table 6.2. Supported pipeline stage flags</strong></p><div class="table-contents"><table summary="Supported pipeline stage flags" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Pipeline stage flag                                          </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Required queue capability flag</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>None</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code> or <code class="code">VK_QUEUE_COMPUTE_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_COMPUTE_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_TRANSFER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code>, <code class="code">VK_QUEUE_COMPUTE_BIT</code> or <code class="code">VK_QUEUE_TRANSFER_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>None</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_HOST_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>None</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PIPELINE_STAGE_ALL_COMMANDS_BIT</code></p></td><td style="" align="left" valign="top"><p>None</p></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="synchronization-memory-barriers"></a>6.5.3. Memory Barriers</h3></div></div></div><p><span class="emphasis"><em>Memory barriers</em></span> express the two halves of a memory dependency between an
earlier set of memory accesses against a later set of memory accesses.
Vulkan provides three types of memory barriers: global memory, buffer
memory, and image memory.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="synchronization-global-memory-barrier"></a>6.5.4. Global Memory Barriers</h3></div></div></div><p>The global memory barrier type is specified with an instance of the
<code class="code">VkMemoryBarrier</code> structure.
This type of barrier applies to memory accesses involving all memory objects
that exist at the time of its execution.</p><p>The <code class="code">VkMemoryBarrier</code> structure is defined as:</p><p><a id="VkMemoryBarrier"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkMemoryBarrier {
    VkStructureType    sType;
    const void*        pNext;
    VkAccessFlags      srcAccessMask;
    VkAccessFlags      dstAccessMask;
} VkMemoryBarrier;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>srcAccessMask</code></em> is a bitmask of the classes of memory accesses
    performed by the first set of commands that will participate in the
    dependency.
</li><li class="listitem">
<em class="parameter"><code>dstAccessMask</code></em> is a bitmask of the classes of memory accesses
    performed by the second set of commands that will participate in the
    dependency.
</li></ul></div><p><em class="parameter"><code>srcAccessMask</code></em> and <em class="parameter"><code>dstAccessMask</code></em>, along with <em class="parameter"><code>srcStageMask</code></em>
and <em class="parameter"><code>dstStageMask</code></em> from <code class="code"><a class="link" href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code>, define the two
halves of a memory dependency and an execution dependency.
Memory accesses using the set of access types in <em class="parameter"><code>srcAccessMask</code></em>
performed in pipeline stages in <em class="parameter"><code>srcStageMask</code></em> by the first set of
commands <span class="normative">must</span> complete and be available to later commands.
The side effects of the first set of commands will be visible to memory
accesses using the set of access types in <em class="parameter"><code>dstAccessMask</code></em> performed in
pipeline stages in <em class="parameter"><code>dstStageMask</code></em> by the second set of commands.
If the barrier is by-region, these requirements only apply to invocations
within the same framebuffer-space region, for pipeline stages that perform
framebuffer-space work.
The execution dependency guarantees that execution of work by the
destination stages of the second set of commands will not begin until
execution of work by the source stages of the first set of commands has
completed.</p><p>A common type of memory dependency is to avoid a read-after-write hazard.
In this case, the source access mask and stages will include writes from a
particular stage, and the destination access mask and stages will indicate
how those writes will be read in subsequent commands.
However, barriers <span class="normative">can</span> also express write-after-read dependencies and
write-after-write dependencies, and are even useful to express
read-after-read dependencies across an image layout change.</p><p>Bits which <span class="normative">can</span> be set in <code class="code"><a class="link" href="#VkMemoryBarrier">VkMemoryBarrier</a></code>::<em class="parameter"><code>srcAccessMask</code></em> and
<code class="code"><a class="link" href="#VkMemoryBarrier">VkMemoryBarrier</a></code>::<em class="parameter"><code>dstAccessMask</code></em> include:</p><p><a id="VkAccessFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkAccessFlagBits {
    VK_ACCESS_INDIRECT_COMMAND_READ_BIT = 0x00000001,
    VK_ACCESS_INDEX_READ_BIT = 0x00000002,
    VK_ACCESS_VERTEX_ATTRIBUTE_READ_BIT = 0x00000004,
    VK_ACCESS_UNIFORM_READ_BIT = 0x00000008,
    VK_ACCESS_INPUT_ATTACHMENT_READ_BIT = 0x00000010,
    VK_ACCESS_SHADER_READ_BIT = 0x00000020,
    VK_ACCESS_SHADER_WRITE_BIT = 0x00000040,
    VK_ACCESS_COLOR_ATTACHMENT_READ_BIT = 0x00000080,
    VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT = 0x00000100,
    VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT = 0x00000200,
    VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT = 0x00000400,
    VK_ACCESS_TRANSFER_READ_BIT = 0x00000800,
    VK_ACCESS_TRANSFER_WRITE_BIT = 0x00001000,
    VK_ACCESS_HOST_READ_BIT = 0x00002000,
    VK_ACCESS_HOST_WRITE_BIT = 0x00004000,
    VK_ACCESS_MEMORY_READ_BIT = 0x00008000,
    VK_ACCESS_MEMORY_WRITE_BIT = 0x00010000,
} VkAccessFlagBits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ACCESS_INDIRECT_COMMAND_READ_BIT</code> indicates that the access is
    an indirect command structure read as part of an indirect drawing
    command.
</li><li class="listitem">
<code class="code">VK_ACCESS_INDEX_READ_BIT</code> indicates that the access is an index
    buffer read.
</li><li class="listitem">
<code class="code">VK_ACCESS_VERTEX_ATTRIBUTE_READ_BIT</code> indicates that the access is a
    read via the vertex input bindings.
</li><li class="listitem">
<code class="code">VK_ACCESS_UNIFORM_READ_BIT</code> indicates that the access is a read via
    a uniform buffer or dynamic uniform buffer descriptor.
</li><li class="listitem">
<code class="code">VK_ACCESS_INPUT_ATTACHMENT_READ_BIT</code> indicates that the access is a
    read via an input attachment descriptor.
</li><li class="listitem">
<code class="code">VK_ACCESS_SHADER_READ_BIT</code> indicates that the access is a read from
    a shader via any other descriptor type.
</li><li class="listitem">
<code class="code">VK_ACCESS_SHADER_WRITE_BIT</code> indicates that the access is a write or
    atomic from a shader via the same descriptor types as in
    <code class="code">VK_ACCESS_SHADER_READ_BIT</code>.
</li><li class="listitem">
<code class="code">VK_ACCESS_COLOR_ATTACHMENT_READ_BIT</code> indicates that the access is a
    read via a color attachment.
</li><li class="listitem">
<code class="code">VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code> indicates that the access is
    a write via a color or resolve attachment.
</li><li class="listitem">
<code class="code">VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT</code> indicates that the
    access is a read via a depth/stencil attachment.
</li><li class="listitem">
<code class="code">VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code> indicates that the
    access is a write via a depth/stencil attachment.
</li><li class="listitem">
<code class="code">VK_ACCESS_TRANSFER_READ_BIT</code> indicates that the access is a read
    from a transfer (copy, blit, resolve, etc.) operation.
    For the complete set of transfer operations, see
    <a class="link" href="#synchronization-transfer"><code class="code">VK_PIPELINE_STAGE_TRANSFER_BIT</code></a>.
</li><li class="listitem">
<code class="code">VK_ACCESS_TRANSFER_WRITE_BIT</code> indicates that the access is a write
    from a transfer (copy, blit, resolve, etc.) operation.
    For the complete set of transfer operations, see
    <a class="link" href="#synchronization-transfer"><code class="code">VK_PIPELINE_STAGE_TRANSFER_BIT</code></a>.
</li><li class="listitem">
<code class="code">VK_ACCESS_HOST_READ_BIT</code> indicates that the access is a read via
    the host.
</li><li class="listitem">
<code class="code">VK_ACCESS_HOST_WRITE_BIT</code> indicates that the access is a write via
    the host.
</li><li class="listitem">
<code class="code">VK_ACCESS_MEMORY_READ_BIT</code> indicates that the access is a read via
    a non-specific unit attached to the memory.
    This unit <span class="normative">may</span> be external to the Vulkan device or otherwise not part of
    the core Vulkan pipeline.
    When included in <em class="parameter"><code>dstAccessMask</code></em>, all writes using access types in
    <em class="parameter"><code>srcAccessMask</code></em> performed by pipeline stages in <em class="parameter"><code>srcStageMask</code></em>
    <span class="normative">must</span> be visible in memory.
</li><li class="listitem">
<code class="code">VK_ACCESS_MEMORY_WRITE_BIT</code> indicates that the access is a write
    via a non-specific unit attached to the memory.
    This unit <span class="normative">may</span> be external to the Vulkan device or otherwise not part of
    the core Vulkan pipeline.
    When included in <em class="parameter"><code>srcAccessMask</code></em>, all access types in
    <em class="parameter"><code>dstAccessMask</code></em> from pipeline stages in <em class="parameter"><code>dstStageMask</code></em> will
    observe the side effects of commands that executed before the barrier.
    When included in <em class="parameter"><code>dstAccessMask</code></em> all writes using access types in
    <em class="parameter"><code>srcAccessMask</code></em> performed by pipeline stages in <em class="parameter"><code>srcStageMask</code></em>
    <span class="normative">must</span> be visible in memory.
</li></ul></div><p>Color attachment reads and writes are automatically (without memory or
execution dependencies) coherent and ordered against themselves and each
other for a given sample within a subpass of a render pass instance,
executing in <a class="link" href="#primrast-order" title="24.2. Rasterization Order">rasterization order</a>.
Similarly, depth/stencil attachment reads and writes are automatically
coherent and ordered against themselves and each other in the same
circumstances.</p><p>Shader reads and/or writes through two variables (in the same or different
shader invocations) decorated with <span class="strong"><strong><code class="code">Coherent</code></strong></span> and which use the same
image view or buffer view are automatically coherent with each other, but
require execution dependencies if a specific order is desired.
Similarly, shader atomic operations are coherent with each other and with
<span class="strong"><strong><code class="code">Coherent</code></strong></span> variables.
Non-<span class="strong"><strong><code class="code">Coherent</code></strong></span> shader memory accesses require memory dependencies for
writes to be available and reads to be visible.</p><p>Certain memory access types are only supported on queues that support a
particular set of operations.
The following table lists, for each access flag, which queue capability flag
<span class="normative">must</span> be supported by the queue.
When multiple flags are enumerated in the second column of the table it
means that the access type is supported on the queue if it supports any of
the listed capability flags.
For further details on queue capabilities see
<a class="link" href="#devsandqueues-physical-device-enumeration" title="4.1. Physical Devices">Physical Device Enumeration</a>
and <a class="link" href="#devsandqueues-queues" title="4.3. Queues">Queues</a>.</p><div class="table"><a id="id-1.8.10.14.14"></a><p class="title"><strong>Table 6.3. Supported access flags</strong></p><div class="table-contents"><table summary="Supported access flags" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Access flag                                                  </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Required queue capability flag</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_INDIRECT_COMMAND_READ_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code> or <code class="code">VK_QUEUE_COMPUTE_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_INDEX_READ_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_VERTEX_ATTRIBUTE_READ_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_UNIFORM_READ_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code> or <code class="code">VK_QUEUE_COMPUTE_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_INPUT_ATTACHMENT_READ_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_SHADER_READ_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code> or <code class="code">VK_QUEUE_COMPUTE_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_SHADER_WRITE_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code> or <code class="code">VK_QUEUE_COMPUTE_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_COLOR_ATTACHMENT_READ_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_TRANSFER_READ_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code>, <code class="code">VK_QUEUE_COMPUTE_BIT</code> or <code class="code">VK_QUEUE_TRANSFER_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_TRANSFER_WRITE_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_QUEUE_GRAPHICS_BIT</code>, <code class="code">VK_QUEUE_COMPUTE_BIT</code> or <code class="code">VK_QUEUE_TRANSFER_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_HOST_READ_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>None</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_HOST_WRITE_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>None</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_MEMORY_READ_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>None</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_ACCESS_MEMORY_WRITE_BIT</code></p></td><td style="" align="left" valign="top"><p>None</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_MEMORY_BARRIER</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>srcAccessMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>dstAccessMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="synchronization-buffer-memory-barrier"></a>6.5.5. Buffer Memory Barriers</h3></div></div></div><p>The buffer memory barrier type is specified with an instance of the
<code class="code">VkBufferMemoryBarrier</code> structure.
This type of barrier only applies to memory accesses involving a specific
range of the specified buffer object.
That is, a memory dependency formed from a buffer memory barrier is
<a class="link" href="#synchronization-execution-and-memory-dependencies-types">scoped</a> to the
specified range of the buffer.
It is also used to transfer ownership of a buffer range from one queue
family to another, as described in the <a class="link" href="#resources-sharing" title="11.7. Resource Sharing Mode">Resource Sharing</a> section.</p><p>The <code class="code">VkBufferMemoryBarrier</code> structure is defined as:</p><p><a id="VkBufferMemoryBarrier"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkBufferMemoryBarrier {
    VkStructureType    sType;
    const void*        pNext;
    VkAccessFlags      srcAccessMask;
    VkAccessFlags      dstAccessMask;
    uint32_t           srcQueueFamilyIndex;
    uint32_t           dstQueueFamilyIndex;
    VkBuffer           buffer;
    VkDeviceSize       offset;
    VkDeviceSize       size;
} VkBufferMemoryBarrier;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>srcAccessMask</code></em> is a bitmask of the classes of memory accesses
    performed by the first set of commands that will participate in the
    dependency.
</li><li class="listitem">
<em class="parameter"><code>dstAccessMask</code></em> is a bitmask of the classes of memory accesses
    performed by the second set of commands that will participate in the
    dependency.
</li><li class="listitem">
<em class="parameter"><code>srcQueueFamilyIndex</code></em> is the queue family that is relinquishing
    ownership of the range of <em class="parameter"><code>buffer</code></em> to another queue, or
    <code class="code">VK_QUEUE_FAMILY_IGNORED</code> if there is no transfer of ownership.
</li><li class="listitem">
<em class="parameter"><code>dstQueueFamilyIndex</code></em> is the queue family that is acquiring
    ownership of the range of <em class="parameter"><code>buffer</code></em> from another queue, or
    <code class="code">VK_QUEUE_FAMILY_IGNORED</code> if there is no transfer of ownership.
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> is a handle to the buffer whose backing memory is affected
    by the barrier.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> is an offset in bytes into the backing memory for
    <em class="parameter"><code>buffer</code></em>; this is relative to the base offset as bound to the buffer
    (see <code class="code"><a class="link" href="#vkBindBufferMemory">vkBindBufferMemory</a></code>).
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is a size in bytes of the affected area of backing memory for
    <em class="parameter"><code>buffer</code></em>, or <code class="code">VK_WHOLE_SIZE</code> to use the range from <em class="parameter"><code>offset</code></em>
    to the end of the buffer.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_BUFFER_MEMORY_BARRIER</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>srcAccessMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>dstAccessMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>buffer</code></em>
</li><li class="listitem">
If <em class="parameter"><code>size</code></em> is not equal to <code class="code">VK_WHOLE_SIZE</code>, <em class="parameter"><code>size</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>size</code></em> is not equal to <code class="code">VK_WHOLE_SIZE</code>, <em class="parameter"><code>size</code></em> <span class="normative">must</span> be less than or equal to than the size of <em class="parameter"><code>buffer</code></em> minus <em class="parameter"><code>offset</code></em>
</li><li class="listitem">
If <em class="parameter"><code>buffer</code></em> was created with a sharing mode of <code class="code">VK_SHARING_MODE_CONCURRENT</code>, <em class="parameter"><code>srcQueueFamilyIndex</code></em> and <em class="parameter"><code>dstQueueFamilyIndex</code></em> <span class="normative">must</span> both be <code class="code">VK_QUEUE_FAMILY_IGNORED</code>
</li><li class="listitem">
If <em class="parameter"><code>buffer</code></em> was created with a sharing mode of <code class="code">VK_SHARING_MODE_EXCLUSIVE</code>, <em class="parameter"><code>srcQueueFamilyIndex</code></em> and <em class="parameter"><code>dstQueueFamilyIndex</code></em> <span class="normative">must</span> either both be <code class="code">VK_QUEUE_FAMILY_IGNORED</code>, or both be a valid queue family (see <a class="xref" href="#devsandqueues-queueprops" title="4.3.1. Queue Family Properties">Section 4.3.1, “Queue Family Properties”</a>)
</li><li class="listitem">
If <em class="parameter"><code>buffer</code></em> was created with a sharing mode of <code class="code">VK_SHARING_MODE_EXCLUSIVE</code>, and <em class="parameter"><code>srcQueueFamilyIndex</code></em> and <em class="parameter"><code>dstQueueFamilyIndex</code></em> are valid queue families, at least one of them <span class="normative">must</span> be the same as the family of the queue that will execute this barrier
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="synchronization-image-memory-barrier"></a>6.5.6. Image Memory Barriers</h3></div></div></div><p>The image memory barrier type is specified with an instance of the
<code class="code">VkImageMemoryBarrier</code> structure.
This type of barrier only applies to memory accesses involving a specific
image subresource range of the specified image object.
That is, a memory dependency formed from an image memory barrier is
<a class="link" href="#synchronization-execution-and-memory-dependencies-types">scoped</a> to the
specified image subresources of the image.
It is also used to perform a layout transition for an image subresource
range, or to transfer ownership of an image subresource range from one queue
family to another as described in the <a class="link" href="#resources-sharing" title="11.7. Resource Sharing Mode">Resource Sharing</a>
section.</p><p>The <code class="code">VkImageMemoryBarrier</code> structure is defined as:</p><p><a id="VkImageMemoryBarrier"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkImageMemoryBarrier {
    VkStructureType            sType;
    const void*                pNext;
    VkAccessFlags              srcAccessMask;
    VkAccessFlags              dstAccessMask;
    VkImageLayout              oldLayout;
    VkImageLayout              newLayout;
    uint32_t                   srcQueueFamilyIndex;
    uint32_t                   dstQueueFamilyIndex;
    VkImage                    image;
    VkImageSubresourceRange    subresourceRange;
} VkImageMemoryBarrier;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>srcAccessMask</code></em> is a bitmask of the classes of memory accesses
    performed by the first set of commands that will participate in the
    dependency.
</li><li class="listitem">
<em class="parameter"><code>dstAccessMask</code></em> is a bitmask of the classes of memory accesses
    performed by the second set of commands that will participate in the
    dependency.
</li><li class="listitem">
<em class="parameter"><code>oldLayout</code></em> describes the current layout of the image
    subresource(s).
</li><li class="listitem">
<em class="parameter"><code>newLayout</code></em> describes the new layout of the image subresource(s).
</li><li class="listitem">
<em class="parameter"><code>srcQueueFamilyIndex</code></em> is the queue family that is relinquishing
    ownership of the image subresource(s) to another queue, or
    <code class="code">VK_QUEUE_FAMILY_IGNORED</code> if there is no transfer of ownership).
</li><li class="listitem">
<em class="parameter"><code>dstQueueFamilyIndex</code></em> is the queue family that is acquiring
    ownership of the image subresource(s) from another queue, or
    <code class="code">VK_QUEUE_FAMILY_IGNORED</code> if there is no transfer of ownership).
</li><li class="listitem">
<em class="parameter"><code>image</code></em> is a handle to the image whose backing memory is affected by
    the barrier.
</li><li class="listitem">
<em class="parameter"><code>subresourceRange</code></em> describes an area of the backing memory for
    <em class="parameter"><code>image</code></em> (see <a class="xref" href="#resources-image-views" title="11.5. Image Views">Section 11.5, “Image Views”</a> for the description of
    <code class="code">VkImageSubresourceRange</code>), as well as the set of image subresources
    whose image layouts are modified.
</li></ul></div><p>If <em class="parameter"><code>oldLayout</code></em> differs from <em class="parameter"><code>newLayout</code></em>, a layout transition occurs
as part of the image memory barrier, affecting the data contained in the
region of the image defined by the <em class="parameter"><code>subresourceRange</code></em>.
If <em class="parameter"><code>oldLayout</code></em> is <code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code>, then the data is
undefined after the layout transition.
This <span class="normative">may</span> allow a more efficient transition, since the data <span class="normative">may</span> be
discarded.
The layout transition <span class="normative">must</span> occur after all operations using the old layout
are completed and before all operations using the new layout are started.
This is achieved by ensuring that there is a memory dependency between
previous accesses and the layout transition, as well as between the layout
transition and subsequent accesses, where the layout transition occurs
between the two halves of a memory dependency in an image memory barrier.</p><p>Layout transitions that are performed via image memory barriers are
automatically ordered against other layout transitions, including those that
occur as part of a render pass instance.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>See <a class="xref" href="#resources-image-layouts" title="11.4. Image Layouts">Section 11.4, “Image Layouts”</a> for details on available image layouts and
their usages.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>srcAccessMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>dstAccessMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>oldLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>newLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>subresourceRange</code></em> <span class="normative">must</span> be a valid <code class="code">VkImageSubresourceRange</code> structure
</li><li class="listitem">
<em class="parameter"><code>oldLayout</code></em> <span class="normative">must</span> be <code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code> or the current layout of the image subresources affected by the barrier
</li><li class="listitem">
<em class="parameter"><code>newLayout</code></em> <span class="normative">must</span> not be <code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code> or <code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code>
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with a sharing mode of <code class="code">VK_SHARING_MODE_CONCURRENT</code>, <em class="parameter"><code>srcQueueFamilyIndex</code></em> and <em class="parameter"><code>dstQueueFamilyIndex</code></em> <span class="normative">must</span> both be <code class="code">VK_QUEUE_FAMILY_IGNORED</code>
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with a sharing mode of <code class="code">VK_SHARING_MODE_EXCLUSIVE</code>, <em class="parameter"><code>srcQueueFamilyIndex</code></em> and <em class="parameter"><code>dstQueueFamilyIndex</code></em> <span class="normative">must</span> either both be <code class="code">VK_QUEUE_FAMILY_IGNORED</code>, or both be a valid queue family (see <a class="xref" href="#devsandqueues-queueprops" title="4.3.1. Queue Family Properties">Section 4.3.1, “Queue Family Properties”</a>)
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with a sharing mode of <code class="code">VK_SHARING_MODE_EXCLUSIVE</code>, and <em class="parameter"><code>srcQueueFamilyIndex</code></em> and <em class="parameter"><code>dstQueueFamilyIndex</code></em> are valid queue families, at least one of them <span class="normative">must</span> be the same as the family of the queue that will execute this barrier
</li><li class="listitem">
<em class="parameter"><code>subresourceRange</code></em> <span class="normative">must</span> be a valid image subresource range for the image (see <a class="xref" href="#resources-image-views" title="11.5. Image Views">Section 11.5, “Image Views”</a>)
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> has a depth/stencil format with both depth and stencil components, then <em class="parameter"><code>aspectMask</code></em> member of <em class="parameter"><code>subresourceRange</code></em> <span class="normative">must</span> include both <code class="code">VK_IMAGE_ASPECT_DEPTH_BIT</code> and <code class="code">VK_IMAGE_ASPECT_STENCIL_BIT</code>
</li><li class="listitem">
If either <em class="parameter"><code>oldLayout</code></em> or <em class="parameter"><code>newLayout</code></em> is <code class="code">VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code> then <em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> set
</li><li class="listitem">
If either <em class="parameter"><code>oldLayout</code></em> or <em class="parameter"><code>newLayout</code></em> is <code class="code">VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL</code> then <em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> set
</li><li class="listitem">
If either <em class="parameter"><code>oldLayout</code></em> or <em class="parameter"><code>newLayout</code></em> is <code class="code">VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> then <em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> set
</li><li class="listitem">
If either <em class="parameter"><code>oldLayout</code></em> or <em class="parameter"><code>newLayout</code></em> is <code class="code">VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code> then <em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code> or <code class="code">VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> set
</li><li class="listitem">
If either <em class="parameter"><code>oldLayout</code></em> or <em class="parameter"><code>newLayout</code></em> is <code class="code">VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> then <em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> set
</li><li class="listitem">
If either <em class="parameter"><code>oldLayout</code></em> or <em class="parameter"><code>newLayout</code></em> is <code class="code">VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> then <em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> set
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="synchronization-waitidle"></a>6.5.7. Wait Idle Operations</h3></div></div></div><p>To wait on the host for the completion of outstanding queue operations for a
given queue, call:</p><p><a id="vkQueueWaitIdle"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkQueueWaitIdle(
    VkQueue                                     queue);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>queue</code></em> is the queue on which to wait.
</li></ul></div><p><span class="strong"><strong><code class="code">vkQueueWaitIdle</code></strong></span> is equivalent to submitting a fence to a queue and
waiting with an infinite timeout for that fence to signal.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>queue</code></em> <span class="normative">must</span> be a valid <code class="code">VkQueue</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="" align="left" valign="top"><p>Any</p></td></tr></tbody></table></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li></ul></div></dd></dl></div></div><p>To wait on the host for the completion of outstanding queue operations for
all queues on a given logical device, call:</p><p><a id="vkDeviceWaitIdle"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkDeviceWaitIdle(
    VkDevice                                    device);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device to idle.
</li></ul></div><p><span class="strong"><strong><code class="code">vkDeviceWaitIdle</code></strong></span> is equivalent to calling <span class="strong"><strong><code class="code">vkQueueWaitIdle</code></strong></span> for
all queues owned by <em class="parameter"><code>device</code></em>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to all <code class="code">VkQueue</code> objects created from <em class="parameter"><code>device</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li></ul></div></dd></dl></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="synchronization-implicit-ordering-hostwrites"></a>6.6. Host Write Ordering Guarantees</h2></div></div></div><p>When submitting batches of command buffers to a queue via
<code class="code"><a class="link" href="#vkQueueSubmit">vkQueueSubmit</a></code>, it is guaranteed that:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host writes to mappable device memory that occurred before the call to
    <span class="strong"><strong><code class="code">vkQueueSubmit</code></strong></span> are visible to the queue operation resulting from
    that submission, if the device memory is coherent or if the memory range
    was flushed with <code class="code"><a class="link" href="#vkFlushMappedMemoryRanges">vkFlushMappedMemoryRanges</a></code>.
</li></ul></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="renderpass"></a>Chapter 7. Render Pass</h1></div></div></div><p>A <span class="emphasis"><em>render pass</em></span> represents a collection of attachments, subpasses, and
dependencies between the subpasses, and describes how the attachments are
used over the course of the subpasses.
The use of a render pass in a command buffer is a <span class="emphasis"><em>render pass instance</em></span>.</p><p>Render passes are represented by <code class="code">VkRenderPass</code> handles:</p><p><a id="VkRenderPass"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkRenderPass)</pre><p>
</p><p>An <span class="emphasis"><em>attachment description</em></span> describes the properties of an attachment
including its format, sample count, and how its contents are treated at the
beginning and end of each render pass instance.</p><p>A <span class="emphasis"><em>subpass</em></span> represents a phase of rendering that reads and writes a subset
of the attachments in a render pass.
Rendering commands are recorded into a particular subpass of a render pass
instance.</p><p>A <span class="emphasis"><em>subpass description</em></span> describes the subset of attachments that is involved
in the execution of a subpass.
Each subpass <span class="normative">can</span> read from some attachments as <span class="emphasis"><em>input attachments</em></span>, write
to some as <span class="emphasis"><em>color attachments</em></span> or <span class="emphasis"><em>depth/stencil attachments</em></span>, and do
resolve operations to others as <span class="emphasis"><em>resolve attachments</em></span>.
A subpass description <span class="normative">can</span> also include a set of <span class="emphasis"><em>preserve attachments</em></span>,
which are attachments that are not read or written by the subpass but whose
contents <span class="normative">must</span> be preserved throughout the subpass.</p><p>A subpass <span class="emphasis"><em>uses</em></span> an attachment if the attachment is a color, depth/stencil,
resolve, or input attachment for that subpass.
A subpass does not use an attachment if that attachment is preserved by the
subpass.
The first use of an attachment is in the lowest numbered subpass that uses
that attachment.
Similarly, the last use of an attachment is in the highest numbered subpass
that uses that attachment.</p><p>The subpasses in a render pass all render to the same dimensions, and
fragments for pixel (x,y,layer) in one subpass <span class="normative">can</span> only read attachment
contents written by previous subpasses at that same (x,y,layer) location.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>By describing a complete set of subpasses in advance, render passes provide
the implementation an opportunity to optimize the storage and transfer of
attachment data between subpasses.</p><p>In practice, this means that subpasses with a simple framebuffer-space
dependency <span class="normative">may</span> be merged into a single tiled rendering pass, keeping the
attachment data on-chip for the duration of a render pass instance.
However, it is also quite common for a render pass to only contain a single
subpass.</p></td></tr></table></div><p><span class="emphasis"><em>Subpass dependencies</em></span> describe ordering restrictions between pairs of
subpasses.
If no dependencies are specified, implementations <span class="normative">may</span> reorder or overlap
portions (e.g., certain shader stages) of the execution of subpasses.
Dependencies limit the extent of overlap or reordering, and are defined
using masks of pipeline stages and memory access types.
Each dependency acts as an
<a class="link" href="#synchronization-execution-and-memory-dependencies" title="6.4. Execution And Memory Dependencies">execution and memory dependency</a>, similarly to how <a class="link" href="#synchronization-pipeline-barriers" title="6.5. Pipeline Barriers">pipeline barriers</a> are defined.
Dependencies are needed if two subpasses operate on attachments with
overlapping ranges of the same <code class="code">VkDeviceMemory</code> object and at least one
subpass writes to that range.</p><p>A <span class="emphasis"><em>subpass dependency chain</em></span> is a sequence of subpass dependencies in a
render pass, where the source subpass of each subpass dependency (after the
first) equals the destination subpass of the previous dependency.</p><p>A render pass describes the structure of subpasses and attachments
independent of any specific image views for the attachments.
The specific image views that will be used for the attachments, and their
dimensions, are specified in <code class="code">VkFramebuffer</code> objects.
Framebuffers are created with respect to a specific render pass that the
framebuffer is compatible with (see <a class="link" href="#renderpass-compatibility" title="7.2. Render Pass Compatibility">Render Pass Compatibility</a>).
Collectively, a render pass and a framebuffer define the complete render
target state for one or more subpasses as well as the algorithmic
dependencies between the subpasses.</p><p>The various pipeline stages of the drawing commands for a given subpass <span class="normative">may</span>
execute concurrently and/or out of order, both within and across drawing
commands.
However for a given (x,y,layer,sample) sample location, certain per-sample
operations are performed in <a class="link" href="#primrast-order" title="24.2. Rasterization Order">rasterization order</a>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="renderpass-creation"></a>7.1. Render Pass Creation</h2></div></div></div><p>To create a render pass, call:</p><p><a id="vkCreateRenderPass"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateRenderPass(
    VkDevice                                    device,
    const VkRenderPassCreateInfo*               pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkRenderPass*                               pRenderPass);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the render pass.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkRenderPassCreateInfo">VkRenderPassCreateInfo</a></code> structure that describes the parameters of
    the render pass.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pRenderPass</code></em> points to a <code class="code">VkRenderPass</code> handle in which the
    resulting render pass object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkRenderPassCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pRenderPass</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkRenderPass</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkRenderPassCreateInfo</code> structure is defined as:</p><p><a id="VkRenderPassCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkRenderPassCreateInfo {
    VkStructureType                   sType;
    const void*                       pNext;
    VkRenderPassCreateFlags           flags;
    uint32_t                          attachmentCount;
    const VkAttachmentDescription*    pAttachments;
    uint32_t                          subpassCount;
    const VkSubpassDescription*       pSubpasses;
    uint32_t                          dependencyCount;
    const VkSubpassDependency*        pDependencies;
} VkRenderPassCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>attachmentCount</code></em> is the number of attachments used by this render
    pass, or zero indicating no attachments.
    Attachments are referred to by zero-based indices in the range
    [0,<em class="parameter"><code>attachmentCount</code></em>).
</li><li class="listitem">
<em class="parameter"><code>pAttachments</code></em> points to an array of <em class="parameter"><code>attachmentCount</code></em> number of
    <code class="code"><a class="link" href="#VkAttachmentDescription">VkAttachmentDescription</a></code> structures describing properties of the
    attachments, or <code class="literal">NULL</code> if <em class="parameter"><code>attachmentCount</code></em> is zero.
</li><li class="listitem">
<em class="parameter"><code>subpassCount</code></em> is the number of subpasses to create for this render
    pass.
    Subpasses are referred to by zero-based indices in the range
    [0,<em class="parameter"><code>subpassCount</code></em>).
    A render pass <span class="normative">must</span> have at least one subpass.
</li><li class="listitem">
<em class="parameter"><code>pSubpasses</code></em> points to an array of <em class="parameter"><code>subpassCount</code></em> number of
    <code class="code"><a class="link" href="#VkSubpassDescription">VkSubpassDescription</a></code> structures describing properties of the
    subpasses.
</li><li class="listitem">
<em class="parameter"><code>dependencyCount</code></em> is the number of dependencies between pairs of
    subpasses, or zero indicating no dependencies.
</li><li class="listitem">
<em class="parameter"><code>pDependencies</code></em> points to an array of <em class="parameter"><code>dependencyCount</code></em> number
    of <code class="code"><a class="link" href="#VkSubpassDependency">VkSubpassDependency</a></code> structures describing dependencies between
    pairs of subpasses, or <code class="literal">NULL</code> if <em class="parameter"><code>dependencyCount</code></em> is zero.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>attachmentCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pAttachments</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>attachmentCount</code></em> valid <code class="code">VkAttachmentDescription</code> structures
</li><li class="listitem">
<em class="parameter"><code>pSubpasses</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>subpassCount</code></em> valid <code class="code">VkSubpassDescription</code> structures
</li><li class="listitem">
If <em class="parameter"><code>dependencyCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pDependencies</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>dependencyCount</code></em> valid <code class="code">VkSubpassDependency</code> structures
</li><li class="listitem">
<em class="parameter"><code>subpassCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
If any two subpasses operate on attachments with overlapping ranges of the same <code class="code">VkDeviceMemory</code> object, and at least one subpass writes to that area of <code class="code">VkDeviceMemory</code>, a subpass dependency <span class="normative">must</span> be included (either directly or via some intermediate subpasses) between them
</li><li class="listitem">
If the <em class="parameter"><code>attachment</code></em> member of any element of <em class="parameter"><code>pInputAttachments</code></em>, <em class="parameter"><code>pColorAttachments</code></em>, <em class="parameter"><code>pResolveAttachments</code></em> or <em class="parameter"><code>pDepthStencilAttachment</code></em>, or the attachment indexed by any element of <em class="parameter"><code>pPreserveAttachments</code></em> in any given element of <em class="parameter"><code>pSubpasses</code></em> is bound to a range of a <code class="code">VkDeviceMemory</code> object that overlaps with any other attachment in any subpass (including the same subpass), the <code class="code">VkAttachmentDescription</code> structures describing them <span class="normative">must</span> include <code class="code">VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code> in <em class="parameter"><code>flags</code></em>
</li><li class="listitem">
If the <em class="parameter"><code>attachment</code></em> member of any element of <em class="parameter"><code>pInputAttachments</code></em>, <em class="parameter"><code>pColorAttachments</code></em>, <em class="parameter"><code>pResolveAttachments</code></em> or <em class="parameter"><code>pDepthStencilAttachment</code></em>, or any element of <em class="parameter"><code>pPreserveAttachments</code></em> in any given element of <em class="parameter"><code>pSubpasses</code></em> is not <code class="code">VK_ATTACHMENT_UNUSED</code>, it <span class="normative">must</span> be less than <em class="parameter"><code>attachmentCount</code></em>
</li><li class="listitem">
The value of any element of the <em class="parameter"><code>pPreserveAttachments</code></em> member in any given element of <em class="parameter"><code>pSubpasses</code></em> <span class="normative">must</span> not be <code class="code">VK_ATTACHMENT_UNUSED</code>
</li></ul></div></div><p>The <code class="code">VkAttachmentDescription</code> structure is defined as:</p><p><a id="VkAttachmentDescription"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkAttachmentDescription {
    VkAttachmentDescriptionFlags    flags;
    VkFormat                        format;
    VkSampleCountFlagBits           samples;
    VkAttachmentLoadOp              loadOp;
    VkAttachmentStoreOp             storeOp;
    VkAttachmentLoadOp              stencilLoadOp;
    VkAttachmentStoreOp             stencilStoreOp;
    VkImageLayout                   initialLayout;
    VkImageLayout                   finalLayout;
} VkAttachmentDescription;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
<em class="parameter"><code>flags</code></em> is a bitmask describing additional properties of the
    attachment.
    Bits which <span class="normative">can</span> be set include:
</p><p><a id="VkAttachmentDescriptionFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkAttachmentDescriptionFlagBits {
    VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT = 0x00000001,
} VkAttachmentDescriptionFlagBits;</pre><p>
</p></li><li class="listitem">
<em class="parameter"><code>format</code></em> is a <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> value specifying the format of the
    image that will be used for the attachment.
</li><li class="listitem">
<em class="parameter"><code>samples</code></em> is the number of samples of the image as defined in
    <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code>.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>loadOp</code></em> specifies how the contents of color and depth components of
    the attachment are treated at the beginning of the subpass where it is
    first used:
</p><p><a id="VkAttachmentLoadOp"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkAttachmentLoadOp {
    VK_ATTACHMENT_LOAD_OP_LOAD = 0,
    VK_ATTACHMENT_LOAD_OP_CLEAR = 1,
    VK_ATTACHMENT_LOAD_OP_DONT_CARE = 2,
} VkAttachmentLoadOp;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_ATTACHMENT_LOAD_OP_LOAD</code> means the contents within the render
     area will be preserved.
</li><li class="listitem">
<code class="code">VK_ATTACHMENT_LOAD_OP_CLEAR</code> means the contents within the render
     area will be cleared to a uniform value, which is specified when a
     render pass instance is begun.
</li><li class="listitem">
<code class="code">VK_ATTACHMENT_LOAD_OP_DONT_CARE</code> means the contents within the
     area need not be preserved; the contents of the attachment will be
     undefined inside the render area.
</li></ul></div></li><li class="listitem"><p class="simpara">
<em class="parameter"><code>storeOp</code></em> specifies how the contents of color and depth components
    of the attachment are treated at the end of the subpass where it is last
    used:
</p><p><a id="VkAttachmentStoreOp"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkAttachmentStoreOp {
    VK_ATTACHMENT_STORE_OP_STORE = 0,
    VK_ATTACHMENT_STORE_OP_DONT_CARE = 1,
} VkAttachmentStoreOp;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_ATTACHMENT_STORE_OP_STORE</code> means the contents within the render
     area are written to memory and will be available for reading after the
     render pass instance completes once the writes have been synchronized
     with <code class="code">VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code> (for color attachments)
     or <code class="code">VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code> (for
     depth/stencil attachments).
</li><li class="listitem">
<code class="code">VK_ATTACHMENT_STORE_OP_DONT_CARE</code> means the contents within the
     render area are not needed after rendering, and <span class="normative">may</span> be discarded; the
     contents of the attachment will be undefined inside the render area.
</li></ul></div></li><li class="listitem">
<em class="parameter"><code>stencilLoadOp</code></em> specifies how the contents of stencil components of
    the attachment are treated at the beginning of the subpass where it is
    first used, and <span class="normative">must</span> be one of the same values allowed for <em class="parameter"><code>loadOp</code></em>
    above.
</li><li class="listitem">
<em class="parameter"><code>stencilStoreOp</code></em> specifies how the contents of stencil components of
    the attachment are treated at the end of the last subpass where it is
    used, and <span class="normative">must</span> be one of the same values allowed for <em class="parameter"><code>storeOp</code></em>
    above.
</li><li class="listitem">
<em class="parameter"><code>initialLayout</code></em> is the layout the attachment image subresource will
    be in when a render pass instance begins.
</li><li class="listitem">
<em class="parameter"><code>finalLayout</code></em> is the layout the attachment image subresource will be
    transitioned to when a render pass instance ends.
    During a render pass instance, an attachment <span class="normative">can</span> use a different layout
    in each subpass, if desired.
</li></ul></div><p>If the attachment uses a color format, then <em class="parameter"><code>loadOp</code></em> and <em class="parameter"><code>storeOp</code></em>
are used, and <em class="parameter"><code>stencilLoadOp</code></em> and <em class="parameter"><code>stencilStoreOp</code></em> are ignored.
If the format has depth and/or stencil components, <em class="parameter"><code>loadOp</code></em> and
<em class="parameter"><code>storeOp</code></em> apply only to the depth data, while <em class="parameter"><code>stencilLoadOp</code></em> and
<em class="parameter"><code>stencilStoreOp</code></em> define how the stencil data is handled.</p><p><a id="renderpass-precision"></a>During a render pass instance, input/color attachments with color formats
that have a component size of 8, 16, or 32 bits <span class="normative">must</span> be represented in the
attachment’s format throughout the instance.
Attachments with other floating- or fixed-point color formats, or with depth
components <span class="normative">may</span> be represented in a format with a precision higher than the
attachment format, but <span class="normative">must</span> be represented with the same range.
When such a component is loaded via the <em class="parameter"><code>loadOp</code></em>, it will be converted
into an implementation-dependent format used by the render pass.
Such components <span class="normative">must</span> be converted from the render pass format, to the
format of the attachment, before they are stored or resolved at the end of a
render pass instance via <em class="parameter"><code>storeOp</code></em>.
Conversions occur as described in <a class="link" href="#fundamentals-numerics" title="2.7. Numeric Representation and Computation">Numeric Representation and Computation</a> and <a class="link" href="#fundamentals-fixedconv" title="2.8. Fixed-Point Data Conversions">Fixed-Point Data Conversions</a>.</p><p><a id="renderpass-aliasing"></a>If <em class="parameter"><code>flags</code></em> includes <code class="code">VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code>, then
the attachment is treated as if it shares physical memory with another
attachment in the same render pass.
This information limits the ability of the implementation to reorder certain
operations (like layout transitions and the <em class="parameter"><code>loadOp</code></em>) such that it is
not improperly reordered against other uses of the same physical memory via
a different attachment.
This is described in more detail below.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkAttachmentDescriptionFlagBits">VkAttachmentDescriptionFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>format</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> value
</li><li class="listitem">
<em class="parameter"><code>samples</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> value
</li><li class="listitem">
<em class="parameter"><code>loadOp</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkAttachmentLoadOp">VkAttachmentLoadOp</a></code> value
</li><li class="listitem">
<em class="parameter"><code>storeOp</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkAttachmentStoreOp">VkAttachmentStoreOp</a></code> value
</li><li class="listitem">
<em class="parameter"><code>stencilLoadOp</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkAttachmentLoadOp">VkAttachmentLoadOp</a></code> value
</li><li class="listitem">
<em class="parameter"><code>stencilStoreOp</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkAttachmentStoreOp">VkAttachmentStoreOp</a></code> value
</li><li class="listitem">
<em class="parameter"><code>initialLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>finalLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>finalLayout</code></em> <span class="normative">must</span> not be <code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code> or <code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code>
</li></ul></div></div><p>If a render pass uses multiple attachments that alias the same device
memory, those attachments <span class="normative">must</span> each include the
<code class="code">VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code> bit in their attachment
description flags.
Attachments aliasing the same memory occurs in multiple ways:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Multiple attachments being assigned the same image view as part of
    framebuffer creation.
</li><li class="listitem">
Attachments using distinct image views that correspond to the same image
    subresource of an image.
</li><li class="listitem">
Attachments using views of distinct image subresources which are bound
    to overlapping memory.
</li></ul></div><p>Render passes <span class="normative">must</span> include subpass dependencies (either directly or via a
subpass dependency chain) between any two subpasses that operate on the same
attachment or aliasing attachments and those subpass dependencies <span class="normative">must</span>
include execution and memory dependencies separating uses of the aliases, if
at least one of those subpasses writes to one of the aliases.
Those dependencies <span class="normative">must</span> not include the <code class="code">VK_DEPENDENCY_BY_REGION_BIT</code>
if the aliases are views of distinct image subresources which overlap in
memory.</p><p>Multiple attachments that alias the same memory <span class="normative">must</span> not be used in a
single subpass.
A given attachment index <span class="normative">must</span> not be used multiple times in a single
subpass, with one exception: two subpass attachments <span class="normative">can</span> use the same
attachment index if at least one use is as an input attachment and neither
use is as a resolve or preserve attachment.
In other words, the same view <span class="normative">can</span> be used simultaneously as an input and
color or depth/stencil attachment, but <span class="normative">must</span> not be used as multiple color
or depth/stencil attachments nor as resolve or preserve attachments.
This valid scenario is described in more detail <a class="link" href="#renderpass-feedbackloop">below</a>.</p><p>If a set of attachments alias each other, then all except the first to be
used in the render pass <span class="normative">must</span> use an <em class="parameter"><code>initialLayout</code></em> of
<code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code>, since the earlier uses of the other aliases
make their contents undefined.
Once an alias has been used and a different alias has been used after it,
the first alias <span class="normative">must</span> not be used in any later subpasses.
However, an application <span class="normative">can</span> assign the same image view to multiple aliasing
attachment indices, which allows that image view to be used multiple times
even if other aliases are used in between.
Once an attachment needs the <code class="code">VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code>
bit, there <span class="normative">should</span> be no additional cost of introducing additional aliases,
and using these additional aliases <span class="normative">may</span> allow more efficient clearing of the
attachments on multiple uses via <code class="code">VK_ATTACHMENT_LOAD_OP_CLEAR</code>.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The exact set of attachment indices that alias with each other is not known
until a framebuffer is created using the render pass, so the above
conditions <span class="normative">cannot</span> be validated at render pass creation time.</p></td></tr></table></div><p>The <code class="code">VkSubpassDescription</code> structure is defined as:</p><p><a id="VkSubpassDescription"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSubpassDescription {
    VkSubpassDescriptionFlags       flags;
    VkPipelineBindPoint             pipelineBindPoint;
    uint32_t                        inputAttachmentCount;
    const VkAttachmentReference*    pInputAttachments;
    uint32_t                        colorAttachmentCount;
    const VkAttachmentReference*    pColorAttachments;
    const VkAttachmentReference*    pResolveAttachments;
    const VkAttachmentReference*    pDepthStencilAttachment;
    uint32_t                        preserveAttachmentCount;
    const uint32_t*                 pPreserveAttachments;
} VkSubpassDescription;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>pipelineBindPoint</code></em> is a <code class="code"><a class="link" href="#VkPipelineBindPoint">VkPipelineBindPoint</a></code> value specifying
    whether this is a compute or graphics subpass.
    Currently, only graphics subpasses are supported.
</li><li class="listitem">
<em class="parameter"><code>inputAttachmentCount</code></em> is the number of input attachments.
</li><li class="listitem">
<em class="parameter"><code>pInputAttachments</code></em> is an array of <code class="code"><a class="link" href="#VkAttachmentReference">VkAttachmentReference</a></code>
    structures (defined below) that lists which of the render pass’s
    attachments <span class="normative">can</span> be read in the shader during the subpass, and what
    layout each attachment will be in during the subpass.
    Each element of the array corresponds to an input attachment unit number
    in the shader, i.e.
    if the shader declares an input variable
    <code class="literal">layout(input_attachment_index=X, set=Y, binding=Z)</code> then it uses the
    attachment provided in <em class="parameter"><code>pInputAttachments</code></em>[X].
    Input attachments <span class="normative">must</span> also be bound to the pipeline with a descriptor
    set, with the input attachment descriptor written in the location
    (set=Y, binding=Z).
</li><li class="listitem">
<em class="parameter"><code>colorAttachmentCount</code></em> is the number of color attachments.
</li><li class="listitem">
<em class="parameter"><code>pColorAttachments</code></em> is an array of <em class="parameter"><code>colorAttachmentCount</code></em>
    <code class="code"><a class="link" href="#VkAttachmentReference">VkAttachmentReference</a></code> structures that lists which of the render
    pass’s attachments will be used as color attachments in the subpass, and
    what layout each attachment will be in during the subpass.
    Each element of the array corresponds to a fragment shader output
    location, i.e.
    if the shader declared an output variable <code class="literal">layout(location=X)</code> then it
    uses the attachment provided in <em class="parameter"><code>pColorAttachments</code></em>[X].
</li><li class="listitem">
<em class="parameter"><code>pResolveAttachments</code></em> is <code class="literal">NULL</code> or an array of
    <em class="parameter"><code>colorAttachmentCount</code></em> <code class="code"><a class="link" href="#VkAttachmentReference">VkAttachmentReference</a></code> structures that
    lists which of the render pass’s attachments are resolved to at the end
    of the subpass, and what layout each attachment will be in during the
    resolve.
    If <em class="parameter"><code>pResolveAttachments</code></em> is not <code class="literal">NULL</code>, each of its elements
    corresponds to a color attachment (the element in
    <em class="parameter"><code>pColorAttachments</code></em> at the same index).
    At the end of each subpass, the subpass’s color attachments are resolved
    to corresponding resolve attachments, unless the resolve attachment
    index is <code class="code">VK_ATTACHMENT_UNUSED</code> or <em class="parameter"><code>pResolveAttachments</code></em> is
    <code class="literal">NULL</code>.
    If the first use of an attachment in a render pass is as a resolve
    attachment, then the <em class="parameter"><code>loadOp</code></em> is effectively ignored as the resolve
    is guaranteed to overwrite all pixels in the render area.
</li><li class="listitem">
<em class="parameter"><code>pDepthStencilAttachment</code></em> is a pointer to a
    <code class="code"><a class="link" href="#VkAttachmentReference">VkAttachmentReference</a></code> specifying which attachment will be used for
    depth/stencil data and the layout it will be in during the subpass.
    Setting the attachment index to <code class="code">VK_ATTACHMENT_UNUSED</code> or leaving
    this pointer as <code class="literal">NULL</code> indicates that no depth/stencil attachment will
    be used in the subpass.
</li><li class="listitem">
<em class="parameter"><code>preserveAttachmentCount</code></em> is the number of preserved attachments.
</li><li class="listitem">
<em class="parameter"><code>pPreserveAttachments</code></em> is an array of <em class="parameter"><code>preserveAttachmentCount</code></em>
    render pass attachment indices describing the attachments that are not
    used by a subpass, but whose contents <span class="normative">must</span> be preserved throughout the
    subpass.
</li></ul></div><p>The contents of an attachment within the render area become undefined at the
start of a subpass S if all of the following conditions are true:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
The attachment is used as a color, depth/stencil, or resolve attachment
    in any subpass in the render pass.
</li><li class="listitem">
There is a subpass S1 that uses or preserves the attachment, and a
    subpass dependency from S1 to S.
</li><li class="listitem">
The attachment is not used or preserved in subpass S.
</li></ul></div><p>Once the contents of an attachment become undefined in subpass S, they
remain undefined for subpasses in subpass dependency chains starting with
subpass S until they are written again.
However, they remain valid for subpasses in other subpass dependency chains
starting with subpass S1 if those subpasses use or preserve the attachment.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>pipelineBindPoint</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkPipelineBindPoint">VkPipelineBindPoint</a></code> value
</li><li class="listitem">
If <em class="parameter"><code>inputAttachmentCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pInputAttachments</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>inputAttachmentCount</code></em> valid <code class="code">VkAttachmentReference</code> structures
</li><li class="listitem">
If <em class="parameter"><code>colorAttachmentCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pColorAttachments</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>colorAttachmentCount</code></em> valid <code class="code">VkAttachmentReference</code> structures
</li><li class="listitem">
If <em class="parameter"><code>colorAttachmentCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pResolveAttachments</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pResolveAttachments</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>colorAttachmentCount</code></em> valid <code class="code">VkAttachmentReference</code> structures
</li><li class="listitem">
If <em class="parameter"><code>pDepthStencilAttachment</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pDepthStencilAttachment</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAttachmentReference</code> structure
</li><li class="listitem">
If <em class="parameter"><code>preserveAttachmentCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pPreserveAttachments</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>preserveAttachmentCount</code></em> <code class="code">uint32_t</code> values
</li><li class="listitem">
<em class="parameter"><code>pipelineBindPoint</code></em> <span class="normative">must</span> be <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>
</li><li class="listitem">
<em class="parameter"><code>colorAttachmentCount</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxColorAttachments</code></em>
</li><li class="listitem">
If the first use of an attachment in this render pass is as an input attachment, and the attachment is not also used as a color or depth/stencil attachment in the same subpass, then <em class="parameter"><code>loadOp</code></em> <span class="normative">must</span> not be <code class="code">VK_ATTACHMENT_LOAD_OP_CLEAR</code>
</li><li class="listitem">
If <em class="parameter"><code>pResolveAttachments</code></em> is not <code class="literal">NULL</code>, for each resolve attachment that does not have the value <code class="code">VK_ATTACHMENT_UNUSED</code>, the corresponding color attachment <span class="normative">must</span> not have the value <code class="code">VK_ATTACHMENT_UNUSED</code>
</li><li class="listitem">
If <em class="parameter"><code>pResolveAttachments</code></em> is not <code class="literal">NULL</code>, the sample count of each element of <em class="parameter"><code>pColorAttachments</code></em> <span class="normative">must</span> be anything other than <code class="code">VK_SAMPLE_COUNT_1_BIT</code>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pResolveAttachments</code></em> <span class="normative">must</span> have a sample count of <code class="code">VK_SAMPLE_COUNT_1_BIT</code>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pResolveAttachments</code></em> <span class="normative">must</span> have the same <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> as its corresponding color attachment
</li><li class="listitem">
All attachments in <em class="parameter"><code>pColorAttachments</code></em> and <em class="parameter"><code>pDepthStencilAttachment</code></em> that are not <code class="code">VK_ATTACHMENT_UNUSED</code> <span class="normative">must</span> have the same sample count
</li><li class="listitem">
If any input attachments are <code class="code">VK_ATTACHMENT_UNUSED</code>, then any pipelines bound during the subpass <span class="normative">must</span> not access those input attachments from the fragment shader
</li><li class="listitem">
The <em class="parameter"><code>attachment</code></em> member of any element of <em class="parameter"><code>pPreserveAttachments</code></em> <span class="normative">must</span> not be <code class="code">VK_ATTACHMENT_UNUSED</code>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pPreserveAttachments</code></em> <span class="normative">must</span> not also be an element of any other member of the subpass description
</li><li class="listitem">
If any attachment is used as both an input attachment and a color or depth/stencil attachment, then each use <span class="normative">must</span> use the same <em class="parameter"><code>layout</code></em>
</li></ul></div></div><p>The <code class="code">VkAttachmentReference</code> structure is defined as:</p><p><a id="VkAttachmentReference"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkAttachmentReference {
    uint32_t         attachment;
    VkImageLayout    layout;
} VkAttachmentReference;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>attachment</code></em> is the index of the attachment of the render pass, and
    corresponds to the index of the corresponding element in the
    <em class="parameter"><code>pAttachments</code></em> array of the <code class="code">VkRenderPassCreateInfo</code> structure.
    If any color or depth/stencil attachments are
    <code class="code">VK_ATTACHMENT_UNUSED</code>, then no writes occur for those attachments.
</li><li class="listitem">
<em class="parameter"><code>layout</code></em> is a <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value specifying the layout the
    attachment uses during the subpass.
    The implementation will automatically perform layout transitions as
    needed between subpasses to make each subpass use the requested layouts.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>layout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>layout</code></em> <span class="normative">must</span> not be <code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code> or <code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code>
</li></ul></div></div><p>The <code class="code">VkSubpassDependency</code> structure is defined as:</p><p><a id="VkSubpassDependency"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSubpassDependency {
    uint32_t                srcSubpass;
    uint32_t                dstSubpass;
    VkPipelineStageFlags    srcStageMask;
    VkPipelineStageFlags    dstStageMask;
    VkAccessFlags           srcAccessMask;
    VkAccessFlags           dstAccessMask;
    VkDependencyFlags       dependencyFlags;
} VkSubpassDependency;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>srcSubpass</code></em> and <em class="parameter"><code>dstSubpass</code></em> are the subpass indices of the
    producer and consumer subpasses, respectively.
    <em class="parameter"><code>srcSubpass</code></em> and <em class="parameter"><code>dstSubpass</code></em> <span class="normative">can</span> also have the special value
    <code class="code">VK_SUBPASS_EXTERNAL</code>.
    The source subpass <span class="normative">must</span> always be a lower numbered subpass than the
    destination subpass (excluding external subpasses and
    <a class="link" href="#synchronization-pipeline-barriers-subpass-self-dependencies" title="6.5.1. Subpass Self-dependency">self-dependencies</a>), so that the order of subpass descriptions is a
    valid execution ordering, avoiding cycles in the dependency graph.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>srcStageMask</code></em>, <em class="parameter"><code>dstStageMask</code></em>, <em class="parameter"><code>srcAccessMask</code></em>,
    <em class="parameter"><code>dstAccessMask</code></em>, and <em class="parameter"><code>dependencyFlags</code></em> describe an
    <a class="link" href="#synchronization-execution-and-memory-dependencies" title="6.4. Execution And Memory Dependencies">execution and memory     dependency</a> between subpasses.
    The bits that <span class="normative">can</span> be included in <em class="parameter"><code>dependencyFlags</code></em> are:
</p><p><a id="VkDependencyFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkDependencyFlagBits {
    VK_DEPENDENCY_BY_REGION_BIT = 0x00000001,
} VkDependencyFlagBits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
If <em class="parameter"><code>dependencyFlags</code></em> contains <code class="code">VK_DEPENDENCY_BY_REGION_BIT</code>,
     then the dependency is by-region as defined in
     <a class="link" href="#synchronization-execution-and-memory-dependencies" title="6.4. Execution And Memory Dependencies">Execution And      Memory Dependencies</a>.
</li></ul></div></li></ul></div><p>Each subpass dependency defines an execution and memory dependency between
two sets of commands, with the second set depending on the first set.
When <em class="parameter"><code>srcSubpass</code></em> does not equal <em class="parameter"><code>dstSubpass</code></em> then the first set of
commands is:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
All commands in the subpass indicated by <em class="parameter"><code>srcSubpass</code></em>, if
    <em class="parameter"><code>srcSubpass</code></em> is not <code class="code">VK_SUBPASS_EXTERNAL</code>.
</li><li class="listitem">
All commands before the render pass instance, if <em class="parameter"><code>srcSubpass</code></em> is
    <code class="code">VK_SUBPASS_EXTERNAL</code>.
</li></ul></div><p>While the corresponding second set of commands is:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
All commands in the subpass indicated by <em class="parameter"><code>dstSubpass</code></em>, if
    <em class="parameter"><code>dstSubpass</code></em> is not <code class="code">VK_SUBPASS_EXTERNAL</code>.
</li><li class="listitem">
All commands after the render pass instance, if <em class="parameter"><code>dstSubpass</code></em> is
    <code class="code">VK_SUBPASS_EXTERNAL</code>.
</li></ul></div><p>When <em class="parameter"><code>srcSubpass</code></em> equals <em class="parameter"><code>dstSubpass</code></em> then the first set consists of
commands in the subpass before a call to <code class="code"><a class="link" href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code> and the
second set consists of commands in the subpass following that same call as
described in the
<a class="link" href="#synchronization-pipeline-barriers-subpass-self-dependencies" title="6.5.1. Subpass Self-dependency">Subpass Self-dependency</a> section.</p><p>The <em class="parameter"><code>srcStageMask</code></em>, <em class="parameter"><code>dstStageMask</code></em>, <em class="parameter"><code>srcAccessMask</code></em>,
<em class="parameter"><code>dstAccessMask</code></em>, and <em class="parameter"><code>dependencyFlags</code></em> parameters of the dependency
are interpreted the same way as for other dependencies, as described in
<a class="link" href="#synchronization" title="Chapter 6. Synchronization and Cache Control">Synchronization and Cache Control</a>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>srcAccessMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>dstAccessMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkAccessFlagBits">VkAccessFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>dependencyFlags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkDependencyFlagBits">VkDependencyFlagBits</a></code> values
</li><li class="listitem">
If the <a class="link" href="#features-features-geometryShader">geometry shaders</a> feature is not enabled, <em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-geometryShader">geometry shaders</a> feature is not enabled, <em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-tessellationShader">tessellation shaders</a> feature is not enabled, <em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or <code class="code">VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-tessellationShader">tessellation shaders</a> feature is not enabled, <em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or <code class="code">VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>srcSubpass</code></em> <span class="normative">must</span> be less than or equal to <em class="parameter"><code>dstSubpass</code></em>, unless one of them is <code class="code">VK_SUBPASS_EXTERNAL</code>, to avoid cyclic dependencies and ensure a valid execution order
</li><li class="listitem">
<em class="parameter"><code>srcSubpass</code></em> and <em class="parameter"><code>dstSubpass</code></em> <span class="normative">must</span> not both be equal to <code class="code">VK_SUBPASS_EXTERNAL</code>
</li><li class="listitem">
If <em class="parameter"><code>srcSubpass</code></em> is equal to <em class="parameter"><code>dstSubpass</code></em>, <em class="parameter"><code>srcStageMask</code></em> and <em class="parameter"><code>dstStageMask</code></em> <span class="normative">must</span> only contain one of <code class="code">VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code>, <code class="code">VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code>, <code class="code">VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code>, <code class="code">VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code>, <code class="code">VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>, <code class="code">VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>, <code class="code">VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>, <code class="code">VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>, <code class="code">VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code>, <code class="code">VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code>, <code class="code">VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code>, <code class="code">VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>, or <code class="code">VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>srcSubpass</code></em> is equal to <em class="parameter"><code>dstSubpass</code></em>, the highest bit value included in <em class="parameter"><code>srcStageMask</code></em> <span class="normative">must</span> be less than or equal to the lowest bit value in <em class="parameter"><code>dstStageMask</code></em>
</li></ul></div></div><p>Automatic image layout transitions between subpasses also interact with the
subpass dependencies.
If two subpasses are connected by a dependency and those two subpasses use
the same attachment in a different layout, then the layout transition will
occur after the memory accesses via <em class="parameter"><code>srcAccessMask</code></em> have completed in
all pipeline stages included in <em class="parameter"><code>srcStageMask</code></em> in the source subpass,
and before any memory accesses via <em class="parameter"><code>dstAccessMask</code></em> occur in any pipeline
stages included in <em class="parameter"><code>dstStageMask</code></em> in the destination subpass.</p><p>The automatic image layout transitions from <em class="parameter"><code>initialLayout</code></em> to the first
used layout (if it is different) are performed according to the following
rules:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If the attachment does not include the
    <code class="code">VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code> bit and there is no
    subpass dependency from <code class="code">VK_SUBPASS_EXTERNAL</code> to the first subpass
    that uses the attachment, then it is as if there were such a dependency
    with <em class="parameter"><code>srcStageMask</code></em> = <em class="parameter"><code>srcAccessMask</code></em> = 0 and <em class="parameter"><code>dstStageMask</code></em>
    and <em class="parameter"><code>dstAccessMask</code></em> including all relevant bits (all graphics
    pipeline stages and all access types that use image resources), with the
    transition executing as part of that dependency.
    In other words, it <span class="normative">may</span> overlap work before the render pass instance and
    is complete before the subpass begins.
</li><li class="listitem">
If the attachment does not include the
    <code class="code">VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code> bit and there is a subpass
    dependency from <code class="code">VK_SUBPASS_EXTERNAL</code> to the first subpass that uses
    the attachment, then the transition executes as part of that dependency
    and according to its stage and access masks.
    It <span class="normative">must</span> not overlap work that came before the render pass instance that
    is included in the source masks, but it <span class="normative">may</span> overlap work in previous
    subpasses.
</li><li class="listitem">
If the attachment includes the
    <code class="code">VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code> bit, then the transition
    executes according to all the subpass dependencies with <em class="parameter"><code>dstSubpass</code></em>
    equal to the first subpass index that the attachment is used in.
    That is, it occurs after all memory accesses in the source stages and
    masks from all the source subpasses have completed and are available,
    and before the union of all the destination stages begin, and the new
    layout is visible to the union of all the destination access types.
    If there are no incoming subpass dependencies, then this case follows
    the first rule.
</li></ul></div><p>Similar rules apply for the transition to the <em class="parameter"><code>finalLayout</code></em>, using
dependencies with <em class="parameter"><code>dstSubpass</code></em> equal to <code class="code">VK_SUBPASS_EXTERNAL</code></p><p>If an attachment specifies the <code class="code">VK_ATTACHMENT_LOAD_OP_CLEAR</code> load
operation, then it will logically be cleared at the start of the first
subpass where it is used.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Implementations <span class="normative">may</span> move clears earlier as long as it does not affect the
operation of a render pass instance.
For example, an implementation <span class="normative">may</span> choose to clear all attachments at the
start of the render pass instance.
If an attachment has the <code class="code">VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code> flag
set, then the clear <span class="normative">must</span> occur at the start of subpass where the attachment
is first used, in order to preserve the operation of the render pass
instance.</p></td></tr></table></div><p>The first use of an attachment <span class="normative">must</span> not specify a layout equal to
<code class="code">VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> or
<code class="code">VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code> if the attachment specifies
that the <em class="parameter"><code>loadOp</code></em> is <code class="code">VK_ATTACHMENT_LOAD_OP_CLEAR</code>.
If a subpass uses the same attachment as both an input attachment and either
a color attachment or a depth/stencil attachment, then both uses <span class="normative">must</span>
observe the result of the clear.</p><p>Similarly, if an attachment specifies that the <em class="parameter"><code>storeOp</code></em> is
<code class="code">VK_ATTACHMENT_STORE_OP_STORE</code>, then it will logically be stored at the
end of the last subpass where it is used.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Implementations <span class="normative">may</span> move stores later as long as it does not affect the
operation of a render pass instance.
If an attachment has the <code class="code">VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code> flag
set, then the store <span class="normative">must</span> occur at the end of the highest numbered subpass
that uses the attachment.</p></td></tr></table></div><p>If an attachment is not used by any subpass, then the <em class="parameter"><code>loadOp</code></em> and the
<em class="parameter"><code>storeOp</code></em> are ignored and the attachment’s memory contents will not be
modified by execution of a render pass instance.</p><p>It will be common for a render pass to consist of a simple linear graph of
dependencies, where subpass N depends on subpass N-1 for all N, and the
operation of the memory barriers and layout transitions is fairly
straightforward to reason about for those simple cases.
But for more complex graphs, there are some rules that govern when there
<span class="normative">must</span> be dependencies between subpasses.</p><p>As stated earlier, render passes <span class="normative">must</span> include subpass dependencies which
(either directly or via a subpass dependency chain) separate any two
subpasses that operate on the same attachment or aliasing attachments, if at
least one of those subpasses writes to the attachment.
If an image layout changes between those two subpasses, the implementation
uses the stageMasks and accessMasks indicated by the subpass dependency as
the masks that control when the layout transition <span class="normative">must</span> occur.
If there is not a layout change on the attachment, or if an implementation
treats the two layouts identically, then it <span class="normative">may</span> treat the dependency as a
simple execution/memory barrier.</p><p>If two subpasses use the same attachment in different layouts but both uses
are read-only (i.e.
input attachment, or read-only depth/stencil attachment), the application
does not need to express a dependency between the two subpasses.
Implementations that treat the two layouts differently <span class="normative">may</span> deduce and
insert a dependency between the subpasses, with the implementation choosing
the appropriate stage masks and access masks based on whether the attachment
is used as an input or depth/stencil attachment, and <span class="normative">may</span> insert the
appropriate layout transition along with the execution/memory barrier.
Implementations that treat the two layouts identically need not insert a
barrier, and the two subpasses <span class="normative">may</span> execute simultaneously.
The stage masks and access masks are chosen as follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
for input attachments, stage mask =
    <code class="code">VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>, access mask =
    <code class="code">VK_ACCESS_INPUT_ATTACHMENT_READ_BIT</code>.
</li><li class="listitem">
for depth/stencil attachments, stage mask =
    <code class="code">VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code> |
    <code class="code">VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code>, access mask =
    <code class="code">VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT</code>
</li></ul></div><p>where <em class="parameter"><code>srcStageMask</code></em> and <em class="parameter"><code>srcAccessMask</code></em> are taken based on usage in
the source subpass and <em class="parameter"><code>dstStageMask</code></em> and <em class="parameter"><code>dstAccessMask</code></em> are taken
based on usage in the destination subpass.</p><p><a id="renderpass-feedbackloop"></a>If a subpass uses the same attachment as both an input attachment and either
a color attachment or a depth/stencil attachment, reads from the input
attachment are not automatically coherent with writes through the color or
depth/stencil attachment.
In order to achieve well-defined results, one of two criteria <span class="normative">must</span> be
satisfied.
First, if the color components or depth/stencil components read by the input
attachment are mutually exclusive with the components written by the color
or depth/stencil attachment then there is no <span class="emphasis"><em>feedback loop</em></span> and the reads
and writes both function normally, with the reads observing values from the
previous subpass(es) or from memory.
This option requires the graphics pipelines used by the subpass to disable
writes to color components that are read as inputs via the
<em class="parameter"><code>colorWriteMask</code></em>, and to disable writes to depth/stencil components that
are read as inputs via <em class="parameter"><code>depthWriteEnable</code></em> or <em class="parameter"><code>stencilTestEnable</code></em>.</p><p>Second, if the input attachment reads components that are written by the
color or depth/stencil attachment, then there is a feedback loop and a
pipeline barrier <span class="normative">must</span> be used between when the attachment is written and
when it is subsequently read by later fragments.
This pipeline barrier <span class="normative">must</span> follow the rules of a self-dependency as
described in
<a class="link" href="#synchronization-pipeline-barriers-subpass-self-dependencies" title="6.5.1. Subpass Self-dependency">Subpass Self-dependency</a>, where the barrier’s flags include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>dstStageMask</code></em> = <code class="code">VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>,
</li><li class="listitem">
<em class="parameter"><code>dstAccessMask</code></em> = <code class="code">VK_ACCESS_INPUT_ATTACHMENT_READ_BIT</code>, and
</li><li class="listitem">
<em class="parameter"><code>srcAccessMask</code></em> = <code class="code">VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code> (for
    color attachments) or <em class="parameter"><code>srcAccessMask</code></em> =
    <code class="code">VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code> (for depth/stencil
    attachments).
</li><li class="listitem">
<em class="parameter"><code>srcStageMask</code></em> = <code class="code">VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code>
    (for color attachments) or <em class="parameter"><code>srcStageMask</code></em> =
    <code class="code">VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code> |
    <code class="code">VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code> (for depth/stencil
    attachments).
</li><li class="listitem">
<em class="parameter"><code>dependencyFlags</code></em> = <code class="code">VK_DEPENDENCY_BY_REGION_BIT</code>.
</li></ul></div><p>A pipeline barrier is needed each time a fragment will read a particular
(x,y,layer,sample) location if that location has been written since the most
recent pipeline barrier, or since the start of the subpass if there have
been no pipeline barriers since the start of the subpass.</p><p>An attachment used as both an input attachment and color attachment <span class="normative">must</span> be
in the <code class="code">VK_IMAGE_LAYOUT_GENERAL</code> layout.
An attachment used as both an input attachment and depth/stencil attachment
<span class="normative">must</span> be in either the <code class="code">VK_IMAGE_LAYOUT_GENERAL</code> or
<code class="code">VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> layout.
Since an attachment in the
<code class="code">VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> layout is read-only,
this situation is not a feedback loop.</p><p>To destroy a render pass, call:</p><p><a id="vkDestroyRenderPass"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyRenderPass(
    VkDevice                                    device,
    VkRenderPass                                renderPass,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the render pass.
</li><li class="listitem">
<em class="parameter"><code>renderPass</code></em> is the handle of the render pass to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>renderPass</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>renderPass</code></em> <span class="normative">must</span> be a valid <code class="code">VkRenderPass</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>renderPass</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All submitted commands that refer to <em class="parameter"><code>renderPass</code></em> <span class="normative">must</span> have completed execution
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>renderPass</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>renderPass</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>renderPass</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="renderpass-compatibility"></a>7.2. Render Pass Compatibility</h2></div></div></div><p>Framebuffers and graphics pipelines are created based on a specific render
pass object.
They <span class="normative">must</span> only be used with that render pass object, or one compatible with
it.</p><p>Two attachment references are compatible if they have matching format and
sample count, or are both <code class="code">VK_ATTACHMENT_UNUSED</code> or the pointer that
would contain the reference is <code class="literal">NULL</code>.</p><p>Two arrays of attachment references are compatible if all corresponding
pairs of attachments are compatible.
If the arrays are of different lengths, attachment references not present in
the smaller array are treated as <code class="code">VK_ATTACHMENT_UNUSED</code>.</p><p>Two render passes that contain only a single subpass are compatible if their
corresponding color, input, resolve, and depth/stencil attachment references
are compatible.</p><p>If two render passes contain more than one subpass, they are compatible if
they are identical except for:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Initial and final image layout in attachment descriptions
</li><li class="listitem">
Load and store operations in attachment descriptions
</li><li class="listitem">
Image layout in attachment references
</li></ul></div><p>A framebuffer is compatible with a render pass if it was created using the
same render pass or a compatible render pass.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_framebuffers"></a>7.3. Framebuffers</h2></div></div></div><p>Render passes operate in conjunction with <span class="emphasis"><em>framebuffers</em></span>.
Framebuffers represent a collection of specific memory attachments that a
render pass instance uses.</p><p>Framebuffers are represented by <code class="code">VkFramebuffer</code> handles:</p><p><a id="VkFramebuffer"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkFramebuffer)</pre><p>
</p><p>To create a framebuffer, call:</p><p><a id="vkCreateFramebuffer"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateFramebuffer(
    VkDevice                                    device,
    const VkFramebufferCreateInfo*              pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkFramebuffer*                              pFramebuffer);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the framebuffer.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> points to a <code class="code"><a class="link" href="#VkFramebufferCreateInfo">VkFramebufferCreateInfo</a></code> structure
    which describes additional information about framebuffer creation.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pFramebuffer</code></em> points to a <code class="code">VkFramebuffer</code> handle in which the
    resulting framebuffer object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkFramebufferCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pFramebuffer</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkFramebuffer</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkFramebufferCreateInfo</code> structure is defined as:</p><p><a id="VkFramebufferCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkFramebufferCreateInfo {
    VkStructureType             sType;
    const void*                 pNext;
    VkFramebufferCreateFlags    flags;
    VkRenderPass                renderPass;
    uint32_t                    attachmentCount;
    const VkImageView*          pAttachments;
    uint32_t                    width;
    uint32_t                    height;
    uint32_t                    layers;
} VkFramebufferCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>renderPass</code></em> is a render pass that defines what render passes the
    framebuffer will be compatible with.
    See <a class="link" href="#renderpass-compatibility" title="7.2. Render Pass Compatibility">Render Pass Compatibility</a> for details.
</li><li class="listitem">
<em class="parameter"><code>attachmentCount</code></em> is the number of attachments.
</li><li class="listitem">
<em class="parameter"><code>pAttachments</code></em> is an array of <code class="code">VkImageView</code> handles, each of
    which will be used as the corresponding attachment in a render pass
    instance.
</li><li class="listitem">
<em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em> and <em class="parameter"><code>layers</code></em> define the dimensions of the
    framebuffer.
</li></ul></div><p>Image subresources used as attachments <span class="normative">must</span> not be used via any
non-attachment usage for the duration of a render pass instance.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This restriction means that the render pass has full knowledge of all uses
of all of the attachments, so that the implementation is able to make
correct decisions about when and how to perform layout transitions, when to
overlap execution of subpasses, etc.</p></td></tr></table></div><p><a id="renderpass-noattachments"></a>It is legal for a subpass to use no color or depth/stencil attachments, and
rather use shader side effects such as image stores and atomics to produce
an output.
In this case, the subpass continues to use the <em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em>,
and <em class="parameter"><code>layers</code></em> of the framebuffer to define the dimensions of the
rendering area, and the <em class="parameter"><code>rasterizationSamples</code></em> from each pipeline’s
<code class="code"><a class="link" href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code> to define the number of samples
used in rasterization; however, if
<code class="code"><a class="link" href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a></code>::<em class="parameter"><code>variableMultisampleRate</code></em> is
<span class="strong"><strong><code class="code">VK_FALSE</code></strong></span>, then all pipelines to be bound with a given zero-attachment
subpass <span class="normative">must</span> have the same value for
<code class="code"><a class="link" href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>::<em class="parameter"><code>rasterizationSamples</code></em>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>renderPass</code></em> <span class="normative">must</span> be a valid <code class="code">VkRenderPass</code> handle
</li><li class="listitem">
If <em class="parameter"><code>attachmentCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pAttachments</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>attachmentCount</code></em> valid <code class="code">VkImageView</code> handles
</li><li class="listitem">
Both of <em class="parameter"><code>renderPass</code></em>, and the elements of <em class="parameter"><code>pAttachments</code></em> that are valid handles <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>attachmentCount</code></em> <span class="normative">must</span> be equal to the attachment count specified in <em class="parameter"><code>renderPass</code></em>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pAttachments</code></em> that is used as a color attachment or resolve attachment by <em class="parameter"><code>renderPass</code></em> <span class="normative">must</span> have been created with a <em class="parameter"><code>usage</code></em> value including <code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pAttachments</code></em> that is used as a depth/stencil attachment by <em class="parameter"><code>renderPass</code></em> <span class="normative">must</span> have been created with a <em class="parameter"><code>usage</code></em> value including <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pAttachments</code></em> that is used as an input attachment by <em class="parameter"><code>renderPass</code></em> <span class="normative">must</span> have been created with a <em class="parameter"><code>usage</code></em> value including <code class="code">VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pAttachments</code></em> <span class="normative">must</span> have been created with an <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> value that matches the <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> specified by the corresponding <code class="code">VkAttachmentDescription</code> in <em class="parameter"><code>renderPass</code></em>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pAttachments</code></em> <span class="normative">must</span> have been created with a <em class="parameter"><code>samples</code></em> value that matches the <em class="parameter"><code>samples</code></em> value specified by the corresponding <code class="code">VkAttachmentDescription</code> in <em class="parameter"><code>renderPass</code></em>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pAttachments</code></em> <span class="normative">must</span> have dimensions at least as large as the corresponding framebuffer dimension
</li><li class="listitem">
Any given element of <em class="parameter"><code>pAttachments</code></em> <span class="normative">must</span> only specify a single mip level
</li><li class="listitem">
Any given element of <em class="parameter"><code>pAttachments</code></em> <span class="normative">must</span> have been created with the identity swizzle
</li><li class="listitem">
<em class="parameter"><code>width</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxFramebufferWidth</code></em>
</li><li class="listitem">
<em class="parameter"><code>height</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxFramebufferHeight</code></em>
</li><li class="listitem">
<em class="parameter"><code>layers</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxFramebufferLayers</code></em>
</li></ul></div></div><p>To destroy a framebuffer, call:</p><p><a id="vkDestroyFramebuffer"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyFramebuffer(
    VkDevice                                    device,
    VkFramebuffer                               framebuffer,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the framebuffer.
</li><li class="listitem">
<em class="parameter"><code>framebuffer</code></em> is the handle of the framebuffer to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>framebuffer</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>framebuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkFramebuffer</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>framebuffer</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All submitted commands that refer to <em class="parameter"><code>framebuffer</code></em> <span class="normative">must</span> have completed execution
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>framebuffer</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>framebuffer</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>framebuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="renderpass-commands"></a>7.4. Render Pass Commands</h2></div></div></div><p>An application records the commands for a render pass instance one subpass
at a time, by beginning a render pass instance, iterating over the subpasses
to record commands for that subpass, and then ending the render pass
instance.</p><p>To begin a render pass instance, call:</p><p><a id="vkCmdBeginRenderPass"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdBeginRenderPass(
    VkCommandBuffer                             commandBuffer,
    const VkRenderPassBeginInfo*                pRenderPassBegin,
    VkSubpassContents                           contents);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer in which to record the
    command.
</li><li class="listitem">
<em class="parameter"><code>pRenderPassBegin</code></em> is a pointer to a <code class="code"><a class="link" href="#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a></code>
    structure (defined below) which indicates the render pass to begin an
    instance of, and the framebuffer the instance uses.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>contents</code></em> specifies how the commands in the first subpass will be
    provided, and is one of the values:
</p><p><a id="VkSubpassContents"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkSubpassContents {
    VK_SUBPASS_CONTENTS_INLINE = 0,
    VK_SUBPASS_CONTENTS_SECONDARY_COMMAND_BUFFERS = 1,
} VkSubpassContents;</pre><p>
</p><p class="simpara">If <em class="parameter"><code>contents</code></em> is <code class="code">VK_SUBPASS_CONTENTS_INLINE</code>, the contents of the
subpass will be recorded inline in the primary command buffer, and secondary
command buffers <span class="normative">must</span> not be executed within the subpass.
If <em class="parameter"><code>contents</code></em> is <code class="code">VK_SUBPASS_CONTENTS_SECONDARY_COMMAND_BUFFERS</code>,
the contents are recorded in secondary command buffers that will be called
from the primary command buffer, and <span class="strong"><strong><code class="code">vkCmdExecuteCommands</code></strong></span> is the only
valid command on the command buffer until <span class="strong"><strong><code class="code">vkCmdNextSubpass</code></strong></span> or
<span class="strong"><strong><code class="code">vkCmdEndRenderPass</code></strong></span>.</p></li></ul></div><p>After beginning a render pass instance, the command buffer is ready to
record the commands for the first subpass of that render pass.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pRenderPassBegin</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkRenderPassBeginInfo</code> structure
</li><li class="listitem">
<em class="parameter"><code>contents</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSubpassContents">VkSubpassContents</a></code> value
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a primary <code class="code">VkCommandBuffer</code>
</li><li class="listitem">
If any of the <em class="parameter"><code>initialLayout</code></em> or <em class="parameter"><code>finalLayout</code></em> member of the <code class="code">VkAttachmentDescription</code> structures or the <em class="parameter"><code>layout</code></em> member of the <code class="code">VkAttachmentReference</code> structures specified when creating the render pass specified in the <em class="parameter"><code>renderPass</code></em> member of <em class="parameter"><code>pRenderPassBegin</code></em> is <code class="code">VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code> then the corresponding attachment image subresource of the framebuffer specified in the <em class="parameter"><code>framebuffer</code></em> member of <em class="parameter"><code>pRenderPassBegin</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> set
</li><li class="listitem">
If any of the <em class="parameter"><code>initialLayout</code></em> or <em class="parameter"><code>finalLayout</code></em> member of the <code class="code">VkAttachmentDescription</code> structures or the <em class="parameter"><code>layout</code></em> member of the <code class="code">VkAttachmentReference</code> structures specified when creating the render pass specified in the <em class="parameter"><code>renderPass</code></em> member of <em class="parameter"><code>pRenderPassBegin</code></em> is <code class="code">VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL</code> or <code class="code">VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> then the corresponding attachment image subresource of the framebuffer specified in the <em class="parameter"><code>framebuffer</code></em> member of <em class="parameter"><code>pRenderPassBegin</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> set
</li><li class="listitem">
If any of the <em class="parameter"><code>initialLayout</code></em> or <em class="parameter"><code>finalLayout</code></em> member of the <code class="code">VkAttachmentDescription</code> structures or the <em class="parameter"><code>layout</code></em> member of the <code class="code">VkAttachmentReference</code> structures specified when creating the render pass specified in the <em class="parameter"><code>renderPass</code></em> member of <em class="parameter"><code>pRenderPassBegin</code></em> is <code class="code">VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code> then the corresponding attachment image subresource of the framebuffer specified in the <em class="parameter"><code>framebuffer</code></em> member of <em class="parameter"><code>pRenderPassBegin</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code> or <code class="code">VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> set
</li><li class="listitem">
If any of the <em class="parameter"><code>initialLayout</code></em> or <em class="parameter"><code>finalLayout</code></em> member of the <code class="code">VkAttachmentDescription</code> structures or the <em class="parameter"><code>layout</code></em> member of the <code class="code">VkAttachmentReference</code> structures specified when creating the render pass specified in the <em class="parameter"><code>renderPass</code></em> member of <em class="parameter"><code>pRenderPassBegin</code></em> is <code class="code">VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> then the corresponding attachment image subresource of the framebuffer specified in the <em class="parameter"><code>framebuffer</code></em> member of <em class="parameter"><code>pRenderPassBegin</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> set
</li><li class="listitem">
If any of the <em class="parameter"><code>initialLayout</code></em> or <em class="parameter"><code>finalLayout</code></em> member of the <code class="code">VkAttachmentDescription</code> structures or the <em class="parameter"><code>layout</code></em> member of the <code class="code">VkAttachmentReference</code> structures specified when creating the render pass specified in the <em class="parameter"><code>renderPass</code></em> member of <em class="parameter"><code>pRenderPassBegin</code></em> is <code class="code">VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> then the corresponding attachment image subresource of the framebuffer specified in the <em class="parameter"><code>framebuffer</code></em> member of <em class="parameter"><code>pRenderPassBegin</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> set
</li><li class="listitem">
If any of the <em class="parameter"><code>initialLayout</code></em> members of the <code class="code">VkAttachmentDescription</code> structures specified when creating the render pass specified in the <em class="parameter"><code>renderPass</code></em> member of <em class="parameter"><code>pRenderPassBegin</code></em> is not <code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code>, then each such <em class="parameter"><code>initialLayout</code></em> <span class="normative">must</span> be equal to the current layout of the corresponding attachment image subresource of the framebuffer specified in the <em class="parameter"><code>framebuffer</code></em> member of <em class="parameter"><code>pRenderPassBegin</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>The <code class="code">VkRenderPassBeginInfo</code> structure is defined as:</p><p><a id="VkRenderPassBeginInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkRenderPassBeginInfo {
    VkStructureType        sType;
    const void*            pNext;
    VkRenderPass           renderPass;
    VkFramebuffer          framebuffer;
    VkRect2D               renderArea;
    uint32_t               clearValueCount;
    const VkClearValue*    pClearValues;
} VkRenderPassBeginInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>renderPass</code></em> is the render pass to begin an instance of.
</li><li class="listitem">
<em class="parameter"><code>framebuffer</code></em> is the framebuffer containing the attachments that are
    used with the render pass.
</li><li class="listitem">
<em class="parameter"><code>renderArea</code></em> is the render area that is affected by the render pass
    instance, and is described in more detail below.
</li><li class="listitem">
<em class="parameter"><code>clearValueCount</code></em> is the number of elements in <em class="parameter"><code>pClearValues</code></em>.
</li><li class="listitem">
<em class="parameter"><code>pClearValues</code></em> is an array of <code class="code"><a class="link" href="#VkClearValue">VkClearValue</a></code> structures that
    contains clear values for each attachment, if the attachment uses a
    <em class="parameter"><code>loadOp</code></em> value of <code class="code">VK_ATTACHMENT_LOAD_OP_CLEAR</code> or if the
    attachment has a depth/stencil format and uses a <em class="parameter"><code>stencilLoadOp</code></em>
    value of <code class="code">VK_ATTACHMENT_LOAD_OP_CLEAR</code>.
    The array is indexed by attachment number.
    Only elements corresponding to cleared attachments are used.
    Other elements of <em class="parameter"><code>pClearValues</code></em> are ignored.
</li></ul></div><p><em class="parameter"><code>renderArea</code></em> is the render area that is affected by the render pass
instance.
The effects of attachment load, store and resolve operations are restricted
to the pixels whose x and y coordinates fall within the render area on all
attachments.
The render area extends to all layers of <em class="parameter"><code>framebuffer</code></em>.
The application <span class="normative">must</span> ensure (using scissor if necessary) that all rendering
is contained within the render area, otherwise the pixels outside of the
render area become undefined and shader side effects <span class="normative">may</span> occur for
fragments outside the render area.
The render area <span class="normative">must</span> be contained within the framebuffer dimensions.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>There <span class="normative">may</span> be a performance cost for using a render area smaller than the
framebuffer, unless it matches the render area granularity for the render
pass.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_RENDER_PASS_BEGIN_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>renderPass</code></em> <span class="normative">must</span> be a valid <code class="code">VkRenderPass</code> handle
</li><li class="listitem">
<em class="parameter"><code>framebuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkFramebuffer</code> handle
</li><li class="listitem">
If <em class="parameter"><code>clearValueCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pClearValues</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>clearValueCount</code></em> valid <code class="code">VkClearValue</code> unions
</li><li class="listitem">
Both of <em class="parameter"><code>framebuffer</code></em>, and <em class="parameter"><code>renderPass</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>clearValueCount</code></em> <span class="normative">must</span> be greater than the largest attachment index in <em class="parameter"><code>renderPass</code></em> that specifies a <em class="parameter"><code>loadOp</code></em> (or <em class="parameter"><code>stencilLoadOp</code></em>, if the attachment has a depth/stencil format) of <code class="code">VK_ATTACHMENT_LOAD_OP_CLEAR</code>
</li></ul></div></div><p>To query the render area granularity, call:</p><p><a id="vkGetRenderAreaGranularity"></a><strong> </strong>
</p><pre class="programlisting">void vkGetRenderAreaGranularity(
    VkDevice                                    device,
    VkRenderPass                                renderPass,
    VkExtent2D*                                 pGranularity);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the render pass.
</li><li class="listitem">
<em class="parameter"><code>renderPass</code></em> is a handle to a render pass.
</li><li class="listitem">
<em class="parameter"><code>pGranularity</code></em> points to a <code class="code"><a class="link" href="#VkExtent2D">VkExtent2D</a></code> structure in which the
    granularity is returned.
</li></ul></div><p>The conditions leading to an optimal <em class="parameter"><code>renderArea</code></em> are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
the <em class="parameter"><code>offset.x</code></em> member in <em class="parameter"><code>renderArea</code></em> is a multiple of the
    <em class="parameter"><code>width</code></em> member of the returned <code class="code"><a class="link" href="#VkExtent2D">VkExtent2D</a></code> (the horizontal
    granularity).
</li><li class="listitem">
the <em class="parameter"><code>offset.y</code></em> member in <em class="parameter"><code>renderArea</code></em> is a multiple of the
    <em class="parameter"><code>height</code></em> of the returned <code class="code"><a class="link" href="#VkExtent2D">VkExtent2D</a></code> (the vertical
    granularity).
</li><li class="listitem">
either the <em class="parameter"><code>offset.width</code></em> member in <em class="parameter"><code>renderArea</code></em> is a multiple
    of the horizontal granularity or <em class="parameter"><code>offset.x</code></em>+<em class="parameter"><code>offset.width</code></em> is
    equal to the <em class="parameter"><code>width</code></em> of the <em class="parameter"><code>framebuffer</code></em> in the
    <code class="code"><a class="link" href="#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a></code>.
</li><li class="listitem">
either the <em class="parameter"><code>offset.height</code></em> member in <em class="parameter"><code>renderArea</code></em> is a multiple
    of the vertical granularity or <em class="parameter"><code>offset.y</code></em>+<em class="parameter"><code>offset.height</code></em> is
    equal to the <em class="parameter"><code>height</code></em> of the <em class="parameter"><code>framebuffer</code></em> in the
    <code class="code"><a class="link" href="#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a></code>.
</li></ul></div><p>Subpass dependencies are not affected by the render area, and apply to the
entire image subresources attached to the framebuffer.
Similarly, pipeline barriers are valid even if their effect extends outside
the render area.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>renderPass</code></em> <span class="normative">must</span> be a valid <code class="code">VkRenderPass</code> handle
</li><li class="listitem">
<em class="parameter"><code>pGranularity</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkExtent2D</code> structure
</li><li class="listitem">
<em class="parameter"><code>renderPass</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li></ul></div></div><p>To transition to the next subpass in the render pass instance after
recording the commands for a subpass, call:</p><p><a id="vkCmdNextSubpass"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdNextSubpass(
    VkCommandBuffer                             commandBuffer,
    VkSubpassContents                           contents);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer in which to record the
    command.
</li><li class="listitem">
<em class="parameter"><code>contents</code></em> specifies how the commands in the next subpass will be
    provided, in the same fashion as the corresponding parameter of
    <code class="code"><a class="link" href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a></code>.
</li></ul></div><p>The subpass index for a render pass begins at zero when
<span class="strong"><strong><code class="code">vkCmdBeginRenderPass</code></strong></span> is recorded, and increments each time
<span class="strong"><strong><code class="code">vkCmdNextSubpass</code></strong></span> is recorded.</p><p>Moving to the next subpass automatically performs any multisample resolve
operations in the subpass being ended.
End-of-subpass multisample resolves are treated as color attachment writes
for the purposes of synchronization.
That is, they are considered to execute in the
<code class="code">VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code> pipeline stage and their
writes are synchronized with <code class="code">VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>.
Synchronization between rendering within a subpass and any resolve
operations at the end of the subpass occurs automatically, without need for
explicit dependencies or pipeline barriers.
However, if the resolve attachment is also used in a different subpass, an
explicit dependency is needed.</p><p>After transitioning to the next subpass, the application <span class="normative">can</span> record the
commands for that subpass.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>contents</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSubpassContents">VkSubpassContents</a></code> value
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called inside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a primary <code class="code">VkCommandBuffer</code>
</li><li class="listitem">
The current subpass index <span class="normative">must</span> be less than the number of subpasses in the render pass minus one
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Inside</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>To record a command to end a render pass instance after recording the
commands for the last subpass, call:</p><p><a id="vkCmdEndRenderPass"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdEndRenderPass(
    VkCommandBuffer                             commandBuffer);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer in which to end the current
    render pass instance.
</li></ul></div><p>Ending a render pass instance performs any multisample resolve operations on
the final subpass.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called inside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a primary <code class="code">VkCommandBuffer</code>
</li><li class="listitem">
The current subpass index <span class="normative">must</span> be equal to the number of subpasses in the render pass minus one
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Inside</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="shaders"></a>Chapter 8. Shaders</h1></div></div></div><p>A shader specifies programmable operations that execute for each vertex,
control point, tessellated vertex, primitive, fragment, or workgroup in the
corresponding stage(s) of the graphics and compute pipelines.</p><p>Graphics pipelines include vertex shader execution as a result of
<a class="link" href="#drawing" title="Chapter 19. Drawing Commands">primitive assembly</a>, followed, if enabled, by tessellation
control and evaluation shaders operating on
<a class="link" href="#drawing-primitive-topologies-patches" title="19.1.11. Separate Patches">patches</a>, geometry shaders, if
enabled, operating on primitives, and fragment shaders, if present,
operating on fragments generated by <a class="link" href="#primsrast" title="Chapter 24. Rasterization">Rasterization</a>.
In this specification, vertex, tessellation control, tessellation evaluation
and geometry shaders are collectively referred to as vertex processing
stages and occur in the logical pipeline before rasterization.
The fragment shader occurs logically after rasterization.</p><p>Only the compute shader stage is included in a compute pipeline.
Compute shaders operate on compute invocations in a workgroup.</p><p>Shaders <span class="normative">can</span> read from input variables, and read from and write to output
variables.
Input and output variables <span class="normative">can</span> be used to transfer data between shader
stages, or to allow the shader to interact with values that exist in the
execution environment.
Similarly, the execution environment provides constants that describe
capabilities.</p><p>Shader variables are associated with execution environment-provided inputs
and outputs using <span class="emphasis"><em>built-in</em></span> decorations in the shader.
The available decorations for each stage are documented in the following
subsections.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shader-modules"></a>8.1. Shader Modules</h2></div></div></div><p><span class="emphasis"><em>Shader modules</em></span> contain <span class="emphasis"><em>shader code</em></span> and one or more entry points.
Shaders are selected from a shader module by specifying an entry point as
part of <a class="link" href="#pipelines" title="Chapter 9. Pipelines">pipeline</a> creation.
The stages of a pipeline <span class="normative">can</span> use shaders that come from different modules.
The shader code defining a shader module <span class="normative">must</span> be in the SPIR-V format, as
described by the <a class="link" href="#spirvenv" title="Appendix A. Vulkan Environment for SPIR-V">Vulkan Environment for SPIR-V</a> appendix.</p><p>Shader modules are represented by <code class="code">VkShaderModule</code> handles:</p><p><a id="VkShaderModule"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkShaderModule)</pre><p>
</p><p>To create a shader module, call:</p><p><a id="vkCreateShaderModule"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateShaderModule(
    VkDevice                                    device,
    const VkShaderModuleCreateInfo*             pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkShaderModule*                             pShaderModule);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the shader module.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> parameter is a pointer to an instance of the
    <code class="code">VkShaderModuleCreateInfo</code> structure.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pShaderModule</code></em> points to a <code class="code">VkShaderModule</code> handle in which the
    resulting shader module object is returned.
</li></ul></div><p>Once a shader module has been created, any entry points it contains <span class="normative">can</span> be
used in pipeline shader stages as described in <a class="link" href="#pipelines-compute" title="9.1. Compute Pipelines">Compute Pipelines</a> and <a class="link" href="#pipelines-graphics" title="9.2. Graphics Pipelines">Graphics Pipelines</a>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkShaderModuleCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pShaderModule</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkShaderModule</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkShaderModuleCreateInfo</code> structure is defined as:</p><p><a id="VkShaderModuleCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkShaderModuleCreateInfo {
    VkStructureType              sType;
    const void*                  pNext;
    VkShaderModuleCreateFlags    flags;
    size_t                       codeSize;
    const uint32_t*              pCode;
} VkShaderModuleCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>codeSize</code></em> is the size, in bytes, of the code pointed to by
    <em class="parameter"><code>pCode</code></em>.
</li><li class="listitem">
<em class="parameter"><code>pCode</code></em> points to code that is used to create the shader module.
    The type and format of the code is determined from the content of the
    memory addressed by <em class="parameter"><code>pCode</code></em>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>pCode</code></em> <span class="normative">must</span> be a pointer to an array of <span class="inlinemediaobject"><span class="phrase">
$codeSize \over 4$
</span></span> <code class="code">uint32_t</code> values
</li><li class="listitem">
<em class="parameter"><code>codeSize</code></em> <span class="normative">must</span> be greater than 0
</li><li class="listitem">
<em class="parameter"><code>codeSize</code></em> <span class="normative">must</span> be a multiple of 4. If the <code class="literal">VK_NV_glsl_shader extension</code> is enabled and <em class="parameter"><code>pCode</code></em> references GLSL code <em class="parameter"><code>codeSize</code></em> can be a multiple of 1
</li><li class="listitem">
<em class="parameter"><code>pCode</code></em> <span class="normative">must</span> point to valid SPIR-V code, formatted and packed as described by the <a class="link" href="#spirv-spec">Khronos SPIR-V Specification</a>. If the <code class="literal">VK_NV_glsl_shader</code> extension is enabled <em class="parameter"><code>pCode</code></em> can instead reference valid GLSL code and <span class="normative">must</span> be written to the <code class="literal">GL_KHR_vulkan_glsl</code> extension specification
</li><li class="listitem">
<em class="parameter"><code>pCode</code></em> <span class="normative">must</span> adhere to the validation rules described by the <a class="link" href="#spirvenv-module-validation" title="A.3. Validation Rules within a Module">Validation Rules within a Module</a> section of the <a class="link" href="#spirvenv-capabilities" title="A.2. Capabilities">SPIR-V Environment</a> appendix. If the <code class="literal">VK_NV_glsl_shader</code> extension is enabled <em class="parameter"><code>pCode</code></em> can be valid GLSL code with respect to the <code class="literal">GL_KHR_vulkan_glsl</code> GLSL extension specification
</li><li class="listitem">
<em class="parameter"><code>pCode</code></em> <span class="normative">must</span> declare the <span class="strong"><strong><code class="code">Shader</code></strong></span> capability for SPIR-V code
</li><li class="listitem">
<em class="parameter"><code>pCode</code></em> <span class="normative">must</span> not declare any capability that is not supported by the API, as described by the <a class="link" href="#spirvenv-module-validation" title="A.3. Validation Rules within a Module">Capabilities</a> section of the <a class="link" href="#spirvenv-capabilities" title="A.2. Capabilities">SPIR-V Environment</a> appendix
</li><li class="listitem">
If <em class="parameter"><code>pCode</code></em> declares any of the capabilities that are listed as not required by the implementation, the relevant feature <span class="normative">must</span> be enabled, as listed in the <a class="link" href="#spirvenv-capabilities-table" title="Table A.1. SPIR-V Capabilities which are not required, and corresponding feature names">SPIR-V Environment</a> appendix
</li></ul></div></div><p>To destroy a shader module, call:</p><p><a id="vkDestroyShaderModule"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyShaderModule(
    VkDevice                                    device,
    VkShaderModule                              shaderModule,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the shader module.
</li><li class="listitem">
<em class="parameter"><code>shaderModule</code></em> is the handle of the shader module to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><p>A shader module <span class="normative">can</span> be destroyed while pipelines created using its shaders
are still in use.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>shaderModule</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>shaderModule</code></em> <span class="normative">must</span> be a valid <code class="code">VkShaderModule</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>shaderModule</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>shaderModule</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>shaderModule</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>shaderModule</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-execution"></a>8.2. Shader Execution</h2></div></div></div><p>At each stage of the pipeline, multiple invocations of a shader <span class="normative">may</span> execute
simultaneously.
Further, invocations of a single shader produced as the result of different
commands <span class="normative">may</span> execute simultaneously.
The relative execution order of invocations of the same shader type is
undefined.
Shader invocations <span class="normative">may</span> complete in a different order than that in which the
primitives they originated from were drawn or dispatched by the application.
However, fragment shader outputs are written to attachments in
<a class="link" href="#primrast-order" title="24.2. Rasterization Order">rasterization order</a>.</p><p>The relative order of invocations of different shader types is largely
undefined.
However, when invoking a shader whose inputs are generated from a previous
pipeline stage, the shader invocations from the previous stage are
guaranteed to have executed far enough to generate input values for all
required inputs.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-execution-memory-ordering"></a>8.3. Shader Memory Access Ordering</h2></div></div></div><p>The order in which image or buffer memory is read or written by shaders is
largely undefined.
For some shader types (vertex, tessellation evaluation, and in some cases,
fragment), even the number of shader invocations that <span class="normative">may</span> perform loads and
stores is undefined.</p><p>In particular, the following rules apply:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<a class="link" href="#shaders-vertex-execution" title="8.5.1. Vertex Shader Execution">Vertex</a> and
    <a class="link" href="#shaders-tessellation-evaluation-execution" title="8.7.1. Tessellation Evaluation Shader Execution">tessellation evaluation</a>
    shaders will be invoked at least once for each unique vertex, as defined
    in those sections.
</li><li class="listitem">
<a class="link" href="#shaders-fragment-execution" title="8.9.1. Fragment Shader Execution">Fragment</a> shaders will be invoked zero or
    more times, as defined in that section.
</li><li class="listitem">
The relative order of invocations of the same shader type are undefined.
    A store issued by a shader when working on primitive B might complete
    prior to a store for primitive A, even if primitive A is specified prior
    to primitive B.
    This applies even to fragment shaders; while fragment shader outputs are
    always written to the framebuffer
    <a class="link" href="#fundamentals-queueoperation-apiorder">in primitive order</a>, stores
    executed by fragment shader invocations are not.
</li><li class="listitem">
The relative order of invocations of different shader types is largely
    undefined.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The above limitations on shader invocation order make some forms of
synchronization between shader invocations within a single set of primitives
unimplementable.
For example, having one invocation poll memory written by another invocation
assumes that the other invocation has been launched and will complete its
writes in finite time.</p></td></tr></table></div><p>Stores issued to different memory locations within a single shader
invocation <span class="normative">may</span> not be visible to other invocations in the order they were
performed.
The <span class="strong"><strong><code class="code">OpMemoryBarrier</code></strong></span> instruction <span class="normative">can</span> be used to provide stronger
ordering of reads and writes performed by a single invocation.
<span class="strong"><strong><code class="code">OpMemoryBarrier</code></strong></span> guarantees that any memory transactions issued by the
shader invocation prior to the instruction complete prior to the memory
transactions issued after the instruction.
Memory barriers are needed for algorithms that require multiple invocations
to access the same memory and require the operations to be performed in a
partially-defined relative order.
For example, if one shader invocation does a series of writes, followed by
an <span class="strong"><strong><code class="code">OpMemoryBarrier</code></strong></span> instruction, followed by another write, then the
results of the series of writes before the barrier become visible to other
shader invocations at a time earlier or equal to when the results of the
final write become visible to those invocations.
In practice it means that another invocation that sees the results of the
final write would also see the previous writes.
Without the memory barrier, the final write <span class="normative">may</span> be visible before the
previous writes.</p><p>The built-in atomic memory transaction instructions <span class="normative">can</span> be used to read and
write a given memory address atomically.
While built-in atomic functions issued by multiple shader invocations are
executed in undefined order relative to each other, these functions perform
both a read and a write of a memory address and guarantee that no other
memory transaction will write to the underlying memory between the read and
write.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Atomics allow shaders to use shared global addresses for mutual exclusion or
as counters, among other uses.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-inputs"></a>8.4. Shader Inputs and Outputs</h2></div></div></div><p>Data is passed into and out of shaders using variables with input or output
storage class, respectively.
User-defined inputs and outputs are connected between stages by matching
their <span class="strong"><strong><code class="code">Location</code></strong></span> decorations.
Additionally, data <span class="normative">can</span> be provided by or communicated to special functions
provided by the execution environment using <span class="strong"><strong><code class="code">BuiltIn</code></strong></span> decorations.</p><p>In many cases, the same <span class="strong"><strong><code class="code">BuiltIn</code></strong></span> decoration <span class="normative">can</span> be used in multiple
shader stages with similar meaning.
The specific behavior of variables decorated as <span class="strong"><strong><code class="code">BuiltIn</code></strong></span> is documented
in the following sections.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-vertex"></a>8.5. Vertex Shaders</h2></div></div></div><p>Each vertex shader invocation operates on one vertex and its associated
<a class="link" href="#fxvertex-attrib" title="20.1. Vertex Attributes">vertex attribute</a> data, and outputs one vertex and
associated data.
Graphics pipelines <span class="normative">must</span> include a vertex shader, and the vertex shader
stage is always the first shader stage in the graphics pipeline.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="shaders-vertex-execution"></a>8.5.1. Vertex Shader Execution</h3></div></div></div><p>A vertex shader <span class="normative">must</span> be executed at least once for each vertex specified by
a draw command.
During execution, the shader is presented with the index of the vertex and
instance for which it has been invoked.
Input variables declared in the vertex shader are filled by the
implementation with the values of vertex attributes associated with the
invocation being executed.</p><p>If the same vertex is specified multiple times in a draw command (e.g.
by including the same index value multiple times in an index buffer) the
implementation <span class="normative">may</span> reuse the results of vertex shading if it can statically
determine that the vertex shader invocations will produce identical results.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>It is implementation-dependent when and if results of vertex shading are
reused, and thus how many times the vertex shader will be executed.
This is true also if the vertex shader contains stores or atomic operations
(see <a class="link" href="#features-features-vertexPipelineStoresAndAtomics"><em class="parameter"><code>vertexPipelineStoresAndAtomics</code></em></a>).</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-tessellation-control"></a>8.6. Tessellation Control Shaders</h2></div></div></div><p>The tessellation control shader is used to read an input patch provided by
the application and to produce an output patch.
Each tessellation control shader invocation operates on an input patch
(after all control points in the patch are processed by a vertex shader) and
its associated data, and outputs a single control point of the output patch
and its associated data, and <span class="normative">can</span> also output additional per-patch data.
The input patch is sized according to the <em class="parameter"><code>patchControlPoints</code></em> member of
<code class="code"><a class="link" href="#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a></code>, as part of input assembly.
The size of the output patch is controlled by the <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span>
<span class="strong"><strong><code class="code">OutputVertices</code></strong></span> specified in the tessellation control or tessellation
evaluation shaders, which <span class="normative">must</span> be specified in at least one of the shaders.
The size of the input and output patches <span class="normative">must</span> each be greater than zero and
less than or equal to
<code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxTessellationPatchSize</code></em>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="shaders-tessellation-control-execution"></a>8.6.1. Tessellation Control Shader Execution</h3></div></div></div><p>A tessellation control shader is invoked at least once for each <span class="emphasis"><em>output</em></span>
vertex in a patch.</p><p>Inputs to the tessellation control shader are generated by the vertex
shader.
Each invocation of the tessellation control shader <span class="normative">can</span> read the attributes
of any incoming vertices and their associated data.
The invocations corresponding to a given patch execute logically in
parallel, with undefined relative execution order.
However, the <span class="strong"><strong><code class="code">OpControlBarrier</code></strong></span> instruction <span class="normative">can</span> be used to provide
limited control of the execution order by synchronizing invocations within a
patch, effectively dividing tessellation control shader execution into a set
of phases.
Tessellation control shaders will read undefined values if one invocation
reads a per-vertex or per-patch attribute written by another invocation at
any point during the same phase, or if two invocations attempt to write
different values to the same per-patch output in a single phase.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-tessellation-evaluation"></a>8.7. Tessellation Evaluation Shaders</h2></div></div></div><p>The Tessellation Evaluation Shader operates on an input patch of control
points and their associated data, and a single input barycentric coordinate
indicating the invocation’s relative position within the subdivided patch,
and outputs a single vertex and its associated data.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="shaders-tessellation-evaluation-execution"></a>8.7.1. Tessellation Evaluation Shader Execution</h3></div></div></div><p>A tessellation evaluation shader is invoked at least once for each unique
vertex generated by the tessellator.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-geometry"></a>8.8. Geometry Shaders</h2></div></div></div><p>The geometry shader operates on a group of vertices and their associated
data assembled from a single input primitive, and emits zero or more output
primitives and the group of vertices and their associated data required for
each output primitive.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="shaders-geometry-execution"></a>8.8.1. Geometry Shader Execution</h3></div></div></div><p>A geometry shader is invoked at least once for each primitive produced by
the tessellation stages, or at least once for each primitive generated by
<a class="link" href="#drawing" title="Chapter 19. Drawing Commands">primitive assembly</a> when tessellation is not in use.
The number of geometry shader invocations per input primitive is determined
from the invocation count of the geometry shader specified by the
<span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> <span class="strong"><strong><code class="code">Invocations</code></strong></span> in the geometry shader.
If the invocation count is not specified, then a default of one invocation
is executed.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-fragment"></a>8.9. Fragment Shaders</h2></div></div></div><p>Fragment shaders are invoked as the result of rasterization in a graphics
pipeline.
Each fragment shader invocation operates on a single fragment and its
associated data.
With few exceptions, fragment shaders do not have access to any data
associated with other fragments and are considered to execute in isolation
of fragment shader invocations associated with other fragments.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="shaders-fragment-execution"></a>8.9.1. Fragment Shader Execution</h3></div></div></div><p>For each fragment generated by rasterization, a fragment shader <span class="normative">may</span> be
invoked.
A fragment shader <span class="normative">must</span> not be invoked if the <a class="link" href="#fragops-early" title="25.1. Early Per-Fragment Tests">Early Per-Fragment Tests</a> cause it to have no coverage.</p><p>Furthermore, if it is determined that a fragment generated as the result of
rasterizing a first primitive will have its outputs entirely overwritten by
a fragment generated as the result of rasterizing a second primitive in the
same subpass, and the fragment shader used for the fragment has no other
side effects, then the fragment shader <span class="normative">may</span> not be executed for the fragment
from the first primitive.</p><p>Relative ordering of execution of different fragment shader invocations is
not defined.</p><p>The number of fragment shader invocations produced per-pixel is determined
as follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If per-sample shading is enabled, the fragment shader is invoked once
    per covered sample.
</li><li class="listitem">
Otherwise, the fragment shader is invoked at least once per fragment but
    no more than once per covered sample.
</li></ul></div><p>In addition to the conditions outlined above for the invocation of a
fragment shader, a fragment shader invocation <span class="normative">may</span> be produced as a <span class="emphasis"><em>helper
invocation</em></span>.
A helper invocation is a fragment shader invocation that is created solely
for the purposes of evaluating derivatives for use in non-helper fragment
shader invocations.
Stores and atomics performed by helper invocations <span class="normative">must</span> not have any effect
on memory, and values returned by atomic instructions in helper invocations
are undefined.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="shaders-fragment-earlytest"></a>8.9.2. Early Fragment Tests</h3></div></div></div><p>An explicit control is provided to allow fragment shaders to enable early
fragment tests.
If the fragment shader specifies the <span class="strong"><strong><code class="code">EarlyFragmentTests</code></strong></span>
<span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span>, the per-fragment tests described in
<a class="link" href="#fragops-early-mode" title="25.4. Early Fragment Test Mode">Early Fragment Test Mode</a> are performed prior to
fragment shader execution.
Otherwise, they are performed after fragment shader execution.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-compute"></a>8.10. Compute Shaders</h2></div></div></div><p>Compute shaders are invoked via <code class="code"><a class="link" href="#vkCmdDispatch">vkCmdDispatch</a></code> and
<code class="code"><a class="link" href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code> commands.
In general, they have access to similar resources as shader stages executing
as part of a graphics pipeline.</p><p>Compute workloads are formed from groups of work items called workgroups and
processed by the compute shader in the current compute pipeline.
A workgroup is a collection of shader invocations that execute the same
shader, potentially in parallel.
Compute shaders execute in <span class="emphasis"><em>global workgroups</em></span> which are divided into a
number of <span class="emphasis"><em>local workgroups</em></span> with a size that <span class="normative">can</span> be set by assigning a
value to the <span class="strong"><strong><code class="code">LocalSize</code></strong></span> execution mode or via an object decorated by the
<span class="strong"><strong><code class="code">WorkgroupSize</code></strong></span> decoration.
An invocation within a local workgroup <span class="normative">can</span> share data with other members of
the local workgroup through shared variables and issue memory and control
flow barriers to synchronize with other members of the local workgroup.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-interpolation-decorations"></a>8.11. Interpolation Decorations</h2></div></div></div><p>Interpolation decorations control the behavior of attribute interpolation in
the fragment shader stage.
Interpolation decorations <span class="normative">can</span> be applied to <span class="strong"><strong><code class="code">Input</code></strong></span> storage class
variables in the fragment shader stage’s interface, and control the
interpolation behavior of those variables.</p><p>Inputs that could be interpolated <span class="normative">can</span> be decorated by at most one of the
following decorations:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="strong"><strong><code class="code">Flat</code></strong></span>: no interpolation
</li><li class="listitem">
<span class="strong"><strong><code class="code">NoPerspective</code></strong></span>: linear interpolation (for
    <a class="link" href="#line_noperspective_interpolation" title="Equation 24.2. line_noperspective_interpolation">lines</a> and
    <a class="link" href="#triangle_noperspective_interpolation" title="Equation 24.4. triangle_noperspective_interpolation">polygons</a>).
</li></ul></div><p>Fragment input variables decorated with neither <span class="strong"><strong><code class="code">Flat</code></strong></span> nor
<span class="strong"><strong><code class="code">NoPerspective</code></strong></span> use perspective-correct interpolation (for
<a class="link" href="#line_perspective_interpolation" title="Equation 24.1. line_perspective_interpolation">lines</a> and
<a class="link" href="#triangle_perspective_interpolation" title="Equation 24.3. triangle_perspective_interpolation">polygons</a>).</p><p>The presence of and type of interpolation is controlled by the above
interpolation decorations as well as the auxiliary decorations <span class="strong"><strong><code class="code">Centroid</code></strong></span>
and <span class="strong"><strong><code class="code">Sample</code></strong></span>.</p><p>A variable decorated with <span class="strong"><strong><code class="code">Flat</code></strong></span> will not be interpolated.
Instead, it will have the same value for every fragment within a triangle.
This value will come from a single <a class="link" href="#vertexpostproc-flatshading" title="23.1. Flat Shading">provoking vertex</a>.
A variable decorated with <span class="strong"><strong><code class="code">Flat</code></strong></span> <span class="normative">can</span> also be decorated with
<span class="strong"><strong><code class="code">Centroid</code></strong></span> or <span class="strong"><strong><code class="code">Sample</code></strong></span>, which will mean the same thing as decorating
it only as <span class="strong"><strong><code class="code">Flat</code></strong></span>.</p><p>For fragment shader input variables decorated with neither <span class="strong"><strong><code class="code">Centroid</code></strong></span> nor
<span class="strong"><strong><code class="code">Sample</code></strong></span>, the assigned variable <span class="normative">may</span> be interpolated anywhere within the
pixel and a single value <span class="normative">may</span> be assigned to each sample within the pixel.</p><p><span class="strong"><strong><code class="code">Centroid</code></strong></span> and <span class="strong"><strong><code class="code">Sample</code></strong></span> <span class="normative">can</span> be used to control the location and
frequency of the sampling of the decorated fragment shader input.
If a fragment shader input is decorated with <span class="strong"><strong><code class="code">Centroid</code></strong></span>, a single value
<span class="normative">may</span> be assigned to that variable for all samples in the pixel, but that
value <span class="normative">must</span> be interpolated to a location that lies in both the pixel and in
the primitive being rendered, including any of the pixel’s samples covered
by the primitive.
Because the location at which the variable is interpolated <span class="normative">may</span> be different
in neighboring pixels, and derivatives <span class="normative">may</span> be computed by computing
differences between neighboring pixels, derivatives of centroid-sampled
inputs <span class="normative">may</span> be less accurate than those for non-centroid interpolated
variables.
If a fragment shader input is decorated with <span class="strong"><strong><code class="code">Sample</code></strong></span>, a separate value
<span class="normative">must</span> be assigned to that variable for each covered sample in the pixel, and
that value <span class="normative">must</span> be sampled at the location of the individual sample.
When <em class="parameter"><code>rasterizationSamples</code></em> is <code class="code">VK_SAMPLE_COUNT_1_BIT</code>, the pixel
center <span class="normative">must</span> be used for <span class="strong"><strong><code class="code">Centroid</code></strong></span>, <span class="strong"><strong><code class="code">Sample</code></strong></span>, and undecorated
attribute interpolation.</p><p>Fragment shader inputs that are signed or unsigned integers, integer
vectors, or any double-precision floating-point type <span class="normative">must</span> be decorated with
<span class="strong"><strong><code class="code">Flat</code></strong></span>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-staticuse"></a>8.12. Static Use</h2></div></div></div><p>A SPIR-V module declares a global object in memory using the <span class="strong"><strong><code class="code">OpVariable</code></strong></span>
instruction, which results in a pointer <span class="strong"><strong><code class="code">x</code></strong></span> to that object.
A specific entry point in a SPIR-V module is said to <span class="emphasis"><em>statically use</em></span> that
object if that entry point’s call tree contains a function that contains a
memory instruction or image instruction with <span class="strong"><strong><code class="code">x</code></strong></span> as an <span class="strong"><strong><code class="code">id</code></strong></span> operand.
See the “Memory Instructions” and “Image Instructions” subsections of
section 3 “Binary Form” of the SPIR-V specification for the complete list
of SPIR-V memory instructions.</p><p>Static use is not used to control the behavior of variables with <span class="strong"><strong><code class="code">Input</code></strong></span>
and <span class="strong"><strong><code class="code">Output</code></strong></span> storage.
The effects of those variables are applied based only on whether they are
present in a shader entry point’s interface.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-invocationgroups"></a>8.13. Invocation and Derivative Groups</h2></div></div></div><p>An <span class="emphasis"><em>invocation group</em></span> (see the subsection “Control Flow” of section 2 of
the SPIR-V specification) for a compute shader is the set of invocations in
a single local workgroup.
For graphics shaders, an invocation group is an implementation-dependent
subset of the set of shader invocations of a given shader stage which are
produced by a single drawing command.
For indirect drawing commands with <em class="parameter"><code>drawCount</code></em> greater than one,
invocations from separate draws are in distinct invocation groups.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Because the partitioning of invocations into invocation groups is
implementation-dependent and not observable, applications generally need to
assume the worst case of all invocations in a draw belonging to a single
invocation group.</p></td></tr></table></div><p>A <span class="emphasis"><em>derivative group</em></span> (see the subsection “Control Flow” of section 2 of
the SPIR-V 1.00 Revision 4 specification) for a fragment shader is the set
of invocations generated by a single primitive (point, line, or triangle),
including any helper invocations generated by that primitive.
Derivatives are undefined for a sampled image instruction if the instruction
is in flow control that is not uniform across the derivative group.</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="pipelines"></a>Chapter 9. Pipelines</h1></div></div></div><p>The following <a class="link" href="#pipelines-block-diagram" title="Figure 9.1. Block diagram of the Vulkan pipeline">figure</a> shows a block diagram of
the Vulkan pipelines.
Some Vulkan commands specify geometric objects to be drawn or computational
work to be performed, while others specify state controlling how objects are
handled by the various pipeline stages, or control data transfer between
memory organized as images and buffers.
Commands are effectively sent through a processing pipeline, either a
<span class="emphasis"><em>graphics pipeline</em></span> or a <span class="emphasis"><em>compute pipeline</em></span>.</p><p>The first stage of the <a class="link" href="#pipelines-graphics" title="9.2. Graphics Pipelines">graphics pipeline</a>
(<a class="link" href="#drawing" title="Chapter 19. Drawing Commands">Input Assembler</a>) assembles vertices to form geometric
primitives such as points, lines, and triangles, based on a requested
primitive topology.
In the next stage (<a class="link" href="#shaders-vertex" title="8.5. Vertex Shaders">Vertex Shader</a>) vertices <span class="normative">can</span> be
transformed, computing positions and attributes for each vertex.
If <a class="link" href="#tessellation" title="Chapter 21. Tessellation">tessellation</a> and/or <a class="link" href="#geometry" title="Chapter 22. Geometry Shading">geometry</a> shaders are
supported, they <span class="normative">can</span> then generate multiple primitives from a single input
primitive, possibly changing the primitive topology or generating additional
attribute data in the process.</p><p>The final resulting primitives are <a class="link" href="#vertexpostproc-clipping" title="23.2. Primitive Clipping">clipped</a> to a
clip volume in preparation for the next stage, <a class="link" href="#primsrast" title="Chapter 24. Rasterization">Rasterization</a>.
The rasterizer produces a series of framebuffer addresses and values using a
two-dimensional description of a point, line segment, or triangle.
Each <span class="emphasis"><em>fragment</em></span> so produced is fed to the next stage
(<a class="link" href="#shaders-fragment" title="8.9. Fragment Shaders">Fragment Shader</a>) that performs operations on
individual fragments before they finally alter the framebuffer.
These operations include conditional updates into the framebuffer based on
incoming and previously stored depth values (to effect <a class="link" href="#fragops-depth" title="25.10. Depth Test">depth buffering</a>), <a class="link" href="#framebuffer-blending" title="26.1. Blending">blending</a> of incoming fragment colors
with stored colors, as well as <a class="link" href="#framebuffer-blendoperations" title="26.1.3. Blend Operations">masking</a>,
<a class="link" href="#fragops-stencil" title="25.9. Stencil Test">stenciling</a>, and other <a class="link" href="#framebuffer-logicop" title="26.2. Logical Operations">logical operations</a> on fragment values.</p><p>Framebuffer operations read and write the color and depth/stencil
attachments of the framebuffer for a given subpass of a <a class="link" href="#renderpass" title="Chapter 7. Render Pass">render pass instance</a>.
The attachments <span class="normative">can</span> be used as input attachments in the fragment shader in
a later subpass of the same render pass.</p><p>The <a class="link" href="#pipelines-compute" title="9.1. Compute Pipelines">compute pipeline</a> is a separate pipeline from the
graphics pipeline, which operates on one-, two-, or three-dimensional
workgroups which <span class="normative">can</span> read from and write to buffer and image memory.</p><p>This ordering is meant only as a tool for describing Vulkan, not as a strict
rule of how Vulkan is implemented, and we present it only as a means to
organize the various operations of the pipelines.</p><div class="figure"><a id="pipelines-block-diagram"></a><p class="title"><strong>Figure 9.1. Block diagram of the Vulkan pipeline</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/pipeline.svg" align="middle" width="800" alt="images/pipeline.svg" /></div></div></div><br class="figure-break" /><p>Each pipeline is controlled by a monolithic object created from a
description of all of the shader stages and any relevant fixed-function
stages.
<a class="link" href="#interfaces" title="Chapter 14. Shader Interfaces">Linking</a> the whole pipeline together allows the optimization
of shaders based on their input/outputs and eliminates expensive draw time
state validation.</p><p>A pipeline object is bound to the device state in command buffers.
Any pipeline object state that is marked as dynamic is not applied to the
device state when the pipeline is bound.
Dynamic state not set by binding the pipeline object <span class="normative">can</span> be modified at any
time and persists for the lifetime of the command buffer, or until modified
by another dynamic state command or another pipeline bind.
No state, including dynamic state, is inherited from one command buffer to
another.
Only dynamic state that is <span class="normative">required</span> for the operations performed in the
command buffer needs to be set.
For example, if blending is disabled by the pipeline state then the dynamic
color blend constants do not need to be specified in the command buffer,
even if this state is marked as dynamic in the pipeline state object.
If a new pipeline object is bound with state not marked as dynamic after a
previous pipeline object with that same state as dynamic, the new pipeline
object state will override the dynamic state.
Modifying dynamic state that is not set as dynamic by the pipeline state
object will lead to undefined results.</p><p>Compute and graphics pipelines are each represented by <code class="code">VkPipeline</code>
handles:</p><p><a id="VkPipeline"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkPipeline)</pre><p>
</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pipelines-compute"></a>9.1. Compute Pipelines</h2></div></div></div><p>Compute pipelines consist of a single static compute shader stage and the
pipeline layout.</p><p>The compute pipeline represents a compute shader and is created by calling
<span class="strong"><strong><code class="code">vkCreateComputePipelines</code></strong></span> with <em class="parameter"><code>module</code></em> and <em class="parameter"><code>pName</code></em> selecting
an entry point from a shader module, where that entry point defines a valid
compute shader, in the <code class="code">VkPipelineShaderStageCreateInfo</code> structure
contained within the <code class="code">VkComputePipelineCreateInfo</code> structure.</p><p>To create compute pipelines, call:</p><p><a id="vkCreateComputePipelines"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateComputePipelines(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    uint32_t                                    createInfoCount,
    const VkComputePipelineCreateInfo*          pCreateInfos,
    const VkAllocationCallbacks*                pAllocator,
    VkPipeline*                                 pPipelines);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the compute pipelines.
</li><li class="listitem">
<em class="parameter"><code>pipelineCache</code></em> is either <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, indicating that
    pipeline caching is disabled; or the handle of a valid
    <a class="link" href="#pipelines-cache" title="9.6. Pipeline Cache">pipeline cache</a> object, in which case use of that
    cache is enabled for the duration of the command.
</li><li class="listitem">
<em class="parameter"><code>createInfoCount</code></em> is the length of the <em class="parameter"><code>pCreateInfos</code></em> and
    <em class="parameter"><code>pPipelines</code></em> arrays.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfos</code></em> is an array of <code class="code">VkComputePipelineCreateInfo</code>
    structures.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pPipelines</code></em> is a pointer to an array in which the resulting compute
    pipeline objects are returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pipelineCache</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>pipelineCache</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipelineCache</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfos</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>createInfoCount</code></em> valid <code class="code">VkComputePipelineCreateInfo</code> structures
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pPipelines</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>createInfoCount</code></em> <code class="code">VkPipeline</code> handles
</li><li class="listitem">
<em class="parameter"><code>createInfoCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>pipelineCache</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
If the <em class="parameter"><code>flags</code></em> member of any given element of <em class="parameter"><code>pCreateInfos</code></em> contains the <code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and the <em class="parameter"><code>basePipelineIndex</code></em> member of that same element is not <code class="literal">-1</code>, <em class="parameter"><code>basePipelineIndex</code></em> <span class="normative">must</span> be less than the index into <em class="parameter"><code>pCreateInfos</code></em> that corresponds to that element
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkComputePipelineCreateInfo</code> structure is defined as:</p><p><a id="VkComputePipelineCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkComputePipelineCreateInfo {
    VkStructureType                    sType;
    const void*                        pNext;
    VkPipelineCreateFlags              flags;
    VkPipelineShaderStageCreateInfo    stage;
    VkPipelineLayout                   layout;
    VkPipeline                         basePipelineHandle;
    int32_t                            basePipelineIndex;
} VkComputePipelineCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> provides options for pipeline creation, and is of type
    <code class="code"><a class="link" href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a></code>.
</li><li class="listitem">
<em class="parameter"><code>stage</code></em> is a <code class="code"><a class="link" href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a></code> describing the
    compute shader.
</li><li class="listitem">
<em class="parameter"><code>layout</code></em> is the description of binding locations used by both the
    pipeline and descriptor sets used with the pipeline.
</li><li class="listitem">
<em class="parameter"><code>basePipelineHandle</code></em> is a pipeline to derive from
</li><li class="listitem">
<em class="parameter"><code>basePipelineIndex</code></em> is an index into the <em class="parameter"><code>pCreateInfos</code></em>
    parameter to use as a pipeline to derive from
</li></ul></div><p>The parameters <em class="parameter"><code>basePipelineHandle</code></em> and <em class="parameter"><code>basePipelineIndex</code></em> are
described in more detail in <a class="link" href="#pipelines-pipeline-derivatives" title="9.5. Pipeline Derivatives">Pipeline Derivatives</a>.</p><p><em class="parameter"><code>stage</code></em> points to a structure of type
<code class="code">VkPipelineShaderStageCreateInfo</code>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_COMPUTE_PIPELINE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>stage</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipelineShaderStageCreateInfo</code> structure
</li><li class="listitem">
<em class="parameter"><code>layout</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipelineLayout</code> handle
</li><li class="listitem">
Both of <em class="parameter"><code>basePipelineHandle</code></em>, and <em class="parameter"><code>layout</code></em> that are valid handles <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains the <code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and <em class="parameter"><code>basePipelineIndex</code></em> is not <code class="literal">-1</code>, <em class="parameter"><code>basePipelineHandle</code></em> <span class="normative">must</span> be <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains the <code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and <em class="parameter"><code>basePipelineIndex</code></em> is not <code class="literal">-1</code>, it <span class="normative">must</span> be a valid index into the calling command’s <em class="parameter"><code>pCreateInfos</code></em> parameter
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains the <code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and <em class="parameter"><code>basePipelineHandle</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>basePipelineIndex</code></em> <span class="normative">must</span> be <code class="literal">-1</code>
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains the <code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and <em class="parameter"><code>basePipelineHandle</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>basePipelineHandle</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipeline</code> handle
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains the <code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and <em class="parameter"><code>basePipelineHandle</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, it <span class="normative">must</span> be a valid handle to a compute <code class="code">VkPipeline</code>
</li><li class="listitem">
The <em class="parameter"><code>stage</code></em> member of <em class="parameter"><code>stage</code></em> <span class="normative">must</span> be <code class="code">VK_SHADER_STAGE_COMPUTE_BIT</code>
</li><li class="listitem">
The shader code for the entry point identified by <em class="parameter"><code>stage</code></em> and the rest of the state identified by this structure <span class="normative">must</span> adhere to the pipeline linking rules described in the <a class="link" href="#interfaces" title="Chapter 14. Shader Interfaces">Shader Interfaces</a> chapter
</li><li class="listitem">
<em class="parameter"><code>layout</code></em> <span class="normative">must</span> be <a class="link" href="#descriptorsets-pipelinelayout-consistency">consistent</a> with all shaders specified in <em class="parameter"><code>pStages</code></em>
</li></ul></div></div><p>The <code class="code">VkPipelineShaderStageCreateInfo</code> structure is defined as:</p><p><a id="VkPipelineShaderStageCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPipelineShaderStageCreateInfo {
    VkStructureType                     sType;
    const void*                         pNext;
    VkPipelineShaderStageCreateFlags    flags;
    VkShaderStageFlagBits               stage;
    VkShaderModule                      module;
    const char*                         pName;
    const VkSpecializationInfo*         pSpecializationInfo;
} VkPipelineShaderStageCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>stage</code></em> names a single pipeline stage.
    Bits which <span class="normative">can</span> be set include:
</p><p><a id="VkShaderStageFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkShaderStageFlagBits {
    VK_SHADER_STAGE_VERTEX_BIT = 0x00000001,
    VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT = 0x00000002,
    VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT = 0x00000004,
    VK_SHADER_STAGE_GEOMETRY_BIT = 0x00000008,
    VK_SHADER_STAGE_FRAGMENT_BIT = 0x00000010,
    VK_SHADER_STAGE_COMPUTE_BIT = 0x00000020,
    VK_SHADER_STAGE_ALL_GRAPHICS = 0x0000001F,
    VK_SHADER_STAGE_ALL = 0x7FFFFFFF,
} VkShaderStageFlagBits;</pre><p>
</p></li><li class="listitem">
<em class="parameter"><code>module</code></em> is a <code class="code">VkShaderModule</code> object that contains the shader
    for this stage.
</li><li class="listitem">
<em class="parameter"><code>pName</code></em> is a pointer to a null-terminated UTF-8 string specifying
    the entry point name of the shader for this stage.
</li><li class="listitem">
<em class="parameter"><code>pSpecializationInfo</code></em> is a pointer to <code class="code"><a class="link" href="#VkSpecializationInfo">VkSpecializationInfo</a></code>, as
    described in <a class="link" href="#pipelines-specialization-constants" title="9.7. Specialization Constants">Specialization     Constants</a>, and <span class="normative">can</span> be <code class="literal">NULL</code>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>stage</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> value
</li><li class="listitem">
<em class="parameter"><code>module</code></em> <span class="normative">must</span> be a valid <code class="code">VkShaderModule</code> handle
</li><li class="listitem">
<em class="parameter"><code>pName</code></em> <span class="normative">must</span> be a null-terminated string
</li><li class="listitem">
If <em class="parameter"><code>pSpecializationInfo</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pSpecializationInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkSpecializationInfo</code> structure
</li><li class="listitem">
If the <a class="link" href="#features-features-geometryShader">geometry shaders</a> feature is not enabled, <em class="parameter"><code>stage</code></em> <span class="normative">must</span> not be <code class="code">VK_SHADER_STAGE_GEOMETRY_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-tessellationShader">tessellation shaders</a> feature is not enabled, <em class="parameter"><code>stage</code></em> <span class="normative">must</span> not be <code class="code">VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or <code class="code">VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>stage</code></em> <span class="normative">must</span> not be <code class="code">VK_SHADER_STAGE_ALL_GRAPHICS</code>, or <code class="code">VK_SHADER_STAGE_ALL</code>
</li><li class="listitem">
<em class="parameter"><code>pName</code></em> <span class="normative">must</span> be the name of an <span class="strong"><strong><code class="code">OpEntryPoint</code></strong></span> in <em class="parameter"><code>module</code></em> with an execution model that matches <em class="parameter"><code>stage</code></em>
</li><li class="listitem">
If the identified entry point includes any variable in its interface that is declared with the <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> <span class="strong"><strong><code class="code">BuiltIn</code></strong></span> decoration, that variable <span class="normative">must</span> not have an array size greater than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxClipDistances</code></em>
</li><li class="listitem">
If the identified entry point includes any variable in its interface that is declared with the <span class="strong"><strong><code class="code">CullDistance</code></strong></span> <span class="strong"><strong><code class="code">BuiltIn</code></strong></span> decoration, that variable <span class="normative">must</span> not have an array size greater than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxCullDistances</code></em>
</li><li class="listitem">
If the identified entry point includes any variables in its interface that are declared with the <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> or <span class="strong"><strong><code class="code">CullDistance</code></strong></span> <span class="strong"><strong><code class="code">BuiltIn</code></strong></span> decoration, those variables <span class="normative">must</span> not have array sizes which sum to more than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxCombinedClipAndCullDistances</code></em>
</li><li class="listitem">
If the identified entry point includes any variable in its interface that is declared with the <span class="strong"><strong><code class="code">SampleMask</code></strong></span> <span class="strong"><strong><code class="code">BuiltIn</code></strong></span> decoration, that variable <span class="normative">must</span> not have an array size greater than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxSampleMaskWords</code></em>
</li><li class="listitem">
If <em class="parameter"><code>stage</code></em> is <code class="code">VK_SHADER_STAGE_VERTEX_BIT</code>, the identified entry point <span class="normative">must</span> not include any input variable in its interface that is decorated with <span class="strong"><strong><code class="code">CullDistance</code></strong></span>
</li><li class="listitem">
If <em class="parameter"><code>stage</code></em> is <code class="code">VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or <code class="code">VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, and the identified entry point has an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction that specifies a patch size with <span class="strong"><strong><code class="code">OutputVertices</code></strong></span>, the patch size <span class="normative">must</span> be greater than <code class="literal">0</code> and less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxTessellationPatchSize</code></em>
</li><li class="listitem">
If <em class="parameter"><code>stage</code></em> is <code class="code">VK_SHADER_STAGE_GEOMETRY_BIT</code>, the identified entry point <span class="normative">must</span> have an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction that specifies a maximum output vertex count that is greater than <code class="literal">0</code> and less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxGeometryOutputVertices</code></em>
</li><li class="listitem">
If <em class="parameter"><code>stage</code></em> is <code class="code">VK_SHADER_STAGE_GEOMETRY_BIT</code>, the identified entry point <span class="normative">must</span> have an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction that specifies an invocation count that is greater than <code class="literal">0</code> and less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxGeometryShaderInvocations</code></em>
</li><li class="listitem">
If <em class="parameter"><code>stage</code></em> is <code class="code">VK_SHADER_STAGE_GEOMETRY_BIT</code>, and the identified entry point writes to <span class="strong"><strong><code class="code">Layer</code></strong></span> for any primitive, it <span class="normative">must</span> write the same value to <span class="strong"><strong><code class="code">Layer</code></strong></span> for all vertices of a given primitive
</li><li class="listitem">
If <em class="parameter"><code>stage</code></em> is <code class="code">VK_SHADER_STAGE_GEOMETRY_BIT</code>, and the identified entry point writes to <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span> for any primitive, it <span class="normative">must</span> write the same value to <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span> for all vertices of a given primitive
</li><li class="listitem">
If <em class="parameter"><code>stage</code></em> is <code class="code">VK_SHADER_STAGE_FRAGMENT_BIT</code>, the identified entry point <span class="normative">must</span> not include any output variables in its interface decorated with <span class="strong"><strong><code class="code">CullDistance</code></strong></span>
</li><li class="listitem">
If <em class="parameter"><code>stage</code></em> is <code class="code">VK_SHADER_STAGE_FRAGMENT_BIT</code>, and the identified entry point writes to <span class="strong"><strong><code class="code">FragDepth</code></strong></span> in any execution path, it <span class="normative">must</span> write to <span class="strong"><strong><code class="code">FragDepth</code></strong></span> in all execution paths
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pipelines-graphics"></a>9.2. Graphics Pipelines</h2></div></div></div><p>Graphics pipelines consist of multiple shader stages, multiple
fixed-function pipeline stages, and a pipeline layout.</p><p>To create graphics pipelines, call:</p><p><a id="vkCreateGraphicsPipelines"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateGraphicsPipelines(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    uint32_t                                    createInfoCount,
    const VkGraphicsPipelineCreateInfo*         pCreateInfos,
    const VkAllocationCallbacks*                pAllocator,
    VkPipeline*                                 pPipelines);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the graphics pipelines.
</li><li class="listitem">
<em class="parameter"><code>pipelineCache</code></em> is either <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, indicating that
    pipeline caching is disabled; or the handle of a valid
    <a class="link" href="#pipelines-cache" title="9.6. Pipeline Cache">pipeline cache</a> object, in which case use of that
    cache is enabled for the duration of the command.
</li><li class="listitem">
<em class="parameter"><code>createInfoCount</code></em> is the length of the <em class="parameter"><code>pCreateInfos</code></em> and
    <em class="parameter"><code>pPipelines</code></em> arrays.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfos</code></em> is an array of <code class="code">VkGraphicsPipelineCreateInfo</code>
    structures.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pPipelines</code></em> is a pointer to an array in which the resulting
    graphics pipeline objects are returned.
</li></ul></div><p>The <code class="code"><a class="link" href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a></code> structure includes an array of shader
create info structures containing all the desired active shader stages, as
well as creation info to define all relevant fixed-function stages, and a
pipeline layout.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pipelineCache</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>pipelineCache</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipelineCache</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfos</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>createInfoCount</code></em> valid <code class="code">VkGraphicsPipelineCreateInfo</code> structures
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pPipelines</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>createInfoCount</code></em> <code class="code">VkPipeline</code> handles
</li><li class="listitem">
<em class="parameter"><code>createInfoCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>pipelineCache</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
If the <em class="parameter"><code>flags</code></em> member of any given element of <em class="parameter"><code>pCreateInfos</code></em> contains the <code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and the <em class="parameter"><code>basePipelineIndex</code></em> member of that same element is not <code class="literal">-1</code>, <em class="parameter"><code>basePipelineIndex</code></em> <span class="normative">must</span> be less than the index into <em class="parameter"><code>pCreateInfos</code></em> that corresponds to that element
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkGraphicsPipelineCreateInfo</code> structure is defined as:</p><p><a id="VkGraphicsPipelineCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkGraphicsPipelineCreateInfo {
    VkStructureType                                  sType;
    const void*                                      pNext;
    VkPipelineCreateFlags                            flags;
    uint32_t                                         stageCount;
    const VkPipelineShaderStageCreateInfo*           pStages;
    const VkPipelineVertexInputStateCreateInfo*      pVertexInputState;
    const VkPipelineInputAssemblyStateCreateInfo*    pInputAssemblyState;
    const VkPipelineTessellationStateCreateInfo*     pTessellationState;
    const VkPipelineViewportStateCreateInfo*         pViewportState;
    const VkPipelineRasterizationStateCreateInfo*    pRasterizationState;
    const VkPipelineMultisampleStateCreateInfo*      pMultisampleState;
    const VkPipelineDepthStencilStateCreateInfo*     pDepthStencilState;
    const VkPipelineColorBlendStateCreateInfo*       pColorBlendState;
    const VkPipelineDynamicStateCreateInfo*          pDynamicState;
    VkPipelineLayout                                 layout;
    VkRenderPass                                     renderPass;
    uint32_t                                         subpass;
    VkPipeline                                       basePipelineHandle;
    int32_t                                          basePipelineIndex;
} VkGraphicsPipelineCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is a bitmask of <code class="code"><a class="link" href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a></code> controlling
    how the pipeline will be generated, as described below.
</li><li class="listitem">
<em class="parameter"><code>stageCount</code></em> is the number of entries in the <em class="parameter"><code>pStages</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pStages</code></em> is an array of size <em class="parameter"><code>stageCount</code></em> structures of type
    <code class="code"><a class="link" href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a></code> describing the set of the shader
    stages to be included in the graphics pipeline.
</li><li class="listitem">
<em class="parameter"><code>pVertexInputState</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a></code> structure.
</li><li class="listitem">
<em class="parameter"><code>pInputAssemblyState</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a></code> structure which determines
    input assembly behavior, as described in <a class="link" href="#drawing" title="Chapter 19. Drawing Commands">Drawing Commands</a>.
</li><li class="listitem">
<em class="parameter"><code>pTessellationState</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a></code> structure, or <code class="literal">NULL</code> if the
    pipeline does not include a tessellation control shader stage and
    tessellation evaluation shader stage.
</li><li class="listitem">
<em class="parameter"><code>pViewportState</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></code> structure, or <code class="literal">NULL</code> if the
    pipeline has rasterization disabled.
</li><li class="listitem">
<em class="parameter"><code>pRasterizationState</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code> structure.
</li><li class="listitem">
<em class="parameter"><code>pMultisampleState</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>, or <code class="literal">NULL</code> if the pipeline
    has rasterization disabled.
</li><li class="listitem">
<em class="parameter"><code>pDepthStencilState</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code> structure, or <code class="literal">NULL</code> if the
    pipeline has rasterization disabled or if the subpass of the render pass
    the pipeline is created against does not use a depth/stencil attachment.
</li><li class="listitem">
<em class="parameter"><code>pColorBlendState</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a></code> structure, or <code class="literal">NULL</code> if the
    pipeline has rasterization disabled or if the subpass of the render pass
    the pipeline is created against does not use any color attachments.
</li><li class="listitem">
<em class="parameter"><code>pDynamicState</code></em> is a pointer to
    <code class="code"><a class="link" href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a></code> and is used to indicate which
    properties of the pipeline state object are dynamic and <span class="normative">can</span> be changed
    independently of the pipeline state.
    This <span class="normative">can</span> be <code class="literal">NULL</code>, which means no state in the pipeline is considered
    dynamic.
</li><li class="listitem">
<em class="parameter"><code>layout</code></em> is the description of binding locations used by both the
    pipeline and descriptor sets used with the pipeline.
</li><li class="listitem">
<em class="parameter"><code>renderPass</code></em> is a handle to a render pass object describing the
    environment in which the pipeline will be used; the pipeline <span class="normative">can</span> be
    used with an instance of any render pass compatible with the one
    provided.
    See <a class="link" href="#renderpass-compatibility" title="7.2. Render Pass Compatibility">Render Pass Compatibility</a> for more
    information.
</li><li class="listitem">
<em class="parameter"><code>subpass</code></em> is the index of the subpass in <em class="parameter"><code>renderPass</code></em> where this
    pipeline will be used.
</li><li class="listitem">
<em class="parameter"><code>basePipelineHandle</code></em> is a pipeline to derive from.
</li><li class="listitem">
<em class="parameter"><code>basePipelineIndex</code></em> is an index into the <em class="parameter"><code>pCreateInfos</code></em>
    parameter to use as a pipeline to derive from.
</li></ul></div><p>The parameters <em class="parameter"><code>basePipelineHandle</code></em> and <em class="parameter"><code>basePipelineIndex</code></em> are
described in more detail in <a class="link" href="#pipelines-pipeline-derivatives" title="9.5. Pipeline Derivatives">Pipeline Derivatives</a>.</p><p><em class="parameter"><code>pStages</code></em> points to an array of <code class="code"><a class="link" href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a></code>
structures, which were previously described in <a class="link" href="#pipelines-compute" title="9.1. Compute Pipelines">Compute Pipelines</a>.</p><p>Bits which <span class="normative">can</span> be set in <em class="parameter"><code>flags</code></em> are:</p><p><a id="VkPipelineCreateFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkPipelineCreateFlagBits {
    VK_PIPELINE_CREATE_DISABLE_OPTIMIZATION_BIT = 0x00000001,
    VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT = 0x00000002,
    VK_PIPELINE_CREATE_DERIVATIVE_BIT = 0x00000004,
} VkPipelineCreateFlagBits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_PIPELINE_CREATE_DISABLE_OPTIMIZATION_BIT</code> specifies that the
    created pipeline will not be optimized.
    Using this flag <span class="normative">may</span> reduce the time taken to create the pipeline.
</li><li class="listitem">
<code class="code">VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> specifies that the
    pipeline to be created is allowed to be the parent of a pipeline that
    will be created in a subsequent call to <code class="code"><a class="link" href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a></code>.
</li><li class="listitem">
<code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> specifies that the pipeline to
    be created will be a child of a previously created parent pipeline.
</li></ul></div><p>It is valid to set both <code class="code">VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> and
<code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>.
This allows a pipeline to be both a parent and possibly a child in a
pipeline hierarchy.
See <a class="link" href="#pipelines-pipeline-derivatives" title="9.5. Pipeline Derivatives">Pipeline Derivatives</a> for more
information.</p><p><em class="parameter"><code>pDynamicState</code></em> points to a structure of type
<code class="code">VkPipelineDynamicStateCreateInfo</code>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>pStages</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>stageCount</code></em> valid <code class="code">VkPipelineShaderStageCreateInfo</code> structures
</li><li class="listitem">
<em class="parameter"><code>pVertexInputState</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkPipelineVertexInputStateCreateInfo</code> structure
</li><li class="listitem">
<em class="parameter"><code>pInputAssemblyState</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkPipelineInputAssemblyStateCreateInfo</code> structure
</li><li class="listitem">
<em class="parameter"><code>pRasterizationState</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkPipelineRasterizationStateCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pDynamicState</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pDynamicState</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkPipelineDynamicStateCreateInfo</code> structure
</li><li class="listitem">
<em class="parameter"><code>layout</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipelineLayout</code> handle
</li><li class="listitem">
<em class="parameter"><code>renderPass</code></em> <span class="normative">must</span> be a valid <code class="code">VkRenderPass</code> handle
</li><li class="listitem">
<em class="parameter"><code>stageCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Each of <em class="parameter"><code>basePipelineHandle</code></em>, <em class="parameter"><code>layout</code></em>, and <em class="parameter"><code>renderPass</code></em> that are valid handles <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains the <code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and <em class="parameter"><code>basePipelineIndex</code></em> is not <code class="literal">-1</code>, <em class="parameter"><code>basePipelineHandle</code></em> <span class="normative">must</span> be <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains the <code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and <em class="parameter"><code>basePipelineIndex</code></em> is not <code class="literal">-1</code>, it <span class="normative">must</span> be a valid index into the calling command’s <em class="parameter"><code>pCreateInfos</code></em> parameter
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains the <code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and <em class="parameter"><code>basePipelineHandle</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>basePipelineIndex</code></em> <span class="normative">must</span> be <code class="literal">-1</code>
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains the <code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and <em class="parameter"><code>basePipelineHandle</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>basePipelineHandle</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipeline</code> handle
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains the <code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and <em class="parameter"><code>basePipelineHandle</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, it <span class="normative">must</span> be a valid handle to a graphics <code class="code">VkPipeline</code>
</li><li class="listitem">
The <em class="parameter"><code>stage</code></em> member of each element of <em class="parameter"><code>pStages</code></em> <span class="normative">must</span> be unique
</li><li class="listitem">
The <em class="parameter"><code>stage</code></em> member of one element of <em class="parameter"><code>pStages</code></em> <span class="normative">must</span> be <code class="code">VK_SHADER_STAGE_VERTEX_BIT</code>
</li><li class="listitem">
The <em class="parameter"><code>stage</code></em> member of any given element of <em class="parameter"><code>pStages</code></em> <span class="normative">must</span> not be <code class="code">VK_SHADER_STAGE_COMPUTE_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>pStages</code></em> includes a tessellation control shader stage, it <span class="normative">must</span> include a tessellation evaluation shader stage
</li><li class="listitem">
If <em class="parameter"><code>pStages</code></em> includes a tessellation evaluation shader stage, it <span class="normative">must</span> include a tessellation control shader stage
</li><li class="listitem">
If <em class="parameter"><code>pStages</code></em> includes a tessellation control shader stage and a tessellation evaluation shader stage, <em class="parameter"><code>pTessellationState</code></em> <span class="normative">must</span> not be <code class="literal">NULL</code>
</li><li class="listitem">
If <em class="parameter"><code>pStages</code></em> includes tessellation shader stages, the shader code of at least one stage <span class="normative">must</span> contain an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction that specifies the type of subdivision in the pipeline
</li><li class="listitem">
If <em class="parameter"><code>pStages</code></em> includes tessellation shader stages, and the shader code of both stages contain an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction that specifies the type of subdivision in the pipeline, they <span class="normative">must</span> both specify the same subdivision mode
</li><li class="listitem">
If <em class="parameter"><code>pStages</code></em> includes tessellation shader stages, the shader code of at least one stage <span class="normative">must</span> contain an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction that specifies the output patch size in the pipeline
</li><li class="listitem">
If <em class="parameter"><code>pStages</code></em> includes tessellation shader stages, and the shader code of both contain an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction that specifies the out patch size in the pipeline, they <span class="normative">must</span> both specify the same patch size
</li><li class="listitem">
If <em class="parameter"><code>pStages</code></em> includes tessellation shader stages, the <em class="parameter"><code>topology</code></em> member of <em class="parameter"><code>pInputAssembly</code></em> <span class="normative">must</span> be <code class="code">VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>
</li><li class="listitem">
If the <em class="parameter"><code>topology</code></em> member of <em class="parameter"><code>pInputAssembly</code></em> is <code class="code">VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>, <em class="parameter"><code>pStages</code></em> <span class="normative">must</span> include tessellation shader stages
</li><li class="listitem">
If <em class="parameter"><code>pStages</code></em> includes a geometry shader stage, and does not include any tessellation shader stages, its shader code <span class="normative">must</span> contain an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction that specifies an input primitive type that is <a class="link" href="#shaders-geometry-execution" title="8.8.1. Geometry Shader Execution">compatible</a> with the primitive topology specified in <em class="parameter"><code>pInputAssembly</code></em>
</li><li class="listitem">
If <em class="parameter"><code>pStages</code></em> includes a geometry shader stage, and also includes tessellation shader stages, its shader code <span class="normative">must</span> contain an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction that specifies an input primitive type that is <a class="link" href="#shaders-geometry-execution" title="8.8.1. Geometry Shader Execution">compatible</a> with the primitive topology that is output by the tessellation stages
</li><li class="listitem">
If <em class="parameter"><code>pStages</code></em> includes a fragment shader stage and a geometry shader stage, and the fragment shader code reads from an input variable that is decorated with <span class="strong"><strong><code class="code">PrimitiveID</code></strong></span>, then the geometry shader code <span class="normative">must</span> write to a matching output variable, decorated with <span class="strong"><strong><code class="code">PrimitiveID</code></strong></span>, in all execution paths
</li><li class="listitem">
If <em class="parameter"><code>pStages</code></em> includes a fragment shader stage, its shader code <span class="normative">must</span> not read from any input attachment that is defined as <code class="code">VK_ATTACHMENT_UNUSED</code> in <em class="parameter"><code>subpass</code></em>
</li><li class="listitem">
The shader code for the entry points identified by <em class="parameter"><code>pStages</code></em>, and the rest of the state identified by this structure <span class="normative">must</span> adhere to the pipeline linking rules described in the <a class="link" href="#interfaces" title="Chapter 14. Shader Interfaces">Shader Interfaces</a> chapter
</li><li class="listitem">
If <em class="parameter"><code>subpass</code></em> uses a depth/stencil attachment in <em class="parameter"><code>renderpass</code></em> that has a layout of <code class="code">VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> in the <code class="code">VkAttachmentReference</code> defined by <em class="parameter"><code>subpass</code></em>, and <em class="parameter"><code>pDepthStencilState</code></em> is not <code class="literal">NULL</code>, the <em class="parameter"><code>depthWriteEnable</code></em> member of <em class="parameter"><code>pDepthStencilState</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>
</li><li class="listitem">
If <em class="parameter"><code>subpass</code></em> uses a depth/stencil attachment in <em class="parameter"><code>renderpass</code></em> that has a layout of <code class="code">VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> in the <code class="code">VkAttachmentReference</code> defined by <em class="parameter"><code>subpass</code></em>, and <em class="parameter"><code>pDepthStencilState</code></em> is not <code class="literal">NULL</code>, the <em class="parameter"><code>failOp</code></em>, <em class="parameter"><code>passOp</code></em> and <em class="parameter"><code>depthFailOp</code></em> members of each of the <em class="parameter"><code>front</code></em> and <em class="parameter"><code>back</code></em> members of <em class="parameter"><code>pDepthStencilState</code></em> <span class="normative">must</span> be <code class="code">VK_STENCIL_OP_KEEP</code>
</li><li class="listitem">
If <em class="parameter"><code>pColorBlendState</code></em> is not <code class="literal">NULL</code>, the <em class="parameter"><code>blendEnable</code></em> member of each element of the <em class="parameter"><code>pAttachment</code></em> member of <em class="parameter"><code>pColorBlendState</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code> if the <em class="parameter"><code>format</code></em> of the attachment referred to in <em class="parameter"><code>subpass</code></em> of <em class="parameter"><code>renderPass</code></em> does not support color blend operations, as specified by the <code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> or <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li><li class="listitem">
If <em class="parameter"><code>pColorBlendState</code></em> is not <code class="literal">NULL</code>, The <em class="parameter"><code>attachmentCount</code></em> member of <em class="parameter"><code>pColorBlendState</code></em> <span class="normative">must</span> be equal to the <em class="parameter"><code>colorAttachmentCount</code></em> used to create <em class="parameter"><code>subpass</code></em>
</li><li class="listitem">
If no element of the <em class="parameter"><code>pDynamicStates</code></em> member of <em class="parameter"><code>pDynamicState</code></em> is <code class="code">VK_DYNAMIC_STATE_VIEWPORT</code>, the <em class="parameter"><code>pViewports</code></em> member of <em class="parameter"><code>pViewportState</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pViewportState</code></em>::<em class="parameter"><code>viewportCount</code></em> <code class="code">VkViewport</code> structures
</li><li class="listitem">
If no element of the <em class="parameter"><code>pDynamicStates</code></em> member of <em class="parameter"><code>pDynamicState</code></em> is <code class="code">VK_DYNAMIC_STATE_SCISSOR</code>, the <em class="parameter"><code>pScissors</code></em> member of <em class="parameter"><code>pViewportState</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pViewportState</code></em>::<em class="parameter"><code>scissorCount</code></em> <code class="code">VkRect2D</code> structures
</li><li class="listitem">
If the wide lines feature is not enabled, and no element of the <em class="parameter"><code>pDynamicStates</code></em> member of <em class="parameter"><code>pDynamicState</code></em> is <code class="code">VK_DYNAMIC_STATE_LINE_WIDTH</code>, the <em class="parameter"><code>lineWidth</code></em> member of <em class="parameter"><code>pRasterizationState</code></em> <span class="normative">must</span> be <code class="literal">1.0</code>
</li><li class="listitem">
If the <em class="parameter"><code>rasterizerDiscardEnable</code></em> member of <em class="parameter"><code>pRasterizationState</code></em> is <code class="code">VK_FALSE</code>, <em class="parameter"><code>pViewportState</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkPipelineViewportStateCreateInfo</code> structure
</li><li class="listitem">
If the <em class="parameter"><code>rasterizerDiscardEnable</code></em> member of <em class="parameter"><code>pRasterizationState</code></em> is <code class="code">VK_FALSE</code>, <em class="parameter"><code>pMultisampleState</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkPipelineMultisampleStateCreateInfo</code> structure
</li><li class="listitem">
If the <em class="parameter"><code>rasterizerDiscardEnable</code></em> member of <em class="parameter"><code>pRasterizationState</code></em> is <code class="code">VK_FALSE</code>, and <em class="parameter"><code>subpass</code></em> uses a depth/stencil attachment, <em class="parameter"><code>pDepthStencilState</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkPipelineDepthStencilStateCreateInfo</code> structure
</li><li class="listitem">
If the <em class="parameter"><code>rasterizerDiscardEnable</code></em> member of <em class="parameter"><code>pRasterizationState</code></em> is <code class="code">VK_FALSE</code>, and <em class="parameter"><code>subpass</code></em> uses color attachments, <em class="parameter"><code>pColorBlendState</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkPipelineColorBlendStateCreateInfo</code> structure
</li><li class="listitem">
If the depth bias clamping feature is not enabled, no element of the <em class="parameter"><code>pDynamicStates</code></em> member of <em class="parameter"><code>pDynamicState</code></em> is <code class="code">VK_DYNAMIC_STATE_DEPTH_BIAS</code>, and the <em class="parameter"><code>depthBiasEnable</code></em> member of <em class="parameter"><code>pDepthStencil</code></em> is <code class="code">VK_TRUE</code>, the <em class="parameter"><code>depthBiasClamp</code></em> member of <em class="parameter"><code>pDepthStencil</code></em> <span class="normative">must</span> be <code class="literal">0.0</code>
</li><li class="listitem">
If no element of the <em class="parameter"><code>pDynamicStates</code></em> member of <em class="parameter"><code>pDynamicState</code></em> is <code class="code">VK_DYNAMIC_STATE_DEPTH_BOUNDS</code>, and the <em class="parameter"><code>depthBoundsTestEnable</code></em> member of <em class="parameter"><code>pDepthStencil</code></em> is <code class="code">VK_TRUE</code>, the <em class="parameter"><code>minDepthBounds</code></em> and <em class="parameter"><code>maxDepthBounds</code></em> members of <em class="parameter"><code>pDepthStencil</code></em> <span class="normative">must</span> be between <code class="literal">0.0</code> and <code class="literal">1.0</code>, inclusive
</li><li class="listitem">
<em class="parameter"><code>layout</code></em> <span class="normative">must</span> be <a class="link" href="#descriptorsets-pipelinelayout-consistency">consistent</a> with all shaders specified in <em class="parameter"><code>pStages</code></em>
</li><li class="listitem">
If <em class="parameter"><code>subpass</code></em> uses color and/or depth/stencil attachments, then the <em class="parameter"><code>rasterizationSamples</code></em> member of <em class="parameter"><code>pMultisampleState</code></em> <span class="normative">must</span> be the same as the sample count for those subpass attachments
</li><li class="listitem">
If <em class="parameter"><code>subpass</code></em> does not use any color and/or depth/stencil attachments, then the <em class="parameter"><code>rasterizationSamples</code></em> member of <em class="parameter"><code>pMultisampleState</code></em> <span class="normative">must</span> follow the rules for a <a class="link" href="#renderpass-noattachments">zero-attachment subpass</a>
</li><li class="listitem">
<em class="parameter"><code>subpass</code></em> <span class="normative">must</span> be a valid subpass within <em class="parameter"><code>renderpass</code></em>
</li></ul></div></div><p>The <code class="code">VkPipelineDynamicStateCreateInfo</code> structure is defined as:</p><p><a id="VkPipelineDynamicStateCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPipelineDynamicStateCreateInfo {
    VkStructureType                      sType;
    const void*                          pNext;
    VkPipelineDynamicStateCreateFlags    flags;
    uint32_t                             dynamicStateCount;
    const VkDynamicState*                pDynamicStates;
} VkPipelineDynamicStateCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>dynamicStateCount</code></em> is the number of elements in the
    <em class="parameter"><code>pDynamicStates</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pDynamicStates</code></em> is an array of <code class="code"><a class="link" href="#VkDynamicState">VkDynamicState</a></code> enums which
    indicate which pieces of pipeline state will use the values from dynamic
    state commands rather than from the pipeline state creation info.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>pDynamicStates</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>dynamicStateCount</code></em> valid <code class="code"><a class="link" href="#VkDynamicState">VkDynamicState</a></code> values
</li><li class="listitem">
<em class="parameter"><code>dynamicStateCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li></ul></div></div><p>The source of difference pieces of dynamic state is determined by the
<code class="code"><a class="link" href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a></code>::<em class="parameter"><code>pDynamicStates</code></em> property of the
currently active pipeline, which takes the following values:</p><p><a id="VkDynamicState"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkDynamicState {
    VK_DYNAMIC_STATE_VIEWPORT = 0,
    VK_DYNAMIC_STATE_SCISSOR = 1,
    VK_DYNAMIC_STATE_LINE_WIDTH = 2,
    VK_DYNAMIC_STATE_DEPTH_BIAS = 3,
    VK_DYNAMIC_STATE_BLEND_CONSTANTS = 4,
    VK_DYNAMIC_STATE_DEPTH_BOUNDS = 5,
    VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK = 6,
    VK_DYNAMIC_STATE_STENCIL_WRITE_MASK = 7,
    VK_DYNAMIC_STATE_STENCIL_REFERENCE = 8,
} VkDynamicState;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_DYNAMIC_STATE_VIEWPORT</code> indicates that the <em class="parameter"><code>pViewports</code></em>
    state in <code class="code">VkPipelineViewportStateCreateInfo</code> will be ignored and
    <span class="normative">must</span> be set dynamically with <code class="code"><a class="link" href="#vkCmdSetViewport">vkCmdSetViewport</a></code> before any draw
    commands.
    The number of viewports used by a pipeline is still specified by the
    <em class="parameter"><code>viewportCount</code></em> member of <code class="code">VkPipelineViewportStateCreateInfo</code>.
</li><li class="listitem">
<code class="code">VK_DYNAMIC_STATE_SCISSOR</code> indicates that the <em class="parameter"><code>pScissors</code></em> state
    in <code class="code">VkPipelineViewportStateCreateInfo</code> will be ignored and <span class="normative">must</span> be
    set dynamically with <code class="code"><a class="link" href="#vkCmdSetScissor">vkCmdSetScissor</a></code> before any draw commands.
    The number of scissor rectangles used by a pipeline is still specified
    by the <em class="parameter"><code>scissorCount</code></em> member of
    <code class="code">VkPipelineViewportStateCreateInfo</code>.
</li><li class="listitem">
<code class="code">VK_DYNAMIC_STATE_LINE_WIDTH</code> indicates that the <em class="parameter"><code>lineWidth</code></em>
    state in <code class="code">VkPipelineRasterizationStateCreateInfo</code> will be ignored
    and <span class="normative">must</span> be set dynamically with <code class="code"><a class="link" href="#vkCmdSetLineWidth">vkCmdSetLineWidth</a></code> before any
    draw commands that generate line primitives for the rasterizer.
</li><li class="listitem">
<code class="code">VK_DYNAMIC_STATE_DEPTH_BIAS</code> indicates that the
    <em class="parameter"><code>depthBiasConstantFactor</code></em>, <em class="parameter"><code>depthBiasClamp</code></em> and
    <em class="parameter"><code>depthBiasSlopeFactor</code></em> states in
    <code class="code">VkPipelineRasterizationStateCreateInfo</code> will be ignored and <span class="normative">must</span>
    be set dynamically with <code class="code"><a class="link" href="#vkCmdSetDepthBias">vkCmdSetDepthBias</a></code> before any draws are
    performed with <em class="parameter"><code>depthBiasEnable</code></em> in
    <code class="code">VkPipelineRasterizationStateCreateInfo</code> set to <code class="code">VK_TRUE</code>.
</li><li class="listitem">
<code class="code">VK_DYNAMIC_STATE_BLEND_CONSTANTS</code> indicates that the
    <em class="parameter"><code>blendConstants</code></em> state in <code class="code">VkPipelineColorBlendStateCreateInfo</code>
    will be ignored and <span class="normative">must</span> be set dynamically with
    <code class="code"><a class="link" href="#vkCmdSetBlendConstants">vkCmdSetBlendConstants</a></code> before any draws are performed with a
    pipeline state with <code class="code">VkPipelineColorBlendAttachmentState</code> member
    <em class="parameter"><code>blendEnable</code></em> set to <code class="code">VK_TRUE</code> and any of the blend functions
    using a constant blend color.
</li><li class="listitem">
<code class="code">VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> indicates that the
    <em class="parameter"><code>minDepthBounds</code></em> and <em class="parameter"><code>maxDepthBounds</code></em> states of
    <code class="code"><a class="link" href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code> will be ignored and <span class="normative">must</span> be
    set dynamically with <code class="code"><a class="link" href="#vkCmdSetDepthBounds">vkCmdSetDepthBounds</a></code> before any draws are
    performed with a pipeline state with
    <code class="code">VkPipelineDepthStencilStateCreateInfo</code> member
    <em class="parameter"><code>depthBoundsTestEnable</code></em> set to <code class="code">VK_TRUE</code>.
</li><li class="listitem">
<code class="code">VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code> indicates that the
    <em class="parameter"><code>compareMask</code></em> state in <code class="code">VkPipelineDepthStencilStateCreateInfo</code>
    for both <em class="parameter"><code>front</code></em> and <em class="parameter"><code>back</code></em> will be ignored and <span class="normative">must</span> be set
    dynamically with <code class="code"><a class="link" href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a></code> before any draws are
    performed with a pipeline state with
    <code class="code">VkPipelineDepthStencilStateCreateInfo</code> member
    <em class="parameter"><code>stencilTestEnable</code></em> set to <code class="code">VK_TRUE</code>
</li><li class="listitem">
<code class="code">VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> indicates that the
    <em class="parameter"><code>writeMask</code></em> state in <code class="code">VkPipelineDepthStencilStateCreateInfo</code> for
    both <em class="parameter"><code>front</code></em> and <em class="parameter"><code>back</code></em> will be ignored and <span class="normative">must</span> be set
    dynamically with <code class="code"><a class="link" href="#vkCmdSetStencilWriteMask">vkCmdSetStencilWriteMask</a></code> before any draws are
    performed with a pipeline state with
    <code class="code">VkPipelineDepthStencilStateCreateInfo</code> member
    <em class="parameter"><code>stencilTestEnable</code></em> set to <code class="code">VK_TRUE</code>
</li><li class="listitem">
<code class="code">VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> indicates that the
    <em class="parameter"><code>reference</code></em> state in <code class="code">VkPipelineDepthStencilStateCreateInfo</code> for
    both <em class="parameter"><code>front</code></em> and <em class="parameter"><code>back</code></em> will be ignored and <span class="normative">must</span> be set
    dynamically with <code class="code"><a class="link" href="#vkCmdSetStencilReference">vkCmdSetStencilReference</a></code> before any draws are
    performed with a pipeline state with
    <code class="code">VkPipelineDepthStencilStateCreateInfo</code> member
    <em class="parameter"><code>stencilTestEnable</code></em> set to <code class="code">VK_TRUE</code>
</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_valid_combinations_of_stages_for_graphics_pipelines"></a>9.2.1. Valid Combinations of Stages for Graphics Pipelines</h3></div></div></div><p>If tessellation shader stages are omitted, the tessellation shading and
fixed-function stages of the pipeline are skipped.</p><p>If a geometry shader is omitted, the geometry shading stage is skipped.</p><p>If a fragment shader is omitted, the results of fragment processing are
undefined.
Specifically, any fragment color outputs are considered to have undefined
values, and the fragment depth is considered to be unmodified.
This <span class="normative">can</span> be useful for depth-only rendering.</p><p>Presence of a shader stage in a pipeline is indicated by including a valid
<code class="code">VkPipelineShaderStageCreateInfo</code> with <em class="parameter"><code>module</code></em> and <em class="parameter"><code>pName</code></em>
selecting an entry point from a shader module, where that entry point is
valid for the stage specified by <em class="parameter"><code>stage</code></em>.</p><p>Presence of some of the fixed-function stages in the pipeline is implicitly
derived from enabled shaders and provided state.
For example, the fixed-function tessellator is always present when the
pipeline has valid Tessellation Control and Tessellation Evaluation shaders.</p><div class="itemizedlist"><p class="title"><strong>For example:</strong></p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Depth/stencil-only rendering in a subpass with no color attachments
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p class="simpara">
Active Pipeline Shader Stages
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem">
Vertex Shader
</li></ul></div></li><li class="listitem"><p class="simpara">
Required: Fixed-Function Pipeline Stages
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code>
</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
Color-only rendering in a subpass with no depth/stencil attachment
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p class="simpara">
Active Pipeline Shader Stages
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem">
Vertex Shader
</li><li class="listitem">
Fragment Shader
</li></ul></div></li><li class="listitem"><p class="simpara">
Required: Fixed-Function Pipeline Stages
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a></code>
</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
Rendering pipeline with tessellation and geometry shaders
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p class="simpara">
Active Pipeline Shader Stages
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem">
Vertex Shader
</li><li class="listitem">
Tessellation Control Shader
</li><li class="listitem">
Tessellation Evaluation Shader
</li><li class="listitem">
Geometry Shader
</li><li class="listitem">
Fragment Shader
</li></ul></div></li><li class="listitem"><p class="simpara">
Required: Fixed-Function Pipeline Stages
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a></code>
</li></ul></div></li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pipelines-destruction"></a>9.3. Pipeline destruction</h2></div></div></div><p>To destroy a graphics or compute pipeline, call:</p><p><a id="vkDestroyPipeline"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyPipeline(
    VkDevice                                    device,
    VkPipeline                                  pipeline,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the pipeline.
</li><li class="listitem">
<em class="parameter"><code>pipeline</code></em> is the handle of the pipeline to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pipeline</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>pipeline</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipeline</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pipeline</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All submitted commands that refer to <em class="parameter"><code>pipeline</code></em> <span class="normative">must</span> have completed execution
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>pipeline</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>pipeline</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>pipeline</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pipelines-multiple"></a>9.4. Multiple Pipeline Creation</h2></div></div></div><p>Multiple pipelines <span class="normative">can</span> be created simultaneously by passing an array of
<code class="code">VkGraphicsPipelineCreateInfo</code> or <code class="code">VkComputePipelineCreateInfo</code>
structures into the <code class="code"><a class="link" href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a></code> and
<code class="code"><a class="link" href="#vkCreateComputePipelines">vkCreateComputePipelines</a></code> commands, respectively.
Applications <span class="normative">can</span> group together similar pipelines to be created in a single
call, and implementations are encouraged to look for reuse opportunities
within a group-create.</p><p>When an application attempts to create many pipelines in a single command,
it is possible that some subset <span class="normative">may</span> fail creation.
In that case, the corresponding entries in the <em class="parameter"><code>pPipelines</code></em> output array
will be filled with <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> values.
If any pipeline fails creation (for example, due to out of memory errors),
the <span class="strong"><strong><code class="code">vkCreate*Pipelines</code></strong></span> commands will return an error code.
The implementation will attempt to create all pipelines, and only return
<code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> values for those that actually failed.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pipelines-pipeline-derivatives"></a>9.5. Pipeline Derivatives</h2></div></div></div><p>A pipeline derivative is a child pipeline created from a parent pipeline,
where the child and parent are expected to have much commonality.
The goal of derivative pipelines is that they be cheaper to create using the
parent as a starting point, and that it be more efficient (on either host or
device) to switch/bind between children of the same parent.</p><p>A derivative pipeline is created by setting the
<code class="code">VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag in the
<code class="code">Vk*PipelineCreateInfo</code> structure.
If this is set, then exactly one of <em class="parameter"><code>basePipelineHandle</code></em> or
<em class="parameter"><code>basePipelineIndex</code></em> members of the structure <span class="normative">must</span> have a valid
handle/index, and indicates the parent pipeline.
If <em class="parameter"><code>basePipelineHandle</code></em> is used, the parent pipeline <span class="normative">must</span> have already
been created.
If <em class="parameter"><code>basePipelineIndex</code></em> is used, then the parent is being created in the
same command.
<code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> acts as the invalid handle for
<em class="parameter"><code>basePipelineHandle</code></em>, and -1 is the invalid index for
<em class="parameter"><code>basePipelineIndex</code></em>.
If <em class="parameter"><code>basePipelineIndex</code></em> is used, the base pipeline <span class="normative">must</span> appear earlier
in the array.
The base pipeline <span class="normative">must</span> have been created with the
<code class="code">VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pipelines-cache"></a>9.6. Pipeline Cache</h2></div></div></div><p>Pipeline cache objects allow the result of pipeline construction to be
reused between pipelines and between runs of an application.
Reuse between pipelines is achieved by passing the same pipeline cache
object when creating multiple related pipelines.
Reuse across runs of an application is achieved by retrieving pipeline cache
contents in one run of an application, saving the contents, and using them
to preinitialize a pipeline cache on a subsequent run.
The contents of the pipeline cache objects are managed by the
implementation.
Applications <span class="normative">can</span> manage the host memory consumed by a pipeline cache object
and control the amount of data retrieved from a pipeline cache object.</p><p>Pipeline cache objects are represented by <code class="code">VkPipelineCache</code> handles:</p><p><a id="VkPipelineCache"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkPipelineCache)</pre><p>
</p><p>To create pipeline cache objects, call:</p><p><a id="vkCreatePipelineCache"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreatePipelineCache(
    VkDevice                                    device,
    const VkPipelineCacheCreateInfo*            pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkPipelineCache*                            pPipelineCache);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the pipeline cache
    object.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to a <code class="code">VkPipelineCacheCreateInfo</code>
    structure that contains the initial parameters for the pipeline cache
    object.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pPipelineCache</code></em> is a pointer to a <code class="code">VkPipelineCache</code> handle in
    which the resulting pipeline cache object is returned.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Applications <span class="normative">can</span> track and manage the total host memory size of a pipeline
cache object using the <em class="parameter"><code>pAllocator</code></em>.
Applications <span class="normative">can</span> limit the amount of data retrieved from a pipeline cache
object in <span class="strong"><strong><code class="code">vkGetPipelineCacheData</code></strong></span>.
Implementations <span class="normative">should</span> not internally limit the total number of entries
added to a pipeline cache object or the total host memory consumed.</p></td></tr></table></div><p>Once created, a pipeline cache <span class="normative">can</span> be passed to the
<span class="strong"><strong><code class="code">vkCreateGraphicsPipelines</code></strong></span> and <span class="strong"><strong><code class="code">vkCreateComputePipelines</code></strong></span> commands.
If the pipeline cache passed into these commands is not
<code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, the implementation will query it for possible reuse
opportunities and update it with new content.
The use of the pipeline cache object in these commands is internally
synchronized, and the same pipeline cache object <span class="normative">can</span> be used in multiple
threads simultaneously.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Implementations <span class="normative">should</span> make every effort to limit any critical sections to
the actual accesses to the cache, which is expected to be significantly
shorter than the duration of the <span class="strong"><strong><code class="code">vkCreateGraphicsPipelines</code></strong></span> and
<span class="strong"><strong><code class="code">vkCreateComputePipelines</code></strong></span> commands.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkPipelineCacheCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pPipelineCache</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkPipelineCache</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkPipelineCacheCreateInfo</code> structure is defined as:</p><p><a id="VkPipelineCacheCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPipelineCacheCreateInfo {
    VkStructureType               sType;
    const void*                   pNext;
    VkPipelineCacheCreateFlags    flags;
    size_t                        initialDataSize;
    const void*                   pInitialData;
} VkPipelineCacheCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>initialDataSize</code></em> is the number of bytes in <em class="parameter"><code>pInitialData</code></em>.
    If <em class="parameter"><code>initialDataSize</code></em> is zero, the pipeline cache will initially be
    empty.
</li><li class="listitem">
<em class="parameter"><code>pInitialData</code></em> is a pointer to previously retrieved pipeline cache
    data.
    If the pipeline cache data is incompatible (as defined below) with the
    device, the pipeline cache will be initially empty.
    If <em class="parameter"><code>initialDataSize</code></em> is zero, <em class="parameter"><code>pInitialData</code></em> is ignored.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_PIPELINE_CACHE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>initialDataSize</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pInitialData</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>initialDataSize</code></em> bytes
</li><li class="listitem">
If <em class="parameter"><code>initialDataSize</code></em> is not <code class="literal">0</code>, it <span class="normative">must</span> be equal to the size of <em class="parameter"><code>pInitialData</code></em>, as returned by <span class="strong"><strong><code class="code">vkGetPipelineCacheData</code></strong></span> when <em class="parameter"><code>pInitialData</code></em> was originally retrieved
</li><li class="listitem">
If <em class="parameter"><code>initialDataSize</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pInitialData</code></em> <span class="normative">must</span> have been retrieved from a previous call to <span class="strong"><strong><code class="code">vkGetPipelineCacheData</code></strong></span>
</li></ul></div></div><p>Pipeline cache objects <span class="normative">can</span> be merged using the command:</p><p><a id="vkMergePipelineCaches"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkMergePipelineCaches(
    VkDevice                                    device,
    VkPipelineCache                             dstCache,
    uint32_t                                    srcCacheCount,
    const VkPipelineCache*                      pSrcCaches);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the pipeline cache objects.
</li><li class="listitem">
<em class="parameter"><code>dstCache</code></em> is the handle of the pipeline cache to merge results
    into.
</li><li class="listitem">
<em class="parameter"><code>srcCacheCount</code></em> is the length of the <em class="parameter"><code>pSrcCaches</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pSrcCaches</code></em> is an array of pipeline cache handles, which will be
    merged into <em class="parameter"><code>dstCache</code></em>.
    The previous contents of <em class="parameter"><code>dstCache</code></em> are included after the merge.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The details of the merge operation are implementation dependent, but
implementations <span class="normative">should</span> merge the contents of the specified pipelines and
prune duplicate entries.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>dstCache</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipelineCache</code> handle
</li><li class="listitem">
<em class="parameter"><code>pSrcCaches</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>srcCacheCount</code></em> valid <code class="code">VkPipelineCache</code> handles
</li><li class="listitem">
<em class="parameter"><code>srcCacheCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>dstCache</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
Each element of <em class="parameter"><code>pSrcCaches</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
<em class="parameter"><code>dstCache</code></em> <span class="normative">must</span> not appear in the list of source caches
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>dstCache</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>Data <span class="normative">can</span> be retrieved from a pipeline cache object using the command:</p><p><a id="vkGetPipelineCacheData"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetPipelineCacheData(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    size_t*                                     pDataSize,
    void*                                       pData);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the pipeline cache.
</li><li class="listitem">
<em class="parameter"><code>pipelineCache</code></em> is the pipeline cache to retrieve data from.
</li><li class="listitem">
<em class="parameter"><code>pDataSize</code></em> is a pointer to a value related to the amount of data in
    the pipeline cache, as described below.
</li><li class="listitem">
<em class="parameter"><code>pData</code></em> is either <code class="literal">NULL</code> or a pointer to a buffer.
</li></ul></div><p>If <em class="parameter"><code>pData</code></em> is <code class="literal">NULL</code>, then the maximum size of the data that <span class="normative">can</span> be
retrieved from the pipeline cache, in bytes, is returned in <em class="parameter"><code>pDataSize</code></em>.
Otherwise, <em class="parameter"><code>pDataSize</code></em> <span class="normative">must</span> point to a variable set by the user to the
size of the buffer, in bytes, pointed to by <em class="parameter"><code>pData</code></em>, and on return the
variable is overwritten with the amount of data actually written to
<em class="parameter"><code>pData</code></em>.</p><p>If <em class="parameter"><code>pDataSize</code></em> is less than the maximum size that <span class="normative">can</span> be retrieved by
the pipeline cache, at most <em class="parameter"><code>pDataSize</code></em> bytes will be written to
<em class="parameter"><code>pData</code></em>, and <span class="strong"><strong><code class="code">vkGetPipelineCacheData</code></strong></span> will return
<code class="code">VK_INCOMPLETE</code>.
Any data written to <em class="parameter"><code>pData</code></em> is valid and <span class="normative">can</span> be provided as the
<em class="parameter"><code>pInitialData</code></em> member of the <code class="code">VkPipelineCacheCreateInfo</code> structure
passed to <span class="strong"><strong><code class="code">vkCreatePipelineCache</code></strong></span>.</p><p>Two calls to <span class="strong"><strong><code class="code">vkGetPipelineCacheData</code></strong></span> with the same parameters <span class="normative">must</span>
retrieve the same data unless a command that modifies the contents of the
cache is called between them.</p><p><a id="pipelines-cache-header"></a>Applications <span class="normative">can</span> store the data retrieved from the pipeline cache, and use
these data, possibly in a future run of the application, to populate new
pipeline cache objects.
The results of pipeline compiles, however, <span class="normative">may</span> depend on the vendor ID,
device ID, driver version, and other details of the device.
To enable applications to detect when previously retrieved data is
incompatible with the device, the initial bytes written to <em class="parameter"><code>pData</code></em> <span class="normative">must</span>
be a header consisting of the following members:</p><div class="table"><a id="id-1.11.18.31"></a><p class="title"><strong>Table 9.1. Layout for pipeline cache header version <code class="code">VK_PIPELINE_CACHE_HEADER_VERSION_ONE</code></strong></p><div class="table-contents"><table summary="Layout for pipeline cache header version VK_PIPELINE_CACHE_HEADER_VERSION_ONE" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="85%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Offset </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Size </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Meaning</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>length in bytes of the entire pipeline cache header
                             written as a stream of bytes, with the least
                             significant byte first</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>a <code class="code"><a class="link" href="#VkPipelineCacheHeaderVersion">VkPipelineCacheHeaderVersion</a></code> value
                             written as a stream of bytes, with the least
                             significant byte first</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>8</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>a vendor ID equal to
                             <code class="code">VkPhysicalDeviceProperties</code>::<em class="parameter"><code>vendorID</code></em>
                             written as a stream of bytes, with the least
                             significant byte first</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>12</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>a device ID equal to
                             <code class="code">VkPhysicalDeviceProperties</code>::<em class="parameter"><code>deviceID</code></em>
                             written as a stream of bytes, with the least
                             significant byte first</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>16</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_UUID_SIZE</code></p></td><td style="" align="left" valign="top"><p>a pipeline cache ID equal to
                             <code class="code">VkPhysicalDeviceProperties</code>::<em class="parameter"><code>pipelineCacheUUID</code></em></p></td></tr></tbody></table></div></div><br class="table-break" /><p>The first four bytes encode the length of the entire pipeline header, in
bytes.
This value includes all fields in the header including the pipeline cache
version field and the size of the length field.</p><p>The next four bytes encode the pipeline cache version.
This field is interpreted as a <code class="code"><a class="link" href="#VkPipelineCacheHeaderVersion">VkPipelineCacheHeaderVersion</a></code> value, and
<span class="normative">must</span> have one of the following values:</p><p><a id="VkPipelineCacheHeaderVersion"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkPipelineCacheHeaderVersion {
    VK_PIPELINE_CACHE_HEADER_VERSION_ONE = 1,
} VkPipelineCacheHeaderVersion;</pre><p>
</p><p>A consumer of the pipeline cache <span class="normative">should</span> use the cache version to interpret
the remainder of the cache header.</p><p>If <em class="parameter"><code>pDataSize</code></em> is less than what is necessary to store this header,
nothing will be written to <em class="parameter"><code>pData</code></em> and zero will be written to
<em class="parameter"><code>pDataSize</code></em>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pipelineCache</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipelineCache</code> handle
</li><li class="listitem">
<em class="parameter"><code>pDataSize</code></em> <span class="normative">must</span> be a pointer to a <code class="code">size_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pDataSize</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pData</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pData</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pDataSize</code></em> bytes
</li><li class="listitem">
<em class="parameter"><code>pipelineCache</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>To destroy a pipeline cache, call:</p><p><a id="vkDestroyPipelineCache"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyPipelineCache(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the pipeline cache
    object.
</li><li class="listitem">
<em class="parameter"><code>pipelineCache</code></em> is the handle of the pipeline cache to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pipelineCache</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>pipelineCache</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipelineCache</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pipelineCache</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>pipelineCache</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>pipelineCache</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>pipelineCache</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pipelines-specialization-constants"></a>9.7. Specialization Constants</h2></div></div></div><p>Specialization constants are a mechanism whereby constants in a SPIR-V
module <span class="normative">can</span> have their constant value specified at the time the
<code class="code">VkPipeline</code> is created.
This allows a SPIR-V module to have constants that <span class="normative">can</span> be modified while
executing an application that uses the Vulkan API.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Specialization constants are useful to allow a compute shader to have its
local workgroup size changed at runtime by the user, for example.</p></td></tr></table></div><p>Each instance of the <code class="code">VkPipelineShaderStageCreateInfo</code> structure
contains a parameter <em class="parameter"><code>pSpecializationInfo</code></em>, which <span class="normative">can</span> be <code class="literal">NULL</code> to
indicate no specialization constants, or point to a
<code class="code">VkSpecializationInfo</code> structure.</p><p>The <code class="code">VkSpecializationInfo</code> structure is defined as:</p><p><a id="VkSpecializationInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSpecializationInfo {
    uint32_t                           mapEntryCount;
    const VkSpecializationMapEntry*    pMapEntries;
    size_t                             dataSize;
    const void*                        pData;
} VkSpecializationInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>mapEntryCount</code></em> is the number of entries in the <em class="parameter"><code>pMapEntries</code></em>
    array.
</li><li class="listitem">
<em class="parameter"><code>pMapEntries</code></em> is a pointer to an array of
    <code class="code">VkSpecializationMapEntry</code> which maps constant IDs to offsets in
    <em class="parameter"><code>pData</code></em>.
</li><li class="listitem">
<em class="parameter"><code>dataSize</code></em> is the byte size of the <em class="parameter"><code>pData</code></em> buffer.
</li><li class="listitem">
<em class="parameter"><code>pData</code></em> contains the actual constant values to specialize with.
</li></ul></div><p><em class="parameter"><code>pMapEntries</code></em> points to a structure of type
<code class="code"><a class="link" href="#VkSpecializationMapEntry">VkSpecializationMapEntry</a></code>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If <em class="parameter"><code>mapEntryCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pMapEntries</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>mapEntryCount</code></em> valid <code class="code">VkSpecializationMapEntry</code> structures
</li><li class="listitem">
If <em class="parameter"><code>dataSize</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pData</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>dataSize</code></em> bytes
</li><li class="listitem">
The <em class="parameter"><code>offset</code></em> member of any given element of <em class="parameter"><code>pMapEntries</code></em> <span class="normative">must</span> be less than <em class="parameter"><code>dataSize</code></em>
</li><li class="listitem">
For any given element of <em class="parameter"><code>pMapEntries</code></em>, <em class="parameter"><code>size</code></em> <span class="normative">must</span> be less than or equal to <em class="parameter"><code>dataSize</code></em> minus <em class="parameter"><code>offset</code></em>
</li></ul></div></div><p>The <code class="code">VkSpecializationMapEntry</code> structure is defined as:</p><p><a id="VkSpecializationMapEntry"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSpecializationMapEntry {
    uint32_t    constantID;
    uint32_t    offset;
    size_t      size;
} VkSpecializationMapEntry;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>constantID</code></em> is the ID of the specialization constant in SPIR-V.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> is the byte offset of the specialization constant value
    within the supplied data buffer.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is the byte size of the specialization constant value within
    the supplied data buffer.
</li></ul></div><p>If a <em class="parameter"><code>constantID</code></em> value is not a specialization constant ID used in the
shader, that map entry does not affect the behavior of the pipeline.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
For a <em class="parameter"><code>constantID</code></em> specialization constant declared in a shader, <em class="parameter"><code>size</code></em> <span class="normative">must</span> match the byte size of the <em class="parameter"><code>constantID</code></em>. If the specialization constant is of type <span class="strong"><strong><code class="code">boolean</code></strong></span>, <em class="parameter"><code>size</code></em> <span class="normative">must</span> be the byte size of <code class="code">VkBool32</code>
</li></ul></div></div><p>In human readable SPIR-V:</p><pre class="programlisting">OpDecorate %x SpecId 13 ; decorate .x component of WorkgroupSize with ID 13
OpDecorate %y SpecId 42 ; decorate .y component of WorkgroupSize with ID 42
OpDecorate %z SpecId 3  ; decorate .z component of WorkgroupSize with ID 3
OpDecorate %wgsize BuiltIn WorkgroupSize ; decorate WorkgroupSize onto constant
%i32 = OpTypeInt 32 0 ; declare an unsigned 32-bit type
%uvec3 = OpTypeVector %i32 3 ; declare a 3 element vector type of unsigned 32-bit
%x = OpSpecConstant %i32 1 ; declare the .x component of WorkgroupSize
%y = OpSpecConstant %i32 1 ; declare the .y component of WorkgroupSize
%z = OpSpecConstant %i32 1 ; declare the .z component of WorkgroupSize
%wgsize = OpSpecConstantComposite %uvec3 %x %y %z ; declare WorkgroupSize</pre><p>From the above we have three specialization constants, one for each of the
x, y &amp; z elements of the WorkgroupSize vector.</p><p>Now to specialize the above via the specialization constants mechanism:</p><pre class="programlisting">const VkSpecializationMapEntry entries[] =
{
    {
        13,                             // constantID
        0 * sizeof(uint32_t),           // offset
        sizeof(uint32_t)                // size
    },
    {
        42,                             // constantID
        1 * sizeof(uint32_t),           // offset
        sizeof(uint32_t)                // size
    },
    {
        3,                              // constantID
        2 * sizeof(uint32_t),           // offset
        sizeof(uint32_t)                // size
    }
};

const uint32_t data[] = { 16, 8, 4 }; // our workgroup size is 16x8x4

const VkSpecializationInfo info =
{
    3,                                  // mapEntryCount
    entries,                            // pMapEntries
    3 * sizeof(uint32_t),               // dataSize
    data,                               // pData
};</pre><p>Then when calling <code class="code"><a class="link" href="#vkCreateComputePipelines">vkCreateComputePipelines</a></code>, and passing the
<code class="code">VkSpecializationInfo</code> we defined as the <em class="parameter"><code>pSpecializationInfo</code></em>
parameter of <code class="code"><a class="link" href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a></code>, we will create a compute
pipeline with the runtime specified local workgroup size.</p><p>Another example would be that an application has a SPIR-V module that has
some platform-dependent constants they wish to use.</p><p>In human readable SPIR-V:</p><pre class="programlisting">OpDecorate %1 SpecId 0  ; decorate our signed 32-bit integer constant
OpDecorate %2 SpecId 12 ; decorate our 32-bit floating-point constant
%i32 = OpTypeInt 32 1   ; declare a signed 32-bit type
%float = OpTypeFloat 32 ; declare a 32-bit floating-point type
%1 = OpSpecConstant %i32 -1 ; some signed 32-bit integer constant
%2 = OpSpecConstant %float 0.5 ; some 32-bit floating-point constant</pre><p>From the above we have two specialization constants, one is a signed 32-bit
integer and the second is a 32-bit floating-point.</p><p>Now to specialize the above via the specialization constants mechanism:</p><pre class="programlisting">struct SpecializationData {
    int32_t data0;
    float data1;
};

const VkSpecializationMapEntry entries[] =
{
    {
        0,                                    // constantID
        offsetof(SpecializationData, data0),  // offset
        sizeof(SpecializationData::data0)     // size
    },
    {
        12,                                   // constantID
        offsetof(SpecializationData, data1),  // offset
        sizeof(SpecializationData::data1)     // size
    }
};

SpecializationData data;
data.data0 = -42;    // set the data for the 32-bit integer
data.data1 = 42.0f;  // set the data for the 32-bit floating-point

const VkSpecializationInfo info =
{
    2,                                  // mapEntryCount
    entries,                            // pMapEntries
    sizeof(data),                       // dataSize
    &amp;data,                              // pData
};</pre><p>It is legal for a SPIR-V module with specializations to be compiled into a
pipeline where no specialization info was provided.
SPIR-V specialization constants contain default values such that if a
specialization is not provided, the default value will be used.
In the examples above, it would be valid for an application to only
specialize some of the specialization constants within the SPIR-V module,
and let the other constants use their default values encoded within the
OpSpecConstant declarations.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pipelines-binding"></a>9.8. Pipeline Binding</h2></div></div></div><p>Once a pipeline has been created, it <span class="normative">can</span> be bound to the command buffer
using the command:</p><p><a id="vkCmdBindPipeline"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdBindPipeline(
    VkCommandBuffer                             commandBuffer,
    VkPipelineBindPoint                         pipelineBindPoint,
    VkPipeline                                  pipeline);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer that the pipeline will be
    bound to.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>pipelineBindPoint</code></em> specifies the bind point, and <span class="normative">must</span> have one of
    the values
</p><p><a id="VkPipelineBindPoint"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkPipelineBindPoint {
    VK_PIPELINE_BIND_POINT_GRAPHICS = 0,
    VK_PIPELINE_BIND_POINT_COMPUTE = 1,
} VkPipelineBindPoint;</pre><p>
</p><p class="simpara">specifying whether <em class="parameter"><code>pipeline</code></em> will be bound as a compute
(<code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code>) or graphics
(<code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>) pipeline.
There are separate bind points for each of graphics and compute, so binding
one does not disturb the other.</p></li><li class="listitem">
<em class="parameter"><code>pipeline</code></em> is the pipeline to be bound.
</li></ul></div><p>Once bound, a pipeline binding affects subsequent graphics or compute
commands in the command buffer until a different pipeline is bound to the
bind point.
The pipeline bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code> controls the
behavior of <code class="code"><a class="link" href="#vkCmdDispatch">vkCmdDispatch</a></code> and <code class="code"><a class="link" href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>.
The pipeline bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> controls the
behavior of <code class="code"><a class="link" href="#vkCmdDraw">vkCmdDraw</a></code>, <code class="code"><a class="link" href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>,
<code class="code"><a class="link" href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>, and <code class="code"><a class="link" href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>.
No other commands are affected by the pipeline state.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pipelineBindPoint</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkPipelineBindPoint">VkPipelineBindPoint</a></code> value
</li><li class="listitem">
<em class="parameter"><code>pipeline</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipeline</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and <em class="parameter"><code>pipeline</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
If <em class="parameter"><code>pipelineBindPoint</code></em> is <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code>, the <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support compute operations
</li><li class="listitem">
If <em class="parameter"><code>pipelineBindPoint</code></em> is <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, the <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
If <em class="parameter"><code>pipelineBindPoint</code></em> is <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code>, <em class="parameter"><code>pipeline</code></em> <span class="normative">must</span> be a compute pipeline
</li><li class="listitem">
If <em class="parameter"><code>pipelineBindPoint</code></em> is <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, <em class="parameter"><code>pipeline</code></em> <span class="normative">must</span> be a graphics pipeline
</li><li class="listitem">
If the <a class="link" href="#features-features-variableMultisampleRate">variable multisample rate</a> feature is not supported, <em class="parameter"><code>pipeline</code></em> is a graphics pipeline, the current subpass has no attachments, and this is not the first call to this function with a graphics pipeline after transitioning to the current subpass, then the sample count specified by this pipeline <span class="normative">must</span> match that set in the previous pipeline
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="memory"></a>Chapter 10. Memory Allocation</h1></div></div></div><p>Vulkan memory is broken up into two categories, <span class="emphasis"><em>host memory</em></span> and <span class="emphasis"><em>device
memory</em></span>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="memory-host"></a>10.1. Host Memory</h2></div></div></div><p>Host memory is memory needed by the Vulkan implementation for
non-device-visible storage.
This storage <span class="normative">may</span> be used for e.g.
internal software structures.</p><p><a id="memory-allocation"></a>Vulkan provides applications the opportunity to perform host memory
allocations on behalf of the Vulkan implementation.
If this feature is not used, the implementation will perform its own memory
allocations.
Since most memory allocations are off the critical path, this is not meant
as a performance feature.
Rather, this <span class="normative">can</span> be useful for certain embedded systems, for debugging
purposes (e.g.
putting a guard page after all host allocations), or for memory allocation
logging.</p><p>Allocators are provided by the application as a pointer to a
<code class="code">VkAllocationCallbacks</code> structure:</p><p><a id="VkAllocationCallbacks"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkAllocationCallbacks {
    void*                                   pUserData;
    PFN_vkAllocationFunction                pfnAllocation;
    PFN_vkReallocationFunction              pfnReallocation;
    PFN_vkFreeFunction                      pfnFree;
    PFN_vkInternalAllocationNotification    pfnInternalAllocation;
    PFN_vkInternalFreeNotification          pfnInternalFree;
} VkAllocationCallbacks;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pUserData</code></em> is a value to be interpreted by the implementation of
    the callbacks.
    When any of the callbacks in <code class="code">VkAllocationCallbacks</code> are called, the
    Vulkan implementation will pass this value as the first parameter to the
    callback.
    This value <span class="normative">can</span> vary each time an allocator is passed into a command,
    even when the same object takes an allocator in multiple commands.
</li><li class="listitem">
<em class="parameter"><code>pfnAllocation</code></em> is a pointer to an application-defined memory
    allocation function of type <code class="code"><a class="link" href="#PFN_vkAllocationFunction">PFN_vkAllocationFunction</a></code>.
</li><li class="listitem">
<em class="parameter"><code>pfnReallocation</code></em> is a pointer to an application-defined memory
    reallocation function of type <code class="code"><a class="link" href="#PFN_vkReallocationFunction">PFN_vkReallocationFunction</a></code>.
</li><li class="listitem">
<em class="parameter"><code>pfnFree</code></em> is a pointer to an application-defined memory free
    function of type <code class="code"><a class="link" href="#PFN_vkFreeFunction">PFN_vkFreeFunction</a></code>.
</li><li class="listitem">
<em class="parameter"><code>pfnInternalAllocation</code></em> is a pointer to an application-defined
    function that is called by the implementation when the implementation
    makes internal allocations, and it is of type
    <code class="code"><a class="link" href="#PFN_vkInternalAllocationNotification">PFN_vkInternalAllocationNotification</a></code>.
</li><li class="listitem">
<em class="parameter"><code>pfnInternalFree</code></em> is a pointer to an application-defined function
    that is called by the implementation when the implementation frees
    internal allocations, and it is of type
    <code class="code"><a class="link" href="#PFN_vkInternalFreeNotification">PFN_vkInternalFreeNotification</a></code>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pfnAllocation</code></em> <span class="normative">must</span> be a pointer to a valid user-defined <code class="code"><a class="link" href="#PFN_vkAllocationFunction">PFN_vkAllocationFunction</a></code>
</li><li class="listitem">
<em class="parameter"><code>pfnReallocation</code></em> <span class="normative">must</span> be a pointer to a valid user-defined <code class="code"><a class="link" href="#PFN_vkReallocationFunction">PFN_vkReallocationFunction</a></code>
</li><li class="listitem">
<em class="parameter"><code>pfnFree</code></em> <span class="normative">must</span> be a pointer to a valid user-defined <code class="code"><a class="link" href="#PFN_vkFreeFunction">PFN_vkFreeFunction</a></code>
</li><li class="listitem">
If either of <em class="parameter"><code>pfnInternalAllocation</code></em> or <em class="parameter"><code>pfnInternalFree</code></em> is not <code class="literal">NULL</code>, both <span class="normative">must</span> be valid callbacks
</li></ul></div></div><p>The type of <em class="parameter"><code>pfnAllocation</code></em> is:</p><p><a id="PFN_vkAllocationFunction"></a><strong> </strong>
</p><pre class="programlisting">typedef void* (VKAPI_PTR *PFN_vkAllocationFunction)(
    void*                                       pUserData,
    size_t                                      size,
    size_t                                      alignment,
    VkSystemAllocationScope                     allocationScope);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pUserData</code></em> is the value specified for
    <code class="code"><a class="link" href="#VkAllocationCallbacks">VkAllocationCallbacks</a></code>::<em class="parameter"><code>pUserData</code></em> in the allocator specified
    by the application.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is the size in bytes of the requested allocation.
</li><li class="listitem">
<em class="parameter"><code>alignment</code></em> is the requested alignment of the allocation in bytes
    and <span class="normative">must</span> be a power of two.
</li><li class="listitem">
<em class="parameter"><code>allocationScope</code></em> is a <code class="code"><a class="link" href="#VkSystemAllocationScope">VkSystemAllocationScope</a></code> value
    specifying the scope of the lifetime of the allocation, as described
    <a class="link" href="#memory-host-allocation-scope">here</a>.
</li></ul></div><p><a id="vkAllocationFunction_return_rules"></a>If <em class="parameter"><code>pfnAllocation</code></em> is unable to allocate the requested memory, it <span class="normative">must</span>
return <code class="literal">NULL</code>.
If the allocation was successful, it <span class="normative">must</span> return a valid pointer to memory
allocation containing at least <em class="parameter"><code>size</code></em> bytes, and with the pointer value
being a multiple of <em class="parameter"><code>alignment</code></em>.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Correct Vulkan operation <span class="normative">cannot</span> be assumed if the application does not
follow these rules.</p><p>For example, <em class="parameter"><code>pfnAllocation</code></em> (or <em class="parameter"><code>pfnReallocation</code></em>) could cause
termination of running Vulkan instance(s) on a failed allocation for
debugging purposes, either directly or indirectly.
In these circumstances, it <span class="normative">cannot</span> be assumed that any part of any affected
VkInstance objects are going to operate correctly (even
<code class="code"><a class="link" href="#vkDestroyInstance">vkDestroyInstance</a></code>), and the application <span class="normative">must</span> ensure it cleans up
properly via other means (e.g.
process termination).</p></td></tr></table></div><p>If <em class="parameter"><code>pfnAllocation</code></em> returns <code class="literal">NULL</code>, and if the implementation is unable
to continue correct processing of the current command without the requested
allocation, it <span class="normative">must</span> treat this as a run-time error, and generate
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code> at the appropriate time for the command in
which the condition was detected, as described in <a class="link" href="#fundamentals-errorcodes" title="Error codes">Return Codes</a>.</p><p>If the implementation is able to continue correct processing of the current
command without the requested allocation, then it <span class="normative">may</span> do so, and <span class="normative">must</span> not
generate <code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code> as a result of this failed
allocation.</p><p>The type of <em class="parameter"><code>pfnReallocation</code></em> is:</p><p><a id="PFN_vkReallocationFunction"></a><strong> </strong>
</p><pre class="programlisting">typedef void* (VKAPI_PTR *PFN_vkReallocationFunction)(
    void*                                       pUserData,
    void*                                       pOriginal,
    size_t                                      size,
    size_t                                      alignment,
    VkSystemAllocationScope                     allocationScope);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pUserData</code></em> is the value specified for
    <code class="code"><a class="link" href="#VkAllocationCallbacks">VkAllocationCallbacks</a></code>::<em class="parameter"><code>pUserData</code></em> in the allocator specified
    by the application.
</li><li class="listitem">
<em class="parameter"><code>pOriginal</code></em> <span class="normative">must</span> be either <code class="literal">NULL</code> or a pointer previously returned
    by <em class="parameter"><code>pfnReallocation</code></em> or <em class="parameter"><code>pfnAllocation</code></em> of the same allocator.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is the size in bytes of the requested allocation.
</li><li class="listitem">
<em class="parameter"><code>alignment</code></em> is the requested alignment of the allocation in bytes
    and <span class="normative">must</span> be a power of two.
</li><li class="listitem">
<em class="parameter"><code>allocationScope</code></em> is a <code class="code"><a class="link" href="#VkSystemAllocationScope">VkSystemAllocationScope</a></code> value
    specifying the scope of the lifetime of the allocation, as described
    <a class="link" href="#memory-host-allocation-scope">here</a>.
</li></ul></div><p><em class="parameter"><code>pfnReallocation</code></em> <span class="normative">must</span> return an allocation with enough space for
<em class="parameter"><code>size</code></em> bytes, and the contents of the original allocation from bytes
zero to <span class="inlinemediaobject"><span class="phrase">
$\min(\textrm{original size, new size})-1$
</span></span> <span class="normative">must</span> be
preserved in the returned allocation.
If <em class="parameter"><code>size</code></em> is larger than the old size, the contents of the additional
space are undefined.
If satisfying these requirements involves creating a new allocation, then
the old allocation <span class="normative">should</span> be freed.</p><p>If <em class="parameter"><code>pOriginal</code></em> is <code class="literal">NULL</code>, then <em class="parameter"><code>pfnReallocation</code></em> <span class="normative">must</span> behave
equivalently to a call to <code class="code"><a class="link" href="#PFN_vkAllocationFunction">PFN_vkAllocationFunction</a></code> with the same
parameter values (without <em class="parameter"><code>pOriginal</code></em>).</p><p>If <em class="parameter"><code>size</code></em> is zero, then <em class="parameter"><code>pfnReallocation</code></em> <span class="normative">must</span> behave equivalently
to a call to <code class="code"><a class="link" href="#PFN_vkFreeFunction">PFN_vkFreeFunction</a></code> with the same <em class="parameter"><code>pUserData</code></em>
parameter value, and <em class="parameter"><code>pMemory</code></em> equal to <em class="parameter"><code>pOriginal</code></em>.</p><p>If <em class="parameter"><code>pOriginal</code></em> is non-<code class="literal">NULL</code>, the implementation <span class="normative">must</span> ensure that
<em class="parameter"><code>alignment</code></em> is equal to the <em class="parameter"><code>alignment</code></em> used to originally allocate
<em class="parameter"><code>pOriginal</code></em>.</p><p>If this function fails and <em class="parameter"><code>pOriginal</code></em> is non-<code class="literal">NULL</code> the application
<span class="normative">must</span> not free the old allocation.</p><p><em class="parameter"><code>pfnReallocation</code></em> <span class="normative">must</span> follow the same
<a class="link" href="#vkAllocationFunction_return_rules">rules for return values as <span class="strong"><strong><code class="code">PFN_vkAllocationFunction</code></strong></span></a>.</p><p>The type of <em class="parameter"><code>pfnFree</code></em> is:</p><p><a id="PFN_vkFreeFunction"></a><strong> </strong>
</p><pre class="programlisting">typedef void (VKAPI_PTR *PFN_vkFreeFunction)(
    void*                                       pUserData,
    void*                                       pMemory);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pUserData</code></em> is the value specified for
    <code class="code"><a class="link" href="#VkAllocationCallbacks">VkAllocationCallbacks</a></code>::<em class="parameter"><code>pUserData</code></em> in the allocator specified
    by the application.
</li><li class="listitem">
<em class="parameter"><code>pMemory</code></em> is the allocation to be freed.
</li></ul></div><p><em class="parameter"><code>pMemory</code></em> <span class="normative">may</span> be <code class="literal">NULL</code>, which the callback <span class="normative">must</span> handle safely.
If <em class="parameter"><code>pMemory</code></em> is non-<code class="literal">NULL</code>, it <span class="normative">must</span> be a pointer previously allocated
by <em class="parameter"><code>pfnAllocation</code></em> or <em class="parameter"><code>pfnReallocation</code></em>.
The application <span class="normative">should</span> free this memory.</p><p>The type of <em class="parameter"><code>pfnInternalAllocation</code></em> is:</p><p><a id="PFN_vkInternalAllocationNotification"></a><strong> </strong>
</p><pre class="programlisting">typedef void (VKAPI_PTR *PFN_vkInternalAllocationNotification)(
    void*                                       pUserData,
    size_t                                      size,
    VkInternalAllocationType                    allocationType,
    VkSystemAllocationScope                     allocationScope);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pUserData</code></em> is the value specified for
    <code class="code"><a class="link" href="#VkAllocationCallbacks">VkAllocationCallbacks</a></code>::<em class="parameter"><code>pUserData</code></em> in the allocator specified
    by the application.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is the requested size of an allocation.
</li><li class="listitem">
<em class="parameter"><code>allocationType</code></em> is the requested type of an allocation.
</li><li class="listitem">
<em class="parameter"><code>allocationScope</code></em> is a <code class="code"><a class="link" href="#VkSystemAllocationScope">VkSystemAllocationScope</a></code> value
    specifying the scope of the lifetime of the allocation, as described
    <a class="link" href="#memory-host-allocation-scope">here</a>.
</li></ul></div><p>This is a purely informational callback.</p><p>The type of <em class="parameter"><code>pfnInternalFree</code></em> is:</p><p><a id="PFN_vkInternalFreeNotification"></a><strong> </strong>
</p><pre class="programlisting">typedef void (VKAPI_PTR *PFN_vkInternalFreeNotification)(
    void*                                       pUserData,
    size_t                                      size,
    VkInternalAllocationType                    allocationType,
    VkSystemAllocationScope                     allocationScope);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pUserData</code></em> is the value specified for
    <code class="code"><a class="link" href="#VkAllocationCallbacks">VkAllocationCallbacks</a></code>::<em class="parameter"><code>pUserData</code></em> in the allocator specified
    by the application.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is the requested size of an allocation.
</li><li class="listitem">
<em class="parameter"><code>allocationType</code></em> is the requested type of an allocation.
</li><li class="listitem">
<em class="parameter"><code>allocationScope</code></em> is a <code class="code"><a class="link" href="#VkSystemAllocationScope">VkSystemAllocationScope</a></code> value
    specifying the scope of the lifetime of the allocation, as described
    <a class="link" href="#memory-host-allocation-scope">here</a>.
</li></ul></div><p><a id="memory-host-allocation-scope"></a>Each allocation has a <span class="emphasis"><em>scope</em></span> which defines its lifetime and which object it
is associated with.
The scope is provided in the <em class="parameter"><code>allocationScope</code></em> parameter passed to
callbacks defined in <code class="code"><a class="link" href="#VkAllocationCallbacks">VkAllocationCallbacks</a></code>.
Possible values for this parameter are defined by
<code class="code"><a class="link" href="#VkSystemAllocationScope">VkSystemAllocationScope</a></code>:</p><p><a id="VkSystemAllocationScope"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkSystemAllocationScope {
    VK_SYSTEM_ALLOCATION_SCOPE_COMMAND = 0,
    VK_SYSTEM_ALLOCATION_SCOPE_OBJECT = 1,
    VK_SYSTEM_ALLOCATION_SCOPE_CACHE = 2,
    VK_SYSTEM_ALLOCATION_SCOPE_DEVICE = 3,
    VK_SYSTEM_ALLOCATION_SCOPE_INSTANCE = 4,
} VkSystemAllocationScope;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SYSTEM_ALLOCATION_SCOPE_COMMAND</code> - The allocation is scoped to
    the duration of the Vulkan command.
</li><li class="listitem">
<code class="code">VK_SYSTEM_ALLOCATION_SCOPE_OBJECT</code> - The allocation is scoped to
    the lifetime of the Vulkan object that is being created or used.
</li><li class="listitem">
<code class="code">VK_SYSTEM_ALLOCATION_SCOPE_CACHE</code> - The allocation is scoped to the
    lifetime of a <code class="code">VkPipelineCache</code> object.
</li><li class="listitem">
<code class="code">VK_SYSTEM_ALLOCATION_SCOPE_DEVICE</code> - The allocation is scoped to
    the lifetime of the Vulkan device.
</li><li class="listitem">
<code class="code">VK_SYSTEM_ALLOCATION_SCOPE_INSTANCE</code> - The allocation is scoped to
    the lifetime of the Vulkan instance.
</li></ul></div><p>Most Vulkan commands operate on a single object, or there is a sole object
that is being created or manipulated.
When an allocation uses a scope of <code class="code">VK_SYSTEM_ALLOCATION_SCOPE_OBJECT</code>
or <code class="code">VK_SYSTEM_ALLOCATION_SCOPE_CACHE</code>, the allocation is scoped to the
object being created or manipulated.</p><p>When an implementation requires host memory, it will make callbacks to the
application using the most specific allocator and scope available:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If an allocation is scoped to the duration of a command, the allocator
    will use the <code class="code">VK_SYSTEM_ALLOCATION_SCOPE_COMMAND</code> scope.
    The most specific allocator available is used: if the object being
    created or manipulated has an allocator, that object’s allocator will be
    used, else if the parent <code class="code">VkDevice</code> has an allocator it will be
    used, else if the parent <code class="code">VkInstance</code> has an allocator it will be
    used.
    Else,
</li><li class="listitem">
If an allocation is associated with an object of type
    <code class="code">VkPipelineCache</code>, the allocator will use the
    <code class="code">VK_SYSTEM_ALLOCATION_SCOPE_CACHE</code> scope.
    The most specific allocator available is used (pipeline cache, else
    device, else instance).
    Else,
</li><li class="listitem">
If an allocation is scoped to the lifetime of an object, that object is
    being created or manipulated by the command, and that object’s type is
    not <code class="code">VkDevice</code> or <code class="code">VkInstance</code>, the allocator will use a scope
    of <code class="code">VK_SYSTEM_ALLOCATION_SCOPE_OBJECT</code>.
    The most specific allocator available is used (object, else device, else
    instance).
    Else,
</li><li class="listitem">
If an allocation is scoped to the lifetime of a device, the allocator
    will use scope of <code class="code">VK_SYSTEM_ALLOCATION_SCOPE_DEVICE</code>.
    The most specific allocator available is used (device, else instance).
    Else,
</li><li class="listitem">
If the allocation is scoped to the lifetime of an instance and the
    instance has an allocator, its allocator will be used with a scope of
    <code class="code">VK_SYSTEM_ALLOCATION_SCOPE_INSTANCE</code>.
</li><li class="listitem">
Otherwise an implementation will allocate memory through an alternative
    mechanism that is unspecified.
</li></ul></div><p>Objects that are allocated from pools do not specify their own allocator.
When an implementation requires host memory for such an object, that memory
is sourced from the object’s parent pool’s allocator.</p><p>The application is not expected to handle allocating memory that is intended
for execution by the host due to the complexities of differing security
implementations across multiple platforms.
The implementation will allocate such memory internally and invoke an
application provided informational callback when these <span class="emphasis"><em>internal
allocations</em></span> are allocated and freed.
Upon allocation of executable memory, <em class="parameter"><code>pfnInternalAllocation</code></em> will be
called.
Upon freeing executable memory, <em class="parameter"><code>pfnInternalFree</code></em> will be called.
An implementation will only call an informational callback for executable
memory allocations and frees.</p><p>The <em class="parameter"><code>allocationType</code></em> parameter to the <em class="parameter"><code>pfnInternalAllocation</code></em> and
<em class="parameter"><code>pfnInternalFree</code></em> functions <span class="normative">may</span> be one of the following values:</p><p><a id="VkInternalAllocationType"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkInternalAllocationType {
    VK_INTERNAL_ALLOCATION_TYPE_EXECUTABLE = 0,
} VkInternalAllocationType;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_INTERNAL_ALLOCATION_TYPE_EXECUTABLE</code> - The allocation is
    intended for execution by the host.
</li></ul></div><p>An implementation <span class="normative">must</span> only make calls into an application-provided
allocator from within the scope of an API command.
An implementation <span class="normative">must</span> only make calls into an application-provided
allocator from the same thread that called the provoking API command.
The implementation <span class="normative">should</span> not synchronize calls to any of the callbacks.
If synchronization is needed, the callbacks <span class="normative">must</span> provide it themselves.
The informational callbacks are subject to the same restrictions as the
allocation callbacks.</p><p>If an implementation intends to make calls through an
<code class="code">VkAllocationCallbacks</code> structure between the time a <span class="strong"><strong><code class="code">vkCreate*</code></strong></span>
command returns and the time a corresponding <span class="strong"><strong><code class="code">vkDestroy*</code></strong></span> command
begins, that implementation <span class="normative">must</span> save a copy of the allocator before the
<span class="strong"><strong><code class="code">vkCreate*</code></strong></span> command returns.
The callback functions and any data structures they rely upon <span class="normative">must</span> remain
valid for the lifetime of the object they are associated with.</p><p>If an allocator is provided to a <span class="strong"><strong><code class="code">vkCreate*</code></strong></span> command, a <span class="emphasis"><em>compatible</em></span>
allocator <span class="normative">must</span> be provided to the corresponding <span class="strong"><strong><code class="code">vkDestroy*</code></strong></span> command.
Two <code class="code">VkAllocationCallbacks</code> structures are compatible if memory
allocated with <em class="parameter"><code>pfnAllocation</code></em> or <em class="parameter"><code>pfnReallocation</code></em> in each <span class="normative">can</span> be
freed with <em class="parameter"><code>pfnReallocation</code></em> or <em class="parameter"><code>pfnFree</code></em> in the other.
An allocator <span class="normative">must</span> not be provided to a <span class="strong"><strong><code class="code">vkDestroy*</code></strong></span> command if an
allocator was not provided to the corresponding <span class="strong"><strong><code class="code">vkCreate*</code></strong></span> command.</p><p>If a non-<code class="literal">NULL</code> allocator is used, the <em class="parameter"><code>pfnAllocation</code></em>,
<em class="parameter"><code>pfnReallocation</code></em> and <em class="parameter"><code>pfnFree</code></em> members <span class="normative">must</span> be non-<code class="literal">NULL</code> and
point to valid implementations of the callbacks.
An application <span class="normative">can</span> choose to not provide informational callbacks by setting
both <em class="parameter"><code>pfnInternalAllocation</code></em> and <em class="parameter"><code>pfnInternalFree</code></em> to <code class="literal">NULL</code>.
<em class="parameter"><code>pfnInternalAllocation</code></em> and <em class="parameter"><code>pfnInternalFree</code></em> <span class="normative">must</span> either both be
<code class="literal">NULL</code> or both be non-<code class="literal">NULL</code>.</p><p>If <em class="parameter"><code>pfnAllocation</code></em> or <em class="parameter"><code>pfnReallocation</code></em> fail, the implementation
<span class="normative">may</span> fail object creation and/or generate an
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code> error, as appropriate.</p><p>Allocation callbacks <span class="normative">must</span> not call any Vulkan commands.</p><p>The following sets of rules define when an implementation is permitted to
call the allocator callbacks.</p><p><em class="parameter"><code>pfnAllocation</code></em> or <em class="parameter"><code>pfnReallocation</code></em> <span class="normative">may</span> be called in the following
situations:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host memory scoped to the lifetime of a <code class="code">VkDevice</code> or
    <code class="code">VkInstance</code> <span class="normative">may</span> be allocated from any API command.
</li><li class="listitem">
Host memory scoped to the duration of a command <span class="normative">may</span> be allocated from
    any API command.
</li><li class="listitem"><p class="simpara">
Host memory scoped to the lifetime of a <code class="code">VkPipelineCache</code> <span class="normative">may</span> only
    be allocated from:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<span class="strong"><strong><code class="code">vkCreatePipelineCache</code></strong></span>
</li><li class="listitem">
<span class="strong"><strong><code class="code">vkMergePipelineCaches</code></strong></span> for <em class="parameter"><code>dstCache</code></em>
</li><li class="listitem">
<span class="strong"><strong><code class="code">vkCreateGraphicsPipelines</code></strong></span> for <em class="parameter"><code>pPipelineCache</code></em>
</li><li class="listitem">
<span class="strong"><strong><code class="code">vkCreateComputePipelines</code></strong></span> for <em class="parameter"><code>pPipelineCache</code></em>
</li></ul></div></li><li class="listitem"><p class="simpara">
Host memory scoped to the lifetime of a <code class="code">VkDescriptorPool</code> <span class="normative">may</span> only
    be allocated from:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
any command that takes the pool as a direct argument
</li><li class="listitem">
<span class="strong"><strong><code class="code">vkAllocateDescriptorSets</code></strong></span> for the <em class="parameter"><code>descriptorPool</code></em> member of
    its <em class="parameter"><code>pAllocateInfo</code></em> parameter
</li><li class="listitem">
<span class="strong"><strong><code class="code">vkCreateDescriptorPool</code></strong></span>
</li></ul></div></li><li class="listitem"><p class="simpara">
Host memory scoped to the lifetime of a <code class="code">VkCommandPool</code> <span class="normative">may</span> only be
    allocated from:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
any command that takes the pool as a direct argument
</li><li class="listitem">
<span class="strong"><strong><code class="code">vkCreateCommandPool</code></strong></span>
</li><li class="listitem">
<span class="strong"><strong><code class="code">vkAllocateCommandBuffers</code></strong></span> for the <em class="parameter"><code>commandPool</code></em> member of its
     <em class="parameter"><code>pAllocateInfo</code></em> parameter
</li><li class="listitem">
any <span class="strong"><strong><code class="code">vkCmd*</code></strong></span> command whose <em class="parameter"><code>commandBuffer</code></em> was allocated from
     that <code class="code">VkCommandPool</code>
</li></ul></div></li><li class="listitem">
Host memory scoped to the lifetime of any other object <span class="normative">may</span> only be
    allocated in that object’s <span class="strong"><strong><code class="code">vkCreate*</code></strong></span> command.
</li></ul></div><p><em class="parameter"><code>pfnFree</code></em> <span class="normative">may</span> be called in the following situations:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host memory scoped to the lifetime of a <code class="code">VkDevice</code> or
    <code class="code">VkInstance</code> <span class="normative">may</span> be freed from any API command.
</li><li class="listitem">
Host memory scoped to the duration of a command <span class="normative">must</span> be freed by any
    API command which allocates such memory.
</li><li class="listitem">
Host memory scoped to the lifetime of a <code class="code">VkPipelineCache</code> <span class="normative">may</span> be
    freed from <span class="strong"><strong><code class="code">vkDestroyPipelineCache</code></strong></span>.
</li><li class="listitem"><p class="simpara">
Host memory scoped to the lifetime of a <code class="code">VkDescriptorPool</code> <span class="normative">may</span> be
    freed from
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
any command that takes the pool as a direct argument
</li></ul></div></li><li class="listitem"><p class="simpara">
Host memory scoped to the lifetime of a <code class="code">VkCommandPool</code> <span class="normative">may</span> be
    freed from:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
any command that takes the pool as a direct argument
</li><li class="listitem">
<span class="strong"><strong><code class="code">vkResetCommandBuffer</code></strong></span> whose <em class="parameter"><code>commandBuffer</code></em> was allocated from
     that <code class="code">VkCommandPool</code>
</li></ul></div></li><li class="listitem">
Host memory scoped to the lifetime of any other object <span class="normative">may</span> be freed in
    that object’s <span class="strong"><strong><code class="code">vkDestroy*</code></strong></span> command.
</li><li class="listitem">
Any command that allocates host memory <span class="normative">may</span> also free host memory of the
    same scope.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="memory-device"></a>10.2. Device Memory</h2></div></div></div><p>Device memory is memory that is visible to the device, for example the
contents of opaque images that <span class="normative">can</span> be natively used by the device, or
uniform buffer objects that reside in on-device memory.</p><p>Memory properties of a physical device describe the memory heaps and memory
types available.</p><p>To query memory properties, call:</p><p><a id="vkGetPhysicalDeviceMemoryProperties"></a><strong> </strong>
</p><pre class="programlisting">void vkGetPhysicalDeviceMemoryProperties(
    VkPhysicalDevice                            physicalDevice,
    VkPhysicalDeviceMemoryProperties*           pMemoryProperties);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the handle to the device to query.
</li><li class="listitem">
<em class="parameter"><code>pMemoryProperties</code></em> points to an instance of
    <code class="code">VkPhysicalDeviceMemoryProperties</code> structure in which the properties
    are returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pMemoryProperties</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkPhysicalDeviceMemoryProperties</code> structure
</li></ul></div></div><p>The <code class="code">VkPhysicalDeviceMemoryProperties</code> structure is defined as:</p><p><a id="VkPhysicalDeviceMemoryProperties"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPhysicalDeviceMemoryProperties {
    uint32_t        memoryTypeCount;
    VkMemoryType    memoryTypes[VK_MAX_MEMORY_TYPES];
    uint32_t        memoryHeapCount;
    VkMemoryHeap    memoryHeaps[VK_MAX_MEMORY_HEAPS];
} VkPhysicalDeviceMemoryProperties;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>memoryTypeCount</code></em> is the number of valid elements in the
    <em class="parameter"><code>memoryTypes</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>memoryTypes</code></em> is an array of <code class="code"><a class="link" href="#VkMemoryType">VkMemoryType</a></code> structures
    describing the <span class="emphasis"><em>memory types</em></span> that <span class="normative">can</span> be used to access memory
    allocated from the heaps specified by <em class="parameter"><code>memoryHeaps</code></em>.
</li><li class="listitem">
<em class="parameter"><code>memoryHeapCount</code></em> is the number of valid elements in the
    <em class="parameter"><code>memoryHeaps</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>memoryHeaps</code></em> is an array of <code class="code"><a class="link" href="#VkMemoryHeap">VkMemoryHeap</a></code> structures
    describing the <span class="emphasis"><em>memory heaps</em></span> from which memory <span class="normative">can</span> be allocated.
</li></ul></div><p>The <code class="code">VkPhysicalDeviceMemoryProperties</code> structure describes a number of
<span class="emphasis"><em>memory heaps</em></span> as well as a number of <span class="emphasis"><em>memory types</em></span> that <span class="normative">can</span> be used to
access memory allocated in those heaps.
Each heap describes a memory resource of a particular size, and each memory
type describes a set of memory properties (e.g.
host cached vs uncached) that <span class="normative">can</span> be used with a given memory heap.
Allocations using a particular memory type will consume resources from the
heap indicated by that memory type’s heap index.
More than one memory type <span class="normative">may</span> share each heap, and the heaps and memory
types provide a mechanism to advertise an accurate size of the physical
memory resources while allowing the memory to be used with a variety of
different properties.</p><p>The number of memory heaps is given by <em class="parameter"><code>memoryHeapCount</code></em> and is less
than or equal to <code class="code">VK_MAX_MEMORY_HEAPS</code>.
Each heap is described by an element of the <em class="parameter"><code>memoryHeaps</code></em> array, as a
<code class="code">VkMemoryHeap</code> structure.
The number of memory types available across all memory heaps is given by
<em class="parameter"><code>memoryTypeCount</code></em> and is less than or equal to
<code class="code">VK_MAX_MEMORY_TYPES</code>.
Each memory type is described by an element of the <em class="parameter"><code>memoryTypes</code></em> array,
as a <code class="code">VkMemoryType</code> structure.</p><p>At least one heap <span class="normative">must</span> include <code class="code">VK_MEMORY_HEAP_DEVICE_LOCAL_BIT</code> in
<code class="code"><a class="link" href="#VkMemoryHeap">VkMemoryHeap</a></code>::<em class="parameter"><code>flags</code></em>.
If there are multiple heaps that all have similar performance
characteristics, they <span class="normative">may</span> all include
<code class="code">VK_MEMORY_HEAP_DEVICE_LOCAL_BIT</code>.
In a unified memory architecture (UMA) system, there is often only a single
memory heap which is considered to be equally “local” to the host and to
the device, and such an implementation <span class="normative">must</span> advertise the heap as
device-local.</p><p>Each memory type returned by <code class="code"><a class="link" href="#vkGetPhysicalDeviceMemoryProperties">vkGetPhysicalDeviceMemoryProperties</a></code> <span class="normative">must</span>
have its <em class="parameter"><code>propertyFlags</code></em> set to one of the following values:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
0
</li><li class="listitem">
<code class="code">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |
    <code class="code">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code>
</li><li class="listitem">
<code class="code">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |
    <code class="code">VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code>
</li><li class="listitem">
<code class="code">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |
    <code class="code">VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code> |
    <code class="code">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code>
</li><li class="listitem">
<code class="code">VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code>
</li><li class="listitem">
<code class="code">VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> |
    <code class="code">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |
    <code class="code">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code>
</li><li class="listitem">
<code class="code">VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> |
    <code class="code">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |
    <code class="code">VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code>
</li><li class="listitem">
<code class="code">VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> |
    <code class="code">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |
    <code class="code">VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code> |
    <code class="code">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code>
</li><li class="listitem">
<code class="code">VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> |
    <code class="code">VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code>
</li></ul></div><p>There <span class="normative">must</span> be at least one memory type with both the
<code class="code">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> and
<code class="code">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> bits set in its
<em class="parameter"><code>propertyFlags</code></em>.
There <span class="normative">must</span> be at least one memory type with the
<code class="code">VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> bit set in its
<em class="parameter"><code>propertyFlags</code></em>.</p><p>The memory types are sorted according to a preorder which serves to aid in
easily selecting an appropriate memory type.
Given two memory types X and Y, the preorder defines <span class="inlinemediaobject"><span class="phrase">
$X \leq Y$
</span></span>
if:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
the memory property bits set for X are a strict subset of the memory
    property bits set for Y.
    Or,
</li><li class="listitem">
the memory property bits set for X are the same as the memory property
    bits set for Y, and X uses a memory heap with greater or equal
    performance (as determined in an implementation-specific manner).
</li></ul></div><p>Memory types are ordered in the list such that X is assigned a lesser
<em class="parameter"><code>memoryTypeIndex</code></em> than Y if <span class="inlinemediaobject"><span class="phrase">
$X \leq Y \land \neg(Y \leq X)$
</span></span>
according to the preorder.
Note that the list of all allowed memory property flag combinations above
satisfies this preorder, but other orders would as well.
The goal of this ordering is to enable applications to use a simple search
loop in selecting the proper memory type, along the lines of:</p><pre class="programlisting">// Find a memory type in "memoryTypeBits" that includes all of "properties"
int32_t FindProperties(uint32_t memoryTypeBits, VkMemoryPropertyFlags properties)
{
    for (int32_t i = 0; i &lt; memoryTypeCount; ++i)
    {
        if ((memoryTypeBits &amp; (1 &lt;&lt; i)) &amp;&amp;
            ((memoryTypes[i].propertyFlags &amp; properties) == properties))
            return i;
    }
    return -1;
}

// Try to find an optimal memory type, or if it does not exist
// find any compatible memory type
VkMemoryRequirements memoryRequirements;
vkGetImageMemoryRequirements(device, image, &amp;memoryRequirements);
int32_t memoryType = FindProperties(memoryRequirements.memoryTypeBits, optimalProperties);
if (memoryType == -1)
    memoryType = FindProperties(memoryRequirements.memoryTypeBits, requiredProperties);</pre><p>The loop will find the first supported memory type that has all bits
requested in <span class="strong"><strong><code class="code">properties</code></strong></span> set.
If there is no exact match, it will find a closest match (i.e.
a memory type with the fewest additional bits set), which has some
additional bits set but which are not detrimental to the behaviors requested
by <span class="strong"><strong><code class="code">properties</code></strong></span>.
The application <span class="normative">can</span> first search for the optimal properties, e.g.
a memory type that is device-local or supports coherent cached accesses, as
appropriate for the intended usage, and if such a memory type is not present
<span class="normative">can</span> fallback to searching for a less optimal but guaranteed set of
properties such as "0" or "host-visible and coherent".</p><p>The <code class="code">VkMemoryHeap</code> structure is defined as:</p><p><a id="VkMemoryHeap"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkMemoryHeap {
    VkDeviceSize         size;
    VkMemoryHeapFlags    flags;
} VkMemoryHeap;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>size</code></em> is the total memory size in bytes in the heap.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>flags</code></em> is a bitmask of attribute flags for the heap.
    The bits specified in <em class="parameter"><code>flags</code></em> are:
</p><p><a id="VkMemoryHeapFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkMemoryHeapFlagBits {
    VK_MEMORY_HEAP_DEVICE_LOCAL_BIT = 0x00000001,
} VkMemoryHeapFlagBits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
if <em class="parameter"><code>flags</code></em> contains <code class="code">VK_MEMORY_HEAP_DEVICE_LOCAL_BIT</code>, it means
     the heap corresponds to device local memory.
     Device local memory <span class="normative">may</span> have different performance characteristics
     than host local memory, and <span class="normative">may</span> support different memory property
     flags.
</li></ul></div></li></ul></div><p>The <code class="code">VkMemoryType</code> structure is defined as:</p><p><a id="VkMemoryType"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkMemoryType {
    VkMemoryPropertyFlags    propertyFlags;
    uint32_t                 heapIndex;
} VkMemoryType;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>heapIndex</code></em> describes which memory heap this memory type corresponds
    to, and <span class="normative">must</span> be less than <em class="parameter"><code>memoryHeapCount</code></em> from the
    <code class="code">VkPhysicalDeviceMemoryProperties</code> structure.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>propertyFlags</code></em> is a bitmask of properties for this memory type.
    The bits specified in <em class="parameter"><code>propertyFlags</code></em> are:
</p><p><a id="VkMemoryPropertyFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkMemoryPropertyFlagBits {
    VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT = 0x00000001,
    VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT = 0x00000002,
    VK_MEMORY_PROPERTY_HOST_COHERENT_BIT = 0x00000004,
    VK_MEMORY_PROPERTY_HOST_CACHED_BIT = 0x00000008,
    VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT = 0x00000010,
} VkMemoryPropertyFlagBits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
if <em class="parameter"><code>propertyFlags</code></em> has the
     <code class="code">VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> bit set, memory allocated
     with this type is the most efficient for device access.
     This property will only be set for memory types belonging to heaps with
     the <code class="code">VK_MEMORY_HEAP_DEVICE_LOCAL_BIT</code> set.
</li><li class="listitem">
if <em class="parameter"><code>propertyFlags</code></em> has the
     <code class="code">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> bit set, memory allocated
     with this type <span class="normative">can</span> be mapped for host access using <code class="code"><a class="link" href="#vkMapMemory">vkMapMemory</a></code>.
</li><li class="listitem">
if <em class="parameter"><code>propertyFlags</code></em> has the
     <code class="code">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> bit set, host cache
     management commands <span class="strong"><strong><code class="code">vkFlushMappedMemoryRanges</code></strong></span> and
     <span class="strong"><strong><code class="code">vkInvalidateMappedMemoryRanges</code></strong></span> are not needed to make host writes
     visible to the device or device writes visible to the host,
     respectively.
</li><li class="listitem">
if <em class="parameter"><code>propertyFlags</code></em> has the <code class="code">VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code>
     bit set, memory allocated with this type is cached on the host.
     Host memory accesses to uncached memory are slower than to cached
     memory, however uncached memory is always host coherent.
</li><li class="listitem">
if <em class="parameter"><code>propertyFlags</code></em> has the
     <code class="code">VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set, the memory type
     only allows device access to the memory.
     Memory types <span class="normative">must</span> not have both
     <code class="code">VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> and
     <code class="code">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> set.
     Additionally, the object’s backing memory <span class="normative">may</span> be provided by the
     implementation lazily as specified in <a class="link" href="#memory-device-lazy_allocation" title="10.2.2. Lazily Allocated Memory">Lazily Allocated Memory</a>.
</li></ul></div></li></ul></div><p>A Vulkan device operates on data in device memory via memory objects that
are represented in the API by a <code class="code">VkDeviceMemory</code> handle.</p><p>Memory objects are represented by <code class="code">VkDeviceMemory</code> handles:</p><p><a id="VkDeviceMemory"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDeviceMemory)</pre><p>
</p><p>To allocate memory objects, call:</p><p><a id="vkAllocateMemory"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkAllocateMemory(
    VkDevice                                    device,
    const VkMemoryAllocateInfo*                 pAllocateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkDeviceMemory*                             pMemory);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the memory.
</li><li class="listitem">
<em class="parameter"><code>pAllocateInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a></code> structure describing parameters of the
    allocation.
    A successful returned allocation <span class="normative">must</span> use the requested parameters —     no substitution is permitted by the implementation.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pMemory</code></em> is a pointer to a <code class="code">VkDeviceMemory</code> handle in which
    information about the allocated memory is returned.
</li></ul></div><p>Allocations returned by <span class="strong"><strong><code class="code">vkAllocateMemory</code></strong></span> are guaranteed to meet any
alignment requirement by the implementation.
For example, if an implementation requires 128 byte alignment for images and
64 byte alignment for buffers, the device memory returned through this
mechanism would be 128-byte aligned.
This ensures that applications <span class="normative">can</span> correctly suballocate objects of
different types (with potentially different alignment requirements) in the
same memory object.</p><p>When memory is allocated, its contents are undefined.</p><p>There is an implementation-dependent maximum number of memory allocations
which <span class="normative">can</span> be simultaneously created on a device.
This is specified by the
<a class="link" href="#features-limits-maxMemoryAllocationCount"><em class="parameter"><code>maxMemoryAllocationCount</code></em></a>
member of the <code class="code">VkPhysicalDeviceLimits</code> structure.
If <em class="parameter"><code>maxMemoryAllocationCount</code></em> is exceeded, <span class="strong"><strong><code class="code">vkAllocateMemory</code></strong></span> will
return <code class="code">VK_ERROR_TOO_MANY_OBJECTS</code>.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Some platforms <span class="normative">may</span> have a limit on the maximum size of a single allocation.
For example, certain systems <span class="normative">may</span> fail to create allocations with a size
greater than or equal to 4GB.
Such a limit is implementation-dependent, and if such a failure occurs then
the error <code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code> <span class="normative">should</span> be returned.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pAllocateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkMemoryAllocateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pMemory</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkDeviceMemory</code> handle
</li><li class="listitem">
The number of currently valid memory objects, allocated from <em class="parameter"><code>device</code></em>, <span class="normative">must</span> be less than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxMemoryAllocationCount</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_TOO_MANY_OBJECTS</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkMemoryAllocateInfo</code> structure is defined as:</p><p><a id="VkMemoryAllocateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkMemoryAllocateInfo {
    VkStructureType    sType;
    const void*        pNext;
    VkDeviceSize       allocationSize;
    uint32_t           memoryTypeIndex;
} VkMemoryAllocateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>allocationSize</code></em> is the size of the allocation in bytes
</li><li class="listitem">
<em class="parameter"><code>memoryTypeIndex</code></em> is the memory type index, which selects the
    properties of the memory to be allocated, as well as the heap the memory
    will come from.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>allocationSize</code></em> <span class="normative">must</span> be less than or equal to the amount of memory available to the <code class="code">VkMemoryHeap</code> specified by <em class="parameter"><code>memoryTypeIndex</code></em> and the calling command’s <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>allocationSize</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li></ul></div></div><p>To free a memory object, call:</p><p><a id="vkFreeMemory"></a><strong> </strong>
</p><pre class="programlisting">void vkFreeMemory(
    VkDevice                                    device,
    VkDeviceMemory                              memory,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the memory.
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> is the <code class="code">VkDeviceMemory</code> object to be freed.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><p>Before freeing a memory object, an application <span class="normative">must</span> ensure the memory
object is no longer in use by the device—for example by command buffers
queued for execution.
The memory <span class="normative">can</span> remain bound to images or buffers at the time the memory
object is freed, but any further use of them (on host or device) for
anything other than destroying those objects will result in undefined
behavior.
If there are still any bound images or buffers, the memory <span class="normative">may</span> not be
immediately released by the implementation, but <span class="normative">must</span> be released by the
time all bound images and buffers have been destroyed.
Once memory is released, it is returned to the heap from which it was
allocated.</p><p>How memory objects are bound to Images and Buffers is described in detail in
the <a class="link" href="#resources-association" title="11.6. Resource Memory Association">Resource Memory Association</a> section.</p><p>If a memory object is mapped at the time it is freed, it is implicitly
unmapped.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>memory</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>memory</code></em> <span class="normative">must</span> be a valid <code class="code">VkDeviceMemory</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>memory</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All submitted commands that refer to <em class="parameter"><code>memory</code></em> (via images or buffers) <span class="normative">must</span> have completed execution
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>memory</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="memory-device-hostaccess"></a>10.2.1. Host Access to Device Memory Objects</h3></div></div></div><p>Memory objects created with <span class="strong"><strong><code class="code">vkAllocateMemory</code></strong></span> are not directly host
accessible.</p><p>Memory objects created with the memory property
<code class="code">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> are considered <span class="emphasis"><em>mappable</em></span>.
Memory objects <span class="normative">must</span> be mappable in order to be successfully mapped on the
host.</p><p>To retrieve a host virtual address pointer to a region of a mappable memory
object, call:</p><p><a id="vkMapMemory"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkMapMemory(
    VkDevice                                    device,
    VkDeviceMemory                              memory,
    VkDeviceSize                                offset,
    VkDeviceSize                                size,
    VkMemoryMapFlags                            flags,
    void**                                      ppData);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the memory.
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> is the <code class="code">VkDeviceMemory</code> object to be mapped.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> is a zero-based byte offset from the beginning of the
    memory object.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is the size of the memory range to map, or
    <code class="code">VK_WHOLE_SIZE</code> to map from <em class="parameter"><code>offset</code></em> to the end of the
    allocation.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>ppData</code></em> points to a pointer in which is returned a host-accessible
    pointer to the beginning of the mapped range.
    This pointer minus <em class="parameter"><code>offset</code></em> <span class="normative">must</span> be aligned to at least
    <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>minMemoryMapAlignment</code></em>.
</li></ul></div><p>It is an application error to call <span class="strong"><strong><code class="code">vkMapMemory</code></strong></span> on a memory object that
is already mapped.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p><span class="strong"><strong><code class="code">vkMapMemory</code></strong></span> will fail if the implementation is unable to allocate
an appropriately sized contiguous virtual address range, e.g. due to
virtual address space fragmentation or platform limits.
In such cases, <span class="strong"><strong><code class="code">vkMapMemory</code></strong></span> <span class="normative">must</span> return VK_ERROR_MEMORY_MAP_FAILED.
The application <span class="normative">can</span> improve the likelihood of success by reducing the
size of the mapped range and/or removing unneeded mappings using
<span class="strong"><strong><code class="code">VkUnmapMemory</code></strong></span>.</p></td></tr></table></div><p><a id="memory-device-hostaccess-hazards"></a><span class="strong"><strong><code class="code">vkMapMemory</code></strong></span> does not check whether the device memory is currently in
use before returning the host-accessible pointer.
The application <span class="normative">must</span> guarantee that any previously submitted command that
writes to this range has completed before the host reads from or writes to
that range, and that any previously submitted command that reads from that
range has completed before the host writes to that region (see
<a class="link" href="#synchronization-fences-devicewrites">here</a> for details on fulfilling such
a guarantee).
If the device memory was allocated without the
<code class="code">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> set, these guarantees <span class="normative">must</span> be
made for an extended range: the application <span class="normative">must</span> round down the start of
the range to the nearest multiple of
<code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>nonCoherentAtomSize</code></em>, and round the end
of the range up to the nearest multiple of
<code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>nonCoherentAtomSize</code></em>.</p><p>While a range of device memory is mapped for host access, the application is
responsible for synchronizing both device and host access to that memory
range.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>It is important for the application developer to become meticulously
familiar with all of the mechanisms described in the chapter on
<a class="link" href="#synchronization" title="Chapter 6. Synchronization and Cache Control">Synchronization and Cache Control</a> as they are crucial
to maintaining memory access ordering.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> be a valid <code class="code">VkDeviceMemory</code> handle
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>ppData</code></em> <span class="normative">must</span> be a pointer to a pointer
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> not currently be mapped
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>memory</code></em>
</li><li class="listitem">
If <em class="parameter"><code>size</code></em> is not equal to <code class="code">VK_WHOLE_SIZE</code>, <em class="parameter"><code>size</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>size</code></em> is not equal to <code class="code">VK_WHOLE_SIZE</code>, <em class="parameter"><code>size</code></em> <span class="normative">must</span> be less than or equal to the size of the <em class="parameter"><code>memory</code></em> minus <em class="parameter"><code>offset</code></em>
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> have been created with a memory type that reports <code class="code">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>memory</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_MEMORY_MAP_FAILED</code>
</li></ul></div></dd></dl></div></div><p>Two commands are provided to enable applications to work with non-coherent
memory allocations: <span class="strong"><strong><code class="code">vkFlushMappedMemoryRanges</code></strong></span> and
<span class="strong"><strong><code class="code">vkInvalidateMappedMemoryRanges</code></strong></span>.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If the memory object was created with the
<code class="code">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> set,
<span class="strong"><strong><code class="code">vkFlushMappedMemoryRanges</code></strong></span> and <span class="strong"><strong><code class="code">vkInvalidateMappedMemoryRanges</code></strong></span> are
unnecessary and <span class="normative">may</span> have performance cost.</p></td></tr></table></div><p>To flush ranges of non-coherent memory from the host caches, call:</p><p><a id="vkFlushMappedMemoryRanges"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkFlushMappedMemoryRanges(
    VkDevice                                    device,
    uint32_t                                    memoryRangeCount,
    const VkMappedMemoryRange*                  pMemoryRanges);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the memory ranges.
</li><li class="listitem">
<em class="parameter"><code>memoryRangeCount</code></em> is the length of the <em class="parameter"><code>pMemoryRanges</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pMemoryRanges</code></em> is a pointer to an array of
    <code class="code"><a class="link" href="#VkMappedMemoryRange">VkMappedMemoryRange</a></code> structures describing the memory ranges to
    flush.
</li></ul></div><p><span class="strong"><strong><code class="code">vkFlushMappedMemoryRanges</code></strong></span> <span class="normative">must</span> be used to guarantee that host writes
to non-coherent memory are visible to the device.
It <span class="normative">must</span> be called after the host writes to non-coherent memory have
completed and before command buffers that will read or write any of those
memory locations are submitted to a queue.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pMemoryRanges</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>memoryRangeCount</code></em> valid <code class="code">VkMappedMemoryRange</code> structures
</li><li class="listitem">
<em class="parameter"><code>memoryRangeCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>To invalidate ranges of non-coherent memory from the host caches, call:</p><p><a id="vkInvalidateMappedMemoryRanges"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkInvalidateMappedMemoryRanges(
    VkDevice                                    device,
    uint32_t                                    memoryRangeCount,
    const VkMappedMemoryRange*                  pMemoryRanges);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the memory ranges.
</li><li class="listitem">
<em class="parameter"><code>memoryRangeCount</code></em> is the length of the <em class="parameter"><code>pMemoryRanges</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pMemoryRanges</code></em> is a pointer to an array of
    <code class="code"><a class="link" href="#VkMappedMemoryRange">VkMappedMemoryRange</a></code> structures describing the memory ranges to
    invalidate.
</li></ul></div><p><span class="strong"><strong><code class="code">vkInvalidateMappedMemoryRanges</code></strong></span> <span class="normative">must</span> be used to guarantee that device
writes to non-coherent memory are visible to the host.
It <span class="normative">must</span> be called after command buffers that execute and flush (via memory
barriers) the device writes have completed, and before the host will read or
write any of those locations.
If a range of non-coherent memory is written by the host and then
invalidated without first being flushed, its contents are undefined.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pMemoryRanges</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>memoryRangeCount</code></em> valid <code class="code">VkMappedMemoryRange</code> structures
</li><li class="listitem">
<em class="parameter"><code>memoryRangeCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkMappedMemoryRange</code> structure is defined as:</p><p><a id="VkMappedMemoryRange"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkMappedMemoryRange {
    VkStructureType    sType;
    const void*        pNext;
    VkDeviceMemory     memory;
    VkDeviceSize       offset;
    VkDeviceSize       size;
} VkMappedMemoryRange;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> is the memory object to which this range belongs.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> is the zero-based byte offset from the beginning of the
    memory object.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is either the size of range, or <code class="code">VK_WHOLE_SIZE</code> to affect
    the range from <em class="parameter"><code>offset</code></em> to the end of the current mapping of the
    allocation.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_MAPPED_MEMORY_RANGE</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> be a valid <code class="code">VkDeviceMemory</code> handle
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> currently be mapped
</li><li class="listitem">
If <em class="parameter"><code>size</code></em> is not equal to <code class="code">VK_WHOLE_SIZE</code>, <em class="parameter"><code>offset</code></em> and <em class="parameter"><code>size</code></em> <span class="normative">must</span> specify a range contained within the currently mapped range of <em class="parameter"><code>memory</code></em>
</li><li class="listitem">
If <em class="parameter"><code>size</code></em> is equal to <code class="code">VK_WHOLE_SIZE</code>, <em class="parameter"><code>offset</code></em> <span class="normative">must</span> be within the currently mapped range of <em class="parameter"><code>memory</code></em>
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be a multiple of <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>nonCoherentAtomSize</code></em>
</li><li class="listitem">
If <em class="parameter"><code>size</code></em> is not equal to <code class="code">VK_WHOLE_SIZE</code>, <em class="parameter"><code>size</code></em> <span class="normative">must</span> be a multiple of <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>nonCoherentAtomSize</code></em>
</li></ul></div></div><p>Host-visible memory types that advertise the
<code class="code">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> property still require
<a class="link" href="#synchronization-pipeline-barriers" title="6.5. Pipeline Barriers">memory barriers</a> between host and
device in order to be coherent, but do not require additional cache
management operations to achieve coherency.
For host writes to be seen by subsequent command buffer operations, a
pipeline barrier from a source of <code class="code">VK_ACCESS_HOST_WRITE_BIT</code> and
<code class="code">VK_PIPELINE_STAGE_HOST_BIT</code> to a destination of the relevant device
pipeline stages and access types <span class="normative">must</span> be performed.
Note that such a barrier is performed
<a class="link" href="#synchronization-implicit-ordering-hostwrites" title="6.6. Host Write Ordering Guarantees">implicitly</a> upon each
command buffer submission, so an explicit barrier is only rarely needed
(e.g.
if a command buffer waits upon an event signaled by the host, where the host
wrote some data after submission).
For device writes to be seen by subsequent host reads, a pipeline barrier is
<span class="normative">required</span> to <a class="link" href="#synchronization-fences-devicewrites">make the writes visible</a>.</p><p>To unmap a memory object once host access to it is no longer needed by the
application, call:</p><p><a id="vkUnmapMemory"></a><strong> </strong>
</p><pre class="programlisting">void vkUnmapMemory(
    VkDevice                                    device,
    VkDeviceMemory                              memory);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the memory.
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> is the memory object to be unmapped.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> be a valid <code class="code">VkDeviceMemory</code> handle
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> currently be mapped
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>memory</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="memory-device-lazy_allocation"></a>10.2.2. Lazily Allocated Memory</h3></div></div></div><p>If the memory object is allocated from a heap with the
<code class="code">VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set, that object’s backing
memory <span class="normative">may</span> be provided by the implementation lazily.
The actual committed size of the memory <span class="normative">may</span> initially be as small as zero
(or as large as the requested size), and monotonically increases as
additional memory is needed.</p><p>A memory type with this flag set is only allowed to be bound to a
<code class="code">VkImage</code> whose usage flags include
<code class="code">VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Using lazily allocated memory objects for framebuffer attachments that are
not needed once a render pass instance has completed <span class="normative">may</span> allow some
implementations to never allocate memory for such attachments.</p></td></tr></table></div><p>To determine the amount of lazily-allocated memory that is currently
committed for a memory object, call:</p><p><a id="vkGetDeviceMemoryCommitment"></a><strong> </strong>
</p><pre class="programlisting">void vkGetDeviceMemoryCommitment(
    VkDevice                                    device,
    VkDeviceMemory                              memory,
    VkDeviceSize*                               pCommittedMemoryInBytes);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the memory.
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> is the memory object being queried.
</li><li class="listitem">
<em class="parameter"><code>pCommittedMemoryInBytes</code></em> is a pointer to a <code class="code">VkDeviceSize</code>
    value in which the number of bytes currently committed is returned, on
    success.
</li></ul></div><p>The implementation <span class="normative">may</span> update the commitment at any time, and the value
returned by this query <span class="normative">may</span> be out of date.</p><p>The implementation guarantees to allocate any committed memory from the
heapIndex indicated by the memory type that the memory object was created
with.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> be a valid <code class="code">VkDeviceMemory</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCommittedMemoryInBytes</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkDeviceSize</code> value
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> have been created with a memory type that reports <code class="code">VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code>
</li></ul></div></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="resources"></a>Chapter 11. Resource Creation</h1></div></div></div><p>Vulkan supports two primary resource types: <span class="emphasis"><em>buffers</em></span> and <span class="emphasis"><em>images</em></span>.
Resources are views of memory with associated formatting and dimensionality.
Buffers are essentially unformatted arrays of bytes whereas images contain
format information, <span class="normative">can</span> be multidimensional and <span class="normative">may</span> have associated
metadata.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="resources-buffers"></a>11.1. Buffers</h2></div></div></div><p>Buffers represent linear arrays of data which are used for various purposes
by binding them to a graphics or compute pipeline via descriptor sets or via
certain commands, or by directly specifying them as parameters to certain
commands.</p><p>Buffers are represented by <code class="code">VkBuffer</code> handles:</p><p><a id="VkBuffer"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkBuffer)</pre><p>
</p><p>To create buffers, call:</p><p><a id="vkCreateBuffer"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateBuffer(
    VkDevice                                    device,
    const VkBufferCreateInfo*                   pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkBuffer*                                   pBuffer);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the buffer object.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code">VkBufferCreateInfo</code> structure containing parameters affecting
    creation of the buffer.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pBuffer</code></em> points to a <code class="code">VkBuffer</code> handle in which the resulting
    buffer object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkBufferCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pBuffer</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkBuffer</code> handle
</li><li class="listitem">
If the <em class="parameter"><code>flags</code></em> member of <em class="parameter"><code>pCreateInfo</code></em> includes <code class="code">VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code>, creating this <code class="code">VkBuffer</code> <span class="normative">must</span> not cause the total required sparse memory for all currently valid sparse resources on the device to exceed <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>sparseAddressSpaceSize</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkBufferCreateInfo</code> structure is defined as:</p><p><a id="VkBufferCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkBufferCreateInfo {
    VkStructureType        sType;
    const void*            pNext;
    VkBufferCreateFlags    flags;
    VkDeviceSize           size;
    VkBufferUsageFlags     usage;
    VkSharingMode          sharingMode;
    uint32_t               queueFamilyIndexCount;
    const uint32_t*        pQueueFamilyIndices;
} VkBufferCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is a bitmask describing additional parameters of the buffer.
    See <code class="code"><a class="link" href="#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a></code> below for a description of the
    supported bits.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is the size in bytes of the buffer to be created.
</li><li class="listitem">
<em class="parameter"><code>usage</code></em> is a bitmask describing the allowed usages of the buffer.
    See <code class="code"><a class="link" href="#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a></code> below for a description of the supported
    bits.
</li><li class="listitem">
<em class="parameter"><code>sharingMode</code></em> is the sharing mode of the buffer when it will be
    accessed by multiple queue families, see <code class="code"><a class="link" href="#VkSharingMode">VkSharingMode</a></code> in the
    <a class="link" href="#resources-sharing" title="11.7. Resource Sharing Mode">Resource Sharing</a> section below for supported
    values.
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndexCount</code></em> is the number of entries in the
    <em class="parameter"><code>pQueueFamilyIndices</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pQueueFamilyIndices</code></em> is a list of queue families that will access
    this buffer (ignored if <em class="parameter"><code>sharingMode</code></em> is not
    <code class="code">VK_SHARING_MODE_CONCURRENT</code>).
</li></ul></div><p>Bits which <span class="normative">can</span> be set in <em class="parameter"><code>usage</code></em> are:</p><p><a id="VkBufferUsageFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkBufferUsageFlagBits {
    VK_BUFFER_USAGE_TRANSFER_SRC_BIT = 0x00000001,
    VK_BUFFER_USAGE_TRANSFER_DST_BIT = 0x00000002,
    VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT = 0x00000004,
    VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT = 0x00000008,
    VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT = 0x00000010,
    VK_BUFFER_USAGE_STORAGE_BUFFER_BIT = 0x00000020,
    VK_BUFFER_USAGE_INDEX_BUFFER_BIT = 0x00000040,
    VK_BUFFER_USAGE_VERTEX_BUFFER_BIT = 0x00000080,
    VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT = 0x00000100,
} VkBufferUsageFlagBits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_BUFFER_USAGE_TRANSFER_SRC_BIT</code> indicates that the buffer <span class="normative">can</span> be
    used as the source of a <span class="emphasis"><em>transfer command</em></span> (see the definition of
    <a class="link" href="#synchronization-transfer"><code class="code">VK_PIPELINE_STAGE_TRANSFER_BIT</code></a>).
</li><li class="listitem">
<code class="code">VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> indicates that the buffer <span class="normative">can</span> be
    used as the destination of a transfer command.
</li><li class="listitem">
<code class="code">VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> indicates that the buffer
    <span class="normative">can</span> be used to create a <code class="code">VkBufferView</code> suitable for occupying a
    <code class="code">VkDescriptorSet</code> slot of type
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>.
</li><li class="listitem">
<code class="code">VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code> indicates that the buffer
    <span class="normative">can</span> be used to create a <code class="code">VkBufferView</code> suitable for occupying a
    <code class="code">VkDescriptorSet</code> slot of type
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>.
</li><li class="listitem">
<code class="code">VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</code> indicates that the buffer <span class="normative">can</span>
    be used in a <code class="code">VkDescriptorBufferInfo</code> suitable for occupying a
    <code class="code">VkDescriptorSet</code> slot either of type
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>.
</li><li class="listitem">
<code class="code">VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code> indicates that the buffer <span class="normative">can</span>
    be used in a <code class="code">VkDescriptorBufferInfo</code> suitable for occupying a
    <code class="code">VkDescriptorSet</code> slot either of type
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>.
</li><li class="listitem">
<code class="code">VK_BUFFER_USAGE_INDEX_BUFFER_BIT</code> indicates that the buffer is
    suitable for passing as the <em class="parameter"><code>buffer</code></em> parameter to
    <span class="strong"><strong><code class="code">vkCmdBindIndexBuffer</code></strong></span>.
</li><li class="listitem">
<code class="code">VK_BUFFER_USAGE_VERTEX_BUFFER_BIT</code> indicates that the buffer is
    suitable for passing as an element of the <em class="parameter"><code>pBuffers</code></em> array to
    <span class="strong"><strong><code class="code">vkCmdBindVertexBuffers</code></strong></span>.
</li><li class="listitem">
<code class="code">VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> indicates that the buffer is
    suitable for passing as the <em class="parameter"><code>buffer</code></em> parameter to
    <span class="strong"><strong><code class="code">vkCmdDrawIndirect</code></strong></span>, <span class="strong"><strong><code class="code">vkCmdDrawIndexedIndirect</code></strong></span>, or
    <span class="strong"><strong><code class="code">vkCmdDispatchIndirect</code></strong></span>.
</li></ul></div><p>Any combination of bits <span class="normative">can</span> be specified for <em class="parameter"><code>usage</code></em>, but at least one
of the bits <span class="normative">must</span> be set in order to create a valid buffer.</p><p>Bits which <span class="normative">can</span> be set in <em class="parameter"><code>flags</code></em> are:</p><p><a id="VkBufferCreateFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkBufferCreateFlagBits {
    VK_BUFFER_CREATE_SPARSE_BINDING_BIT = 0x00000001,
    VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT = 0x00000002,
    VK_BUFFER_CREATE_SPARSE_ALIASED_BIT = 0x00000004,
} VkBufferCreateFlagBits;</pre><p>
</p><p>These bits have the following meanings:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> indicates that the buffer will
    be backed using sparse memory binding.
</li><li class="listitem">
<code class="code">VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> indicates that the buffer
    <span class="normative">can</span> be partially backed using sparse memory binding.
    Buffers created with this flag <span class="normative">must</span> also be created with the
    <code class="code">VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> flag.
</li><li class="listitem">
<code class="code">VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code> indicates that the buffer will
    be backed using sparse memory binding with memory ranges that might also
    simultaneously be backing another buffer (or another portion of the same
    buffer).
    Buffers created with this flag <span class="normative">must</span> also be created with the
    <code class="code">VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> flag.
</li></ul></div><p>See <a class="link" href="#sparsememory-sparseresourcefeatures" title="28.1. Sparse Resource Features">Sparse Resource Features</a> and
<a class="link" href="#features-features" title="31.1. Features">Physical Device Features</a> for details of the sparse
memory features supported on a device.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>usage</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>usage</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>sharingMode</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSharingMode">VkSharingMode</a></code> value
</li><li class="listitem">
<em class="parameter"><code>size</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>sharingMode</code></em> is <code class="code">VK_SHARING_MODE_CONCURRENT</code>, <em class="parameter"><code>pQueueFamilyIndices</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>queueFamilyIndexCount</code></em> <code class="code">uint32_t</code> values
</li><li class="listitem">
If <em class="parameter"><code>sharingMode</code></em> is <code class="code">VK_SHARING_MODE_CONCURRENT</code>, <em class="parameter"><code>queueFamilyIndexCount</code></em> <span class="normative">must</span> be greater than <code class="literal">1</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-sparseBinding">sparse bindings</a> feature is not enabled, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-sparseResidencyBuffer">sparse buffer residency</a> feature is not enabled, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-sparseResidencyAliased">sparse aliased residency</a> feature is not enabled, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains <code class="code">VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> or <code class="code">VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code>, it <span class="normative">must</span> also contain <code class="code">VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code>
</li></ul></div></div><p>To destroy a buffer, call:</p><p><a id="vkDestroyBuffer"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyBuffer(
    VkDevice                                    device,
    VkBuffer                                    buffer,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the buffer.
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> is the buffer to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>buffer</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>buffer</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All submitted commands that refer to <em class="parameter"><code>buffer</code></em>, either directly or via a <code class="code">VkBufferView</code>, <span class="normative">must</span> have completed execution
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>buffer</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>buffer</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="resources-buffer-views"></a>11.2. Buffer Views</h2></div></div></div><p>A <span class="emphasis"><em>buffer view</em></span> represents a contiguous range of a buffer and a specific
format to be used to interpret the data.
Buffer views are used to enable shaders to access buffer contents
interpreted as formatted data.
In order to create a valid buffer view, the buffer <span class="normative">must</span> have been created
with at least one of the following usage flags:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code>
</li><li class="listitem">
<code class="code">VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code>
</li></ul></div><p>Buffer views are represented by <code class="code">VkBufferView</code> handles:</p><p><a id="VkBufferView"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkBufferView)</pre><p>
</p><p>To create a buffer view, call:</p><p><a id="vkCreateBufferView"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateBufferView(
    VkDevice                                    device,
    const VkBufferViewCreateInfo*               pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkBufferView*                               pView);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the buffer view.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code">VkBufferViewCreateInfo</code> structure containing parameters to be used
    to create the buffer.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pView</code></em> points to a <code class="code">VkBufferView</code> handle in which the resulting
    buffer view object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkBufferViewCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pView</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkBufferView</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkBufferViewCreateInfo</code> structure is defined as:</p><p><a id="VkBufferViewCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkBufferViewCreateInfo {
    VkStructureType            sType;
    const void*                pNext;
    VkBufferViewCreateFlags    flags;
    VkBuffer                   buffer;
    VkFormat                   format;
    VkDeviceSize               offset;
    VkDeviceSize               range;
} VkBufferViewCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> is a <code class="code">VkBuffer</code> on which the view will be created.
</li><li class="listitem">
<em class="parameter"><code>format</code></em> is a <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> describing the format of the data
    elements in the buffer.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> is an offset in bytes from the base address of the buffer.
    Accesses to the buffer view from shaders use addressing that is relative
    to this starting offset.
</li><li class="listitem">
<em class="parameter"><code>range</code></em> is a size in bytes of the buffer view.
    If <em class="parameter"><code>range</code></em> is equal to <code class="code">VK_WHOLE_SIZE</code>, the range from
    <em class="parameter"><code>offset</code></em> to the end of the buffer is used.
    If <code class="code">VK_WHOLE_SIZE</code> is used and the remaining size of the buffer is
    not a multiple of the element size of <em class="parameter"><code>format</code></em>, then the nearest
    smaller multiple is used.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_BUFFER_VIEW_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>format</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> value
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>buffer</code></em>
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be a multiple of <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>minTexelBufferOffsetAlignment</code></em>
</li><li class="listitem"><p class="simpara">
If <em class="parameter"><code>range</code></em> is not equal to <code class="code">VK_WHOLE_SIZE</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<em class="parameter"><code>range</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>range</code></em> <span class="normative">must</span> be a multiple of the element size of <em class="parameter"><code>format</code></em>
</li><li class="listitem">
<em class="parameter"><code>range</code></em> divided by the size of an element of <em class="parameter"><code>format</code></em>, <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxTexelBufferElements</code></em>
</li><li class="listitem">
the sum of <em class="parameter"><code>offset</code></em> and <em class="parameter"><code>range</code></em> <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>buffer</code></em>
</li></ul></div></li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> have been created with a <em class="parameter"><code>usage</code></em> value containing at least one of <code class="code">VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> or <code class="code">VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>buffer</code></em> was created with <em class="parameter"><code>usage</code></em> containing <code class="code">VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be supported for uniform texel buffers, as specified by the <code class="code">VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>bufferFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li><li class="listitem">
If <em class="parameter"><code>buffer</code></em> was created with <em class="parameter"><code>usage</code></em> containing <code class="code">VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be supported for storage texel buffers, as specified by the <code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>bufferFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li></ul></div></div><p>To destroy a buffer view, call:</p><p><a id="vkDestroyBufferView"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyBufferView(
    VkDevice                                    device,
    VkBufferView                                bufferView,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the buffer view.
</li><li class="listitem">
<em class="parameter"><code>bufferView</code></em> is the buffer view to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>bufferView</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>bufferView</code></em> <span class="normative">must</span> be a valid <code class="code">VkBufferView</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>bufferView</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All submitted commands that refer to <em class="parameter"><code>bufferView</code></em> <span class="normative">must</span> have completed execution
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>bufferView</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>bufferView</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>bufferView</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="resources-images"></a>11.3. Images</h2></div></div></div><p>Images represent multidimensional - up to 3 - arrays of data which <span class="normative">can</span> be
used for various purposes (e.g.
attachments, textures), by binding them to a graphics or compute pipeline
via descriptor sets, or by directly specifying them as parameters to certain
commands.</p><p>Images are represented by <code class="code">VkImage</code> handles:</p><p><a id="VkImage"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkImage)</pre><p>
</p><p>To create images, call:</p><p><a id="vkCreateImage"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateImage(
    VkDevice                                    device,
    const VkImageCreateInfo*                    pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkImage*                                    pImage);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the image.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code">VkImageCreateInfo</code> structure containing parameters to be used to
    create the image.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pImage</code></em> points to a <code class="code">VkImage</code> handle in which the resulting
    image object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkImageCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pImage</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkImage</code> handle
</li><li class="listitem">
If the <em class="parameter"><code>flags</code></em> member of <em class="parameter"><code>pCreateInfo</code></em> includes <code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>, creating this <code class="code">VkImage</code> <span class="normative">must</span> not cause the total required sparse memory for all currently valid sparse resources on the device to exceed <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>sparseAddressSpaceSize</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkImageCreateInfo</code> structure is defined as:</p><p><a id="VkImageCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkImageCreateInfo {
    VkStructureType          sType;
    const void*              pNext;
    VkImageCreateFlags       flags;
    VkImageType              imageType;
    VkFormat                 format;
    VkExtent3D               extent;
    uint32_t                 mipLevels;
    uint32_t                 arrayLayers;
    VkSampleCountFlagBits    samples;
    VkImageTiling            tiling;
    VkImageUsageFlags        usage;
    VkSharingMode            sharingMode;
    uint32_t                 queueFamilyIndexCount;
    const uint32_t*          pQueueFamilyIndices;
    VkImageLayout            initialLayout;
} VkImageCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is a bitmask describing additional parameters of the image.
    See <code class="code"><a class="link" href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a></code> below for a description of the supported
    bits.
</li><li class="listitem">
<em class="parameter"><code>imageType</code></em> is a <code class="code"><a class="link" href="#VkImageType">VkImageType</a></code> specifying the basic
    dimensionality of the image, as described below.
    Layers in array textures do not count as a dimension for the purposes of
    the image type.
</li><li class="listitem">
<em class="parameter"><code>format</code></em> is a <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> describing the format and type of the
    data elements that will be contained in the image.
</li><li class="listitem">
<em class="parameter"><code>extent</code></em> is a <code class="code"><a class="link" href="#VkExtent3D">VkExtent3D</a></code> describing the number of data
    elements in each dimension of the base level.
</li><li class="listitem">
<em class="parameter"><code>mipLevels</code></em> describes the number of levels of detail available for
    minified sampling of the image.
</li><li class="listitem">
<em class="parameter"><code>arrayLayers</code></em> is the number of layers in the image.
</li><li class="listitem">
<em class="parameter"><code>samples</code></em> is the number of sub-data element samples in the image as
    defined in <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code>.
    See <a class="link" href="#primsrast-multisampling" title="24.3. Multisampling">Multisampling</a>.
</li><li class="listitem">
<em class="parameter"><code>tiling</code></em> is a <code class="code"><a class="link" href="#VkImageTiling">VkImageTiling</a></code> specifying the tiling arrangement
    of the data elements in memory, as described below.
</li><li class="listitem">
<em class="parameter"><code>usage</code></em> is a bitmask describing the intended usage of the image.
    See <code class="code"><a class="link" href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code> below for a description of the supported
    bits.
</li><li class="listitem">
<em class="parameter"><code>sharingMode</code></em> is the sharing mode of the image when it will be
    accessed by multiple queue families, and <span class="normative">must</span> be one of the values
    described for <code class="code"><a class="link" href="#VkSharingMode">VkSharingMode</a></code> in the <a class="link" href="#resources-sharing" title="11.7. Resource Sharing Mode">Resource     Sharing</a> section below.
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndexCount</code></em> is the number of entries in the
    <em class="parameter"><code>pQueueFamilyIndices</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pQueueFamilyIndices</code></em> is a list of queue families that will access
    this image (ignored if <em class="parameter"><code>sharingMode</code></em> is not
    <code class="code">VK_SHARING_MODE_CONCURRENT</code>).
</li><li class="listitem">
<em class="parameter"><code>initialLayout</code></em> selects the initial <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> state of all
    image subresources of the image.
    See <a class="link" href="#resources-image-layouts" title="11.4. Image Layouts">Image Layouts</a>.
    <em class="parameter"><code>initialLayout</code></em> <span class="normative">must</span> be <code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code> or
    <code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code>.
</li></ul></div><p>Valid limits for the image <em class="parameter"><code>extent</code></em>, <em class="parameter"><code>mipLevels</code></em>, <em class="parameter"><code>arrayLayers</code></em>
and <em class="parameter"><code>samples</code></em> members are queried with the
<code class="code"><a class="link" href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a></code> command.</p><p>Images created with <em class="parameter"><code>tiling</code></em> equal to <code class="code">VK_IMAGE_TILING_LINEAR</code> have
further restrictions on their limits and capabilities compared to images
created with <em class="parameter"><code>tiling</code></em> equal to <code class="code">VK_IMAGE_TILING_OPTIMAL</code>.
Creation of images with tiling <code class="code">VK_IMAGE_TILING_LINEAR</code> <span class="normative">may</span> not be
supported unless other parameters meet all of the constraints:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_2D</code>
</li><li class="listitem">
<em class="parameter"><code>format</code></em> is not a depth/stencil format
</li><li class="listitem">
<em class="parameter"><code>mipLevels</code></em> is 1
</li><li class="listitem">
<em class="parameter"><code>arrayLayers</code></em> is 1
</li><li class="listitem">
<em class="parameter"><code>samples</code></em> is <code class="code">VK_SAMPLE_COUNT_1_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>usage</code></em> only includes <code class="code">VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> and/or
    <code class="code">VK_IMAGE_USAGE_TRANSFER_DST_BIT</code>
</li></ul></div><p>Implementations <span class="normative">may</span> support additional limits and capabilities beyond those
listed above.
To determine the specific capabilities of an implementation, query the valid
<em class="parameter"><code>usage</code></em> bits by calling <code class="code"><a class="link" href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code> and
the valid limits for <em class="parameter"><code>mipLevels</code></em> and <em class="parameter"><code>arrayLayers</code></em> by calling
<code class="code"><a class="link" href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a></code>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>imageType</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageType">VkImageType</a></code> value
</li><li class="listitem">
<em class="parameter"><code>format</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> value
</li><li class="listitem">
<em class="parameter"><code>samples</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> value
</li><li class="listitem">
<em class="parameter"><code>tiling</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageTiling">VkImageTiling</a></code> value
</li><li class="listitem">
<em class="parameter"><code>usage</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>usage</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>sharingMode</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSharingMode">VkSharingMode</a></code> value
</li><li class="listitem">
<em class="parameter"><code>initialLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
If <em class="parameter"><code>sharingMode</code></em> is <code class="code">VK_SHARING_MODE_CONCURRENT</code>, <em class="parameter"><code>pQueueFamilyIndices</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>queueFamilyIndexCount</code></em> <code class="code">uint32_t</code> values
</li><li class="listitem">
If <em class="parameter"><code>sharingMode</code></em> is <code class="code">VK_SHARING_MODE_CONCURRENT</code>, <em class="parameter"><code>queueFamilyIndexCount</code></em> <span class="normative">must</span> be greater than <code class="literal">1</code>
</li><li class="listitem">
<em class="parameter"><code>format</code></em> <span class="normative">must</span> not be <code class="code">VK_FORMAT_UNDEFINED</code>
</li><li class="listitem">
The <em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em>, and <em class="parameter"><code>depth</code></em> members of <em class="parameter"><code>extent</code></em> <span class="normative">must</span> all be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>mipLevels</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>arrayLayers</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains <code class="code">VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>, <em class="parameter"><code>imageType</code></em> must be <code class="code">VK_IMAGE_TYPE_2D</code>
</li><li class="listitem">
If <em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_1D</code>, <em class="parameter"><code>extent.width</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxImageDimension1D</code></em>, or <code class="code">VkImageFormatProperties</code>::<em class="parameter"><code>maxExtent.width</code></em> (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceImageFormatProperties</code></strong></span> with <em class="parameter"><code>format</code></em>, <em class="parameter"><code>type</code></em>, <em class="parameter"><code>tiling</code></em>, <em class="parameter"><code>usage</code></em>, and <em class="parameter"><code>flags</code></em> equal to those in this structure) - whichever is higher
</li><li class="listitem">
If <em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_2D</code> and <em class="parameter"><code>flags</code></em> does not contain <code class="code">VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>, <em class="parameter"><code>extent.width</code></em> and <em class="parameter"><code>extent.height</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxImageDimension2D</code></em>, or <code class="code">VkImageFormatProperties</code>::<em class="parameter"><code>maxExtent.width</code></em>/height (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceImageFormatProperties</code></strong></span> with <em class="parameter"><code>format</code></em>, <em class="parameter"><code>type</code></em>, <em class="parameter"><code>tiling</code></em>, <em class="parameter"><code>usage</code></em>, and <em class="parameter"><code>flags</code></em> equal to those in this structure) - whichever is higher
</li><li class="listitem">
If <em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_2D</code> and <em class="parameter"><code>flags</code></em> contains <code class="code">VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>, <em class="parameter"><code>extent.width</code></em> and <em class="parameter"><code>extent.height</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxImageDimensionCube</code></em>, or <code class="code">VkImageFormatProperties</code>::<em class="parameter"><code>maxExtent.width</code></em>/height (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceImageFormatProperties</code></strong></span> with <em class="parameter"><code>format</code></em>, <em class="parameter"><code>type</code></em>, <em class="parameter"><code>tiling</code></em>, <em class="parameter"><code>usage</code></em>, and <em class="parameter"><code>flags</code></em> equal to those in this structure) - whichever is higher
</li><li class="listitem">
If <em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_2D</code> and <em class="parameter"><code>flags</code></em> contains <code class="code">VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>, <em class="parameter"><code>extent.width</code></em> and <em class="parameter"><code>extent.height</code></em> <span class="normative">must</span> be equal and <em class="parameter"><code>arrayLayers</code></em> <span class="normative">must</span> be greater than or equal to 6
</li><li class="listitem">
If <em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_3D</code>, <em class="parameter"><code>extent.width</code></em>, <em class="parameter"><code>extent.height</code></em> and <em class="parameter"><code>extent.depth</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxImageDimension3D</code></em>, or <code class="code">VkImageFormatProperties</code>::<em class="parameter"><code>maxExtent.width</code></em>/height/depth (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceImageFormatProperties</code></strong></span> with <em class="parameter"><code>format</code></em>, <em class="parameter"><code>type</code></em>, <em class="parameter"><code>tiling</code></em>, <em class="parameter"><code>usage</code></em>, and <em class="parameter"><code>flags</code></em> equal to those in this structure) - whichever is higher
</li><li class="listitem">
If <em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_1D</code>, both <em class="parameter"><code>extent.height</code></em> and <em class="parameter"><code>extent.depth</code></em> <span class="normative">must</span> be <code class="literal">1</code>
</li><li class="listitem">
If <em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_2D</code>, <em class="parameter"><code>extent.depth</code></em> <span class="normative">must</span> be <code class="literal">1</code>
</li><li class="listitem">
<em class="parameter"><code>mipLevels</code></em> <span class="normative">must</span> be less than or equal to <span class="inlinemediaobject"><span class="phrase">
$\lfloor\log_2(\max(\mathit{extent.width}, \mathit{extent.height}, \mathit{extent.depth}))\rfloor + 1$
</span></span>
</li><li class="listitem">
If any of <em class="parameter"><code>extent.width</code></em>, <em class="parameter"><code>extent.height</code></em>, or <em class="parameter"><code>extent.depth</code></em> are greater than the equivalently named members of <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxImageDimension3D</code></em>, <em class="parameter"><code>mipLevels</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkImageFormatProperties</code>::<em class="parameter"><code>maxMipLevels</code></em> (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceImageFormatProperties</code></strong></span> with <em class="parameter"><code>format</code></em>, <em class="parameter"><code>type</code></em>, <em class="parameter"><code>tiling</code></em>, <em class="parameter"><code>usage</code></em>, and <em class="parameter"><code>flags</code></em> equal to those in this structure)
</li><li class="listitem">
<em class="parameter"><code>arrayLayers</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxImageArrayLayers</code></em>, or <code class="code">VkImageFormatProperties</code>::<em class="parameter"><code>maxArrayLayers</code></em> (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceImageFormatProperties</code></strong></span> with <em class="parameter"><code>format</code></em>, <em class="parameter"><code>type</code></em>, <em class="parameter"><code>tiling</code></em>, <em class="parameter"><code>usage</code></em>, and <em class="parameter"><code>flags</code></em> equal to those in this structure) - whichever is higher
</li><li class="listitem">
If <em class="parameter"><code>samples</code></em> is not <code class="code">VK_SAMPLE_COUNT_1_BIT</code>, <em class="parameter"><code>imageType</code></em> <span class="normative">must</span> be <code class="code">VK_IMAGE_TYPE_2D</code>, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>, <em class="parameter"><code>tiling</code></em> <span class="normative">must</span> be <code class="code">VK_IMAGE_TILING_OPTIMAL</code>, and <em class="parameter"><code>mipLevels</code></em> <span class="normative">must</span> be equal to <code class="literal">1</code>
</li><li class="listitem">
If <em class="parameter"><code>usage</code></em> includes <code class="code">VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>, then bits other than <code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>, <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and <code class="code">VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> <span class="normative">must</span> not be set
</li><li class="listitem">
If <em class="parameter"><code>usage</code></em> includes <code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>, <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, <code class="code">VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>, or <code class="code">VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>, <em class="parameter"><code>extent.width</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxFramebufferWidth</code></em>
</li><li class="listitem">
If <em class="parameter"><code>usage</code></em> includes <code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>, <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, <code class="code">VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>, or <code class="code">VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>, <em class="parameter"><code>extent.height</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxFramebufferHeight</code></em>
</li><li class="listitem">
<em class="parameter"><code>samples</code></em> <span class="normative">must</span> be a bit value that is set in <code class="code">VkImageFormatProperties</code>::<em class="parameter"><code>sampleCounts</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceImageFormatProperties</code></strong></span> with <em class="parameter"><code>format</code></em>, <em class="parameter"><code>type</code></em>, <em class="parameter"><code>tiling</code></em>, <em class="parameter"><code>usage</code></em>, and <em class="parameter"><code>flags</code></em> equal to those in this structure
</li><li class="listitem">
If the <a class="link" href="#features-features-textureCompressionETC2">ETC2 texture compression</a> feature is not enabled, <em class="parameter"><code>format</code></em> <span class="normative">must</span> not be <code class="code">VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_EAC_R11_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_EAC_R11_SNORM_BLOCK</code>, <code class="code">VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code>, or <code class="code">VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-textureCompressionASTC_LDR">ASTC LDR texture compression</a> feature is not enabled, <em class="parameter"><code>format</code></em> <span class="normative">must</span> not be <code class="code">VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code>, or <code class="code">VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-textureCompressionBC">BC texture compression</a> feature is not enabled, <em class="parameter"><code>format</code></em> <span class="normative">must</span> not be <code class="code">VK_FORMAT_BC1_RGB_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC1_RGB_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_BC2_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC2_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_BC3_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC3_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_BC4_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC4_SNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC5_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC5_SNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC6H_UFLOAT_BLOCK</code>, <code class="code">VK_FORMAT_BC6H_SFLOAT_BLOCK</code>, <code class="code">VK_FORMAT_BC7_UNORM_BLOCK</code>, or <code class="code">VK_FORMAT_BC7_SRGB_BLOCK</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-shaderStorageImageMultisample">multisampled storage images</a> feature is not enabled, and <em class="parameter"><code>usage</code></em> contains <code class="code">VK_IMAGE_USAGE_STORAGE_BIT</code>, <em class="parameter"><code>samples</code></em> <span class="normative">must</span> be <code class="code">VK_SAMPLE_COUNT_1_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-sparseBinding">sparse bindings</a> feature is not enabled, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-sparseResidencyImage2D">sparse residency for 2D images</a> feature is not enabled, and <em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_2D</code>, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-sparseResidencyImage3D">sparse residency for 3D images</a> feature is not enabled, and <em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_3D</code>, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-sparseResidency2Samples">sparse residency for images with 2 samples</a> feature is not enabled, <em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_2D</code>, and <em class="parameter"><code>samples</code></em> is <code class="code">VK_SAMPLE_COUNT_2_BIT</code>, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-sparseResidency4Samples">sparse residency for images with 4 samples</a> feature is not enabled, <em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_2D</code>, and <em class="parameter"><code>samples</code></em> is <code class="code">VK_SAMPLE_COUNT_4_BIT</code>, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-sparseResidency8Samples">sparse residency for images with 8 samples</a> feature is not enabled, <em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_2D</code>, and <em class="parameter"><code>samples</code></em> is <code class="code">VK_SAMPLE_COUNT_8_BIT</code>, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-sparseResidency16Samples">sparse residency for images with 16 samples</a> feature is not enabled, <em class="parameter"><code>imageType</code></em> is <code class="code">VK_IMAGE_TYPE_2D</code>, and <em class="parameter"><code>samples</code></em> is <code class="code">VK_SAMPLE_COUNT_16_BIT</code>, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>tiling</code></em> is <code class="code">VK_IMAGE_TILING_LINEAR</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be a format that has at least one supported feature bit present in the value of <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>
</li><li class="listitem">
If <em class="parameter"><code>tiling</code></em> is <code class="code">VK_IMAGE_TILING_LINEAR</code>, and <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>) does not include <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>, <em class="parameter"><code>usage</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>tiling</code></em> is <code class="code">VK_IMAGE_TILING_LINEAR</code>, and <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>) does not include <code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code>, <em class="parameter"><code>usage</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_USAGE_STORAGE_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>tiling</code></em> is <code class="code">VK_IMAGE_TILING_LINEAR</code>, and <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>) does not include <code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>, <em class="parameter"><code>usage</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>tiling</code></em> is <code class="code">VK_IMAGE_TILING_LINEAR</code>, and <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>) does not include <code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, <em class="parameter"><code>usage</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>tiling</code></em> is <code class="code">VK_IMAGE_TILING_OPTIMAL</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be a format that has at least one supported feature bit present in the value of <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>
</li><li class="listitem">
If <em class="parameter"><code>tiling</code></em> is <code class="code">VK_IMAGE_TILING_OPTIMAL</code>, and <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>) does not include <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>, <em class="parameter"><code>usage</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>tiling</code></em> is <code class="code">VK_IMAGE_TILING_OPTIMAL</code>, and <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>) does not include <code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code>, <em class="parameter"><code>usage</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_USAGE_STORAGE_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>tiling</code></em> is <code class="code">VK_IMAGE_TILING_OPTIMAL</code>, and <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>) does not include <code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>, <em class="parameter"><code>usage</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>tiling</code></em> is <code class="code">VK_IMAGE_TILING_OPTIMAL</code>, and <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> (as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>) does not include <code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, <em class="parameter"><code>usage</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>flags</code></em> contains <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> or <code class="code">VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code>, it <span class="normative">must</span> also contain <code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>
</li></ul></div></div><p>The intended usage of an image is specified by the bitmask
<code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<em class="parameter"><code>usage</code></em>.
Bits which <span class="normative">can</span> be set include:</p><p><a id="VkImageUsageFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkImageUsageFlagBits {
    VK_IMAGE_USAGE_TRANSFER_SRC_BIT = 0x00000001,
    VK_IMAGE_USAGE_TRANSFER_DST_BIT = 0x00000002,
    VK_IMAGE_USAGE_SAMPLED_BIT = 0x00000004,
    VK_IMAGE_USAGE_STORAGE_BIT = 0x00000008,
    VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT = 0x00000010,
    VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT = 0x00000020,
    VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT = 0x00000040,
    VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT = 0x00000080,
} VkImageUsageFlagBits;</pre><p>
</p><p>These bits have the following meanings:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> indicates that the image <span class="normative">can</span> be
    used as the source of a transfer command.
</li><li class="listitem">
<code class="code">VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> indicates that the image <span class="normative">can</span> be
    used as the destination of a transfer command.
</li><li class="listitem">
<code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code> indicates that the image <span class="normative">can</span> be used
    to create a <code class="code">VkImageView</code> suitable for occupying a
    <code class="code">VkDescriptorSet</code> slot either of type
    <code class="code">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and be sampled by a
    shader.
</li><li class="listitem">
<code class="code">VK_IMAGE_USAGE_STORAGE_BIT</code> indicates that the image <span class="normative">can</span> be used
    to create a <code class="code">VkImageView</code> suitable for occupying a
    <code class="code">VkDescriptorSet</code> slot of type
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>.
</li><li class="listitem">
<code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> indicates that the image <span class="normative">can</span>
    be used to create a <code class="code">VkImageView</code> suitable for use as a color or
    resolve attachment in a <code class="code">VkFramebuffer</code>.
</li><li class="listitem">
<code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> indicates that the
    image <span class="normative">can</span> be used to create a <code class="code">VkImageView</code> suitable for use as a
    depth/stencil attachment in a <code class="code">VkFramebuffer</code>.
</li><li class="listitem">
<code class="code">VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> indicates that the memory
    bound to this image will have been allocated with the
    <code class="code">VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> (see <a class="xref" href="#memory" title="Chapter 10. Memory Allocation">Chapter 10, <em>Memory Allocation</em></a> for more
    detail).
    This bit <span class="normative">can</span> be set for any image that <span class="normative">can</span> be used to create a
    <code class="code">VkImageView</code> suitable for use as a color, resolve, depth/stencil,
    or input attachment.
</li><li class="listitem">
<code class="code">VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> indicates that the image <span class="normative">can</span>
    be used to create a <code class="code">VkImageView</code> suitable for occupying
    <code class="code">VkDescriptorSet</code> slot of type
    <code class="code">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>; be read from a shader as an
    input attachment; and be used as an input attachment in a framebuffer.
</li></ul></div><p>Additional parameters of an image are specified by
<code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<em class="parameter"><code>flags</code></em>.
Bits which <span class="normative">can</span> be set include:</p><p><a id="VkImageCreateFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkImageCreateFlagBits {
    VK_IMAGE_CREATE_SPARSE_BINDING_BIT = 0x00000001,
    VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT = 0x00000002,
    VK_IMAGE_CREATE_SPARSE_ALIASED_BIT = 0x00000004,
    VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT = 0x00000008,
    VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT = 0x00000010,
} VkImageCreateFlagBits;</pre><p>
</p><p>These bits have the following meanings:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> indicates that the image will
    be backed using sparse memory binding.
</li><li class="listitem">
<code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> indicates that the image <span class="normative">can</span>
    be partially backed using sparse memory binding.
    Images created with this flag <span class="normative">must</span> also be created with the
    <code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flag.
</li><li class="listitem">
<code class="code">VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> indicates that the image will
    be backed using sparse memory binding with memory ranges that might also
    simultaneously be backing another image (or another portion of the same
    image).
    Images created with this flag <span class="normative">must</span> also be created with the
    <code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flag
</li><li class="listitem">
<code class="code">VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> indicates that the image <span class="normative">can</span>
    be used to create a <code class="code">VkImageView</code> with a different format from the
    image.
</li><li class="listitem">
<code class="code">VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> indicates that the image <span class="normative">can</span>
    be used to create a <code class="code">VkImageView</code> of type
    <code class="code">VK_IMAGE_VIEW_TYPE_CUBE</code> or <code class="code">VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>.
</li></ul></div><p>If any of the bits <code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>,
<code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>, or
<code class="code">VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> are set,
<code class="code">VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> <span class="normative">must</span> not also be set.</p><p>See <a class="link" href="#sparsememory-sparseresourcefeatures" title="28.1. Sparse Resource Features">Sparse Resource Features</a> and
<a class="link" href="#sparsememory-physicalfeatures" title="28.7.1. Physical Device Features">Sparse Physical Device Features</a> for more
details.</p><p>The basic dimensionality of an image is specified by
<code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<em class="parameter"><code>imageType</code></em>, which <span class="normative">must</span> be one of the values</p><p><a id="VkImageType"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkImageType {
    VK_IMAGE_TYPE_1D = 0,
    VK_IMAGE_TYPE_2D = 1,
    VK_IMAGE_TYPE_3D = 2,
} VkImageType;</pre><p>
</p><p>These values specify one-, two-, or three-dimensional images, respectively.</p><p>The tiling arrangement of data elements in an image is specified by
<code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<em class="parameter"><code>tiling</code></em>, which <span class="normative">must</span> be one of the values</p><p><a id="VkImageTiling"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkImageTiling {
    VK_IMAGE_TILING_OPTIMAL = 0,
    VK_IMAGE_TILING_LINEAR = 1,
} VkImageTiling;</pre><p>
</p><p><code class="code">VK_IMAGE_TILING_OPTIMAL</code> specifies optimal tiling (texels are laid out
in an implementation-dependent arrangement, for more optimal memory access),
and <code class="code">VK_IMAGE_TILING_LINEAR</code> specifies linear tiling (texels are laid
out in memory in row-major order, possibly with some padding on each row).</p><p>To query the host access layout of an image subresource, for an image
created with linear tiling, call:</p><p><a id="vkGetImageSubresourceLayout"></a><strong> </strong>
</p><pre class="programlisting">void vkGetImageSubresourceLayout(
    VkDevice                                    device,
    VkImage                                     image,
    const VkImageSubresource*                   pSubresource,
    VkSubresourceLayout*                        pLayout);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the image.
</li><li class="listitem">
<em class="parameter"><code>image</code></em> is the image whose layout is being queried.
</li><li class="listitem">
<em class="parameter"><code>pSubresource</code></em> is a pointer to a <code class="code"><a class="link" href="#VkImageSubresource">VkImageSubresource</a></code> structure
    selecting a specific image for the image subresource.
</li><li class="listitem">
<em class="parameter"><code>pLayout</code></em> points to a <code class="code"><a class="link" href="#VkSubresourceLayout">VkSubresourceLayout</a></code> structure in which
    the layout is returned.
</li></ul></div><p><code class="code"><a class="link" href="#vkGetImageSubresourceLayout">vkGetImageSubresourceLayout</a></code> is invariant for the lifetime of a single
image.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>pSubresource</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkImageSubresource</code> structure
</li><li class="listitem">
<em class="parameter"><code>pLayout</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkSubresourceLayout</code> structure
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created with <em class="parameter"><code>tiling</code></em> equal to <code class="code">VK_IMAGE_TILING_LINEAR</code>
</li><li class="listitem">
The <em class="parameter"><code>aspectMask</code></em> member of <em class="parameter"><code>pSubresource</code></em> <span class="normative">must</span> only have a single bit set
</li></ul></div></div><p>The <code class="code">VkImageSubresource</code> structure is defined as:</p><p><a id="VkImageSubresource"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkImageSubresource {
    VkImageAspectFlags    aspectMask;
    uint32_t              mipLevel;
    uint32_t              arrayLayer;
} VkImageSubresource;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> is a <code class="code"><a class="link" href="#VkImageAspectFlags">VkImageAspectFlags</a></code> selecting the image
    <span class="emphasis"><em>aspect</em></span>.
</li><li class="listitem">
<em class="parameter"><code>mipLevel</code></em> selects the mipmap level.
</li><li class="listitem">
<em class="parameter"><code>arrayLayer</code></em> selects the array layer.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>mipLevel</code></em> <span class="normative">must</span> be less than the <em class="parameter"><code>mipLevels</code></em> specified in <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the image was created
</li><li class="listitem">
<em class="parameter"><code>arrayLayer</code></em> <span class="normative">must</span> be less than the <em class="parameter"><code>arrayLayers</code></em> specified in <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the image was created
</li></ul></div></div><p>Information about the layout of the image subresource is returned in a
<code class="code">VkSubresourceLayout</code> structure:</p><p><a id="VkSubresourceLayout"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSubresourceLayout {
    VkDeviceSize    offset;
    VkDeviceSize    size;
    VkDeviceSize    rowPitch;
    VkDeviceSize    arrayPitch;
    VkDeviceSize    depthPitch;
} VkSubresourceLayout;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>offset</code></em> is the byte offset from the start of the image where the
    image subresource begins.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is the size in bytes of the image subresource.
    <em class="parameter"><code>size</code></em> includes any extra memory that is required based on
    <em class="parameter"><code>rowPitch</code></em>.
</li><li class="listitem">
<em class="parameter"><code>rowPitch</code></em> describes the number of bytes between each row of texels
    in an image.
</li><li class="listitem">
<em class="parameter"><code>arrayPitch</code></em> describes the number of bytes between each array layer
    of an image.
</li><li class="listitem">
<em class="parameter"><code>depthPitch</code></em> describes the number of bytes between each slice of 3D
    image.
</li></ul></div><p>For images created with linear tiling, <em class="parameter"><code>rowPitch</code></em>, <em class="parameter"><code>arrayPitch</code></em> and
<em class="parameter"><code>depthPitch</code></em> describe the layout of the image subresource in linear
memory.
For uncompressed formats, <em class="parameter"><code>rowPitch</code></em> is the number of bytes between
texels with the same x coordinate in adjacent rows (y coordinates differ by
one).
<em class="parameter"><code>arrayPitch</code></em> is the number of bytes between texels with the same x and y
coordinate in adjacent array layers of the image (array layer values differ
by one).
<em class="parameter"><code>depthPitch</code></em> is the number of bytes between texels with the same x and y
coordinate in adjacent slices of a 3D image (z coordinates differ by one).
Expressed as an addressing formula, the starting byte of a texel in the
image subresource has address:</p><pre class="programlisting">// (x,y,z,layer) are in texel coordinates
address(x,y,z,layer) = layer*arrayPitch + z*depthPitch + y*rowPitch + x*texelSize + offset</pre><p>For compressed formats, the <em class="parameter"><code>rowPitch</code></em> is the number of bytes between
compressed texel blocks in adjacent rows.
<em class="parameter"><code>arrayPitch</code></em> is the number of bytes between compressed texel blocks in
adjacent array layers.
<em class="parameter"><code>depthPitch</code></em> is the number of bytes between compressed texel blocks in
adjacent slices of a 3D image.</p><pre class="programlisting">// (x,y,z,layer) are in compressed texel block coordinates
address(x,y,z,layer) = layer*arrayPitch + z*depthPitch + y*rowPitch + x*compressedTexelBlockByteSize + offset;</pre><p><em class="parameter"><code>arrayPitch</code></em> is undefined for images that were not created as arrays.
<em class="parameter"><code>depthPitch</code></em> is defined only for 3D images.</p><p>For color formats, the <em class="parameter"><code>aspectMask</code></em> member of <code class="code">VkImageSubresource</code>
<span class="normative">must</span> be <code class="code">VK_IMAGE_ASPECT_COLOR_BIT</code>.
For depth/stencil formats, <em class="parameter"><code>aspectMask</code></em> <span class="normative">must</span> be either
<code class="code">VK_IMAGE_ASPECT_DEPTH_BIT</code> or <code class="code">VK_IMAGE_ASPECT_STENCIL_BIT</code>.
On implementations that store depth and stencil aspects separately, querying
each of these image subresource layouts will return a different <em class="parameter"><code>offset</code></em>
and <em class="parameter"><code>size</code></em> representing the region of memory used for that aspect.
On implementations that store depth and stencil aspects interleaved, the
same <em class="parameter"><code>offset</code></em> and <em class="parameter"><code>size</code></em> are returned and represent the interleaved
memory allocation.</p><p>To destroy an image, call:</p><p><a id="vkDestroyImage"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyImage(
    VkDevice                                    device,
    VkImage                                     image,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the image.
</li><li class="listitem">
<em class="parameter"><code>image</code></em> is the image to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>image</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All submitted commands that refer to <em class="parameter"><code>image</code></em>, either directly or via a <code class="code">VkImageView</code>, <span class="normative">must</span> have completed execution
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>image</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>image</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>image</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="resources-image-layouts"></a>11.4. Image Layouts</h2></div></div></div><p>Images are stored in implementation-dependent opaque layouts in memory.
Implementations <span class="normative">may</span> support several opaque layouts, and the layout used at
any given time is determined by the <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> state of the image
subresource.
Each layout has limitations on what kinds of operations are supported for
image subresources using the layout.
Applications have control over which layout each image subresource uses, and
<span class="normative">can</span> transition an image subresource from one layout to another.
Transitions <span class="normative">can</span> happen with an image memory barrier, included as part of a
<span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> or a <span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> command buffer command
(see <a class="xref" href="#synchronization-image-memory-barrier" title="6.5.6. Image Memory Barriers">Section 6.5.6, “Image Memory Barriers”</a>), or as part of a subpass
dependency within a render pass (see <code class="code">VkSubpassDependency</code>).
The image layout state is per-image subresource, and separate image
subresources of the same image <span class="normative">can</span> be in different layouts at the same time
with one exception - depth and stencil aspects of a given image subresource
<span class="normative">must</span> always be in the same layout.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Each layout <span class="normative">may</span> offer optimal performance for a specific usage of image
memory.
For example, an image with a layout of
<code class="code">VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code> <span class="normative">may</span> provide optimal
performance for use as a color attachment, but be unsupported for use in
transfer commands.
Applications <span class="normative">can</span> transition an image subresource from one layout to another
in order to achieve optimal performance when the image subresource is used
for multiple kinds of operations.
After initialization, applications need not use any layout other than the
general layout, though this <span class="normative">may</span> produce suboptimal performance on some
implementations.</p></td></tr></table></div><p>Upon creation, all image subresources of an image are initially in the same
layout, where that layout is selected by the
<code class="code">VkImageCreateInfo</code>::<em class="parameter"><code>initialLayout</code></em> member.
The <em class="parameter"><code>initialLayout</code></em> <span class="normative">must</span> be either <code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code> or
<code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code>.
If it is <code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code>, then the image data <span class="normative">can</span> be
preinitialized by the host while using this layout, and the transition away
from this layout will preserve that data.
If it is <code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code>, then the contents of the data are
considered to be undefined, and the transition away from this layout is not
guaranteed to preserve that data.
For either of these initial layouts, any image subresources <span class="normative">must</span> be
transitioned to another layout before they are accessed by the device.</p><p>Host access to image memory is only well-defined for images created with
<code class="code">VK_IMAGE_TILING_LINEAR</code> tiling and for image subresources of those
images which are currently in either the
<code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code> or <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
layout.
Calling <code class="code"><a class="link" href="#vkGetImageSubresourceLayout">vkGetImageSubresourceLayout</a></code> for a linear image returns a
subresource layout mapping that is valid for either of those image layouts.</p><p>The set of image layouts consists of:</p><p><a id="VkImageLayout"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkImageLayout {
    VK_IMAGE_LAYOUT_UNDEFINED = 0,
    VK_IMAGE_LAYOUT_GENERAL = 1,
    VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL = 2,
    VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL = 3,
    VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL = 4,
    VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL = 5,
    VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL = 6,
    VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL = 7,
    VK_IMAGE_LAYOUT_PREINITIALIZED = 8,
    VK_IMAGE_LAYOUT_PRESENT_SRC_KHR = 1000001002,
} VkImageLayout;</pre><p>
</p><p>The type(s) of device access supported by each layout are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code>: Supports no device access.
    This layout <span class="normative">must</span> only be used as the <em class="parameter"><code>initialLayout</code></em> member of
    <code class="code">VkImageCreateInfo</code> or <code class="code">VkAttachmentDescription</code>, or as the
    <em class="parameter"><code>oldLayout</code></em> in an image transition.
    When transitioning out of this layout, the contents of the memory are
    not guaranteed to be preserved.
</li><li class="listitem">
<code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code>: Supports no device access.
    This layout <span class="normative">must</span> only be used as the <em class="parameter"><code>initialLayout</code></em> member of
    <code class="code">VkImageCreateInfo</code> or <code class="code">VkAttachmentDescription</code>, or as the
    <em class="parameter"><code>oldLayout</code></em> in an image transition.
    When transitioning out of this layout, the contents of the memory are
    preserved.
    This layout is intended to be used as the initial layout for an image
    whose contents are written by the host, and hence the data <span class="normative">can</span> be
    written to memory immediately, without first executing a layout
    transition.
    Currently, <code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code> is only useful with
    <code class="code">VK_IMAGE_TILING_LINEAR</code> images because there is not a standard
    layout defined for <code class="code">VK_IMAGE_TILING_OPTIMAL</code> images.
</li><li class="listitem">
<code class="code">VK_IMAGE_LAYOUT_GENERAL</code>: Supports all types of device access.
</li><li class="listitem">
<code class="code">VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code>: <span class="normative">must</span> only be used as a
    color or resolve attachment in a <code class="code">VkFramebuffer</code>.
    This layout is valid only for image subresources of images created with
    the <code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> usage bit enabled.
</li><li class="listitem">
<code class="code">VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL</code>: <span class="normative">must</span> only be
    used as a depth/stencil attachment in a <code class="code">VkFramebuffer</code>.
    This layout is valid only for image subresources of images created with
    the <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> usage bit enabled.
</li><li class="listitem">
<code class="code">VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>: <span class="normative">must</span> only be
    used as a read-only depth/stencil attachment in a <code class="code">VkFramebuffer</code>
    and/or as a read-only image in a shader (which <span class="normative">can</span> be read as a sampled
    image, combined image/sampler and/or input attachment).
    This layout is valid only for image subresources of images created with
    the <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> usage bit enabled.
</li><li class="listitem">
<code class="code">VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code>: <span class="normative">must</span> only be used as a
    read-only image in a shader (which <span class="normative">can</span> be read as a sampled image,
    combined image/sampler and/or input attachment).
    This layout is valid only for image subresources of images created with
    the <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code> or
    <code class="code">VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> usage bit enabled.
</li><li class="listitem">
<code class="code">VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code>: <span class="normative">must</span> only be used as a
    source image of a transfer command (see the definition of
    <a class="link" href="#synchronization-transfer"><code class="code">VK_PIPELINE_STAGE_TRANSFER_BIT</code></a>).
    This layout is valid only for image subresources of images created with
    the <code class="code">VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage bit enabled.
</li><li class="listitem">
<code class="code">VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>: <span class="normative">must</span> only be used as a
    destination image of a transfer command.
    This layout is valid only for image subresources of images created with
    the <code class="code">VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage bit enabled.
</li><li class="listitem">
<code class="code">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>: <span class="normative">must</span> only be used for presenting
    a swapchain image for display.
    A swapchain’s image <span class="normative">must</span> be transitioned to this layout before calling
    <code class="code"><a class="link" href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code>, and <span class="normative">must</span> be transitioned away from this layout
    after calling <code class="code"><a class="link" href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>.
</li></ul></div><p>For each mechanism of accessing an image in the API, there is a parameter or
structure member that controls the image layout used to access the image.
For transfer commands, this is a parameter to the command (see <a class="xref" href="#clears" title="Chapter 17. Clear Commands">Chapter 17, <em>Clear Commands</em></a>
and <a class="xref" href="#copies" title="Chapter 18. Copy Commands">Chapter 18, <em>Copy Commands</em></a>).
For use as a framebuffer attachment, this is a member in the substructures
of the <code class="code">VkRenderPassCreateInfo</code> (see <a class="link" href="#renderpass" title="Chapter 7. Render Pass">Render Pass</a>).
For use in a descriptor set, this is a member in the
<code class="code">VkDescriptorImageInfo</code> structure (see <a class="xref" href="#descriptorsets-updates" title="13.2.4. Descriptor Set Updates">Section 13.2.4, “Descriptor Set Updates”</a>).
At the time that any command buffer command accessing an image executes on
any queue, the layouts of the image subresources that are accessed <span class="normative">must</span> all
match the layout specified via the API controlling those accesses.</p><p>The image layout of each image subresource <span class="normative">must</span> be well-defined at each
point in the image subresource’s lifetime.
This means that when performing a layout transition on the image
subresource, the old layout value <span class="normative">must</span> either equal the current layout of
the image subresource (at the time the transition executes), or else be
<code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code> (implying that the contents of the image
subresource need not be preserved).
The new layout used in a transition <span class="normative">must</span> not be
<code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code> or <code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="resources-image-views"></a>11.5. Image Views</h2></div></div></div><p>Image objects are not directly accessed by pipeline shaders for reading or
writing image data.
Instead, <span class="emphasis"><em>image views</em></span> representing contiguous ranges of the image
subresources and containing additional metadata are used for that purpose.
Views <span class="normative">must</span> be created on images of compatible types, and <span class="normative">must</span> represent a
valid subset of image subresources.</p><p>Image views are represented by <code class="code">VkImageView</code> handles:</p><p><a id="VkImageView"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkImageView)</pre><p>
</p><p>The types of image views that <span class="normative">can</span> be created are:</p><p><a id="VkImageViewType"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkImageViewType {
    VK_IMAGE_VIEW_TYPE_1D = 0,
    VK_IMAGE_VIEW_TYPE_2D = 1,
    VK_IMAGE_VIEW_TYPE_3D = 2,
    VK_IMAGE_VIEW_TYPE_CUBE = 3,
    VK_IMAGE_VIEW_TYPE_1D_ARRAY = 4,
    VK_IMAGE_VIEW_TYPE_2D_ARRAY = 5,
    VK_IMAGE_VIEW_TYPE_CUBE_ARRAY = 6,
} VkImageViewType;</pre><p>
</p><p>The exact image view type is partially implicit, based on the image’s type
and sample count, as well as the view creation parameters as described in
the <a class="link" href="#resources-image-views-compatibility" title="Table 11.1. Image and image view parameter compatibility requirements">table below</a>.
This table also shows which SPIR-V OpTypeImage Dim and Arrayed parameters
correspond to each image view type.</p><p>To create an image view, call:</p><p><a id="vkCreateImageView"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateImageView(
    VkDevice                                    device,
    const VkImageViewCreateInfo*                pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkImageView*                                pView);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the image view.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code">VkImageViewCreateInfo</code> structure containing parameters to be used
    to create the image view.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pView</code></em> points to a <code class="code">VkImageView</code> handle in which the resulting
    image view object is returned.
</li></ul></div><p>Some of the image creation parameters are inherited by the view.
The remaining parameters are contained in the <em class="parameter"><code>pCreateInfo</code></em>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkImageViewCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pView</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkImageView</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkImageViewCreateInfo</code> structure is defined as:</p><p><a id="VkImageViewCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkImageViewCreateInfo {
    VkStructureType            sType;
    const void*                pNext;
    VkImageViewCreateFlags     flags;
    VkImage                    image;
    VkImageViewType            viewType;
    VkFormat                   format;
    VkComponentMapping         components;
    VkImageSubresourceRange    subresourceRange;
} VkImageViewCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>image</code></em> is a <code class="code">VkImage</code> on which the view will be created.
</li><li class="listitem">
<em class="parameter"><code>viewType</code></em> is the type of the image view.
</li><li class="listitem">
<em class="parameter"><code>format</code></em> is a <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> describing the format and type used to
    interpret data elements in the image.
</li><li class="listitem">
<em class="parameter"><code>components</code></em> specifies a remapping of color components (or of depth
    or stencil components after they have been converted into color
    components).
    See <code class="code"><a class="link" href="#VkComponentMapping">VkComponentMapping</a></code>.
</li><li class="listitem">
<em class="parameter"><code>subresourceRange</code></em> is a <code class="code"><a class="link" href="#VkImageSubresourceRange">VkImageSubresourceRange</a></code> selecting the
    set of mipmap levels and array layers to be accessible to the view.
</li></ul></div><p>If <em class="parameter"><code>image</code></em> was created with the <code class="code">VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code>
flag, <em class="parameter"><code>format</code></em> <span class="normative">can</span> be different from the image’s format, but if they
are not equal they <span class="normative">must</span> be <span class="emphasis"><em>compatible</em></span>.
Image format compatibility is defined in the
<a class="link" href="#features-formats-compatibility-classes" title="Format Compatibility Classes">Format Compatibility Classes</a>
section.</p><div class="table"><a id="resources-image-views-compatibility"></a><p class="title"><strong>Table 11.1. Image and image view parameter compatibility requirements</strong></p><div class="table-contents"><table summary="Image and image view parameter compatibility requirements" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Dim, Arrayed, MS </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Image parameters </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> View parameters</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>imageType</code></em> = ci.<em class="parameter"><code>imageType</code></em>
    <em class="parameter"><code>width</code></em> = ci.<em class="parameter"><code>extent.width</code></em>
    <em class="parameter"><code>height</code></em> = ci.<em class="parameter"><code>extent.height</code></em>
    <em class="parameter"><code>depth</code></em> = ci.<em class="parameter"><code>extent.depth</code></em>
    <em class="parameter"><code>arrayLayers</code></em> = ci.<em class="parameter"><code>arrayLayers</code></em>
    <em class="parameter"><code>samples</code></em> = ci.<em class="parameter"><code>samples</code></em>
    where ci is the <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code> used to create <em class="parameter"><code>image</code></em>.</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>baseArrayLayer</code></em> and <em class="parameter"><code>layerCount</code></em> are members of the
    <em class="parameter"><code>subresourceRange</code></em> member.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>1D, 0, 0</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>imageType</code></em> = <code class="code">VK_IMAGE_TYPE_1D</code>
<em class="parameter"><code>width</code></em> ≥ 1
<em class="parameter"><code>height</code></em> = 1
<em class="parameter"><code>depth</code></em> = 1
<em class="parameter"><code>arrayLayers</code></em> ≥ 1
<em class="parameter"><code>samples</code></em> = 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>viewType</code></em> = <code class="code">VK_VIEW_TYPE_1D</code>
<em class="parameter"><code>baseArrayLayer</code></em> ≥ 0
<em class="parameter"><code>layerCount</code></em> = 1</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>1D, 1, 0</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>imageType</code></em> = <code class="code">VK_IMAGE_TYPE_1D</code>
<em class="parameter"><code>width</code></em> ≥ 1
<em class="parameter"><code>height</code></em> = 1
<em class="parameter"><code>depth</code></em> = 1
<em class="parameter"><code>arrayLayers</code></em> ≥ 1
<em class="parameter"><code>samples</code></em> = 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>viewType</code></em> = <code class="code">VK_VIEW_TYPE_1D_ARRAY</code>
<em class="parameter"><code>baseArrayLayer</code></em> ≥ 0
<em class="parameter"><code>layerCount</code></em> ≥ 1</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>2D, 0, 0</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>imageType</code></em> = <code class="code">VK_IMAGE_TYPE_2D</code>
<em class="parameter"><code>width</code></em> ≥ 1
<em class="parameter"><code>height</code></em> ≥ 1
<em class="parameter"><code>depth</code></em> = 1
<em class="parameter"><code>arrayLayers</code></em> ≥ 1
<em class="parameter"><code>samples</code></em> = 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>viewType</code></em> = <code class="code">VK_VIEW_TYPE_2D</code>
<em class="parameter"><code>baseArrayLayer</code></em> ≥ 0
<em class="parameter"><code>layerCount</code></em> = 1</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>2D, 1, 0</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>imageType</code></em> = <code class="code">VK_IMAGE_TYPE_2D</code>
<em class="parameter"><code>width</code></em> ≥ 1
<em class="parameter"><code>height</code></em> ≥ 1
<em class="parameter"><code>depth</code></em> = 1
<em class="parameter"><code>arrayLayers</code></em> ≥ 1
<em class="parameter"><code>samples</code></em> = 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>viewType</code></em> = <code class="code">VK_VIEW_TYPE_2D_ARRAY</code>
<em class="parameter"><code>baseArrayLayer</code></em> ≥ 0
<em class="parameter"><code>layerCount</code></em> ≥ 1</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>2D, 0, 1</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>imageType</code></em> = <code class="code">VK_IMAGE_TYPE_2D</code>
<em class="parameter"><code>width</code></em> ≥ 1
<em class="parameter"><code>height</code></em> ≥ 1
<em class="parameter"><code>depth</code></em> = 1
<em class="parameter"><code>arrayLayers</code></em> ≥ 1
<em class="parameter"><code>samples</code></em> &gt; 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>viewType</code></em> = <code class="code">VK_VIEW_TYPE_2D</code>
<em class="parameter"><code>baseArrayLayer</code></em> ≥ 0
<em class="parameter"><code>layerCount</code></em> = 1</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>2D, 1, 1</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>imageType</code></em> = <code class="code">VK_IMAGE_TYPE_2D</code>
<em class="parameter"><code>width</code></em> ≥ 1
<em class="parameter"><code>height</code></em> ≥ 1
<em class="parameter"><code>depth</code></em> = 1
<em class="parameter"><code>arrayLayers</code></em> ≥ 1
<em class="parameter"><code>samples</code></em> &gt; 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>viewType</code></em> = <code class="code">VK_VIEW_TYPE_2D_ARRAY</code>
<em class="parameter"><code>baseArrayLayer</code></em> ≥ 0
<em class="parameter"><code>layerCount</code></em> ≥ 1</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>CUBE, 0, 0</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>imageType</code></em> = <code class="code">VK_IMAGE_TYPE_2D</code>
<em class="parameter"><code>width</code></em> ≥ 1
<em class="parameter"><code>height</code></em> = <em class="parameter"><code>width</code></em>
<em class="parameter"><code>depth</code></em> = 1
<em class="parameter"><code>arrayLayers</code></em> ≥ 6
<em class="parameter"><code>samples</code></em> = 1
<em class="parameter"><code>flags</code></em> includes <code class="code">VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>viewType</code></em> = <code class="code">VK_VIEW_TYPE_CUBE</code>
<em class="parameter"><code>baseArrayLayer</code></em> ≥ 0
<em class="parameter"><code>layerCount</code></em> = 6</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>CUBE, 1, 0</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>imageType</code></em> = <code class="code">VK_IMAGE_TYPE_2D</code>
<em class="parameter"><code>width</code></em> ≥ 1
<em class="parameter"><code>height</code></em> = width
<em class="parameter"><code>depth</code></em> = 1
<span class="emphasis"><em>N</em></span> ≥ 1
<em class="parameter"><code>arrayLayers</code></em> ≥ 6 × <span class="emphasis"><em>N</em></span>
<em class="parameter"><code>samples</code></em> = 1
<em class="parameter"><code>flags</code></em> includes <code class="code">VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>viewType</code></em> = <code class="code">VK_VIEW_TYPE_CUBE_ARRAY</code>
<em class="parameter"><code>baseArrayLayer</code></em> ≥ 0
<em class="parameter"><code>layerCount</code></em> = 6 × <span class="emphasis"><em>N</em></span>, <span class="emphasis"><em>N</em></span> ≥ 1</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>3D, 0, 0</strong></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>imageType</code></em> = <code class="code">VK_IMAGE_TYPE_3D</code>
<em class="parameter"><code>width</code></em> ≥ 1
<em class="parameter"><code>height</code></em> ≥ 1
<em class="parameter"><code>depth</code></em> ≥ 1
<em class="parameter"><code>arrayLayers</code></em> = 1
<em class="parameter"><code>samples</code></em> = 1</p></td><td style="" align="left" valign="top"><p><em class="parameter"><code>viewType</code></em> = <code class="code">VK_VIEW_TYPE_3D</code>
<em class="parameter"><code>baseArrayLayer</code></em> = 0
<em class="parameter"><code>layerCount</code></em> = 1</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>viewType</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageViewType">VkImageViewType</a></code> value
</li><li class="listitem">
<em class="parameter"><code>format</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> value
</li><li class="listitem">
<em class="parameter"><code>components</code></em> <span class="normative">must</span> be a valid <code class="code">VkComponentMapping</code> structure
</li><li class="listitem">
<em class="parameter"><code>subresourceRange</code></em> <span class="normative">must</span> be a valid <code class="code">VkImageSubresourceRange</code> structure
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was not created with <code class="code">VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> then <em class="parameter"><code>viewType</code></em> <span class="normative">must</span> not be <code class="code">VK_IMAGE_VIEW_TYPE_CUBE</code> or <code class="code">VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-imageCubeArray">image cubemap arrays</a> feature is not enabled, <em class="parameter"><code>viewType</code></em> <span class="normative">must</span> not be <code class="code">VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-textureCompressionETC2">ETC2 texture compression</a> feature is not enabled, <em class="parameter"><code>format</code></em> <span class="normative">must</span> not be <code class="code">VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_EAC_R11_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_EAC_R11_SNORM_BLOCK</code>, <code class="code">VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code>, or <code class="code">VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-textureCompressionASTC_LDR">ASTC LDR texture compression</a> feature is not enabled, <em class="parameter"><code>format</code></em> <span class="normative">must</span> not be <code class="code">VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code>, or <code class="code">VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-textureCompressionBC">BC texture compression</a> feature is not enabled, <em class="parameter"><code>format</code></em> <span class="normative">must</span> not be <code class="code">VK_FORMAT_BC1_RGB_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC1_RGB_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_BC2_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC2_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_BC3_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC3_SRGB_BLOCK</code>, <code class="code">VK_FORMAT_BC4_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC4_SNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC5_UNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC5_SNORM_BLOCK</code>, <code class="code">VK_FORMAT_BC6H_UFLOAT_BLOCK</code>, <code class="code">VK_FORMAT_BC6H_SFLOAT_BLOCK</code>, <code class="code">VK_FORMAT_BC7_UNORM_BLOCK</code>, or <code class="code">VK_FORMAT_BC7_SRGB_BLOCK</code>
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with <code class="code">VK_IMAGE_TILING_LINEAR</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be format that has at least one supported feature bit present in the value of <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with <code class="code">VK_IMAGE_TILING_LINEAR</code> and <em class="parameter"><code>usage</code></em> containing <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be supported for sampled images, as specified by the <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with <code class="code">VK_IMAGE_TILING_LINEAR</code> and <em class="parameter"><code>usage</code></em> containing <code class="code">VK_IMAGE_USAGE_STORAGE_BIT</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be supported for storage images, as specified by the <code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with <code class="code">VK_IMAGE_TILING_LINEAR</code> and <em class="parameter"><code>usage</code></em> containing <code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be supported for color attachments, as specified by the <code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with <code class="code">VK_IMAGE_TILING_LINEAR</code> and <em class="parameter"><code>usage</code></em> containing <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be supported for depth/stencil attachments, as specified by the <code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with <code class="code">VK_IMAGE_TILING_OPTIMAL</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be format that has at least one supported feature bit present in the value of <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with <code class="code">VK_IMAGE_TILING_OPTIMAL</code> and <em class="parameter"><code>usage</code></em> containing <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be supported for sampled images, as specified by the <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with <code class="code">VK_IMAGE_TILING_OPTIMAL</code> and <em class="parameter"><code>usage</code></em> containing <code class="code">VK_IMAGE_USAGE_STORAGE_BIT</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be supported for storage images, as specified by the <code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with <code class="code">VK_IMAGE_TILING_OPTIMAL</code> and <em class="parameter"><code>usage</code></em> containing <code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be supported for color attachments, as specified by the <code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with <code class="code">VK_IMAGE_TILING_OPTIMAL</code> and <em class="parameter"><code>usage</code></em> containing <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be supported for depth/stencil attachments, as specified by the <code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span> with the same value of <em class="parameter"><code>format</code></em>
</li><li class="listitem">
<em class="parameter"><code>subresourceRange</code></em> <span class="normative">must</span> be a valid image subresource range for <em class="parameter"><code>image</code></em> (see <a class="xref" href="#resources-image-views" title="11.5. Image Views">Section 11.5, “Image Views”</a>)
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was created with the <code class="code">VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> flag, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be compatible with the <em class="parameter"><code>format</code></em> used to create <em class="parameter"><code>image</code></em>, as defined in <a class="link" href="#features-formats-compatibility-classes" title="Format Compatibility Classes">Format Compatibility Classes</a>
</li><li class="listitem">
If <em class="parameter"><code>image</code></em> was not created with the <code class="code">VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> flag, <em class="parameter"><code>format</code></em> <span class="normative">must</span> be identical to the <em class="parameter"><code>format</code></em> used to create <em class="parameter"><code>image</code></em>
</li><li class="listitem">
<em class="parameter"><code>subResourceRange</code></em> and <em class="parameter"><code>viewType</code></em> <span class="normative">must</span> be compatible with the image, as described in the <a class="link" href="#resources-image-views-compatibility" title="Table 11.1. Image and image view parameter compatibility requirements">compatibility table</a>
</li></ul></div></div><p>The <code class="code">VkImageSubresourceRange</code> structure is defined as:</p><p><a id="VkImageSubresourceRange"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkImageSubresourceRange {
    VkImageAspectFlags    aspectMask;
    uint32_t              baseMipLevel;
    uint32_t              levelCount;
    uint32_t              baseArrayLayer;
    uint32_t              layerCount;
} VkImageSubresourceRange;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> is a bitmask indicating which aspect(s) of the image
    are included in the view.
    See <code class="code"><a class="link" href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code>.
</li><li class="listitem">
<em class="parameter"><code>baseMipLevel</code></em> is the first mipmap level accessible to the view.
</li><li class="listitem">
<em class="parameter"><code>levelCount</code></em> is the number of mipmap levels (starting from
    <em class="parameter"><code>baseMipLevel</code></em>) accessible to the view.
</li><li class="listitem">
<em class="parameter"><code>baseArrayLayer</code></em> is the first array layer accessible to the view.
</li><li class="listitem">
<em class="parameter"><code>layerCount</code></em> is the number of array layers (starting from
    <em class="parameter"><code>baseArrayLayer</code></em>) accessible to the view.
</li></ul></div><p>The number of mipmap levels and array layers <span class="normative">must</span> be a subset of the image
subresources in the image.
If an application wants to use all mip levels or layers in an image after
the <em class="parameter"><code>baseMipLevel</code></em> or <em class="parameter"><code>baseArrayLayer</code></em>, it <span class="normative">can</span> set <em class="parameter"><code>levelCount</code></em>
and <em class="parameter"><code>layerCount</code></em> to the special values <code class="code">VK_REMAINING_MIP_LEVELS</code> and
<code class="code">VK_REMAINING_ARRAY_LAYERS</code> without knowing the exact number of mip
levels or layers.</p><p>For cube and cube array image views, the layers of the image view starting
at <em class="parameter"><code>baseArrayLayer</code></em> correspond to faces in the order +X, -X, +Y, -Y, +Z,
-Z.
For cube arrays, each set of six sequential layers is a single cube, so the
number of cube maps in a cube map array view is <span class="emphasis"><em><em class="parameter"><code>layerCount</code></em> / 6</em></span>, and
image array layer <span class="emphasis"><em><em class="parameter"><code>baseArrayLayer</code></em> + i</em></span> is face index <span class="emphasis"><em>i mod 6</em></span> of cube
<span class="emphasis"><em>i / 6</em></span>.
If the number of layers in the view, whether set explicitly in
<em class="parameter"><code>layerCount</code></em> or implied by <code class="code">VK_REMAINING_ARRAY_LAYERS</code>, is not a
multiple of 6, behavior when indexing the last cube is undefined.</p><p><em class="parameter"><code>aspectMask</code></em> is a bitmask indicating the format being used.
Bits which <span class="normative">may</span> be set include:</p><p><a id="VkImageAspectFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkImageAspectFlagBits {
    VK_IMAGE_ASPECT_COLOR_BIT = 0x00000001,
    VK_IMAGE_ASPECT_DEPTH_BIT = 0x00000002,
    VK_IMAGE_ASPECT_STENCIL_BIT = 0x00000004,
    VK_IMAGE_ASPECT_METADATA_BIT = 0x00000008,
} VkImageAspectFlagBits;</pre><p>
</p><p>The mask <span class="normative">must</span> be only <code class="code">VK_IMAGE_ASPECT_COLOR_BIT</code>,
<code class="code">VK_IMAGE_ASPECT_DEPTH_BIT</code> or <code class="code">VK_IMAGE_ASPECT_STENCIL_BIT</code> if
<em class="parameter"><code>format</code></em> is a color, depth-only or stencil-only format, respectively.
If using a depth/stencil format with both depth and stencil components,
<em class="parameter"><code>aspectMask</code></em> <span class="normative">must</span> include at least one of
<code class="code">VK_IMAGE_ASPECT_DEPTH_BIT</code> and <code class="code">VK_IMAGE_ASPECT_STENCIL_BIT</code>, and
<span class="normative">can</span> include both.</p><p>When using an imageView of a depth/stencil image to populate a descriptor
set (e.g.
for sampling in the shader, or for use as an input attachment), the
<em class="parameter"><code>aspectMask</code></em> <span class="normative">must</span> only include one bit and selects whether the
imageView is used for depth reads (i.e.
using a floating-point sampler or input attachment in the shader) or stencil
reads (i.e.
using an unsigned integer sampler or input attachment in the shader).
When an imageView of a depth/stencil image is used as a depth/stencil
framebuffer attachment, the <em class="parameter"><code>aspectMask</code></em> is ignored and both depth and
stencil image subresources are used.</p><p>The <em class="parameter"><code>components</code></em> member is of type <code class="code"><a class="link" href="#VkComponentMapping">VkComponentMapping</a></code>, and
describes a remapping from components of the image to components of the
vector returned by shader image instructions.
This remapping <span class="normative">must</span> be identity for storage image descriptors, input
attachment descriptors, and framebuffer attachments.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>levelCount</code></em> is not <code class="code">VK_REMAINING_MIP_LEVELS</code>, <span class="inlinemediaobject"><span class="phrase">
$(baseMipLevel + levelCount)$
</span></span> <span class="normative">must</span> be less than or equal to the <em class="parameter"><code>mipLevels</code></em> specified in <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the image was created
</li><li class="listitem">
If <em class="parameter"><code>layerCount</code></em> is not <code class="code">VK_REMAINING_ARRAY_LAYERS</code>, <span class="inlinemediaobject"><span class="phrase">
$(baseArrayLayer + layerCount)$
</span></span> <span class="normative">must</span> be less than or equal to the <em class="parameter"><code>arrayLayers</code></em> specified in <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the image was created
</li></ul></div></div><p>The <code class="code">VkComponentMapping</code> structure is defined as:</p><p><a id="VkComponentMapping"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkComponentMapping {
    VkComponentSwizzle    r;
    VkComponentSwizzle    g;
    VkComponentSwizzle    b;
    VkComponentSwizzle    a;
} VkComponentMapping;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>r</code></em> determines the component value placed in the R component of the
    output vector.
</li><li class="listitem">
<em class="parameter"><code>g</code></em> determines the component value placed in the G component of the
    output vector.
</li><li class="listitem">
<em class="parameter"><code>b</code></em> determines the component value placed in the B component of the
    output vector.
</li><li class="listitem">
<em class="parameter"><code>a</code></em> determines the component value placed in the A component of the
    output vector.
</li></ul></div><p>Each of <em class="parameter"><code>r</code></em>, <em class="parameter"><code>g</code></em>, <em class="parameter"><code>b</code></em>, and <em class="parameter"><code>a</code></em> is one of the values:</p><p><a id="VkComponentSwizzle"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkComponentSwizzle {
    VK_COMPONENT_SWIZZLE_IDENTITY = 0,
    VK_COMPONENT_SWIZZLE_ZERO = 1,
    VK_COMPONENT_SWIZZLE_ONE = 2,
    VK_COMPONENT_SWIZZLE_R = 3,
    VK_COMPONENT_SWIZZLE_G = 4,
    VK_COMPONENT_SWIZZLE_B = 5,
    VK_COMPONENT_SWIZZLE_A = 6,
} VkComponentSwizzle;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_COMPONENT_SWIZZLE_IDENTITY</code>: the component is set to the
    identity swizzle.
</li><li class="listitem">
<code class="code">VK_COMPONENT_SWIZZLE_ZERO</code>: the component is set to zero.
</li><li class="listitem">
<code class="code">VK_COMPONENT_SWIZZLE_ONE</code>: the component is set to either 1 or 1.0
    depending on whether the type of the image view format is integer or
    floating-point respectively, as determined by the
    <a class="link" href="#features-formats-definition" title="31.3.1. Format Definition">Format Definition</a> section for each
    <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code>.
</li><li class="listitem">
<code class="code">VK_COMPONENT_SWIZZLE_R</code>: the component is set to the value of the R
    component of the image.
</li><li class="listitem">
<code class="code">VK_COMPONENT_SWIZZLE_G</code>: the component is set to the value of the G
    component of the image.
</li><li class="listitem">
<code class="code">VK_COMPONENT_SWIZZLE_B</code>: the component is set to the value of the B
    component of the image.
</li><li class="listitem">
<code class="code">VK_COMPONENT_SWIZZLE_A</code>: the component is set to the value of the A
    component of the image.
</li></ul></div><p>Setting the identity swizzle on a component is equivalent to setting the
identity mapping on that component.
That is:</p><div class="table"><a id="resources-image-views-identity-mappings"></a><p class="title"><strong>Table 11.2. Component Mappings Equivalent To <code class="code">VK_COMPONENT_SWIZZLE_IDENTITY</code></strong></p><div class="table-contents"><table summary="Component Mappings Equivalent To VK_COMPONENT_SWIZZLE_IDENTITY" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Component          </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Identity Mapping</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>components.r</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_COMPONENT_SWIZZLE_R</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>components.g</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_COMPONENT_SWIZZLE_G</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>components.b</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_COMPONENT_SWIZZLE_B</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>components.a</code></em></p></td><td style="" align="left" valign="top"><p><code class="code">VK_COMPONENT_SWIZZLE_A</code></p></td></tr></tbody></table></div></div><br class="table-break" /><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>r</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkComponentSwizzle">VkComponentSwizzle</a></code> value
</li><li class="listitem">
<em class="parameter"><code>g</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkComponentSwizzle">VkComponentSwizzle</a></code> value
</li><li class="listitem">
<em class="parameter"><code>b</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkComponentSwizzle">VkComponentSwizzle</a></code> value
</li><li class="listitem">
<em class="parameter"><code>a</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkComponentSwizzle">VkComponentSwizzle</a></code> value
</li></ul></div></div><p>To destroy an image view, call:</p><p><a id="vkDestroyImageView"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyImageView(
    VkDevice                                    device,
    VkImageView                                 imageView,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the image view.
</li><li class="listitem">
<em class="parameter"><code>imageView</code></em> is the image view to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>imageView</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>imageView</code></em> <span class="normative">must</span> be a valid <code class="code">VkImageView</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>imageView</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All submitted commands that refer to <em class="parameter"><code>imageView</code></em> <span class="normative">must</span> have completed execution
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>imageView</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>imageView</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>imageView</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="resources-association"></a>11.6. Resource Memory Association</h2></div></div></div><p>Resources are initially created as <span class="emphasis"><em>virtual allocations</em></span> with no backing
memory.
Device memory is allocated separately (see <a class="xref" href="#memory-device" title="10.2. Device Memory">Section 10.2, “Device Memory”</a>) and then
associated with the resource.
This association is done differently for sparse and non-sparse resources.</p><p>Resources created with any of the sparse creation flags are considered
sparse resources.
Resources created without these flags are non-sparse.
The details on resource memory association for sparse resources is described
in <a class="xref" href="#sparsememory" title="Chapter 28. Sparse Resources">Chapter 28, <em>Sparse Resources</em></a>.</p><p>Non-sparse resources <span class="normative">must</span> be bound completely and contiguously to a single
<code class="code">VkDeviceMemory</code> object before the resource is passed as a parameter to
any of the following operations:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
creating image or buffer views
</li><li class="listitem">
updating descriptor sets
</li><li class="listitem">
recording commands in a command buffer
</li></ul></div><p>Once bound, the memory binding is immutable for the lifetime of the
resource.</p><p>To determine the memory requirements for a buffer resource, call:</p><p><a id="vkGetBufferMemoryRequirements"></a><strong> </strong>
</p><pre class="programlisting">void vkGetBufferMemoryRequirements(
    VkDevice                                    device,
    VkBuffer                                    buffer,
    VkMemoryRequirements*                       pMemoryRequirements);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the buffer.
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> is the buffer to query.
</li><li class="listitem">
<em class="parameter"><code>pMemoryRequirements</code></em> points to an instance of the
    <code class="code"><a class="link" href="#VkMemoryRequirements">VkMemoryRequirements</a></code> structure in which the memory requirements of
    the buffer object are returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pMemoryRequirements</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkMemoryRequirements</code> structure
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li></ul></div></div><p>To determine the memory requirements for an image resource, call:</p><p><a id="vkGetImageMemoryRequirements"></a><strong> </strong>
</p><pre class="programlisting">void vkGetImageMemoryRequirements(
    VkDevice                                    device,
    VkImage                                     image,
    VkMemoryRequirements*                       pMemoryRequirements);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the image.
</li><li class="listitem">
<em class="parameter"><code>image</code></em> is the image to query.
</li><li class="listitem">
<em class="parameter"><code>pMemoryRequirements</code></em> points to an instance of the
    <code class="code"><a class="link" href="#VkMemoryRequirements">VkMemoryRequirements</a></code> structure in which the memory requirements of
    the image object are returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>pMemoryRequirements</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkMemoryRequirements</code> structure
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li></ul></div></div><p>The <code class="code">VkMemoryRequirements</code> structure is defined as:</p><p><a id="VkMemoryRequirements"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkMemoryRequirements {
    VkDeviceSize    size;
    VkDeviceSize    alignment;
    uint32_t        memoryTypeBits;
} VkMemoryRequirements;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>size</code></em> is the size, in bytes, of the memory allocation <span class="normative">required</span> for
    the resource.
</li><li class="listitem">
<em class="parameter"><code>alignment</code></em> is the alignment, in bytes, of the offset within the
    allocation <span class="normative">required</span> for the resource.
</li><li class="listitem">
<em class="parameter"><code>memoryTypeBits</code></em> is a bitmask and contains one bit set for every
    supported memory type for the resource.
    Bit <code class="literal">i</code> is set if and only if the memory type <code class="literal">i</code> in the
    <code class="code">VkPhysicalDeviceMemoryProperties</code> structure for the physical device
    is supported for the resource.
</li></ul></div><p>The implementation guarantees certain properties about the memory
requirements returned by <code class="code"><a class="link" href="#vkGetBufferMemoryRequirements">vkGetBufferMemoryRequirements</a></code> and
<code class="code"><a class="link" href="#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a></code>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
The <em class="parameter"><code>memoryTypeBits</code></em> member always contains at least one bit set.
</li><li class="listitem">
If <em class="parameter"><code>buffer</code></em> is a <code class="code">VkBuffer</code>, or if <em class="parameter"><code>image</code></em> is a
    <code class="code">VkImage</code> that was created with a <code class="code">VK_IMAGE_TILING_LINEAR</code> value
    in the <em class="parameter"><code>tiling</code></em> member of the <code class="code">VkImageCreateInfo</code> structure
    passed to <span class="strong"><strong><code class="code">vkCreateImage</code></strong></span>, then the <em class="parameter"><code>memoryTypeBits</code></em> member
    always contains at least one bit set corresponding to a
    <code class="code">VkMemoryType</code> with a <em class="parameter"><code>propertyFlags</code></em> that has both the
    <code class="code">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> bit and the
    <code class="code">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> bit set.
    In other words, mappable coherent memory <span class="normative">can</span> always be attached to
    these objects.
</li><li class="listitem">
The <em class="parameter"><code>memoryTypeBits</code></em> member always contains at least one bit set
    corresponding to a <code class="code">VkMemoryType</code> with a <em class="parameter"><code>propertyFlags</code></em> that
    has the <code class="code">VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> bit set.
</li><li class="listitem">
The <em class="parameter"><code>memoryTypeBits</code></em> member is identical for all <code class="code">VkBuffer</code>
    objects created with the same value for the <em class="parameter"><code>flags</code></em> and <em class="parameter"><code>usage</code></em>
    members in the <code class="code">VkBufferCreateInfo</code> structure passed to
    <span class="strong"><strong><code class="code">vkCreateBuffer</code></strong></span>.
    Further, if <span class="strong"><strong><code class="code">usage1</code></strong></span> and <span class="strong"><strong><code class="code">usage2</code></strong></span> of type <code class="code"><a class="link" href="#VkBufferUsageFlags">VkBufferUsageFlags</a></code>
    are such that the bits set in <span class="strong"><strong><code class="code">usage2</code></strong></span> are a subset of the bits set
    in <span class="strong"><strong><code class="code">usage1</code></strong></span>, and they have the same <em class="parameter"><code>flags</code></em>, then the bits set in
    <em class="parameter"><code>memoryTypeBits</code></em> returned for <span class="strong"><strong><code class="code">usage1</code></strong></span> <span class="normative">must</span> be a subset of the
    bits set in <em class="parameter"><code>memoryTypeBits</code></em> returned for <span class="strong"><strong><code class="code">usage2</code></strong></span>, for all
    values of <em class="parameter"><code>flags</code></em>.
</li><li class="listitem">
The <em class="parameter"><code>alignment</code></em> member is identical for all <code class="code">VkBuffer</code> objects
    created with the same combination of values for the <em class="parameter"><code>usage</code></em> and
    <em class="parameter"><code>flags</code></em> members in the <code class="code">VkBufferCreateInfo</code> structure passed to
    <span class="strong"><strong><code class="code">vkCreateBuffer</code></strong></span>.
</li><li class="listitem">
The <em class="parameter"><code>memoryTypeBits</code></em> member is identical for all <code class="code">VkImage</code>
    objects created with the same combination of values for the <em class="parameter"><code>tiling</code></em>
    member and the <code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> bit of the
    <em class="parameter"><code>flags</code></em> member and the <code class="code">VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>
    of the <em class="parameter"><code>usage</code></em> member in the <code class="code">VkImageCreateInfo</code> structure
    passed to <span class="strong"><strong><code class="code">vkCreateImage</code></strong></span>.
</li><li class="listitem">
If the memory requirements are for a <code class="code">VkImage</code>, the
    <em class="parameter"><code>memoryTypeBits</code></em> member <span class="normative">must</span> not refer to a <code class="code">VkMemoryType</code> with
    a <em class="parameter"><code>propertyFlags</code></em> that has the
    <code class="code">VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set if the
    <code class="code"><a class="link" href="#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a></code>::<em class="parameter"><code>image</code></em> did not have
    <code class="code">VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> bit set in the <em class="parameter"><code>usage</code></em>
    member of the <code class="code">VkImageCreateInfo</code> structure passed to
    <span class="strong"><strong><code class="code">vkCreateImage</code></strong></span>.
</li><li class="listitem"><p class="simpara">
If the memory requirements are for a <code class="code">VkBuffer</code>, the
    <em class="parameter"><code>memoryTypeBits</code></em> member <span class="normative">must</span> not refer to a <code class="code">VkMemoryType</code> with
    a <em class="parameter"><code>propertyFlags</code></em> that has the
    <code class="code">VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set.
</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The implication of this requirement is that lazily allocated memory is
disallowed for buffers in all cases.</p></td></tr></table></div></li></ul></div><p>To attach memory to a buffer object, call:</p><p><a id="vkBindBufferMemory"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkBindBufferMemory(
    VkDevice                                    device,
    VkBuffer                                    buffer,
    VkDeviceMemory                              memory,
    VkDeviceSize                                memoryOffset);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the buffer and memory.
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> is the buffer.
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> is a <code class="code">VkDeviceMemory</code> object describing the device
    memory to attach.
</li><li class="listitem">
<em class="parameter"><code>memoryOffset</code></em> is the start offset of the region of <em class="parameter"><code>memory</code></em>
    which is to be bound to the buffer.
    The number of bytes returned in the
    <code class="code">VkMemoryRequirements</code>::<em class="parameter"><code>size</code></em> member in <em class="parameter"><code>memory</code></em>, starting
    from <em class="parameter"><code>memoryOffset</code></em> bytes, will be bound to the specified buffer.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> be a valid <code class="code">VkDeviceMemory</code> handle
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> not already be backed by a memory object
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> not have been created with any sparse memory binding flags
</li><li class="listitem">
<em class="parameter"><code>memoryOffset</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>memory</code></em>
</li><li class="listitem">
If <em class="parameter"><code>buffer</code></em> was created with the <code class="code">VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> or <code class="code">VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code>, <em class="parameter"><code>memoryOffset</code></em> <span class="normative">must</span> be a multiple of <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>minTexelBufferOffsetAlignment</code></em>
</li><li class="listitem">
If <em class="parameter"><code>buffer</code></em> was created with the <code class="code">VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</code>, <em class="parameter"><code>memoryOffset</code></em> <span class="normative">must</span> be a multiple of <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>minUniformBufferOffsetAlignment</code></em>
</li><li class="listitem">
If <em class="parameter"><code>buffer</code></em> was created with the <code class="code">VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code>, <em class="parameter"><code>memoryOffset</code></em> <span class="normative">must</span> be a multiple of <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>minStorageBufferOffsetAlignment</code></em>
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> have been allocated using one of the memory types allowed in the <em class="parameter"><code>memoryTypeBits</code></em> member of the <code class="code">VkMemoryRequirements</code> structure returned from a call to <span class="strong"><strong><code class="code">vkGetBufferMemoryRequirements</code></strong></span> with <em class="parameter"><code>buffer</code></em>
</li><li class="listitem">
<em class="parameter"><code>memoryOffset</code></em> <span class="normative">must</span> be an integer multiple of the <em class="parameter"><code>alignment</code></em> member of the <code class="code">VkMemoryRequirements</code> structure returned from a call to <span class="strong"><strong><code class="code">vkGetBufferMemoryRequirements</code></strong></span> with <em class="parameter"><code>buffer</code></em>
</li><li class="listitem">
The <em class="parameter"><code>size</code></em> member of the <code class="code">VkMemoryRequirements</code> structure returned from a call to <span class="strong"><strong><code class="code">vkGetBufferMemoryRequirements</code></strong></span> with <em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>memory</code></em> minus <em class="parameter"><code>memoryOffset</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>To attach memory to an image object, call:</p><p><a id="vkBindImageMemory"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkBindImageMemory(
    VkDevice                                    device,
    VkImage                                     image,
    VkDeviceMemory                              memory,
    VkDeviceSize                                memoryOffset);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the image and memory.
</li><li class="listitem">
<em class="parameter"><code>image</code></em> is the image.
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> is the a <code class="code">VkDeviceMemory</code> object describing the device
    memory to attach.
</li><li class="listitem">
<em class="parameter"><code>memoryOffset</code></em> is the start offset of the region of <em class="parameter"><code>memory</code></em>
    which is to be bound to the image.
    The number of bytes returned in the
    <code class="code">VkMemoryRequirements</code>::<em class="parameter"><code>size</code></em> member in <em class="parameter"><code>memory</code></em>, starting
    from <em class="parameter"><code>memoryOffset</code></em> bytes, will be bound to the specified image.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> be a valid <code class="code">VkDeviceMemory</code> handle
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> not already be backed by a memory object
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> not have been created with any sparse memory binding flags
</li><li class="listitem">
<em class="parameter"><code>memoryOffset</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>memory</code></em>
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> <span class="normative">must</span> have been allocated using one of the memory types allowed in the <em class="parameter"><code>memoryTypeBits</code></em> member of the <code class="code">VkMemoryRequirements</code> structure returned from a call to <span class="strong"><strong><code class="code">vkGetImageMemoryRequirements</code></strong></span> with <em class="parameter"><code>image</code></em>
</li><li class="listitem">
<em class="parameter"><code>memoryOffset</code></em> <span class="normative">must</span> be an integer multiple of the <em class="parameter"><code>alignment</code></em> member of the <code class="code">VkMemoryRequirements</code> structure returned from a call to <span class="strong"><strong><code class="code">vkGetImageMemoryRequirements</code></strong></span> with <em class="parameter"><code>image</code></em>
</li><li class="listitem">
The <em class="parameter"><code>size</code></em> member of the <code class="code">VkMemoryRequirements</code> structure returned from a call to <span class="strong"><strong><code class="code">vkGetImageMemoryRequirements</code></strong></span> with <em class="parameter"><code>image</code></em> <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>memory</code></em> minus <em class="parameter"><code>memoryOffset</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>image</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p><a id="resources-bufferimagegranularity"></a><strong>Buffer-Image Granularity. </strong>There is an implementation-dependent limit, <em class="parameter"><code>bufferImageGranularity</code></em>,
which specifies a page-like granularity at which buffer, linear image and
optimal image resources <span class="normative">must</span> be placed in adjacent memory locations to
avoid aliasing.
Two resources which do not satisfy this granularity requirement are said to
<a class="link" href="#resources-memory-aliasing" title="11.8. Memory Aliasing">alias</a>.
Linear image resource are images created with <code class="code">VK_IMAGE_TILING_LINEAR</code>
and optimal image resources are those created with
<code class="code">VK_IMAGE_TILING_OPTIMAL</code>.
<em class="parameter"><code>bufferImageGranularity</code></em> is specified in bytes, and <span class="normative">must</span> be a power of
two.
Implementations which do not require such an additional granularity <span class="normative">may</span>
report a value of one.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p><em class="parameter"><code>bufferImageGranularity</code></em> is really a granularity between "linear"
resources, including buffers and images with linear tiling, vs.
"optimal" resources, i.e.
images with optimal tiling.
It would have been better named "linearOptimalGranularity".</p></td></tr></table></div><p>Given resourceA at the lower memory offset and resourceB at the higher
memory offset in the same <code class="code">VkDeviceMemory</code> object, where one of the
resources is a buffer or a linear image and the other is an optimal image,
and the following:</p><pre class="programlisting">resourceA.end       = resourceA.memoryOffset + resourceA.size - 1
resourceA.endPage   = resourceA.end &amp; ~(bufferImageGranularity-1)
resourceB.start     = resourceB.memoryOffset
resourceB.startPage = resourceB.start &amp; ~(bufferImageGranularity-1)</pre><p>The following property <span class="normative">must</span> hold:</p><pre class="programlisting">resourceA.endPage &lt; resourceB.startPage</pre><p>That is, the end of the first resource (A) and the beginning of the second
resource (B) <span class="normative">must</span> be on separate “pages” of size
<em class="parameter"><code>bufferImageGranularity</code></em>.
<em class="parameter"><code>bufferImageGranularity</code></em> <span class="normative">may</span> be different than the physical page size
of the memory heap.
This restriction is only needed when a buffer or a linear image is at
adjacent memory location with an optimal image and both will be used
simultaneously.
Adjacent buffers' or adjacent images' memory ranges <span class="normative">can</span> be closer than
<em class="parameter"><code>bufferImageGranularity</code></em>, provided they meet the <em class="parameter"><code>alignment</code></em>
requirement for the objects in question.</p><p>Sparse block size in bytes and sparse image and buffer memory alignments
<span class="normative">must</span> all be multiples of the <em class="parameter"><code>bufferImageGranularity</code></em>.
Therefore, memory bound to sparse resources naturally satisfies the
<em class="parameter"><code>bufferImageGranularity</code></em>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="resources-sharing"></a>11.7. Resource Sharing Mode</h2></div></div></div><p>Buffer and image objects are created with a <span class="emphasis"><em>sharing mode</em></span> controlling how
they <span class="normative">can</span> be accessed from queues.
The supported sharing modes are:</p><p><a id="VkSharingMode"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkSharingMode {
    VK_SHARING_MODE_EXCLUSIVE = 0,
    VK_SHARING_MODE_CONCURRENT = 1,
} VkSharingMode;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SHARING_MODE_EXCLUSIVE</code> specifies that access to any range or
    image subresource of the object will be exclusive to a single queue
    family at a time.
</li><li class="listitem">
<code class="code">VK_SHARING_MODE_CONCURRENT</code> specifies that concurrent access to any
    range or image subresource of the object from multiple queue families is
    supported.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p><code class="code">VK_SHARING_MODE_CONCURRENT</code> <span class="normative">may</span> result in lower performance access to
the buffer or image than <code class="code">VK_SHARING_MODE_EXCLUSIVE</code>.</p></td></tr></table></div><p>Ranges of buffers and image subresources of image objects created using
<code class="code">VK_SHARING_MODE_EXCLUSIVE</code> <span class="normative">must</span> only be accessed by queues in the same
queue family at any given time.
In order for a different queue family to be able to interpret the memory
contents of a range or image subresource, the application <span class="normative">must</span> transfer
exclusive ownership of the range or image subresource between the source and
destination queue families with the following sequence of operations:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Release exclusive ownership from the source queue family to the
    destination queue family.
</li><li class="listitem">
Use semaphores to ensure proper execution control for the ownership
    transfer.
</li><li class="listitem">
Acquire exclusive ownership for the destination queue family from the
    source queue family.
</li></ol></div><p>To release exclusive ownership of a range of a buffer or image subresource
of an image object, the application <span class="normative">must</span> execute a buffer or image memory
barrier, respectively (see <code class="code"><a class="link" href="#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a></code> and
<code class="code"><a class="link" href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a></code>) on a queue from the source queue family.
The <em class="parameter"><code>srcQueueFamilyIndex</code></em> parameter of the barrier <span class="normative">must</span> be set to the
source queue family index, and the <em class="parameter"><code>dstQueueFamilyIndex</code></em> parameter to
the destination queue family index.</p><p>To acquire exclusive ownership, the application <span class="normative">must</span> execute the same
buffer or image memory barrier (i.e. an identically defined instance of the
<code class="code"><a class="link" href="#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a></code> or <code class="code"><a class="link" href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a></code> structure that
was used for the exclusive ownership release) on a queue from the
destination queue family.</p><p>Upon creation, resources using <code class="code">VK_SHARING_MODE_EXCLUSIVE</code> are not owned
by any queue family.
A buffer or image memory barrier is not required to acquire ownership when
no queue family owns the resource - it is implicitly acquired upon first use
within a queue.
However, images still require a <a class="link" href="#resources-image-layouts" title="11.4. Image Layouts">layout transition</a> from <code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code> or
<code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code> before being used on the first queue.
This layout transition <span class="normative">can</span> either be accomplished by an image memory
barrier or by use in a render pass instance.</p><p>Once a queue family has used a range or image subresource of an
<code class="code">VK_SHARING_MODE_EXCLUSIVE</code> resource, its contents are undefined to
other queue families unless ownership is transferred.
The contents <span class="normative">may</span> also become undefined for other reasons, e.g.
as a result of writes to an image subresource that aliases the same memory.
A queue family <span class="normative">can</span> take ownership of a range or image subresource without
an ownership transfer in the same way as for a resource that was just
created, however doing so means any contents written by other queue families
or via incompatible aliases are undefined.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="resources-memory-aliasing"></a>11.8. Memory Aliasing</h2></div></div></div><p>A range of a <code class="code">VkDeviceMemory</code> allocation is <span class="emphasis"><em>aliased</em></span> if it is bound to
multiple resources simultaneously, via <code class="code"><a class="link" href="#vkBindImageMemory">vkBindImageMemory</a></code>,
<code class="code"><a class="link" href="#vkBindBufferMemory">vkBindBufferMemory</a></code>, or via <a class="link" href="#sparsememory-resource-binding" title="28.7.6. Binding Resource Memory">sparse memory bindings</a>.
A memory range aliased between two images or two buffers is defined to be
the intersection of the memory ranges bound to the two resources.
A memory range aliased between two resources where one is a buffer or a
linear image, and the other is an optimal image, is defined to be the
intersection of the memory ranges bound to the two resources, where each
range is first padded to be aligned to the <em class="parameter"><code>bufferImageGranularity</code></em>.
Applications <span class="normative">can</span> alias memory, but use of multiple aliases is subject to
several constraints.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Memory aliasing <span class="normative">can</span> be useful to reduce the total device memory footprint
of an application, if some large resources are used for disjoint periods of
time.</p></td></tr></table></div><p>When an opaque, non-<code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> image is
bound to an aliased range, all image subresources of the image <span class="emphasis"><em>overlap</em></span> the
range.
When a linear image is bound to an aliased range, the image subresources
that (according to the image’s advertised layout) include bytes from the
aliased range overlap the range.
When a <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> image has sparse image
blocks bound to an aliased range, only image subresources including those
sparse image blocks overlap the range, and when the memory bound to the
image’s mip tail overlaps an aliased range all image subresources in the mip
tail overlap the range.</p><p>Buffers, and linear image subresources in either the
<code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code> or <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
layouts, are <span class="emphasis"><em>host-accessible subresources</em></span>.
That is, the host has a well-defined addressing scheme to interpret the
contents, and thus the layout of the data in memory <span class="normative">can</span> be consistently
interpreted across aliases if each of those aliases is a host-accessible
subresource.
Opaque images and linear image subresources in other layouts are not
host-accessible.</p><p>If two aliases are both host-accessible, then they interpret the contents of
the memory in consistent ways, and data written to one alias <span class="normative">can</span> be read by
the other alias.</p><p>If either of two aliases is not host-accessible, then the aliases interpret
the contents of the memory differently, and writes via one alias make the
contents of memory partially or completely undefined to the other alias.
If the first alias is a host-accessible subresource, then the bytes affected
are those written by the memory operations according to its addressing
scheme.
If the first alias is not host-accessible, then the bytes affected are those
overlapped by the image subresources that were written.
If the second alias is a host-accessible subresource, the affected bytes
become undefined.
If the second alias is a not host-accessible, all sparse image blocks (for
sparse partially-resident images) or all image subresources (for non-sparse
image and fully resident sparse images) that overlap the affected bytes
become undefined.</p><p>If any image subresources are made undefined due to writes to an alias, then
each of those image subresources <span class="normative">must</span> have its layout transitioned from
<code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code> to a valid layout before it is used, or from
<code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code> if the memory has been written by the
host.
If any sparse blocks of a sparse image have been made undefined, then only
the image subresources containing them <span class="normative">must</span> be transitioned.</p><p>Use of an overlapping range by two aliases <span class="normative">must</span> be separated by a memory
dependency using the appropriate access types if at least one of those uses
performs writes, whether the aliases interpret memory consistently or not.
If buffer or image memory barriers are used, the scope of the barrier <span class="normative">must</span>
contain the entire range and/or set of image subresources that overlap.</p><p>If two aliasing image views are used in the same framebuffer, then the
render pass <span class="normative">must</span> declare the attachments using the
<a class="link" href="#renderpass-aliasing"><code class="code">VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code></a>, and
follow the other rules listed in that section.</p><p>Access to resources which alias memory from shaders using variables
decorated with <span class="strong"><strong><code class="code">Coherent</code></strong></span> are not automatically coherent with each other.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Memory recycled via an application suballocator (i.e.
without freeing and reallocating the memory objects) is not substantially
different from memory aliasing.
However, a suballocator usually waits on a fence before recycling a region
of memory, and signaling a fence involves sufficient implicit dependencies
to satisfy all the above requirements.</p></td></tr></table></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="samplers"></a>Chapter 12. Samplers</h1></div></div></div><p><code class="code">VkSampler</code> objects represent the state of an image sampler which is
used by the implementation to read image data and apply filtering and other
transformations for the shader.</p><p>Samplers are represented by <code class="code">VkSampler</code> handles:</p><p><a id="VkSampler"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkSampler)</pre><p>
</p><p>To create a sampler object, call:</p><p><a id="vkCreateSampler"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateSampler(
    VkDevice                                    device,
    const VkSamplerCreateInfo*                  pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSampler*                                  pSampler);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the sampler.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkSamplerCreateInfo">VkSamplerCreateInfo</a></code> structure specifying the state of the sampler
    object.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pSampler</code></em> points to a <code class="code">VkSampler</code> handle in which the resulting
    sampler object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkSamplerCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pSampler</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkSampler</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_TOO_MANY_OBJECTS</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkSamplerCreateInfo</code> structure is defined as:</p><p><a id="VkSamplerCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSamplerCreateInfo {
    VkStructureType         sType;
    const void*             pNext;
    VkSamplerCreateFlags    flags;
    VkFilter                magFilter;
    VkFilter                minFilter;
    VkSamplerMipmapMode     mipmapMode;
    VkSamplerAddressMode    addressModeU;
    VkSamplerAddressMode    addressModeV;
    VkSamplerAddressMode    addressModeW;
    float                   mipLodBias;
    VkBool32                anisotropyEnable;
    float                   maxAnisotropy;
    VkBool32                compareEnable;
    VkCompareOp             compareOp;
    float                   minLod;
    float                   maxLod;
    VkBorderColor           borderColor;
    VkBool32                unnormalizedCoordinates;
} VkSamplerCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>magFilter</code></em> is the magnification filter to apply to lookups, and is
    of type:
</p><p><a id="VkFilter"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkFilter {
    VK_FILTER_NEAREST = 0,
    VK_FILTER_LINEAR = 1,
} VkFilter;</pre><p>
</p></li><li class="listitem">
<em class="parameter"><code>minFilter</code></em> is the minification filter to apply to lookups, and is
    of type <code class="code"><a class="link" href="#VkFilter">VkFilter</a></code>.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>mipmapMode</code></em> is the mipmap filter to apply to lookups as described
    in the <a class="link" href="#textures-texel-filtering" title="15.8.3. Texel Filtering">Texel Filtering</a> section, and is of
    type:
</p><p><a id="VkSamplerMipmapMode"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkSamplerMipmapMode {
    VK_SAMPLER_MIPMAP_MODE_NEAREST = 0,
    VK_SAMPLER_MIPMAP_MODE_LINEAR = 1,
} VkSamplerMipmapMode;</pre><p>
</p></li><li class="listitem">
<em class="parameter"><code>addressModeU</code></em> is the addressing mode for outside [0..1] range for U
    coordinate.
    See <code class="code"><a class="link" href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code>.
</li><li class="listitem">
<em class="parameter"><code>addressModeV</code></em> is the addressing mode for outside [0..1] range for V
    coordinate.
    See <code class="code"><a class="link" href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code>.
</li><li class="listitem">
<em class="parameter"><code>addressModeW</code></em> is the addressing mode for outside [0..1] range for W
    coordinate.
    See <code class="code"><a class="link" href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code>.
</li><li class="listitem">
<a id="samplers-mipLodBias"></a> <em class="parameter"><code>mipLodBias</code></em> is the bias to be added to
    mipmap LOD calculation and bias provided by image sampling functions in
    SPIR-V, as described in the <a class="link" href="#textures-level-of-detail-operation" title="Level-of-Detail Operation">Level-of-Detail Operation</a> section.
</li><li class="listitem">
<a id="samplers-maxAnisotropy"></a> <em class="parameter"><code>anisotropyEnable</code></em> is <code class="code">VK_TRUE</code> to
    enable anisotropic filtering, as described in the
    <a class="link" href="#textures-texel-anisotropic-filtering" title="15.8.4. Texel Anisotropic Filtering">Texel Anisotropic Filtering</a>
    section, or <code class="code">VK_FALSE</code> otherwise.
</li><li class="listitem">
<em class="parameter"><code>maxAnisotropy</code></em> is the anisotropy value clamp.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>compareEnable</code></em> is <code class="code">VK_TRUE</code> to enable comparison against a
    reference value during lookups, or <code class="code">VK_FALSE</code> otherwise.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Note: Some implementations will default to shader state if this member
     does not match.
</li></ul></div></li><li class="listitem">
<em class="parameter"><code>compareOp</code></em> is the comparison function to apply to fetched data
    before filtering as described in the <a class="link" href="#textures-depth-compare-operation" title="15.3.4. Depth Compare Operation">Depth Compare Operation</a> section.
    See <code class="code"><a class="link" href="#VkCompareOp">VkCompareOp</a></code>.
</li><li class="listitem">
<em class="parameter"><code>minLod</code></em> and <em class="parameter"><code>maxLod</code></em> are the values used to clamp the computed
    level-of-detail value, as described in the
    <a class="link" href="#textures-level-of-detail-operation" title="Level-of-Detail Operation">Level-of-Detail Operation</a>
    section.
    <em class="parameter"><code>maxLod</code></em> <span class="normative">must</span> be greater than or equal to <em class="parameter"><code>minLod</code></em>.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>borderColor</code></em> is the predefined border color to use, as described in
    the <a class="link" href="#textures-texel-replacement" title="15.3.3. Texel Replacement">Texel Replacement</a> section, and is of
    type:
</p><p><a id="VkBorderColor"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkBorderColor {
    VK_BORDER_COLOR_FLOAT_TRANSPARENT_BLACK = 0,
    VK_BORDER_COLOR_INT_TRANSPARENT_BLACK = 1,
    VK_BORDER_COLOR_FLOAT_OPAQUE_BLACK = 2,
    VK_BORDER_COLOR_INT_OPAQUE_BLACK = 3,
    VK_BORDER_COLOR_FLOAT_OPAQUE_WHITE = 4,
    VK_BORDER_COLOR_INT_OPAQUE_WHITE = 5,
} VkBorderColor;</pre><p>
</p></li><li class="listitem"><p class="simpara">
<a id="samplers-unnormalizedCoordinates"></a> <em class="parameter"><code>unnormalizedCoordinates</code></em>
    controls whether to use unnormalized or normalized texel coordinates to
    address texels of the image.
    When set to <code class="code">VK_TRUE</code>, the range of the image coordinates used to
    lookup the texel is in the range of zero to the image dimensions for x,
    y and z.
    When set to <code class="code">VK_FALSE</code> the range of image coordinates is zero to
    one.
    When <em class="parameter"><code>unnormalizedCoordinates</code></em> is <code class="code">VK_TRUE</code>, samplers have the
    following requirements:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<em class="parameter"><code>minFilter</code></em> and <em class="parameter"><code>magFilter</code></em> <span class="normative">must</span> be equal.
</li><li class="listitem">
<em class="parameter"><code>mipmapMode</code></em> <span class="normative">must</span> be <code class="code">VK_SAMPLER_MIPMAP_MODE_NEAREST</code>.
</li><li class="listitem">
<em class="parameter"><code>minLod</code></em> and <em class="parameter"><code>maxLod</code></em> <span class="normative">must</span> be zero.
</li><li class="listitem">
<em class="parameter"><code>addressModeU</code></em> and <em class="parameter"><code>addressModeV</code></em> <span class="normative">must</span> each be either
     <code class="code">VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code> or
     <code class="code">VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER</code>.
</li><li class="listitem">
<em class="parameter"><code>anisotropyEnable</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>.
</li><li class="listitem">
<em class="parameter"><code>compareEnable</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>.
</li></ul></div></li><li class="listitem"><p class="simpara">
When <em class="parameter"><code>unnormalizedCoordinates</code></em> is <code class="code">VK_TRUE</code>, images the sampler
    is used with in the shader have the following requirements:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
The <em class="parameter"><code>viewType</code></em> <span class="normative">must</span> be either <code class="code">VK_IMAGE_VIEW_TYPE_1D</code> or
     <code class="code">VK_IMAGE_VIEW_TYPE_2D</code>.
</li><li class="listitem">
The image view <span class="normative">must</span> have a single layer and a single mip level.
</li></ul></div></li><li class="listitem"><p class="simpara">
When <em class="parameter"><code>unnormalizedCoordinates</code></em> is <code class="code">VK_TRUE</code>, image built-in
    functions in the shader that use the sampler have the following
    requirements:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
The functions <span class="normative">must</span> not use projection.
</li><li class="listitem">
The functions <span class="normative">must</span> not use offsets.
</li></ul></div></li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Mapping of OpenGL to Vulkan filter modes"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Mapping of OpenGL to Vulkan filter modes</th></tr><tr><td align="left" valign="top"><p><em class="parameter"><code>magFilter</code></em> values of <code class="code">VK_FILTER_NEAREST</code> and <code class="code">VK_FILTER_LINEAR</code>
directly correspond to <span class="strong"><strong><code class="code">GL_NEAREST</code></strong></span> and <span class="strong"><strong><code class="code">GL_LINEAR</code></strong></span> magnification
filters.
<em class="parameter"><code>minFilter</code></em> and <em class="parameter"><code>mipmapMode</code></em> combine to correspond to the similarly
named OpenGL minification filter of <span class="strong"><strong><code class="code">GL_minFilter_MIPMAP_mipmapMode</code></strong></span>
(e.g.
<em class="parameter"><code>minFilter</code></em> of <code class="code">VK_FILTER_LINEAR</code> and <em class="parameter"><code>mipmapMode</code></em> of
<code class="code">VK_SAMPLER_MIPMAP_MODE_NEAREST</code> correspond to
<span class="strong"><strong><code class="code">GL_LINEAR_MIPMAP_NEAREST</code></strong></span>).</p><p>There are no Vulkan filter modes that directly correspond to OpenGL
minification filters of <span class="strong"><strong><code class="code">GL_LINEAR</code></strong></span> or <span class="strong"><strong><code class="code">GL_NEAREST</code></strong></span>, but they <span class="normative">can</span> be
emulated using <code class="code">VK_SAMPLER_MIPMAP_MODE_NEAREST</code>, <em class="parameter"><code>minLod</code></em> = 0, and
<em class="parameter"><code>maxLod</code></em> = 0.25, and using <em class="parameter"><code>minFilter</code></em> = <code class="code">VK_FILTER_LINEAR</code> or
<em class="parameter"><code>minFilter</code></em> = <code class="code">VK_FILTER_NEAREST</code>, respectively.</p><p>Note that using a <em class="parameter"><code>maxLod</code></em> of zero would cause
<a class="link" href="#textures-texel-filtering" title="15.8.3. Texel Filtering">magnification</a> to always be performed, and the
<em class="parameter"><code>magFilter</code></em> to always be used.
This is valid, just not an exact match for OpenGL behavior.
Clamping the maximum LOD to 0.25 allows the <span class="inlinemediaobject"><span class="phrase">
$\lambda$
</span></span> value to
be non-zero and minification to be performed, while still always rounding
down to the base level.
If the <em class="parameter"><code>minFilter</code></em> and <em class="parameter"><code>magFilter</code></em> are equal, then using a
<em class="parameter"><code>maxLod</code></em> of zero also works.</p></td></tr></table></div><p><em class="parameter"><code>addressModeU</code></em>, <em class="parameter"><code>addressModeV</code></em>, and <em class="parameter"><code>addressModeW</code></em> <span class="normative">must</span> each
have one of the following values:</p><p><a id="VkSamplerAddressMode"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkSamplerAddressMode {
    VK_SAMPLER_ADDRESS_MODE_REPEAT = 0,
    VK_SAMPLER_ADDRESS_MODE_MIRRORED_REPEAT = 1,
    VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE = 2,
    VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER = 3,
    VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE = 4,
} VkSamplerAddressMode;</pre><p>
</p><p>These values control the behavior of sampling with coordinates outside the
range <span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span> for the respective u, v, or w coordinate as
defined in the <a class="link" href="#textures-wrapping-operation" title="15.8.1. Wrapping Operation">Wrapping Operation</a> section.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SAMPLER_ADDRESS_MODE_REPEAT</code> indicates that the repeat wrap mode
    will be used.
</li><li class="listitem">
<code class="code">VK_SAMPLER_ADDRESS_MODE_MIRRORED_REPEAT</code> indicates that the
    mirrored repeat wrap mode will be used.
</li><li class="listitem">
<code class="code">VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code> indicates that the clamp to
    edge wrap mode will be used.
</li><li class="listitem">
<code class="code">VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER</code> indicates that the clamp
    to border wrap mode will be used.
</li><li class="listitem">
<code class="code">VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code> indicates that the
    mirror clamp to edge wrap mode will be used.
    This is only valid if the <code class="literal">VK_KHR_mirror_clamp_to_edge</code> extension is
    enabled.
</li></ul></div><p>The maximum number of sampler objects which <span class="normative">can</span> be simultaneously created
on a device is implementation-dependent and specified by the
<a class="link" href="#features-limits-maxSamplerAllocationCount"><em class="parameter"><code>maxSamplerAllocationCount</code></em></a>
member of the <code class="code">VkPhysicalDeviceLimits</code> structure.
If <em class="parameter"><code>maxSamplerAllocationCount</code></em> is exceeded, <span class="strong"><strong><code class="code">vkCreateSampler</code></strong></span> will
return <code class="code">VK_ERROR_TOO_MANY_OBJECTS</code>.</p><p>Since <code class="code">VkSampler</code> is a non-dispatchable handle type, implementations
<span class="normative">may</span> return the same handle for sampler state vectors that are identical.
In such cases, all such objects would only count once against the
<em class="parameter"><code>maxSamplerAllocationCount</code></em> limit.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>magFilter</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFilter">VkFilter</a></code> value
</li><li class="listitem">
<em class="parameter"><code>minFilter</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFilter">VkFilter</a></code> value
</li><li class="listitem">
<em class="parameter"><code>mipmapMode</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSamplerMipmapMode">VkSamplerMipmapMode</a></code> value
</li><li class="listitem">
<em class="parameter"><code>addressModeU</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code> value
</li><li class="listitem">
<em class="parameter"><code>addressModeV</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code> value
</li><li class="listitem">
<em class="parameter"><code>addressModeW</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code> value
</li><li class="listitem">
The absolute value of <em class="parameter"><code>mipLodBias</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxSamplerLodBias</code></em>
</li><li class="listitem">
If the <a class="link" href="#features-features-samplerAnisotropy">anisotropic sampling</a> feature is not enabled, <em class="parameter"><code>anisotropyEnable</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>
</li><li class="listitem">
If <em class="parameter"><code>anisotropyEnable</code></em> is <code class="code">VK_TRUE</code>, <em class="parameter"><code>maxAnisotropy</code></em> <span class="normative">must</span> be between <code class="literal">1.0</code> and <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxSamplerAnisotropy</code></em>, inclusive
</li><li class="listitem">
If <em class="parameter"><code>unnormalizedCoordinates</code></em> is <code class="code">VK_TRUE</code>, <em class="parameter"><code>minFilter</code></em> and <em class="parameter"><code>magFilter</code></em> <span class="normative">must</span> be equal
</li><li class="listitem">
If <em class="parameter"><code>unnormalizedCoordinates</code></em> is <code class="code">VK_TRUE</code>, <em class="parameter"><code>mipmapMode</code></em> <span class="normative">must</span> be <code class="code">VK_SAMPLER_MIPMAP_MODE_NEAREST</code>
</li><li class="listitem">
If <em class="parameter"><code>unnormalizedCoordinates</code></em> is <code class="code">VK_TRUE</code>, <em class="parameter"><code>minLod</code></em> and <em class="parameter"><code>maxLod</code></em> <span class="normative">must</span> be zero
</li><li class="listitem">
If <em class="parameter"><code>unnormalizedCoordinates</code></em> is <code class="code">VK_TRUE</code>, <em class="parameter"><code>addressModeU</code></em> and <em class="parameter"><code>addressModeV</code></em> <span class="normative">must</span> each be either <code class="code">VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code> or <code class="code">VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER</code>
</li><li class="listitem">
If <em class="parameter"><code>unnormalizedCoordinates</code></em> is <code class="code">VK_TRUE</code>, <em class="parameter"><code>anisotropyEnable</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>
</li><li class="listitem">
If <em class="parameter"><code>unnormalizedCoordinates</code></em> is <code class="code">VK_TRUE</code>, <em class="parameter"><code>compareEnable</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>
</li><li class="listitem">
If any of <em class="parameter"><code>addressModeU</code></em>, <em class="parameter"><code>addressModeV</code></em> or <em class="parameter"><code>addressModeW</code></em> are <code class="code">VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER</code>, <em class="parameter"><code>borderColor</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkBorderColor">VkBorderColor</a></code> value
</li><li class="listitem">
If the <code class="literal">VK_KHR_sampler_mirror_clamp_to_edge</code> extension is not enabled, <em class="parameter"><code>addressModeU</code></em>, <em class="parameter"><code>addressModeV</code></em> and <em class="parameter"><code>addressModeW</code></em> <span class="normative">must</span> not be <code class="code">VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code>
</li><li class="listitem">
If <em class="parameter"><code>compareEnable</code></em> is <code class="code">VK_TRUE</code>, <em class="parameter"><code>compareOp</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkCompareOp">VkCompareOp</a></code> value
</li></ul></div></div><p>To destroy a sampler, call:</p><p><a id="vkDestroySampler"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroySampler(
    VkDevice                                    device,
    VkSampler                                   sampler,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the sampler.
</li><li class="listitem">
<em class="parameter"><code>sampler</code></em> is the sampler to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>sampler</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>sampler</code></em> <span class="normative">must</span> be a valid <code class="code">VkSampler</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>sampler</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All submitted commands that refer to <em class="parameter"><code>sampler</code></em> <span class="normative">must</span> have completed execution
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>sampler</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>sampler</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>sampler</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="descriptorsets"></a>Chapter 13. Resource Descriptors</h1></div></div></div><p>Shaders access buffer and image resources by using special shader variables
which are indirectly bound to buffer and image views via the API.
These variables are organized into sets, where each set of bindings is
represented by a <span class="emphasis"><em>descriptor set</em></span> object in the API and a descriptor set is
bound all at once.
A <span class="emphasis"><em>descriptor</em></span> is an opaque data structure representing a shader resource
such as a buffer view, image view, sampler, or combined image sampler.
The content of each set is determined by its <span class="emphasis"><em>descriptor set layout</em></span> and the
sequence of set layouts that <span class="normative">can</span> be used by resource variables in shaders
within a pipeline is specified in a <span class="emphasis"><em>pipeline layout</em></span>.</p><p>Each shader <span class="normative">can</span> use up to <em class="parameter"><code>maxBoundDescriptorSets</code></em> (see
<a class="link" href="#features-limits" title="31.2. Limits">Limits</a>) descriptor sets, and each descriptor set <span class="normative">can</span>
include bindings for descriptors of all descriptor types.
Each shader resource variable is assigned a tuple of (set number, binding
number, array element) that defines its location within a descriptor set
layout.
In GLSL, the set number and binding number are assigned via layout
qualifiers, and the array element is implicitly assigned consecutively
starting with index equal to zero for the first element of an array (and
array element is zero for non-array variables):</p><p><strong>GLSL example. </strong>
</p><pre class="programlisting">// Assign set number = M, binding number = N, array element = 0
layout (set=M, binding=N) uniform sampler2D variableName;

// Assign set number = M, binding number = N for all array elements, and
// array element = I for the I'th member of the array.
layout (set=M, binding=N) uniform sampler2D variableNameArray[I];</pre><p>
</p><p><strong>SPIR-V example. </strong>
</p><pre class="screen">// Assign set number = M, binding number = N, array element = 0
               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %10 "variableName"
               OpDecorate %10 DescriptorSet M
               OpDecorate %10 Binding N
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 1 Unknown
          %8 = OpTypeSampledImage %7
          %9 = OpTypePointer UniformConstant %8
         %10 = OpVariable %9 UniformConstant
               ...

// Assign set number = M, binding number = N for all array elements, and
// array element = I for the I'th member of the array.
               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %13 "variableNameArray"
               OpDecorate %13 DescriptorSet M
               OpDecorate %13 Binding N
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 1 Unknown
          %8 = OpTypeSampledImage %7
          %9 = OpTypeInt 32 0
         %10 = OpConstant %9 I
         %11 = OpTypeArray %8 %10
         %12 = OpTypePointer UniformConstant %11
         %13 = OpVariable %12 UniformConstant
               ...</pre><p>
</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="descriptorsets-types"></a>13.1. Descriptor Types</h2></div></div></div><p>The following sections outline the various descriptor types supported by
Vulkan.
Each section defines a descriptor type, and each descriptor type has a
manifestation in the shading language and SPIR-V as well as in descriptor
sets.
There is mostly a one-to-one correspondence between descriptor types and
classes of opaque types in the shading language, where the opaque types in
the shading language <span class="normative">must</span> refer to a descriptor in the pipeline layout of
the corresponding descriptor type.
But there is an exception to this rule as described in
<a class="link" href="#descriptorsets-combinedimagesampler" title="13.1.4. Combined Image Sampler">Combined Image Sampler</a>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-storageimage"></a>13.1.1. Storage Image</h3></div></div></div><p>A <span class="emphasis"><em>storage image</em></span> (<code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>) is a descriptor
type that is used for load, store, and atomic operations on image memory
from within shaders bound to pipelines.</p><p>Loads from storage images do not use samplers and are unfiltered and do not
support coordinate wrapping or clamping.
Loads are supported in all shader stages for image formats which report
support for the
<a class="link" href="#features-formats-properties" title="31.3.2. Format Properties"><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></a>
feature bit via <code class="code"><a class="link" href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>.</p><p>Stores to storage images are supported in compute shaders for image formats
which report support for the <code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code>
feature.</p><p>Storage images also support atomic operations in compute shaders for image
formats which report support for the
<a class="link" href="#features-formats-properties" title="31.3.2. Format Properties"><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></a>
feature.</p><p>Load and store operations on storage images <span class="normative">can</span> only be done on images in
<code class="code">VK_IMAGE_LAYOUT_GENERAL</code> layout.</p><p>When the <a class="link" href="#features-features-fragmentStoresAndAtomics"><em class="parameter"><code>fragmentStoresAndAtomics</code></em></a> feature is enabled, stores and atomic
operations are also supported for storage images in fragment shaders with
the same set of image formats as supported in compute shaders.
When the <a class="link" href="#features-features-vertexPipelineStoresAndAtomics"><em class="parameter"><code>vertexPipelineStoresAndAtomics</code></em></a> feature is enabled, stores and atomic
operations are also supported in vertex, tessellation, and geometry shaders
with the same set of image formats as supported in compute shaders.</p><p>Storage image declarations <span class="normative">must</span> specify the image format in the shader if
the variable is used for atomic operations.</p><p>If the <a class="link" href="#features-features-shaderStorageImageReadWithoutFormat"><em class="parameter"><code>shaderStorageImageReadWithoutFormat</code></em></a> feature is not enabled, storage
image declarations <span class="normative">must</span> specify the image format in the shader if the
variable is used for load operations.</p><p>If the <a class="link" href="#features-features-shaderStorageImageWriteWithoutFormat"><em class="parameter"><code>shaderStorageImageWriteWithoutFormat</code></em></a> feature is not enabled, storage
image declarations <span class="normative">must</span> specify the image format in the shader if the
variable is used for store operations.</p><p>Storage images are declared in GLSL shader source using uniform <span class="strong"><strong><code class="code">image</code></strong></span>
variables of the appropriate dimensionality as well as a format layout
qualifier (if necessary):</p><p><strong>GLSL example. </strong>
</p><pre class="programlisting">layout (set=m, binding=n, r32f) uniform image2D myStorageImage;</pre><p>
</p><p><strong>SPIR-V example. </strong>
</p><pre class="screen">               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "myStorageImage"
               OpDecorate %9 DescriptorSet m
               OpDecorate %9 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 2 R32f
          %8 = OpTypePointer UniformConstant %7
          %9 = OpVariable %8 UniformConstant
               ...</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-sampler"></a>13.1.2. Sampler</h3></div></div></div><p>A <span class="emphasis"><em>sampler</em></span> (<code class="code">VK_DESCRIPTOR_TYPE_SAMPLER</code>) represents a set of
parameters which control address calculations, filtering behavior, and other
properties, that <span class="normative">can</span> be used to perform filtered loads from <span class="emphasis"><em>sampled
images</em></span> (see <a class="link" href="#descriptorsets-sampledimage" title="13.1.3. Sampled Image">Sampled Image</a>).</p><p>Samplers are declared in GLSL shader source using uniform <span class="strong"><strong><code class="code">sampler</code></strong></span>
variables, where the sampler type has no associated texture dimensionality:</p><p><strong>GLSL Example. </strong>
</p><pre class="programlisting">layout (set=m, binding=n) uniform sampler mySampler;</pre><p>
</p><p><strong>SPIR-V Example. </strong>
</p><pre class="screen">               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %8 "mySampler"
               OpDecorate %8 DescriptorSet m
               OpDecorate %8 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeSampler
          %7 = OpTypePointer UniformConstant %6
          %8 = OpVariable %7 UniformConstant
               ...</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-sampledimage"></a>13.1.3. Sampled Image</h3></div></div></div><p>A <span class="emphasis"><em>sampled image</em></span> (<code class="code">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>) <span class="normative">can</span> be used
(usually in conjunction with a sampler) to retrieve sampled image data.
Shaders use a sampled image handle and a sampler handle to sample data,
where the image handle generally defines the shape and format of the memory
and the sampler generally defines how coordinate addressing is performed.
The same sampler <span class="normative">can</span> be used to sample from multiple images, and it is
possible to sample from the same sampled image with multiple samplers, each
containing a different set of sampling parameters.</p><p>Sampled images are declared in GLSL shader source using uniform <span class="strong"><strong><code class="code">texture</code></strong></span>
variables of the appropriate dimensionality:</p><p><strong>GLSL example. </strong>
</p><pre class="programlisting">layout (set=m, binding=n) uniform texture2D mySampledImage;</pre><p>
</p><p><strong>SPIR-V example. </strong>
</p><pre class="screen">               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "mySampledImage"
               OpDecorate %9 DescriptorSet m
               OpDecorate %9 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 1 Unknown
          %8 = OpTypePointer UniformConstant %7
          %9 = OpVariable %8 UniformConstant
               ...</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-combinedimagesampler"></a>13.1.4. Combined Image Sampler</h3></div></div></div><p>A <span class="emphasis"><em>combined image sampler</em></span> (<code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>)
represents a sampled image along with a set of sampling parameters.
It is logically considered a sampled image and a sampler bound together.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>On some implementations, it <span class="normative">may</span> be more efficient to sample from an image
using a combination of sampler and sampled image that are stored together in
the descriptor set in a combined descriptor.</p></td></tr></table></div><p>Combined image samplers are declared in GLSL shader source using uniform
<span class="strong"><strong><code class="code">sampler</code></strong></span> variables of the appropriate dimensionality:</p><p><strong>GLSL example. </strong>
</p><pre class="programlisting">layout (set=m, binding=n) uniform sampler2D myCombinedImageSampler;</pre><p>
</p><p><strong>SPIR-V example. </strong>
</p><pre class="screen">               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %10 "myCombinedImageSampler"
               OpDecorate %10 DescriptorSet m
               OpDecorate %10 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 1 Unknown
          %8 = OpTypeSampledImage %7
          %9 = OpTypePointer UniformConstant %8
         %10 = OpVariable %9 UniformConstant
               ...</pre><p>
</p><p><code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> descriptor set entries <span class="normative">can</span>
also be accessed via separate sampler and sampled image shader variables.
Such variables refer exclusively to the corresponding half of the
descriptor, and <span class="normative">can</span> be combined in the shader with samplers or sampled
images that <span class="normative">can</span> come from the same descriptor or from other combined or
separate descriptor types.
There are no additional restrictions on how a separate sampler or sampled
image variable is used due to it originating from a combined descriptor.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-uniformtexelbuffer"></a>13.1.5. Uniform Texel Buffer</h3></div></div></div><p>A <span class="emphasis"><em>uniform texel buffer</em></span> (<code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>)
represents a tightly packed array of homogeneous formatted data that is
stored in a buffer and is made accessible to shaders.
Uniform texel buffers are read-only.</p><p>Uniform texel buffers are declared in GLSL shader source using uniform
<span class="strong"><strong><code class="code">samplerBuffer</code></strong></span> variables:</p><p><strong>GLSL example. </strong>
</p><pre class="programlisting">layout (set=m, binding=n) uniform samplerBuffer myUniformTexelBuffer;</pre><p>
</p><p><strong>SPIR-V example. </strong>
</p><pre class="screen">               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %10 "myUniformTexelBuffer"
               OpDecorate %10 DescriptorSet m
               OpDecorate %10 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 Buffer 0 0 0 1 Unknown
          %8 = OpTypeSampledImage %7
          %9 = OpTypePointer UniformConstant %8
         %10 = OpVariable %9 UniformConstant
               ...</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-storagetexelbuffer"></a>13.1.6. Storage Texel Buffer</h3></div></div></div><p>A <span class="emphasis"><em>storage texel buffer</em></span> (<code class="code">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>)
represents a tightly packed array of homogeneous formatted data that is
stored in a buffer and is made accessible to shaders.
Storage texel buffers differ from uniform texel buffers in that they support
stores and atomic operations in shaders, <span class="normative">may</span> support a different maximum
length, and <span class="normative">may</span> have different performance characteristics.</p><p>Storage texel buffers are declared in GLSL shader source using uniform
<span class="strong"><strong><code class="code">imageBuffer</code></strong></span> variables:</p><p><strong>GLSL example. </strong>
</p><pre class="programlisting">layout (set=m, binding=n, r32f) uniform imageBuffer myStorageTexelBuffer;</pre><p>
</p><p><strong>SPIR-V example. </strong>
</p><pre class="screen">               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "myStorageTexelBuffer"
               OpDecorate %9 DescriptorSet m
               OpDecorate %9 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 Buffer 0 0 0 2 R32f
          %8 = OpTypePointer UniformConstant %7
          %9 = OpVariable %8 UniformConstant
               ...</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-uniformbuffer"></a>13.1.7. Uniform Buffer</h3></div></div></div><p>A <span class="emphasis"><em>uniform buffer</em></span> (<code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>) is a region of
structured storage that is made accessible for read-only access to shaders.
It is typically used to store medium sized arrays of constants such as
shader parameters, matrices and other related data.</p><p>Uniform buffers are declared in GLSL shader source using the uniform storage
qualifier and block syntax:</p><p><strong>GLSL example. </strong>
</p><pre class="programlisting">layout (set=m, binding=n) uniform myUniformBuffer
{
    vec4 myElement[32];
};</pre><p>
</p><p><strong>SPIR-V example. </strong>
</p><pre class="screen">               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %11 "myUniformBuffer"
               OpMemberName %11 0 "myElement"
               OpName %13 ""
               OpDecorate %10 ArrayStride 16
               OpMemberDecorate %11 0 Offset 0
               OpDecorate %11 Block
               OpDecorate %13 DescriptorSet m
               OpDecorate %13 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeVector %6 4
          %8 = OpTypeInt 32 0
          %9 = OpConstant %8 32
         %10 = OpTypeArray %7 %9
         %11 = OpTypeStruct %10
         %12 = OpTypePointer Uniform %11
         %13 = OpVariable %12 Uniform
               ...</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-storagebuffer"></a>13.1.8. Storage Buffer</h3></div></div></div><p>A <span class="emphasis"><em>storage buffer</em></span> (<code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>) is a region of
structured storage that supports both read and write access for shaders.
In addition to general read and write operations, some members of storage
buffers <span class="normative">can</span> be used as the target of atomic operations.
In general, atomic operations are only supported on members that have
unsigned integer formats.</p><p>Storage buffers are declared in GLSL shader source using buffer storage
qualifier and block syntax:</p><p><strong>GLSL example. </strong>
</p><pre class="programlisting">layout (set=m, binding=n) buffer myStorageBuffer
{
    vec4 myElement[];
};</pre><p>
</p><p><strong>SPIR-V example. </strong>
</p><pre class="screen">               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "myStorageBuffer"
               OpMemberName %9 0 "myElement"
               OpName %11 ""
               OpDecorate %8 ArrayStride 16
               OpMemberDecorate %9 0 Offset 0
               OpDecorate %9 BufferBlock
               OpDecorate %11 DescriptorSet m
               OpDecorate %11 Binding n
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeVector %6 4
          %8 = OpTypeRuntimeArray %7
          %9 = OpTypeStruct %8
         %10 = OpTypePointer Uniform %9
         %11 = OpVariable %10 Uniform
               ...</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-uniformbufferdynamic"></a>13.1.9. Dynamic Uniform Buffer</h3></div></div></div><p>A <span class="emphasis"><em>dynamic uniform buffer</em></span> (<code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>)
differs from a uniform buffer only in how its address and length are
specified.
Uniform buffers bind a buffer address and length that is specified in the
descriptor set update by a buffer handle, offset and range (see
<a class="link" href="#descriptorsets-updates" title="13.2.4. Descriptor Set Updates">Descriptor Set Updates</a>).
With dynamic uniform buffers the buffer handle, offset and range specified
in the descriptor set define the base address and length.
The dynamic offset which is relative to this base address is taken from the
<em class="parameter"><code>pDynamicOffsets</code></em> parameter to <code class="code"><a class="link" href="#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a></code> (see
<a class="link" href="#descriptorsets-binding" title="13.2.5. Descriptor Set Binding">Descriptor Set Binding</a>).
The address used for a dynamic uniform buffer is the sum of the buffer base
address and the relative offset.
The length is unmodified and remains the range as specified in the
descriptor update.
The shader syntax is identical for uniform buffers and dynamic uniform
buffers.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-storagebufferdynamic"></a>13.1.10. Dynamic Storage Buffer</h3></div></div></div><p>A <span class="emphasis"><em>dynamic storage buffer</em></span> (<code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>)
differs from a storage buffer only in how its address and length are
specified.
The difference is identical to the difference between uniform buffers and
dynamic uniform buffers (see <a class="link" href="#descriptorsets-uniformbufferdynamic" title="13.1.9. Dynamic Uniform Buffer">Dynamic Uniform Buffer</a>).
The shader syntax is identical for storage buffers and dynamic storage
buffers.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-inputattachment"></a>13.1.11. Input Attachment</h3></div></div></div><p>An <span class="emphasis"><em>input attachment</em></span> (<code class="code">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>) is an
image view that <span class="normative">can</span> be used for pixel local load operations from within
fragment shaders bound to pipelines.
Loads from input attachments are unfiltered.
All image formats that are supported for color attachments
(<code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>) or depth/stencil attachments
(<code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>) for a given image
tiling mode are also supported for input attachments.</p><p>In the shader, input attachments <span class="normative">must</span> be decorated with their input
attachment index in addition to descriptor set and binding numbers.</p><p><strong>GLSL example. </strong>
</p><pre class="programlisting">layout (input_attachment_index=i, set=m, binding=n) uniform subpassInput myInputAttachment;</pre><p>
</p><p><strong>SPIR-V example. </strong>
</p><pre class="screen">               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "myInputAttachment"
               OpDecorate %9 DescriptorSet m
               OpDecorate %9 Binding n
               OpDecorate %9 InputAttachmentIndex i
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 SubpassData 0 0 0 2 Unknown
          %8 = OpTypePointer UniformConstant %7
          %9 = OpVariable %8 UniformConstant
               ...</pre><p>
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="descriptorsets-sets"></a>13.2. Descriptor Sets</h2></div></div></div><p>Descriptors are grouped together into descriptor set objects.
A descriptor set object is an opaque object that contains storage for a set
of descriptors, where the types and number of descriptors is defined by a
descriptor set layout.
The layout object <span class="normative">may</span> be used to define the association of each descriptor
binding with memory or other hardware resources.
The layout is used both for determining the resources that need to be
associated with the descriptor set, and determining the interface between
shader stages and shader resources.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-setlayout"></a>13.2.1. Descriptor Set Layout</h3></div></div></div><p>A descriptor set layout object is defined by an array of zero or more
descriptor bindings.
Each individual descriptor binding is specified by a descriptor type, a
count (array size) of the number of descriptors in the binding, a set of
shader stages that <span class="normative">can</span> access the binding, and (if using immutable
samplers) an array of sampler descriptors.</p><p>Descriptor set layout objects are represented by <code class="code">VkDescriptorSetLayout</code>
handles:</p><p><a id="VkDescriptorSetLayout"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDescriptorSetLayout)</pre><p>
</p><p>To create descriptor set layout objects, call:</p><p><a id="vkCreateDescriptorSetLayout"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateDescriptorSetLayout(
    VkDevice                                    device,
    const VkDescriptorSetLayoutCreateInfo*      pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkDescriptorSetLayout*                      pSetLayout);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the descriptor set
    layout.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a></code> structure specifying the state of
    the descriptor set layout object.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pSetLayout</code></em> points to a <code class="code">VkDescriptorSetLayout</code> handle in which
    the resulting descriptor set layout object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkDescriptorSetLayoutCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pSetLayout</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkDescriptorSetLayout</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>Information about the descriptor set layout is passed in an instance of the
<code class="code">VkDescriptorSetLayoutCreateInfo</code> structure:</p><p><a id="VkDescriptorSetLayoutCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDescriptorSetLayoutCreateInfo {
    VkStructureType                        sType;
    const void*                            pNext;
    VkDescriptorSetLayoutCreateFlags       flags;
    uint32_t                               bindingCount;
    const VkDescriptorSetLayoutBinding*    pBindings;
} VkDescriptorSetLayoutCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>bindingCount</code></em> is the number of elements in <em class="parameter"><code>pBindings</code></em>.
</li><li class="listitem">
<em class="parameter"><code>pBindings</code></em> is a pointer to an array of
    <code class="code"><a class="link" href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a></code> structures.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>bindingCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pBindings</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>bindingCount</code></em> valid <code class="code">VkDescriptorSetLayoutBinding</code> structures
</li></ul></div></div><p>The <code class="code">VkDescriptorSetLayoutBinding</code> structure is defined as:</p><p><a id="VkDescriptorSetLayoutBinding"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDescriptorSetLayoutBinding {
    uint32_t              binding;
    VkDescriptorType      descriptorType;
    uint32_t              descriptorCount;
    VkShaderStageFlags    stageFlags;
    const VkSampler*      pImmutableSamplers;
} VkDescriptorSetLayoutBinding;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>binding</code></em> is the binding number of this entry and corresponds to a
    resource of the same binding number in the shader stages.
</li><li class="listitem">
<em class="parameter"><code>descriptorType</code></em> is a <code class="code"><a class="link" href="#VkDescriptorType">VkDescriptorType</a></code> specifying which type
    of resource descriptors are used for this binding.
</li><li class="listitem">
<em class="parameter"><code>descriptorCount</code></em> is the number of descriptors contained in the
    binding, accessed in a shader as an array.
    If <em class="parameter"><code>descriptorCount</code></em> is zero this binding entry is reserved and the
    resource <span class="normative">must</span> not be accessed from any stage via this binding within
    any pipeline using the set layout.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>stageFlags</code></em> member is a bitmask of <code class="code"><a class="link" href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code>
    specifying which pipeline shader stages <span class="normative">can</span> access a resource for this
    binding.
    <code class="code">VK_SHADER_STAGE_ALL</code> is a shorthand specifying that all defined
    shader stages, including any additional stages defined by extensions,
    <span class="normative">can</span> access the resource.
</p><p class="simpara">If a shader stage is not included in <em class="parameter"><code>stageFlags</code></em>, then a resource <span class="normative">must</span>
not be accessed from that stage via this binding within any pipeline using
the set layout.
There are no limitations on what combinations of stages <span class="normative">can</span> be used by a
descriptor binding, and in particular a binding <span class="normative">can</span> be used by both
graphics stages and the compute stage.</p></li><li class="listitem">
<em class="parameter"><code>pImmutableSamplers</code></em> affects initialization of samplers.
    If <em class="parameter"><code>descriptorType</code></em> specifies a <code class="code">VK_DESCRIPTOR_TYPE_SAMPLER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> type descriptor, then
    <em class="parameter"><code>pImmutableSamplers</code></em> <span class="normative">can</span> be used to initialize a set of <span class="emphasis"><em>immutable
    samplers</em></span>.
    Immutable samplers are permanently bound into the set layout; later
    binding a sampler into an immutable sampler slot in a descriptor set is
    not allowed.
    If <em class="parameter"><code>pImmutableSamplers</code></em> is not <code class="literal">NULL</code>, then it is considered to be a
    pointer to an array of sampler handles that will be consumed by the set
    layout and used for the corresponding binding.
    If <em class="parameter"><code>pImmutableSamplers</code></em> is <code class="literal">NULL</code>, then the sampler slots are
    dynamic and sampler handles <span class="normative">must</span> be bound into descriptor sets using
    this layout.
    If <em class="parameter"><code>descriptorType</code></em> is not one of these descriptor types, then
    <em class="parameter"><code>pImmutableSamplers</code></em> is ignored.
</li></ul></div><p>The above layout definition allows the descriptor bindings to be specified
sparsely such that not all binding numbers between 0 and the maximum binding
number need to be specified in the <em class="parameter"><code>pBindings</code></em> array.
However, all binding numbers between 0 and the maximum binding number <span class="normative">may</span>
consume memory in the descriptor set layout even if not all descriptor
bindings are used, though it <span class="normative">should</span> not consume additional memory from the
descriptor pool.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The maximum binding number specified <span class="normative">should</span> be as compact as possible to
avoid wasted memory.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>descriptorType</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkDescriptorType">VkDescriptorType</a></code> value
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_SAMPLER</code> or <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and <em class="parameter"><code>descriptorCount</code></em> is not <code class="literal">0</code> and <em class="parameter"><code>pImmutableSamplers</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pImmutableSamplers</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>descriptorCount</code></em> valid <code class="code">VkSampler</code> handles
</li><li class="listitem">
If <em class="parameter"><code>descriptorCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>stageFlags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> values
</li></ul></div></div><p>The following examples show a shader snippet using two descriptor sets, and
application code that creates corresponding descriptor set layouts.</p><p><strong>GLSL example. </strong>
</p><pre class="programlisting">//
// binding to a single sampled image descriptor in set 0
//
layout (set=0, binding=0) uniform texture2D mySampledImage;

//
// binding to an array of sampled image descriptors in set 0
//
layout (set=0, binding=1) uniform texture2D myArrayOfSampledImages[12];

//
// binding to a single uniform buffer descriptor in set 1
//
layout (set=1, binding=0) uniform myUniformBuffer
{
    vec4 myElement[32];
};</pre><p>
</p><p><strong>SPIR-V example. </strong>
</p><pre class="screen">               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "mySampledImage"
               OpName %14 "myArrayOfSampledImages"
               OpName %18 "myUniformBuffer"
               OpMemberName %18 0 "myElement"
               OpName %20 ""
               OpDecorate %9 DescriptorSet 0
               OpDecorate %9 Binding 0
               OpDecorate %14 DescriptorSet 0
               OpDecorate %14 Binding 1
               OpDecorate %17 ArrayStride 16
               OpMemberDecorate %18 0 Offset 0
               OpDecorate %18 Block
               OpDecorate %20 DescriptorSet 1
               OpDecorate %20 Binding 0
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 1 Unknown
          %8 = OpTypePointer UniformConstant %7
          %9 = OpVariable %8 UniformConstant
         %10 = OpTypeInt 32 0
         %11 = OpConstant %10 12
         %12 = OpTypeArray %7 %11
         %13 = OpTypePointer UniformConstant %12
         %14 = OpVariable %13 UniformConstant
         %15 = OpTypeVector %6 4
         %16 = OpConstant %10 32
         %17 = OpTypeArray %15 %16
         %18 = OpTypeStruct %17
         %19 = OpTypePointer Uniform %18
         %20 = OpVariable %19 Uniform
               ...</pre><p>
</p><p><strong>API example. </strong>
</p><pre class="programlisting">VkResult myResult;

const VkDescriptorSetLayoutBinding myDescriptorSetLayoutBinding[] =
{
    // binding to a single image descriptor
    {
        0,                                      // binding
        VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE,       // descriptorType
        1,                                      // descriptorCount
        VK_SHADER_STAGE_FRAGMENT_BIT,           // stageFlags
        NULL                                    // pImmutableSamplers
    },

    // binding to an array of image descriptors
    {
        1,                                      // binding
        VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE,       // descriptorType
        12,                                     // descriptorCount
        VK_SHADER_STAGE_FRAGMENT_BIT,           // stageFlags
        NULL                                    // pImmutableSamplers
    },

    // binding to a single uniform buffer descriptor
    {
        0,                                      // binding
        VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER,      // descriptorType
        1,                                      // descriptorCount
        VK_SHADER_STAGE_FRAGMENT_BIT,           // stageFlags
        NULL                                    // pImmutableSamplers
    }
};

const VkDescriptorSetLayoutCreateInfo myDescriptorSetLayoutCreateInfo[] =
{
    // Create info for first descriptor set with two descriptor bindings
    {
        VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO,    // sType
        NULL,                                                   // pNext
        0,                                                      // flags
        2,                                                      // bindingCount
        &amp;myDescriptorSetLayoutBinding[0]                        // pBindings
    },

    // Create info for second descriptor set with one descriptor binding
    {
        VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO,    // sType
        NULL,                                                   // pNext
        0,                                                      // flags
        1,                                                      // bindingCount
        &amp;myDescriptorSetLayoutBinding[2]                        // pBindings
    }
};

VkDescriptorSetLayout myDescriptorSetLayout[2];

//
// Create first descriptor set layout
//
myResult = vkCreateDescriptorSetLayout(
    myDevice,
    &amp;myDescriptorSetLayoutCreateInfo[0],
    NULL,
    &amp;myDescriptorSetLayout[0]);

//
// Create second descriptor set layout
//
myResult = vkCreateDescriptorSetLayout(
    myDevice,
    &amp;myDescriptorSetLayoutCreateInfo[1],
    NULL,
    &amp;myDescriptorSetLayout[1]);</pre><p>
</p><p>To destroy a descriptor set layout, call:</p><p><a id="vkDestroyDescriptorSetLayout"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyDescriptorSetLayout(
    VkDevice                                    device,
    VkDescriptorSetLayout                       descriptorSetLayout,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the descriptor set
    layout.
</li><li class="listitem">
<em class="parameter"><code>descriptorSetLayout</code></em> is the descriptor set layout to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>descriptorSetLayout</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>descriptorSetLayout</code></em> <span class="normative">must</span> be a valid <code class="code">VkDescriptorSetLayout</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>descriptorSetLayout</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>descriptorSetLayout</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>descriptorSetLayout</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>descriptorSetLayout</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-pipelinelayout"></a>13.2.2. Pipeline Layouts</h3></div></div></div><p>Access to descriptor sets from a pipeline is accomplished through a
<span class="emphasis"><em>pipeline layout</em></span>.
Zero or more descriptor set layouts and zero or more push constant ranges
are combined to form a pipeline layout object which describes the complete
set of resources that <span class="normative">can</span> be accessed by a pipeline.
The pipeline layout represents a sequence of descriptor sets with each
having a specific layout.
This sequence of layouts is used to determine the interface between shader
stages and shader resources.
Each pipeline is created using a pipeline layout.</p><p>Pipeline layout objects are represented by <code class="code">VkPipelineLayout</code> handles:</p><p><a id="VkPipelineLayout"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkPipelineLayout)</pre><p>
</p><p>To create a pipeline layout, call:</p><p><a id="vkCreatePipelineLayout"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreatePipelineLayout(
    VkDevice                                    device,
    const VkPipelineLayoutCreateInfo*           pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkPipelineLayout*                           pPipelineLayout);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the pipeline layout.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a></code> structure specifying the state of the
    pipeline layout object.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pPipelineLayout</code></em> points to a <code class="code">VkPipelineLayout</code> handle in which
    the resulting pipeline layout object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkPipelineLayoutCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pPipelineLayout</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkPipelineLayout</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code"><a class="link" href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a></code> structure is defined as:</p><p><a id="VkPipelineLayoutCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPipelineLayoutCreateInfo {
    VkStructureType                 sType;
    const void*                     pNext;
    VkPipelineLayoutCreateFlags     flags;
    uint32_t                        setLayoutCount;
    const VkDescriptorSetLayout*    pSetLayouts;
    uint32_t                        pushConstantRangeCount;
    const VkPushConstantRange*      pPushConstantRanges;
} VkPipelineLayoutCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>setLayoutCount</code></em> is the number of descriptor sets included in the
    pipeline layout.
</li><li class="listitem">
<em class="parameter"><code>pSetLayouts</code></em> is a pointer to an array of
    <code class="code">VkDescriptorSetLayout</code> objects.
</li><li class="listitem">
<em class="parameter"><code>pushConstantRangeCount</code></em> is the number of push constant ranges
    included in the pipeline layout.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>pPushConstantRanges</code></em> is a pointer to an array of
    <code class="code">VkPushConstantRange</code> structures defining a set of push constant
    ranges for use in a single pipeline layout.
    In addition to descriptor set layouts, a pipeline layout also describes
    how many push constants <span class="normative">can</span> be accessed by each stage of the pipeline.
</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Push constants represent a high speed path to modify constant data in
pipelines that is expected to outperform memory-backed resource updates.</p></td></tr></table></div></li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>setLayoutCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pSetLayouts</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>setLayoutCount</code></em> valid <code class="code">VkDescriptorSetLayout</code> handles
</li><li class="listitem">
If <em class="parameter"><code>pushConstantRangeCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pPushConstantRanges</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pushConstantRangeCount</code></em> valid <code class="code">VkPushConstantRange</code> structures
</li><li class="listitem">
<em class="parameter"><code>setLayoutCount</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxBoundDescriptorSets</code></em>
</li><li class="listitem">
The total number of descriptors of the type <code class="code">VK_DESCRIPTOR_TYPE_SAMPLER</code> and <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> accessible to any given shader stage across all elements of <em class="parameter"><code>pSetLayouts</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxPerStageDescriptorSamplers</code></em>
</li><li class="listitem">
The total number of descriptors of the type <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> and <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> accessible to any given shader stage across all elements of <em class="parameter"><code>pSetLayouts</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxPerStageDescriptorUniformBuffers</code></em>
</li><li class="listitem">
The total number of descriptors of the type <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> and <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> accessible to any given shader stage across all elements of <em class="parameter"><code>pSetLayouts</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxPerStageDescriptorStorageBuffers</code></em>
</li><li class="listitem">
The total number of descriptors of the type <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, <code class="code">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, and <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> accessible to any given shader stage across all elements of <em class="parameter"><code>pSetLayouts</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxPerStageDescriptorSampledImages</code></em>
</li><li class="listitem">
The total number of descriptors of the type <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, and <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> accessible to any given shader stage across all elements of <em class="parameter"><code>pSetLayouts</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxPerStageDescriptorStorageImages</code></em>
</li><li class="listitem">
Any two elements of <em class="parameter"><code>pPushConstantRanges</code></em> <span class="normative">must</span> not include the same stage in <em class="parameter"><code>stageFlags</code></em>
</li></ul></div></div><p>The <code class="code">VkPushConstantRange</code> structure is defined as:</p><p><a id="VkPushConstantRange"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPushConstantRange {
    VkShaderStageFlags    stageFlags;
    uint32_t              offset;
    uint32_t              size;
} VkPushConstantRange;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>stageFlags</code></em> is a set of stage flags describing the shader stages
    that will access a range of push constants.
    If a particular stage is not included in the range, then accessing
    members of that range of push constants from the corresponding shader
    stage will result in undefined data being read.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> and <em class="parameter"><code>size</code></em> are the start offset and size, respectively,
    consumed by the range.
    Both <em class="parameter"><code>offset</code></em> and <em class="parameter"><code>size</code></em> are in units of bytes and <span class="normative">must</span> be a
    multiple of 4.
    The layout of the push constant variables is specified in the shader.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>stageFlags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>stageFlags</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be less than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxPushConstantsSize</code></em>
</li><li class="listitem">
<em class="parameter"><code>size</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>size</code></em> <span class="normative">must</span> be a multiple of <code class="literal">4</code>
</li><li class="listitem">
<em class="parameter"><code>size</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxPushConstantsSize</code></em> minus <em class="parameter"><code>offset</code></em>
</li></ul></div></div><p>Once created, pipeline layouts are used as part of pipeline creation (see
<a class="link" href="#pipelines" title="Chapter 9. Pipelines">Pipelines</a>), as part of binding descriptor sets (see
<a class="link" href="#descriptorsets-binding" title="13.2.5. Descriptor Set Binding">Descriptor Set Binding</a>), and as part of setting
push constants (see <a class="link" href="#descriptorsets-push-constants">Push Constant Updates</a>).
Pipeline creation accepts a pipeline layout as input, and the layout <span class="normative">may</span> be
used to map (set, binding, arrayElement) tuples to hardware resources or
memory locations within a descriptor set.
The assignment of hardware resources depends only on the bindings defined in
the descriptor sets that comprise the pipeline layout, and not on any shader
source.</p><p><a id="descriptorsets-pipelinelayout-consistency"></a>All resource variables <a class="link" href="#shaders-staticuse" title="8.12. Static Use">statically used</a> in all shaders
in a pipeline <span class="normative">must</span> be declared with a (set,binding,arrayElement) that
exists in the corresponding descriptor set layout and is of an appropriate
descriptor type and includes the set of shader stages it is used by in
<em class="parameter"><code>stageFlags</code></em>.
The pipeline layout <span class="normative">can</span> include entries that are not used by a particular
pipeline, or that are dead-code eliminated from any of the shaders.
The pipeline layout allows the application to provide a consistent set of
bindings across multiple pipeline compiles, which enables those pipelines to
be compiled in a way that the implementation <span class="normative">may</span> cheaply switch pipelines
without reprogramming the bindings.</p><p>Similarly, the push constant block declared in each shader (if present)
<span class="normative">must</span> only place variables at offsets that are each included in a push
constant range with <em class="parameter"><code>stageFlags</code></em> including the bit corresponding to the
shader stage that uses it.
The pipeline layout <span class="normative">can</span> include ranges or portions of ranges that are not
used by a particular pipeline, or for which the variables have been
dead-code eliminated from any of the shaders.</p><p>There is a limit on the total number of resources of each type that <span class="normative">can</span> be
included in bindings in all descriptor set layouts in a pipeline layout as
shown in <a class="link" href="#descriptorsets-pipelinelayout-limits" title="Table 13.1. Pipeline Layout Resource Limits">Pipeline Layout Resource Limits</a>.
The “Total Resources Available” column gives the limit on the number of
each type of resource that <span class="normative">can</span> be included in bindings in all descriptor
sets in the pipeline layout.
Some resource types count against multiple limits.
Additionally, there are limits on the total number of each type of resource
that <span class="normative">can</span> be used in any pipeline stage as described in
<a class="link" href="#interfaces-resources-limits" title="Table 14.4. Shader Resource Limits">Shader Resource Limits</a>.</p><div class="table"><a id="descriptorsets-pipelinelayout-limits"></a><p class="title"><strong>Table 13.1. Pipeline Layout Resource Limits</strong></p><div class="table-contents"><table summary="Pipeline Layout Resource Limits" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="80%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Total Resources Available </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Resource Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="left" valign="middle"><p>maxDescriptorSetSamplers</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>sampler</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>combined image sampler</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="left" valign="middle"><p>maxDescriptorSetSampledImages</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>sampled image</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>combined image sampler</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>uniform texel buffer</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="left" valign="middle"><p>maxDescriptorSetStorageImages</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage image</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage texel buffer</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="left" valign="middle"><p>maxDescriptorSetUniformBuffers</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>uniform buffer</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>uniform buffer dynamic</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>maxDescriptorSetUniformBuffersDynamic</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>uniform buffer dynamic</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="left" valign="middle"><p>maxDescriptorSetStorageBuffers</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage buffer</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage buffer dynamic</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>maxDescriptorSetStorageBuffersDynamic</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage buffer dynamic</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>maxDescriptorSetInputAttachments</p></td><td style="" align="left" valign="top"><p>input attachment</p></td></tr></tbody></table></div></div><br class="table-break" /><p>To destroy a pipeline layout, call:</p><p><a id="vkDestroyPipelineLayout"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyPipelineLayout(
    VkDevice                                    device,
    VkPipelineLayout                            pipelineLayout,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the pipeline layout.
</li><li class="listitem">
<em class="parameter"><code>pipelineLayout</code></em> is the pipeline layout to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pipelineLayout</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>pipelineLayout</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipelineLayout</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pipelineLayout</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>pipelineLayout</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>pipelineLayout</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>pipelineLayout</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="descriptorsets-compatibility"></a>Pipeline Layout Compatibility</h4></div></div></div><p>Two pipeline layouts are defined to be “compatible for
<a class="link" href="#descriptorsets-push-constants">push constants</a>” if they were created
with identical push constant ranges.
Two pipeline layouts are defined to be “compatible for set N” if they were
created with matching (the same, or identically defined) descriptor set
layouts for sets zero through N, and if they were created with identical
push constant ranges.</p><p>When binding a descriptor set (see <a class="link" href="#descriptorsets-binding" title="13.2.5. Descriptor Set Binding">Descriptor Set Binding</a>) to set number N, if the previously bound descriptor sets for sets
zero through N-1 were all bound using compatible pipeline layouts, then
performing this binding does not disturb any of the lower numbered sets.
If, additionally, the previous bound descriptor set for set N was bound
using a pipeline layout compatible for set N, then the bindings in sets
numbered greater than N are also not disturbed.</p><p>Similarly, when binding a pipeline, the pipeline <span class="normative">can</span> correctly access any
previously bound descriptor sets which were bound with compatible pipeline
layouts, as long as all lower numbered sets were also bound with compatible
layouts.</p><p>Layout compatibility means that descriptor sets <span class="normative">can</span> be bound to a command
buffer for use by any pipeline created with a compatible pipeline layout,
and without having bound a particular pipeline first.
It also means that descriptor sets <span class="normative">can</span> remain valid across a pipeline
change, and the same resources will be accessible to the newly bound
pipeline.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Implementor’s Note</strong></p></div></div></div><p>A consequence of layout compatibility is that when the implementation
compiles a pipeline layout and assigns hardware units to resources, the
mechanism to assign hardware units for set N <span class="normative">should</span> only be a function of
sets [0..N].</p></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Place the least frequently changing descriptor sets near the start of the
pipeline layout, and place the descriptor sets representing the most
frequently changing resources near the end.
When pipelines are switched, only the descriptor set bindings that have been
invalidated will need to be updated and the remainder of the descriptor set
bindings will remain in place.</p></td></tr></table></div><p>The maximum number of descriptor sets that <span class="normative">can</span> be bound to a pipeline
layout is queried from physical device properties (see
<em class="parameter"><code>maxBoundDescriptorSets</code></em> in <a class="link" href="#features-limits" title="31.2. Limits">Limits</a>).</p><p><strong>API example. </strong>
</p><pre class="programlisting">const VkDescriptorSetLayout layouts[] = { layout1, layout2 };

const VkPushConstantRange ranges[] =
{
    {
        VK_PIPELINE_STAGE_VERTEX_SHADER_BIT,    // stageFlags
        0,                                      // offset
        4                                       // size
    },

    {
        VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT,  // stageFlags
        4,                                      // offset
        4                                       // size
    },
};

const VkPipelineLayoutCreateInfo createInfo =
{
    VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO,  // sType
    NULL,                                           // pNext
    0,                                              // flags
    2,                                              // setLayoutCount
    layouts,                                        // pSetLayouts
    2,                                              // pushConstantRangeCount
    ranges                                          // pPushConstantRanges
};

VkPipelineLayout myPipelineLayout;
myResult = vkCreatePipelineLayout(
    myDevice,
    &amp;createInfo,
    NULL,
    &amp;myPipelineLayout);</pre><p>
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-allocation"></a>13.2.3. Allocation of Descriptor Sets</h3></div></div></div><p>A <span class="emphasis"><em>descriptor pool</em></span> maintains a pool of descriptors, from which descriptor
sets are allocated.
Descriptor pools are externally synchronized, meaning that the application
<span class="normative">must</span> not allocate and/or free descriptor sets from the same pool in
multiple threads simultaneously.</p><p>Descriptor pools are represented by <code class="code">VkDescriptorPool</code> handles:</p><p><a id="VkDescriptorPool"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDescriptorPool)</pre><p>
</p><p>To create a descriptor pool object, call:</p><p><a id="vkCreateDescriptorPool"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateDescriptorPool(
    VkDevice                                    device,
    const VkDescriptorPoolCreateInfo*           pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkDescriptorPool*                           pDescriptorPool);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the descriptor pool.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a></code> structure specifying the state of the
    descriptor pool object.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pDescriptorPool</code></em> points to a <code class="code">VkDescriptorPool</code> handle in which
    the resulting descriptor pool object is returned.
</li></ul></div><p><em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
<a class="link" href="#memory-allocation">Memory Allocation</a> chapter.</p><p>The created descriptor pool is returned in <em class="parameter"><code>pDescriptorPool</code></em>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkDescriptorPoolCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pDescriptorPool</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkDescriptorPool</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>Additional information about the pool is passed in an instance of the
<code class="code">VkDescriptorPoolCreateInfo</code> structure:</p><p><a id="VkDescriptorPoolCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDescriptorPoolCreateInfo {
    VkStructureType                sType;
    const void*                    pNext;
    VkDescriptorPoolCreateFlags    flags;
    uint32_t                       maxSets;
    uint32_t                       poolSizeCount;
    const VkDescriptorPoolSize*    pPoolSizes;
} VkDescriptorPoolCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>flags</code></em> specifies certain supported operations on the pool.
    Bits which <span class="normative">can</span> be set include:
</p><p><a id="VkDescriptorPoolCreateFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkDescriptorPoolCreateFlagBits {
    VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT = 0x00000001,
} VkDescriptorPoolCreateFlagBits;</pre><p>
</p><p class="simpara">If <em class="parameter"><code>flags</code></em> includes
<code class="code">VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code>, then descriptor
sets <span class="normative">can</span> return their individual allocations to the pool, i.e.
all of <span class="strong"><strong><code class="code">vkAllocateDescriptorSets</code></strong></span>, <span class="strong"><strong><code class="code">vkFreeDescriptorSets</code></strong></span>, and
<span class="strong"><strong><code class="code">vkResetDescriptorPool</code></strong></span> are allowed.
Otherwise, descriptor sets allocated from the pool <span class="normative">must</span> not be individually
freed back to the pool, i.e.
only <span class="strong"><strong><code class="code">vkAllocateDescriptorSets</code></strong></span> and <span class="strong"><strong><code class="code">vkResetDescriptorPool</code></strong></span> are
allowed.</p></li><li class="listitem">
<em class="parameter"><code>maxSets</code></em> is the maximum number of descriptor sets that <span class="normative">can</span> be
    allocated from the pool.
</li><li class="listitem">
<em class="parameter"><code>poolSizeCount</code></em> is the number of elements in <em class="parameter"><code>pPoolSizes</code></em>.
</li><li class="listitem">
<em class="parameter"><code>pPoolSizes</code></em> is a pointer to an array of <code class="code">VkDescriptorPoolSize</code>
    structures, each containing a descriptor type and number of descriptors
    of that type to be allocated in the pool.
</li></ul></div><p>If multiple <code class="code">VkDescriptorPoolSize</code> structures appear in the
<em class="parameter"><code>pPoolSizes</code></em> array then the pool will be created with enough storage for
the total number of descriptors of each type.</p><p>Fragmentation of a descriptor pool is possible and <span class="normative">may</span> lead to descriptor
set allocation failures.
A failure due to fragmentation is defined as failing a descriptor set
allocation despite the sum of all outstanding descriptor set allocations
from the pool plus the requested allocation requiring no more than the total
number of descriptors requested at pool creation.
Implementations provide certain guarantees of when fragmentation <span class="normative">must</span> not
cause allocation failure, as described below.</p><p>If a descriptor pool has not had any descriptor sets freed since it was
created or most recently reset then fragmentation <span class="normative">must</span> not cause an
allocation failure (note that this is always the case for a pool created
without the <code class="code">VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code> bit
set).
Additionally, if all sets allocated from the pool since it was created or
most recently reset use the same number of descriptors (of each type) and
the requested allocation also uses that same number of descriptors (of each
type), then fragmentation <span class="normative">must</span> not cause an allocation failure.</p><p>If an allocation failure occurs due to fragmentation, an application <span class="normative">can</span>
create an additional descriptor pool to perform further descriptor set
allocations.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkDescriptorPoolCreateFlagBits">VkDescriptorPoolCreateFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>pPoolSizes</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>poolSizeCount</code></em> valid <code class="code">VkDescriptorPoolSize</code> structures
</li><li class="listitem">
<em class="parameter"><code>poolSizeCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>maxSets</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li></ul></div></div><p>The <code class="code">VkDescriptorPoolSize</code> structure is defined as:</p><p><a id="VkDescriptorPoolSize"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDescriptorPoolSize {
    VkDescriptorType    type;
    uint32_t            descriptorCount;
} VkDescriptorPoolSize;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>type</code></em> is the type of descriptor.
</li><li class="listitem">
<em class="parameter"><code>descriptorCount</code></em> is the number of descriptors of that type to
    allocate.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>type</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkDescriptorType">VkDescriptorType</a></code> value
</li><li class="listitem">
<em class="parameter"><code>descriptorCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li></ul></div></div><p>To destroy a descriptor pool, call:</p><p><a id="vkDestroyDescriptorPool"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyDescriptorPool(
    VkDevice                                    device,
    VkDescriptorPool                            descriptorPool,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the descriptor pool.
</li><li class="listitem">
<em class="parameter"><code>descriptorPool</code></em> is the descriptor pool to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><p>When a pool is destroyed, all descriptor sets allocated from the pool are
implicitly freed and become invalid.
Descriptor sets allocated from a given pool do not need to be freed before
destroying that descriptor pool.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>descriptorPool</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>descriptorPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkDescriptorPool</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>descriptorPool</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All submitted commands that refer to <em class="parameter"><code>descriptorPool</code></em> (via any allocated descriptor sets) <span class="normative">must</span> have completed execution
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>descriptorPool</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>descriptorPool</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>descriptorPool</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><p>Descriptor sets are allocated from descriptor pool objects, and are
represented by <code class="code">VkDescriptorSet</code> handles:</p><p><a id="VkDescriptorSet"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDescriptorSet)</pre><p>
</p><p>To allocate descriptor sets from a descriptor pool, call:</p><p><a id="vkAllocateDescriptorSets"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkAllocateDescriptorSets(
    VkDevice                                    device,
    const VkDescriptorSetAllocateInfo*          pAllocateInfo,
    VkDescriptorSet*                            pDescriptorSets);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the descriptor pool.
</li><li class="listitem">
<em class="parameter"><code>pAllocateInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a></code> structure describing parameters of the
    allocation.
</li><li class="listitem">
<em class="parameter"><code>pDescriptorSets</code></em> is a pointer to an array of <code class="code">VkDescriptorSet</code>
    handles in which the resulting descriptor set objects are returned.
    The array <span class="normative">must</span> be at least the length specified by the
    <em class="parameter"><code>descriptorSetCount</code></em> member of <em class="parameter"><code>pAllocateInfo</code></em>.
</li></ul></div><p>The allocated descriptor sets are returned in <em class="parameter"><code>pDescriptorSets</code></em>.</p><p>When a descriptor set is allocated, the initial state is largely
uninitialized and all descriptors are undefined.
However, the descriptor set <span class="normative">can</span> be bound in a command buffer without
causing errors or exceptions.
All entries that are statically used by a pipeline in a drawing or
dispatching command <span class="normative">must</span> have been populated before the descriptor set is
bound for use by that command.
Entries that are not statically used by a pipeline <span class="normative">can</span> have uninitialized
descriptors or descriptors of resources that have been destroyed, and
executing a draw or dispatch with such a descriptor set bound does not cause
undefined behavior.
This means applications need not populate unused entries with dummy
descriptors.</p><p>If an allocation fails due to fragmentation, an indeterminate error is
returned with an unspecified error code.
Any returned error other than <code class="code">VK_ERROR_FRAGMENTED_POOL</code> does not imply
its usual meaning: applications <span class="normative">should</span> assume that the allocation failed
due to fragmentation, and create a new descriptor pool.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Applications <span class="normative">should</span> check for a negative return value when allocating new
descriptor sets, assume that any error effectively means
<code class="code">VK_ERROR_FRAGMENTED_POOL</code>, and try to create a new descriptor pool.
If <code class="code">VK_ERROR_FRAGMENTED_POOL</code> is the actual return value, it adds
certainty to that decision.</p><p>The reason for this is that <code class="code">VK_ERROR_FRAGMENTED_POOL</code> was only added in
a later revision of the 1.0 specification, and so drivers <span class="normative">may</span> return other
errors if they were written against earlier revisions.
To ensure full compatibility with earlier patch revisions, these other
errors are allowed.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pAllocateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkDescriptorSetAllocateInfo</code> structure
</li><li class="listitem">
<em class="parameter"><code>pDescriptorSets</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pAllocateInfo</code></em>::descriptorSetCount <code class="code">VkDescriptorSet</code> handles
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>pAllocateInfo</code></em>::descriptorPool <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_FRAGMENTED_POOL</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkDescriptorSetAllocateInfo</code> structure is defined as:</p><p><a id="VkDescriptorSetAllocateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDescriptorSetAllocateInfo {
    VkStructureType                 sType;
    const void*                     pNext;
    VkDescriptorPool                descriptorPool;
    uint32_t                        descriptorSetCount;
    const VkDescriptorSetLayout*    pSetLayouts;
} VkDescriptorSetAllocateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>descriptorPool</code></em> is the pool which the sets will be allocated from.
</li><li class="listitem">
<em class="parameter"><code>descriptorSetCount</code></em> determines the number of descriptor sets to be
    allocated from the pool.
</li><li class="listitem">
<em class="parameter"><code>pSetLayouts</code></em> is an array of descriptor set layouts, with each
    member specifying how the corresponding descriptor set is allocated.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_DESCRIPTOR_SET_ALLOCATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>descriptorPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkDescriptorPool</code> handle
</li><li class="listitem">
<em class="parameter"><code>pSetLayouts</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>descriptorSetCount</code></em> valid <code class="code">VkDescriptorSetLayout</code> handles
</li><li class="listitem">
<em class="parameter"><code>descriptorSetCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Both of <em class="parameter"><code>descriptorPool</code></em>, and the elements of <em class="parameter"><code>pSetLayouts</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>descriptorSetCount</code></em> <span class="normative">must</span> not be greater than the number of sets that are currently available for allocation in <em class="parameter"><code>descriptorPool</code></em>
</li><li class="listitem">
<em class="parameter"><code>descriptorPool</code></em> <span class="normative">must</span> have enough free descriptor capacity remaining to allocate the descriptor sets of the specified layouts
</li></ul></div></div><p>To free allocated descriptor sets, call:</p><p><a id="vkFreeDescriptorSets"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkFreeDescriptorSets(
    VkDevice                                    device,
    VkDescriptorPool                            descriptorPool,
    uint32_t                                    descriptorSetCount,
    const VkDescriptorSet*                      pDescriptorSets);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the descriptor pool.
</li><li class="listitem">
<em class="parameter"><code>descriptorPool</code></em> is the descriptor pool from which the descriptor
    sets were allocated.
</li><li class="listitem">
<em class="parameter"><code>descriptorSetCount</code></em> is the number of elements in the
    <em class="parameter"><code>pDescriptorSets</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pDescriptorSets</code></em> is an array of handles to <code class="code">VkDescriptorSet</code>
    objects.
</li></ul></div><p>After a successful call to <span class="strong"><strong><code class="code">vkFreeDescriptorSets</code></strong></span>, all descriptor sets
in <em class="parameter"><code>pDescriptorSets</code></em> are invalid.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>descriptorPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkDescriptorPool</code> handle
</li><li class="listitem">
<em class="parameter"><code>descriptorSetCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>descriptorPool</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
Each element of <em class="parameter"><code>pDescriptorSets</code></em> that is a valid handle <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>descriptorPool</code></em>
</li><li class="listitem">
All submitted commands that refer to any element of <em class="parameter"><code>pDescriptorSets</code></em> <span class="normative">must</span> have completed execution
</li><li class="listitem">
<em class="parameter"><code>pDescriptorSets</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>descriptorSetCount</code></em> <code class="code">VkDescriptorSet</code> handles, each element of which <span class="normative">must</span> either be a valid handle or <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>
</li><li class="listitem">
Each valid handle in <em class="parameter"><code>pDescriptorSets</code></em> <span class="normative">must</span> have been allocated from <em class="parameter"><code>descriptorPool</code></em>
</li><li class="listitem">
<em class="parameter"><code>descriptorPool</code></em> <span class="normative">must</span> have been created with the <code class="code">VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code> flag
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>descriptorPool</code></em> <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to each member of <em class="parameter"><code>pDescriptorSets</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>To return all descriptor sets allocated from a given pool to the pool,
rather than freeing individual descriptor sets, call:</p><p><a id="vkResetDescriptorPool"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkResetDescriptorPool(
    VkDevice                                    device,
    VkDescriptorPool                            descriptorPool,
    VkDescriptorPoolResetFlags                  flags);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the descriptor pool.
</li><li class="listitem">
<em class="parameter"><code>descriptorPool</code></em> is the descriptor pool to be reset.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li></ul></div><p>Resetting a descriptor pool recycles all of the resources from all of the
descriptor sets allocated from the descriptor pool back to the descriptor
pool, and the descriptor sets are implicitly freed.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>descriptorPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkDescriptorPool</code> handle
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>descriptorPool</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All uses of <em class="parameter"><code>descriptorPool</code></em> (via any allocated descriptor sets) <span class="normative">must</span> have completed execution
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>descriptorPool</code></em> <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to any <code class="code">VkDescriptorSet</code> objects allocated from <em class="parameter"><code>descriptorPool</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-updates"></a>13.2.4. Descriptor Set Updates</h3></div></div></div><p>Once allocated, descriptor sets <span class="normative">can</span> be updated with a combination of write
and copy operations.
To update descriptor sets, call:</p><p><a id="vkUpdateDescriptorSets"></a><strong> </strong>
</p><pre class="programlisting">void vkUpdateDescriptorSets(
    VkDevice                                    device,
    uint32_t                                    descriptorWriteCount,
    const VkWriteDescriptorSet*                 pDescriptorWrites,
    uint32_t                                    descriptorCopyCount,
    const VkCopyDescriptorSet*                  pDescriptorCopies);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that updates the descriptor sets.
</li><li class="listitem">
<em class="parameter"><code>descriptorWriteCount</code></em> is the number of elements in the
    <em class="parameter"><code>pDescriptorWrites</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pDescriptorWrites</code></em> is a pointer to an array of
    <code class="code"><a class="link" href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a></code> structures describing the descriptor sets to
    write to.
</li><li class="listitem">
<em class="parameter"><code>descriptorCopyCount</code></em> is the number of elements in the
    <em class="parameter"><code>pDescriptorCopies</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pDescriptorCopies</code></em> is a pointer to an array of
    <code class="code"><a class="link" href="#VkCopyDescriptorSet">VkCopyDescriptorSet</a></code> structures describing the descriptor sets to
    copy between.
</li></ul></div><p>The operations described by <em class="parameter"><code>pDescriptorWrites</code></em> are performed first,
followed by the operations described by <em class="parameter"><code>pDescriptorCopies</code></em>.
Within each array, the operations are performed in the order they appear in
the array.</p><p>Each element in the <em class="parameter"><code>pDescriptorWrites</code></em> array describes an operation
updating the descriptor set using descriptors for resources specified in the
structure.</p><p>Each element in the <em class="parameter"><code>pDescriptorCopies</code></em> array is a
<code class="code"><a class="link" href="#VkCopyDescriptorSet">VkCopyDescriptorSet</a></code> structure describing an operation copying
descriptors between sets.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>descriptorWriteCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pDescriptorWrites</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>descriptorWriteCount</code></em> valid <code class="code">VkWriteDescriptorSet</code> structures
</li><li class="listitem">
If <em class="parameter"><code>descriptorCopyCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pDescriptorCopies</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>descriptorCopyCount</code></em> valid <code class="code">VkCopyDescriptorSet</code> structures
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>pDescriptorWrites</code></em>[].dstSet <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>pDescriptorCopies</code></em>[].dstSet <span class="normative">must</span> be externally synchronized
</li></ul></div></div><p>The <code class="code">VkWriteDescriptorSet</code> structure is defined as:</p><p><a id="VkWriteDescriptorSet"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkWriteDescriptorSet {
    VkStructureType                  sType;
    const void*                      pNext;
    VkDescriptorSet                  dstSet;
    uint32_t                         dstBinding;
    uint32_t                         dstArrayElement;
    uint32_t                         descriptorCount;
    VkDescriptorType                 descriptorType;
    const VkDescriptorImageInfo*     pImageInfo;
    const VkDescriptorBufferInfo*    pBufferInfo;
    const VkBufferView*              pTexelBufferView;
} VkWriteDescriptorSet;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>dstSet</code></em> is the destination descriptor set to update.
</li><li class="listitem">
<em class="parameter"><code>dstBinding</code></em> is the descriptor binding within that set.
</li><li class="listitem">
<em class="parameter"><code>dstArrayElement</code></em> is the starting element in that array.
</li><li class="listitem">
<em class="parameter"><code>descriptorCount</code></em> is the number of descriptors to update (the number
    of elements in <em class="parameter"><code>pImageInfo</code></em>, <em class="parameter"><code>pBufferInfo</code></em>, or
    <em class="parameter"><code>pTexelBufferView</code></em>).
</li><li class="listitem">
<em class="parameter"><code>descriptorType</code></em> is a <code class="code"><a class="link" href="#VkDescriptorType">VkDescriptorType</a></code> specifying the type of
    each descriptor in <em class="parameter"><code>pImageInfo</code></em>, <em class="parameter"><code>pBufferInfo</code></em>, or
    <em class="parameter"><code>pTexelBufferView</code></em>, as described below.
    It <span class="normative">must</span> be the same type as that specified in
    <code class="code">VkDescriptorSetLayoutBinding</code> for <em class="parameter"><code>dstSet</code></em> at <em class="parameter"><code>dstBinding</code></em>.
    The type of the descriptor also controls which array the descriptors are
    taken from.
</li><li class="listitem">
<em class="parameter"><code>pImageInfo</code></em> points to an array of <code class="code"><a class="link" href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a></code>
    structures or is ignored, as described below.
</li><li class="listitem">
<em class="parameter"><code>pBufferInfo</code></em> points to an array of <code class="code"><a class="link" href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a></code>
    structures or is ignored, as described below.
</li><li class="listitem">
<em class="parameter"><code>pTexelBufferView</code></em> points to an array of <code class="code"><a class="link" href="#VkBufferView">VkBufferView</a></code> handles
    as described in the <a class="link" href="#resources-buffer-views" title="11.2. Buffer Views">Buffer Views</a> section or
    is ignored, as described below.
</li></ul></div><p>Only one of <em class="parameter"><code>pImageInfo</code></em>, <em class="parameter"><code>pBufferInfo</code></em>, or <em class="parameter"><code>pTexelBufferView</code></em>
members is used according to the descriptor type specified in the
<em class="parameter"><code>descriptorType</code></em> member of the containing <code class="code">VkWriteDescriptorSet</code>
structure, as specified below.</p><p><a id="descriptorsets-updates-consecutive"></a>If the <em class="parameter"><code>dstBinding</code></em> has fewer than <em class="parameter"><code>descriptorCount</code></em> array elements
remaining starting from <em class="parameter"><code>dstArrayElement</code></em>, then the remainder will be
used to update the subsequent binding - <em class="parameter"><code>dstBinding</code></em>+1 starting at array
element zero.
This behavior applies recursively, with the update affecting consecutive
bindings as needed to update all <em class="parameter"><code>descriptorCount</code></em> descriptors.
All consecutive bindings updated via a single <code class="code">VkWriteDescriptorSet</code>
structure <span class="normative">must</span> have identical <em class="parameter"><code>descriptorType</code></em> and <em class="parameter"><code>stageFlags</code></em>,
and <span class="normative">must</span> all either use immutable samplers or <span class="normative">must</span> all not use immutable
samplers.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>dstSet</code></em> <span class="normative">must</span> be a valid <code class="code">VkDescriptorSet</code> handle
</li><li class="listitem">
<em class="parameter"><code>descriptorType</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkDescriptorType">VkDescriptorType</a></code> value
</li><li class="listitem">
<em class="parameter"><code>descriptorCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Both of <em class="parameter"><code>dstSet</code></em>, and the elements of <em class="parameter"><code>pTexelBufferView</code></em> that are valid handles <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>dstBinding</code></em> <span class="normative">must</span> be a valid binding point within <em class="parameter"><code>dstSet</code></em>
</li><li class="listitem">
<em class="parameter"><code>descriptorType</code></em> <span class="normative">must</span> match the type of <em class="parameter"><code>dstBinding</code></em> within <em class="parameter"><code>dstSet</code></em>
</li><li class="listitem">
The sum of <em class="parameter"><code>dstArrayElement</code></em> and <em class="parameter"><code>descriptorCount</code></em> <span class="normative">must</span> be less than or equal to the number of array elements in the descriptor set binding specified by <em class="parameter"><code>dstBinding</code></em>, and all applicable consecutive bindings, as described by <a class="xref" href="#descriptorsets-updates-consecutive"> consecutive binding updates</a>
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_SAMPLER</code>, <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, <code class="code">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or <code class="code">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, <em class="parameter"><code>pImageInfo</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>descriptorCount</code></em> valid <code class="code">VkDescriptorImageInfo</code> structures
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> or <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, <em class="parameter"><code>pTexelBufferView</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>descriptorCount</code></em> valid <code class="code">VkBufferView</code> handles
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>, <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>, <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, <em class="parameter"><code>pBufferInfo</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>descriptorCount</code></em> valid <code class="code">VkDescriptorBufferInfo</code> structures
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_SAMPLER</code> or <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and <em class="parameter"><code>dstSet</code></em> was not allocated with a layout that included immutable samplers for <em class="parameter"><code>dstBinding</code></em> with <em class="parameter"><code>descriptorType</code></em>, the <em class="parameter"><code>sampler</code></em> member of any given element of <em class="parameter"><code>pImageInfo</code></em> <span class="normative">must</span> be a valid <code class="code">VkSampler</code> object
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, <code class="code">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or <code class="code">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, the <em class="parameter"><code>imageView</code></em> and <em class="parameter"><code>imageLayout</code></em> members of any given element of <em class="parameter"><code>pImageInfo</code></em> <span class="normative">must</span> be a valid <code class="code">VkImageView</code> and <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code>, respectively
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <em class="parameter"><code>offset</code></em> member of any given element of <em class="parameter"><code>pBufferInfo</code></em> <span class="normative">must</span> be a multiple of <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>minUniformBufferOffsetAlignment</code></em>
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <em class="parameter"><code>offset</code></em> member of any given element of <em class="parameter"><code>pBufferInfo</code></em> <span class="normative">must</span> be a multiple of <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>minStorageBufferOffsetAlignment</code></em>
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <em class="parameter"><code>buffer</code></em> member of any given element of <em class="parameter"><code>pBufferInfo</code></em> <span class="normative">must</span> have been created with <code class="code">VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</code> set
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <em class="parameter"><code>buffer</code></em> member of any given element of <em class="parameter"><code>pBufferInfo</code></em> <span class="normative">must</span> have been created with <code class="code">VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code> set
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <em class="parameter"><code>range</code></em> member of any given element of <em class="parameter"><code>pBufferInfo</code></em>, or the effective range if <em class="parameter"><code>range</code></em> is <code class="code">VK_WHOLE_SIZE</code>, <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxUniformBufferRange</code></em>
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <em class="parameter"><code>range</code></em> member of any given element of <em class="parameter"><code>pBufferInfo</code></em>, or the effective range if <em class="parameter"><code>range</code></em> is <code class="code">VK_WHOLE_SIZE</code>, <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxStorageBufferRange</code></em>
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>, the <code class="code">VkBuffer</code> that any given element of <em class="parameter"><code>pTexelBufferView</code></em> was created from <span class="normative">must</span> have been created with <code class="code">VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> set
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, the <code class="code">VkBuffer</code> that any given element of <em class="parameter"><code>pTexelBufferView</code></em> was created from <span class="normative">must</span> have been created with <code class="code">VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code> set
</li><li class="listitem">
If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> or <code class="code">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, the <em class="parameter"><code>imageView</code></em> member of any given element of <em class="parameter"><code>pImageInfo</code></em> <span class="normative">must</span> have been created with the identity swizzle
</li></ul></div></div><p>The type of descriptors in a descriptor set is specified by
<code class="code"><a class="link" href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a></code>::<em class="parameter"><code>descriptorType</code></em>, which <span class="normative">must</span> be one of the
values:</p><p><a id="VkDescriptorType"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkDescriptorType {
    VK_DESCRIPTOR_TYPE_SAMPLER = 0,
    VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER = 1,
    VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE = 2,
    VK_DESCRIPTOR_TYPE_STORAGE_IMAGE = 3,
    VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER = 4,
    VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER = 5,
    VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER = 6,
    VK_DESCRIPTOR_TYPE_STORAGE_BUFFER = 7,
    VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC = 8,
    VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC = 9,
    VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT = 10,
} VkDescriptorType;</pre><p>
</p><p>If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
<code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or
<code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the elements of the
<code class="code"><a class="link" href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a></code>::<em class="parameter"><code>pBufferInfo</code></em> array of
<code class="code"><a class="link" href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a></code> structures will be used to update the
descriptors, and other arrays will be ignored.</p><p>If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> or
<code class="code">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, the
<code class="code"><a class="link" href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a></code>::<em class="parameter"><code>pTexelBufferView</code></em> array will be used to
update the descriptors, and other arrays will be ignored.</p><p>If <em class="parameter"><code>descriptorType</code></em> is <code class="code">VK_DESCRIPTOR_TYPE_SAMPLER</code>,
<code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code class="code">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code class="code">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, the elements of the
<code class="code"><a class="link" href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a></code>::<em class="parameter"><code>pImageInfo</code></em> array of
<code class="code"><a class="link" href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a></code> structures will be used to update the
descriptors, and other arrays will be ignored.</p><p>The <code class="code">VkDescriptorBufferInfo</code> structure is defined as:</p><p><a id="VkDescriptorBufferInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDescriptorBufferInfo {
    VkBuffer        buffer;
    VkDeviceSize    offset;
    VkDeviceSize    range;
} VkDescriptorBufferInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>buffer</code></em> is the buffer resource.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> is the offset in bytes from the start of <em class="parameter"><code>buffer</code></em>.
    Access to buffer memory via this descriptor uses addressing that is
    relative to this starting offset.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>range</code></em> is the size in bytes that is used for this descriptor
    update, or <code class="code">VK_WHOLE_SIZE</code> to use the range from <em class="parameter"><code>offset</code></em> to the
    end of the buffer.
</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>When using <code class="code">VK_WHOLE_SIZE</code>, the effective range <span class="normative">must</span> not be larger than
the maximum range for the descriptor type
(<a class="link" href="#features-limits-maxUniformBufferRange">maxUniformBufferRange</a> or
<a class="link" href="#features-limits-maxStorageBufferRange">maxStorageBufferRange</a>).
This means that <code class="code">VK_WHOLE_SIZE</code> is not typically useful in the common
case where uniform buffer descriptors are suballocated from a buffer that is
much larger than <em class="parameter"><code>maxUniformBufferRange</code></em>.</p></td></tr></table></div><p class="simpara">For <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> and
<code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> descriptor types,
<em class="parameter"><code>offset</code></em> is the base offset from which the dynamic offset is applied and
<em class="parameter"><code>range</code></em> is the static size used for all dynamic offsets.</p></li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>buffer</code></em>
</li><li class="listitem">
If <em class="parameter"><code>range</code></em> is not equal to <code class="code">VK_WHOLE_SIZE</code>, <em class="parameter"><code>range</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>range</code></em> is not equal to <code class="code">VK_WHOLE_SIZE</code>, <em class="parameter"><code>range</code></em> <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>buffer</code></em> minus <em class="parameter"><code>offset</code></em>
</li></ul></div></div><p>The <code class="code">VkDescriptorImageInfo</code> structure is defined as:</p><p><a id="VkDescriptorImageInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDescriptorImageInfo {
    VkSampler        sampler;
    VkImageView      imageView;
    VkImageLayout    imageLayout;
} VkDescriptorImageInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sampler</code></em> is a sampler handle, and is used in descriptor updates for
    types <code class="code">VK_DESCRIPTOR_TYPE_SAMPLER</code> and
    <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> if the binding being
    updated does not use immutable samplers.
</li><li class="listitem">
<em class="parameter"><code>imageView</code></em> is an image view handle, and is used in descriptor
    updates for types <code class="code">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
    <code class="code">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>.
</li><li class="listitem">
<em class="parameter"><code>imageLayout</code></em> is the layout that the image will be in at the time
    this descriptor is accessed.
    <em class="parameter"><code>imageLayout</code></em> is used in descriptor updates for types
    <code class="code">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
    <code class="code">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>.
</li></ul></div><p>Members of <code class="code">VkDescriptorImageInfo</code> that are not used in an update (as
described above) are ignored.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Both of <em class="parameter"><code>imageView</code></em>, and <em class="parameter"><code>sampler</code></em> that are valid handles <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li></ul></div></div><p>The <code class="code">VkCopyDescriptorSet</code> structure is defined as:</p><p><a id="VkCopyDescriptorSet"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkCopyDescriptorSet {
    VkStructureType    sType;
    const void*        pNext;
    VkDescriptorSet    srcSet;
    uint32_t           srcBinding;
    uint32_t           srcArrayElement;
    VkDescriptorSet    dstSet;
    uint32_t           dstBinding;
    uint32_t           dstArrayElement;
    uint32_t           descriptorCount;
} VkCopyDescriptorSet;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>srcSet</code></em>, <em class="parameter"><code>srcBinding</code></em>, and <em class="parameter"><code>srcArrayElement</code></em> are the source
    set, binding, and array element, respectively.
</li><li class="listitem">
<em class="parameter"><code>dstSet</code></em>, <em class="parameter"><code>dstBinding</code></em>, and <em class="parameter"><code>dstArrayElement</code></em> are the
    destination set, binding, and array element, respectively.
</li><li class="listitem">
<em class="parameter"><code>descriptorCount</code></em> is the number of descriptors to copy from the
    source to destination.
    If <em class="parameter"><code>descriptorCount</code></em> is greater than the number of remaining array
    elements in the source or destination binding, those affect consecutive
    bindings in a manner similar to <code class="code"><a class="link" href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a></code> above.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_COPY_DESCRIPTOR_SET</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>srcSet</code></em> <span class="normative">must</span> be a valid <code class="code">VkDescriptorSet</code> handle
</li><li class="listitem">
<em class="parameter"><code>dstSet</code></em> <span class="normative">must</span> be a valid <code class="code">VkDescriptorSet</code> handle
</li><li class="listitem">
Both of <em class="parameter"><code>dstSet</code></em>, and <em class="parameter"><code>srcSet</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>srcBinding</code></em> <span class="normative">must</span> be a valid binding within <em class="parameter"><code>srcSet</code></em>
</li><li class="listitem">
The sum of <em class="parameter"><code>srcArrayElement</code></em> and <em class="parameter"><code>descriptorCount</code></em> <span class="normative">must</span> be less than or equal to the number of array elements in the descriptor set binding specified by <em class="parameter"><code>srcBinding</code></em>, and all applicable consecutive bindings, as described by <a class="xref" href="#descriptorsets-updates-consecutive"> consecutive binding updates</a>
</li><li class="listitem">
<em class="parameter"><code>dstBinding</code></em> <span class="normative">must</span> be a valid binding within <em class="parameter"><code>dstSet</code></em>
</li><li class="listitem">
The sum of <em class="parameter"><code>dstArrayElement</code></em> and <em class="parameter"><code>descriptorCount</code></em> <span class="normative">must</span> be less than or equal to the number of array elements in the descriptor set binding specified by <em class="parameter"><code>dstBinding</code></em>, and all applicable consecutive bindings, as described by <a class="xref" href="#descriptorsets-updates-consecutive"> consecutive binding updates</a>
</li><li class="listitem">
If <em class="parameter"><code>srcSet</code></em> is equal to <em class="parameter"><code>dstSet</code></em>, then the source and destination ranges of descriptors <span class="normative">must</span> not overlap, where the ranges <span class="normative">may</span> include array elements from consecutive bindings as described by <a class="xref" href="#descriptorsets-updates-consecutive"> consecutive binding updates</a>
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="descriptorsets-binding"></a>13.2.5. Descriptor Set Binding</h3></div></div></div><p>To bind one or more descriptor sets to a command buffer, call:</p><p><a id="vkCmdBindDescriptorSets"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdBindDescriptorSets(
    VkCommandBuffer                             commandBuffer,
    VkPipelineBindPoint                         pipelineBindPoint,
    VkPipelineLayout                            layout,
    uint32_t                                    firstSet,
    uint32_t                                    descriptorSetCount,
    const VkDescriptorSet*                      pDescriptorSets,
    uint32_t                                    dynamicOffsetCount,
    const uint32_t*                             pDynamicOffsets);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer that the descriptor sets will
    be bound to.
</li><li class="listitem">
<em class="parameter"><code>pipelineBindPoint</code></em> is a <code class="code"><a class="link" href="#VkPipelineBindPoint">VkPipelineBindPoint</a></code> indicating
    whether the descriptors will be used by graphics pipelines or compute
    pipelines.
    There is a separate set of bind points for each of graphics and compute,
    so binding one does not disturb the other.
</li><li class="listitem">
<em class="parameter"><code>layout</code></em> is a <code class="code">VkPipelineLayout</code> object used to program the
    bindings.
</li><li class="listitem">
<em class="parameter"><code>firstSet</code></em> is the set number of the first descriptor set to be
    bound.
</li><li class="listitem">
<em class="parameter"><code>descriptorSetCount</code></em> is the number of elements in the
    <em class="parameter"><code>pDescriptorSets</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pDescriptorSets</code></em> is an array of handles to <code class="code">VkDescriptorSet</code>
    objects describing the descriptor sets to write to.
</li><li class="listitem">
<em class="parameter"><code>dynamicOffsetCount</code></em> is the number of dynamic offsets in the
    <em class="parameter"><code>pDynamicOffsets</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pDynamicOffsets</code></em> is a pointer to an array of <span class="strong"><strong><code class="code">uint32_t</code></strong></span>
    values specifying dynamic offsets.
</li></ul></div><p><span class="strong"><strong><code class="code">vkCmdBindDescriptorSets</code></strong></span> causes the sets numbered [<em class="parameter"><code>firstSet</code></em>..
<em class="parameter"><code>firstSet</code></em>+<em class="parameter"><code>descriptorSetCount</code></em>-1] to use the bindings stored in
<em class="parameter"><code>pDescriptorSets</code></em>[0..<em class="parameter"><code>descriptorSetCount</code></em>-1] for subsequent
rendering commands (either compute or graphics, according to the
<em class="parameter"><code>pipelineBindPoint</code></em>).
Any bindings that were previously applied via these sets are no longer
valid.</p><p>Once bound, a descriptor set affects rendering of subsequent graphics or
compute commands in the command buffer until a different set is bound to the
same set number, or else until the set is disturbed as described in
<a class="link" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">Pipeline Layout Compatibility</a>.</p><p>A compatible descriptor set <span class="normative">must</span> be bound for all set numbers that any
shaders in a pipeline access, at the time that a draw or dispatch command is
recorded to execute using that pipeline.
However, if none of the shaders in a pipeline statically use any bindings
with a particular set number, then no descriptor set need be bound for that
set number, even if the pipeline layout includes a non-trivial descriptor
set layout for that set number.</p><p>If any of the sets being bound include dynamic uniform or storage buffers,
then <em class="parameter"><code>pDynamicOffsets</code></em> includes one element for each array element in
each dynamic descriptor type binding in each set.
Values are taken from <em class="parameter"><code>pDynamicOffsets</code></em> in an order such that all
entries for set N come before set N+1; within a set, entries are ordered by
the binding numbers in the descriptor set layouts; and within a binding
array, elements are in order.
<em class="parameter"><code>dynamicOffsetCount</code></em> <span class="normative">must</span> equal the total number of dynamic descriptors
in the sets being bound.</p><p>The effective offset used for dynamic uniform and storage buffer bindings is
the sum of the relative offset taken from <em class="parameter"><code>pDynamicOffsets</code></em>, and the
base address of the buffer plus base offset in the descriptor set.
The length of the dynamic uniform and storage buffer bindings is the buffer
range as specified in the descriptor set.</p><p>Each of the <em class="parameter"><code>pDescriptorSets</code></em> <span class="normative">must</span> be compatible with the pipeline
layout specified by <em class="parameter"><code>layout</code></em>.
The layout used to program the bindings <span class="normative">must</span> also be compatible with the
pipeline used in subsequent graphics or compute commands, as defined in the
<a class="link" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">Pipeline Layout Compatibility</a> section.</p><p>The descriptor set contents bound by a call to <span class="strong"><strong><code class="code">vkCmdBindDescriptorSets</code></strong></span>
<span class="normative">may</span> be consumed during host execution of the command, or during shader
execution of the resulting draws, or any time in between.
Thus, the contents <span class="normative">must</span> not be altered (overwritten by an update command,
or freed) between when the command is recorded and when the command
completes executing on the queue.
The contents of <em class="parameter"><code>pDynamicOffsets</code></em> are consumed immediately during
execution of <span class="strong"><strong><code class="code">vkCmdBindDescriptorSets</code></strong></span>.
Once all pending uses have completed, it is legal to update and reuse a
descriptor set.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pipelineBindPoint</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkPipelineBindPoint">VkPipelineBindPoint</a></code> value
</li><li class="listitem">
<em class="parameter"><code>layout</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipelineLayout</code> handle
</li><li class="listitem">
<em class="parameter"><code>pDescriptorSets</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>descriptorSetCount</code></em> valid <code class="code">VkDescriptorSet</code> handles
</li><li class="listitem">
If <em class="parameter"><code>dynamicOffsetCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pDynamicOffsets</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>dynamicOffsetCount</code></em> <code class="code">uint32_t</code> values
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li><li class="listitem">
<em class="parameter"><code>descriptorSetCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Each of <em class="parameter"><code>commandBuffer</code></em>, <em class="parameter"><code>layout</code></em>, and the elements of <em class="parameter"><code>pDescriptorSets</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pDescriptorSets</code></em> <span class="normative">must</span> have been allocated with a <code class="code">VkDescriptorSetLayout</code> that matches (is the same as, or defined identically to) the <code class="code">VkDescriptorSetLayout</code> at set <span class="emphasis"><em>n</em></span> in <em class="parameter"><code>layout</code></em>, where <span class="emphasis"><em>n</em></span> is the sum of <em class="parameter"><code>firstSet</code></em> and the index into <em class="parameter"><code>pDescriptorSets</code></em>
</li><li class="listitem">
<em class="parameter"><code>dynamicOffsetCount</code></em> <span class="normative">must</span> be equal to the total number of dynamic descriptors in <em class="parameter"><code>pDescriptorSets</code></em>
</li><li class="listitem">
The sum of <em class="parameter"><code>firstSet</code></em> and <em class="parameter"><code>descriptorSetCount</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPipelineLayoutCreateInfo</code>::<em class="parameter"><code>setLayoutCount</code></em> provided when <em class="parameter"><code>layout</code></em> was created
</li><li class="listitem">
<em class="parameter"><code>pipelineBindPoint</code></em> <span class="normative">must</span> be supported by the <em class="parameter"><code>commandBuffer</code></em>’s parent <code class="code">VkCommandPool</code>’s queue family
</li><li class="listitem">
Any given element of <em class="parameter"><code>pDynamicOffsets</code></em> <span class="normative">must</span> satisfy the required alignment for the corresponding descriptor binding’s descriptor type
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_push_constant_updates"></a>13.2.6. Push Constant Updates</h3></div></div></div><p><a id="descriptorsets-push-constants"></a>As described above in section <a class="link" href="#descriptorsets-pipelinelayout" title="13.2.2. Pipeline Layouts">Pipeline Layouts</a>, the pipeline layout defines shader push constants which are
updated via Vulkan commands rather than via writes to memory or copy
commands.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Push constants represent a high speed path to modify constant data in
pipelines that is expected to outperform memory-backed resource updates.</p></td></tr></table></div><p>The values of push constants are undefined at the start of a command buffer.</p><p>To update push constants, call:</p><p><a id="vkCmdPushConstants"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdPushConstants(
    VkCommandBuffer                             commandBuffer,
    VkPipelineLayout                            layout,
    VkShaderStageFlags                          stageFlags,
    uint32_t                                    offset,
    uint32_t                                    size,
    const void*                                 pValues);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer in which the push constant
    update will be recorded.
</li><li class="listitem">
<em class="parameter"><code>layout</code></em> is the pipeline layout used to program the push constant
    updates.
</li><li class="listitem">
<em class="parameter"><code>stageFlags</code></em> is a bitmask of <code class="code"><a class="link" href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> specifying
    the shader stages that will use the push constants in the updated range.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> is the start offset of the push constant range to update,
    in units of bytes.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is the size of the push constant range to update, in units of
    bytes.
</li><li class="listitem">
<em class="parameter"><code>pValues</code></em> is an array of <em class="parameter"><code>size</code></em> bytes containing the new push
    constant values.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>layout</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipelineLayout</code> handle
</li><li class="listitem">
<em class="parameter"><code>stageFlags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>stageFlags</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>pValues</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>size</code></em> bytes
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li><li class="listitem">
<em class="parameter"><code>size</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and <em class="parameter"><code>layout</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>stageFlags</code></em> <span class="normative">must</span> match exactly the shader stages used in <em class="parameter"><code>layout</code></em> for the range specified by <em class="parameter"><code>offset</code></em> and <em class="parameter"><code>size</code></em>
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be a multiple of <code class="literal">4</code>
</li><li class="listitem">
<em class="parameter"><code>size</code></em> <span class="normative">must</span> be a multiple of <code class="literal">4</code>
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be less than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxPushConstantsSize</code></em>
</li><li class="listitem">
<em class="parameter"><code>size</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxPushConstantsSize</code></em> minus <em class="parameter"><code>offset</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="interfaces"></a>Chapter 14. Shader Interfaces</h1></div></div></div><p>When a pipeline is created, the set of shaders specified in the
corresponding <code class="code">Vk*PipelineCreateInfo</code> structure are implicitly linked at
a number of different interfaces.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<a class="link" href="#interfaces-iointerfaces" title="14.1. Shader Input and Output Interfaces">Shader Input and Output Interface</a>
</li><li class="listitem">
<a class="link" href="#interfaces-vertexinput" title="14.2. Vertex Input Interface">Vertex Input Interface</a>
</li><li class="listitem">
<a class="link" href="#interfaces-fragmentoutput" title="14.3. Fragment Output Interface">Fragment Output Interface</a>
</li><li class="listitem">
<a class="link" href="#interfaces-inputattachment" title="14.4. Fragment Input Attachment Interface">Fragment Input Attachment Interface</a>
</li><li class="listitem">
<a class="link" href="#interfaces-resources" title="14.5. Shader Resource Interface">Shader Resource Interface</a>
</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="interfaces-iointerfaces"></a>14.1. Shader Input and Output Interfaces</h2></div></div></div><p>When multiple stages are present in a pipeline, the outputs of one stage
form an interface with the inputs of the next stage.
When such an interface involves a shader, shader outputs are matched against
the inputs of the next stage, and shader inputs are matched against the
outputs of the previous stage.</p><p>There are two classes of variables that <span class="normative">can</span> be matched between shader
stages, built-in variables and user-defined variables.
Each class has a different set of matching criteria.
Generally, when non-shader stages are between shader stages, the
user-defined variables, and most built-in variables, form an interface
between the shader stages.</p><p>The variables forming the input or output <span class="emphasis"><em>interfaces</em></span> are listed as
operands to the <span class="strong"><strong><code class="code">OpEntryPoint</code></strong></span> instruction and are declared with the
<span class="strong"><strong><code class="code">Input</code></strong></span> or <span class="strong"><strong><code class="code">Output</code></strong></span> storage classes, respectively, in the SPIR-V
module.</p><p><span class="strong"><strong><code class="code">Output</code></strong></span> variables of a shader stage have undefined values until the
shader writes to them or uses the <span class="strong"><strong><code class="code">Initializer</code></strong></span> operand when declaring
the variable.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="interfaces-iointerfaces-builtin"></a>14.1.1. Built-in Interface Block</h3></div></div></div><p>Shader <a class="link" href="#interfaces-builtin-variables" title="14.6. Built-In Variables">built-in</a> variables meeting the
following requirements define the <span class="emphasis"><em>built-in interface block</em></span>.
They <span class="normative">must</span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
be explicitly declared (there are no implicit built-ins),
</li><li class="listitem">
be identified with a <span class="strong"><strong><code class="code">BuiltIn</code></strong></span> decoration,
</li><li class="listitem">
form object types as described in the
    <a class="link" href="#interfaces-builtin-variables" title="14.6. Built-In Variables">Built-in Variables</a> section, and
</li><li class="listitem">
be declared in a block whose top-level members are the built-ins.
</li></ul></div><p>Built-ins only participate in interface matching if they are declared in
such a block.
They <span class="normative">must</span> not have any <span class="strong"><strong><code class="code">Location</code></strong></span> or <span class="strong"><strong><code class="code">Component</code></strong></span> decorations.</p><p>There <span class="normative">must</span> be no more than one built-in interface block per shader per
interface.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="interfaces-iointerfaces-user"></a>14.1.2. User-defined Variable Interface</h3></div></div></div><p>The remaining variables listed by <span class="strong"><strong><code class="code">OpEntryPoint</code></strong></span> with the <span class="strong"><strong><code class="code">Input</code></strong></span> or
<span class="strong"><strong><code class="code">Output</code></strong></span> storage class form the <span class="emphasis"><em>user-defined variable interface</em></span>.
These variables <span class="normative">must</span> be identified with a <span class="strong"><strong><code class="code">Location</code></strong></span> decoration and <span class="normative">can</span>
also be identified with a <span class="strong"><strong><code class="code">Component</code></strong></span> decoration.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="interfaces-iointerfaces-matching"></a>14.1.3. Interface Matching</h3></div></div></div><p>A user-defined output variable is considered to match an input variable in
the subsequent stage if the two variables are declared with the same
<span class="strong"><strong><code class="code">Location</code></strong></span> and <span class="strong"><strong><code class="code">Component</code></strong></span> decoration and match in type and
decoration, except that <a class="link" href="#shaders-interpolation-decorations" title="8.11. Interpolation Decorations">interpolation decorations</a> are not <span class="normative">required</span> to match.
For the purposes of interface matching, variables declared without a
<span class="strong"><strong><code class="code">Component</code></strong></span> decoration are considered to have a <span class="strong"><strong><code class="code">Component</code></strong></span> decoration
of zero.</p><p>Variables or block members declared as structures are considered to match in
type if and only if the structure members match in type, decoration, number,
and declaration order.
Variables or block members declared as arrays are considered to match in
type only if both declarations specify the same element type and size.</p><p>Tessellation control shader per-vertex output variables and blocks, and
tessellation control, tessellation evaluation, and geometry shader
per-vertex input variables and blocks are required to be declared as arrays,
with each element representing input or output values for a single vertex of
a multi-vertex primitive.
For the purposes of interface matching, the outermost array dimension of
such variables and blocks is ignored.</p><p>At an interface between two non-fragment shader stages, the built-in
interface block <span class="normative">must</span> match exactly, as described above.
At an interface involving the fragment shader inputs, the presence or
absence of any built-in output does not affect the interface matching.</p><p>At an interface between two shader stages, the user-defined variable
interface <span class="normative">must</span> match exactly, as described above.</p><p>Any input value to a shader stage is well-defined as long as the preceding
stages writes to a matching output, as described above.</p><p>Additionally, scalar and vector inputs are well-defined if there is a
corresponding output satisfying all of the following conditions:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
the input and output match exactly in decoration,
</li><li class="listitem">
the output is a vector with the same basic type and has at least as many
    components as the input, and
</li><li class="listitem">
the common component type of the input and output is 32-bit integer or
    floating-point (64-bit component types are excluded).
</li></ul></div><p>In this case, the components of the input will be taken from the first
components of the output, and any extra components of the output will be
ignored.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="interfaces-iointerfaces-locations"></a>14.1.4. Location Assignment</h3></div></div></div><p>This section describes how many locations are consumed by a given type.
As mentioned above, geometry shader inputs, tessellation control shader
inputs and outputs, and tessellation evaluation inputs all have an
additional level of arrayness relative to other shader inputs and outputs.
This outer array level is removed from the type before considering how many
locations the type consumes.</p><p>The <span class="strong"><strong><code class="code">Location</code></strong></span> value specifies an interface slot comprised of a 32-bit
four-component vector conveyed between stages.
The <span class="strong"><strong><code class="code">Component</code></strong></span> specifies
<a class="link" href="#interfaces-iointerfaces-components" title="14.1.5. Component Assignment">components</a> within these vector
locations.
Only types with widths of 32 or 64 are supported in shader interfaces.</p><p>Inputs and outputs of the following types consume a single interface
location:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
32-bit scalar and vector types, and
</li><li class="listitem">
64-bit scalar and 2-component vector types.
</li></ul></div><p>64-bit three- and four-component vectors consume two consecutive locations.</p><p>If a declared input or output is an array of size <span class="emphasis"><em>n</em></span> and each element takes
<span class="emphasis"><em>m</em></span> locations, it will be assigned <span class="emphasis"><em>m</em></span> × <span class="emphasis"><em>n</em></span> consecutive locations starting
with the location specified.</p><p>If the declared input or output is an <span class="emphasis"><em>n</em></span> × <span class="emphasis"><em>m</em></span> 32- or 64-bit matrix, it
will be assigned multiple locations starting with the location specified.
The number of locations assigned for each matrix will be the same as for an
<span class="emphasis"><em>n</em></span>-element array of <span class="emphasis"><em>m</em></span>-component vectors.</p><p>The layout of a structure type used as an <span class="strong"><strong><code class="code">Input</code></strong></span> or <span class="strong"><strong><code class="code">Output</code></strong></span> depends
on whether it is also a <span class="strong"><strong><code class="code">Block</code></strong></span> (i.e.
has a <span class="strong"><strong><code class="code">Block</code></strong></span> decoration).</p><p>If it is a not a <span class="strong"><strong><code class="code">Block</code></strong></span>, then the structure type <span class="normative">must</span> have a
<span class="strong"><strong><code class="code">Location</code></strong></span> decoration.
Its members are assigned consecutive locations in their declaration order,
with the first member assigned to the location specified for the structure
type.
The members, and their nested types, <span class="normative">must</span> not themselves have <span class="strong"><strong><code class="code">Location</code></strong></span>
decorations.</p><p>If the structure type is a <span class="strong"><strong><code class="code">Block</code></strong></span> but without a <span class="strong"><strong><code class="code">Location</code></strong></span>, then each
of its members <span class="normative">must</span> have a <span class="strong"><strong><code class="code">Location</code></strong></span> decoration.
If it is a <span class="strong"><strong><code class="code">Block</code></strong></span> with a <span class="strong"><strong><code class="code">Location</code></strong></span> decoration, then its members are
assigned consecutive locations in declaration order, starting from the first
member which is initially assigned the location specified for the
<span class="strong"><strong><code class="code">Block</code></strong></span>.
Any member with its own <span class="strong"><strong><code class="code">Location</code></strong></span> decoration is assigned that location.
Each remaining member is assigned the location after the immediately
preceding member in declaration order.</p><p>The locations consumed by block and structure members are determined by
applying the rules above in a depth-first traversal of the instantiated
members as though the structure or block member were declared as an input or
output variable of the same type.</p><p>Any two inputs listed as operands on the same <span class="strong"><strong><code class="code">OpEntryPoint</code></strong></span> <span class="normative">must</span> not be
assigned the same location, either explicitly or implicitly.
Any two outputs listed as operands on the same <span class="strong"><strong><code class="code">OpEntryPoint</code></strong></span> <span class="normative">must</span> not
be assigned the same location, either explicitly or implicitly.</p><p>The number of input and output locations available for a shader input or
output interface are limited, and dependent on the shader stage as described
in <a class="xref" href="#interfaces-iointerfaces-limits" title="Table 14.1. Shader Input and Output Locations">Table 14.1, “Shader Input and Output Locations”</a>.</p><div class="table"><a id="interfaces-iointerfaces-limits"></a><p class="title"><strong>Table 14.1. Shader Input and Output Locations</strong></p><div class="table-contents"><table summary="Shader Input and Output Locations" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="90%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Shader Interface              </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Locations Available</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>vertex input</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxVertexInputAttributes</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>vertex output</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxVertexOutputComponents</code></em> / 4</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>tessellation control input</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationControlPerVertexInputComponents</code></em> / 4</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>tessellation control output</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationControlPerVertexOutputComponents</code></em> / 4</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>tessellation evaluation input</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationEvaluationInputComponents</code></em> / 4</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>tessellation evaluation output</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationEvaluationOutputComponents</code></em> / 4</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>geometry input</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxGeometryInputComponents</code></em> / 4</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>geometry output</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxGeometryOutputComponents</code></em> / 4</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>fragment input</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFragmentInputComponents</code></em> / 4</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>fragment output</p></td><td style="" align="left" valign="top"><p><em class="parameter"><code>maxFragmentOutputAttachments</code></em></p></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="interfaces-iointerfaces-components"></a>14.1.5. Component Assignment</h3></div></div></div><p>The <span class="strong"><strong><code class="code">Component</code></strong></span> decoration allows the <span class="strong"><strong><code class="code">Location</code></strong></span> to be more finely
specified for scalars and vectors, down to the individual components within
a location that are consumed.
The components within a location are 0, 1, 2, and 3.
A variable or block member starting at component N will consume components
N, N+1, N+2, …
up through its size.
For single precision types, it is invalid if this sequence of components
gets larger than 3.
A scalar 64-bit type will consume two of these components in sequence, and a
two-component 64-bit vector type will consume all four components available
within a location.
A three- or four-component 64-bit vector type <span class="normative">must</span> not specify a
<span class="strong"><strong><code class="code">Component</code></strong></span> decoration.
A three-component 64-bit vector type will consume all four components of the
first location and components 0 and 1 of the second location.
This leaves components 2 and 3 available for other component-qualified
declarations.</p><p>A scalar or two-component 64-bit data type <span class="normative">must</span> not specify a
<span class="strong"><strong><code class="code">Component</code></strong></span> decoration of 1 or 3.
A <span class="strong"><strong><code class="code">Component</code></strong></span> decoration <span class="normative">must</span> not be specified for any type that is not
a scalar or vector.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="interfaces-vertexinput"></a>14.2. Vertex Input Interface</h2></div></div></div><p>When the vertex stage is present in a pipeline, the vertex shader input
variables form an interface with the vertex input attributes.
The vertex shader input variables are matched by the <span class="strong"><strong><code class="code">Location</code></strong></span> and
<span class="strong"><strong><code class="code">Component</code></strong></span> decorations to the vertex input attributes specified in the
<em class="parameter"><code>pVertexInputState</code></em> member of the <code class="code"><a class="link" href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a></code>
structure.</p><p>The vertex shader input variables listed by <span class="strong"><strong><code class="code">OpEntryPoint</code></strong></span> with the
<span class="strong"><strong><code class="code">Input</code></strong></span> storage class form the <span class="emphasis"><em>vertex input interface</em></span>.
These variables <span class="normative">must</span> be identified with a <span class="strong"><strong><code class="code">Location</code></strong></span> decoration and <span class="normative">can</span>
also be identified with a <span class="strong"><strong><code class="code">Component</code></strong></span> decoration.</p><p>For the purposes of interface matching: variables declared without a
<span class="strong"><strong><code class="code">Component</code></strong></span> decoration are considered to have a <span class="strong"><strong><code class="code">Component</code></strong></span> decoration
of zero.
The number of available vertex input locations is given by the
<em class="parameter"><code>maxVertexInputAttributes</code></em> member of the <code class="code">VkPhysicalDeviceLimits</code>
structure.</p><p>See <a class="xref" href="#fxvertex-attrib-location" title="20.1.1. Attribute Location and Component Assignment">Section 20.1.1, “Attribute Location and Component Assignment”</a> for details.</p><p>All vertex shader inputs declared as above <span class="normative">must</span> have a corresponding
attribute and binding in the pipeline.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="interfaces-fragmentoutput"></a>14.3. Fragment Output Interface</h2></div></div></div><p>When the fragment stage is present in a pipeline, the fragment shader
outputs form an interface with the output attachments of the current
subpass.
The fragment shader output variables are matched by the <span class="strong"><strong><code class="code">Location</code></strong></span> and
<span class="strong"><strong><code class="code">Component</code></strong></span> decorations to the color attachments specified in the
<em class="parameter"><code>pColorAttachments</code></em> array of the <code class="code"><a class="link" href="#VkSubpassDescription">VkSubpassDescription</a></code> structure
that describes the subpass that the fragment shader is executed in.</p><p>The fragment shader output variables listed by <span class="strong"><strong><code class="code">OpEntryPoint</code></strong></span> with the
<span class="strong"><strong><code class="code">Output</code></strong></span> storage class form the <span class="emphasis"><em>fragment output interface</em></span>.
These variables <span class="normative">must</span> be identified with a <span class="strong"><strong><code class="code">Location</code></strong></span> decoration.
They <span class="normative">can</span> also be identified with a <span class="strong"><strong><code class="code">Component</code></strong></span> decoration and/or an
<span class="strong"><strong><code class="code">Index</code></strong></span> decoration.
For the purposes of interface matching: variables declared without a
<span class="strong"><strong><code class="code">Component</code></strong></span> decoration are considered to have a <span class="strong"><strong><code class="code">Component</code></strong></span> decoration
of zero, and variables declared without an <span class="strong"><strong><code class="code">Index</code></strong></span> decoration are
considered to have an <span class="strong"><strong><code class="code">Index</code></strong></span> decoration of zero.</p><p>A fragment shader output variable identified with a <span class="strong"><strong><code class="code">Location</code></strong></span> decoration
of <span class="emphasis"><em>i</em></span> is directed to the color attachment indicated by
<em class="parameter"><code>pColorAttachments</code></em>[<span class="emphasis"><em>i</em></span>], after passing through the blending unit as
described in <a class="xref" href="#framebuffer-blending" title="26.1. Blending">Section 26.1, “Blending”</a>, if enabled.
Locations are consumed as described in
<a class="link" href="#interfaces-iointerfaces-locations" title="14.1.4. Location Assignment">Location Assignment</a>.
The number of available fragment output locations is given by the
<em class="parameter"><code>maxFragmentOutputAttachments</code></em> member of the
<code class="code">VkPhysicalDeviceLimits</code> structure.</p><p>Components of the output variables are assigned as described in
<a class="link" href="#interfaces-iointerfaces-components" title="14.1.5. Component Assignment">Component Assignment</a>.
Output components identified as 0, 1, 2, and 3 will be directed to the R, G,
B, and A inputs to the blending unit, respectively, or to the output
attachment if blending is disabled.
If two variables are placed within the same location, they <span class="normative">must</span> have the
same underlying type (floating-point or integer).
The input to blending or color attachment writes is undefined for components
which do not correspond to a fragment shader output.</p><p>Fragment outputs identified with an <span class="strong"><strong><code class="code">Index</code></strong></span> of zero are directed to the
first input of the blending unit associated with the corresponding
<span class="strong"><strong><code class="code">Location</code></strong></span>.
Outputs identified with an <span class="strong"><strong><code class="code">Index</code></strong></span> of one are directed to the second
input of the corresponding blending unit.</p><p>No <span class="emphasis"><em>component aliasing</em></span> of output variables is allowed, that is there <span class="normative">must</span>
not be two output variables which have the same location, component, and
index, either explicitly declared or implied.</p><p>Output values written by a fragment shader <span class="normative">must</span> be declared with either
<span class="strong"><strong><code class="code">OpTypeFloat</code></strong></span> or <span class="strong"><strong><code class="code">OpTypeInt</code></strong></span>, and a Width of 32.
Composites of these types are also permitted.
If the color attachment has a signed or unsigned normalized fixed-point
format, color values are assumed to be floating-point and are converted to
fixed-point as described in <a class="xref" href="#fundamentals-fixedfpconv" title="2.8.1. Conversion from Normalized Fixed-Point to Floating-Point">Section 2.8.1, “Conversion from Normalized Fixed-Point to Floating-Point”</a>; otherwise no type
conversion is applied.
If the type of the values written by the fragment shader do not match the
format of the corresponding color attachment, the result is undefined for
those components.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="interfaces-inputattachment"></a>14.4. Fragment Input Attachment Interface</h2></div></div></div><p>When a fragment stage is present in a pipeline, the fragment shader subpass
inputs form an interface with the input attachments of the current subpass.
The fragment shader subpass input variables are matched by
<span class="strong"><strong><code class="code">InputAttachmentIndex</code></strong></span> decorations to the input attachments specified in
the <em class="parameter"><code>pInputAttachments</code></em> array of the <code class="code"><a class="link" href="#VkSubpassDescription">VkSubpassDescription</a></code>
structure that describes the subpass that the fragment shader is executed
in.</p><p>The fragment shader subpass input variables with the <span class="strong"><strong><code class="code">UniformConstant</code></strong></span>
storage class and a decoration of <span class="strong"><strong><code class="code">InputAttachmentIndex</code></strong></span> that are
statically used by <span class="strong"><strong><code class="code">OpEntryPoint</code></strong></span> form the <span class="emphasis"><em>fragment input attachment
interface</em></span>.
These variables <span class="normative">must</span> be declared with a type of <span class="strong"><strong><code class="code">OpTypeImage</code></strong></span>, a
<span class="strong"><strong><code class="code">Dim</code></strong></span> operand of <span class="strong"><strong><code class="code">SubpassData</code></strong></span>, and a <span class="strong"><strong><code class="code">Sampled</code></strong></span> operand of 2.</p><p>A subpass input variable identified with an <span class="strong"><strong><code class="code">InputAttachmentIndex</code></strong></span>
decoration of <span class="emphasis"><em>i</em></span> reads from the input attachment indicated by
<em class="parameter"><code>pInputAttachments</code></em>[<span class="emphasis"><em>i</em></span>] member of <code class="code">VkSubpassDescription</code>.
If the subpass input variable is declared as an array of size N, it consumes
N consecutive input attachments, starting with the index specified.
There <span class="normative">must</span> not be more than one input variable with the same
<span class="strong"><strong><code class="code">InputAttachmentIndex</code></strong></span> whether explicitly declared or implied by an array
declaration.
The number of available input attachment indices is given by the
<em class="parameter"><code>maxPerStageDescriptorInputAttachments</code></em> member of the
<code class="code">VkPhysicalDeviceLimits</code> structure.</p><p>Variables identified with the <span class="strong"><strong><code class="code">InputAttachmentIndex</code></strong></span> <span class="normative">must</span> only be used
by a fragment stage.
The basic data type (floating-point, integer, unsigned integer) of the
subpass input <span class="normative">must</span> match the basic format of the corresponding input
attachment, or the values of subpass loads from these variables are
undefined.</p><p>See <a class="xref" href="#descriptorsets-inputattachment" title="13.1.11. Input Attachment">Section 13.1.11, “Input Attachment”</a> for more details.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="interfaces-resources"></a>14.5. Shader Resource Interface</h2></div></div></div><p>When a shader stage accesses buffer or image resources, as described in the
<a class="link" href="#descriptorsets" title="Chapter 13. Resource Descriptors">Resource Descriptors</a> section, the shader resource
variables <span class="normative">must</span> be matched with the <a class="link" href="#descriptorsets-pipelinelayout" title="13.2.2. Pipeline Layouts">pipeline layout</a> that is provided at pipeline creation time.</p><p>The set of shader resources that form the <span class="emphasis"><em>shader resource interface</em></span> for a
stage are the variables statically used by <span class="strong"><strong><code class="code">OpEntryPoint</code></strong></span> with the
storage class of <span class="strong"><strong><code class="code">Uniform</code></strong></span>, <span class="strong"><strong><code class="code">UniformConstant</code></strong></span>, or <span class="strong"><strong><code class="code">PushConstant</code></strong></span>.
For the fragment shader, this includes the <a class="link" href="#interfaces-inputattachment" title="14.4. Fragment Input Attachment Interface">fragment input attachment interface</a>.</p><p>The shader resource interface consists of two sub-interfaces: the push
constant interface and the descriptor set interface.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="interfaces-resources-pushconst"></a>14.5.1. Push Constant Interface</h3></div></div></div><p>The shader variables defined with a storage class of <span class="strong"><strong><code class="code">PushConstant</code></strong></span> that
are statically used by the shader entry points for the pipeline define the
<span class="emphasis"><em>push constant interface</em></span>.
They <span class="normative">must</span> be:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
typed as <span class="strong"><strong><code class="code">OpTypeStruct</code></strong></span>,
</li><li class="listitem">
identified with a <span class="strong"><strong><code class="code">Block</code></strong></span> decoration, and
</li><li class="listitem">
laid out explicitly using the <span class="strong"><strong><code class="code">Offset</code></strong></span>, <span class="strong"><strong><code class="code">ArrayStride</code></strong></span>, and
    <span class="strong"><strong><code class="code">MatrixStride</code></strong></span> decorations as specified in
    <a class="link" href="#interfaces-resources-layout" title="14.5.4. Offset and Stride Assignment">Offset and Stride Assignment</a>.
</li></ul></div><p>There <span class="normative">must</span> be no more than one push constant block statically used per
shader entry point.</p><p>Each variable in a push constant block <span class="normative">must</span> be placed at an <span class="strong"><strong><code class="code">Offset</code></strong></span>
such that the entire constant value is entirely contained within the
<code class="code"><a class="link" href="#VkPushConstantRange">VkPushConstantRange</a></code> for each <span class="strong"><strong><code class="code">OpEntryPoint</code></strong></span> that uses it, and the
<em class="parameter"><code>stageFlags</code></em> for that range <span class="normative">must</span> specify the appropriate
<code class="code"><a class="link" href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> for that stage.
The <span class="strong"><strong><code class="code">Offset</code></strong></span> decoration for any variable in a push constant block <span class="normative">must</span>
not cause the space required for that variable to extend outside the range
<span class="inlinemediaobject"><span class="phrase">
$[0, \mathit{maxPushConstantsSize})$
</span></span>.</p><p>Any variable in a push constant block that is declared as an array <span class="normative">must</span>
only be accessed with dynamically uniform indices.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="interfaces-resources-descset"></a>14.5.2. Descriptor Set Interface</h3></div></div></div><p>The <span class="emphasis"><em>descriptor set interface</em></span> is comprised of the shader variables with the
storage class of <span class="strong"><strong><code class="code">Uniform</code></strong></span> or <span class="strong"><strong><code class="code">UniformConstant</code></strong></span> (including the
variables in the <a class="link" href="#interfaces-inputattachment" title="14.4. Fragment Input Attachment Interface">fragment input attachment interface</a>) that are statically used by the shader entry points for the
pipeline.</p><p>These variables <span class="normative">must</span> have <span class="strong"><strong><code class="code">DescriptorSet</code></strong></span> and <span class="strong"><strong><code class="code">Binding</code></strong></span> decorations
specified, which are assigned and matched with the
<code class="code">VkDescriptorSetLayout</code> objects in the pipeline layout as described in
<a class="link" href="#interfaces-resources-setandbinding" title="14.5.3. DescriptorSet and Binding Assignment">DescriptorSet and Binding Assignment</a>.</p><p>Variables identified with the <span class="strong"><strong><code class="code">UniformConstant</code></strong></span> storage class are used
only as handles to refer to opaque resources.
Such variables <span class="normative">must</span> be typed as <span class="strong"><strong><code class="code">OpTypeImage</code></strong></span>, <span class="strong"><strong><code class="code">OpTypeSampler</code></strong></span>,
<span class="strong"><strong><code class="code">OpTypeSampledImage</code></strong></span>, or arrays of only these types.
Variables of type <span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> <span class="normative">must</span> have a <span class="strong"><strong><code class="code">Sampled</code></strong></span> operand of 1
(sampled image) or 2 (storage image).</p><p>Any array of these types <span class="normative">must</span> only be indexed with constant integral
expressions, except under the following conditions:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
For arrays of <span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> variables with <span class="strong"><strong><code class="code">Sampled</code></strong></span> operand of 2,
    if the <em class="parameter"><code>shaderStorageImageArrayDynamicIndexing</code></em> feature is enabled
    and the shader module declares the <span class="strong"><strong><code class="code">StorageImageArrayDynamicIndexing</code></strong></span>
    capability, the array <span class="normative">must</span> only be indexed by dynamically uniform
    expressions.
</li><li class="listitem">
For arrays of <span class="strong"><strong><code class="code">OpTypeSampler</code></strong></span>, <span class="strong"><strong><code class="code">OpTypeSampledImage</code></strong></span> variables, or
    <span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> variables with <span class="strong"><strong><code class="code">Sampled</code></strong></span> operand of 1, if the
    <em class="parameter"><code>shaderSampledImageArrayDynamicIndexing</code></em> feature is enabled and the
    shader module declares the <span class="strong"><strong><code class="code">SampledImageArrayDynamicIndexing</code></strong></span>
    capability, the array <span class="normative">must</span> only be indexed by dynamically uniform
    expressions.
</li></ul></div><p>The <span class="strong"><strong><code class="code">Sampled</code></strong></span> <span class="strong"><strong><code class="code">Type</code></strong></span> of an <span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> declaration <span class="normative">must</span> match
the same basic data type as the corresponding resource, or the values
obtained by reading or sampling from this image are undefined.</p><p>The <span class="strong"><strong><code class="code">Image</code></strong></span> <span class="strong"><strong><code class="code">Format</code></strong></span> of an <span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> declaration <span class="normative">must</span> not be
<span class="strong"><strong>Unknown</strong></span>, for variables which are used for <span class="strong"><strong><code class="code">OpImageRead</code></strong></span> or
<span class="strong"><strong><code class="code">OpImageWrite</code></strong></span> operations, except under the following conditions:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
For <span class="strong"><strong><code class="code">OpImageWrite</code></strong></span>, if the <em class="parameter"><code>shaderStorageImageWriteWithoutFormat</code></em>
    feature is enabled and the shader module declares the
    <span class="strong"><strong><code class="code">StorageImageWriteWithoutFormat</code></strong></span> capability.
</li><li class="listitem">
For <span class="strong"><strong><code class="code">OpImageRead</code></strong></span>, if the <em class="parameter"><code>shaderStorageImageReadWithoutFormat</code></em>
    feature is enabled and the shader module declares the
    <span class="strong"><strong><code class="code">StorageImageReadWithoutFormat</code></strong></span> capability.
</li></ul></div><p>Variables identified with the <span class="strong"><strong><code class="code">Uniform</code></strong></span> storage class are used to access
transparent buffer backed resources.
Such variables <span class="normative">must</span> be:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
typed as <span class="strong"><strong><code class="code">OpTypeStruct</code></strong></span>, or arrays of only this type,
</li><li class="listitem">
identified with a <span class="strong"><strong><code class="code">Block</code></strong></span> or <span class="strong"><strong><code class="code">BufferBlock</code></strong></span> decoration, and
</li><li class="listitem">
laid out explicitly using the <span class="strong"><strong><code class="code">Offset</code></strong></span>, <span class="strong"><strong><code class="code">ArrayStride</code></strong></span>, and
    <span class="strong"><strong><code class="code">MatrixStride</code></strong></span> decorations as specified in
    <a class="link" href="#interfaces-resources-layout" title="14.5.4. Offset and Stride Assignment">Offset and Stride Assignment</a>.
</li></ul></div><p>Any array of these types <span class="normative">must</span> only be indexed with constant integral
expressions, except under the following conditions.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
For arrays of <span class="strong"><strong><code class="code">Block</code></strong></span> variables, if the
    <em class="parameter"><code>shaderUniformBufferArrayDynamicIndexing</code></em> feature is enabled and the
    shader module declares the <span class="strong"><strong><code class="code">UniformBufferArrayDynamicIndexing</code></strong></span>
    capability, the array <span class="normative">must</span> only be indexed by dynamically uniform
    expressions.
</li><li class="listitem">
For arrays of <span class="strong"><strong><code class="code">BufferBlock</code></strong></span> variables, if the
    <em class="parameter"><code>shaderStorageBufferArrayDynamicIndexing</code></em> feature is enabled and the
    shader module declares the <span class="strong"><strong><code class="code">StorageBufferArrayDynamicIndexing</code></strong></span>
    capability, the array <span class="normative">must</span> only be indexed by dynamically uniform
    expressions.
</li></ul></div><p>The <span class="strong"><strong><code class="code">Offset</code></strong></span> decoration for any variable in a <span class="strong"><strong><code class="code">Block</code></strong></span> <span class="normative">must</span> not cause
the space required for that variable to extend outside the range
<span class="inlinemediaobject"><span class="phrase">
$[0, \mathit{maxUniformBufferRange})$
</span></span>.
The <span class="strong"><strong><code class="code">Offset</code></strong></span> decoration for any variable in a <span class="strong"><strong><code class="code">BufferBlock</code></strong></span> <span class="normative">must</span> not
cause the space required for that variable to extend outside the range
<span class="inlinemediaobject"><span class="phrase">
$[0, \mathit{maxStorageBufferRange})$
</span></span>.</p><p>Variables identified with a storage class of <span class="strong"><strong><code class="code">UniformConstant</code></strong></span> and a
decoration of <span class="strong"><strong><code class="code">InputAttachmentIndex</code></strong></span> <span class="normative">must</span> be declared as described in
<a class="link" href="#interfaces-inputattachment" title="14.4. Fragment Input Attachment Interface">Fragment Input Attachment Interface</a>.</p><p>Each shader variable declaration <span class="normative">must</span> refer to the same type of resource as
is indicated by the <em class="parameter"><code>descriptorType</code></em>.
See <a class="link" href="#interfaces-resources-correspondence" title="Table 14.2. Shader Resource and Descriptor Type Correspondence">Shader Resource and Descriptor Type Correspondence</a> for the relationship between shader declarations and
descriptor types.</p><div class="table"><a id="interfaces-resources-correspondence"></a><p class="title"><strong>Table 14.2. Shader Resource and Descriptor Type Correspondence</strong></p><div class="table-contents"><table summary="Shader Resource and Descriptor Type Correspondence" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="90%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Resource type          </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Descriptor Type</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>sampler</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_DESCRIPTOR_TYPE_SAMPLER</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>sampled image</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage image</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>combined image sampler</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>uniform texel buffer</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage texel buffer</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>uniform buffer</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>
                           <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage buffer</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>
                           <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>input attachment</p></td><td style="" align="left" valign="top"><p><code class="code">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code></p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="id-1.16.8.6.18"></a><p class="title"><strong>Table 14.3. Shader Resource and Storage Class Correspondence</strong></p><div class="table-contents"><table summary="Shader Resource and Storage Class Correspondence" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Resource type   </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Storage Class </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Type </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Decoration(s)<sup>1</sup></th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>sampler</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">UniformConstant</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpTypeSampler</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>sampled image</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">UniformConstant</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> (<span class="strong"><strong><code class="code">Sampled</code></strong></span>=1)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage image</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">UniformConstant</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> (<span class="strong"><strong><code class="code">Sampled</code></strong></span>=2)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>combined image sampler</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">UniformConstant</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpTypeSampledImage</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>uniform texel buffer</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">UniformConstant</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> (<span class="strong"><strong><code class="code">Dim</code></strong></span>=<span class="strong"><strong><code class="code">Buffer</code></strong></span>, <span class="strong"><strong><code class="code">Sampled</code></strong></span>=1)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage texel buffer</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">UniformConstant</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> (<span class="strong"><strong><code class="code">Dim</code></strong></span>=<span class="strong"><strong><code class="code">Buffer</code></strong></span>, <span class="strong"><strong><code class="code">Sampled</code></strong></span>=2)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>uniform buffer</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Uniform</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpTypeStruct</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Block</code></strong></span>, <span class="strong"><strong><code class="code">Offset</code></strong></span>, (<span class="strong"><strong><code class="code">ArrayStride</code></strong></span>), (<span class="strong"><strong><code class="code">MatrixStride</code></strong></span>)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage buffer</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Uniform</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpTypeStruct</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">BufferBlock</code></strong></span>, <span class="strong"><strong><code class="code">Offset</code></strong></span>, (<span class="strong"><strong><code class="code">ArrayStride</code></strong></span>), (<span class="strong"><strong><code class="code">MatrixStride</code></strong></span>)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>input attachment</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">UniformConstant</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> (<span class="strong"><strong><code class="code">Dim</code></strong></span>=<span class="strong"><strong><code class="code">SubpassData</code></strong></span>, <span class="strong"><strong><code class="code">Sampled</code></strong></span>=2)</p></td><td style="" align="left" valign="top"><p><span class="strong"><strong><code class="code">InputAttachmentIndex</code></strong></span></p></td></tr></tbody></table></div></div><br class="table-break" /><div class="variablelist"><dl class="variablelist"><dt><span class="term">
1
</span></dt><dd>
in addition to <span class="strong"><strong><code class="code">DescriptorSet</code></strong></span> and <span class="strong"><strong><code class="code">Binding</code></strong></span>
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="interfaces-resources-setandbinding"></a>14.5.3. DescriptorSet and Binding Assignment</h3></div></div></div><p>A variable identified with a <span class="strong"><strong><code class="code">DescriptorSet</code></strong></span> decoration of
<span class="inlinemediaobject"><span class="phrase">
$s$
</span></span> and a <span class="strong"><strong><code class="code">Binding</code></strong></span> decoration of <span class="inlinemediaobject"><span class="phrase">
$b$
</span></span> indicates
that this variable is associated with the <code class="code"><a class="link" href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a></code>
that has a <em class="parameter"><code>binding</code></em> equal to <span class="inlinemediaobject"><span class="phrase">
$b$
</span></span> in <em class="parameter"><code>pSetLayouts</code></em>[<span class="emphasis"><em>s</em></span>]
that was specified in <code class="code"><a class="link" href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a></code>.</p><p>The range of descriptor sets is between zero and
<em class="parameter"><code>maxBoundDescriptorSets</code></em> minus one.
If a descriptor set value is statically used by an entry point there <span class="normative">must</span>
be an associated <em class="parameter"><code>pSetLayout</code></em> in the corresponding pipeline layout as
described in <a class="link" href="#descriptorsets-pipelinelayout-consistency">Pipeline Layouts consistency</a>.</p><p>If the <span class="strong"><strong><code class="code">Binding</code></strong></span> decoration is used with an array, the entire array is
identified with that binding value.
The size of the array declaration <span class="normative">must</span> be no larger than the
<em class="parameter"><code>descriptorCount</code></em> of that <code class="code">VkDescriptorSetLayoutBinding</code>.
The index of each element of the array is referred to as the <span class="emphasis"><em>arrayElement</em></span>.
For the purposes of interface matching and descriptor set
<a class="link" href="#descriptorsets-updates" title="13.2.4. Descriptor Set Updates">operations</a>, if a resource variable is not an
array, it is treated as if it has an arrayElement of zero.</p><p>The binding <span class="normative">can</span> be any 32-bit unsigned integer value, as described in
<a class="xref" href="#descriptorsets-setlayout" title="13.2.1. Descriptor Set Layout">Section 13.2.1, “Descriptor Set Layout”</a>.
Each descriptor set has its own binding name space.</p><p>There is a limit on the number of resources of each type that <span class="normative">can</span> be
accessed by a pipeline stage as shown in
<a class="link" href="#interfaces-resources-limits" title="Table 14.4. Shader Resource Limits">Shader Resource Limits</a>.
The “Resources Per Stage” column gives the limit on the number each type
of resource that <span class="normative">can</span> be statically used for an entry point in any given
stage in a pipeline.
The “Resource Types” column lists which resource types are counted against
the limit.
Some resource types count against multiple limits.</p><p>If multiple entry points in the same pipeline refer to the same set and
binding, all variable definitions with that <span class="strong"><strong><code class="code">DescriptorSet</code></strong></span> and
<span class="strong"><strong><code class="code">Binding</code></strong></span> <span class="normative">must</span> have the same basic type.</p><p>Not all descriptor sets and bindings specified in a pipeline layout need to
be used in a particular shader stage or pipeline, but if a
<span class="strong"><strong><code class="code">DescriptorSet</code></strong></span> and <span class="strong"><strong><code class="code">Binding</code></strong></span> decoration is specified for a variable
that is statically used in that shader there <span class="normative">must</span> be a pipeline layout
entry identified with that descriptor set and <em class="parameter"><code>binding</code></em> and the
corresponding <em class="parameter"><code>stageFlags</code></em> <span class="normative">must</span> specify the appropriate
<code class="code"><a class="link" href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a></code> for that stage.</p><div class="table"><a id="interfaces-resources-limits"></a><p class="title"><strong>Table 14.4. Shader Resource Limits</strong></p><div class="table-contents"><table summary="Shader Resource Limits" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="80%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Resources per Stage                   </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Resource Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="left" valign="middle"><p><em class="parameter"><code>maxPerStageDescriptorSamplers</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>sampler</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>combined image sampler</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="left" valign="middle"><p><em class="parameter"><code>maxPerStageDescriptorSampledImages</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>sampled image</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>combined image sampler</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>uniform texel buffer</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="left" valign="middle"><p><em class="parameter"><code>maxPerStageDescriptorStorageImages</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage image</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage texel buffer</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="left" valign="middle"><p><em class="parameter"><code>maxPerStageDescriptorUniformBuffers</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>uniform buffer</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>uniform buffer dynamic</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="left" valign="middle"><p><em class="parameter"><code>maxPerStageDescriptorStorageBuffers</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage buffer</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>storage buffer dynamic</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageDescriptorInputAttachments</code></em></p></td><td style="" align="left" valign="top"><p>input attachment<sup>1</sup></p></td></tr></tbody></table></div></div><br class="table-break" /><div class="variablelist"><dl class="variablelist"><dt><span class="term">
1
</span></dt><dd>
    Input attachments <span class="normative">can</span> only be used in the fragment shader stage
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="interfaces-resources-layout"></a>14.5.4. Offset and Stride Assignment</h3></div></div></div><p>All variables with a storage class of <span class="strong"><strong><code class="code">PushConstant</code></strong></span> or <span class="strong"><strong><code class="code">Uniform</code></strong></span>
<span class="normative">must</span> be explicitly laid out using the <span class="strong"><strong><code class="code">Offset</code></strong></span>, <span class="strong"><strong><code class="code">ArrayStride</code></strong></span>, and
<span class="strong"><strong><code class="code">MatrixStride</code></strong></span> decorations.
There are two different layouts requirements depending on the specific
resources.</p><p><a id="interfaces-resources-layout-std140"></a><span class="strong"><strong>Standard Uniform Buffer Layout</strong></span></p><p>Member variables of an <span class="strong"><strong><code class="code">OpTypeStruct</code></strong></span> with storage class of <span class="strong"><strong><code class="code">Uniform</code></strong></span>
and a decoration of <span class="strong"><strong><code class="code">Block</code></strong></span> (uniform buffers) <span class="normative">must</span> be laid out according
to the following rules.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
The <span class="strong"><strong><code class="code">Offset</code></strong></span> Decoration <span class="normative">must</span> be a multiple of its base alignment,
    computed recursively as follows:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
a scalar of size <span class="inlinemediaobject"><span class="phrase">
$N$
</span></span> has a base alignment of
     <span class="inlinemediaobject"><span class="phrase">
$N$
</span></span>
</li><li class="listitem">
a two-component vector, with components of size <span class="inlinemediaobject"><span class="phrase">
$N$
</span></span>, has a
     base alignment of <span class="inlinemediaobject"><span class="phrase">
$2N$
</span></span>
</li><li class="listitem">
a three- or four-component vector, with components of size
     <span class="inlinemediaobject"><span class="phrase">
$N$
</span></span>, has a base alignment of <span class="inlinemediaobject"><span class="phrase">
$4N$
</span></span>
</li><li class="listitem">
an array has a base alignment equal to the base alignment of its
     element type, rounded up to a multiple of <span class="inlinemediaobject"><span class="phrase">
$16$
</span></span>
</li><li class="listitem">
a structure has a base alignment equal to the largest base alignment of
     any of its members, rounded up to a multiple of <span class="inlinemediaobject"><span class="phrase">
$16$
</span></span>
</li><li class="listitem">
a row-major matrix of <span class="inlinemediaobject"><span class="phrase">
$C$
</span></span> columns has a base alignment
     equal to the base alignment of vector of <span class="inlinemediaobject"><span class="phrase">
$C$
</span></span> matrix
     components
</li><li class="listitem">
a column-major matrix has a base alignment equal to the base alignment
     of the matrix column type
</li></ul></div></li><li class="listitem">
Any <span class="strong"><strong><code class="code">ArrayStride</code></strong></span> or <span class="strong"><strong><code class="code">MatrixStride</code></strong></span> decoration <span class="normative">must</span> be an integer
    multiple of the base alignment of the array or matrix from above.
</li><li class="listitem">
The <span class="strong"><strong><code class="code">Offset</code></strong></span> Decoration of a member <span class="normative">must</span> not place it between the
    end of a structure or an array and the next multiple of the base
    alignment of that structure or array.
</li><li class="listitem">
The numeric order of <span class="strong"><strong><code class="code">Offset</code></strong></span> Decorations need not follow member
    declaration order.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The <span class="strong"><strong>std140 layout</strong></span> in GLSL satisfies these rules.</p></td></tr></table></div><p><a id="interfaces-resources-layout-std430"></a><span class="strong"><strong>Standard Storage Buffer Layout</strong></span></p><p>Member variables of an <span class="strong"><strong><code class="code">OpTypeStruct</code></strong></span> with a storage class of
<span class="strong"><strong><code class="code">PushConstant</code></strong></span> (push constants), or a storage class of <span class="strong"><strong><code class="code">Uniform</code></strong></span> with
a decoration of <span class="strong"><strong><code class="code">BufferBlock</code></strong></span> (storage buffers) <span class="normative">must</span> be laid out as
<a class="link" href="#interfaces-resources-layout-std140">above</a>, except for array and structure
base alignment which do not need to be rounded up to a multiple of
<span class="inlinemediaobject"><span class="phrase">
$16$
</span></span>.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The <span class="strong"><strong>std430 layout</strong></span> in GLSL satisfies these rules.</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="interfaces-builtin-variables"></a>14.6. Built-In Variables</h2></div></div></div><p>Built-in variables are accessed in shaders by declaring a variable decorated
with a <span class="strong"><strong><code class="code">BuiltIn</code></strong></span> decoration.
The meaning of each <span class="strong"><strong><code class="code">BuiltIn</code></strong></span> decoration is as follows.
In the remainder of this section, the name of a built-in is used
interchangeably with a term equivalent to a variable decorated with that
particular built-in.
Built-ins that represent integer values <span class="normative">can</span> be declared as either signed or
unsigned 32-bit integers.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong><code class="code">ClipDistance</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> built-in decoration will
make that variable contain the mechanism for controlling user clipping.
<span class="strong"><strong><code class="code">ClipDistance</code></strong></span> is an array such that the i<sup>th</sup> element of the array
specifies the clip distance for plane i.
A clip distance of 0 means the vertex is on the plane, a positive distance
means the vertex is inside the clip half-space, and a negative distance
means the point is outside the clip half-space.
</p><p class="simpara">The <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> decoration <span class="normative">must</span> be used only within vertex, fragment,
tessellation control, tessellation evaluation, and geometry shaders.</p><p class="simpara">In vertex shaders, any variable decorated with <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> <span class="normative">must</span> be
declared using the output storage class.</p><p class="simpara">In fragment shaders, any variable decorated with <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> <span class="normative">must</span> be
declared using the input storage class.</p><p class="simpara">In tessellation control, tessellation evaluation, or geometry shaders, any
variable decorated with <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> <span class="normative">must</span> not be in a storage class
other than input or output.</p><p class="simpara">Any variable decorated with <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> <span class="normative">must</span> be declared as an array
of 32-bit floating-point values.</p></dd></dl></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The array variable decorated with <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> is explicitly sized by
the shader.</p></td></tr></table></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>In the last vertex processing stage, these values will be linearly
interpolated across the primitive and the portion of the primitive with
interpolated distances less than 0 will be considered outside the clip
volume.
If <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> is then used by a fragment shader, <span class="strong"><strong><code class="code">ClipDistance</code></strong></span>
contains these linearly interpolated values.</p></td></tr></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong><code class="code">CullDistance</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">CullDistance</code></strong></span> built-in decoration will
make that variable contain the mechanism for controlling user culling.
If any member of this array is assigned a negative value for all vertices
belonging to a primitive, then the primitive is discarded before
rasterization.
</p><p class="simpara">The <span class="strong"><strong><code class="code">CullDistance</code></strong></span> decoration <span class="normative">must</span> be used only within vertex, fragment,
tessellation control, tessellation evaluation, and geometry shaders.</p><p class="simpara">In vertex shaders, any variable decorated with <span class="strong"><strong><code class="code">CullDistance</code></strong></span> <span class="normative">must</span> be
declared using the output storage class.</p><p class="simpara">In fragment shaders, any variable decorated with <span class="strong"><strong><code class="code">CullDistance</code></strong></span> <span class="normative">must</span> be
declared using the input storage class.</p><p class="simpara">In tessellation control, tessellation evaluation, or geometry shaders, any
variable decorated with <span class="strong"><strong><code class="code">CullDistance</code></strong></span> <span class="normative">must</span> not be declared in a storage
class other than input or output.</p><p class="simpara">Any variable decorated with <span class="strong"><strong><code class="code">CullDistance</code></strong></span> <span class="normative">must</span> be declared as an array
of 32-bit floating-point values.</p></dd></dl></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>In fragment shaders, the values of the <span class="strong"><strong><code class="code">CullDistance</code></strong></span> array are linearly
interpolated across each primitive.</p></td></tr></table></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If <span class="strong"><strong><code class="code">CullDistance</code></strong></span> decorates an input variable, that variable will contain
the corresponding value from the <span class="strong"><strong><code class="code">CullDistance</code></strong></span> decorated output variable
from the previous shader stage.</p></td></tr></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong><code class="code">FragCoord</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">FragCoord</code></strong></span> built-in decoration will make
that variable contain the framebuffer coordinate
<span class="inlinemediaobject"><span class="phrase">
$(x,y,z,\frac{1}{w})$
</span></span> of the fragment being processed.
The <span class="inlinemediaobject"><span class="phrase">
$(x,y)$
</span></span> coordinate <span class="inlinemediaobject"><span class="phrase">
$(0,0)$
</span></span> is the upper left
corner of the upper left pixel in the framebuffer.
</p><p class="simpara">When sample shading is enabled, the <span class="inlinemediaobject"><span class="phrase">
$x$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$y$
</span></span>
components of <span class="strong"><strong><code class="code">FragCoord</code></strong></span> reflect the location of the sample
corresponding to the shader invocation.</p><p class="simpara">When sample shading is not enabled, the x and y components of <span class="strong"><strong><code class="code">FragCoord</code></strong></span>
reflect the location of the center of the pixel, <span class="inlinemediaobject"><span class="phrase">
$(0.5,0.5)$
</span></span>.</p><p class="simpara">The <span class="inlinemediaobject"><span class="phrase">
$z$
</span></span> component of <span class="strong"><strong><code class="code">FragCoord</code></strong></span> is the interpolated depth
value of the primitive.</p><p class="simpara">The <span class="inlinemediaobject"><span class="phrase">
$w$
</span></span> component is the interpolated <span class="inlinemediaobject"><span class="phrase">
$\frac{1}{w}$
</span></span>.</p><p class="simpara">The <span class="strong"><strong><code class="code">FragCoord</code></strong></span> decoration <span class="normative">must</span> be used only within fragment shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">FragCoord</code></strong></span> <span class="normative">must</span> be declared using the input
storage class.</p><p class="simpara">The <span class="strong"><strong><code class="code">Centroid</code></strong></span> interpolation decoration is ignored on <span class="strong"><strong><code class="code">FragCoord</code></strong></span>.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">FragCoord</code></strong></span> <span class="normative">must</span> be declared as a
four-component vector of 32-bit floating-point values.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">FragDepth</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">FragDepth</code></strong></span> built-in decoration will make
that variable contain the new depth value for all samples covered by the
fragment.
This value will be used for depth testing and, if the depth test passes, any
subsequent write to the depth/stencil attachment.
</p><p class="simpara">To write to <span class="strong"><strong><code class="code">FragDepth</code></strong></span>, a shader <span class="normative">must</span> declare the <span class="strong"><strong><code class="code">DepthReplacing</code></strong></span>
execution mode.
If a shader declares the <span class="strong"><strong><code class="code">DepthReplacing</code></strong></span> execution mode and there is an
execution path through the shader that does not set <span class="strong"><strong><code class="code">FragDepth</code></strong></span>, then the
fragment’s depth value is undefined for executions of the shader that take
that path.</p><p class="simpara">The <span class="strong"><strong><code class="code">FragDepth</code></strong></span> decoration <span class="normative">must</span> be used only within fragment shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">FragDepth</code></strong></span> <span class="normative">must</span> be declared using the
output storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">FragDepth</code></strong></span> <span class="normative">must</span> be declared as a scalar
32-bit floating-point value.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">FrontFacing</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">FrontFacing</code></strong></span> built-in decoration will
make that variable contain whether a primitive is front or back facing.
This variable is non-zero if the current fragment is considered to be part
of a <a class="link" href="#primsrast-polygons-basic" title="24.7.1. Basic Polygon Rasterization">front-facing</a> primitive and is zero if the
fragment is considered to be part of a back-facing primitive.
</p><p class="simpara">The <span class="strong"><strong><code class="code">FrontFacing</code></strong></span> decoration <span class="normative">must</span> be used only within fragment shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">FrontFacing</code></strong></span> <span class="normative">must</span> be declared using the
input storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">FrontFacing</code></strong></span> <span class="normative">must</span> be declared as a boolean.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">GlobalInvocationId</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">GlobalInvocationId</code></strong></span> built-in decoration
will make that variable contain the location of the current invocation
within the global workgroup.
Each component is equal to the index of the local workgroup multiplied by
the size of the local workgroup plus <span class="strong"><strong><code class="code">LocalInvocationId</code></strong></span>.
</p><p class="simpara">The <span class="strong"><strong><code class="code">GlobalInvocationId</code></strong></span> decoration <span class="normative">must</span> be used only within compute
shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">GlobalInvocationId</code></strong></span> <span class="normative">must</span> be declared using
the input storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">GlobalInvocationId</code></strong></span> <span class="normative">must</span> be declared as a
three-component vector of 32-bit integers.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">HelperInvocation</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">HelperInvocation</code></strong></span> built-in decoration
will make that variable contain whether the current invocation is a helper
invocation.
This variable is non-zero if the current fragment being shaded is a helper
invocation and zero otherwise.
A helper invocation is an invocation of the shader that is produced to
satisfy internal requirements such as the generation of derivatives.
</p><p class="simpara">The <span class="strong"><strong><code class="code">HelperInvocation</code></strong></span> decoration <span class="normative">must</span> be used only within fragment
shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">HelperInvocation</code></strong></span> <span class="normative">must</span> be declared using
the input storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">HelperInvocation</code></strong></span> <span class="normative">must</span> be declared as a
boolean.</p></dd></dl></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>It is very likely that a helper invocation will have a value of
<span class="strong"><strong><code class="code">SampleMask</code></strong></span> fragment shader input value that is zero.</p></td></tr></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong><code class="code">InvocationId</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">InvocationId</code></strong></span> built-in decoration will
make that variable contain the index of the current shader invocation in a
geometry shader, or the index of the output patch vertex in a tessellation
control shader.
</p><p class="simpara">In a geometry shader, the index of the current shader invocation ranges from
zero to the number of <a class="link" href="#geometry-invocations" title="22.3. Multiple Invocations of Geometry Shaders">instances</a> declared in the
shader minus one.
If the instance count of the geometry shader is one or is not specified,
then <span class="strong"><strong><code class="code">InvocationId</code></strong></span> will be zero.</p><p class="simpara">The <span class="strong"><strong><code class="code">InvocationId</code></strong></span> decoration <span class="normative">must</span> be used only within tessellation
control and geometry shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">InvocationId</code></strong></span> <span class="normative">must</span> be declared using the
input storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">InvocationId</code></strong></span> <span class="normative">must</span> be declared as a scalar
32-bit integer.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">InstanceIndex</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">InstanceIndex</code></strong></span> built-in decoration will
make that variable contain the index of the instance that is being processed
by the current vertex shader invocation.
<span class="strong"><strong><code class="code">InstanceIndex</code></strong></span> begins at the <em class="parameter"><code>firstInstance</code></em> parameter to
<code class="code"><a class="link" href="#vkCmdDraw">vkCmdDraw</a></code> or <code class="code"><a class="link" href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code> or at the <em class="parameter"><code>firstInstance</code></em>
member of a structure consumed by <code class="code"><a class="link" href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code> or
<code class="code"><a class="link" href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>.
</p><p class="simpara">The <span class="strong"><strong><code class="code">InstanceIndex</code></strong></span> decoration <span class="normative">must</span> be used only within vertex shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">InstanceIndex</code></strong></span> <span class="normative">must</span> be declared using the
input storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">InstanceIndex</code></strong></span> <span class="normative">must</span> be declared as a scalar
32-bit integer.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">Layer</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">Layer</code></strong></span> built-in decoration will make that
variable contain the select layer of a multi-layer framebuffer attachment.
</p><p class="simpara">In a geometry shader, any variable decorated with <span class="strong"><strong><code class="code">Layer</code></strong></span> can be written
with the framebuffer layer index to which the primitive produced by the
geometry shader will be directed.
If a geometry shader entry point’s interface does not include a variable
decorated with <span class="strong"><strong><code class="code">Layer</code></strong></span>, then the first layer is used.
If a geometry shader entry point’s interface includes a variable decorated
with <span class="strong"><strong><code class="code">Layer</code></strong></span>, it <span class="normative">must</span> write the same value to <span class="strong"><strong><code class="code">Layer</code></strong></span> for all output
vertices of a given primitive.</p><p class="simpara">In a fragment shader, a variable decorated with <span class="strong"><strong><code class="code">Layer</code></strong></span> contains the
layer index of the primitive that the fragment invocation belongs to.</p><p class="simpara">The <span class="strong"><strong><code class="code">Layer</code></strong></span> decoration <span class="normative">must</span> be used only within geometry and fragment
shaders.</p><p class="simpara">In a geometry shader, any variable decorated with <span class="strong"><strong><code class="code">Layer</code></strong></span> <span class="normative">must</span> be
declared using the output storage class.</p><p class="simpara">In a fragment shader, any variable decorated with <span class="strong"><strong><code class="code">Layer</code></strong></span> <span class="normative">must</span> be
declared using the input storage class.</p><p class="simpara">Any variable decorated with <span class="strong"><strong><code class="code">Layer</code></strong></span> <span class="normative">must</span> be declared as a scalar 32-bit
integer.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">LocalInvocationId</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">LocalInvocationId</code></strong></span> built-in decoration
will make that variable contain the location of the current compute shader
invocation within the local workgroup.
Each component ranges from zero through to the size of the workgroup in that
dimension minus one.
</p><p class="simpara">The <span class="strong"><strong><code class="code">LocalInvocationId</code></strong></span> decoration <span class="normative">must</span> be used only within compute
shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">LocalInvocationId</code></strong></span> <span class="normative">must</span> be declared using
the input storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">LocalInvocationId</code></strong></span> <span class="normative">must</span> be declared as a
three-component vector of 32-bit integers.</p></dd></dl></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If the size of the workgroup in a particular dimension is one, then the
<span class="strong"><strong><code class="code">LocalInvocationId</code></strong></span> in that dimension will be zero.
If the workgroup is effectively two-dimensional, then
<span class="strong"><strong><code class="code">LocalInvocationId</code></strong></span>.z will be zero.
If the workgroup is effectively one-dimensional, then both
<span class="strong"><strong><code class="code">LocalInvocationId</code></strong></span>.y and <span class="strong"><strong><code class="code">LocalInvocationId</code></strong></span>.z will be zero.</p></td></tr></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong><code class="code">NumWorkgroups</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">NumWorkgroups</code></strong></span> built-in decoration will
make that variable contain the number of local workgroups that are part of
the dispatch that the invocation belongs to.
Each component is equal to the values of the parameters passed into
<code class="code"><a class="link" href="#vkCmdDispatch">vkCmdDispatch</a></code> or read from the <code class="code">VkDispatchIndirectCommand</code>
structure read through a call to <code class="code"><a class="link" href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>.
</p><p class="simpara">The <span class="strong"><strong><code class="code">NumWorkgroups</code></strong></span> decoration <span class="normative">must</span> be used only within compute shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">NumWorkgroups</code></strong></span> <span class="normative">must</span> be declared using the
input storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">NumWorkgroups</code></strong></span> <span class="normative">must</span> be declared as a
three-component vector of 32-bit integers.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">PatchVertices</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">PatchVertices</code></strong></span> built-in decoration will
make that variable contain the number of vertices in the input patch being
processed by the shader.
A single tessellation control or tessellation evaluation shader <span class="normative">can</span> read
patches of differing sizes, so the value of the <span class="strong"><strong><code class="code">PatchVertices</code></strong></span> variable
<span class="normative">may</span> differ between patches.
</p><p class="simpara">The <span class="strong"><strong><code class="code">PatchVertices</code></strong></span> decoration <span class="normative">must</span> be used only within tessellation
control and tessellation evaluation shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">PatchVertices</code></strong></span> <span class="normative">must</span> be declared using the
input storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">PatchVertices</code></strong></span> <span class="normative">must</span> be declared as scalar
32-bit integer.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">PointCoord</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">PointCoord</code></strong></span> built-in decoration will make
that variable contain the coordinate of the current fragment within the
point being rasterized, normalized to the size of the point with origin in
the upper left corner of the point, as described in
<a class="link" href="#primsrast-points-basic" title="24.5.1. Basic Point Rasterization">Basic Point Rasterization</a>.
If the primitive the fragment shader invocation belongs to is not a point,
then the variable decorated with <span class="strong"><strong><code class="code">PointCoord</code></strong></span> contains an undefined
value.
</p><p class="simpara">The <span class="strong"><strong><code class="code">PointCoord</code></strong></span> decoration <span class="normative">must</span> be used only within fragment shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">PointCoord</code></strong></span> <span class="normative">must</span> be declared using the
input storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">PointCoord</code></strong></span> <span class="normative">must</span> be declared as
two-component vector of 32-bit floating-point values.</p></dd></dl></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Depending on how the point is rasterized, <span class="strong"><strong><code class="code">PointCoord</code></strong></span> <span class="normative">may</span> never reach
<span class="inlinemediaobject"><span class="phrase">
$(0,0)$
</span></span> or <span class="inlinemediaobject"><span class="phrase">
$(1,1)$
</span></span>.</p></td></tr></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong><code class="code">PointSize</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">PointSize</code></strong></span> built-in decoration will make
that variable contain the size of point primitives.
The value written to the variable decorated with <span class="strong"><strong><code class="code">PointSize</code></strong></span> by the last
vertex processing stage in the pipeline is used as the framebuffer-space
size of points produced by rasterization.
</p><p class="simpara">The <span class="strong"><strong><code class="code">PointSize</code></strong></span> decoration <span class="normative">must</span> be used only within vertex, tessellation
control, tessellation evaluation, and geometry shaders.</p><p class="simpara">In a vertex shader, any variable decorated with <span class="strong"><strong><code class="code">PointSize</code></strong></span> <span class="normative">must</span> be
declared using the output storage class.</p><p class="simpara">In a tessellation control, tessellation evaluation, or geometry shader, any
variable decorated with <span class="strong"><strong><code class="code">PointSize</code></strong></span> <span class="normative">must</span> be declared using either the
input or output storage class.</p><p class="simpara">Any variable decorated with <span class="strong"><strong><code class="code">PointSize</code></strong></span> <span class="normative">must</span> be declared as a scalar
32-bit floating-point value.</p></dd></dl></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>When <span class="strong"><strong><code class="code">PointSize</code></strong></span> decorates a variable in the input storage class, it
contains the data written to the output variable decorated with
<span class="strong"><strong><code class="code">PointSize</code></strong></span> from the previous shader stage.</p></td></tr></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong><code class="code">Position</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">Position</code></strong></span> built-in decoration will make
that variable contain the position of the current vertex.
In the last vertex processing stage, the value of the variable decorated
with <span class="strong"><strong><code class="code">Position</code></strong></span> is used in subsequent primitive assembly, clipping, and
rasterization operations.
</p><p class="simpara">The <span class="strong"><strong><code class="code">Position</code></strong></span> decoration <span class="normative">must</span> be used only within vertex, tessellation
control, tessellation evaluation, and geometry shaders.</p><p class="simpara">In a vertex shader, any variable decorated with <span class="strong"><strong><code class="code">Position</code></strong></span> <span class="normative">must</span> be
declared using the output storage class.</p><p class="simpara">In a tessellation control, tessellation evaluation, or geometry shader, any
variable decorated with <span class="strong"><strong><code class="code">Position</code></strong></span> <span class="normative">must</span> not be declared in a storage
class other than input or output.</p><p class="simpara">Any variable decorated with <span class="strong"><strong><code class="code">Position</code></strong></span> <span class="normative">must</span> be declared as a
four-component vector of 32-bit floating-point values.</p></dd></dl></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>When <span class="strong"><strong><code class="code">Position</code></strong></span> decorates a variable in the input storage class, it
contains the data written to the output variable decorated with
<span class="strong"><strong><code class="code">Position</code></strong></span> from the previous shader stage.</p></td></tr></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong><code class="code">PrimitiveId</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">PrimitiveId</code></strong></span> built-in decoration will
make that variable contain the index of the current primitive.
</p><p class="simpara">In tessellation control and tessellation evaluation shaders, it will contain
the index of the patch within the current set of rendering primitives that
correspond to the shader invocation.</p><p class="simpara">In a geometry shader, it will contain the number of primitives presented as
input to the shader since the current set of rendering primitives was
started.</p><p class="simpara">In a fragment shader, it will contain the primitive index written by the
geometry shader if a geometry shader is present, or with the value that
would have been presented as input to the geometry shader had it been
present.</p><p class="simpara">If a geometry shader is present and the fragment shader reads from an input
variable decorated with <span class="strong"><strong><code class="code">PrimitiveId</code></strong></span>, then the geometry shader <span class="normative">must</span>
write to an output variable decorated with <span class="strong"><strong><code class="code">PrimitiveId</code></strong></span> in all execution
paths.</p><p class="simpara">The <span class="strong"><strong><code class="code">PrimitiveId</code></strong></span> decoration <span class="normative">must</span> be used only within fragment,
tessellation control, tessellation evaluation, and geometry shaders.</p><p class="simpara">In a fragment, tessellation control or tessellation evaluation shader, any
variable decorated with <span class="strong"><strong><code class="code">PrimitiveId</code></strong></span> <span class="normative">must</span> be declared using the output
storage class.</p><p class="simpara">In a geometry shader, any variable decorated with <span class="strong"><strong><code class="code">PrimitiveId</code></strong></span> <span class="normative">must</span> be
declared using either the input or output storage class.</p><p class="simpara">Any variable decorated with <span class="strong"><strong><code class="code">PrimitiveId</code></strong></span> <span class="normative">must</span> be declared as scalar
32-bit integer.</p></dd></dl></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>When the <span class="strong"><strong><code class="code">PrimitiveId</code></strong></span> decoration is applied to an output variable in the
geometry shader, the resulting value is seen through the <span class="strong"><strong><code class="code">PrimitiveId</code></strong></span>
decorated input variable in the fragment shader.</p></td></tr></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong><code class="code">SampleId</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">SampleId</code></strong></span> built-in decoration will make
that variable contain the zero-based index of the sample the invocation
corresponds to.
<span class="strong"><strong><code class="code">SampleId</code></strong></span> ranges from zero to the number of samples in the framebuffer
minus one.
If a fragment shader entry point’s interface includes an input variable
decorated with <span class="strong"><strong><code class="code">SampleId</code></strong></span>, per-sample shading is enabled for draws that
use that fragment shader.
</p><p class="simpara">The <span class="strong"><strong><code class="code">SampleId</code></strong></span> decoration <span class="normative">must</span> be used only within fragment shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">SampleId</code></strong></span> <span class="normative">must</span> be declared using the input
storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">SampleId</code></strong></span> <span class="normative">must</span> be declared as a scalar
32-bit integer.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">SampleMask</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">SampleMask</code></strong></span> built-in decoration will make
any variable contain the sample coverage mask for the current fragment
shader invocation.
</p><p class="simpara">A variable in the input storage class decorated with <span class="strong"><strong><code class="code">SampleMask</code></strong></span> will
contain a bitmask of the set of samples covered by the primitive generating
the fragment during rasterization.
It has a sample bit set if and only if the sample is considered covered for
this fragment shader invocation.
<span class="strong"><strong><code class="code">SampleMask</code></strong></span>[] is an array of integers.
Bits are mapped to samples in a manner where bit B of mask M
(<code class="literal">SampleMask[M]</code>) corresponds to sample <span class="inlinemediaobject"><span class="phrase">
$32 \times M + B$
</span></span>.</p><p class="simpara">When state specifies multiple fragment shader invocations for a given
fragment, the sample mask for any single fragment shader invocation
specifies the subset of the covered samples for the fragment that correspond
to the invocation.
In this case, the bit corresponding to each covered sample will be set in
exactly one fragment shader invocation.</p><p class="simpara">A variable in the output storage class decorated with <span class="strong"><strong><code class="code">SampleMask</code></strong></span> is an
array of integers forming a bit array in a manner similar an input variable
decorated with <span class="strong"><strong><code class="code">SampleMask</code></strong></span>, but where each bit represents coverage as
computed by the shader.
Modifying the sample mask by writing zero to a bit of <span class="strong"><strong><code class="code">SampleMask</code></strong></span> causes
the sample to be considered uncovered.
However, setting sample mask bits to one will never enable samples not
covered by the original primitive.
If the fragment shader is being evaluated at any frequency other than
per-fragment, bits of the sample mask not corresponding to the current
fragment shader invocation are ignored.
This array <span class="normative">must</span> be sized in the fragment shader either implicitly or
explicitly, to be no larger than the implementation-dependent maximum
sample-mask (as an array of 32-bit elements), determined by the maximum
number of samples.
If a fragment shader entry point’s interface includes an output variable
decorated with <span class="strong"><strong><code class="code">SampleMask</code></strong></span>, the sample mask will be undefined for any
array elements of any fragment shader invocations that fail to assign a
value.
If a fragment shader entry point’s interface does not include an output
variable decorated with <span class="strong"><strong><code class="code">SampleMask</code></strong></span>, the sample mask has no effect on
the processing of a fragment.</p><p class="simpara">The <span class="strong"><strong><code class="code">SampleMask</code></strong></span> decoration <span class="normative">must</span> be used only within fragment shaders.</p><p class="simpara">Any variable decorated with <span class="strong"><strong><code class="code">SampleMask</code></strong></span> <span class="normative">must</span> be declared using either
the input or output storage class.</p><p class="simpara">Any variable decorated with <span class="strong"><strong><code class="code">SampleMask</code></strong></span> <span class="normative">must</span> be declared as an array of
32-bit integers.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">SamplePosition</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">SamplePosition</code></strong></span> built-in decoration will
make that variable contain the sub-pixel position of the sample being
shaded.
The top left of the pixel is considered to be at coordinate
<span class="inlinemediaobject"><span class="phrase">
$(0,0)$
</span></span> and the bottom right of the pixel is considered to be at
coordinate <span class="inlinemediaobject"><span class="phrase">
$(1,1)$
</span></span>.
If a fragment shader entry point’s interface includes an input variable
decorated with <span class="strong"><strong><code class="code">SamplePosition</code></strong></span>, per-sample shading is enabled for draws
that use that fragment shader.
</p><p class="simpara">The <span class="strong"><strong><code class="code">SamplePosition</code></strong></span> decoration <span class="normative">must</span> be used only within fragment
shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">SamplePosition</code></strong></span> <span class="normative">must</span> be declared using the
input storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">SamplePosition</code></strong></span> <span class="normative">must</span> be declared as a
two-component vector of 32-bit floating-point values.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">TessCoord</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">TessCoord</code></strong></span> built-in decoration will make
that variable contain the three-dimensional <span class="inlinemediaobject"><span class="phrase">
$(u,v,w)$
</span></span>
barycentric coordinate of the tessellated vertex within the patch.
<span class="inlinemediaobject"><span class="phrase">
$u$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$v$
</span></span>, and <span class="inlinemediaobject"><span class="phrase">
$w$
</span></span> are in the range
<span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span> and vary linearly across the primitive being
subdivided.
For the tessellation modes of <span class="strong"><strong><code class="code">Quads</code></strong></span> or <span class="strong"><strong><code class="code">IsoLines</code></strong></span>, the third
component is always zero.
</p><p class="simpara">The <span class="strong"><strong><code class="code">TessCoord</code></strong></span> decoration <span class="normative">must</span> be used only within tessellation
evaluation shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">TessCoord</code></strong></span> <span class="normative">must</span> be declared using the input
storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">TessCoord</code></strong></span> <span class="normative">must</span> be declared as
three-component vector of 32-bit floating-point values.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">TessLevelOuter</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">TessLevelOuter</code></strong></span> built-in decoration will
make that variable contain the outer tessellation levels for the current
patch.
</p><p class="simpara">In tessellation control shaders, the variable decorated with
<span class="strong"><strong><code class="code">TessLevelOuter</code></strong></span> <span class="normative">can</span> be written to which controls the tessellation
factors for the resulting patch.
These values are used by the tessellator to control primitive tessellation
and <span class="normative">can</span> be read by tessellation evaluation shaders.</p><p class="simpara">In tessellation evaluation shaders, the variable decorated with
<span class="strong"><strong><code class="code">TessLevelOuter</code></strong></span> <span class="normative">can</span> read the values written by the tessellation control
shader.</p><p class="simpara">The <span class="strong"><strong><code class="code">TessLevelOuter</code></strong></span> decoration <span class="normative">must</span> be used only within tessellation
control and tessellation evaluation shaders.</p><p class="simpara">In a tessellation control shader, any variable decorated with
<span class="strong"><strong><code class="code">TessLevelOuter</code></strong></span> <span class="normative">must</span> be declared using the output storage class.</p><p class="simpara">In a tessellation evaluation shader, any variable decorated with
<span class="strong"><strong><code class="code">TessLevelOuter</code></strong></span> <span class="normative">must</span> be declared using the input storage class.</p><p class="simpara">Any variable decorated with <span class="strong"><strong><code class="code">TessLevelOuter</code></strong></span> <span class="normative">must</span> be declared as an
array of size four, containing 32-bit floating-point values.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">TessLevelInner</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">TessLevelInner</code></strong></span> built-in decoration will
make that variable contain the inner tessellation levels for the current
patch.
</p><p class="simpara">In tessellation control shaders, the variable decorated with
<span class="strong"><strong><code class="code">TessLevelInner</code></strong></span> <span class="normative">can</span> be written to, which controls the tessellation
factors for the resulting patch.
These values are used by the tessellator to control primitive tessellation
and <span class="normative">can</span> be read by tessellation evaluation shaders.</p><p class="simpara">In tessellation evaluation shaders, the variable decorated with
<span class="strong"><strong><code class="code">TessLevelInner</code></strong></span> <span class="normative">can</span> read the values written by the tessellation control
shader.</p><p class="simpara">The <span class="strong"><strong><code class="code">TessLevelInner</code></strong></span> decoration <span class="normative">must</span> be used only within tessellation
control and tessellation evaluation shaders.</p><p class="simpara">In a tessellation control shader, any variable decorated with
<span class="strong"><strong><code class="code">TessLevelInner</code></strong></span> <span class="normative">must</span> be declared using the output storage class.</p><p class="simpara">In a tessellation evaluation shader, any variable decorated with
<span class="strong"><strong><code class="code">TessLevelInner</code></strong></span> <span class="normative">must</span> be declared using the input storage class.</p><p class="simpara">Any variable decorated with <span class="strong"><strong><code class="code">TessLevelInner</code></strong></span> <span class="normative">must</span> be declared as an
array of size two, containing 32-bit floating-point values.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">VertexIndex</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">VertexIndex</code></strong></span> built-in decoration will
make that variable contain the index of the vertex that is being processed
by the current vertex shader invocation.
For non-indexed draws, this variable begins at the <em class="parameter"><code>firstVertex</code></em>
parameter to <code class="code"><a class="link" href="#vkCmdDraw">vkCmdDraw</a></code> or the <em class="parameter"><code>firstVertex</code></em> member of a structure
consumed by <code class="code"><a class="link" href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code> and increments by one for each vertex in
the draw.
For indexed draws, its value is the content of the index buffer for the
vertex plus the <em class="parameter"><code>vertexOffset</code></em> parameter to <code class="code"><a class="link" href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code> or
the <em class="parameter"><code>vertexOffset</code></em> member of the structure consumed by
<code class="code"><a class="link" href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>.
</p><p class="simpara">The <span class="strong"><strong><code class="code">VertexIndex</code></strong></span> decoration <span class="normative">must</span> be used only within vertex shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">VertexIndex</code></strong></span> <span class="normative">must</span> be declared using the
input storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">VertexIndex</code></strong></span> <span class="normative">must</span> be declared as a scalar
32-bit integer.</p></dd></dl></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p><span class="strong"><strong><code class="code">VertexIndex</code></strong></span> starts at the same starting value for each instance.</p></td></tr></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong><code class="code">ViewportIndex</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span> built-in decoration will
make that variable contain the index of the viewport.
</p><p class="simpara">In a geometry shader, the variable decorated with <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span> can be
written to with the viewport index to which the primitive produced by the
geometry shader will be directed.
The selected viewport index is used to select the viewport transform and
scissor rectangle.
If a geometry shader entry point’s interface does not include a variable
decorated with <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span>, then the first viewport is used.
If a geometry shader entry point’s interface includes a variable decorated
with <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span>, it <span class="normative">must</span> write the same value to <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span>
for all output vertices of a given primitive.</p><p class="simpara">In a fragment shader, the variable decorated with <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span>
contains the viewport index of the primitive that the fragment invocation
belongs to.</p><p class="simpara">The <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span> decoration <span class="normative">must</span> be used only within geometry and
fragment shaders.</p><p class="simpara">In a geometry shader, any variable decorated with <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span> <span class="normative">must</span>
be declared using the output storage class.</p><p class="simpara">In a fragment shader, any variable decorated with <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span> <span class="normative">must</span>
be declared using the input storage class.</p><p class="simpara">Any variable decorated with <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span> <span class="normative">must</span> be declared as a scalar
32-bit integer.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">WorkgroupId</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">WorkgroupId</code></strong></span> built-in decoration will
make that variable contain the global workgroup that the current invocation
is a member of.
Each component ranges from zero to the values of the parameters passed into
<code class="code"><a class="link" href="#vkCmdDispatch">vkCmdDispatch</a></code> or read from the <code class="code">VkDispatchIndirectCommand</code>
structure read through a call to <code class="code"><a class="link" href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>.
</p><p class="simpara">The <span class="strong"><strong><code class="code">WorkgroupId</code></strong></span> decoration <span class="normative">must</span> be used only within compute shaders.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">WorkgroupId</code></strong></span> <span class="normative">must</span> be declared using the
input storage class.</p><p class="simpara">The variable decorated with <span class="strong"><strong><code class="code">WorkgroupId</code></strong></span> <span class="normative">must</span> be declared as a
three-component vector of 32-bit integers.</p></dd><dt><span class="term">
<span class="strong"><strong><code class="code">WorkgroupSize</code></strong></span>
</span></dt><dd><p class="simpara">
Decorating a variable with the <span class="strong"><strong><code class="code">WorkgroupSize</code></strong></span> built-in decoration will
make that variable contain the dimensions of a local workgroup.
If an object is decorated with the <span class="strong"><strong><code class="code">WorkgroupSize</code></strong></span> decoration, this <span class="normative">must</span>
take precedence over any execution mode set for <span class="strong"><strong><code class="code">LocalSize</code></strong></span>.
</p><p class="simpara">The <span class="strong"><strong><code class="code">WorkgroupSize</code></strong></span> decoration <span class="normative">must</span> be used only within compute shaders.</p><p class="simpara">The object decorated with <span class="strong"><strong><code class="code">WorkgroupSize</code></strong></span> <span class="normative">must</span> be a specialization
constant or a constant.</p><p class="simpara">The object decorated with <span class="strong"><strong><code class="code">WorkgroupSize</code></strong></span> <span class="normative">must</span> be declared as a
three-component vector of 32-bit integers.</p></dd></dl></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="textures"></a>Chapter 15. Image Operations</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_image_operations_overview"></a>15.1. Image Operations Overview</h2></div></div></div><p>Image Operations are steps performed by SPIR-V image instructions, where
those instructions which take an <span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> (representing a
<code class="code">VkImageView</code>) or <span class="strong"><strong><code class="code">OpTypeSampledImage</code></strong></span> (representing a
(<code class="code">VkImageView</code>, <code class="code">VkSampler</code>) pair) and texel coordinates as
operands, and return a value based on one or more neighboring texture
elements (<span class="emphasis"><em>texels</em></span>) in the image.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Texel is a term which is a combination of the words texture and element.
Early interactive computer graphics supported texture operations on
textures, a small subset of the image operations on images described here.
The discrete samples remain essentially equivalent, however, so we retain
the historical term texel to refer to them.</p></td></tr></table></div><p>SPIR-V Image Instructions include the following functionality:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
<span class="strong"><strong><code class="code">OpImageSample</code></strong></span>* and <span class="strong"><strong><code class="code">OpImageSparseSample</code></strong></span>* read one or more
    neighboring texels of the image, and <a class="link" href="#textures-texel-filtering" title="15.8.3. Texel Filtering">filter</a>
    the texel values based on the state of the sampler.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Instructions with <span class="strong"><strong><code class="code">ImplicitLod</code></strong></span> in the name
     <a class="link" href="#textures-level-of-detail-operation" title="Level-of-Detail Operation">determine</a> the level of detail
     used in the sampling operation based on the coordinates used in
     neighboring fragments.
</li><li class="listitem">
Instructions with <span class="strong"><strong><code class="code">ExplicitLod</code></strong></span> in the name
     <a class="link" href="#textures-level-of-detail-operation" title="Level-of-Detail Operation">determine</a> the level of detail
     used in the sampling operation based on additional coordinates.
</li><li class="listitem">
Instructions with <span class="strong"><strong><code class="code">Proj</code></strong></span> in the name apply homogeneous
     <a class="link" href="#textures-projection" title="15.6.1. Projection Operation">projection</a> to the coordinates.
</li></ul></div></li><li class="listitem">
<span class="strong"><strong><code class="code">OpImageFetch</code></strong></span> and <span class="strong"><strong><code class="code">OpImageSparseFetch</code></strong></span> return a single texel of
    the image.
    No sampler is used.
</li><li class="listitem">
<span class="strong"><strong><code class="code">OpImage</code></strong></span>*<span class="strong"><strong><code class="code">Gather</code></strong></span> and <span class="strong"><strong><code class="code">OpImageSparse</code></strong></span>*<span class="strong"><strong><code class="code">Gather</code></strong></span> read
    neighboring texels and <a class="link" href="#textures-gather" title="15.8.2. Texel Gathering">return a single component</a> of
    each.
</li><li class="listitem">
<span class="strong"><strong><code class="code">OpImageRead</code></strong></span> (and <span class="strong"><strong><code class="code">OpImageSparseRead</code></strong></span>) and <span class="strong"><strong><code class="code">OpImageWrite</code></strong></span> read
    and write, respectively, a texel in the image.
    No sampler is used.
</li><li class="listitem">
Instructions with <span class="strong"><strong><code class="code">Dref</code></strong></span> in the name apply
    <a class="link" href="#textures-depth-compare-operation" title="15.3.4. Depth Compare Operation">depth comparison</a> on the texel
    values.
</li><li class="listitem">
Instructions with <span class="strong"><strong><code class="code">Sparse</code></strong></span> in the name additionally return a
    <a class="link" href="#textures-sparse-residency" title="15.3.7. Sparse Residency">sparse residency</a> code.
</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_texel_coordinate_systems"></a>15.1.1. Texel Coordinate Systems</h3></div></div></div><p>Images are addressed by <span class="emphasis"><em>texel coordinates</em></span>.
There are three <span class="emphasis"><em>texel coordinate systems</em></span>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
normalized texel coordinates <span class="inlinemediaobject"><span class="phrase">
$[0.0,1.0]$
</span></span>
</li><li class="listitem">
unnormalized texel coordinates <span class="inlinemediaobject"><span class="phrase">
$[0.0, width/height/depth)$
</span></span>
</li><li class="listitem">
integer texel coordinates <span class="inlinemediaobject"><span class="phrase">
$[0, width/height/depth)$
</span></span>
</li></ul></div><p>SPIR-V <span class="strong"><strong><code class="code">OpImageFetch</code></strong></span>, <span class="strong"><strong><code class="code">OpImageSparseFetch</code></strong></span>, <span class="strong"><strong><code class="code">OpImageRead</code></strong></span>,
<span class="strong"><strong><code class="code">OpImageSparseRead</code></strong></span>, and <span class="strong"><strong><code class="code">OpImageWrite</code></strong></span> instructions use integer texel
coordinates.
Other image instructions <span class="normative">can</span> use either normalized or unnormalized texel
coordinates (selected by the <em class="parameter"><code>unnormalizedCoordinates</code></em> state of the
sampler used in the instruction), but there are
<a class="link" href="#samplers-unnormalizedCoordinates">limitations</a> on what operations, image
state, and sampler state is supported.
Normalized coordinates are logically
<a class="link" href="#textures-normalized-to-unnormalized" title="15.6.8. (s,t,r,q,a) to (u,v,w,a) Transformation">converted</a> to unnormalized as part of
image operations, and <a class="link" href="#textures-normalized-operations" title="15.6. Normalized Texel Coordinate Operations">certain steps</a> are
only performed on normalized coordinates.
The array layer coordinate is always treated as unnormalized even when other
coordinates are normalized.</p><p>Normalized texel coordinates are referred to as <span class="inlinemediaobject"><span class="phrase">
$(s,t,r,q,a)$
</span></span>,
with the coordinates having the following meanings:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
s: Coordinate in the first dimension of an image.
</li><li class="listitem">
t: Coordinate in the second dimension of an image.
</li><li class="listitem"><p class="simpara">
r: Coordinate in the third dimension of an image.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
(s,t,r) are interpreted as a direction vector for Cube images.
</li></ul></div></li><li class="listitem">
q: Fourth coordinate, for homogeneous (projective) coordinates.
</li><li class="listitem">
a: Coordinate for array layer.
</li></ul></div><p>The coordinates are extracted from the SPIR-V operand based on the
dimensionality of the image variable and type of instruction.
For <span class="strong"><strong><code class="code">Proj</code></strong></span> instructions, the components are in order (s, [t,] [r,] q)
with t and r being conditionally present based on the <span class="strong"><strong><code class="code">Dim</code></strong></span> of the image.
For non-<span class="strong"><strong><code class="code">Proj</code></strong></span> instructions, the coordinates are (s [,t] [,r] [,a]), with
t and r being conditionally present based on the <span class="strong"><strong><code class="code">Dim</code></strong></span> of the image and a
being conditionally present based on the <span class="strong"><strong><code class="code">Arrayed</code></strong></span> property of the image.
Projective image instructions are not supported on <span class="strong"><strong><code class="code">Arrayed</code></strong></span> images.</p><p>Unnormalized texel coordinates are referred to as <span class="inlinemediaobject"><span class="phrase">
$(u,v,w,a)$
</span></span>,
with the coordinates having the following meanings:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
u: Coordinate in the first dimension of an image.
</li><li class="listitem">
v: Coordinate in the second dimension of an image.
</li><li class="listitem">
w: Coordinate in the third dimension of an image.
</li><li class="listitem">
a: Coordinate for array layer.
</li></ul></div><p>Only the u and v coordinates are directly extracted from the SPIR-V operand,
because only 1D and 2D (non-<span class="strong"><strong><code class="code">Arrayed</code></strong></span>) dimensionalities support
unnormalized coordinates.
The components are in order (u [,v]), with v being conditionally present
when the dimensionality is 2D.
When normalized coordinates are converted to unnormalized coordinates, all
four coordinates are used.</p><p>Integer texel coordinates are referred to as <span class="inlinemediaobject"><span class="phrase">
$(i,j,k,l,n)$
</span></span>, and
the first four in that order have the same meanings as unnormalized texel
coordinates.
They are extracted from the SPIR-V operand in order (i, [,j], [,k], [,l]),
with j and k conditionally present based on the <span class="strong"><strong><code class="code">Dim</code></strong></span> of the image, and l
conditionally present based on the <span class="strong"><strong><code class="code">Arrayed</code></strong></span> property of the image.
n is the sample index and is taken from the <span class="strong"><strong><code class="code">Sample</code></strong></span> image operand.</p><p>For all coordinate types, unused coordinates are assigned a value of zero.</p><div class="informalfigure"><a id="textures-texel-coordinate-systems-diagrams"></a><div class="mediaobject" align="left"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="80%"><tr><td align="left"><img src="images/vulkantexture0.png" align="left" width="100%" alt="images/vulkantexture0.png" /></td></tr></table></div></div><p>The Texel Coordinate Systems - For the example shown of an 8x4 texel two
dimensional image.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Normalized texel coordinates:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
The s coordinate goes from 0.0 to 1.0, left to right.
</li><li class="listitem">
The t coordinate goes from 0.0 to 1.0, top to bottom.
</li></ul></div></li><li class="listitem"><p class="simpara">
Unnormalized texel coordinates:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
The u coordinate goes from -1.0 to 9.0, left to right.
     The u coordinate within the range 0.0 to 8.0 is within the image,
     otherwise it is within the border.
</li><li class="listitem">
The v coordinate goes from -1.0 to 5.0, top to bottom.
     The v coordinate within the range 0.0 to 4.0 is within the image,
     otherwise it is within the border.
</li></ul></div></li><li class="listitem"><p class="simpara">
Integer texel coordinates:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
The i coordinate goes from -1 to 8, left to right.
     The i coordinate within the range 0 to 7 addresses texels within the
     image, otherwise it addresses a border texel.
</li><li class="listitem">
The j coordinate goes from -1 to 5, top to bottom.
     The j coordinate within the range 0 to 3 addresses texels within the
     image, otherwise it addresses a border texel.
</li></ul></div></li><li class="listitem"><p class="simpara">
Also shown for linear filtering:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Given the unnormalized coordinates (u,v), the four texels selected are
     i0j0, i1j0, i0j1 and i1j1.
</li><li class="listitem">
The weights <span class="inlinemediaobject"><span class="phrase">
$\alpha$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$\beta$
</span></span>.
</li><li class="listitem">
Given the offset <span class="inlinemediaobject"><span class="phrase">
$\Delta_{i}$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$\Delta_{j}$
</span></span>,
     the four texels selected by the offset are i0j0', i1j0', i0j1' and
     i1j1'.
</li></ul></div></li></ul></div><div class="informalfigure"><div class="mediaobject" align="left"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="80%"><tr><td align="left"><img src="images/vulkantexture1.png" align="left" width="100%" alt="images/vulkantexture1.png" /></td></tr></table></div></div><p>The Texel Coordinate Systems - For the example shown of an 8x4 texel two
dimensional image.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Texel coordinates as above.
    Also shown for nearest filtering:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Given the unnormalized coordinates (u,v), the texel selected is ij.
</li><li class="listitem">
Given the offset <span class="inlinemediaobject"><span class="phrase">
$\Delta_{i}$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$\Delta_{j}$
</span></span>,
     the texel selected by the offset is ij'.
</li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_conversion_formulas"></a>15.2. Conversion Formulas</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-RGB-sexp"></a>15.2.1. RGB to Shared Exponent Conversion</h3></div></div></div><p>An RGB color <span class="inlinemediaobject"><span class="phrase">
$(red, green, blue)$
</span></span> is transformed to a shared
exponent color <span class="inlinemediaobject"><span class="phrase">
$(red_{shared}, green_{shared}, blue_{shared},
exp_{shared})$
</span></span> as follows:</p><p>First, the components <span class="inlinemediaobject"><span class="phrase">
$(red, green, blue)$
</span></span> are clamped to
<span class="inlinemediaobject"><span class="phrase">
$(red_{clamped}, green_{clamped}, blue_{clamped})$
</span></span> as:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
red_{clamped}   &amp; = \max(0,min(sharedexp_{max},red)) \\
green_{clamped} &amp; = \max(0,min(sharedexp_{max},green)) \\
blue_{clamped}  &amp; = \max(0,min(sharedexp_{max},blue))
\end{align*}</span></div></div><p>Where:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
N               &amp; = 9  &amp; \textrm{number of mantissa bits per component} \\
B               &amp; = 15 &amp; \textrm{exponent bias} \\
E_{max}         &amp; = 31 &amp; \textrm{maximum possible biased exponent value} \\
sharedexp_{max} &amp; = \frac{(2^N-1)}{2^N} \times 2^{(E_{max}-B)}
\end{align*}</span></div></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$NaN$
</span></span>, if supported, is handled as in <a class="link" href="#ieee-754">IEEE 754-2008</a>
minNum() and maxNum().
That is the result is a <span class="inlinemediaobject"><span class="phrase">
$NaN$
</span></span> is mapped to zero.</p></td></tr></table></div><p>The largest clamped component, <span class="inlinemediaobject"><span class="phrase">
$max_{clamped}$
</span></span> is determined:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
max_{clamped} = \max(red_{clamped},green_{clamped},blue_{clamped})
\end{align*}</span></div></div><p>A preliminary shared exponent <span class="inlinemediaobject"><span class="phrase">
$exp'$
</span></span> is computed:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
exp' =
  \begin{cases}
    \left \lfloor \log_2(max_{clamped}) \right \rfloor + (B+1)
      &amp; \textrm{for } max_{clamped} &gt; 2^{-(B+1)} \\
    0
      &amp; \textrm{for } max_{clamped} \leq 2^{-(B+1)}
  \end{cases}
\end{align*}</span></div></div><p>The shared exponent <span class="inlinemediaobject"><span class="phrase">
$exp_{shared}$
</span></span> is computed:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
max_{shared} =
\left \lfloor
\frac{max_{clamped}}{2^{(exp'-B-N)}}+\frac{1}{2}
\right \rfloor
\end{align*}</span></div></div><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
exp_{shared} =
  \begin{cases}
    exp'   &amp; \textrm{for } 0 \leq max_{shared} &lt; 2^N \\
    exp'+1 &amp; \textrm{for } max_{shared} = 2^N
  \end{cases}
\end{align*}</span></div></div><p>Finally, three integer values in the range <span class="inlinemediaobject"><span class="phrase">
$0$
</span></span> to
<span class="inlinemediaobject"><span class="phrase">
$2^N$
</span></span> are computed:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
red_{shared} &amp; =
    \left \lfloor
    \frac{red_{clamped}}{2^{(exp_{shared}-B-N)}}+ \frac{1}{2}
    \right \rfloor \\
green_{shared} &amp; =
    \left \lfloor
    \frac{green_{clamped}}{2^{(exp_{shared}-B-N)}}+ \frac{1}{2}
    \right \rfloor \\
blue_{shared} &amp; =
    \left \lfloor
    \frac{blue_{clamped}}{2^{(exp_{shared}-B-N)}}+ \frac{1}{2}
    \right \rfloor
\end{align*}</span></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-sexp-RGB"></a>15.2.2. Shared Exponent to RGB</h3></div></div></div><p>A shared exponent color <span class="inlinemediaobject"><span class="phrase">
$(red_{shared}, green_{shared},
blue_{shared}, exp_{shared})$
</span></span> is transformed to an RGB color
<span class="inlinemediaobject"><span class="phrase">
$(red, green, blue)$
</span></span> as follows:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
red   &amp; = red_{shared}\times 2^{(exp_{shared}-B-N)} \\
green &amp; = green_{shared}\times 2^{(exp_{shared}-B-N)} \\
blue  &amp; = blue_{shared}\times 2^{(exp_{shared}-B-N)} \\
\end{align*}</span></div></div><p>Where:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
N               &amp; = 9  &amp; \textrm{number of mantissa bits per component} \\
B               &amp; = 15 &amp; \textrm{exponent bias}
\end{align*}</span></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_texel_input_operations"></a>15.3. Texel Input Operations</h2></div></div></div><p><span class="emphasis"><em>Texel input instructions</em></span> are SPIR-V image instructions that read from an
image.
<span class="emphasis"><em>Texel input operations</em></span> are a set of steps that are performed on state,
coordinates, and texel values while processing a texel input instruction,
and which are common to some or all texel input instructions.
They include the following steps, which are performed in the listed order:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
<a class="link" href="#textures-input-validation" title="15.3.1. Texel Input Validation Operations">Validation operations</a>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<a class="link" href="#textures-operation-validation" title="Instruction/Sampler/Image Validation">Instruction/Sampler/Image validation</a>
</li><li class="listitem">
<a class="link" href="#textures-integer-coordinate-validation" title="Integer Texel Coordinate Validation">Coordinate validation</a>
</li><li class="listitem">
<a class="link" href="#textures-sparse-validation" title="Sparse Validation">Sparse validation</a>
</li></ul></div></li><li class="listitem">
<a class="link" href="#textures-format-conversion" title="15.3.2. Format Conversion">Format conversion</a>
</li><li class="listitem">
<a class="link" href="#textures-texel-replacement" title="15.3.3. Texel Replacement">Texel replacement</a>
</li><li class="listitem">
<a class="link" href="#textures-depth-compare-operation" title="15.3.4. Depth Compare Operation">Depth comparison</a>
</li><li class="listitem">
<a class="link" href="#textures-conversion-to-rgba" title="15.3.5. Conversion to RGBA">Conversion to RGBA</a>
</li><li class="listitem">
<a class="link" href="#textures-component-swizzle" title="15.3.6. Component Swizzle">Component swizzle</a>
</li></ul></div><p>For texel input instructions involving multiple texels (for sampling or
gathering), these steps are applied for each texel that is used in the
instruction.
Depending on the type of image instruction, other steps are conditionally
performed between these steps or involving multiple coordinate or texel
values.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-input-validation"></a>15.3.1. Texel Input Validation Operations</h3></div></div></div><p><span class="emphasis"><em>Texel input validation operations</em></span> inspect instruction/image/sampler state
or coordinates, and in certain circumstances cause the texel value to be
replaced or become undefined.
There are a series of validations that the texel undergoes.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="textures-operation-validation"></a>Instruction/Sampler/Image Validation</h4></div></div></div><p>There are a number of cases where a SPIR-V instruction <span class="normative">can</span> mismatch with
the sampler, the image, or both.
There are a number of cases where the sampler <span class="normative">can</span> mismatch with the image.
In such cases the value of the texel returned is undefined.</p><p>These cases include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
The sampler <em class="parameter"><code>borderColor</code></em> is an integer type and the image
    <em class="parameter"><code>format</code></em> is not one of the <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> integer types or a stencil
    component of a depth/stencil format.
</li><li class="listitem">
The sampler <em class="parameter"><code>borderColor</code></em> is a float type and the image <em class="parameter"><code>format</code></em>
    is not one of the <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> float types or a depth component of a
    depth/stencil format.
</li><li class="listitem">
The sampler <em class="parameter"><code>borderColor</code></em> is one of the opaque black colors
    (<code class="code">VK_BORDER_COLOR_FLOAT_OPAQUE_BLACK</code> or
    <code class="code">VK_BORDER_COLOR_INT_OPAQUE_BLACK</code>) and the image
    <code class="code"><a class="link" href="#VkComponentSwizzle">VkComponentSwizzle</a></code> for any of the <code class="code"><a class="link" href="#VkComponentMapping">VkComponentMapping</a></code>
    components is not <code class="code">VK_COMPONENT_SWIZZLE_IDENTITY</code>.
</li><li class="listitem">
If the instruction is <span class="strong"><strong><code class="code">OpImageRead</code></strong></span> or <span class="strong"><strong><code class="code">OpImageSparseRead</code></strong></span> and the
    <em class="parameter"><code>shaderStorageImageReadWithoutFormat</code></em> feature is not enabled, or the
    instruction is <span class="strong"><strong><code class="code">OpImageWrite</code></strong></span> and the
    <em class="parameter"><code>shaderStorageImageWriteWithoutFormat</code></em> feature is not enabled, then
    the SPIR-V Image Format <span class="normative">must</span> be <a class="link" href="#spirvenv-image-formats" title="Compatibility Between SPIR-V Image Formats And Vulkan Formats">compatible</a>
    with the image view’s <em class="parameter"><code>format</code></em>.
</li><li class="listitem">
The sampler <em class="parameter"><code>unnormalizedCoordinates</code></em> is <code class="code">VK_TRUE</code> and any of
    the <a class="link" href="#samplers-unnormalizedCoordinates">limitations of unnormalized     coordinates</a> are violated.
</li><li class="listitem">
The SPIR-V instruction is one of the <span class="strong"><strong><code class="code">OpImage</code></strong></span>*<span class="strong"><strong><code class="code">Dref</code></strong></span>*
    instructions and the sampler <em class="parameter"><code>compareEnable</code></em> is <code class="code">VK_FALSE</code>
</li><li class="listitem">
The SPIR-V instruction is not one of the <span class="strong"><strong><code class="code">OpImage</code></strong></span>*<span class="strong"><strong><code class="code">Dref</code></strong></span>*
    instructions and the sampler <em class="parameter"><code>compareEnable</code></em> is <code class="code">VK_TRUE</code>
</li><li class="listitem">
The SPIR-V instruction is one of the <span class="strong"><strong><code class="code">OpImage</code></strong></span>*<span class="strong"><strong><code class="code">Dref</code></strong></span>*
    instructions and the image <em class="parameter"><code>format</code></em> is not one of the depth/stencil
    formats with a depth component, or the image aspect is not
    <code class="code">VK_IMAGE_ASPECT_DEPTH_BIT</code>.
</li><li class="listitem"><p class="simpara">
The SPIR-V instruction’s image variable’s properties are not compatible
    with the image view:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p class="simpara">
Rules for <em class="parameter"><code>viewType</code></em>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem">
<code class="code">VK_IMAGE_VIEW_TYPE_1D</code> <span class="normative">must</span> have <span class="strong"><strong><code class="code">Dim</code></strong></span> = 1D, <span class="strong"><strong><code class="code">Arrayed</code></strong></span> =
      0, <span class="strong"><strong><code class="code">MS</code></strong></span> = 0.
</li><li class="listitem">
<code class="code">VK_IMAGE_VIEW_TYPE_2D</code> <span class="normative">must</span> have <span class="strong"><strong><code class="code">Dim</code></strong></span> = 2D, <span class="strong"><strong><code class="code">Arrayed</code></strong></span> =
      0.
</li><li class="listitem">
<code class="code">VK_IMAGE_VIEW_TYPE_3D</code> <span class="normative">must</span> have <span class="strong"><strong><code class="code">Dim</code></strong></span> = 3D, <span class="strong"><strong><code class="code">Arrayed</code></strong></span> =
      0, <span class="strong"><strong><code class="code">MS</code></strong></span> = 0.
</li><li class="listitem">
<code class="code">VK_IMAGE_VIEW_TYPE_CUBE</code> <span class="normative">must</span> have <span class="strong"><strong><code class="code">Dim</code></strong></span> = Cube, <span class="strong"><strong><code class="code">Arrayed</code></strong></span>
      = 0, <span class="strong"><strong><code class="code">MS</code></strong></span> = 0.
</li><li class="listitem">
<code class="code">VK_IMAGE_VIEW_TYPE_1D_ARRAY</code> <span class="normative">must</span> have <span class="strong"><strong><code class="code">Dim</code></strong></span> = 1D,
      <span class="strong"><strong><code class="code">Arrayed</code></strong></span> = 1, <span class="strong"><strong><code class="code">MS</code></strong></span> = 0.
</li><li class="listitem">
<code class="code">VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> <span class="normative">must</span> have <span class="strong"><strong><code class="code">Dim</code></strong></span> = 2D,
      <span class="strong"><strong><code class="code">Arrayed</code></strong></span> = 1.
</li><li class="listitem">
<code class="code">VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code> <span class="normative">must</span> have <span class="strong"><strong><code class="code">Dim</code></strong></span> = Cube,
      <span class="strong"><strong><code class="code">Arrayed</code></strong></span> = 1, <span class="strong"><strong><code class="code">MS</code></strong></span> = 0.
</li></ul></div></li><li class="listitem">
If the image was created with <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<em class="parameter"><code>samples</code></em>
     equal to <code class="code">VK_SAMPLE_COUNT_1_BIT</code>, the instruction <span class="normative">must</span> have
     <span class="strong"><strong><code class="code">MS</code></strong></span> = 0.
</li><li class="listitem">
If the image was created with <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<em class="parameter"><code>samples</code></em>
     not equal to <code class="code">VK_SAMPLE_COUNT_1_BIT</code>, the instruction <span class="normative">must</span> have
     <span class="strong"><strong><code class="code">MS</code></strong></span> = 1.
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="textures-integer-coordinate-validation"></a>Integer Texel Coordinate Validation</h4></div></div></div><p>Integer texel coordinates are validated against the size of the image level,
and the number of layers and number of samples in the image.
For SPIR-V instructions that use integer texel coordinates, this is
performed directly on the integer coordinates.
For instructions that use normalized or unnormalized texel coordinates, this
is performed on the coordinates that result after
<a class="link" href="#textures-unnormalized-to-integer" title="15.7.1. (u,v,w,a) to (i,j,k,l,n) Transformation And Array Layer Selection">conversion</a> to integer texel
coordinates.</p><p>If the integer texel coordinates satisfy any of the conditions</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
i &amp; &lt; 0 &amp; i \geq w_{s} \\
j &amp; &lt; 0 &amp; j \geq h_{s} \\
k &amp; &lt; 0 &amp; k \geq d_{s} \\
l &amp; &lt; 0 &amp; l \geq layers \\
n &amp; &lt; 0 &amp; n \geq samples
\end{align*}</span></div></div><p>where:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
&amp; w_{s} &amp; = \textrm{width of the image level} \\
&amp; h_{s} &amp; = \textrm{height of the image level} \\
&amp; d_{s} &amp; = \textrm{depth of the image level} \\
&amp; layers &amp; = \textrm{number of layers in the image} \\
&amp; samples &amp; = \textrm{number of samples per texel in the image}
\end{align*}</span></div></div><p>then the texel fails integer texel coordinate validation.</p><p>There are four cases to consider:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Valid Texel Coordinates
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If the texel coordinates pass validation (that is, the coordinates lie
     within the image),
</li></ul></div><p class="simpara">then the texel value comes from the value in image memory.</p></li><li class="listitem"><p class="simpara">
Border Texel
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If the texel coordinates fail validation, and
</li><li class="listitem">
If the read is the result of an image sample instruction or image gather
     instruction, and
</li><li class="listitem">
If the image is not a cube image,
</li></ul></div><p class="simpara">then the texel is a border texel and <a class="link" href="#textures-texel-replacement" title="15.3.3. Texel Replacement">texel replacement</a> is performed.</p></li><li class="listitem"><p class="simpara">
Invalid Texel
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If the texel coordinates fail validation, and
</li><li class="listitem">
If the read is the result of an image fetch instruction, image read
    instruction, or atomic instruction,
</li></ul></div><p class="simpara">then the texel is an invalid texel and <a class="link" href="#textures-texel-replacement" title="15.3.3. Texel Replacement">texel replacement</a> is performed.</p></li><li class="listitem"><p class="simpara">
Cube Map Edge or Corner
</p><p class="simpara">Otherwise the texel coordinates lie on the borders along the edges and
corners of a cube map image, and <a class="link" href="#textures-cubemapedge" title="Cube Map Edge Handling">Cube map edge handling</a> is performed.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="textures-cubemapedge"></a>Cube Map Edge Handling</h4></div></div></div><p>If the texel coordinates lie on the borders along the edges and corners of a
cube map image, the following steps are performed.
Note that this only occurs when using <code class="code">VK_FILTER_LINEAR</code> filtering
within a mip level, since <code class="code">VK_FILTER_NEAREST</code> is treated as using
<code class="code">VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code>.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Cube Map Edge Texel
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
If the texel lies along the border in either only <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> or
    only <span class="inlinemediaobject"><span class="phrase">
$j$
</span></span>
</li></ul></div><p class="simpara">then the texel lies along an edge, so the coordinates <span class="inlinemediaobject"><span class="phrase">
$(i,j)$
</span></span>
and the array layer <span class="inlinemediaobject"><span class="phrase">
$l$
</span></span> are transformed to select the adjacent
texel from the appropriate neighboring face.</p></li><li class="listitem"><p class="simpara">
Cube Map Corner Texel
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
If the texel lies along the border in both <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> and
    <span class="inlinemediaobject"><span class="phrase">
$j$
</span></span>
</li></ul></div><p class="simpara">then the texel lies at a corner and there is no unique neighboring face from
which to read that texel.
The texel <span class="normative">should</span> be replaced by the average of the three values of the
adjacent texels in each incident face.
However, implementations <span class="normative">may</span> replace the cube map corner texel by other
methods, subject to the constraint that if the three available samples have
the same value, the replacement texel also has that value.</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="textures-sparse-validation"></a>Sparse Validation</h4></div></div></div><p>If the texel reads from an unbound region of a sparse image, the texel is a
<span class="emphasis"><em>sparse unbound texel</em></span>, and processing continues with
<a class="link" href="#textures-texel-replacement" title="15.3.3. Texel Replacement">texel replacement</a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-format-conversion"></a>15.3.2. Format Conversion</h3></div></div></div><p>Texels undergo a format conversion from the <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> of the image view
to a vector of either floating point or signed or unsigned integer
components, with the number of components based on the number of components
present in the format.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Color formats have one, two, three, or four components, according to the
    format.
</li><li class="listitem">
Depth/stencil formats are one component.
    The depth or stencil component is selected by the <em class="parameter"><code>aspectMask</code></em> of
    the image view.
</li></ul></div><p>Each component is converted based on its type and size (as defined in the
<a class="link" href="#features-formats-definition" title="31.3.1. Format Definition">Format Definition</a> section for each
<code class="code"><a class="link" href="#VkFormat">VkFormat</a></code>), using the appropriate equations in
<a class="link" href="#fundamentals-fp16" title="2.7.2. 16-Bit Floating-Point Numbers">16-Bit Floating-Point Numbers</a>,
<a class="link" href="#fundamentals-fp11" title="2.7.3. Unsigned 11-Bit Floating-Point Numbers">Unsigned 11-Bit Floating-Point Numbers</a>,
<a class="link" href="#fundamentals-fp10" title="2.7.4. Unsigned 10-Bit Floating-Point Numbers">Unsigned 10-Bit Floating-Point Numbers</a>,
<a class="link" href="#fundamentals-fixedconv" title="2.8. Fixed-Point Data Conversions">Fixed-Point Data Conversion</a>, and
<a class="link" href="#textures-sexp-RGB" title="15.2.2. Shared Exponent to RGB">Shared Exponent to RGB</a>.
Signed integer components smaller than 32 bits are sign-extended.</p><p>If the image format is sRGB, the color components are first converted as if
they are UNORM, and then sRGB to linear conversion is applied to the R, G,
and B components as described in the “KHR_DF_TRANSFER_SRGB” section of the
<a class="link" href="#data-format">Khronos Data Format Specification</a>.
The A component, if present, is unchanged.</p><p>If the image view format is block-compressed, then the texel value is first
decoded, then converted based on the type and number of components defined
by the compressed format.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-texel-replacement"></a>15.3.3. Texel Replacement</h3></div></div></div><p>A texel is replaced if it is one (and only one) of:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
a border texel,
</li><li class="listitem">
an invalid texel, or
</li><li class="listitem">
a sparse unbound texel.
</li></ul></div><p>Border texels are replaced with a value based on the image format and the
<em class="parameter"><code>borderColor</code></em> of the sampler.
The border color is:</p><div class="table"><a id="textures-border-replacement-color"></a><p class="title"><strong>Table 15.1. Border Color <span class="inlinemediaobject"><span class="phrase">
$B$
</span></span></strong></p><div class="table-contents"><table summary="Border Color &#10;$B$&#10;" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Sampler <em class="parameter"><code>borderColor</code></em>                     </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Corresponding Border Color</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BORDER_COLOR_FLOAT_TRANSPARENT_BLACK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$B = (0.0, 0.0, 0.0, 0.0)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BORDER_COLOR_FLOAT_OPAQUE_BLACK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$B = (0.0, 0.0, 0.0, 1.0)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BORDER_COLOR_FLOAT_OPAQUE_WHITE</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$B = (1.0, 1.0, 1.0, 1.0)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BORDER_COLOR_INT_TRANSPARENT_BLACK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$B = (0, 0, 0, 0)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BORDER_COLOR_INT_OPAQUE_BLACK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$B = (0, 0, 0, 1)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BORDER_COLOR_INT_OPAQUE_WHITE</code></p></td><td style="" align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$B = (1, 1, 1, 1)$
</span></span></p></td></tr></tbody></table></div></div><br class="table-break" /><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The names <code class="code">VK_BORDER_COLOR_*_TRANSPARENT_BLACK</code>,
<code class="code">VK_BORDER_COLOR_*_OPAQUE_BLACK</code>, and
<code class="code">VK_BORDER_COLOR_*_OPAQUE_WHITE</code> are meant to describe which components
are zeros and ones in the vocabulary of compositing, and are not meant to
imply that the numerical value of <code class="code">VK_BORDER_COLOR_INT_OPAQUE_WHITE</code> is
a saturating value for integers.</p></td></tr></table></div><p>This is substituted for the texel value by replacing the number of
components in the image format</p><div class="table"><a id="textures-border-replacement-table"></a><p class="title"><strong>Table 15.2. Border Texel Components After Replacement</strong></p><div class="table-contents"><table summary="Border Texel Components After Replacement" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="80%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Texel Aspect or Format      </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Component Assignment</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Depth aspect</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$D        = (B_{r})$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Stencil aspect</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$S        = (B_{r})$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>One component color format</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$C_{r}    = (B_{r})$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Two component color format</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$C_{rg}   = (B_{r},B_{g})$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Three component color format</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$C_{rgb}  = (B_{r},B_{g},B_{b})$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Four component color format</p></td><td style="" align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$C_{rgba} = (B_{r},B_{g},B_{b},B_{a})$
</span></span></p></td></tr></tbody></table></div></div><br class="table-break" /><p>If the read operation is from a buffer resource, and the
<em class="parameter"><code>robustBufferAccess</code></em> feature is enabled, an invalid texel is replaced as
described <a class="link" href="#features-features-robustBufferAccess">here</a>.</p><p>If the <em class="parameter"><code>robustBufferAccess</code></em> feature is not enabled, the value of an
invalid texel is undefined.</p><p>If the <code class="code">VkPhysicalDeviceSparseProperties</code> property
<em class="parameter"><code>residencyNonResidentStrict</code></em> is true, a sparse unbound texel is replaced
with 0 or 0.0 values for integer and floating-point components of the image
format, respectively.</p><p>If <em class="parameter"><code>residencyNonResidentStrict</code></em> is false, the read <span class="normative">must</span> be safe, but
the value of the sparse unbound texel is undefined.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-depth-compare-operation"></a>15.3.4. Depth Compare Operation</h3></div></div></div><p>If the image view has a depth/stencil format, the depth component is
selected by the <em class="parameter"><code>aspectMask</code></em>, and the operation is a <span class="strong"><strong><code class="code">Dref</code></strong></span>
instruction, a depth comparison is performed.
The value of the result <span class="inlinemediaobject"><span class="phrase">
$D$
</span></span> is <span class="inlinemediaobject"><span class="phrase">
$1.0$
</span></span> if the result
of the compare operation is <span class="inlinemediaobject"><span class="phrase">
$true$
</span></span>, and <span class="inlinemediaobject"><span class="phrase">
$0.0$
</span></span>
otherwise.
The compare operation is selected by the <em class="parameter"><code>compareOp</code></em> member of the
sampler.</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
D &amp; = 1.0 &amp;
  \begin{cases}
    D_{ref} \leq D &amp; \textrm{for LEQUAL}   \\
    D_{ref} \geq D &amp; \textrm{for GEQUAL}   \\
    D_{ref} &lt; D    &amp; \textrm{for LESS}     \\
    D_{ref} &gt; D    &amp; \textrm{for GREATER}  \\
    D_{ref} = D    &amp; \textrm{for EQUAL}    \\
    D_{ref} \neq D &amp; \textrm{for NOTEQUAL} \\
    true           &amp; \textrm{for ALWAYS}   \\
    false          &amp; \textrm{for NEVER}
  \end{cases} \\
D &amp; = 0.0 &amp; \textrm{otherwise}
\end{align*}</span></div></div><p>where, in the depth comparison:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
&amp; D_{ref} = shaderOp.D_{ref} &amp; \textrm{(from optional SPIR-V operand)} \\
&amp; D                          &amp; \textrm{texel depth value}
\end{align*}</span></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-conversion-to-rgba"></a>15.3.5. Conversion to RGBA</h3></div></div></div><p>The texel is expanded from one, two, or three to four components based on
the image base color:</p><div class="table"><a id="textures-texel-color-rgba-conversion-table"></a><p class="title"><strong>Table 15.3. Texel Color After Conversion To RGBA</strong></p><div class="table-contents"><table summary="Texel Color After Conversion To RGBA" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Texel Aspect or Format      </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> RGBA Color</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Depth aspect</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$C_{rgba} = (D,0,0,one)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Stencil aspect</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$C_{rgba} = (S,0,0,one)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>One component color format</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$C_{rgba} = (C_{r},0,0,one)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Two component color format</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$C_{rgba} = (C_{rg},0,one)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Three component color format</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$C_{rgba} = (C_{rgb},one)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Four component color format</p></td><td style="" align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$C_{rgba} = C_{rgba}$
</span></span></p></td></tr></tbody></table></div></div><br class="table-break" /><p>where <span class="inlinemediaobject"><span class="phrase">
$one = 1.0f$
</span></span> for floating-point formats and depth aspects,
and <span class="inlinemediaobject"><span class="phrase">
$one = 1$
</span></span> for integer formats and stencil aspects.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-component-swizzle"></a>15.3.6. Component Swizzle</h3></div></div></div><p>All texel input instructions apply a <span class="emphasis"><em>swizzle</em></span> based on the
<code class="code"><a class="link" href="#VkComponentSwizzle">VkComponentSwizzle</a></code> enums in the <em class="parameter"><code>components</code></em> member of the
<code class="code"><a class="link" href="#VkImageViewCreateInfo">VkImageViewCreateInfo</a></code> structure for the image being read.
The swizzle <span class="normative">can</span> rearrange the components of the texel, or substitute zero
and one for any components.
It is defined as follows for the R component, and operates similarly for the
other components.</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
C'_{rgba}[R] &amp; =
  \begin{cases}
    C_{rgba}[R] &amp; \textrm{for RED swizzle}   \\
    C_{rgba}[G] &amp; \textrm{for GREEN swizzle} \\
    C_{rgba}[B] &amp; \textrm{for BLUE swizzle}  \\
    C_{rgba}[A] &amp; \textrm{for ALPHA swizzle} \\
    0           &amp; \textrm{for ZERO swizzle}  \\
    one         &amp; \textrm{for ONE swizzle} \\
    C_{rgba}[R] &amp; \textrm{for IDENTITY swizzle}
  \end{cases}
\end{align*}</span></div></div><p>where:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
C_{rgba}[R] &amp; \textrm{is the RED component} \\
C_{rgba}[G] &amp; \textrm{is the GREEN component} \\
C_{rgba}[B] &amp; \textrm{is the BLUE component} \\
C_{rgba}[A] &amp; \textrm{is the ALPHA component} \\
one         &amp; = 1.0\textrm{f}  &amp; \textrm{for floating point components} \\
one         &amp; = 1              &amp; \textrm{for integer components}
\end{align*}</span></div></div><p>For each component this is applied to, the
<code class="code">VK_COMPONENT_SWIZZLE_IDENTITY</code> swizzle selects the corresponding
component from <span class="inlinemediaobject"><span class="phrase">
$C_{rgba}$
</span></span>.</p><p>If the border color is one of the <code class="code">VK_BORDER_COLOR_*_OPAQUE_BLACK</code> enums
and the <code class="code"><a class="link" href="#VkComponentSwizzle">VkComponentSwizzle</a></code> is not <code class="code">VK_COMPONENT_SWIZZLE_IDENTITY</code>
for all components (or the
<a class="link" href="#resources-image-views-identity-mappings" title="Table 11.2. Component Mappings Equivalent To VK_COMPONENT_SWIZZLE_IDENTITY">equivalent identity mapping</a>),
the value of the texel after swizzle is undefined.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-sparse-residency"></a>15.3.7. Sparse Residency</h3></div></div></div><p><span class="strong"><strong><code class="code">OpImageSparse</code></strong></span>* instructions return a structure which includes a
<span class="emphasis"><em>residency code</em></span> indicating whether any texels accessed by the instruction
are sparse unbound texels.
This code <span class="normative">can</span> be interpreted by the <span class="strong"><strong><code class="code">OpImageSparseTexelsResident</code></strong></span>
instruction which converts the residency code to a boolean value.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_texel_output_operations"></a>15.4. Texel Output Operations</h2></div></div></div><p><span class="emphasis"><em>Texel output instructions</em></span> are SPIR-V image instructions that write to an
image.
<span class="emphasis"><em>Texel output operations</em></span> are a set of steps that are performed on state,
coordinates, and texel values while processing a texel output instruction,
and which are common to some or all texel output instructions.
They include the following steps, which are performed in the listed order:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
<a class="link" href="#textures-output-validation" title="15.4.1. Texel Output Validation Operations">Validation operations</a>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<a class="link" href="#textures-format-validation" title="Texel Format Validation">Format validation</a>
</li><li class="listitem">
<a class="link" href="#textures-output-coordinate-validation" title="15.4.2. Integer Texel Coordinate Validation">Coordinate validation</a>
</li><li class="listitem">
<a class="link" href="#textures-output-sparse-validation" title="15.4.3. Sparse Texel Operation">Sparse validation</a>
</li></ul></div></li><li class="listitem">
<a class="link" href="#textures-output-format-conversion" title="15.4.4. Texel Output Format Conversion">Texel output format conversion</a>
</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-output-validation"></a>15.4.1. Texel Output Validation Operations</h3></div></div></div><p><span class="emphasis"><em>Texel output validation operations</em></span> inspect instruction/image state or
coordinates, and in certain circumstances cause the write to have no effect.
There are a series of validations that the texel undergoes.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="textures-format-validation"></a>Texel Format Validation</h4></div></div></div><p>If the image format of the <span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> is not compatible with the
<code class="code">VkImageView</code>’s <em class="parameter"><code>format</code></em>, the effect of the write on the image
view’s memory is undefined, but the write <span class="normative">must</span> not access memory outside of
the image view.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-output-coordinate-validation"></a>15.4.2. Integer Texel Coordinate Validation</h3></div></div></div><p>The integer texel coordinates are validated according to the same rules as
for texel input <a class="link" href="#textures-integer-coordinate-validation" title="Integer Texel Coordinate Validation">coordinate validation</a>.</p><p>If the texel fails integer texel coordinate validation, then the write has
no effect.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-output-sparse-validation"></a>15.4.3. Sparse Texel Operation</h3></div></div></div><p>If the texel attempts to write to an unbound region of a sparse image, the
texel is a sparse unbound texel.
In such a case, if the <code class="code">VkPhysicalDeviceSparseProperties</code> property
<em class="parameter"><code>residencyNonResidentStrict</code></em> is <code class="code">VK_TRUE</code>, the sparse unbound texel
write has no effect.
If <em class="parameter"><code>residencyNonResidentStrict</code></em> is <code class="code">VK_FALSE</code>, the effect of the
write is undefined but <span class="normative">must</span> be safe.
In addition, the write <span class="normative">may</span> have a side effect that is visible to other
image instructions, but <span class="normative">must</span> not be written to any device memory
allocation.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-output-format-conversion"></a>15.4.4. Texel Output Format Conversion</h3></div></div></div><p>Texels undergo a format conversion from the floating point, signed, or
unsigned integer type of the texel data to the <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> of the image
view.
Any unused components are ignored.</p><p>Each component is converted based on its type and size (as defined in the
<a class="link" href="#features-formats-definition" title="31.3.1. Format Definition">Format Definition</a> section for each
<code class="code"><a class="link" href="#VkFormat">VkFormat</a></code>), using the appropriate equations in
<a class="link" href="#fundamentals-fp16" title="2.7.2. 16-Bit Floating-Point Numbers">16-Bit Floating-Point Numbers</a> and
<a class="link" href="#fundamentals-fixedconv" title="2.8. Fixed-Point Data Conversions">Fixed-Point Data Conversion</a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_derivative_operations"></a>15.5. Derivative Operations</h2></div></div></div><p>SPIR-V derivative instructions include <span class="strong"><strong><code class="code">OpDPdx</code></strong></span>, <span class="strong"><strong><code class="code">OpDPdy</code></strong></span>,
<span class="strong"><strong><code class="code">OpDPdxFine</code></strong></span>, <span class="strong"><strong><code class="code">OpDPdyFine</code></strong></span>, <span class="strong"><strong><code class="code">OpDPdxCoarse</code></strong></span>, and <span class="strong"><strong><code class="code">OpDPdyCoarse</code></strong></span>.
Derivative instructions are only available in a fragment shader.</p><div class="informalfigure"><div class="mediaobject" align="left"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="50%"><tr><td align="left"><img src="images/vulkantexture2.png" align="left" width="100%" alt="images/vulkantexture2.png" /></td></tr></table></div></div><p>Derivatives are computed as if there is a 2x2 neighborhood of fragments for
each fragment shader invocation.
These neighboring fragments are used to compute derivatives with the
assumption that the values of P in the neighborhood are piecewise linear.
It is further assumed that the values of P in the neighborhood are locally
continuous, therefore derivatives in non-uniform control flow are undefined.</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
dPdx_{i_1,j_0} &amp; = dPdx_{i_0,j_0} &amp; = P_{i_1,j_0} - P_{i_0,j_0}  \\
dPdx_{i_1,j_1} &amp; = dPdx_{i_0,j_1} &amp; = P_{i_1,j_1} - P_{i_0,j_1}  \\
\\
dPdy_{i_0,j_1} &amp; = dPdy_{i_0,j_0} &amp; = P_{i_0,j_1} - P_{i_0,j_0}  \\
dPdy_{i_1,j_1} &amp; = dPdy_{i_1,j_0} &amp; = P_{i_1,j_1} - P_{i_1,j_0}
\end{align*}</span></div></div><p>The <span class="strong"><strong><code class="code">Fine</code></strong></span> derivative instructions <span class="normative">must</span> return the values above, for a
group of fragments in a 2x2 neighborhood.
Coarse derivatives <span class="normative">may</span> return only two values.
In this case, the values <span class="normative">should</span> be:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
dPdx &amp; =
  \begin{cases}
    dPdx_{i_0,j_0} &amp; \textrm{preferred}\\
    dPdx_{i_0,j_1}
  \end{cases} \\
dPdy &amp; =
  \begin{cases}
    dPdy_{i_0,j_0} &amp; \textrm{preferred}\\
    dPdy_{i_1,j_0}
  \end{cases}
\end{align*}</span></div></div><p><span class="strong"><strong><code class="code">OpDPdx</code></strong></span> and <span class="strong"><strong><code class="code">OpDPdy</code></strong></span> <span class="normative">must</span> return the same result as either
<span class="strong"><strong><code class="code">OpDPdxFine</code></strong></span> or <span class="strong"><strong><code class="code">OpDPdxCoarse</code></strong></span> and either <span class="strong"><strong><code class="code">OpDPdyFine</code></strong></span> or
<span class="strong"><strong><code class="code">OpDPdyCoarse</code></strong></span>, respectively.
Implementations <span class="normative">must</span> make the same choice of either coarse or fine for both
<span class="strong"><strong><code class="code">OpDPdx</code></strong></span> and <span class="strong"><strong><code class="code">OpDPdy</code></strong></span>, and implementations <span class="normative">should</span> make the choice
that is more efficient to compute.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="textures-normalized-operations"></a>15.6. Normalized Texel Coordinate Operations</h2></div></div></div><p>If the image sampler instruction provides normalized texel coordinates, some
of the following operations are performed.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-projection"></a>15.6.1. Projection Operation</h3></div></div></div><p>For <span class="strong"><strong><code class="code">Proj</code></strong></span> image operations, the normalized texel coordinates
<span class="inlinemediaobject"><span class="phrase">
$(s,t,r,q,a)$
</span></span> and (if present) the <span class="inlinemediaobject"><span class="phrase">
$D_{ref}$
</span></span>
coordinate are transformed as follows:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
s       &amp; = \frac{s}{q},       &amp; \textrm{for 1D, 2D, or 3D image} \\
\\
t       &amp; = \frac{t}{q},       &amp; \textrm{for 2D or 3D image} \\
\\
r       &amp; = \frac{r}{q},       &amp; \textrm{for 3D image} \\
\\
D_{ref} &amp; = \frac{D_{ref}}{q}, &amp; \textrm{if provided}
\end{align*}</span></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_derivative_image_operations"></a>15.6.2. Derivative Image Operations</h3></div></div></div><p>Derivatives are used for level-of-detail selection.
These derivatives are either implicit (in an <span class="strong"><strong><code class="code">ImplicitLod</code></strong></span> image
instruction in a fragment shader) or explicit (provided explicitly by shader
to the image instruction in any shader).</p><p>For implicit derivatives image instructions, the derivatives of texel
coordinates are calculated in the same manner as derivative operations
above.
That is:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\partial{s}/\partial{x} &amp; = dPdx(s), &amp; \partial{s}/\partial{y} &amp; = dPdy(s), &amp; \textrm{for 1D, 2D, Cube, or 3D image} \\
\partial{t}/\partial{x} &amp; = dPdx(t), &amp; \partial{t}/\partial{y} &amp; = dPdy(t), &amp; \textrm{for 2D, Cube, or 3D image} \\
\partial{u}/\partial{x} &amp; = dPdx(u), &amp; \partial{u}/\partial{y} &amp; = dPdy(u), &amp; \textrm{for Cube or 3D image}
\end{align*}</span></div></div><p>Partial derivatives not defined above for certain image dimensionalities are
set to zero.</p><p>For explicit level-of-detail image instructions, if the <span class="normative">optional</span> SPIR-V
operand <span class="inlinemediaobject"><span class="phrase">
$Grad$
</span></span> is provided, then the operand values are used for
the derivatives.
The number of components present in each derivative for a given image
dimensionality matches the number of partial derivatives computed above.</p><p>If the <span class="normative">optional</span> SPIR-V operand <span class="inlinemediaobject"><span class="phrase">
$Lod$
</span></span> is provided, then
derivatives are set to zero, the cube map derivative transformation is
skipped, and the scale factor operation is skipped.
Instead, the floating point scalar coordinate is directly assigned to
<span class="inlinemediaobject"><span class="phrase">
$\lambda_{base}$
</span></span> as described in
<a class="link" href="#textures-level-of-detail-operation" title="Level-of-Detail Operation">Level-of-Detail Operation</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_cube_map_face_selection_and_transformations"></a>15.6.3. Cube Map Face Selection and Transformations</h3></div></div></div><p>For cube map image instructions, the <span class="inlinemediaobject"><span class="phrase">
$(s,t,r)$
</span></span> coordinates are
treated as a direction vector <span class="inlinemediaobject"><span class="phrase">
$(r_{x},r_{y},r_{z})$
</span></span>.
The direction vector is used to select a cube map face.
The direction vector is transformed to a per-face texel coordinate system
<span class="inlinemediaobject"><span class="phrase">
$(s_{face},t_{face})$
</span></span>.
The direction vector is also used to transform the derivatives to per-face
derivatives.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_cube_map_face_selection"></a>15.6.4. Cube Map Face Selection</h3></div></div></div><p>The direction vector selects one of the cube map’s faces based on the
largest magnitude coordinate direction (the major axis direction).
Since two or more coordinates <span class="normative">can</span> have identical magnitude, the
implementation <span class="normative">must</span> have rules to disambiguate this situation.</p><p>The rules <span class="normative">should</span> have as the first rule that <span class="inlinemediaobject"><span class="phrase">
$r_{z}$
</span></span> wins over
<span class="inlinemediaobject"><span class="phrase">
$r_{y}$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$r_{x}$
</span></span>, and the second rule that
<span class="inlinemediaobject"><span class="phrase">
$r_{y}$
</span></span> wins over <span class="inlinemediaobject"><span class="phrase">
$r_{x}$
</span></span>.
An implementation <span class="normative">may</span> choose other rules, but the rules <span class="normative">must</span> be
deterministic and depend only on <span class="inlinemediaobject"><span class="phrase">
$(r_{x},r_{y},r_{z})$
</span></span>.</p><p>The layer number (corresponding to a cube map face), the coordinate
selections for <span class="inlinemediaobject"><span class="phrase">
$s_{c}$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$t_{c}$
</span></span>,
<span class="inlinemediaobject"><span class="phrase">
$r_{c}$
</span></span>, and the selection of derivatives, are determined by the
major axis direction as specified in the following two tables.</p><div class="table"><a id="id-1.17.7.6.5"></a><p class="title"><strong>Table 15.4. Cube map face and coordinate selection</strong></p><div class="table-contents"><table summary="Cube map face and coordinate selection" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="75%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Major Axis Direction </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Layer Number    </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Cube Map Face            </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> <span class="inlinemediaobject"><span class="phrase">
$s_{c}$
</span></span>  </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> <span class="inlinemediaobject"><span class="phrase">
$t_{c}$
</span></span>  </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> <span class="inlinemediaobject"><span class="phrase">
$r_{c}$
</span></span></th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+r_{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$0$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$Positive X$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-r_{z}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-r_{y}$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$r_{x}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-r_{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$1$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$Negative X$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+r_{z}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-r_{y}$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$r_{x}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+r_{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$Positive Y$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+r_{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+r_{z}$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$r_{y}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-r_{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$3$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$Negative Y$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+r_{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-r_{z}$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$r_{y}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+r_{z}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$4$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$Positive Z$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+r_{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-r_{y}$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$r_{z}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-r_{z}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$5$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$Negative Z$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-r_{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-r_{y}$
</span></span></p></td><td style="" align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$r_{z}$
</span></span></p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="id-1.17.7.6.6"></a><p class="title"><strong>Table 15.5. Cube map derivative selection</strong></p><div class="table-contents"><table summary="Cube map derivative selection" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="75%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Major Axis Direction </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> <span class="inlinemediaobject"><span class="phrase">
$\partial{s_{c}}/\partial{x}$
</span></span> </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> <span class="inlinemediaobject"><span class="phrase">
$\partial{s_{c}}/\partial{y}$
</span></span> </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> <span class="inlinemediaobject"><span class="phrase">
$\partial{t_{c}}/\partial{x}$
</span></span> </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> <span class="inlinemediaobject"><span class="phrase">
$\partial{t_{c}}/\partial{y}$
</span></span> </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> <span class="inlinemediaobject"><span class="phrase">
$\partial{r_{c}}/\partial{x}$
</span></span> </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> <span class="inlinemediaobject"><span class="phrase">
$\partial{r_{c}}/\partial{y}$
</span></span></th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+r_{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{z}}/\partial{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{z}}/\partial{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{y}}/\partial{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{y}}/\partial{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{x}}/\partial{x}$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{x}}/\partial{y}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-r_{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{z}}/\partial{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{z}}/\partial{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{y}}/\partial{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{y}}/\partial{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{x}}/\partial{x}$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{x}}/\partial{y}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+r_{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{x}}/\partial{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{x}}/\partial{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{z}}/\partial{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{z}}/\partial{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{y}}/\partial{x}$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{y}}/\partial{y}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-r_{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{x}}/\partial{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{x}}/\partial{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{z}}/\partial{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{z}}/\partial{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{y}}/\partial{x}$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{y}}/\partial{y}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+r_{z}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{x}}/\partial{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{x}}/\partial{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{y}}/\partial{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{y}}/\partial{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{z}}/\partial{x}$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$+\partial{r_{z}}/\partial{y}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-r_{z}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{x}}/\partial{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{x}}/\partial{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{y}}/\partial{x}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{y}}/\partial{y}$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{z}}/\partial{x}$
</span></span></p></td><td style="" align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$-\partial{r_{z}}/\partial{y}$
</span></span></p></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_cube_map_coordinate_transformation"></a>15.6.5. Cube Map Coordinate Transformation</h3></div></div></div><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
s_{face} &amp; =
    \frac{1}{2} \times \frac{s_c}{|r_c|} + \frac{1}{2} \\
t_{face} &amp; =
    \frac{1}{2} \times \frac{t_c}{|r_c|} + \frac{1}{2} \\
\end{align*}</span></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_cube_map_derivative_transformation"></a>15.6.6. Cube Map Derivative Transformation</h3></div></div></div><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\frac{\partial{s_{face}}}{\partial{x}} &amp;=
    \frac{\partial}{\partial{x}} \left ( \frac{1}{2} \times \frac{s_{c}}{|r_{c}|}
    + \frac{1}{2}\right ) \\
\frac{\partial{s_{face}}}{\partial{x}} &amp;=
    \frac{1}{2} \times \frac{\partial}{\partial{x}}
    \left ( \frac{s_{c}}{|r_{c}|}  \right ) \\
\frac{\partial{s_{face}}}{\partial{x}} &amp;=
    \frac{1}{2} \times
    \left (
    \frac{
      |r_{c}| \times \partial{s_c}/\partial{x}
      -s_c \times {\partial{r_{c}}}/{\partial{x}}}
    {\left ( r_{c} \right )^2}
    \right )
\end{align*}</span></div></div><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\frac{\partial{s_{face}}}{\partial{y}} &amp;=
    \frac{1}{2} \times
    \left (
    \frac{
      |r_{c}| \times \partial{s_c}/\partial{y}
      -s_c \times {\partial{r_{c}}}/{\partial{y}}}
    {\left ( r_{c} \right )^2}
    \right )\\
\frac{\partial{t_{face}}}{\partial{x}} &amp;=
    \frac{1}{2} \times
    \left (
    \frac{
      |r_{c}| \times \partial{t_c}/\partial{x}
      -t_c \times {\partial{r_{c}}}/{\partial{x}}}
    {\left ( r_{c} \right )^2}
    \right ) \\
\frac{\partial{t_{face}}}{\partial{y}} &amp;=
    \frac{1}{2} \times
    \left (
    \frac{
       |r_{c}| \times \partial{t_c}/\partial{y}
      -t_c \times {\partial{r_{c}}}/{\partial{y}}}
    {\left ( r_{c} \right )^2}
    \right )
\end{align*}</span></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_scale_factor_operation_level_of_detail_operation_and_image_level_s_selection"></a>15.6.7. Scale Factor Operation, Level-of-Detail Operation and Image Level(s) Selection</h3></div></div></div><p>Level-of-detail selection <span class="normative">can</span> be either explicit (provided explicitly by
the image instruction) or implicit (determined from a scale factor
calculated from the derivatives).</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="textures-scale-factor"></a>Scale Factor Operation</h4></div></div></div><p>The magnitude of the derivatives are calculated by:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
m_{ux} &amp; = \left | \partial s / \partial x \right | \times w_{base} \\
m_{vx} &amp; = \left | \partial t / \partial x \right | \times h_{base} \\
m_{wx} &amp; = \left | \partial r / \partial x \right | \times d_{base} \\
\\
m_{uy} &amp; = \left | \partial s / \partial y \right | \times w_{base} \\
m_{vy} &amp; = \left | \partial t / \partial y \right | \times h_{base} \\
m_{wy} &amp; = \left | \partial r / \partial y \right | \times d_{base}
\end{align*}</span></div></div><p>where:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\partial t / \partial x &amp; = \partial t / \partial y = 0 &amp; \textrm{(for 1D image)} \\
\partial r / \partial x &amp; = \partial r / \partial y = 0 &amp; \textrm{(for 1D, 2D or Cube image)} \\
\\
w_{base}                &amp; = image.w \\
h_{base}                &amp; = image.h \\
d_{base}                &amp; = image.d \\
                        &amp; \textrm{of the } baseMipLevel &amp; \textrm{(from image descriptor)}
\end{align*}</span></div></div><p>The <span class="emphasis"><em>scale factors</em></span> <span class="inlinemediaobject"><span class="phrase">
$(\rho_{x}, \rho{y})$
</span></span> <span class="normative">should</span> be calculated
by:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\rho_{x} &amp; = \sqrt{ m_{ux} ^{2} + m_{vx} ^{2} + m_{wx} ^{2} } \\
\rho_{y} &amp; = \sqrt{ m_{uy} ^{2} + m_{vy} ^{2} + m_{wy} ^{2} }
\end{align*}</span></div></div><p>The ideal functions <span class="inlinemediaobject"><span class="phrase">
$\rho_{x}$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$\rho_{y}$
</span></span> <span class="normative">may</span>
be approximated with functions <span class="inlinemediaobject"><span class="phrase">
$f_x$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$f_y$
</span></span>,
subject to the following constraints:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
&amp; f_x \textrm{ is continuous and monotonically increasing in each of }
    m_{ux},
    m_{vx}, \textrm{ and }
    m_{wx} \\
&amp; f_y \textrm{ is continuous and monotonically increasing in each of }
    m_{uy},
    m_{vy}, \textrm{ and }
    m_{wy}
\end{align*}

\begin{align*}
\max \left (
    \left | m_{ux} \right | ,
    \left | m_{vx} \right | ,
    \left | m_{wx} \right |
    \right ) \leq
&amp; f_x \leq
    \left | m_{ux} \right | +
    \left | m_{vx} \right | +
    \left | m_{wx} \right | \\
\max \left (
    \left | m_{uy} \right | ,
    \left | m_{vy} \right | ,
    \left | m_{wy} \right |
    \right ) \leq
&amp; f_y \leq
    \left | m_{uy} \right | +
    \left | m_{vy} \right | +
    \left | m_{wy} \right |
\end{align*}</span></div></div><p>The minimum and maximum scale factors <span class="inlinemediaobject"><span class="phrase">
$(\rho_{min},\rho_{max})$
</span></span>
are determined by:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\rho_{max} &amp; = \max( \rho_{x} , \rho_{y} ) \\
\rho_{min} &amp; = \min( \rho_{x} , \rho_{y} )
\end{align*}</span></div></div><p>The sampling rate is determined by:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
N &amp; = \min \left (\left \lceil \frac{\rho_{max}}{\rho_{min}}  \right \rceil ,max_{Aniso} \right )
\end{align*}</span></div></div><p>where:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
sampler.max_{Aniso} &amp; = maxAnisotropy &amp; \textrm{(from sampler descriptor)} \\
limits.max_{Aniso}  &amp; = maxSamplerAnisotropy &amp; \textrm{(from physical device limits)} \\
max_{Aniso}         &amp; = \min \left ( sampler.max_{Aniso}, limits.max_{Aniso} \right )
\end{align*}</span></div></div><p>If <span class="inlinemediaobject"><span class="phrase">
$\rho_{max} = \rho_{min} = 0$
</span></span>, then all the partial
derivatives are zero, the fragment’s footprint in texel space is a point,
and <span class="inlinemediaobject"><span class="phrase">
$N$
</span></span> <span class="normative">should</span> be treated as 1.
If <span class="inlinemediaobject"><span class="phrase">
$\rho_{max} \neq 0 \textrm{ and } \rho_{min} = 0$
</span></span> then all
partial derivatives along one axis are zero, the fragment’s footprint in
texel space is a line segment, and <span class="inlinemediaobject"><span class="phrase">
$N$
</span></span> <span class="normative">should</span> be treated as
<span class="inlinemediaobject"><span class="phrase">
$max_{Aniso}$
</span></span>.
However, anytime the footprint is small in texel space the implementation
<span class="normative">may</span> use a smaller value of <span class="inlinemediaobject"><span class="phrase">
$N$
</span></span>, even when
<span class="inlinemediaobject"><span class="phrase">
$\rho_{min}$
</span></span> is zero or close to zero.</p><p>An implementation <span class="normative">may</span> round <span class="inlinemediaobject"><span class="phrase">
$N$
</span></span> up to the nearest supported
sampling rate.</p><p>If <span class="inlinemediaobject"><span class="phrase">
$N=1$
</span></span>, sampling is isotropic.
If <span class="inlinemediaobject"><span class="phrase">
$N&gt;1$
</span></span>, sampling is anisotropic.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="textures-level-of-detail-operation"></a>Level-of-Detail Operation</h4></div></div></div><p>The <span class="emphasis"><em>level-of-detail</em></span> parameter <span class="inlinemediaobject"><span class="phrase">
$\lambda$
</span></span> is computed as
follows:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\lambda_{base}(x,y) &amp; =
  \begin{cases}
    shaderOp.Lod                               &amp; \textrm{(from optional SPIR-V operand)} \\
    \log_2 \left ( \frac{\rho_{max}}{N} \right ) &amp; \textrm{otherwise}
  \end{cases} \\
\lambda'(x,y)       &amp; = \lambda_{base} + \operatorname{clamp}(sampler.bias + shaderOp.bias,-maxSamplerLodBias,maxSamplerLodBias) \\
\lambda             &amp; =
  \begin{cases}
    lod_{max}, &amp; \lambda' &gt; lod_{max} \\
    \lambda',  &amp; lod_{min} \leq \lambda' \leq lod_{max} \\
    lod_{min}, &amp; \lambda' &lt; lod_{min} \\
    undefined, &amp; lod_{min} &gt; lod_{max} \\
  \end{cases}
\end{align*}</span></div></div><p>where:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
sampler.bias       &amp; = mipLodBias &amp; \textrm{(from sampler descriptor)} \\
shaderOp.bias      &amp; =
  \begin{cases}
    Bias &amp; \textrm{(from optional SPIR-V operand)} \\
    0    &amp; \textrm{otherwise}
  \end{cases} \\
sampler.lod_{min}  &amp; = minLod &amp; \textrm{(from sampler descriptor)} \\
shaderOp.lod_{min} &amp; =
  \begin{cases}
    MinLod &amp; \textrm{(from optional SPIR-V operand)} \\
    0      &amp; \textrm{otherwise}
  \end{cases} \\
\\
lod_{min}          &amp; = \max(sampler.lod_{min}, shaderOp.lod_{min}) \\
lod_{max}          &amp; = maxLod &amp; \textrm{(from sampler descriptor)}
\end{align*}</span></div></div><p>and <span class="inlinemediaobject"><span class="phrase">
$maxSamplerLodBias$
</span></span> is the value of the
<code class="code"><a class="link" href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code> feature
<a class="link" href="#features-limits-maxSamplerLodBias"><em class="parameter"><code>maxSamplerLodBias</code></em></a>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="textures-image-level-selection"></a>Image Level(s) Selection</h4></div></div></div><p>The image level(s) <span class="inlinemediaobject"><span class="phrase">
$d, d_{hi},\textrm{ and }d_{lo}$
</span></span> which texels
are read from are selected based on the level-of-detail parameter, as
follows.
If the sampler’s <em class="parameter"><code>mipmapMode</code></em> is <code class="code">VK_SAMPLER_MIPMAP_MODE_NEAREST</code>,
then level d is used:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
d =
  \begin{cases}
    level_{base},     &amp; \lambda \leq \frac{1}{2} \\
    nearest(\lambda), &amp; \lambda &gt; \frac{1}{2},
                        level_{base} + \lambda \leq
                        q + \frac{1}{2} \\
    q,                &amp; \lambda &gt; \frac{1}{2}, level_{base} + \lambda &gt; q + \frac{1}{2}
  \end{cases}
\end{align*}</span></div></div><p>where:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
nearest(\lambda) &amp; =
  \begin{cases}
    \left \lceil level_{base}+\lambda + \frac{1}{2}\right \rceil - 1, &amp;
        \textrm{preferred} \\
    \left \lfloor level_{base}+\lambda + \frac{1}{2}\right \rfloor,   &amp;
        \textrm{alternative}
  \end{cases}
\end{align*}</span></div></div><p>and</p><p><span class="inlinemediaobject"><span class="phrase">
$q = \mathit{levelCount} - 1$
</span></span></p><p><em class="parameter"><code>levelCount</code></em> is taken from the <em class="parameter"><code>subresourceRange</code></em> of the image view.</p><p>If the sampler’s <em class="parameter"><code>mipmapMode</code></em> is <code class="code">VK_SAMPLER_MIPMAP_MODE_LINEAR</code>,
two neighboring levels are selected:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
d_{hi} &amp; =
  \begin{cases}
    q,                                                 &amp; level_{base} + \lambda \geq q \\
    \left \lfloor level_{base}+\lambda \right \rfloor, &amp; \textrm{otherwise}
  \end{cases} \\
d_{lo} &amp; =
  \begin{cases}
    q,        &amp; level_{base} + \lambda \geq q \\
    d_{hi}+1, &amp; \textrm{otherwise}
  \end{cases}
\end{align*}</span></div></div><p><span class="inlinemediaobject"><span class="phrase">
$\delta$
</span></span> is the fractional value used for linear filtering
between levels.</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\delta &amp; = \operatorname{frac}(\lambda)
\end{align*}</span></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-normalized-to-unnormalized"></a>15.6.8. (s,t,r,q,a) to (u,v,w,a) Transformation</h3></div></div></div><p>The normalized texel coordinates are scaled by the image level dimensions
and the array layer is selected.
This transformation is performed once for each level (<span class="inlinemediaobject"><span class="phrase">
$d\textrm{
or }d_{hi}\textrm{ and }d_{lo}$
</span></span>) used in
<a class="link" href="#textures-texel-filtering" title="15.8.3. Texel Filtering">filtering</a>.</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
u(x,y) &amp; = s(x,y) \times width_{level} \\
v(x,y) &amp; =
  \begin{cases}
    0                         &amp; \textrm{for 1D images} \\
    t(x,y) \times height_{level} &amp; \textrm{otherwise}
  \end{cases} \\
w(x,y) &amp; =
  \begin{cases}
    0                         &amp; \textrm{for 2D or Cube images} \\
    r(x,y) \times depth_{level}  &amp; \textrm{otherwise}
  \end{cases} \\
\\
a(x,y) &amp; =
  \begin{cases}
    a(x,y)                    &amp; \textrm{for array images} \\
    0                         &amp; \textrm{otherwise}
  \end{cases}
\end{align*}</span></div></div><p>Operations then proceed to Unnormalized Texel Coordinate Operations.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_unnormalized_texel_coordinate_operations"></a>15.7. Unnormalized Texel Coordinate Operations</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-unnormalized-to-integer"></a>15.7.1. (u,v,w,a) to (i,j,k,l,n) Transformation And Array Layer Selection</h3></div></div></div><p>The unnormalized texel coordinates are transformed to integer texel
coordinates relative to the selected mipmap level.</p><p>The layer index l is computed as:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
l &amp; = \operatorname{clamp}( \operatorname{RNE}(a), 0, layerCount - 1 ) + baseArrayLayer
\end{align*}</span></div></div><p>where <em class="parameter"><code>layerCount</code></em> is the number of layers in the image subresource
range of the image view, <em class="parameter"><code>baseArrayLayer</code></em> is the first layer from the
subresource range, and where:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\operatorname{RNE}(a) &amp; =
  \begin{cases}
    \operatorname{roundTiesToEven}(a)         &amp; \textrm{preferred, from IEEE Std 754-2008 Floating-Point Arithmetic} \\
    \left \lfloor a + \frac{1}{2} \right \rfloor &amp; \textrm{alternative}
  \end{cases}
\end{align*}</span></div></div><p>The sample index n is assigned the value zero.</p><p>Nearest filtering (<code class="code">VK_FILTER_NEAREST</code>) computes the integer texel
coordinates that the unnormalized coordinates lie within:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
i &amp; = \left \lfloor u \right \rfloor \\
j &amp; = \left \lfloor v \right \rfloor \\
k &amp; = \left \lfloor w \right \rfloor
\end{align*}</span></div></div><p>Linear filtering (<code class="code">VK_FILTER_LINEAR</code>) computes a set of neighboring
coordinates which bound the unnormalized coordinates.
The integer texel coordinates are combinations of <span class="inlinemediaobject"><span class="phrase">
$i_0\textrm{ or
}i_1,j_0\textrm{ or }j_1,k_0\textrm{ or }k_1$
</span></span>, as well as weights
<span class="inlinemediaobject"><span class="phrase">
$\alpha, \beta, and \gamma$
</span></span>.</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
i_{0}  &amp; = \left \lfloor u - \frac{1}{2} \right \rfloor &amp; i_{1} &amp; = i_{0} + 1 \\
j_{0}  &amp; = \left \lfloor v - \frac{1}{2} \right \rfloor &amp; j_{1} &amp; = j_{0} + 1 \\
k_{0}  &amp; = \left \lfloor w - \frac{1}{2} \right \rfloor &amp; k_{1} &amp; = k_{0} + 1 \\
\\
\alpha &amp; = \operatorname{frac} \left ( u - \frac{1}{2} \right ) \\
\beta  &amp; = \operatorname{frac} \left ( v - \frac{1}{2} \right ) \\
\gamma &amp; = \operatorname{frac} \left ( w - \frac{1}{2} \right )
\end{align*}</span></div></div><p>If the image instruction includes a <span class="inlinemediaobject"><span class="phrase">
$ConstOffset$
</span></span> operand, the
constant offsets <span class="inlinemediaobject"><span class="phrase">
$(\Delta_{i},\Delta_{j},\Delta_{k})$
</span></span> are added
to <span class="inlinemediaobject"><span class="phrase">
$(i,j,k)$
</span></span> components of the integer texel coordinates.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="textures-sample-operations"></a>15.8. Image Sample Operations</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-wrapping-operation"></a>15.8.1. Wrapping Operation</h3></div></div></div><p><span class="strong"><strong><code class="code">Cube</code></strong></span> images ignore the wrap modes specified in the sampler.
Instead, if <code class="code">VK_FILTER_NEAREST</code> is used within a mip level then
<code class="code">VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code> is used, and if
<code class="code">VK_FILTER_LINEAR</code> is used within a mip level then sampling at the edges
is performed as described earlier in the <a class="link" href="#textures-cubemapedge" title="Cube Map Edge Handling">Cube map edge handling</a> section.</p><p>The first integer texel coordinate i is transformed based on the
<em class="parameter"><code>addressModeU</code></em> parameter of the sampler.</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
i &amp;=
  \begin{cases}
    i \operatorname{mod} size                                &amp; \textrm{for repeat} \\
    (size-1) - \operatorname{mirror}((i \operatorname{mod} (2 \times size)) - size) &amp; \textrm{for mirrored repeat} \\
    \operatorname{clamp}(i,0,size-1)                         &amp; \textrm{for clamp to edge} \\
    \operatorname{clamp}(i,-1,size)                          &amp; \textrm{for clamp to border} \\
    \operatorname{clamp}(\operatorname{mirror}(i),0,size-1)  &amp; \textrm{for mirror clamp to edge}
  \end{cases}
\end{align*}</span></div></div><p>where:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
&amp;\operatorname{mirror}(n) =
  \begin{cases}
    n &amp; \textrm{for }n \geq 0 \\
    -(1+n) &amp;\textrm{otherwise} \\
  \end{cases}
\end{align*}</span></div></div><p><span class="inlinemediaobject"><span class="phrase">
$j$
</span></span> (for 2D and Cube image) and <span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> (for 3D image)
are similarly transformed based on the <em class="parameter"><code>addressModeV</code></em> and
<em class="parameter"><code>addressModeW</code></em> parameters of the sampler, respectively.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-gather"></a>15.8.2. Texel Gathering</h3></div></div></div><p>SPIR-V instructions with <span class="strong"><strong><code class="code">Gather</code></strong></span> in the name return a vector derived
from a 2x2 rectangular region of texels in the base level of the image view.
The rules for the <code class="code">VK_FILTER_LINEAR</code> minification filter are applied to
identify the four selected texels.
Each texel is then converted to an RGBA value according to
<a class="link" href="#textures-conversion-to-rgba" title="15.3.5. Conversion to RGBA">conversion to RGBA</a> and then
<a class="link" href="#textures-component-swizzle" title="15.3.6. Component Swizzle">swizzled</a>.
A four-component vector is then assembled by taking the component indicated
by the <span class="strong"><strong><code class="code">Component</code></strong></span> value in the instruction from the swizzled color value
of the four texels:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\tau[R] &amp;= \tau_{i0j1}[level_{base}][comp] \\
\tau[G] &amp;= \tau_{i1j1}[level_{base}][comp] \\
\tau[B] &amp;= \tau_{i1j0}[level_{base}][comp] \\
\tau[A] &amp;= \tau_{i0j0}[level_{base}][comp]
\end{align*}</span></div></div><p>where:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\tau[level_{base}][comp] &amp;=
  \begin{cases}
    \tau[level_{base}][R], &amp;\textrm{for } comp = 0 \\
    \tau[level_{base}][G], &amp;\textrm{for } comp = 1 \\
    \tau[level_{base}][B], &amp;\textrm{for } comp = 2 \\
    \tau[level_{base}][A], &amp;\textrm{for } comp = 3
  \end{cases}\\
comp &amp;\textrm{ from SPIR-V operand Component}
\end{align*}</span></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-texel-filtering"></a>15.8.3. Texel Filtering</h3></div></div></div><p>If <span class="inlinemediaobject"><span class="phrase">
$\lambda$
</span></span> is less than or equal to zero, the texture is said
to be <span class="emphasis"><em>magnified</em></span>, and the filter mode within a mip level is selected by the
<em class="parameter"><code>magFilter</code></em> in the sampler.
If <span class="inlinemediaobject"><span class="phrase">
$\lambda$
</span></span> is greater than zero, the texture is said to be
<span class="emphasis"><em>minified</em></span>, and the filter mode within a mip level is selected by the
<em class="parameter"><code>minFilter</code></em> in the sampler.</p><p>Within a mip level, <code class="code">VK_FILTER_NEAREST</code> filtering selects a single value
using the <span class="inlinemediaobject"><span class="phrase">
$(i,j,k)$
</span></span> texel coordinates, with all texels taken
from layer l.</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\tau[level] &amp;=
  \begin{cases}
     \tau_{ijk}[level], &amp;\textrm{for 3D image} \\
     \tau_{ij}[level], &amp;\textrm{for 2D or Cube image} \\
     \tau_{i}[level], &amp;\textrm{for 1D image}
   \end{cases}
\end{align*}</span></div></div><p>Within a mip level, <code class="code">VK_FILTER_LINEAR</code> filtering computes a weighted
average of 8 (for 3D), 4 (for 2D or Cube), or 2 (for 1D) texel values, using
the weights computed earlier:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\tau_{3D}[level] &amp; = (1-\alpha)(1-\beta)(1-\gamma)\tau_{i0j0k0}[level] \\
          &amp; \, + (\alpha)(1-\beta)(1-\gamma)\tau_{i1j0k0}[level] \\
          &amp; \, + (1-\alpha)(\beta)(1-\gamma)\tau_{i0j1k0}[level] \\
          &amp; \, + (\alpha)(\beta)(1-\gamma)\tau_{i1j1k0}[level]   \\
          &amp; \, + (1-\alpha)(1-\beta)(\gamma)\tau_{i0j0k1}[level] \\
          &amp; \, + (\alpha)(1-\beta)(\gamma)\tau_{i1j0k1}[level]   \\
          &amp; \, + (1-\alpha)(\beta)(\gamma)\tau_{i0j1k1}[level]   \\
          &amp; \, + (\alpha)(\beta)(\gamma)\tau_{i1j1k1}[level]
\end{align*}</span></div></div><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\tau_{2D}[level] &amp; = (1-\alpha)(1-\beta)\tau_{i0j0}[level] \\
          &amp; \, + (\alpha)(1-\beta)\tau_{i1j0}[level] \\
          &amp; \, + (1-\alpha)(\beta)\tau_{i0j1}[level] \\
          &amp; \, + (\alpha)(\beta)\tau_{i1j1}[level]
\end{align*}</span></div></div><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\tau_{1D}[level] &amp; = (1-\alpha)\tau_{i0}[level] \\
          &amp; \, + (\alpha)\tau_{i1}[level]
\end{align*}</span></div></div><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\tau[level] &amp;=
  \begin{cases}
     \tau_{3D}[level], &amp;\textrm{for 3D image} \\
     \tau_{2D}[level], &amp;\textrm{for 2D or Cube image} \\
     \tau_{1D}[level], &amp;\textrm{for 1D image}
   \end{cases}
\end{align*}</span></div></div><p>Finally, mipmap filtering either selects a value from one mip level or
computes a weighted average between neighboring mip levels:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\tau &amp;=
  \begin{cases}
    \tau[d], &amp;\textrm{for mip mode BASE or NEAREST} \\
    (1-\delta)\tau[d_{hi}]+\delta\tau[d_{lo}], &amp;\textrm{for mip mode LINEAR}
  \end{cases}
\end{align*}</span></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="textures-texel-anisotropic-filtering"></a>15.8.4. Texel Anisotropic Filtering</h3></div></div></div><p>Anisotropic filtering is enabled by the <em class="parameter"><code>anisotropyEnable</code></em> in the
sampler.
When enabled, the image filtering scheme accounts for a degree of
anisotropy.</p><p>The particular scheme for anisotropic texture filtering is implementation
dependent.
Implementations <span class="normative">should</span> consider the <em class="parameter"><code>magFilter</code></em>, <em class="parameter"><code>minFilter</code></em> and
<em class="parameter"><code>mipmapMode</code></em> of the sampler to control the specifics of the anisotropic
filtering scheme used.
In addition, implementations <span class="normative">should</span> consider <em class="parameter"><code>minLod</code></em> and <em class="parameter"><code>maxLod</code></em>
of the sampler.</p><p>The following describes one particular approach to implementing anisotropic
filtering for the 2D Image case, implementations <span class="normative">may</span> choose other methods:</p><p>Given a <em class="parameter"><code>magFilter</code></em>, <em class="parameter"><code>minFilter</code></em> of <code class="code">VK_FILTER_LINEAR</code> and a
<em class="parameter"><code>mipmapMode</code></em> of <code class="code">VK_SAMPLER_MIPMAP_MODE_NEAREST</code>:</p><p>Instead of a single isotropic sample, N isotropic samples are be sampled
within the image footprint of the image level <span class="inlinemediaobject"><span class="phrase">
$d$
</span></span> to approximate
an anisotropic filter.
The sum <span class="inlinemediaobject"><span class="phrase">
$\tau_{2Daniso}$
</span></span> is defined using the single isotropic
<span class="inlinemediaobject"><span class="phrase">
$\tau_{2D}$
</span></span>(u,v) at level <span class="inlinemediaobject"><span class="phrase">
$d$
</span></span>.</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\tau_{2Daniso} &amp; =
     \frac{1}{N}\sum_{i=1}^{N}
     {\tau_{2D}\left (
       u \left ( x - \frac{1}{2} + \frac{i}{N+1} , y \right ),
         \left ( v \left (x-\frac{1}{2}+\frac{i}{N+1} \right ), y
\right )
     \right )},
     &amp;\textrm{when } \rho_{x} &gt; \rho_{y} \\
\tau_{2Daniso} &amp;=
     \frac{1}{N}\sum_{i=1}^{N}
     {\tau_{2D}\left (
        u \left  ( x, y - \frac{1}{2} + \frac{i}{N+1} \right ),
          \left ( v \left (x,y-\frac{1}{2}+\frac{i}{N+1} \right )
\right )
     \right )},
     &amp;\textrm{when } \rho_{y} \geq \rho_{x}
\end{align*}</span></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="textures-instructions"></a>15.9. Image Operation Steps</h2></div></div></div><p>Each step described in this chapter is performed by a subset of the image
instructions:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Texel Input Validation Operations, Format Conversion, Texel Replacement,
    Conversion to RGBA, and Component Swizzle: Performed by all instructions
    except <span class="strong"><strong><code class="code">OpImageWrite</code></strong></span>.
</li><li class="listitem">
Depth Comparison: Performed by <span class="strong"><strong><code class="code">OpImage</code></strong></span>*<span class="strong"><strong><code class="code">Dref</code></strong></span> instructions.
</li><li class="listitem">
All Texel output operations: Performed by <span class="strong"><strong><code class="code">OpImageWrite</code></strong></span>.
</li><li class="listitem">
Projection: Performed by all <span class="strong"><strong><code class="code">OpImage</code></strong></span>*<span class="strong"><strong><code class="code">Proj</code></strong></span> instructions.
</li><li class="listitem">
Derivative Image Operations, Cube Map Operations, Scale Factor
    Operation, Level-of-Detail Operation and Image Level(s) Selection, and
    Texel Anisotropic Filtering: Performed by all <span class="strong"><strong><code class="code">OpImageSample</code></strong></span>* and
    <span class="strong"><strong><code class="code">OpImageSparseSample</code></strong></span>* instructions.
</li><li class="listitem">
(s,t,r,q,a) to (u,v,w,a) Transformation, Wrapping, and (u,v,w,a) to
    (i,j,k,l,n) Transformation And Array Layer Selection: Performed by all
    <span class="strong"><strong><code class="code">OpImageSample</code></strong></span>, <span class="strong"><strong><code class="code">OpImageSparseSample</code></strong></span>, and
    <span class="strong"><strong><code class="code">OpImage</code></strong></span>*<span class="strong"><strong><code class="code">Gather</code></strong></span> instructions.
</li><li class="listitem">
Texel Gathering: Performed by <span class="strong"><strong><code class="code">OpImage</code></strong></span>*<span class="strong"><strong><code class="code">Gather</code></strong></span> instructions.
</li><li class="listitem">
Texel Filtering: Performed by all <span class="strong"><strong><code class="code">OpImageSample</code></strong></span>* and
    <span class="strong"><strong><code class="code">OpImageSparseSample</code></strong></span>* instructions.
</li><li class="listitem">
Sparse Residency: Performed by all <span class="strong"><strong><code class="code">OpImageSparse</code></strong></span>* instructions.
</li></ul></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="queries"></a>Chapter 16. Queries</h1></div></div></div><p><span class="emphasis"><em>Queries</em></span> provide a mechanism to return information about the processing of
a sequence of Vulkan commands.
Query operations are asynchronous, and as such, their results are not
returned immediately.
Instead, their results, and their availability status, are stored in a
<a class="link" href="#queries-pools" title="16.1. Query Pools">Query Pool</a>.
The state of these queries <span class="normative">can</span> be read back on the host, or copied to a
buffer object on the device.</p><p>The supported query types are <a class="link" href="#queries-occlusion" title="16.3. Occlusion Queries">Occlusion Queries</a>,
<a class="link" href="#queries-pipestats" title="16.4. Pipeline Statistics Queries">Pipeline Statistics Queries</a>, and <a class="link" href="#queries-timestamps" title="16.5. Timestamp Queries">Timestamp Queries</a>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="queries-pools"></a>16.1. Query Pools</h2></div></div></div><p>Queries are managed using <span class="emphasis"><em>query pool</em></span> objects.
Each query pool is a collection of a specific number of queries of a
particular type.</p><p>Query pools are represented by <code class="code">VkQueryPool</code> handles:</p><p><a id="VkQueryPool"></a><strong> </strong>
</p><pre class="programlisting">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkQueryPool)</pre><p>
</p><p>To create a query pool, call:</p><p><a id="vkCreateQueryPool"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateQueryPool(
    VkDevice                                    device,
    const VkQueryPoolCreateInfo*                pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkQueryPool*                                pQueryPool);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that creates the query pool.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code">VkQueryPoolCreateInfo</code> structure containing the number and type of
    queries to be managed by the pool.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pQueryPool</code></em> is a pointer to a <code class="code">VkQueryPool</code> handle in which the
    resulting query pool object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkQueryPoolCreateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pQueryPool</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkQueryPool</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkQueryPoolCreateInfo</code> structure is defined as:</p><p><a id="VkQueryPoolCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkQueryPoolCreateInfo {
    VkStructureType                  sType;
    const void*                      pNext;
    VkQueryPoolCreateFlags           flags;
    VkQueryType                      queryType;
    uint32_t                         queryCount;
    VkQueryPipelineStatisticFlags    pipelineStatistics;
} VkQueryPoolCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>queryType</code></em> is the type of queries managed by the pool, and <span class="normative">must</span> be
    one of the values
</p><p><a id="VkQueryType"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkQueryType {
    VK_QUERY_TYPE_OCCLUSION = 0,
    VK_QUERY_TYPE_PIPELINE_STATISTICS = 1,
    VK_QUERY_TYPE_TIMESTAMP = 2,
} VkQueryType;</pre><p>
</p></li><li class="listitem">
<em class="parameter"><code>queryCount</code></em> is the number of queries managed by the pool.
</li><li class="listitem">
<em class="parameter"><code>pipelineStatistics</code></em> is a bitmask indicating which counters will be
    returned in queries on the new pool, as described below in
    <a class="xref" href="#queries-pipestats" title="16.4. Pipeline Statistics Queries">Section 16.4, “Pipeline Statistics Queries”</a>.
    <em class="parameter"><code>pipelineStatistics</code></em> is ignored if <em class="parameter"><code>queryType</code></em> is not
    <code class="code">VK_QUERY_TYPE_PIPELINE_STATISTICS</code>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_QUERY_POOL_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>queryType</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkQueryType">VkQueryType</a></code> value
</li><li class="listitem">
If the <a class="link" href="#features-features-pipelineStatisticsQuery">pipeline statistics queries</a> feature is not enabled, <em class="parameter"><code>queryType</code></em> <span class="normative">must</span> not be <code class="code">VK_QUERY_TYPE_PIPELINE_STATISTICS</code>
</li><li class="listitem">
If <em class="parameter"><code>queryType</code></em> is <code class="code">VK_QUERY_TYPE_PIPELINE_STATISTICS</code>, <em class="parameter"><code>pipelineStatistics</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkQueryPipelineStatisticFlagBits">VkQueryPipelineStatisticFlagBits</a></code> values
</li></ul></div></div><p>To destroy a query pool, call:</p><p><a id="vkDestroyQueryPool"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroyQueryPool(
    VkDevice                                    device,
    VkQueryPool                                 queryPool,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that destroys the query pool.
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> is the query pool to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in the
    <a class="link" href="#memory-allocation">Memory Allocation</a> chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>queryPool</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkQueryPool</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>queryPool</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
All submitted commands that refer to <em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> have completed execution
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>queryPool</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>queryPool</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="queries-operation"></a>16.2. Query Operation</h2></div></div></div><p>The operation of queries is controlled by the commands
<code class="code"><a class="link" href="#vkCmdBeginQuery">vkCmdBeginQuery</a></code>, <code class="code"><a class="link" href="#vkCmdEndQuery">vkCmdEndQuery</a></code>, <code class="code"><a class="link" href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a></code>,
<code class="code"><a class="link" href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code>, and <code class="code"><a class="link" href="#vkCmdWriteTimestamp">vkCmdWriteTimestamp</a></code>.</p><p>In order for a <code class="code">VkCommandBuffer</code> to record query management commands,
the queue family for which its <code class="code">VkCommandPool</code> was created <span class="normative">must</span> support
the appropriate type of operations (graphics, compute) suitable for the
query type of a given query pool.</p><p>Each query in a query pool has a status that is either <span class="emphasis"><em>unavailable</em></span> or
<span class="emphasis"><em>available</em></span>, and also has state to store the numerical results of a query
operation of the type requested when the query pool was created.
Resetting a query via <code class="code"><a class="link" href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a></code> sets the status to
unavailable and makes the numerical results undefined.
Performing a query operation with <code class="code"><a class="link" href="#vkCmdBeginQuery">vkCmdBeginQuery</a></code> and
<code class="code"><a class="link" href="#vkCmdEndQuery">vkCmdEndQuery</a></code> changes the status to available when the query
<a class="link" href="#queries-operation-finished">finishes</a>, and updates the numerical results.
Both the availability status and numerical results are retrieved by calling
either <code class="code"><a class="link" href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code> or <code class="code"><a class="link" href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code>.</p><p>All query commands execute in order and are guaranteed to see the effects of
each other’s memory accesses, with one significant exception:
<span class="strong"><strong><code class="code">vkCmdCopyQueryPoolResults</code></strong></span> <span class="normative">may</span> execute before the results of
<span class="strong"><strong><code class="code">vkCmdEndQuery</code></strong></span> are available.
However, if <code class="code">VK_QUERY_RESULT_WAIT_BIT</code> is used, then
<span class="strong"><strong><code class="code">vkCmdCopyQueryPoolResults</code></strong></span> <span class="normative">must</span> reflect the result of any previously
executed queries.
Other sequences of commands, such as <span class="strong"><strong><code class="code">vkCmdResetQueryPool</code></strong></span> followed by
<span class="strong"><strong><code class="code">vkCmdBeginQuery</code></strong></span>, <span class="normative">must</span> make the effects of the first command visible
to the second command.</p><p>After query pool creation, each query is in an undefined state and <span class="normative">must</span> be
reset prior to use.
Queries <span class="normative">must</span> also be reset between uses.
Using a query that has not been reset will result in undefined behavior.</p><p>To reset a range of queries in a query pool, call:</p><p><a id="vkCmdResetQueryPool"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdResetQueryPool(
    VkCommandBuffer                             commandBuffer,
    VkQueryPool                                 queryPool,
    uint32_t                                    firstQuery,
    uint32_t                                    queryCount);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which this command will
    be recorded.
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> is the handle of the query pool managing the queries
    being reset.
</li><li class="listitem">
<em class="parameter"><code>firstQuery</code></em> is the initial query index to reset.
</li><li class="listitem">
<em class="parameter"><code>queryCount</code></em> is the number of queries to reset.
</li></ul></div><p>When executed on a queue, this command sets the status of query indices
<span class="inlinemediaobject"><span class="phrase">
$firstQuery,firstQuery+queryCount-1$
</span></span> to unavailable.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkQueryPool</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and <em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>firstQuery</code></em> <span class="normative">must</span> be less than the number of queries in <em class="parameter"><code>queryPool</code></em>
</li><li class="listitem">
The sum of <em class="parameter"><code>firstQuery</code></em> and <em class="parameter"><code>queryCount</code></em> <span class="normative">must</span> be less than or equal to the number of queries in <em class="parameter"><code>queryPool</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p>Once queries are reset and ready for use, query commands <span class="normative">can</span> be issued to a
command buffer.
Occlusion queries and pipeline statistics queries count events - drawn
samples and pipeline stage invocations, respectively - resulting from
commands that are recorded between a <code class="code"><a class="link" href="#vkCmdBeginQuery">vkCmdBeginQuery</a></code> command and a
<code class="code"><a class="link" href="#vkCmdEndQuery">vkCmdEndQuery</a></code> command within a specified command buffer, effectively
scoping a set of drawing and/or compute commands.
Timestamp queries write timestamps to a query pool.</p><p>A query <span class="normative">must</span> begin and end in the same command buffer, although if it is a
primary command buffer, and the
<a class="link" href="#features-features-inheritedQueries">inherited queries</a> feature is enabled,
it <span class="normative">can</span> execute secondary command buffers during the query operation.
For a secondary command buffer to be executed while a query is active, it
<span class="normative">must</span> set the <em class="parameter"><code>occlusionQueryEnable</code></em>, <em class="parameter"><code>queryFlags</code></em>, and/or
<em class="parameter"><code>pipelineStatistics</code></em> members of <code class="code"><a class="link" href="#VkCommandBufferInheritanceInfo">VkCommandBufferInheritanceInfo</a></code> to
conservative values, as described in the <a class="link" href="#commandbuffers-recording" title="5.3. Command Buffer Recording">Command Buffer Recording</a> section.
A query <span class="normative">must</span> either begin and end inside the same subpass of a render pass
instance, or <span class="normative">must</span> both begin and end outside of a render pass instance
(i.e.
contain entire render pass instances).</p><p>To begin a query, call:</p><p><a id="vkCmdBeginQuery"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdBeginQuery(
    VkCommandBuffer                             commandBuffer,
    VkQueryPool                                 queryPool,
    uint32_t                                    query,
    VkQueryControlFlags                         flags);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which this command will
    be recorded.
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> is the query pool that will manage the results of the
    query.
</li><li class="listitem">
<em class="parameter"><code>query</code></em> is the query index within the query pool that will contain
    the results.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is a bitmask indicating constraints on the types of queries
    that <span class="normative">can</span> be performed.
    Bits which <span class="normative">can</span> be set include:
</li></ul></div><p><a id="VkQueryControlFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkQueryControlFlagBits {
    VK_QUERY_CONTROL_PRECISE_BIT = 0x00000001,
} VkQueryControlFlagBits;</pre><p>
</p><p>If the <em class="parameter"><code>queryType</code></em> of the pool is <code class="code">VK_QUERY_TYPE_OCCLUSION</code> and
<em class="parameter"><code>flags</code></em> contains <code class="code">VK_QUERY_CONTROL_PRECISE_BIT</code>, an implementation
<span class="normative">must</span> return a result that matches the actual number of samples passed.
This is described in more detail in <a class="link" href="#queries-occlusion" title="16.3. Occlusion Queries">Occlusion Queries</a>.</p><p><a id="queries-operation-active"></a>After beginning a query, that query is considered <span class="emphasis"><em>active</em></span> within the
command buffer it was called in until that same query is ended.
Queries active in a primary command buffer when secondary command buffers
are executed are considered active for those secondary command buffers.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkQueryPool</code> handle
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkQueryControlFlagBits">VkQueryControlFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and <em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
The query identified by <em class="parameter"><code>queryPool</code></em> and <em class="parameter"><code>query</code></em> <span class="normative">must</span> currently not be <a class="link" href="#queries-operation-active">active</a>
</li><li class="listitem">
The query identified by <em class="parameter"><code>queryPool</code></em> and <em class="parameter"><code>query</code></em> <span class="normative">must</span> be unavailable
</li><li class="listitem">
If the <a class="link" href="#features-features-occlusionQueryPrecise">precise occlusion queries</a> feature is not enabled, or the <em class="parameter"><code>queryType</code></em> used to create <em class="parameter"><code>queryPool</code></em> was not <code class="code">VK_QUERY_TYPE_OCCLUSION</code>, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_QUERY_CONTROL_PRECISE_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> have been created with a <em class="parameter"><code>queryType</code></em> that differs from that of any other queries that have been made <a class="link" href="#queries-operation-active">active</a>, and are currently still active within <em class="parameter"><code>commandBuffer</code></em>
</li><li class="listitem">
<em class="parameter"><code>query</code></em> <span class="normative">must</span> be less than the number of queries in <em class="parameter"><code>queryPool</code></em>
</li><li class="listitem">
If the <em class="parameter"><code>queryType</code></em> used to create <em class="parameter"><code>queryPool</code></em> was <code class="code">VK_QUERY_TYPE_OCCLUSION</code>, the <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
If the <em class="parameter"><code>queryType</code></em> used to create <em class="parameter"><code>queryPool</code></em> was <code class="code">VK_QUERY_TYPE_PIPELINE_STATISTICS</code> and any of the <em class="parameter"><code>pipelineStatistics</code></em> indicate graphics operations, the <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
If the <em class="parameter"><code>queryType</code></em> used to create <em class="parameter"><code>queryPool</code></em> was <code class="code">VK_QUERY_TYPE_PIPELINE_STATISTICS</code> and any of the <em class="parameter"><code>pipelineStatistics</code></em> indicate compute operations, the <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support compute operations
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p>To end a query after the set of desired draw or dispatch commands is
executed, call:</p><p><a id="vkCmdEndQuery"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdEndQuery(
    VkCommandBuffer                             commandBuffer,
    VkQueryPool                                 queryPool,
    uint32_t                                    query);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which this command will
    be recorded.
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> is the query pool that is managing the results of the
    query.
</li><li class="listitem">
<em class="parameter"><code>query</code></em> is the query index within the query pool where the result is
    stored.
</li></ul></div><p><a id="queries-operation-finished"></a>As queries operate asynchronously, ending a query does not immediately set
the query’s status to available.
A query is considered <span class="emphasis"><em>finished</em></span> when the final results of the query are
ready to be retrieved by <code class="code"><a class="link" href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code> and
<code class="code"><a class="link" href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code>, and this is when the query’s status is set
to available.</p><p>Once a query is ended the query <span class="normative">must</span> finish in finite time, unless the
state of the query is changed using other commands, e.g.
by issuing a reset of the query.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkQueryPool</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and <em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
The query identified by <em class="parameter"><code>queryPool</code></em> and <em class="parameter"><code>query</code></em> <span class="normative">must</span> currently be <a class="link" href="#queries-operation-active">active</a>
</li><li class="listitem">
<em class="parameter"><code>query</code></em> <span class="normative">must</span> be less than the number of queries in <em class="parameter"><code>queryPool</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p><a id="queries-operation-memorylayout"></a>An application <span class="normative">can</span> retrieve results either by requesting they be written
into application-provided memory, or by requesting they be copied into a
<code class="code">VkBuffer</code>.
In either case, the layout in memory is defined as follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
The first query’s result is written starting at the first byte requested
    by the command, and each subsequent query’s result begins <em class="parameter"><code>stride</code></em>
    bytes later.
</li><li class="listitem">
Each query’s result is a tightly packed array of unsigned integers,
    either 32- or 64-bits as requested by the command, storing the numerical
    results and, if requested, the availability status.
</li><li class="listitem">
If <code class="code">VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is used, the final
    element of each query’s result is an integer indicating whether the
    query’s result is available, with any non-zero value indicating that it
    is available.
</li><li class="listitem">
Occlusion queries write one integer value - the number of samples
    passed.
    Pipeline statistics queries write one integer value for each bit that is
    enabled in the <em class="parameter"><code>pipelineStatistics</code></em> when the pool is created, and
    the statistics values are written in bit order starting from the least
    significant bit.
    Timestamps write one integer value.
</li><li class="listitem">
If more than one query is retrieved and <em class="parameter"><code>stride</code></em> is not at least as
    large as the size of the array of integers corresponding to a single
    query, the values written to memory are undefined.
</li></ul></div><p>To retrieve status and results for a set of queries, call:</p><p><a id="vkGetQueryPoolResults"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetQueryPoolResults(
    VkDevice                                    device,
    VkQueryPool                                 queryPool,
    uint32_t                                    firstQuery,
    uint32_t                                    queryCount,
    size_t                                      dataSize,
    void*                                       pData,
    VkDeviceSize                                stride,
    VkQueryResultFlags                          flags);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the query pool.
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> is the query pool managing the queries containing the
    desired results.
</li><li class="listitem">
<em class="parameter"><code>firstQuery</code></em> is the initial query index.
</li><li class="listitem">
<em class="parameter"><code>queryCount</code></em> is the number of queries.
    <em class="parameter"><code>firstQuery</code></em> and <em class="parameter"><code>queryCount</code></em> together define a range of
    queries.
</li><li class="listitem">
<em class="parameter"><code>dataSize</code></em> is the size in bytes of the buffer pointed to by
    <em class="parameter"><code>pData</code></em>.
</li><li class="listitem">
<em class="parameter"><code>pData</code></em> is a pointer to a user-allocated buffer where the results
    will be written
</li><li class="listitem">
<em class="parameter"><code>stride</code></em> is the stride in bytes between results for individual
    queries within <em class="parameter"><code>pData</code></em>.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>flags</code></em> is a bitmask of <code class="code"><a class="link" href="#VkQueryResultFlagBits">VkQueryResultFlagBits</a></code> specifying how
    and when results are returned.
    Bits which <span class="normative">can</span> be set include:
</p><p><a id="VkQueryResultFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkQueryResultFlagBits {
    VK_QUERY_RESULT_64_BIT = 0x00000001,
    VK_QUERY_RESULT_WAIT_BIT = 0x00000002,
    VK_QUERY_RESULT_WITH_AVAILABILITY_BIT = 0x00000004,
    VK_QUERY_RESULT_PARTIAL_BIT = 0x00000008,
} VkQueryResultFlagBits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_QUERY_RESULT_64_BIT</code> indicates the results will be written as
     an array of 64-bit unsigned integer values.
     If this bit is not set, the results will be written as an array of
     32-bit unsigned integer values.
</li><li class="listitem">
<code class="code">VK_QUERY_RESULT_WAIT_BIT</code> indicates that Vulkan will wait for each
     query’s status to become available before retrieving its results.
</li><li class="listitem">
<code class="code">VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> indicates that the
     availability status accompanies the results.
</li><li class="listitem">
<code class="code">VK_QUERY_RESULT_PARTIAL_BIT</code> indicates that returning partial
     results is acceptable.
</li></ul></div></li></ul></div><p>If no bits are set in <em class="parameter"><code>flags</code></em>, and all requested queries are in the
available state, results are written as an array of 32-bit unsigned integer
values.
The behavior when not all queries are available, is described
<a class="link" href="#queries-wait-bit-not-set">below</a>.</p><p>If <code class="code">VK_QUERY_RESULT_64_BIT</code> is not set and the result overflows a 32-bit
value, the value <span class="normative">may</span> either wrap or saturate.
Similarly, if <code class="code">VK_QUERY_RESULT_64_BIT</code> is set and the result overflows a
64-bit value, the value <span class="normative">may</span> either wrap or saturate.</p><p>If <code class="code">VK_QUERY_RESULT_WAIT_BIT</code> is set, Vulkan will wait for each query to
be in the available state before retrieving the numerical results for that
query.
In this case, <span class="strong"><strong><code class="code">vkGetQueryPoolResults</code></strong></span> is guaranteed to succeed and
return <code class="code">VK_SUCCESS</code> if the queries become available in a finite time
(i.e.
if they have been issued and not reset).
If queries will never finish (e.g.
due to being reset but not issued), then <span class="strong"><strong><code class="code">vkGetQueryPoolResults</code></strong></span> <span class="normative">may</span>
not return in finite time.</p><p><a id="queries-wait-bit-not-set"></a>If <code class="code">VK_QUERY_RESULT_WAIT_BIT</code> and <code class="code">VK_QUERY_RESULT_PARTIAL_BIT</code> are
both not set then no result values are written to <em class="parameter"><code>pData</code></em> for queries
that are in the unavailable state at the time of the call, and
<span class="strong"><strong><code class="code">vkGetQueryPoolResults</code></strong></span> returns <code class="code">VK_NOT_READY</code>.
However, availability state is still written to <em class="parameter"><code>pData</code></em> for those
queries if <code class="code">VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is set.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Applications <span class="normative">must</span> take care to ensure that use of the
<code class="code">VK_QUERY_RESULT_WAIT_BIT</code> bit has the desired effect.</p><p>For example, if a query has been used previously and a command buffer
records the commands <span class="strong"><strong><code class="code">vkCmdResetQueryPool</code></strong></span>, <span class="strong"><strong><code class="code">vkCmdBeginQuery</code></strong></span>, and
<span class="strong"><strong><code class="code">vkCmdEndQuery</code></strong></span> for that query, then the query will remain in the
available state until the <span class="strong"><strong><code class="code">vkCmdResetQueryPool</code></strong></span> command executes on a
queue.
Applications <span class="normative">can</span> use fences or events to ensure that a query has already
been reset before checking for its results or availability status.
Otherwise, a stale value could be returned from a previous use of the query.</p><p>The above also applies when <code class="code">VK_QUERY_RESULT_WAIT_BIT</code> is used in
combination with <code class="code">VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code>.
In this case, the returned availability status <span class="normative">may</span> reflect the result of a
previous use of the query unless the <span class="strong"><strong><code class="code">vkCmdResetQueryPool</code></strong></span> command has
been executed since the last use of the query.</p></td></tr></table></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Applications <span class="normative">can</span> double-buffer query pool usage, with a pool per frame, and
reset queries at the end of the frame in which they are read.</p></td></tr></table></div><p>If <code class="code">VK_QUERY_RESULT_PARTIAL_BIT</code> is set, <code class="code">VK_QUERY_RESULT_WAIT_BIT</code>
is not set, and the query’s status is unavailable, an intermediate result
value between zero and the final result value is written to <em class="parameter"><code>pData</code></em> for
that query.</p><p><code class="code">VK_QUERY_RESULT_PARTIAL_BIT</code> <span class="normative">must</span> not be used if the pool’s
<em class="parameter"><code>queryType</code></em> is <code class="code">VK_QUERY_TYPE_TIMESTAMP</code>.</p><p>If <code class="code">VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is set, the final integer
value written for each query is non-zero if the query’s status was available
or zero if the status was unavailable.
When <code class="code">VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is used, implementations
<span class="normative">must</span> guarantee that if they return a non-zero availability value then the
numerical results <span class="normative">must</span> be valid, assuming the results are not reset by a
subsequent command.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Satisfying this guarantee <span class="normative">may</span> require careful ordering by the application,
e.g.
to read the availability status before reading the results.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkQueryPool</code> handle
</li><li class="listitem">
<em class="parameter"><code>pData</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>dataSize</code></em> bytes
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkQueryResultFlagBits">VkQueryResultFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>dataSize</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
<em class="parameter"><code>firstQuery</code></em> <span class="normative">must</span> be less than the number of queries in <em class="parameter"><code>queryPool</code></em>
</li><li class="listitem">
If <code class="code">VK_QUERY_RESULT_64_BIT</code> is not set in <em class="parameter"><code>flags</code></em> then <em class="parameter"><code>pData</code></em> and <em class="parameter"><code>stride</code></em> <span class="normative">must</span> be multiples of <code class="literal">4</code>
</li><li class="listitem">
If <code class="code">VK_QUERY_RESULT_64_BIT</code> is set in <em class="parameter"><code>flags</code></em> then <em class="parameter"><code>pData</code></em> and <em class="parameter"><code>stride</code></em> <span class="normative">must</span> be multiples of <code class="literal">8</code>
</li><li class="listitem">
The sum of <em class="parameter"><code>firstQuery</code></em> and <em class="parameter"><code>queryCount</code></em> <span class="normative">must</span> be less than or equal to the number of queries in <em class="parameter"><code>queryPool</code></em>
</li><li class="listitem">
<em class="parameter"><code>dataSize</code></em> <span class="normative">must</span> be large enough to contain the result of each query, as described <a class="link" href="#queries-operation-memorylayout">here</a>
</li><li class="listitem">
If the <em class="parameter"><code>queryType</code></em> used to create <em class="parameter"><code>queryPool</code></em> was <code class="code">VK_QUERY_TYPE_TIMESTAMP</code>, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_QUERY_RESULT_PARTIAL_BIT</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_NOT_READY</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li></ul></div></dd></dl></div></div><p>To copy query statuses and numerical results directly to buffer memory,
call:</p><p><a id="vkCmdCopyQueryPoolResults"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdCopyQueryPoolResults(
    VkCommandBuffer                             commandBuffer,
    VkQueryPool                                 queryPool,
    uint32_t                                    firstQuery,
    uint32_t                                    queryCount,
    VkBuffer                                    dstBuffer,
    VkDeviceSize                                dstOffset,
    VkDeviceSize                                stride,
    VkQueryResultFlags                          flags);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which this command will
    be recorded.
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> is the query pool managing the queries containing the
    desired results.
</li><li class="listitem">
<em class="parameter"><code>firstQuery</code></em> is the initial query index.
</li><li class="listitem">
<em class="parameter"><code>queryCount</code></em> is the number of queries.
    <em class="parameter"><code>firstQuery</code></em> and <em class="parameter"><code>queryCount</code></em> together define a range of
    queries.
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> is a <code class="code">VkBuffer</code> object that will receive the results
    of the copy command.
</li><li class="listitem">
<em class="parameter"><code>dstOffset</code></em> is an offset into <em class="parameter"><code>dstBuffer</code></em>.
</li><li class="listitem">
<em class="parameter"><code>stride</code></em> is the stride in bytes between results for individual
    queries within <em class="parameter"><code>dstBuffer</code></em>.
    The required size of the backing memory for <em class="parameter"><code>dstBuffer</code></em> is
    determined as described above for <code class="code"><a class="link" href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code>.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is a bitmask of <code class="code"><a class="link" href="#VkQueryResultFlagBits">VkQueryResultFlagBits</a></code> specifying how
    and when results are returned.
</li></ul></div><p><span class="strong"><strong><code class="code">vkCmdCopyQueryPoolResults</code></strong></span> is guaranteed to see the effect of previous
uses of <span class="strong"><strong><code class="code">vkCmdResetQueryPool</code></strong></span> in the same queue, without any additional
synchronization.
Thus, the results will always reflect the most recent use of the query.</p><p><em class="parameter"><code>flags</code></em> has the same possible values described above for the <em class="parameter"><code>flags</code></em>
parameter of <code class="code"><a class="link" href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code>, but the different style of
execution causes some subtle behavioral differences.
Because <span class="strong"><strong><code class="code">vkCmdCopyQueryPoolResults</code></strong></span> executes in order with respect to
other query commands, there is less ambiguity about which use of a query is
being requested.</p><p>If no bits are set in <em class="parameter"><code>flags</code></em>, results for all requested queries in the
available state are written as 32-bit unsigned integer values, and nothing
is written for queries in the unavailable state.</p><p>If <code class="code">VK_QUERY_RESULT_64_BIT</code> is set, the results are written as an array
of 64-bit unsigned integer values as described for
<code class="code"><a class="link" href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code>.</p><p>If <code class="code">VK_QUERY_RESULT_WAIT_BIT</code> is set, the implementation will wait for
each query’s status to be in the available state before retrieving the
numerical results for that query.
This is guaranteed to reflect the most recent use of the query on the same
queue, assuming that the query is not being simultaneously used by other
queues.
If the query does not become available in a finite amount of time (e.g.
due to not issuing a query since the last reset), a
<code class="code">VK_ERROR_DEVICE_LOST</code> error <span class="normative">may</span> occur.</p><p>Similarly, if <code class="code">VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is set and
<code class="code">VK_QUERY_RESULT_WAIT_BIT</code> is not set, the availability is guaranteed to
reflect the most recent use of the query on the same queue, assuming that
the query is not being simultaneously used by other queues.
As with <span class="strong"><strong><code class="code">vkGetQueryPoolResults</code></strong></span>, implementations <span class="normative">must</span> guarantee that if
they return a non-zero availability value, then the numerical results are
valid.</p><p>If <code class="code">VK_QUERY_RESULT_PARTIAL_BIT</code> is set, <code class="code">VK_QUERY_RESULT_WAIT_BIT</code>
is not set, and the query’s status is unavailable, an intermediate result
value between zero and the final result value is written for that query.</p><p><code class="code">VK_QUERY_RESULT_PARTIAL_BIT</code> <span class="normative">must</span> not be used if the pool’s
<em class="parameter"><code>queryType</code></em> is <code class="code">VK_QUERY_TYPE_TIMESTAMP</code>.</p><p><span class="strong"><strong><code class="code">vkCmdCopyQueryPoolResults</code></strong></span> is considered to be a transfer operation,
and its writes to buffer memory <span class="normative">must</span> be synchronized using
<code class="code">VK_PIPELINE_STAGE_TRANSFER_BIT</code> and <code class="code">VK_ACCESS_TRANSFER_WRITE_BIT</code>
before using the results.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkQueryPool</code> handle
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkQueryResultFlagBits">VkQueryResultFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
Each of <em class="parameter"><code>commandBuffer</code></em>, <em class="parameter"><code>dstBuffer</code></em>, and <em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>dstOffset</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>dstBuffer</code></em>
</li><li class="listitem">
<em class="parameter"><code>firstQuery</code></em> <span class="normative">must</span> be less than the number of queries in <em class="parameter"><code>queryPool</code></em>
</li><li class="listitem">
The sum of <em class="parameter"><code>firstQuery</code></em> and <em class="parameter"><code>queryCount</code></em> <span class="normative">must</span> be less than or equal to the number of queries in <em class="parameter"><code>queryPool</code></em>
</li><li class="listitem">
If <code class="code">VK_QUERY_RESULT_64_BIT</code> is not set in <em class="parameter"><code>flags</code></em> then <em class="parameter"><code>dstOffset</code></em> and <em class="parameter"><code>stride</code></em> <span class="normative">must</span> be multiples of <code class="literal">4</code>
</li><li class="listitem">
If <code class="code">VK_QUERY_RESULT_64_BIT</code> is set in <em class="parameter"><code>flags</code></em> then <em class="parameter"><code>dstOffset</code></em> and <em class="parameter"><code>stride</code></em> <span class="normative">must</span> be multiples of <code class="literal">8</code>
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> <span class="normative">must</span> have enough storage, from <em class="parameter"><code>dstOffset</code></em>, to contain the result of each query, as described <a class="link" href="#queries-operation-memorylayout">here</a>
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> <span class="normative">must</span> have been created with <code class="code">VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag
</li><li class="listitem">
If the <em class="parameter"><code>queryType</code></em> used to create <em class="parameter"><code>queryPool</code></em> was <code class="code">VK_QUERY_TYPE_TIMESTAMP</code>, <em class="parameter"><code>flags</code></em> <span class="normative">must</span> not contain <code class="code">VK_QUERY_RESULT_PARTIAL_BIT</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p><a id="queries-operation-undefined"></a>Rendering operations such as clears, MSAA resolves, attachment load/store
operations, and blits <span class="normative">may</span> count towards the results of queries.
This behavior is implementation-dependent and <span class="normative">may</span> vary depending on the
path used within an implementation.
For example, some implementations have several types of clears, some of
which <span class="normative">may</span> include vertices and some not.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="queries-occlusion"></a>16.3. Occlusion Queries</h2></div></div></div><p>Occlusion queries track the number of samples that pass the per-fragment
tests for a set of drawing commands.
As such, occlusion queries are only available on queue families supporting
graphics operations.
The application <span class="normative">can</span> then use these results to inform future rendering
decisions.
An occlusion query is begun and ended by calling <span class="strong"><strong><code class="code">vkCmdBeginQuery</code></strong></span> and
<span class="strong"><strong><code class="code">vkCmdEndQuery</code></strong></span>, respectively.
When an occlusion query begins, the count of passing samples always starts
at zero.
For each drawing command, the count is incremented as described in
<a class="link" href="#fragops-samplecount" title="25.11. Sample Counting">Sample Counting</a>.
If <em class="parameter"><code>flags</code></em> does not contain <code class="code">VK_QUERY_CONTROL_PRECISE_BIT</code> an
implementation <span class="normative">may</span> generate any non-zero result value for the query if the
count of passing samples is non-zero.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Not setting <code class="code">VK_QUERY_CONTROL_PRECISE_BIT</code> mode <span class="normative">may</span> be more efficient
on some implementations, and <span class="normative">should</span> be used where it is sufficient to know
a boolean result on whether any samples passed the per-fragment tests.
In this case, some implementations <span class="normative">may</span> only return zero or one, indifferent
to the actual number of samples passing the per-fragment tests.</p></td></tr></table></div><p>When an occlusion query finishes, the result for that query is marked as
available.
The application <span class="normative">can</span> then either copy the result to a buffer (via
<span class="strong"><strong><code class="code">vkCmdCopyQueryPoolResults</code></strong></span>) or request it be put into host memory (via
<span class="strong"><strong><code class="code">vkGetQueryPoolResults</code></strong></span>).</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If occluding geometry is not drawn first, samples <span class="normative">can</span> pass the depth test,
but still not be visible in a final image.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="queries-pipestats"></a>16.4. Pipeline Statistics Queries</h2></div></div></div><p>Pipeline statistics queries allow the application to sample a specified set
of <code class="code">VkPipeline</code> counters.
These counters are accumulated by Vulkan for a set of either draw or
dispatch commands while a pipeline statistics query is active.
As such, pipeline statistics queries are available on queue families
supporting either graphics or compute operations.
Further, the availability of pipeline statistics queries is indicated by the
<em class="parameter"><code>pipelineStatisticsQuery</code></em> member of the <code class="code">VkPhysicalDeviceFeatures</code>
object (see <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFeatures</code></strong></span> and <span class="strong"><strong><code class="code">vkCreateDevice</code></strong></span> for
detecting and requesting this query type on a <code class="code">VkDevice</code>).</p><p>A pipeline statistics query is begun and ended by calling
<span class="strong"><strong><code class="code">vkCmdBeginQuery</code></strong></span> and <span class="strong"><strong><code class="code">vkCmdEndQuery</code></strong></span>, respectively.
When a pipeline statistics query begins, all statistics counters are set to
zero.
While the query is active, the pipeline type determines which set of
statistics are available, but these <span class="normative">must</span> be configured on the query pool
when it is created.
If a statistic counter is issued on a command buffer that does not support
the corresponding operation, that counter is undefined after the query has
finished.
At least one statistic counter relevant to the operations supported on the
recording command buffer <span class="normative">must</span> be enabled.</p><p>The pipeline statistic counters are individually enabled for query pools
with <code class="code">VkQueryPoolCreateInfo</code>::<em class="parameter"><code>pipelineStatistics</code></em>, and for
secondary command buffers with
<code class="code">VkCommandBufferInheritanceInfo</code>::<em class="parameter"><code>pipelineStatistics</code></em>.</p><p>Bits which <span class="normative">can</span> be set in <em class="parameter"><code>pipelineStatistics</code></em> include:</p><p><a id="VkQueryPipelineStatisticFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkQueryPipelineStatisticFlagBits {
    VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT = 0x00000001,
    VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT = 0x00000002,
    VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT = 0x00000004,
    VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT = 0x00000008,
    VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT = 0x00000010,
    VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT = 0x00000020,
    VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT = 0x00000040,
    VK_QUERY_PIPELINE_STATISTIC_FRAGMENT_SHADER_INVOCATIONS_BIT = 0x00000080,
    VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT = 0x00000100,
    VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT = 0x00000200,
    VK_QUERY_PIPELINE_STATISTIC_COMPUTE_SHADER_INVOCATIONS_BIT = 0x00000400,
} VkQueryPipelineStatisticFlagBits;</pre><p>
</p><p>These bits have the following meanings:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If <code class="code">VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT</code> is set,
    queries managed by the pool will count the number of vertices processed
    by the <a class="link" href="#drawing" title="Chapter 19. Drawing Commands">input assembly</a> stage.
    Vertices corresponding to incomplete primitives <span class="normative">may</span> contribute to the
    count.
</li><li class="listitem">
If <code class="code">VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT</code> is
    set, queries managed by the pool will count the number of primitives
    processed by the <a class="link" href="#drawing" title="Chapter 19. Drawing Commands">input assembly</a> stage.
    If primitive restart is enabled, restarting the primitive topology has
    no effect on the count.
    Incomplete primitives <span class="normative">may</span> be counted.
</li><li class="listitem">
If <code class="code">VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT</code> is
    set, queries managed by the pool will count the number of vertex shader
    invocations.
    This counter’s value is incremented each time a vertex shader is
    <a class="link" href="#shaders-vertex-execution" title="8.5.1. Vertex Shader Execution">invoked</a>.
</li><li class="listitem">
If <code class="code">VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT</code> is
    set, queries managed by the pool will count the number of geometry
    shader invocations.
    This counter’s value is incremented each time a geometry shader is
    <a class="link" href="#shaders-geometry-execution" title="8.8.1. Geometry Shader Execution">invoked</a>.
    In the case of <a class="link" href="#geometry-invocations" title="22.3. Multiple Invocations of Geometry Shaders">instanced geometry shaders</a>, the
    geometry shader invocations count is incremented for each separate
    instanced invocation.
</li><li class="listitem">
If <code class="code">VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT</code> is
    set, queries managed by the pool will count the number of primitives
    generated by geometry shader invocations.
    The counter’s value is incremented each time the geometry shader emits a
    primitive.
    Restarting primitive topology using the SPIR-V instructions
    <span class="strong"><strong><code class="code">OpEndPrimitive</code></strong></span> or <span class="strong"><strong><code class="code">OpEndStreamPrimitive</code></strong></span> has no effect on the
    geometry shader output primitives count.
</li><li class="listitem">
If <code class="code">VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT</code> is set,
    queries managed by the pool will count the number of primitives
    processed by the <a class="link" href="#vertexpostproc-clipping" title="23.2. Primitive Clipping">Primitive Clipping</a> stage of
    the pipeline.
    The counter’s value is incremented each time a primitive reaches the
    primitive clipping stage.
</li><li class="listitem"><p class="simpara">
If <code class="code">VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT</code> is set,
    queries managed by the pool will count the number of primitives output
    by the <a class="link" href="#vertexpostproc-clipping" title="23.2. Primitive Clipping">Primitive Clipping</a> stage of the
    pipeline.
    The counter’s value is incremented each time a primitive passes the
    primitive clipping stage.
    The actual number of primitives output by the primitive clipping stage
    for a particular input primitive is implementation-dependent but <span class="normative">must</span>
    satisfy the following conditions:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
If at least one vertex of the input primitive lies inside the clipping
     volume, the counter is incremented by one or more.
</li><li class="listitem">
Otherwise, the counter is incremented by zero or more.
</li></ul></div></li><li class="listitem">
If <code class="code">VK_QUERY_PIPELINE_STATISTIC_FRAGMENT_SHADER_INVOCATIONS_BIT</code> is
    set, queries managed by the pool will count the number of fragment
    shader invocations.
    The counter’s value is incremented each time the fragment shader is
    <a class="link" href="#shaders-fragment-execution" title="8.9.1. Fragment Shader Execution">invoked</a>.
</li><li class="listitem">
If
    <code class="code">VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT</code>
    is set, queries managed by the pool will count the number of patches
    processed by the tessellation control shader.
    The counter’s value is incremented once for each patch for which a
    tessellation control shader is
    <a class="link" href="#shaders-tessellation-control-execution" title="8.6.1. Tessellation Control Shader Execution">invoked</a>.
</li><li class="listitem">
If
    <code class="code">VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT</code>
    is set, queries managed by the pool will count the number of invocations
    of the tessellation evaluation shader.
    The counter’s value is incremented each time the tessellation evaluation
    shader is <a class="link" href="#shaders-tessellation-evaluation-execution" title="8.7.1. Tessellation Evaluation Shader Execution">invoked</a>.
</li><li class="listitem">
If <code class="code">VK_QUERY_PIPELINE_STATISTIC_COMPUTE_SHADER_INVOCATIONS_BIT</code> is
    set, queries managed by the pool will count the number of compute shader
    invocations.
    The counter’s value is incremented every time the compute shader is
    invoked.
    Implementations <span class="normative">may</span> skip the execution of certain compute shader
    invocations or execute additional compute shader invocations for
    implementation-dependent reasons as long as the results of rendering
    otherwise remain unchanged.
</li></ul></div><p>These values are intended to measure relative statistics on one
implementation.
Various device architectures will count these values differently.
Any or all counters <span class="normative">may</span> be affected by the issues described in
<a class="link" href="#queries-operation-undefined">Query Operation</a>.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For example, tile-based rendering devices <span class="normative">may</span> need to replay the scene
multiple times, affecting some of the counts.</p></td></tr></table></div><p>If a pipeline has <em class="parameter"><code>rasterizerDiscardEnable</code></em> enabled, implementations
<span class="normative">may</span> discard primitives after the final vertex processing stage.
As a result, if <em class="parameter"><code>rasterizerDiscardEnable</code></em> is enabled, the clipping input
and output primitives counters <span class="normative">may</span> not be incremented.</p><p>When a pipeline statistics query finishes, the result for that query is
marked as available.
The application <span class="normative">can</span> copy the result to a buffer (via
<span class="strong"><strong><code class="code">vkCmdCopyQueryPoolResults</code></strong></span>), or request it be put into host memory (via
<span class="strong"><strong><code class="code">vkGetQueryPoolResults</code></strong></span>).</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="queries-timestamps"></a>16.5. Timestamp Queries</h2></div></div></div><p><span class="emphasis"><em>Timestamps</em></span> provide applications with a mechanism for timing the execution
of commands.
A timestamp is an integer value generated by the <code class="code">VkPhysicalDevice</code>.
Unlike other queries, timestamps do not operate over a range, and so do not
use <code class="code"><a class="link" href="#vkCmdBeginQuery">vkCmdBeginQuery</a></code> or <code class="code"><a class="link" href="#vkCmdEndQuery">vkCmdEndQuery</a></code>.
The mechanism is built around a set of commands that allow the application
to tell the <code class="code">VkPhysicalDevice</code> to write timestamp values to a
<a class="link" href="#queries-pools" title="16.1. Query Pools">query pool</a> and then either read timestamp values on the
host (using <code class="code"><a class="link" href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code>) or copy timestamp values to a
<code class="code">VkBuffer</code> (using <code class="code"><a class="link" href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code>).
The application <span class="normative">can</span> then compute differences between timestamps to
determine execution time.</p><p>The number of valid bits in a timestamp value is determined by the
<code class="code">VkQueueFamilyProperties</code>::<em class="parameter"><code>timestampValidBits</code></em> property of the
queue on which the timestamp is written.
Timestamps are supported on any queue which reports a non-zero value for
<em class="parameter"><code>timestampValidBits</code></em> via <code class="code"><a class="link" href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a></code>.
If the <a class="link" href="#features-limits-timestampComputeAndGraphics"><em class="parameter"><code>timestampComputeAndGraphics</code></em></a> limit is <code class="code">VK_TRUE</code>, timestamps are
supported by every queue family that supports either graphics or compute
operations (see <code class="code"><a class="link" href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a></code>).</p><p>The number of nanoseconds it takes for a timestamp value to be incremented
by 1 <span class="normative">can</span> be obtained from
<code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>timestampPeriod</code></em> after a call to
<span class="strong"><strong><code class="code">vkGetPhysicalDeviceProperties</code></strong></span>.</p><p>To request a timestamp, call:</p><p><a id="vkCmdWriteTimestamp"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdWriteTimestamp(
    VkCommandBuffer                             commandBuffer,
    VkPipelineStageFlagBits                     pipelineStage,
    VkQueryPool                                 queryPool,
    uint32_t                                    query);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>pipelineStage</code></em> is one of the <code class="code"><a class="link" href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code>,
    specifying a stage of the pipeline.
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> is the query pool that will manage the timestamp.
</li><li class="listitem">
<em class="parameter"><code>query</code></em> is the query within the query pool that will contain the
    timestamp.
</li></ul></div><p><span class="strong"><strong><code class="code">vkCmdWriteTimestamp</code></strong></span> latches the value of the timer when all previous
commands have completed executing as far as the specified pipeline stage,
and writes the timestamp value to memory.
When the timestamp value is written, the availability status of the query is
set to available.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If an implementation is unable to detect completion and latch the timer at
any specific stage of the pipeline, it <span class="normative">may</span> instead do so at any logically
later stage.</p></td></tr></table></div><p><code class="code"><a class="link" href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code> <span class="normative">can</span> then be called to copy the timestamp
value from the query pool into buffer memory, with ordering and
synchronization behavior equivalent to how other queries operate.
Timestamp values <span class="normative">can</span> also be retrieved from the query pool using
<code class="code"><a class="link" href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a></code>.
As with other queries, the query <span class="normative">must</span> be reset using
<code class="code"><a class="link" href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a></code> before requesting the timestamp value be written
to it.</p><p>While <span class="strong"><strong><code class="code">vkCmdWriteTimestamp</code></strong></span> <span class="normative">can</span> be called inside or outside of a render
pass instance, <code class="code"><a class="link" href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></code> <span class="normative">must</span> only be called outside
of a render pass instance.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pipelineStage</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></code> value
</li><li class="listitem">
<em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> be a valid <code class="code">VkQueryPool</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and <em class="parameter"><code>queryPool</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
The query identified by <em class="parameter"><code>queryPool</code></em> and <em class="parameter"><code>query</code></em> <span class="normative">must</span> be <span class="emphasis"><em>unavailable</em></span>
</li><li class="listitem">
The command pool’s queue family <span class="normative">must</span> support a non-zero <em class="parameter"><code>timestampValidBits</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="clears"></a>Chapter 17. Clear Commands</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="clears-outside"></a>17.1. Clearing Images Outside A Render Pass Instance</h2></div></div></div><p>Color and depth/stencil images <span class="normative">can</span> be cleared outside a render pass
instance using <code class="code"><a class="link" href="#vkCmdClearColorImage">vkCmdClearColorImage</a></code> or
<code class="code"><a class="link" href="#vkCmdClearDepthStencilImage">vkCmdClearDepthStencilImage</a></code>, respectively.
These commands are only allowed outside of a render pass instance.</p><p>To clear one or more subranges of a color image, call:</p><p><a id="vkCmdClearColorImage"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdClearColorImage(
    VkCommandBuffer                             commandBuffer,
    VkImage                                     image,
    VkImageLayout                               imageLayout,
    const VkClearColorValue*                    pColor,
    uint32_t                                    rangeCount,
    const VkImageSubresourceRange*              pRanges);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>image</code></em> is the image to be cleared.
</li><li class="listitem">
<em class="parameter"><code>imageLayout</code></em> specifies the current layout of the image subresource
    ranges to be cleared, and <span class="normative">must</span> be <code class="code">VK_IMAGE_LAYOUT_GENERAL</code> or
    <code class="code">VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>.
</li><li class="listitem">
<em class="parameter"><code>pColor</code></em> is a pointer to a <code class="code"><a class="link" href="#VkClearColorValue">VkClearColorValue</a></code> structure that
    contains the values the image subresource ranges will be cleared to (see
    <a class="xref" href="#clears-values" title="17.3. Clear Values">Section 17.3, “Clear Values”</a> below).
</li><li class="listitem">
<em class="parameter"><code>rangeCount</code></em> is the number of image subresource range structures in
    <em class="parameter"><code>pRanges</code></em>.
</li><li class="listitem">
<em class="parameter"><code>pRanges</code></em> points to an array of <code class="code"><a class="link" href="#VkImageSubresourceRange">VkImageSubresourceRange</a></code>
    structures that describe a range of mipmap levels, array layers, and
    aspects to be cleared, as described in <a class="link" href="#resources-image-views" title="11.5. Image Views">Image     Views</a>.
    The <em class="parameter"><code>aspectMask</code></em> of all image subresource ranges <span class="normative">must</span> only include
    <code class="code">VK_IMAGE_ASPECT_COLOR_BIT</code>.
</li></ul></div><p>Each specified range in <em class="parameter"><code>pRanges</code></em> is cleared to the value specified by
<em class="parameter"><code>pColor</code></em>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>imageLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>pColor</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkClearColorValue</code> union
</li><li class="listitem">
<em class="parameter"><code>pRanges</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>rangeCount</code></em> valid <code class="code">VkImageSubresourceRange</code> structures
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>rangeCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and <em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag
</li><li class="listitem">
<em class="parameter"><code>imageLayout</code></em> <span class="normative">must</span> specify the layout of the image subresource ranges of <em class="parameter"><code>image</code></em> specified in <em class="parameter"><code>pRanges</code></em> at the time this command is executed on a <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>imageLayout</code></em> <span class="normative">must</span> be either of <code class="code">VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
</li><li class="listitem">
The image range of any given element of <em class="parameter"><code>pRanges</code></em> <span class="normative">must</span> be an image subresource range that is contained within <em class="parameter"><code>image</code></em>
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> not have a compressed or depth/stencil format
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p>To clear one or more subranges of a depth/stencil image, call:</p><p><a id="vkCmdClearDepthStencilImage"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdClearDepthStencilImage(
    VkCommandBuffer                             commandBuffer,
    VkImage                                     image,
    VkImageLayout                               imageLayout,
    const VkClearDepthStencilValue*             pDepthStencil,
    uint32_t                                    rangeCount,
    const VkImageSubresourceRange*              pRanges);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>image</code></em> is the image to be cleared.
</li><li class="listitem">
<em class="parameter"><code>imageLayout</code></em> specifies the current layout of the image subresource
    ranges to be cleared, and <span class="normative">must</span> be <code class="code">VK_IMAGE_LAYOUT_GENERAL</code> or
    <code class="code">VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>.
</li><li class="listitem">
<em class="parameter"><code>pDepthStencil</code></em> is a pointer to a <code class="code"><a class="link" href="#VkClearDepthStencilValue">VkClearDepthStencilValue</a></code>
    structure that contains the values the depth and stencil image
    subresource ranges will be cleared to (see <a class="xref" href="#clears-values" title="17.3. Clear Values">Section 17.3, “Clear Values”</a> below).
</li><li class="listitem">
<em class="parameter"><code>rangeCount</code></em> is the number of image subresource range structures in
    <em class="parameter"><code>pRanges</code></em>.
</li><li class="listitem">
<em class="parameter"><code>pRanges</code></em> points to an array of <code class="code"><a class="link" href="#VkImageSubresourceRange">VkImageSubresourceRange</a></code>
    structures that describe a range of mipmap levels, array layers, and
    aspects to be cleared, as described in <a class="link" href="#resources-image-views" title="11.5. Image Views">Image     Views</a>.
    The <em class="parameter"><code>aspectMask</code></em> of each image subresource range in <em class="parameter"><code>pRanges</code></em>
    <span class="normative">can</span> include <code class="code">VK_IMAGE_ASPECT_DEPTH_BIT</code> if the image format has a
    depth component, and <code class="code">VK_IMAGE_ASPECT_STENCIL_BIT</code> if the image
    format has a stencil component.
    <em class="parameter"><code>pDepthStencil</code></em> is a pointer to a <code class="code">VkClearDepthStencilValue</code>
    structure that contains the values the image subresource ranges will be
    cleared to (see <a class="xref" href="#clears-values" title="17.3. Clear Values">Section 17.3, “Clear Values”</a> below).
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>imageLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>pDepthStencil</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkClearDepthStencilValue</code> structure
</li><li class="listitem">
<em class="parameter"><code>pRanges</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>rangeCount</code></em> valid <code class="code">VkImageSubresourceRange</code> structures
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>rangeCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and <em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag
</li><li class="listitem">
<em class="parameter"><code>imageLayout</code></em> <span class="normative">must</span> specify the layout of the image subresource ranges of <em class="parameter"><code>image</code></em> specified in <em class="parameter"><code>pRanges</code></em> at the time this command is executed on a <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>imageLayout</code></em> <span class="normative">must</span> be either of <code class="code">VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
</li><li class="listitem">
The image range of any given element of <em class="parameter"><code>pRanges</code></em> <span class="normative">must</span> be an image subresource range that is contained within <em class="parameter"><code>image</code></em>
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> have a depth/stencil format
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>Clears outside render pass instances are treated as transfer operations for
the purposes of memory barriers.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="clears-inside"></a>17.2. Clearing Images Inside A Render Pass Instance</h2></div></div></div><p>To clear one or more regions of color and depth/stencil attachments inside a
render pass instance, call:</p><p><a id="vkCmdClearAttachments"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdClearAttachments(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    attachmentCount,
    const VkClearAttachment*                    pAttachments,
    uint32_t                                    rectCount,
    const VkClearRect*                          pRects);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>attachmentCount</code></em> is the number of entries in the <em class="parameter"><code>pAttachments</code></em>
    array.
</li><li class="listitem">
<em class="parameter"><code>pAttachments</code></em> is a pointer to an array of <code class="code"><a class="link" href="#VkClearAttachment">VkClearAttachment</a></code>
    structures defining the attachments to clear and the clear values to
    use.
</li><li class="listitem">
<em class="parameter"><code>rectCount</code></em> is the number of entries in the <em class="parameter"><code>pRects</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pRects</code></em> points to an array of <code class="code"><a class="link" href="#VkClearRect">VkClearRect</a></code> structures defining
    regions within each selected attachment to clear.
</li></ul></div><p><span class="strong"><strong><code class="code">vkCmdClearAttachments</code></strong></span> <span class="normative">can</span> clear multiple regions of each attachment
used in the current subpass of a render pass instance.
This command <span class="normative">must</span> be called only inside a render pass instance, and
implicitly selects the images to clear based on the current framebuffer
attachments and the command parameters.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pAttachments</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>attachmentCount</code></em> valid <code class="code">VkClearAttachment</code> structures
</li><li class="listitem">
<em class="parameter"><code>pRects</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>rectCount</code></em> <code class="code">VkClearRect</code> structures
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called inside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>attachmentCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>rectCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
If the <em class="parameter"><code>aspectMask</code></em> member of any given element of <em class="parameter"><code>pAttachments</code></em> contains <code class="code">VK_IMAGE_ASPECT_COLOR_BIT</code>, the <em class="parameter"><code>colorAttachment</code></em> member of those elements <span class="normative">must</span> refer to a valid color attachment in the current subpass
</li><li class="listitem">
The rectangular region specified by a given element of <em class="parameter"><code>pRects</code></em> <span class="normative">must</span> be contained within the render area of the current render pass instance
</li><li class="listitem">
The layers specified by a given element of <em class="parameter"><code>pRects</code></em> <span class="normative">must</span> be contained within every attachment that <em class="parameter"><code>pAttachments</code></em> refers to
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Inside</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>The <code class="code">VkClearRect</code> structure is defined as:</p><p><a id="VkClearRect"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkClearRect {
    VkRect2D    rect;
    uint32_t    baseArrayLayer;
    uint32_t    layerCount;
} VkClearRect;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>rect</code></em> is the two-dimensional region to be cleared.
</li><li class="listitem">
<em class="parameter"><code>baseArrayLayer</code></em> is the first layer to be cleared.
</li><li class="listitem">
<em class="parameter"><code>layerCount</code></em> is the number of layers to clear.
</li></ul></div><p>The layers <span class="inlinemediaobject"><span class="phrase">
$[baseArrayLayer, baseArrayLayer+layerCount)$
</span></span>
counting from the base layer of the attachment image view are cleared.</p><p>The <code class="code">VkClearAttachment</code> structure is defined as:</p><p><a id="VkClearAttachment"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkClearAttachment {
    VkImageAspectFlags    aspectMask;
    uint32_t              colorAttachment;
    VkClearValue          clearValue;
} VkClearAttachment;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> is a mask selecting the color, depth and/or stencil
    aspects of the attachment to be cleared.
    <em class="parameter"><code>aspectMask</code></em> <span class="normative">can</span> include <code class="code">VK_IMAGE_ASPECT_COLOR_BIT</code> for color
    attachments, <code class="code">VK_IMAGE_ASPECT_DEPTH_BIT</code> for depth/stencil
    attachments with a depth component, and
    <code class="code">VK_IMAGE_ASPECT_STENCIL_BIT</code> for depth/stencil attachments with a
    stencil component.
    If the subpass’s depth/stencil attachment is <code class="code">VK_ATTACHMENT_UNUSED</code>,
    then the clear has no effect.
</li><li class="listitem">
<em class="parameter"><code>colorAttachment</code></em> is only meaningful if
    <code class="code">VK_IMAGE_ASPECT_COLOR_BIT</code> is set in <em class="parameter"><code>aspectMask</code></em>, in which
    case it is an index to the <em class="parameter"><code>pColorAttachments</code></em> array in the
    <code class="code"><a class="link" href="#VkSubpassDescription">VkSubpassDescription</a></code> structure of the current subpass which
    selects the color attachment to clear.
    If <em class="parameter"><code>colorAttachment</code></em> is <code class="code">VK_ATTACHMENT_UNUSED</code> then the clear
    has no effect.
</li><li class="listitem">
<em class="parameter"><code>clearValue</code></em> is the color or depth/stencil value to clear the
    attachment to, as described in <a class="link" href="#clears-values" title="17.3. Clear Values">Clear Values</a> below.
</li></ul></div><p>No memory barriers are needed between <span class="strong"><strong><code class="code">vkCmdClearAttachments</code></strong></span> and
preceding or subsequent draw or attachment clear commands in the same
subpass.</p><p>The <span class="strong"><strong><code class="code">vkCmdClearAttachments</code></strong></span> command is not affected by the bound
pipeline state.</p><p>Attachments <span class="normative">can</span> also be cleared at the beginning of a render pass instance
by setting <em class="parameter"><code>loadOp</code></em> (or <em class="parameter"><code>stencilLoadOp</code></em>) of
<code class="code"><a class="link" href="#VkAttachmentDescription">VkAttachmentDescription</a></code> to <code class="code">VK_ATTACHMENT_LOAD_OP_CLEAR</code>, as
described for <code class="code"><a class="link" href="#vkCreateRenderPass">vkCreateRenderPass</a></code>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>clearValue</code></em> <span class="normative">must</span> be a valid <code class="code">VkClearValue</code> union
</li><li class="listitem">
If <em class="parameter"><code>aspectMask</code></em> includes <code class="code">VK_IMAGE_ASPECT_COLOR_BIT</code>, it <span class="normative">must</span> not include <code class="code">VK_IMAGE_ASPECT_DEPTH_BIT</code> or <code class="code">VK_IMAGE_ASPECT_STENCIL_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> <span class="normative">must</span> not include <code class="code">VK_IMAGE_ASPECT_METADATA_BIT</code>
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="clears-values"></a>17.3. Clear Values</h2></div></div></div><p>The <code class="code">VkClearColorValue</code> structure is defined as:</p><p><a id="VkClearColorValue"></a><strong> </strong>
</p><pre class="programlisting">typedef union VkClearColorValue {
    float       float32[4];
    int32_t     int32[4];
    uint32_t    uint32[4];
} VkClearColorValue;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>float32</code></em> are the color clear values when the format of the image or
    attachment is floating point, unorm, snorm, uscaled, packed float, or
    sRGB.
    Floating point values are automatically converted to the format of the
    image, with the clear value being treated as linear if the image is
    sRGB.
</li><li class="listitem">
<em class="parameter"><code>int32</code></em> are the color clear values when the format of the image or
    attachment is signed integer.
    Signed integer values are converted to the format of the image by
    casting to the smaller type (with negative 32-bit values mapping to
    negative values in the smaller type).
    If the integer clear value is not representable in the target type (e.g.
    would overflow in conversion to that type), the clear value is
    undefined.
</li><li class="listitem">
<em class="parameter"><code>uint32</code></em> are the color clear values when the format of the image or
    attachment is unsigned integer.
    Unsigned integer values are converted to the format of the image by
    casting to the integer type with fewer bits.
</li></ul></div><p>The four array elements of the clear color map to R, G, B, and A components
of image formats, in order.</p><p>If the image has more than one sample, the same value is written to all
samples for any pixels being cleared.</p><p>The <code class="code">VkClearDepthStencilValue</code> structure is defined as:</p><p><a id="VkClearDepthStencilValue"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkClearDepthStencilValue {
    float       depth;
    uint32_t    stencil;
} VkClearDepthStencilValue;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>depth</code></em> is the clear value for the depth aspect of the depth/stencil
    attachment.
    It is a floating-point value which is automatically converted to the
    attachment’s format.
</li><li class="listitem">
<em class="parameter"><code>stencil</code></em> is the clear value for the stencil aspect of the
    depth/stencil attachment.
    It is a 32-bit integer value which is converted to the attachment’s
    format by taking the appropriate number of LSBs.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>depth</code></em> <span class="normative">must</span> be between <code class="literal">0.0</code> and <code class="literal">1.0</code>, inclusive
</li></ul></div></div><p>The <code class="code">VkClearValue</code> union is defined as:</p><p><a id="VkClearValue"></a><strong> </strong>
</p><pre class="programlisting">typedef union VkClearValue {
    VkClearColorValue           color;
    VkClearDepthStencilValue    depthStencil;
} VkClearValue;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>color</code></em> specifies the color image clear values to use when clearing
    a color image or attachment.
</li><li class="listitem">
<em class="parameter"><code>depthStencil</code></em> specifies the depth and stencil clear values to use
    when clearing a depth/stencil image or attachment.
</li></ul></div><p>This union is used where part of the API requires either color or
depth/stencil clear values, depending on the attachment, and defines the
initial clear values in the <code class="code"><a class="link" href="#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a></code> structure.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>depthStencil</code></em> <span class="normative">must</span> be a valid <code class="code">VkClearDepthStencilValue</code> structure
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="clears-filling-buffers"></a>17.4. Filling Buffers</h2></div></div></div><p>To clear buffer data, call:</p><p><a id="vkCmdFillBuffer"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdFillBuffer(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    dstBuffer,
    VkDeviceSize                                dstOffset,
    VkDeviceSize                                size,
    uint32_t                                    data);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> is the buffer to be filled.
</li><li class="listitem">
<em class="parameter"><code>dstOffset</code></em> is the byte offset into the buffer at which to start
    filling, and <span class="normative">must</span> be a multiple of 4.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is the number of bytes to fill, and <span class="normative">must</span> be either a
    multiple of 4, or <code class="code">VK_WHOLE_SIZE</code> to fill the range from
    <em class="parameter"><code>offset</code></em> to the end of the buffer.
    If <code class="code">VK_WHOLE_SIZE</code> is used and the remaining size of the buffer is
    not a multiple of 4, then the nearest smaller multiple is used.
</li><li class="listitem">
<em class="parameter"><code>data</code></em> is the 4-byte word written repeatedly to the buffer to fill
    <em class="parameter"><code>size</code></em> bytes of data.
    The data word is written to memory according to the host endianness.
</li></ul></div><p><span class="strong"><strong><code class="code">vkCmdFillBuffer</code></strong></span> is treated as “transfer” operation for the purposes
of synchronization barriers.
The <code class="code">VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> <span class="normative">must</span> be specified in <em class="parameter"><code>usage</code></em>
of <code class="code">VkBufferCreateInfo</code> in order for the buffer to be compatible with
<span class="strong"><strong><code class="code">vkCmdFillBuffer</code></strong></span>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and <em class="parameter"><code>dstBuffer</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>dstOffset</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>dstBuffer</code></em>
</li><li class="listitem">
<em class="parameter"><code>dstOffset</code></em> <span class="normative">must</span> be a multiple of <code class="literal">4</code>
</li><li class="listitem">
If <em class="parameter"><code>size</code></em> is not equal to <code class="code">VK_WHOLE_SIZE</code>, <em class="parameter"><code>size</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>size</code></em> is not equal to <code class="code">VK_WHOLE_SIZE</code>, <em class="parameter"><code>size</code></em> <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>dstBuffer</code></em> minus <em class="parameter"><code>dstOffset</code></em>
</li><li class="listitem">
If <em class="parameter"><code>size</code></em> is not equal to <code class="code">VK_WHOLE_SIZE</code>, <em class="parameter"><code>size</code></em> <span class="normative">must</span> be a multiple of <code class="literal">4</code>
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> <span class="normative">must</span> have been created with <code class="code">VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="clears-updating-buffers"></a>17.5. Updating Buffers</h2></div></div></div><p>To update buffer data inline in a command buffer, call:</p><p><a id="vkCmdUpdateBuffer"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdUpdateBuffer(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    dstBuffer,
    VkDeviceSize                                dstOffset,
    VkDeviceSize                                dataSize,
    const void*                                 pData);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> is a handle to the buffer to be updated.
</li><li class="listitem">
<em class="parameter"><code>dstOffset</code></em> is the byte offset into the buffer to start updating,
    and <span class="normative">must</span> be a multiple of 4.
</li><li class="listitem">
<em class="parameter"><code>dataSize</code></em> is the number of bytes to update, and <span class="normative">must</span> be a multiple
    of 4.
</li><li class="listitem">
<em class="parameter"><code>pData</code></em> is a pointer to the source data for the buffer update, and
    <span class="normative">must</span> be at least <em class="parameter"><code>dataSize</code></em> bytes in size.
</li></ul></div><p><em class="parameter"><code>dataSize</code></em> <span class="normative">must</span> be less than or equal to 65536 bytes.
For larger updates, applications <span class="normative">can</span> use buffer to buffer
<a class="link" href="#copies-buffers" title="18.2. Copying Data Between Buffers">copies</a>.</p><p>The source data is copied from the user pointer to the command buffer when
the command is called.</p><p><span class="strong"><strong><code class="code">vkCmdUpdateBuffer</code></strong></span> is only allowed outside of a render pass.
This command is treated as “transfer” operation, for the purposes of
synchronization barriers.
The <code class="code">VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> <span class="normative">must</span> be specified in <em class="parameter"><code>usage</code></em>
of <code class="code"><a class="link" href="#VkBufferCreateInfo">VkBufferCreateInfo</a></code> in order for the buffer to be compatible with
<span class="strong"><strong><code class="code">vkCmdUpdateBuffer</code></strong></span>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pData</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>dataSize</code></em> bytes
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support transfer, graphics, or compute operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>dataSize</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and <em class="parameter"><code>dstBuffer</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>dstOffset</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>dstBuffer</code></em>
</li><li class="listitem">
<em class="parameter"><code>dataSize</code></em> <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>dstBuffer</code></em> minus <em class="parameter"><code>dstOffset</code></em>
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> <span class="normative">must</span> have been created with <code class="code">VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag
</li><li class="listitem">
<em class="parameter"><code>dstOffset</code></em> <span class="normative">must</span> be a multiple of <code class="literal">4</code>
</li><li class="listitem">
<em class="parameter"><code>dataSize</code></em> <span class="normative">must</span> be less than or equal to <code class="literal">65536</code>
</li><li class="listitem">
<em class="parameter"><code>dataSize</code></em> <span class="normative">must</span> be a multiple of <code class="literal">4</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>TRANSFER
GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The <em class="parameter"><code>pData</code></em> parameter was of type <span class="strong"><strong><code class="code">uint32_t</code></strong></span>*` instead of <span class="strong"><strong><code class="code">void</code></strong></span>* prior
to revision 1.0.19 of the Specification and <code class="code"><a class="link" href="#VK_HEADER_VERSION">VK_HEADER_VERSION</a></code> 19 of
<code class="literal">vulkan.h</code>.
This was a historical anomaly, as the source data may be of other types.</p></td></tr></table></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="copies"></a>Chapter 18. Copy Commands</h1></div></div></div><p>An application <span class="normative">can</span> copy buffer and image data using several methods
depending on the type of data transfer.
Data <span class="normative">can</span> be copied between buffer objects with <span class="strong"><strong><code class="code">vkCmdCopyBuffer</code></strong></span> and a
portion of an image <span class="normative">can</span> be copied to another image with
<span class="strong"><strong><code class="code">vkCmdCopyImage</code></strong></span>.
Image data <span class="normative">can</span> also be copied to and from buffer memory using
<span class="strong"><strong><code class="code">vkCmdCopyImageToBuffer</code></strong></span> and <span class="strong"><strong><code class="code">vkCmdCopyBufferToImage</code></strong></span>.
Image data <span class="normative">can</span> be blitted (with or without scaling and filtering) with
<span class="strong"><strong><code class="code">vkCmdBlitImage</code></strong></span>.
Multisampled images <span class="normative">can</span> be resolved to a non-multisampled image with
<span class="strong"><strong><code class="code">vkCmdResolveImage</code></strong></span>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_common_operation"></a>18.1. Common Operation</h2></div></div></div><p>Some rules for valid operation are common to all copy commands:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Copy commands <span class="normative">must</span> be recorded outside of a render pass instance.
</li><li class="listitem">
For non-sparse resources, the union of the source regions in a given
    buffer or image <span class="normative">must</span> not overlap the union of the destination regions
    in the same buffer or image.
</li><li class="listitem">
For sparse resources, the set of bytes used by all the source regions
    <span class="normative">must</span> not intersect the set of bytes used by all the destination
    regions.
</li><li class="listitem">
Copy regions <span class="normative">must</span> be non-empty.
</li><li class="listitem">
Regions <span class="normative">must</span> not extend outside the bounds of the buffer or image
    level, except that regions of compressed images <span class="normative">can</span> extend as far as
    the dimension of the image level rounded up to a complete compressed
    texel block.
</li><li class="listitem">
Source image subresources <span class="normative">must</span> be in either the
    <code class="code">VK_IMAGE_LAYOUT_GENERAL</code> or
    <code class="code">VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> layout.
    Destination image subresources <span class="normative">must</span> be in either the
    <code class="code">VK_IMAGE_LAYOUT_GENERAL</code> or
    <code class="code">VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> layout.
    As a consequence, if an image subresource is used as both source and
    destination of a copy, it <span class="normative">must</span> be in the <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
    layout.
</li><li class="listitem">
Source images <span class="normative">must</span> have been created with the
    <code class="code">VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage bit enabled and destination
    images <span class="normative">must</span> have been created with the
    <code class="code">VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage bit enabled.
</li><li class="listitem">
Source buffers <span class="normative">must</span> have been created with the
    <code class="code">VK_BUFFER_USAGE_TRANSFER_SRC_BIT</code> usage bit enabled and destination
    buffers <span class="normative">must</span> have been created with the
    <code class="code">VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage bit enabled.
</li></ul></div><p>All copy commands are treated as “transfer” operations for the purposes of
synchronization barriers.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="copies-buffers"></a>18.2. Copying Data Between Buffers</h2></div></div></div><p>To copy data between buffer objects, call:</p><p><a id="vkCmdCopyBuffer"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdCopyBuffer(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    srcBuffer,
    VkBuffer                                    dstBuffer,
    uint32_t                                    regionCount,
    const VkBufferCopy*                         pRegions);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>srcBuffer</code></em> is the source buffer.
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> is the destination buffer.
</li><li class="listitem">
<em class="parameter"><code>regionCount</code></em> is the number of regions to copy.
</li><li class="listitem">
<em class="parameter"><code>pRegions</code></em> is a pointer to an array of <code class="code"><a class="link" href="#VkBufferCopy">VkBufferCopy</a></code> structures
    specifying the regions to copy.
</li></ul></div><p>Each region in <em class="parameter"><code>pRegions</code></em> is copied from the source buffer to the same
region of the destination buffer.
<em class="parameter"><code>srcBuffer</code></em> and <em class="parameter"><code>dstBuffer</code></em> <span class="normative">can</span> be the same buffer or alias the
same memory, but the result is undefined if the copy regions overlap in
memory.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>srcBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>regionCount</code></em> <code class="code">VkBufferCopy</code> structures
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support transfer, graphics, or compute operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>regionCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Each of <em class="parameter"><code>commandBuffer</code></em>, <em class="parameter"><code>dstBuffer</code></em>, and <em class="parameter"><code>srcBuffer</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
The <em class="parameter"><code>size</code></em> member of a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
The <em class="parameter"><code>srcOffset</code></em> member of a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>srcBuffer</code></em>
</li><li class="listitem">
The <em class="parameter"><code>dstOffset</code></em> member of a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>dstBuffer</code></em>
</li><li class="listitem">
The <em class="parameter"><code>size</code></em> member of a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>srcBuffer</code></em> minus <em class="parameter"><code>srcOffset</code></em>
</li><li class="listitem">
The <em class="parameter"><code>size</code></em> member of a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>dstBuffer</code></em> minus <em class="parameter"><code>dstOffset</code></em>
</li><li class="listitem">
The union of the source regions, and the union of the destination regions, specified by the elements of <em class="parameter"><code>pRegions</code></em>, <span class="normative">must</span> not overlap in memory
</li><li class="listitem">
<em class="parameter"><code>srcBuffer</code></em> <span class="normative">must</span> have been created with <code class="code">VK_BUFFER_USAGE_TRANSFER_SRC_BIT</code> usage flag
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> <span class="normative">must</span> have been created with <code class="code">VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>TRANSFER
GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p>The <code class="code">VkBufferCopy</code> structure is defined as:</p><p><a id="VkBufferCopy"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkBufferCopy {
    VkDeviceSize    srcOffset;
    VkDeviceSize    dstOffset;
    VkDeviceSize    size;
} VkBufferCopy;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>srcOffset</code></em> is the starting offset in bytes from the start of
    <em class="parameter"><code>srcBuffer</code></em>.
</li><li class="listitem">
<em class="parameter"><code>dstOffset</code></em> is the starting offset in bytes from the start of
    <em class="parameter"><code>dstBuffer</code></em>.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is the number of bytes to copy.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="copies-images"></a>18.3. Copying Data Between Images</h2></div></div></div><p><span class="strong"><strong><code class="code">vkCmdCopyImage</code></strong></span> performs image copies in a similar manner to a host
memcpy.
It does not perform general-purpose conversions such as scaling, resizing,
blending, color-space conversion, or format conversions.
Rather, it simply copies raw image data.
<span class="strong"><strong><code class="code">vkCmdCopyImage</code></strong></span> <span class="normative">can</span> copy between images with different formats,
provided the formats are compatible as defined below.</p><p>To copy data between image objects, call:</p><p><a id="vkCmdCopyImage"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdCopyImage(
    VkCommandBuffer                             commandBuffer,
    VkImage                                     srcImage,
    VkImageLayout                               srcImageLayout,
    VkImage                                     dstImage,
    VkImageLayout                               dstImageLayout,
    uint32_t                                    regionCount,
    const VkImageCopy*                          pRegions);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> is the source image.
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> is the current layout of the source image
    subresource.
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> is the destination image.
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> is the current layout of the destination image
    subresource.
</li><li class="listitem">
<em class="parameter"><code>regionCount</code></em> is the number of regions to copy.
</li><li class="listitem">
<em class="parameter"><code>pRegions</code></em> is a pointer to an array of <code class="code"><a class="link" href="#VkImageCopy">VkImageCopy</a></code> structures
    specifying the regions to copy.
</li></ul></div><p>Each region in <em class="parameter"><code>pRegions</code></em> is copied from the source image to the same
region of the destination image.
<em class="parameter"><code>srcImage</code></em> and <em class="parameter"><code>dstImage</code></em> <span class="normative">can</span> be the same image or alias the same
memory.</p><p>Copies are done layer by layer starting with <em class="parameter"><code>baseArrayLayer</code></em> member of
<em class="parameter"><code>srcSubresource</code></em> for the source and <em class="parameter"><code>dstSubresource</code></em> for the
destination.
<em class="parameter"><code>layerCount</code></em> layers are copied to the destination image.</p><p><a id="copies-images-format-compatibility"></a>The formats of <em class="parameter"><code>srcImage</code></em> and <em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> be compatible.
Formats are considered compatible if their texel size in bytes is the same
between both formats.
For example, <code class="code">VK_FORMAT_R8G8B8A8_UNORM</code> is compatible with
<code class="code">VK_FORMAT_R32_UINT</code> because both texels are 4 bytes in size.
Depth/stencil formats <span class="normative">must</span> match exactly.</p><p><span class="strong"><strong><code class="code">vkCmdCopyImage</code></strong></span> allows copying between size-compatible compressed and
uncompressed internal formats.
Formats are size-compatible if the texel size of the uncompressed format is
equal to the compressed texel block size in bytes of the compressed format.
Such a copy does not perform on-the-fly compression or decompression.
When copying from an uncompressed format to a compressed format, each texel
of uncompressed data of the source image is copied as a raw value to the
corresponding compressed texel block of the destination image.
When copying from a compressed format to an uncompressed format, each
compressed texel block of the source image is copied as a raw value to the
corresponding texel of uncompressed data in the destination image.
Thus, for example, it is legal to copy between a 128-bit uncompressed format
and a compressed format which has a 128-bit sized compressed texel block
representing 4x4 texels (using 8 bits per texel), or between a 64-bit
uncompressed format and a compressed format which has a 64-bit sized
compressed texel block representing 4x4 texels (using 4 bits per texel).</p><p>When copying between compressed and uncompressed formats the <em class="parameter"><code>extent</code></em>
members represent the texel dimensions of the source image and not the
destination.
When copying from a compressed image to an uncompressed image the image
texel dimensions written to the uncompressed image will be source extent
divided by the compressed texel block dimensions.
When copying from an uncompressed image to a compressed image the image
texel dimensions written to the compressed image will be the source extent
multiplied by the compressed texel block dimensions.
In both cases the number of bytes read and the number of bytes written will
be identical.</p><p>Copying to or from block-compressed images is typically done in multiples of
the compressed texel block.
For this reason the <em class="parameter"><code>extent</code></em> <span class="normative">must</span> be a multiple of the compressed texel
block dimension.
There is one exception to this rule which is <span class="normative">required</span> to handle compressed
images created with dimensions that are not a multiple of the compressed
texel block dimensions.
If the <em class="parameter"><code>srcImage</code></em> is compressed and if <em class="parameter"><code>extent.width</code></em> is not a
multiple of the compressed texel block width then (<em class="parameter"><code>extent.width</code></em>
<em class="parameter"><code>srcOffset.pname</code></em>:x) <span class="normative">must</span> equal the image subresource width, if
<em class="parameter"><code>extent.height</code></em> is not a multiple of the compressed texel block height
then (<em class="parameter"><code>extent.height</code></em> + <em class="parameter"><code>srcOffset.pname</code></em>:y) <span class="normative">must</span> equal the image
subresource height and if <em class="parameter"><code>extent.depth</code></em> is not a multiple of the
compressed texel block depth then (<em class="parameter"><code>extent.depth</code></em> + <em class="parameter"><code>srcOffset.pname</code></em>:z)
<span class="normative">must</span> equal the image subresource depth.
Similarly, if the <em class="parameter"><code>dstImage</code></em> is compressed and if <em class="parameter"><code>extent.width</code></em> is
not a multiple of the compressed texel block width then (<em class="parameter"><code>extent.width</code></em>
+ <em class="parameter"><code>dstOffset.pname</code></em>:x) <span class="normative">must</span> equal the image subresource width, if
<em class="parameter"><code>extent.height</code></em> is not a multiple of the compressed texel block height
then (<em class="parameter"><code>extent.height</code></em> + <em class="parameter"><code>dstOffset.pname</code></em>:y) <span class="normative">must</span> equal the image
subresource height and if <em class="parameter"><code>extent.depth</code></em> is not a multiple of the
compressed texel block depth then (<em class="parameter"><code>extent.depth</code></em>
<em class="parameter"><code>dstOffset.pname</code></em>:z) <span class="normative">must</span> equal the image subresource depth.
This allows the last compressed texel block of the image in each
non-multiple dimension to be included as a source or destination of the
copy.</p><p><span class="strong"><strong><code class="code">vkCmdCopyImage</code></strong></span> <span class="normative">can</span> be used to copy image data between multisample
images, but both images <span class="normative">must</span> have the same number of samples.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>regionCount</code></em> valid <code class="code">VkImageCopy</code> structures
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support transfer, graphics, or compute operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>regionCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Each of <em class="parameter"><code>commandBuffer</code></em>, <em class="parameter"><code>dstImage</code></em>, and <em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
The source region specified by a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a region that is contained within <em class="parameter"><code>srcImage</code></em>
</li><li class="listitem">
The destination region specified by a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a region that is contained within <em class="parameter"><code>dstImage</code></em>
</li><li class="listitem">
The union of all source regions, and the union of all destination regions, specified by the elements of <em class="parameter"><code>pRegions</code></em>, <span class="normative">must</span> not overlap in memory
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage flag
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> <span class="normative">must</span> specify the layout of the image subresources of <em class="parameter"><code>srcImage</code></em> specified in <em class="parameter"><code>pRegions</code></em> at the time this command is executed on a <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> <span class="normative">must</span> be either of <code class="code">VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> or <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> <span class="normative">must</span> specify the layout of the image subresources of <em class="parameter"><code>dstImage</code></em> specified in <em class="parameter"><code>pRegions</code></em> at the time this command is executed on a <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> <span class="normative">must</span> be either of <code class="code">VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
</li><li class="listitem">
The <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> of each of <em class="parameter"><code>srcImage</code></em> and <em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> be compatible, as defined <a class="link" href="#copies-images-format-compatibility">below</a>
</li><li class="listitem">
The sample count of <em class="parameter"><code>srcImage</code></em> and <em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> match
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>TRANSFER
GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p>The <code class="code">VkImageCopy</code> structure is defined as:</p><p><a id="VkImageCopy"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkImageCopy {
    VkImageSubresourceLayers    srcSubresource;
    VkOffset3D                  srcOffset;
    VkImageSubresourceLayers    dstSubresource;
    VkOffset3D                  dstOffset;
    VkExtent3D                  extent;
} VkImageCopy;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>srcSubresource</code></em> and <em class="parameter"><code>dstSubresource</code></em> are
    <code class="code"><a class="link" href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a></code> structures specifying the image
    subresources of the images used for the source and destination image
    data, respectively.
</li><li class="listitem">
<em class="parameter"><code>srcOffset</code></em> and <em class="parameter"><code>dstOffset</code></em> select the initial x, y, and z
    offsets in texels of the sub-regions of the source and destination image
    data.
</li><li class="listitem">
<em class="parameter"><code>extent</code></em> is the size in texels of the source image to copy in
    <em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em> and <em class="parameter"><code>depth</code></em>.
    1D images use only <em class="parameter"><code>x</code></em> and <em class="parameter"><code>width</code></em>.
    2D images use <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>, <em class="parameter"><code>width</code></em> and <em class="parameter"><code>height</code></em>.
    3D images use <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>, <em class="parameter"><code>z</code></em>, <em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em> and
    <em class="parameter"><code>depth</code></em>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>srcSubresource</code></em> <span class="normative">must</span> be a valid <code class="code">VkImageSubresourceLayers</code> structure
</li><li class="listitem">
<em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> be a valid <code class="code">VkImageSubresourceLayers</code> structure
</li><li class="listitem">
The <em class="parameter"><code>aspectMask</code></em> member of <em class="parameter"><code>srcSubresource</code></em> and <em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> match
</li><li class="listitem">
The <em class="parameter"><code>layerCount</code></em> member of <em class="parameter"><code>srcSubresource</code></em> and <em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> match
</li><li class="listitem">
If either of the calling command’s <em class="parameter"><code>srcImage</code></em> or <em class="parameter"><code>dstImage</code></em> parameters are of <code class="code"><a class="link" href="#VkImageType">VkImageType</a></code> <code class="code">VK_IMAGE_TYPE_3D</code>, the <em class="parameter"><code>baseArrayLayer</code></em> and <em class="parameter"><code>layerCount</code></em> members of both <em class="parameter"><code>srcSubresource</code></em> and <em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> be <code class="literal">0</code> and <code class="literal">1</code>, respectively
</li><li class="listitem">
The <em class="parameter"><code>aspectMask</code></em> member of <em class="parameter"><code>srcSubresource</code></em> <span class="normative">must</span> specify aspects present in the calling command’s <em class="parameter"><code>srcImage</code></em>
</li><li class="listitem">
The <em class="parameter"><code>aspectMask</code></em> member of <em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> specify aspects present in the calling command’s <em class="parameter"><code>dstImage</code></em>
</li><li class="listitem">
<em class="parameter"><code>srcOffset.pname</code></em>:x and (<em class="parameter"><code>extent.width</code></em> + <em class="parameter"><code>srcOffset.pname</code></em>:x) <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the source image subresource width
</li><li class="listitem">
<em class="parameter"><code>srcOffset.pname</code></em>:y and (<em class="parameter"><code>extent.height</code></em> + <em class="parameter"><code>srcOffset.pname</code></em>:y) <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the source image subresource height
</li><li class="listitem">
<em class="parameter"><code>srcOffset.pname</code></em>:z and (<em class="parameter"><code>extent.depth</code></em> + <em class="parameter"><code>srcOffset.pname</code></em>:z) <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the source image subresource depth
</li><li class="listitem">
<em class="parameter"><code>dstOffset.pname</code></em>:x and (<em class="parameter"><code>extent.width</code></em> + <em class="parameter"><code>dstOffset.pname</code></em>:x) <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the destination image subresource width
</li><li class="listitem">
<em class="parameter"><code>dstOffset.pname</code></em>:y and (<em class="parameter"><code>extent.height</code></em> + <em class="parameter"><code>dstOffset.pname</code></em>:y) <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the destination image subresource height
</li><li class="listitem">
<em class="parameter"><code>dstOffset.pname</code></em>:z and (<em class="parameter"><code>extent.depth</code></em> + <em class="parameter"><code>dstOffset.pname</code></em>:z) <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the destination image subresource depth
</li><li class="listitem"><p class="simpara">
If the calling command’s <em class="parameter"><code>srcImage</code></em> is a compressed format image:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
all members of <em class="parameter"><code>srcOffset</code></em> <span class="normative">must</span> be a multiple of the corresponding dimensions of the compressed texel block
</li><li class="listitem">
<em class="parameter"><code>extent.width</code></em> <span class="normative">must</span> be a multiple of the compressed texel block width or (<em class="parameter"><code>extent.width</code></em> + <em class="parameter"><code>srcOffset.pname</code></em>:x) <span class="normative">must</span> equal the source image subresource width
</li><li class="listitem">
<em class="parameter"><code>extent.height</code></em> <span class="normative">must</span> be a multiple of the compressed texel block height or (<em class="parameter"><code>extent.height</code></em> + <em class="parameter"><code>srcOffset.pname</code></em>:y) <span class="normative">must</span> equal the source image subresource height
</li><li class="listitem">
<em class="parameter"><code>extent.depth</code></em> <span class="normative">must</span> be a multiple of the compressed texel block depth or (<em class="parameter"><code>extent.depth</code></em> + <em class="parameter"><code>srcOffset.pname</code></em>:z) <span class="normative">must</span> equal the source image subresource depth
</li></ul></div></li><li class="listitem"><p class="simpara">
If the calling command’s <em class="parameter"><code>dstImage</code></em> is a compressed format image:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
all members of <em class="parameter"><code>dstOffset</code></em> <span class="normative">must</span> be a multiple of the corresponding dimensions of the compressed texel block
</li><li class="listitem">
<em class="parameter"><code>extent.width</code></em> <span class="normative">must</span> be a multiple of the compressed texel block width or (<em class="parameter"><code>extent.width</code></em> + <em class="parameter"><code>dstOffset.pname</code></em>:x) <span class="normative">must</span> equal the destination image subresource width
</li><li class="listitem">
<em class="parameter"><code>extent.height</code></em> <span class="normative">must</span> be a multiple of the compressed texel block height or (<em class="parameter"><code>extent.height</code></em> + <em class="parameter"><code>dstOffset.pname</code></em>:y) <span class="normative">must</span> equal the destination image subresource height
</li><li class="listitem">
<em class="parameter"><code>extent.depth</code></em> <span class="normative">must</span> be a multiple of the compressed texel block depth or (<em class="parameter"><code>extent.depth</code></em> + <em class="parameter"><code>dstOffset.pname</code></em>:z) <span class="normative">must</span> equal the destination image subresource depth
</li></ul></div></li><li class="listitem">
<em class="parameter"><code>srcOffset</code></em>, <em class="parameter"><code>dstOffset</code></em>, and <em class="parameter"><code>extent</code></em> <span class="normative">must</span> respect the image transfer granularity requirements of the queue family that it will be submitted against, as described in <a class="link" href="#devsandqueues-physical-device-enumeration" title="4.1. Physical Devices">Physical Device Enumeration</a>
</li></ul></div></div><p>The <code class="code">VkImageSubresourceLayers</code> structure is defined as:</p><p><a id="VkImageSubresourceLayers"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkImageSubresourceLayers {
    VkImageAspectFlags    aspectMask;
    uint32_t              mipLevel;
    uint32_t              baseArrayLayer;
    uint32_t              layerCount;
} VkImageSubresourceLayers;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> is a combination of <code class="code"><a class="link" href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code>,
    selecting the color, depth and/or stencil aspects to be copied.
</li><li class="listitem">
<em class="parameter"><code>mipLevel</code></em> is the mipmap level to copy from.
</li><li class="listitem">
<em class="parameter"><code>baseArrayLayer</code></em> and <em class="parameter"><code>layerCount</code></em> are the starting layer and
    number of layers to copy.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>aspectMask</code></em> contains <code class="code">VK_IMAGE_ASPECT_COLOR_BIT</code>, it <span class="normative">must</span> not contain either of <code class="code">VK_IMAGE_ASPECT_DEPTH_BIT</code> or <code class="code">VK_IMAGE_ASPECT_STENCIL_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> <span class="normative">must</span> not contain <code class="code">VK_IMAGE_ASPECT_METADATA_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>mipLevel</code></em> <span class="normative">must</span> be less than the <em class="parameter"><code>mipLevels</code></em> specified in <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the image was created
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$(baseArrayLayer + layerCount)$
</span></span> <span class="normative">must</span> be less than or equal to the <em class="parameter"><code>arrayLayers</code></em> specified in <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code> when the image was created
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="copies-buffers-images"></a>18.4. Copying Data Between Buffers and Images</h2></div></div></div><p>To copy data from a buffer object to an image object, call:</p><p><a id="vkCmdCopyBufferToImage"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdCopyBufferToImage(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    srcBuffer,
    VkImage                                     dstImage,
    VkImageLayout                               dstImageLayout,
    uint32_t                                    regionCount,
    const VkBufferImageCopy*                    pRegions);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>srcBuffer</code></em> is the source buffer.
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> is the destination image.
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> is the layout of the destination image subresources
    for the copy.
</li><li class="listitem">
<em class="parameter"><code>regionCount</code></em> is the number of regions to copy.
</li><li class="listitem">
<em class="parameter"><code>pRegions</code></em> is a pointer to an array of <code class="code"><a class="link" href="#VkBufferImageCopy">VkBufferImageCopy</a></code>
    structures specifying the regions to copy.
</li></ul></div><p>Each region in <em class="parameter"><code>pRegions</code></em> is copied from the specified region of the
source buffer to the specified region of the destination image.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>srcBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>regionCount</code></em> valid <code class="code">VkBufferImageCopy</code> structures
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support transfer, graphics, or compute operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>regionCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Each of <em class="parameter"><code>commandBuffer</code></em>, <em class="parameter"><code>dstImage</code></em>, and <em class="parameter"><code>srcBuffer</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
The buffer region specified by a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a region that is contained within <em class="parameter"><code>srcBuffer</code></em>
</li><li class="listitem">
The image region specified by a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a region that is contained within <em class="parameter"><code>dstImage</code></em>
</li><li class="listitem">
The union of all source regions, and the union of all destination regions, specified by the elements of <em class="parameter"><code>pRegions</code></em>, <span class="normative">must</span> not overlap in memory
</li><li class="listitem">
<em class="parameter"><code>srcBuffer</code></em> <span class="normative">must</span> have been created with <code class="code">VK_BUFFER_USAGE_TRANSFER_SRC_BIT</code> usage flag
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> have a sample count equal to <code class="code">VK_SAMPLE_COUNT_1_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> <span class="normative">must</span> specify the layout of the image subresources of <em class="parameter"><code>dstImage</code></em> specified in <em class="parameter"><code>pRegions</code></em> at the time this command is executed on a <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> <span class="normative">must</span> be either of <code class="code">VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>TRANSFER
GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p>To copy data from an image object to a buffer object, call:</p><p><a id="vkCmdCopyImageToBuffer"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdCopyImageToBuffer(
    VkCommandBuffer                             commandBuffer,
    VkImage                                     srcImage,
    VkImageLayout                               srcImageLayout,
    VkBuffer                                    dstBuffer,
    uint32_t                                    regionCount,
    const VkBufferImageCopy*                    pRegions);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> is the source image.
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> is the layout of the source image subresources for
    the copy.
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> is the destination buffer.
</li><li class="listitem">
<em class="parameter"><code>regionCount</code></em> is the number of regions to copy.
</li><li class="listitem">
<em class="parameter"><code>pRegions</code></em> is a pointer to an array of <code class="code"><a class="link" href="#VkBufferImageCopy">VkBufferImageCopy</a></code>
    structures specifying the regions to copy.
</li></ul></div><p>Each region in <em class="parameter"><code>pRegions</code></em> is copied from the specified region of the
source image to the specified region of the destination buffer.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>regionCount</code></em> valid <code class="code">VkBufferImageCopy</code> structures
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support transfer, graphics, or compute operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>regionCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Each of <em class="parameter"><code>commandBuffer</code></em>, <em class="parameter"><code>dstBuffer</code></em>, and <em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
The image region specified by a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a region that is contained within <em class="parameter"><code>srcImage</code></em>
</li><li class="listitem">
The buffer region specified by a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a region that is contained within <em class="parameter"><code>dstBuffer</code></em>
</li><li class="listitem">
The union of all source regions, and the union of all destination regions, specified by the elements of <em class="parameter"><code>pRegions</code></em>, <span class="normative">must</span> not overlap in memory
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage flag
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> have a sample count equal to <code class="code">VK_SAMPLE_COUNT_1_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> <span class="normative">must</span> specify the layout of the image subresources of <em class="parameter"><code>srcImage</code></em> specified in <em class="parameter"><code>pRegions</code></em> at the time this command is executed on a <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> <span class="normative">must</span> be either of <code class="code">VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> or <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
</li><li class="listitem">
<em class="parameter"><code>dstBuffer</code></em> <span class="normative">must</span> have been created with <code class="code">VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>TRANSFER
GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p>For both <code class="code"><a class="link" href="#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a></code> and <code class="code"><a class="link" href="#vkCmdCopyImageToBuffer">vkCmdCopyImageToBuffer</a></code>, each
element of <em class="parameter"><code>pRegions</code></em> is a structure defined as:</p><p><a id="VkBufferImageCopy"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkBufferImageCopy {
    VkDeviceSize                bufferOffset;
    uint32_t                    bufferRowLength;
    uint32_t                    bufferImageHeight;
    VkImageSubresourceLayers    imageSubresource;
    VkOffset3D                  imageOffset;
    VkExtent3D                  imageExtent;
} VkBufferImageCopy;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>bufferOffset</code></em> is the offset in bytes from the start of the buffer
    object where the image data is copied from or to.
</li><li class="listitem">
<em class="parameter"><code>bufferRowLength</code></em> and <em class="parameter"><code>bufferImageHeight</code></em> specify the data in
    buffer memory as a subregion of a larger two- or three-dimensional
    image, and control the addressing calculations of data in buffer memory.
    If either of these values is zero, that aspect of the buffer memory is
    considered to be tightly packed according to the <em class="parameter"><code>imageExtent</code></em>.
</li><li class="listitem">
<em class="parameter"><code>imageSubresource</code></em> is a <code class="code"><a class="link" href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a></code> used to
    specify the specific image subresources of the image used for the source
    or destination image data.
</li><li class="listitem">
<em class="parameter"><code>imageOffset</code></em> selects the initial x, y, z offsets in texels of the
    sub-region of the source or destination image data.
</li><li class="listitem">
<em class="parameter"><code>imageExtent</code></em> is the size in texels of the image to copy in
    <em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em> and <em class="parameter"><code>depth</code></em>.
    1D images use only <em class="parameter"><code>x</code></em> and <em class="parameter"><code>width</code></em>.
    2D images use <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>, <em class="parameter"><code>width</code></em> and <em class="parameter"><code>height</code></em>.
    3D images use <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>, <em class="parameter"><code>z</code></em>, <em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em> and
    <em class="parameter"><code>depth</code></em>.
</li></ul></div><p>When copying to or from a depth or stencil aspect, the data in buffer memory
uses a layout that is a (mostly) tightly packed representation of the depth
or stencil data.
Specifically:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
data copied to or from the stencil aspect of any depth/stencil format is
    tightly packed with one <code class="code">VK_FORMAT_S8_UINT</code> value per texel.
</li><li class="listitem">
data copied to or from the depth aspect of a <code class="code">VK_FORMAT_D16_UNORM</code>
    or <code class="code">VK_FORMAT_D16_UNORM_S8_UINT</code> format is tightly packed with one
    <code class="code">VK_FORMAT_D16_UNORM</code> value per texel.
</li><li class="listitem">
data copied to or from the depth aspect of a <code class="code">VK_FORMAT_D32_SFLOAT</code>
    or <code class="code">VK_FORMAT_D32_SFLOAT_S8_UINT</code> format is tightly packed with one
    <code class="code">VK_FORMAT_D32_SFLOAT</code> value per texel.
</li><li class="listitem">
data copied to or from the depth aspect of a
    <code class="code">VK_FORMAT_X8_D24_UNORM_PACK32</code> or <code class="code">VK_FORMAT_D24_UNORM_S8_UINT</code>
    format is packed with one 32-bit word per texel with the D24 value in
    the LSBs of the word, and undefined values in the eight MSBs.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>To copy both the depth and stencil aspects of a depth/stencil format, two
entries in <em class="parameter"><code>pRegions</code></em> <span class="normative">can</span> be used, where one specifies the depth aspect
in <em class="parameter"><code>imageSubresource</code></em>, and the other specifies the stencil aspect.</p></td></tr></table></div><p>Because depth or stencil aspect buffer to image copies <span class="normative">may</span> require format
conversions on some implementations, they are not supported on queues that
do not support graphics.
When copying to a depth aspect, the data in buffer memory <span class="normative">must</span> be in the
the range <span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span> or undefined results occur.</p><p>Copies are done layer by layer starting with image layer
<em class="parameter"><code>baseArrayLayer</code></em> member of <em class="parameter"><code>imageSubresource</code></em>.
<em class="parameter"><code>layerCount</code></em> layers are copied from the source image or to the
destination image.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>imageSubresource</code></em> <span class="normative">must</span> be a valid <code class="code">VkImageSubresourceLayers</code> structure
</li><li class="listitem">
<em class="parameter"><code>bufferOffset</code></em> <span class="normative">must</span> be a multiple of the calling command’s <code class="code">VkImage</code> parameter’s texel size
</li><li class="listitem">
<em class="parameter"><code>bufferOffset</code></em> <span class="normative">must</span> be a multiple of <code class="literal">4</code>
</li><li class="listitem">
<em class="parameter"><code>bufferRowLength</code></em> <span class="normative">must</span> be <code class="literal">0</code>, or greater than or equal to the <em class="parameter"><code>width</code></em> member of <em class="parameter"><code>imageExtent</code></em>
</li><li class="listitem">
<em class="parameter"><code>bufferImageHeight</code></em> <span class="normative">must</span> be <code class="literal">0</code>, or greater than or equal to the <em class="parameter"><code>height</code></em> member of <em class="parameter"><code>imageExtent</code></em>
</li><li class="listitem">
<em class="parameter"><code>imageOffset.pname</code></em>:x and (<em class="parameter"><code>imageExtent.width</code></em> + <em class="parameter"><code>imageOffset.pname</code></em>:x) <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the image subresource width
</li><li class="listitem">
<em class="parameter"><code>imageOffset.pname</code></em>:y and (imageExtent.height + <em class="parameter"><code>imageOffset.pname</code></em>:y) <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the image subresource height
</li><li class="listitem">
<em class="parameter"><code>imageOffset.pname</code></em>:z and (imageExtent.depth + <em class="parameter"><code>imageOffset.pname</code></em>:z) <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the image subresource depth
</li><li class="listitem"><p class="simpara">
If the calling command’s <code class="code">VkImage</code> parameter is a compressed format image:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<em class="parameter"><code>bufferRowLength</code></em> <span class="normative">must</span> be a multiple of the compressed texel block width
</li><li class="listitem">
<em class="parameter"><code>bufferImageHeight</code></em> <span class="normative">must</span> be a multiple of the compressed texel block height
</li><li class="listitem">
all members of <em class="parameter"><code>imageOffset</code></em> <span class="normative">must</span> be a multiple of the corresponding dimensions of the compressed texel block
</li><li class="listitem">
<em class="parameter"><code>bufferOffset</code></em> <span class="normative">must</span> be a multiple of the compressed texel block size in bytes
</li><li class="listitem">
<em class="parameter"><code>imageExtent.width</code></em> <span class="normative">must</span> be a multiple of the compressed texel block width or (<em class="parameter"><code>imageExtent.width</code></em> + <em class="parameter"><code>imageOffset.pname</code></em>:x) <span class="normative">must</span> equal the image subresource width
</li><li class="listitem">
<em class="parameter"><code>imageExtent.height</code></em> <span class="normative">must</span> be a multiple of the compressed texel block height or (<em class="parameter"><code>imageExtent.height</code></em> + <em class="parameter"><code>imageOffset.pname</code></em>:y) <span class="normative">must</span> equal the image subresource height
</li><li class="listitem">
<em class="parameter"><code>imageExtent.depth</code></em> <span class="normative">must</span> be a multiple of the compressed texel block depth or (<em class="parameter"><code>imageExtent.depth</code></em> + <em class="parameter"><code>imageOffset.pname</code></em>:z) <span class="normative">must</span> equal the image subresource depth
</li></ul></div></li><li class="listitem">
<em class="parameter"><code>bufferOffset</code></em>, <em class="parameter"><code>bufferRowLength</code></em>, <em class="parameter"><code>bufferImageHeight</code></em> and all members of <em class="parameter"><code>imageOffset</code></em> and <em class="parameter"><code>imageExtent</code></em> <span class="normative">must</span> respect the image transfer granularity requirements of the queue family that it will be submitted against, as described in <a class="link" href="#devsandqueues-physical-device-enumeration" title="4.1. Physical Devices">Physical Device Enumeration</a>
</li><li class="listitem">
The <em class="parameter"><code>aspectMask</code></em> member of <em class="parameter"><code>imageSubresource</code></em> <span class="normative">must</span> specify aspects present in the calling command’s <code class="code">VkImage</code> parameter
</li><li class="listitem">
The <em class="parameter"><code>aspectMask</code></em> member of <em class="parameter"><code>imageSubresource</code></em> <span class="normative">must</span> only have a single bit set
</li><li class="listitem">
If the calling command’s <code class="code">VkImage</code> parameter is of <code class="code"><a class="link" href="#VkImageType">VkImageType</a></code> <code class="code">VK_IMAGE_TYPE_3D</code>, the <em class="parameter"><code>baseArrayLayer</code></em> and <em class="parameter"><code>layerCount</code></em> members of <em class="parameter"><code>imageSubresource</code></em> <span class="normative">must</span> be <code class="literal">0</code> and <code class="literal">1</code>, respectively
</li><li class="listitem">
When copying to the depth aspect of an image subresource, the data in the source buffer <span class="normative">must</span> be in the range <span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span>
</li></ul></div></div><p>Pseudocode for image/buffer addressing is:</p><pre class="programlisting">rowLength = region-&gt;bufferRowLength;
if (rowLength == 0)
    rowLength = region-&gt;imageExtent.width;

imageHeight = region-&gt;bufferImageHeight;
if (imageHeight == 0)
    imageHeight = region-&gt;imageExtent.height;

texelSize = &lt;texel size taken from the src/dstImage&gt;;

address of (x,y,z) = region-&gt;bufferOffset + (((z * imageHeight) + y) * rowLength + x) * texelSize;

where x,y,z range from (0,0,0) to region-&gt;imageExtent.{width,height,depth}.</pre><p>Note that <em class="parameter"><code>imageOffset</code></em> does not affect addressing calculations for
buffer memory.
Instead, <em class="parameter"><code>bufferOffset</code></em> <span class="normative">can</span> be used to select the starting address in
buffer memory.</p><p>For block-compression formats, all parameters are still specified in texels
rather than compressed texel blocks, but the addressing math operates on
whole compressed texel blocks.
Pseudocode for compressed copy addressing is:</p><pre class="programlisting">rowLength = region-&gt;bufferRowLength;
if (rowLength == 0)
    rowLength = region-&gt;imageExtent.width;

imageHeight = region-&gt;bufferImageHeight;
if (imageHeight == 0)
    imageHeight = region-&gt;imageExtent.height;

compressedTexelBlockSizeInBytes = &lt;compressed texel block size taken from the src/dstImage&gt;;
rowLength /= compressedTexelBlockWidth;
imageHeight /= compressedTexelBlockHeight;

address of (x,y,z) = region-&gt;bufferOffset + (((z * imageHeight) + y) * rowLength + x) * compressedTexelBlockSizeInBytes;

where x,y,z range from (0,0,0) to region-&gt;imageExtent.{width/compressedTexelBlockWidth,height/compressedTexelBlockHeight,depth/compressedTexelBlockDepth}.</pre><p>Copying to or from block-compressed images is typically done in multiples of
the compressed texel block.
For this reason the <em class="parameter"><code>imageExtent</code></em> <span class="normative">must</span> be a multiple of the compressed
texel block dimension.
There is one exception to this rule which is <span class="normative">required</span> to handle compressed
images created with dimensions that are not a multiple of the compressed
texel block dimensions.
If <em class="parameter"><code>imageExtent.width</code></em> is not a multiple of the compressed texel block
width then (<em class="parameter"><code>imageExtent.width</code></em> + <em class="parameter"><code>imageOffset.pname</code></em>:x) <span class="normative">must</span> equal the
image subresource width, if <em class="parameter"><code>imageExtent.height</code></em> is not a multiple of
the compressed texel block height then (<em class="parameter"><code>imageExtent.height</code></em>
<em class="parameter"><code>imageOffset.pname</code></em>:y) <span class="normative">must</span> equal the image subresource height and if
<em class="parameter"><code>imageExtent.depth</code></em> is not a multiple of the compressed texel block
depth then (<em class="parameter"><code>imageExtent.depth</code></em> + <em class="parameter"><code>imageOffset.pname</code></em>:z) <span class="normative">must</span> equal the
image subresource depth.
This allows the last compressed texel block of the image in each
non-multiple dimension to be included as a source or destination of the
copy.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="copies-imagescaling"></a>18.5. Image Copies with Scaling</h2></div></div></div><p>To copy regions of a source image into a destination image, potentially
performing format conversion, arbitrary scaling, and filtering, call:</p><p><a id="vkCmdBlitImage"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdBlitImage(
    VkCommandBuffer                             commandBuffer,
    VkImage                                     srcImage,
    VkImageLayout                               srcImageLayout,
    VkImage                                     dstImage,
    VkImageLayout                               dstImageLayout,
    uint32_t                                    regionCount,
    const VkImageBlit*                          pRegions,
    VkFilter                                    filter);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> is the source image.
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> is the layout of the source image subresources for
    the blit.
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> is the destination image.
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> is the layout of the destination image subresources
    for the blit.
</li><li class="listitem">
<em class="parameter"><code>regionCount</code></em> is the number of regions to blit.
</li><li class="listitem">
<em class="parameter"><code>pRegions</code></em> is a pointer to an array of <code class="code"><a class="link" href="#VkImageBlit">VkImageBlit</a></code> structures
    specifying the regions to blit.
</li><li class="listitem">
<em class="parameter"><code>filter</code></em> is a <code class="code"><a class="link" href="#VkFilter">VkFilter</a></code> specifying the filter to apply if the
    blits require scaling.
</li></ul></div><p><span class="strong"><strong><code class="code">vkCmdBlitImage</code></strong></span> <span class="normative">must</span> not be used for multisampled source or
destination images.
Use <code class="code"><a class="link" href="#vkCmdResolveImage">vkCmdResolveImage</a></code> for this purpose.</p><p>As the sizes of the source and destination extents <span class="normative">can</span> differ in any
dimension, texels in the source extent are scaled and filtered to the
destination extent.
Scaling occurs via the following operations:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
For each destination texel, the integer coordinate of that texel is
      converted to an unnormalized texture coordinate, using the effective
      inverse of the equations described in
      <a class="link" href="#textures-unnormalized-to-integer" title="15.7.1. (u,v,w,a) to (i,j,k,l,n) Transformation And Array Layer Selection">unnormalized to integer       conversion</a>:
</li></ul></div><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
u_{base} &amp; = i + \frac{1}{2}\\
v_{base} &amp; = j + \frac{1}{2}\\
w_{base} &amp; = k + \frac{1}{2}\\
\end{align*}</span></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
These base coordinates are then offset by the first destination
      offset:
</li></ul></div><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
u_{offset} &amp; = u_{base} - x_{dst_0}\\
v_{offset} &amp; = v_{base} - y_{dst_0}\\
w_{offset} &amp; = w_{base} - z_{dst_0}\\
a_{offset} &amp; = a - baseArrayCount_{dst}
\end{align*}</span></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
The scale is determined from the source and destination regions, and
      applied to the offset coordinates:
</li></ul></div><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
scale_u &amp; = \frac{x_{src_1} - x_{src_0}}{x_{dst_1} - x_{dst_0}}\\
scale_v &amp; = \frac{y_{src_1} - y_{src_0}}{y_{dst_1} - y_{dst_0}}\\
scale_w &amp; = \frac{z_{src_1} - z_{src_0}}{z_{dst_1} - z_{dst_0}}\\
\\
u_{scaled} &amp; = u_{offset} * scale_u\\
v_{scaled} &amp; = v_{offset} * scale_v\\
w_{scaled} &amp; = w_{offset} * scale_w
\end{align*}</span></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Finally the source offset is added to the scaled coordinates, to
      determine the final unnormalized coordinates used to sample from
      <em class="parameter"><code>srcImage</code></em>:
</li></ul></div><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
u &amp; = u_{scaled} + x_{src_0}\\
v &amp; = v_{scaled} + y_{src_0}\\
w &amp; = w_{scaled} + z_{src_0}\\
q &amp; = mipLevel\\
a &amp; = a_{offset} + baseArrayCount_{src}
\end{align*}</span></div></div><p>These coordinates are used to sample from the source image, as described in
<a class="link" href="#textures" title="Chapter 15. Image Operations">Image Operations chapter</a>, with the filter mode equal to that
of <em class="parameter"><code>filter</code></em>, a mipmap mode of <code class="code">VK_SAMPLER_MIPMAP_MODE_NEAREST</code> and
an address mode of <code class="code">VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code>.
Implementations <span class="normative">must</span> clamp at the edge of the source image, and <span class="normative">may</span>
additionally clamp to the edge of the source region.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Due to allowable rounding errors in the generation of the source texture
coordinates, it is not always possible to guarantee exactly which source
texels will be sampled for a given blit.
As rounding errors are implementation dependent, the exact results of a
blitting operation are also implementation dependent.</p></td></tr></table></div><p>Blits are done layer by layer starting with the <em class="parameter"><code>baseArrayLayer</code></em> member
of <em class="parameter"><code>srcSubresource</code></em> for the source and <em class="parameter"><code>dstSubresource</code></em> for the
destination.
<em class="parameter"><code>layerCount</code></em> layers are blitted to the destination image.</p><p>3D textures are blitted slice by slice.
Slices in the source region bounded by <em class="parameter"><code>srcOffsets</code></em>[0].<em class="parameter"><code>z</code></em> and
<em class="parameter"><code>srcOffsets</code></em>[1].<em class="parameter"><code>z</code></em> are copied to slices in the destination region bounded
by <em class="parameter"><code>dstOffsets</code></em>[0].<em class="parameter"><code>z</code></em> and <em class="parameter"><code>dstOffsets</code></em>[1].<em class="parameter"><code>z</code></em>.
For each destination slice, a source z coordinate is linearly interpolated
between <em class="parameter"><code>srcOffsets</code></em>[0].<em class="parameter"><code>z</code></em> and <em class="parameter"><code>srcOffsets</code></em>[1].<em class="parameter"><code>z</code></em>.
If the <em class="parameter"><code>filter</code></em> parameter is <code class="code">VK_FILTER_LINEAR</code> then the value
sampled from the source image is taken by doing linear filtering using the
interpolated z coordinate.
If <em class="parameter"><code>filter</code></em> parameter is <code class="code">VK_FILTER_NEAREST</code> then value sampled from
the source image is taken from the single nearest slice (with undefined
rounding mode).</p><p>The following filtering and conversion rules apply:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Integer formats <span class="normative">can</span> only be converted to other integer formats with the
    same signedness.
</li><li class="listitem">
No format conversion is supported between depth/stencil images - the
    formats <span class="normative">must</span> match.
</li><li class="listitem">
Format conversions on unorm, snorm, unscaled and packed float formats of
    the copied aspect of the image are performed by first converting the
    pixels to float values.
</li><li class="listitem">
In case of sRGB source format, nonlinear RGB values are converted to
    linear representation prior to filtering.
</li><li class="listitem">
After filtering, the float values are first clamped and then cast to the
    destination image format.
    In case of sRGB destination format, linear RGB values are converted to
    nonlinear representation before writing the pixel to the image.
</li></ul></div><p>Signed and unsigned integers are converted by first clamping to the
representable range of the destination format, then casting the value.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>regionCount</code></em> valid <code class="code">VkImageBlit</code> structures
</li><li class="listitem">
<em class="parameter"><code>filter</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFilter">VkFilter</a></code> value
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>regionCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Each of <em class="parameter"><code>commandBuffer</code></em>, <em class="parameter"><code>dstImage</code></em>, and <em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
The source region specified by a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a region that is contained within <em class="parameter"><code>srcImage</code></em>
</li><li class="listitem">
The destination region specified by a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a region that is contained within <em class="parameter"><code>dstImage</code></em>
</li><li class="listitem">
The union of all destination regions, specified by the elements of <em class="parameter"><code>pRegions</code></em>, <span class="normative">must</span> not overlap in memory with any texel that <span class="normative">may</span> be sampled during the blit operation
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> use a format that supports <code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code>, which is indicated by <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> (for linear tiled images) or <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> (for optimally tiled images) - as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage flag
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> <span class="normative">must</span> specify the layout of the image subresources of <em class="parameter"><code>srcImage</code></em> specified in <em class="parameter"><code>pRegions</code></em> at the time this command is executed on a <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> <span class="normative">must</span> be either of <code class="code">VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> or <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> use a format that supports <code class="code">VK_FORMAT_FEATURE_BLIT_DST_BIT</code>, which is indicated by <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> (for linear tiled images) or <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> (for optimally tiled images) - as returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> have been created with <code class="code">VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> <span class="normative">must</span> specify the layout of the image subresources of <em class="parameter"><code>dstImage</code></em> specified in <em class="parameter"><code>pRegions</code></em> at the time this command is executed on a <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> <span class="normative">must</span> be either of <code class="code">VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
</li><li class="listitem">
The sample count of <em class="parameter"><code>srcImage</code></em> and <em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> both be equal to <code class="code">VK_SAMPLE_COUNT_1_BIT</code>
</li><li class="listitem">
If either of <em class="parameter"><code>srcImage</code></em> or <em class="parameter"><code>dstImage</code></em> was created with a signed integer <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code>, the other <span class="normative">must</span> also have been created with a signed integer <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code>
</li><li class="listitem">
If either of <em class="parameter"><code>srcImage</code></em> or <em class="parameter"><code>dstImage</code></em> was created with an unsigned integer <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code>, the other <span class="normative">must</span> also have been created with an unsigned integer <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code>
</li><li class="listitem">
If either of <em class="parameter"><code>srcImage</code></em> or <em class="parameter"><code>dstImage</code></em> was created with a depth/stencil format, the other <span class="normative">must</span> have exactly the same format
</li><li class="listitem">
If <em class="parameter"><code>srcImage</code></em> was created with a depth/stencil format, <em class="parameter"><code>filter</code></em> <span class="normative">must</span> be <code class="code">VK_FILTER_NEAREST</code>
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> have been created with a <em class="parameter"><code>samples</code></em> value of <code class="code">VK_SAMPLE_COUNT_1_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> have been created with a <em class="parameter"><code>samples</code></em> value of <code class="code">VK_SAMPLE_COUNT_1_BIT</code>
</li><li class="listitem">
If <em class="parameter"><code>filter</code></em> is <code class="code">VK_FILTER_LINEAR</code>, <em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> be of a format which supports linear filtering, as specified by the <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> (for a linear image) or <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em>(for an optimally tiled image) returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>The <code class="code">VkImageBlit</code> structure is defined as:</p><p><a id="VkImageBlit"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkImageBlit {
    VkImageSubresourceLayers    srcSubresource;
    VkOffset3D                  srcOffsets[2];
    VkImageSubresourceLayers    dstSubresource;
    VkOffset3D                  dstOffsets[2];
} VkImageBlit;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>srcSubresource</code></em> is the subresource to blit from.
</li><li class="listitem">
<em class="parameter"><code>srcOffsets</code></em> is an array of two <code class="code"><a class="link" href="#VkOffset3D">VkOffset3D</a></code> structures
    specifying the bounds of the source region within <em class="parameter"><code>srcSubresource</code></em>.
</li><li class="listitem">
<em class="parameter"><code>dstSubresource</code></em> is the subresource to blit into.
</li><li class="listitem">
<em class="parameter"><code>dstOffsets</code></em> is an array of two <code class="code"><a class="link" href="#VkOffset3D">VkOffset3D</a></code> structures
    specifying the bounds of the destination region within
    <em class="parameter"><code>dstSubresource</code></em>.
</li></ul></div><p>For each element of the <em class="parameter"><code>pRegions</code></em> array, a blit operation is performed
the specified source and destination regions.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>srcSubresource</code></em> <span class="normative">must</span> be a valid <code class="code">VkImageSubresourceLayers</code> structure
</li><li class="listitem">
<em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> be a valid <code class="code">VkImageSubresourceLayers</code> structure
</li><li class="listitem">
The <em class="parameter"><code>aspectMask</code></em> member of <em class="parameter"><code>srcSubresource</code></em> and <em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> match
</li><li class="listitem">
The <em class="parameter"><code>layerCount</code></em> member of <em class="parameter"><code>srcSubresource</code></em> and <em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> match
</li><li class="listitem">
If either of the calling command’s <em class="parameter"><code>srcImage</code></em> or <em class="parameter"><code>dstImage</code></em> parameters are of <code class="code"><a class="link" href="#VkImageType">VkImageType</a></code> <code class="code">VK_IMAGE_TYPE_3D</code>, the <em class="parameter"><code>baseArrayLayer</code></em> and <em class="parameter"><code>layerCount</code></em> members of both <em class="parameter"><code>srcSubresource</code></em> and <em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> be <code class="literal">0</code> and <code class="literal">1</code>, respectively
</li><li class="listitem">
The <em class="parameter"><code>aspectMask</code></em> member of <em class="parameter"><code>srcSubresource</code></em> <span class="normative">must</span> specify aspects present in the calling command’s <em class="parameter"><code>srcImage</code></em>
</li><li class="listitem">
The <em class="parameter"><code>aspectMask</code></em> member of <em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> specify aspects present in the calling command’s <em class="parameter"><code>dstImage</code></em>
</li><li class="listitem">
The <em class="parameter"><code>layerCount</code></em> member of <em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> be equal to the <em class="parameter"><code>layerCount</code></em> member of <em class="parameter"><code>srcSubresource</code></em>
</li><li class="listitem">
<em class="parameter"><code>srcOffset</code></em>[0].<em class="parameter"><code>x</code></em> and <em class="parameter"><code>srcOffset</code></em>[1].<em class="parameter"><code>x</code></em> <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the source image subresource width
</li><li class="listitem">
<em class="parameter"><code>srcOffset</code></em>[0].<em class="parameter"><code>y</code></em> and <em class="parameter"><code>srcOffset</code></em>[1].<em class="parameter"><code>y</code></em> <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the source image subresource height
</li><li class="listitem">
<em class="parameter"><code>srcOffset</code></em>[0].<em class="parameter"><code>z</code></em> and <em class="parameter"><code>srcOffset</code></em>[1].<em class="parameter"><code>z</code></em> <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the source image subresource depth
</li><li class="listitem">
<em class="parameter"><code>dstOffset</code></em>[0].<em class="parameter"><code>x</code></em> and <em class="parameter"><code>dstOffset</code></em>[1].<em class="parameter"><code>x</code></em> <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the destination image subresource width
</li><li class="listitem">
<em class="parameter"><code>dstOffset</code></em>[0].<em class="parameter"><code>y</code></em> and <em class="parameter"><code>dstOffset</code></em>[1].<em class="parameter"><code>y</code></em> <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the destination image subresource height
</li><li class="listitem">
<em class="parameter"><code>dstOffset</code></em>[0].<em class="parameter"><code>z</code></em> and <em class="parameter"><code>dstOffset</code></em>[1].<em class="parameter"><code>z</code></em> <span class="normative">must</span> both be greater than or equal to <code class="literal">0</code> and less than or equal to the destination image subresource depth
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="copies-resolve"></a>18.6. Resolving Multisample Images</h2></div></div></div><p>To resolve a multisample image to a non-multisample image, call:</p><p><a id="vkCmdResolveImage"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdResolveImage(
    VkCommandBuffer                             commandBuffer,
    VkImage                                     srcImage,
    VkImageLayout                               srcImageLayout,
    VkImage                                     dstImage,
    VkImageLayout                               dstImageLayout,
    uint32_t                                    regionCount,
    const VkImageResolve*                       pRegions);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> is the source image.
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> is the layout of the source image subresources for
    the resolve.
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> is the destination image.
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> is the layout of the destination image subresources
    for the resolve.
</li><li class="listitem">
<em class="parameter"><code>regionCount</code></em> is the number of regions to resolve.
</li><li class="listitem">
<em class="parameter"><code>pRegions</code></em> is a pointer to an array of <code class="code"><a class="link" href="#VkImageResolve">VkImageResolve</a></code>
    structures specifying the regions to resolve.
</li></ul></div><p>During the resolve the samples corresponding to each pixel location in the
source are converted to a single sample before being written to the
destination.
If the source formats are floating-point or normalized types, the sample
values for each pixel are resolved in an implementation-dependent manner.
If the source formats are integer types, a single sample’s value is selected
for each pixel.</p><p><em class="parameter"><code>srcOffset</code></em> and <em class="parameter"><code>dstOffset</code></em> select the initial x, y, and z offsets
in texels of the sub-regions of the source and destination image data.
<em class="parameter"><code>extent</code></em> is the size in texels of the source image to resolve in
<em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em> and <em class="parameter"><code>depth</code></em>.
1D images use only <em class="parameter"><code>x</code></em> and <em class="parameter"><code>width</code></em>.
2D images use <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>, <em class="parameter"><code>width</code></em> and <em class="parameter"><code>height</code></em>.
3D images use <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>, <em class="parameter"><code>z</code></em>, <em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em> and
<em class="parameter"><code>depth</code></em>.</p><p>Resolves are done layer by layer starting with <em class="parameter"><code>baseArrayLayer</code></em> member
of <em class="parameter"><code>srcSubresource</code></em> for the source and <em class="parameter"><code>dstSubresource</code></em> for the
destination.
<em class="parameter"><code>layerCount</code></em> layers are resolved to the destination image.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageLayout">VkImageLayout</a></code> value
</li><li class="listitem">
<em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>regionCount</code></em> valid <code class="code">VkImageResolve</code> structures
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>regionCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Each of <em class="parameter"><code>commandBuffer</code></em>, <em class="parameter"><code>dstImage</code></em>, and <em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
The source region specified by a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a region that is contained within <em class="parameter"><code>srcImage</code></em>
</li><li class="listitem">
The destination region specified by a given element of <em class="parameter"><code>pRegions</code></em> <span class="normative">must</span> be a region that is contained within <em class="parameter"><code>dstImage</code></em>
</li><li class="listitem">
The union of all source regions, and the union of all destination regions, specified by the elements of <em class="parameter"><code>pRegions</code></em>, <span class="normative">must</span> not overlap in memory
</li><li class="listitem">
<em class="parameter"><code>srcImage</code></em> <span class="normative">must</span> have a sample count equal to any valid sample count value other than <code class="code">VK_SAMPLE_COUNT_1_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> have a sample count equal to <code class="code">VK_SAMPLE_COUNT_1_BIT</code>
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> <span class="normative">must</span> specify the layout of the image subresources of <em class="parameter"><code>srcImage</code></em> specified in <em class="parameter"><code>pRegions</code></em> at the time this command is executed on a <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>srcImageLayout</code></em> <span class="normative">must</span> be either of <code class="code">VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> or <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> <span class="normative">must</span> specify the layout of the image subresources of <em class="parameter"><code>dstImage</code></em> specified in <em class="parameter"><code>pRegions</code></em> at the time this command is executed on a <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>dstImageLayout</code></em> <span class="normative">must</span> be either of <code class="code">VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
</li><li class="listitem">
If <em class="parameter"><code>dstImage</code></em> was created with <em class="parameter"><code>tiling</code></em> equal to <code class="code">VK_IMAGE_TILING_LINEAR</code>, <em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> have been created with a <em class="parameter"><code>format</code></em> that supports being a color attachment, as specified by the <code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li><li class="listitem">
If <em class="parameter"><code>dstImage</code></em> was created with <em class="parameter"><code>tiling</code></em> equal to <code class="code">VK_IMAGE_TILING_OPTIMAL</code>, <em class="parameter"><code>dstImage</code></em> <span class="normative">must</span> have been created with a <em class="parameter"><code>format</code></em> that supports being a color attachment, as specified by the <code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>The <code class="code">VkImageResolve</code> structure is defined as:</p><p><a id="VkImageResolve"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkImageResolve {
    VkImageSubresourceLayers    srcSubresource;
    VkOffset3D                  srcOffset;
    VkImageSubresourceLayers    dstSubresource;
    VkOffset3D                  dstOffset;
    VkExtent3D                  extent;
} VkImageResolve;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>srcSubresource</code></em> and <em class="parameter"><code>dstSubresource</code></em> are
    <code class="code"><a class="link" href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a></code> structures specifying the image
    subresources of the images used for the source and destination image
    data, respectively.
    Resolve of depth/stencil images is not supported.
</li><li class="listitem">
<em class="parameter"><code>srcOffset</code></em> and <em class="parameter"><code>dstOffset</code></em> select the initial x, y, and z
    offsets in texels of the sub-regions of the source and destination image
    data.
</li><li class="listitem">
<em class="parameter"><code>extent</code></em> is the size in texels of the source image to resolve in
    <em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em> and <em class="parameter"><code>depth</code></em>.
    1D images use only <em class="parameter"><code>x</code></em> and <em class="parameter"><code>width</code></em>.
    2D images use <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>, <em class="parameter"><code>width</code></em> and <em class="parameter"><code>height</code></em>.
    3D images use <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>, <em class="parameter"><code>z</code></em>, <em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em> and
    <em class="parameter"><code>depth</code></em>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>srcSubresource</code></em> <span class="normative">must</span> be a valid <code class="code">VkImageSubresourceLayers</code> structure
</li><li class="listitem">
<em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> be a valid <code class="code">VkImageSubresourceLayers</code> structure
</li><li class="listitem">
The <em class="parameter"><code>aspectMask</code></em> member of <em class="parameter"><code>srcSubresource</code></em> and <em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> only contain <code class="code">VK_IMAGE_ASPECT_COLOR_BIT</code>
</li><li class="listitem">
The <em class="parameter"><code>layerCount</code></em> member of <em class="parameter"><code>srcSubresource</code></em> and <em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> match
</li><li class="listitem">
If either of the calling command’s <em class="parameter"><code>srcImage</code></em> or <em class="parameter"><code>dstImage</code></em> parameters are of <code class="code"><a class="link" href="#VkImageType">VkImageType</a></code> <code class="code">VK_IMAGE_TYPE_3D</code>, the <em class="parameter"><code>baseArrayLayer</code></em> and <em class="parameter"><code>layerCount</code></em> members of both <em class="parameter"><code>srcSubresource</code></em> and <em class="parameter"><code>dstSubresource</code></em> <span class="normative">must</span> be <code class="literal">0</code> and <code class="literal">1</code>, respectively
</li></ul></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="drawing"></a>Chapter 19. Drawing Commands</h1></div></div></div><p><span class="emphasis"><em>Drawing commands</em></span> (commands with <span class="strong"><strong><code class="code">Draw</code></strong></span> in the name) provoke work in a
graphics pipeline.
Drawing commands are recorded into a command buffer and when executed by a
queue, will produce work which executes according to the currently bound
graphics pipeline.
A graphics pipeline <span class="normative">must</span> be bound to a command buffer before any drawing
commands are recorded in that command buffer.</p><p>Each draw is made up of zero or more vertices and zero or more instances,
which are processed by the device and result in the assembly of primitives.
Primitives are assembled according to the <em class="parameter"><code>pInputAssemblyState</code></em> member
of the <code class="code">VkGraphicsPipelineCreateInfo</code> structure, which is of type
<code class="code">VkPipelineInputAssemblyStateCreateInfo</code>:</p><p><a id="VkPipelineInputAssemblyStateCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPipelineInputAssemblyStateCreateInfo {
    VkStructureType                            sType;
    const void*                                pNext;
    VkPipelineInputAssemblyStateCreateFlags    flags;
    VkPrimitiveTopology                        topology;
    VkBool32                                   primitiveRestartEnable;
} VkPipelineInputAssemblyStateCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>topology</code></em> is a <code class="code"><a class="link" href="#VkPrimitiveTopology">VkPrimitiveTopology</a></code> defining the primitive
    topology, as described below.
</li><li class="listitem">
<em class="parameter"><code>primitiveRestartEnable</code></em> controls whether a special vertex index
    value is treated as restarting the assembly of primitives.
    This enable only applies to indexed draws (<code class="code"><a class="link" href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code> and
    <code class="code"><a class="link" href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>), and the special index value is either
    0xFFFFFFFF when the <em class="parameter"><code>indexType</code></em> parameter of
    <span class="strong"><strong><code class="code">vkCmdBindIndexBuffer</code></strong></span> is equal to <code class="code">VK_INDEX_TYPE_UINT32</code>, or
    0xFFFF when <em class="parameter"><code>indexType</code></em> is equal to <code class="code">VK_INDEX_TYPE_UINT16</code>.
    Primitive restart is not allowed for “list” topologies.
</li></ul></div><p>Restarting the assembly of primitives discards the most recent index values
if those elements formed an incomplete primitive, and restarts the primitive
assembly using the subsequent indices, but only assembling the immediately
following element through the end of the originally specified elements.
The primitive restart index value comparison is performed before adding the
<em class="parameter"><code>vertexOffset</code></em> value to the index value.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>topology</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkPrimitiveTopology">VkPrimitiveTopology</a></code> value
</li><li class="listitem">
If <em class="parameter"><code>topology</code></em> is <code class="code">VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code>, <code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code>, <code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code>, <code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code>, <code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code> or <code class="code">VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>, <em class="parameter"><code>primitiveRestartEnable</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-geometryShader">geometry shaders</a> feature is not enabled, <em class="parameter"><code>topology</code></em> <span class="normative">must</span> not be any of <code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code>, <code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY</code>, <code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code> or <code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-tessellationShader">tessellation shaders</a> feature is not enabled, <em class="parameter"><code>topology</code></em> <span class="normative">must</span> not be <code class="code">VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="drawing-primitive-topologies"></a>19.1. Primitive Topologies</h2></div></div></div><p><span class="emphasis"><em>Primitive topology</em></span> determines how consecutive vertices are organized into
primitives, and determines the type of primitive that is used at the
beginning of the graphics pipeline.
The effective topology for later stages of the pipeline is altered by
tessellation or geometry shading (if either is in use) and depends on the
execution modes of those shaders.
Supported topologies are defined by <code class="code"><a class="link" href="#VkPrimitiveTopology">VkPrimitiveTopology</a></code> and include:</p><p><a id="VkPrimitiveTopology"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkPrimitiveTopology {
    VK_PRIMITIVE_TOPOLOGY_POINT_LIST = 0,
    VK_PRIMITIVE_TOPOLOGY_LINE_LIST = 1,
    VK_PRIMITIVE_TOPOLOGY_LINE_STRIP = 2,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST = 3,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP = 4,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN = 5,
    VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY = 6,
    VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY = 7,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY = 8,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY = 9,
    VK_PRIMITIVE_TOPOLOGY_PATCH_LIST = 10,
} VkPrimitiveTopology;</pre><p>
</p><p>Each primitive topology, and its construction from a list of vertices, is
summarized below.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_points"></a>19.1.1. Points</h3></div></div></div><p>A series of individual points are specified with <em class="parameter"><code>topology</code></em>
<code class="code">VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code>.
Each vertex defines a separate point.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_separate_lines"></a>19.1.2. Separate Lines</h3></div></div></div><p>Individual line segments, each defined by a pair of vertices, are specified
with <em class="parameter"><code>topology</code></em> <code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code>.
The first two vertices define the first segment, with subsequent pairs of
vertices each defining one more segment.
If the number of vertices is odd, then the last vertex is ignored.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_line_strips"></a>19.1.3. Line Strips</h3></div></div></div><p>A series of one or more connected line segments are specified with
<em class="parameter"><code>topology</code></em> <code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_STRIP</code>.
In this case, the first vertex specifies the first segment’s start point
while the second vertex specifies the first segment’s endpoint and the
second segment’s start point.
In general, the <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span>th vertex (for <span class="inlinemediaobject"><span class="phrase">
$i &gt; 0$
</span></span>) specifies
the beginning of the <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span>th segment and the end of the
<span class="inlinemediaobject"><span class="phrase">
$i-1$
</span></span>st.
The last vertex specifies the end of the last segment.
If only one vertex is specified, then no primitive is generated.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_triangle_strips"></a>19.1.4. Triangle Strips</h3></div></div></div><p>A triangle strip is a series of triangles connected along shared edges, and
is specified with <em class="parameter"><code>topology</code></em> <code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code>.
In this case, the first three vertices define the first triangle, and their
order is significant.
Each subsequent vertex defines a new triangle using that point along with
the last two vertices from the previous triangle, as shown in figure
<a class="xref" href="#fig-triangles" title="Figure 19.1. Triangle strips, fans, and lists">Figure 19.1, “Triangle strips, fans, and lists”</a>.
If fewer than three vertices are specified, no primitive is produced.
The order of vertices in successive triangles changes as shown in the
figure, so that all triangle faces have the same orientation.</p><div class="figure"><a id="fig-triangles"></a><p class="title"><strong>Figure 19.1. Triangle strips, fans, and lists</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/triangles.svg" align="middle" width="800" alt="images/triangles.svg" /></div></div></div><br class="figure-break" /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_triangle_fans"></a>19.1.5. Triangle Fans</h3></div></div></div><p>A triangle fan is specified with <em class="parameter"><code>topology</code></em>
<code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code>.
It is similar to a triangle strip, but changes the vertex replaced from the
previous triangle as shown in figure <a class="xref" href="#fig-triangles" title="Figure 19.1. Triangle strips, fans, and lists">Figure 19.1, “Triangle strips, fans, and lists”</a>, so that all
triangles in the fan share a common vertex.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_separate_triangles"></a>19.1.6. Separate Triangles</h3></div></div></div><p>Separate triangles are specified with <em class="parameter"><code>topology</code></em>
<code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code>, as shown in figure
<a class="xref" href="#fig-triangles" title="Figure 19.1. Triangle strips, fans, and lists">Figure 19.1, “Triangle strips, fans, and lists”</a>.
In this case, vertices <span class="inlinemediaobject"><span class="phrase">
$3i$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$3i+1$
</span></span>, and
<span class="inlinemediaobject"><span class="phrase">
$3i+2$
</span></span> vertices (in that order) determine a triangle for each
<span class="inlinemediaobject"><span class="phrase">
$i=0,1,\ldots,n-1$
</span></span>, where there are <span class="inlinemediaobject"><span class="phrase">
$3n+k$
</span></span> vertices
drawn.
<span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> is either 0, 1, or 2; if <span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> is not zero, the
final <span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> vertices are ignored.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_lines_with_adjacency"></a>19.1.7. Lines With Adjacency</h3></div></div></div><p>Lines with adjacency are specified with <em class="parameter"><code>topology</code></em>
<code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code>, and are independent
line segments where each endpoint has a corresponding <span class="emphasis"><em>adjacent</em></span> vertex that
is accessible in a <a class="link" href="#geometry" title="Chapter 22. Geometry Shading">geometry shader</a>.
If a geometry shader is not active, the adjacent vertices are ignored.</p><p>A line segment is drawn from the <span class="inlinemediaobject"><span class="phrase">
$4 i+1$
</span></span>st vertex to the
<span class="inlinemediaobject"><span class="phrase">
$4 i+2$
</span></span>nd vertex for each <span class="inlinemediaobject"><span class="phrase">
$i=0,1,\ldots, n-1$
</span></span>, where
there are <span class="inlinemediaobject"><span class="phrase">
$4 n+k$
</span></span> vertices.
<span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> is either 0, 1, 2, or 3; if <span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> is not zero, the
final <span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> vertices are ignored.
For line segment <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span>, the <span class="inlinemediaobject"><span class="phrase">
$4 i$
</span></span>th and <span class="inlinemediaobject"><span class="phrase">
$4
i+3$
</span></span>rd vertices are considered adjacent to the <span class="inlinemediaobject"><span class="phrase">
$4 i+1$
</span></span>st and
<span class="inlinemediaobject"><span class="phrase">
$4 i+2$
</span></span>nd vertices, respectively, as shown in figure
<a class="xref" href="#fig-lineadj" title="Figure 19.2. Lines with adjacency">Figure 19.2, “Lines with adjacency”</a>.</p><div class="figure"><a id="fig-lineadj"></a><p class="title"><strong>Figure 19.2. Lines with adjacency</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/lineadj.svg" align="middle" width="800" alt="images/lineadj.svg" /></div></div></div><br class="figure-break" /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_line_strips_with_adjacency"></a>19.1.8. Line Strips With Adjacency</h3></div></div></div><p>Line strips with adjacency are specified with <em class="parameter"><code>topology</code></em>
<code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY</code> and are similar to
line strips, except that each line segment has a pair of adjacent vertices
that are accessible in a geometry shader.
If a geometry shader is not active, the adjacent vertices are ignored.</p><p>A line segment is drawn from the <span class="inlinemediaobject"><span class="phrase">
$i+1$
</span></span>st vertex to the
<span class="inlinemediaobject"><span class="phrase">
$i+2$
</span></span>nd vertex for each <span class="inlinemediaobject"><span class="phrase">
$i=0,1,\ldots, n-1$
</span></span>, where
there are <span class="inlinemediaobject"><span class="phrase">
$n+3$
</span></span> vertices.
If there are fewer than four vertices, all vertices are ignored.
For line segment <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span>, the <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span>th and
<span class="inlinemediaobject"><span class="phrase">
$i+3$
</span></span>rd vertex are considered adjacent to the
<span class="inlinemediaobject"><span class="phrase">
$i+1$
</span></span>st and <span class="inlinemediaobject"><span class="phrase">
$i+2$
</span></span>nd vertices, respectively, as shown
in figure <a class="xref" href="#fig-lineadj" title="Figure 19.2. Lines with adjacency">Figure 19.2, “Lines with adjacency”</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_triangle_list_with_adjacency"></a>19.1.9. Triangle List With Adjacency</h3></div></div></div><p>Triangles with adjacency are specified with <em class="parameter"><code>topology</code></em>
<code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code>, and are similar to
separate triangles except that each triangle edge has an adjacent vertex
that is accessible in a geometry shader.
If a geometry shader is not active, the adjacent vertices are ignored.</p><p>The <span class="inlinemediaobject"><span class="phrase">
$6i$
</span></span>th, <span class="inlinemediaobject"><span class="phrase">
$6i+2$
</span></span>nd, and <span class="inlinemediaobject"><span class="phrase">
$6i+4$
</span></span>th
vertices (in that order) determine a triangle for each <span class="inlinemediaobject"><span class="phrase">
$i=0,1,
\ldots, n-1$
</span></span>, where there are <span class="inlinemediaobject"><span class="phrase">
$6 n+k$
</span></span> vertices.
<span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> is either 0, 1, 2, 3, 4, or 5; if <span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> is
non-zero, the final <span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> vertices are ignored.
For triangle <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span>, the <span class="inlinemediaobject"><span class="phrase">
$6 i+1$
</span></span>st, <span class="inlinemediaobject"><span class="phrase">
$6
i+3$
</span></span>rd, and <span class="inlinemediaobject"><span class="phrase">
$6 i+5$
</span></span>th vertices are considered adjacent to edges
from the <span class="inlinemediaobject"><span class="phrase">
$6 i$
</span></span>th to the <span class="inlinemediaobject"><span class="phrase">
$6 i+2$
</span></span>nd, from the
<span class="inlinemediaobject"><span class="phrase">
$6 i+2$
</span></span>nd to the <span class="inlinemediaobject"><span class="phrase">
$6 i+4$
</span></span>th, and from the
<span class="inlinemediaobject"><span class="phrase">
$6 i+4$
</span></span>th to the <span class="inlinemediaobject"><span class="phrase">
$6 i$
</span></span>th vertices, respectively, as
shown in figure <a class="xref" href="#fig-triadj" title="Figure 19.3. Triangles with adjacency">Figure 19.3, “Triangles with adjacency”</a>.</p><div class="figure"><a id="fig-triadj"></a><p class="title"><strong>Figure 19.3. Triangles with adjacency</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/triadj.svg" align="middle" width="800" alt="images/triadj.svg" /></div></div></div><br class="figure-break" /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_triangle_strips_with_adjacency"></a>19.1.10. Triangle Strips With Adjacency</h3></div></div></div><p>Triangle strips with adjacency are specified with <em class="parameter"><code>topology</code></em>
<code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code>, and are similar
to triangle strips except that each triangle edge has an adjacent vertex
that is accessible in a geometry shader.
If a geometry shader is not active, the adjacent vertices are ignored.</p><p>In triangle strips with adjacency, <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> triangles are drawn where
there are <span class="inlinemediaobject"><span class="phrase">
$2(n+2)+k$
</span></span> vertices.
<span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> is either 0 or 1; if <span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> is 1, the final vertex
is ignored.
If there are fewer than 6 vertices, the entire primitive is ignored.
Table <a class="xref" href="#trigenadj" title="Table 19.1. Triangles generated by triangle strips with adjacency.">Table 19.1, “Triangles generated by triangle strips with adjacency.”</a> describes the vertices and order used to draw each
triangle, and which vertices are considered adjacent to each edge of the
triangle, as shown in figure <a class="xref" href="#fig-tstripadj" title="Figure 19.4. Triangle strips with adjacency">Figure 19.4, “Triangle strips with adjacency”</a>.</p><div class="table"><a id="trigenadj"></a><p class="title"><strong>Table 19.1. Triangles generated by triangle strips with adjacency.</strong></p><div class="table-contents"><table summary="Triangles generated by triangle strips with adjacency." cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">                                               </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="3" align="left" valign="top"> Primitive Vertices                      </th><th style="border-bottom: 1px solid #527bbd; " colspan="3" align="left" valign="top"> Adjacent Vertices</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Primitive</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1st</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2nd</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>3rd</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1/2</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2/3</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>3/1</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>only (<span class="inlinemediaobject"><span class="phrase">
$i=0$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$n=1$
</span></span>)</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>5</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>3</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>first (<span class="inlinemediaobject"><span class="phrase">
$i=0$
</span></span>)</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>6</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>3</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>middle (<span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> odd)</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+2$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i  $
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+4$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i-2$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+3$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+6$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>middle (<span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> even)</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i  $
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+2$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+4$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i-2$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+6$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+3$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>last (<span class="inlinemediaobject"><span class="phrase">
$i=n-1$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> odd)</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+2$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i  $
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+4$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i-2$
</span></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+3$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+5$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>last (<span class="inlinemediaobject"><span class="phrase">
$i=n-1$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> even)</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i  $
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+2$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+4$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i-2$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+5$
</span></span></p></td><td style="" align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i+3$
</span></span></p></td></tr></tbody></table></div></div><br class="table-break" /><div class="figure"><a id="fig-tstripadj"></a><p class="title"><strong>Figure 19.4. Triangle strips with adjacency</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/tstripadj.svg" align="middle" width="800" alt="images/tstripadj.svg" /></div></div></div><br class="figure-break" /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="drawing-primitive-topologies-patches"></a>19.1.11. Separate Patches</h3></div></div></div><p>Separate patches are specified with <em class="parameter"><code>topology</code></em>
<code class="code">VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>.
A patch is an ordered collection of vertices used for
<a class="link" href="#tessellation" title="Chapter 21. Tessellation">primitive tessellation</a>.
The vertices comprising a patch have no implied geometric ordering, and are
used by tessellation shaders and the fixed-function tessellator to generate
new point, line, or triangle primitives.</p><p>Each patch in the series has a fixed number of vertices, specified by the
<em class="parameter"><code>patchControlPoints</code></em> member of the
<code class="code"><a class="link" href="#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a></code> structure passed to
<code class="code"><a class="link" href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a></code>.
Once assembled and vertex shaded, these patches are provided as input to the
tessellation control shader stage.</p><p>If the number of vertices in a patch is given by <span class="inlinemediaobject"><span class="phrase">
$v$
</span></span>, the
    <span class="inlinemediaobject"><span class="phrase">
$v i$
</span></span>th through <span class="inlinemediaobject"><span class="phrase">
$v i+v-1$
</span></span>st vertices (in that
    order) determine a patch for each <span class="inlinemediaobject"><span class="phrase">
$i=0,1,\dots n-1$
</span></span>,
where there are <span class="inlinemediaobject"><span class="phrase">
$v n+k$
</span></span> vertices.
<span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> is in the range <span class="inlinemediaobject"><span class="phrase">
$[0,v-1]$
</span></span>; if <span class="inlinemediaobject"><span class="phrase">
$k$
</span></span>
is not zero, the final <span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> vertices are ignored.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_general_considerations_for_polygon_primitives"></a>19.1.12. General Considerations For Polygon Primitives</h3></div></div></div><p>Depending on the <a class="link" href="#primsrast-polygonmode" title="24.7.2. Polygon Mode">polygon mode</a>, a <span class="emphasis"><em>polygon
primitive</em></span> generated from a drawing command with <em class="parameter"><code>topology</code></em>
<code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code>,
<code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code>,
<code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code>,
<code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code>, or
<code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code> is rendered in one
of several ways, such as outlining its border or filling its interior.
The order of vertices in such a primitive is significant during
<a class="link" href="#primsrast-polygons-basic" title="24.7.1. Basic Polygon Rasterization">polygon rasterization</a> and
<a class="link" href="#shaders-fragment" title="8.9. Fragment Shaders">fragment shading</a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_programmable_primitive_shading"></a>19.2. Programmable Primitive Shading</h2></div></div></div><p>Once primitives are assembled, they proceed to the vertex shading stage of
the pipeline.
If the draw includes multiple instances, then the set of primitives is sent
to the vertex shading stage multiple times, once for each instance.</p><p>It is undefined whether vertex shading occurs on vertices that are discarded
as part of incomplete primitives, but if it does occur then it operates as
if they were vertices in complete primitives and such invocations <span class="normative">can</span> have
side effects.</p><p>Vertex shading receives two per-vertex inputs from the primitive assembly
stage - the <span class="strong"><strong><code class="code">vertexIndex</code></strong></span> and the <span class="strong"><strong><code class="code">instanceIndex</code></strong></span>.
How these values are generated is defined below, with each command.</p><p>Drawing commands fall roughly into two categories:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Non-indexed drawing commands present a sequential <span class="strong"><strong><code class="code">vertexIndex</code></strong></span> to
    the vertex shader.
    The sequential index is generated automatically by the device (see
    <a class="link" href="#fxvertex" title="Chapter 20. Fixed-Function Vertex Processing">Fixed-Function Vertex Processing</a> for details on both
    specifying the vertex attributes indexed by <span class="strong"><strong><code class="code">vertexIndex</code></strong></span>, as well as
    binding vertex buffers containing those attributes to a command buffer).
    These commands are:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code"><a class="link" href="#vkCmdDraw">vkCmdDraw</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>
</li></ul></div></li><li class="listitem"><p class="simpara">
Indexed drawing commands read index values from an <span class="emphasis"><em>index buffer</em></span> and
    use this to compute the <span class="strong"><strong><code class="code">vertexIndex</code></strong></span> value for the vertex shader.
    These commands are:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code"><a class="link" href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>
</li></ul></div></li></ul></div><p>To bind an index buffer to a command buffer, call:</p><p><a id="vkCmdBindIndexBuffer"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdBindIndexBuffer(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkIndexType                                 indexType);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command is
    recorded.
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> is the buffer being bound.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> is the starting offset in bytes within <em class="parameter"><code>buffer</code></em> used in
    index buffer address calculations.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>indexType</code></em> selects whether indices are treated as 16 bits or 32
    bits.
    Possible values include:
</p><p><a id="VkIndexType"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkIndexType {
    VK_INDEX_TYPE_UINT16 = 0,
    VK_INDEX_TYPE_UINT32 = 1,
} VkIndexType;</pre><p>
</p></li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>indexType</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkIndexType">VkIndexType</a></code> value
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
Both of <em class="parameter"><code>buffer</code></em>, and <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>buffer</code></em>
</li><li class="listitem">
The sum of <em class="parameter"><code>offset</code></em> and the address of the range of <code class="code">VkDeviceMemory</code> object that is backing <em class="parameter"><code>buffer</code></em>, <span class="normative">must</span> be a multiple of the type indicated by <em class="parameter"><code>indexType</code></em>
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> have been created with the <code class="code">VK_BUFFER_USAGE_INDEX_BUFFER_BIT</code> flag
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>The parameters for each drawing command are specified directly in the
command or read from buffer memory, depending on the command.
Drawing commands that source their parameters from buffer memory are known
as <span class="emphasis"><em>indirect</em></span> drawing commands.</p><p>All drawing commands interact with the
<a class="link" href="#features-features-robustBufferAccess">Robust Buffer Access</a> feature.</p><p><a id="drawing-primitive-assembly-apiorder"></a>Primitives assembled by draw commands are considered to have an
<a class="link" href="#fundamentals-queueoperation-apiorder">API order</a>, which defines the order
their fragments affect the framebuffer.
When a draw command includes multiple instances, the lower numbered
instances are earlier in API order.
For non-indexed draws, primitives with lower numbered <span class="strong"><strong><code class="code">vertexIndex</code></strong></span>
values are earlier in API order.
For indexed draws, primitives assembled from lower index buffer addresses
are earlier in API order.</p><p>To record a non-indexed draw, call:</p><p><a id="vkCmdDraw"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdDraw(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    vertexCount,
    uint32_t                                    instanceCount,
    uint32_t                                    firstVertex,
    uint32_t                                    firstInstance);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command is
    recorded.
</li><li class="listitem">
<em class="parameter"><code>vertexCount</code></em> is the number of vertices to draw.
</li><li class="listitem">
<em class="parameter"><code>instanceCount</code></em> is the number of instances to draw.
</li><li class="listitem">
<em class="parameter"><code>firstVertex</code></em> is the index of the first vertex to draw.
</li><li class="listitem">
<em class="parameter"><code>firstInstance</code></em> is the instance ID of the first instance to draw.
</li></ul></div><p>When the command is executed, primitives are assembled using the current
primitive topology and <em class="parameter"><code>vertexCount</code></em> consecutive vertex indices with the
first <span class="strong"><strong><code class="code">vertexIndex</code></strong></span> value equal to <em class="parameter"><code>firstVertex</code></em>.
The primitives are drawn <em class="parameter"><code>instanceCount</code></em> times with <span class="strong"><strong><code class="code">instanceIndex</code></strong></span>
starting with <em class="parameter"><code>firstInstance</code></em> and increasing sequentially for each
instance.
The assembled primitives execute the currently bound graphics pipeline.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called inside of a render pass instance
</li><li class="listitem">
For each set <span class="emphasis"><em>n</em></span> that is statically used by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a descriptor set <span class="normative">must</span> have been bound to <span class="emphasis"><em>n</em></span> at <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code class="code">VkPipelineLayout</code> that is compatible for set <span class="emphasis"><em>n</em></span>, with the <code class="code">VkPipelineLayout</code> used to create the current <code class="code">VkPipeline</code>, as described in <a class="xref" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">the section called “Pipeline Layout Compatibility”</a>
</li><li class="listitem">
For each push constant that is statically used by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a push constant value <span class="normative">must</span> have been set for <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code class="code">VkPipelineLayout</code> that is compatible for push constants, with the <code class="code">VkPipelineLayout</code> used to create the current <code class="code">VkPipeline</code>, as described in <a class="xref" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">the section called “Pipeline Layout Compatibility”</a>
</li><li class="listitem">
Descriptors in each bound descriptor set, specified via <span class="strong"><strong><code class="code">vkCmdBindDescriptorSets</code></strong></span>, <span class="normative">must</span> be valid if they are statically used by the currently bound <code class="code">VkPipeline</code> object, specified via <span class="strong"><strong><code class="code">vkCmdBindPipeline</code></strong></span>
</li><li class="listitem">
All vertex input bindings accessed via vertex input variables declared in the vertex shader entry point’s interface <span class="normative">must</span> have valid buffers bound
</li><li class="listitem">
For a given vertex buffer binding, any attribute data fetched <span class="normative">must</span> be entirely contained within the corresponding vertex buffer binding, as described in <a class="xref" href="#fxvertex-input" title="20.2. Vertex Input Description">Section 20.2, “Vertex Input Description”</a>
</li><li class="listitem">
A valid graphics pipeline <span class="normative">must</span> be bound to the current command buffer with <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>
</li><li class="listitem">
If the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> requires any dynamic state, that state <span class="normative">must</span> have been set on the current command buffer
</li><li class="listitem">
Every input attachment used by the current subpass <span class="normative">must</span> be bound to the pipeline via a descriptor set
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used to sample from any <code class="code">VkImage</code> with a <code class="code">VkImageView</code> of the type <code class="code">VK_IMAGE_VIEW_TYPE_3D</code>, <code class="code">VK_IMAGE_VIEW_TYPE_CUBE</code>, <code class="code">VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code class="code">VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or <code class="code">VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used with any of the SPIR-V <code class="literal">OpImageSample*</code> or <code class="literal">OpImageSparseSample*</code> instructions with <span class="strong"><strong><code class="code">ImplicitLod</code></strong></span>, <span class="strong"><strong><code class="code">Dref</code></strong></span> or <span class="strong"><strong><code class="code">Proj</code></strong></span> in their name, in any shader stage
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used with any of the SPIR-V <code class="literal">OpImageSample*</code> or <code class="literal">OpImageSparseSample*</code> instructions that includes a LOD bias or any offset values, in any shader stage
</li><li class="listitem">
If the <a class="link" href="#features-features-robustBufferAccess">robust buffer access</a> feature is not enabled, and any shader stage in the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses a uniform buffer, it <span class="normative">must</span> not access values outside of the range of that buffer specified in the currently bound descriptor set
</li><li class="listitem">
If the <a class="link" href="#features-features-robustBufferAccess">robust buffer access</a> feature is not enabled, and any shader stage in the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses a storage buffer, it <span class="normative">must</span> not access values outside of the range of that buffer specified in the currently bound descriptor set
</li><li class="listitem">
Any <code class="code">VkImageView</code> being sampled with <code class="code">VK_FILTER_LINEAR</code> as a result of this command <span class="normative">must</span> be of a format which supports linear filtering, as specified by the <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> (for a linear image) or <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em>(for an optimally tiled image) returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Inside</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>To record an indexed draw, call:</p><p><a id="vkCmdDrawIndexed"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdDrawIndexed(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    indexCount,
    uint32_t                                    instanceCount,
    uint32_t                                    firstIndex,
    int32_t                                     vertexOffset,
    uint32_t                                    firstInstance);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command is
    recorded.
</li><li class="listitem">
<em class="parameter"><code>indexCount</code></em> is the number of vertices to draw.
</li><li class="listitem">
<em class="parameter"><code>instanceCount</code></em> is the number of instances to draw.
</li><li class="listitem">
<em class="parameter"><code>firstIndex</code></em> is the base index within the index buffer.
</li><li class="listitem">
<em class="parameter"><code>vertexOffset</code></em> is the value added to the vertex index before
    indexing into the vertex buffer.
</li><li class="listitem">
<em class="parameter"><code>firstInstance</code></em> is the instance ID of the first instance to draw.
</li></ul></div><p>When the command is executed, primitives are assembled using the current
primitive topology and <em class="parameter"><code>indexCount</code></em> vertices whose indices are retrieved
from the index buffer.
The index buffer is treated as an array of tightly packed unsigned integers
of size defined by the <code class="code"><a class="link" href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a></code>::<em class="parameter"><code>indexType</code></em> parameter
with which the buffer was bound.</p><p>The first vertex index is at an offset of <em class="parameter"><code>firstIndex</code></em> * <span class="strong"><strong><code class="code">indexSize</code></strong></span>
+ <em class="parameter"><code>offset</code></em> within the currently bound index buffer, where <em class="parameter"><code>offset</code></em>
is the offset specified by <span class="strong"><strong><code class="code">vkCmdBindIndexBuffer</code></strong></span> and <span class="strong"><strong><code class="code">indexSize</code></strong></span> is
the byte size of the type specified by <em class="parameter"><code>indexType</code></em>.
Subsequent index values are retrieved from consecutive locations in the
index buffer.
Indices are first compared to the primitive restart value, then zero
extended to 32 bits (if the <span class="strong"><strong><code class="code">indexType</code></strong></span> is <code class="code">VK_INDEX_TYPE_UINT16</code>)
and have <em class="parameter"><code>vertexOffset</code></em> added to them, before being supplied as the
<span class="strong"><strong><code class="code">vertexIndex</code></strong></span> value.</p><p>The primitives are drawn <em class="parameter"><code>instanceCount</code></em> times with <span class="strong"><strong><code class="code">instanceIndex</code></strong></span>
starting with <em class="parameter"><code>firstInstance</code></em> and increasing sequentially for each
instance.
The assembled primitives execute the currently bound graphics pipeline.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called inside of a render pass instance
</li><li class="listitem">
For each set <span class="emphasis"><em>n</em></span> that is statically used by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a descriptor set <span class="normative">must</span> have been bound to <span class="emphasis"><em>n</em></span> at <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code class="code">VkPipelineLayout</code> that is compatible for set <span class="emphasis"><em>n</em></span>, with the <code class="code">VkPipelineLayout</code> used to create the current <code class="code">VkPipeline</code>, as described in <a class="xref" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">the section called “Pipeline Layout Compatibility”</a>
</li><li class="listitem">
For each push constant that is statically used by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a push constant value <span class="normative">must</span> have been set for <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code class="code">VkPipelineLayout</code> that is compatible for push constants, with the <code class="code">VkPipelineLayout</code> used to create the current <code class="code">VkPipeline</code>, as described in <a class="xref" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">the section called “Pipeline Layout Compatibility”</a>
</li><li class="listitem">
Descriptors in each bound descriptor set, specified via <span class="strong"><strong><code class="code">vkCmdBindDescriptorSets</code></strong></span>, <span class="normative">must</span> be valid if they are statically used by the currently bound <code class="code">VkPipeline</code> object, specified via <span class="strong"><strong><code class="code">vkCmdBindPipeline</code></strong></span>
</li><li class="listitem">
All vertex input bindings accessed via vertex input variables declared in the vertex shader entry point’s interface <span class="normative">must</span> have valid buffers bound
</li><li class="listitem">
For a given vertex buffer binding, any attribute data fetched <span class="normative">must</span> be entirely contained within the corresponding vertex buffer binding, as described in <a class="xref" href="#fxvertex-input" title="20.2. Vertex Input Description">Section 20.2, “Vertex Input Description”</a>
</li><li class="listitem">
A valid graphics pipeline <span class="normative">must</span> be bound to the current command buffer with <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>
</li><li class="listitem">
If the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> requires any dynamic state, that state <span class="normative">must</span> have been set on the current command buffer
</li><li class="listitem">
(<em class="parameter"><code>indexSize</code></em> * (<em class="parameter"><code>firstIndex</code></em> + <em class="parameter"><code>indexCount</code></em>) + <em class="parameter"><code>offset</code></em>) <span class="normative">must</span> be less than or equal to the size of the currently bound index buffer, with indexSize being based on the type specified by <em class="parameter"><code>indexType</code></em>, where the index buffer, <em class="parameter"><code>indexType</code></em>, and <em class="parameter"><code>offset</code></em> are specified via <span class="strong"><strong><code class="code">vkCmdBindIndexBuffer</code></strong></span>
</li><li class="listitem">
Every input attachment used by the current subpass <span class="normative">must</span> be bound to the pipeline via a descriptor set
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used to sample from any <code class="code">VkImage</code> with a <code class="code">VkImageView</code> of the type <code class="code">VK_IMAGE_VIEW_TYPE_3D</code>, <code class="code">VK_IMAGE_VIEW_TYPE_CUBE</code>, <code class="code">VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code class="code">VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or <code class="code">VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used with any of the SPIR-V <code class="literal">OpImageSample*</code> or <code class="literal">OpImageSparseSample*</code> instructions with <span class="strong"><strong><code class="code">ImplicitLod</code></strong></span>, <span class="strong"><strong><code class="code">Dref</code></strong></span> or <span class="strong"><strong><code class="code">Proj</code></strong></span> in their name, in any shader stage
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used with any of the SPIR-V <code class="literal">OpImageSample*</code> or <code class="literal">OpImageSparseSample*</code> instructions that includes a LOD bias or any offset values, in any shader stage
</li><li class="listitem">
If the <a class="link" href="#features-features-robustBufferAccess">robust buffer access</a> feature is not enabled, and any shader stage in the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses a uniform buffer, it <span class="normative">must</span> not access values outside of the range of that buffer specified in the currently bound descriptor set
</li><li class="listitem">
If the <a class="link" href="#features-features-robustBufferAccess">robust buffer access</a> feature is not enabled, and any shader stage in the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses a storage buffer, it <span class="normative">must</span> not access values outside of the range of that buffer specified in the currently bound descriptor set
</li><li class="listitem">
Any <code class="code">VkImageView</code> being sampled with <code class="code">VK_FILTER_LINEAR</code> as a result of this command <span class="normative">must</span> be of a format which supports linear filtering, as specified by the <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> (for a linear image) or <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em>(for an optimally tiled image) returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Inside</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>To record a non-indexed indirect draw, call:</p><p><a id="vkCmdDrawIndirect"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdDrawIndirect(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    uint32_t                                    drawCount,
    uint32_t                                    stride);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command is
    recorded.
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> is the buffer containing draw parameters.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> is the byte offset into <em class="parameter"><code>buffer</code></em> where parameters
    begin.
</li><li class="listitem">
<em class="parameter"><code>drawCount</code></em> is the number of draws to execute, and <span class="normative">can</span> be zero.
</li><li class="listitem">
<em class="parameter"><code>stride</code></em> is the byte stride between successive sets of draw
    parameters.
</li></ul></div><p><span class="strong"><strong><code class="code">vkCmdDrawIndirect</code></strong></span> behaves similarly to <code class="code"><a class="link" href="#vkCmdDraw">vkCmdDraw</a></code> except that the
parameters are read by the device from a buffer during execution.
<em class="parameter"><code>drawCount</code></em> draws are executed by the command, with parameters taken
from <em class="parameter"><code>buffer</code></em> starting at <em class="parameter"><code>offset</code></em> and increasing by <em class="parameter"><code>stride</code></em>
bytes for each successive draw.
The parameters of each draw are encoded in an array of
<code class="code"><a class="link" href="#VkDrawIndirectCommand">VkDrawIndirectCommand</a></code> structures.
If <em class="parameter"><code>drawCount</code></em> is less than or equal to one, <em class="parameter"><code>stride</code></em> is ignored.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called inside of a render pass instance
</li><li class="listitem">
Both of <em class="parameter"><code>buffer</code></em>, and <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be a multiple of <code class="literal">4</code>
</li><li class="listitem">
If <em class="parameter"><code>drawCount</code></em> is greater than <code class="literal">1</code>, <em class="parameter"><code>stride</code></em> <span class="normative">must</span> be a multiple of <code class="literal">4</code> and <span class="normative">must</span> be greater than or equal to sizeof(<code class="code">VkDrawIndirectCommand</code>)
</li><li class="listitem">
If the <a class="link" href="#features-features-multiDrawIndirect">multi-draw indirect</a> feature is not enabled, <em class="parameter"><code>drawCount</code></em> <span class="normative">must</span> be <code class="literal">0</code> or <code class="literal">1</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-drawIndirectFirstInstance">drawIndirectFirstInstance</a> feature is not enabled, all the <em class="parameter"><code>firstInstance</code></em> members of the <code class="code">VkDrawIndirectCommand</code> structures accessed by this command <span class="normative">must</span> be <span class="strong"><strong><code class="code">0</code></strong></span>
</li><li class="listitem">
For each set <span class="emphasis"><em>n</em></span> that is statically used by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a descriptor set <span class="normative">must</span> have been bound to <span class="emphasis"><em>n</em></span> at <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code class="code">VkPipelineLayout</code> that is compatible for set <span class="emphasis"><em>n</em></span>, with the <code class="code">VkPipelineLayout</code> used to create the current <code class="code">VkPipeline</code>, as described in <a class="xref" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">the section called “Pipeline Layout Compatibility”</a>
</li><li class="listitem">
For each push constant that is statically used by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a push constant value <span class="normative">must</span> have been set for <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code class="code">VkPipelineLayout</code> that is compatible for push constants, with the <code class="code">VkPipelineLayout</code> used to create the current <code class="code">VkPipeline</code>, as described in <a class="xref" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">the section called “Pipeline Layout Compatibility”</a>
</li><li class="listitem">
Descriptors in each bound descriptor set, specified via <span class="strong"><strong><code class="code">vkCmdBindDescriptorSets</code></strong></span>, <span class="normative">must</span> be valid if they are statically used by the currently bound <code class="code">VkPipeline</code> object, specified via <span class="strong"><strong><code class="code">vkCmdBindPipeline</code></strong></span>
</li><li class="listitem">
All vertex input bindings accessed via vertex input variables declared in the vertex shader entry point’s interface <span class="normative">must</span> have valid buffers bound
</li><li class="listitem">
A valid graphics pipeline <span class="normative">must</span> be bound to the current command buffer with <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>
</li><li class="listitem">
If the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> requires any dynamic state, that state <span class="normative">must</span> have been set on the current command buffer
</li><li class="listitem">
If <em class="parameter"><code>drawCount</code></em> is equal to <code class="literal">1</code>, (<em class="parameter"><code>offset</code></em> + sizeof(<code class="code">VkDrawIndirectCommand</code>)) <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>buffer</code></em>
</li><li class="listitem">
If <em class="parameter"><code>drawCount</code></em> is greater than <code class="literal">1</code>, (<em class="parameter"><code>stride</code></em> x (<em class="parameter"><code>drawCount</code></em> - 1) + <em class="parameter"><code>offset</code></em> + sizeof(<code class="code">VkDrawIndirectCommand</code>)) <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>buffer</code></em>
</li><li class="listitem">
<em class="parameter"><code>drawCount</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxDrawIndirectCount</code></em>
</li><li class="listitem">
Every input attachment used by the current subpass <span class="normative">must</span> be bound to the pipeline via a descriptor set
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used to sample from any <code class="code">VkImage</code> with a <code class="code">VkImageView</code> of the type <code class="code">VK_IMAGE_VIEW_TYPE_3D</code>, <code class="code">VK_IMAGE_VIEW_TYPE_CUBE</code>, <code class="code">VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code class="code">VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or <code class="code">VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used with any of the SPIR-V <code class="literal">OpImageSample*</code> or <code class="literal">OpImageSparseSample*</code> instructions with <span class="strong"><strong><code class="code">ImplicitLod</code></strong></span>, <span class="strong"><strong><code class="code">Dref</code></strong></span> or <span class="strong"><strong><code class="code">Proj</code></strong></span> in their name, in any shader stage
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used with any of the SPIR-V <code class="literal">OpImageSample*</code> or <code class="literal">OpImageSparseSample*</code> instructions that includes a LOD bias or any offset values, in any shader stage
</li><li class="listitem">
If the <a class="link" href="#features-features-robustBufferAccess">robust buffer access</a> feature is not enabled, and any shader stage in the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses a uniform buffer, it <span class="normative">must</span> not access values outside of the range of that buffer specified in the currently bound descriptor set
</li><li class="listitem">
If the <a class="link" href="#features-features-robustBufferAccess">robust buffer access</a> feature is not enabled, and any shader stage in the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses a storage buffer, it <span class="normative">must</span> not access values outside of the range of that buffer specified in the currently bound descriptor set
</li><li class="listitem">
Any <code class="code">VkImageView</code> being sampled with <code class="code">VK_FILTER_LINEAR</code> as a result of this command <span class="normative">must</span> be of a format which supports linear filtering, as specified by the <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> (for a linear image) or <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em>(for an optimally tiled image) returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Inside</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>The <code class="code">VkDrawIndirectCommand</code> structure is defined as:</p><p><a id="VkDrawIndirectCommand"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDrawIndirectCommand {
    uint32_t    vertexCount;
    uint32_t    instanceCount;
    uint32_t    firstVertex;
    uint32_t    firstInstance;
} VkDrawIndirectCommand;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>vertexCount</code></em> is the number of vertices to draw.
</li><li class="listitem">
<em class="parameter"><code>instanceCount</code></em> is the number of instances to draw.
</li><li class="listitem">
<em class="parameter"><code>firstVertex</code></em> is the index of the first vertex to draw.
</li><li class="listitem">
<em class="parameter"><code>firstInstance</code></em> is the instance ID of the first instance to draw.
</li></ul></div><p>The members of <code class="code">VkDrawIndirectCommand</code> have the same meaning as the
similarly named parameters of <code class="code"><a class="link" href="#vkCmdDraw">vkCmdDraw</a></code>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
For a given vertex buffer binding, any attribute data fetched <span class="normative">must</span> be entirely contained within the corresponding vertex buffer binding, as described in <a class="xref" href="#fxvertex-input" title="20.2. Vertex Input Description">Section 20.2, “Vertex Input Description”</a>
</li><li class="listitem">
If the <a class="link" href="#features-features-drawIndirectFirstInstance">drawIndirectFirstInstance</a> feature is not enabled, <em class="parameter"><code>firstInstance</code></em> <span class="normative">must</span> be <span class="strong"><strong><code class="code">0</code></strong></span>
</li></ul></div></div><p>To record an indexed indirect draw, call:</p><p><a id="vkCmdDrawIndexedIndirect"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdDrawIndexedIndirect(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    uint32_t                                    drawCount,
    uint32_t                                    stride);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command is
    recorded.
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> is the buffer containing draw parameters.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> is the byte offset into <em class="parameter"><code>buffer</code></em> where parameters
    begin.
</li><li class="listitem">
<em class="parameter"><code>drawCount</code></em> is the number of draws to execute, and <span class="normative">can</span> be zero.
</li><li class="listitem">
<em class="parameter"><code>stride</code></em> is the byte stride between successive sets of draw
    parameters.
</li></ul></div><p><span class="strong"><strong><code class="code">vkCmdDrawIndexedIndirect</code></strong></span> behaves similarly to <code class="code"><a class="link" href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>
except that the parameters are read by the device from a buffer during
execution.
<em class="parameter"><code>drawCount</code></em> draws are executed by the command, with parameters taken
from <em class="parameter"><code>buffer</code></em> starting at <em class="parameter"><code>offset</code></em> and increasing by <em class="parameter"><code>stride</code></em>
bytes for each successive draw.
The parameters of each draw are encoded in an array of
<code class="code"><a class="link" href="#VkDrawIndexedIndirectCommand">VkDrawIndexedIndirectCommand</a></code> structures.
If <em class="parameter"><code>drawCount</code></em> is less than or equal to one, <em class="parameter"><code>stride</code></em> is ignored.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called inside of a render pass instance
</li><li class="listitem">
Both of <em class="parameter"><code>buffer</code></em>, and <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be a multiple of <code class="literal">4</code>
</li><li class="listitem">
If <em class="parameter"><code>drawCount</code></em> is greater than <code class="literal">1</code>, <em class="parameter"><code>stride</code></em> <span class="normative">must</span> be a multiple of <code class="literal">4</code> and <span class="normative">must</span> be greater than or equal to sizeof(<code class="code">VkDrawIndexedIndirectCommand</code>)
</li><li class="listitem">
If the <a class="link" href="#features-features-multiDrawIndirect">multi-draw indirect</a> feature is not enabled, <em class="parameter"><code>drawCount</code></em> <span class="normative">must</span> be <code class="literal">0</code> or <code class="literal">1</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-drawIndirectFirstInstance">drawIndirectFirstInstance</a> feature is not enabled, all the <em class="parameter"><code>firstInstance</code></em> members of the <code class="code">VkDrawIndexedIndirectCommand</code> structures accessed by this command <span class="normative">must</span> be <span class="strong"><strong><code class="code">0</code></strong></span>
</li><li class="listitem">
For each set <span class="emphasis"><em>n</em></span> that is statically used by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a descriptor set <span class="normative">must</span> have been bound to <span class="emphasis"><em>n</em></span> at <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code class="code">VkPipelineLayout</code> that is compatible for set <span class="emphasis"><em>n</em></span>, with the <code class="code">VkPipelineLayout</code> used to create the current <code class="code">VkPipeline</code>, as described in <a class="xref" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">the section called “Pipeline Layout Compatibility”</a>
</li><li class="listitem">
For each push constant that is statically used by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, a push constant value <span class="normative">must</span> have been set for <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>, with a <code class="code">VkPipelineLayout</code> that is compatible for push constants, with the <code class="code">VkPipelineLayout</code> used to create the current <code class="code">VkPipeline</code>, as described in <a class="xref" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">the section called “Pipeline Layout Compatibility”</a>
</li><li class="listitem">
Descriptors in each bound descriptor set, specified via <span class="strong"><strong><code class="code">vkCmdBindDescriptorSets</code></strong></span>, <span class="normative">must</span> be valid if they are statically used by the currently bound <code class="code">VkPipeline</code> object, specified via <span class="strong"><strong><code class="code">vkCmdBindPipeline</code></strong></span>
</li><li class="listitem">
All vertex input bindings accessed via vertex input variables declared in the vertex shader entry point’s interface <span class="normative">must</span> have valid buffers bound
</li><li class="listitem">
A valid graphics pipeline <span class="normative">must</span> be bound to the current command buffer with <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code>
</li><li class="listitem">
If the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> requires any dynamic state, that state <span class="normative">must</span> have been set on the current command buffer
</li><li class="listitem">
If <em class="parameter"><code>drawCount</code></em> is equal to <code class="literal">1</code>, (<em class="parameter"><code>offset</code></em> + sizeof(<code class="code">VkDrawIndexedIndirectCommand</code>)) <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>buffer</code></em>
</li><li class="listitem">
If <em class="parameter"><code>drawCount</code></em> is greater than <code class="literal">1</code>, (<em class="parameter"><code>stride</code></em> x (<em class="parameter"><code>drawCount</code></em> - 1) + <em class="parameter"><code>offset</code></em> + sizeof(<code class="code">VkDrawIndexedIndirectCommand</code>)) <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>buffer</code></em>
</li><li class="listitem">
<em class="parameter"><code>drawCount</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxDrawIndirectCount</code></em>
</li><li class="listitem">
Every input attachment used by the current subpass <span class="normative">must</span> be bound to the pipeline via a descriptor set
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used to sample from any <code class="code">VkImage</code> with a <code class="code">VkImageView</code> of the type <code class="code">VK_IMAGE_VIEW_TYPE_3D</code>, <code class="code">VK_IMAGE_VIEW_TYPE_CUBE</code>, <code class="code">VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code class="code">VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or <code class="code">VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used with any of the SPIR-V <code class="literal">OpImageSample*</code> or <code class="literal">OpImageSparseSample*</code> instructions with <span class="strong"><strong><code class="code">ImplicitLod</code></strong></span>, <span class="strong"><strong><code class="code">Dref</code></strong></span> or <span class="strong"><strong><code class="code">Proj</code></strong></span> in their name, in any shader stage
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used with any of the SPIR-V <code class="literal">OpImageSample*</code> or <code class="literal">OpImageSparseSample*</code> instructions that includes a LOD bias or any offset values, in any shader stage
</li><li class="listitem">
If the <a class="link" href="#features-features-robustBufferAccess">robust buffer access</a> feature is not enabled, and any shader stage in the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses a uniform buffer, it <span class="normative">must</span> not access values outside of the range of that buffer specified in the currently bound descriptor set
</li><li class="listitem">
If the <a class="link" href="#features-features-robustBufferAccess">robust buffer access</a> feature is not enabled, and any shader stage in the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_GRAPHICS</code> accesses a storage buffer, it <span class="normative">must</span> not access values outside of the range of that buffer specified in the currently bound descriptor set
</li><li class="listitem">
Any <code class="code">VkImageView</code> being sampled with <code class="code">VK_FILTER_LINEAR</code> as a result of this command <span class="normative">must</span> be of a format which supports linear filtering, as specified by the <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> (for a linear image) or <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em>(for an optimally tiled image) returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Inside</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>The <code class="code">VkDrawIndexedIndirectCommand</code> structure is defined as:</p><p><a id="VkDrawIndexedIndirectCommand"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDrawIndexedIndirectCommand {
    uint32_t    indexCount;
    uint32_t    instanceCount;
    uint32_t    firstIndex;
    int32_t     vertexOffset;
    uint32_t    firstInstance;
} VkDrawIndexedIndirectCommand;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>indexCount</code></em> is the number of vertices to draw.
</li><li class="listitem">
<em class="parameter"><code>instanceCount</code></em> is the number of instances to draw.
</li><li class="listitem">
<em class="parameter"><code>firstIndex</code></em> is the base index within the index buffer.
</li><li class="listitem">
<em class="parameter"><code>vertexOffset</code></em> is the value added to the vertex index before
    indexing into the vertex buffer.
</li><li class="listitem">
<em class="parameter"><code>firstInstance</code></em> is the instance ID of the first instance to draw.
</li></ul></div><p>The members of <code class="code">VkDrawIndexedIndirectCommand</code> have the same meaning as
the similarly named parameters of <code class="code"><a class="link" href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
For a given vertex buffer binding, any attribute data fetched <span class="normative">must</span> be entirely contained within the corresponding vertex buffer binding, as described in <a class="xref" href="#fxvertex-input" title="20.2. Vertex Input Description">Section 20.2, “Vertex Input Description”</a>
</li><li class="listitem">
(<em class="parameter"><code>indexSize</code></em> * (<em class="parameter"><code>firstIndex</code></em> + <em class="parameter"><code>indexCount</code></em>) + <em class="parameter"><code>offset</code></em>) <span class="normative">must</span> be less than or equal to the size of the currently bound index buffer, with <em class="parameter"><code>indexSize</code></em> being based on the type specified by <em class="parameter"><code>indexType</code></em>, where the index buffer, <em class="parameter"><code>indexType</code></em>, and <em class="parameter"><code>offset</code></em> are specified via <span class="strong"><strong><code class="code">vkCmdBindIndexBuffer</code></strong></span>
</li><li class="listitem">
If the <a class="link" href="#features-features-drawIndirectFirstInstance">drawIndirectFirstInstance</a> feature is not enabled, <em class="parameter"><code>firstInstance</code></em> <span class="normative">must</span> be <span class="strong"><strong><code class="code">0</code></strong></span>
</li></ul></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="fxvertex"></a>Chapter 20. Fixed-Function Vertex Processing</h1></div></div></div><p>Some implementations have specialized fixed-function hardware for fetching
and format-converting vertex input data from buffers, rather than performing
the fetch as part of the vertex shader.
Vulkan includes a vertex attribute fetch stage in the graphics pipeline in
order to take advantage of this.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fxvertex-attrib"></a>20.1. Vertex Attributes</h2></div></div></div><p>Vertex shaders <span class="normative">can</span> define input variables, which receive <span class="emphasis"><em>vertex attribute</em></span>
data transferred from one or more <code class="code">VkBuffer</code>(s) by drawing commands.
Vertex shader input variables are bound to buffers via an indirect binding
where the vertex shader associates a <span class="emphasis"><em>vertex input attribute</em></span> number with
each variable, vertex input attributes are associated to <span class="emphasis"><em>vertex input
bindings</em></span> on a per-pipeline basis, and vertex input bindings are associated
with specific buffers on a per-draw basis via the
<span class="strong"><strong><code class="code">vkCmdBindVertexBuffers</code></strong></span> command.
Vertex input attribute and vertex input binding descriptions also contain
format information controlling how data is extracted from buffer memory and
converted to the format expected by the vertex shader.</p><p>There are <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxVertexInputAttributes</code></em>
number of vertex input attributes and
<code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxVertexInputBindings</code></em> number of vertex
input bindings (each referred to by zero-based indices), where there are at
least as many vertex input attributes as there are vertex input bindings.
Applications <span class="normative">can</span> store multiple vertex input attributes interleaved in a
single buffer, and use a single vertex input binding to access those
attributes.</p><p>In GLSL, vertex shaders associate input variables with a vertex input
attribute number using the <span class="strong"><strong><code class="code">location</code></strong></span> layout qualifier.
The <span class="strong"><strong><code class="code">component</code></strong></span> layout qualifier associates components of a vertex shader
input variable with components of a vertex input attribute.</p><p><strong>GLSL example. </strong>
</p><pre class="programlisting">// Assign location M to variableName
layout (location=M, component=2) in vec2 variableName;

// Assign locations [N,N+L) to the array elements of variableNameArray
layout (location=N) in vec4 variableNameArray[L];</pre><p>
</p><p>In SPIR-V, vertex shaders associate input variables with a vertex input
attribute number using the <span class="strong"><strong><code class="code">Location</code></strong></span> decoration.
The <span class="strong"><strong><code class="code">Component</code></strong></span> decoration associates components of a vertex shader input
variable with components of a vertex input attribute.
The <span class="strong"><strong><code class="code">Location</code></strong></span> and <span class="strong"><strong><code class="code">Component</code></strong></span> decorations are specified via the
<span class="strong"><strong><code class="code">OpDecorate</code></strong></span> instruction.</p><p><strong>SPIR-V example. </strong>
</p><pre class="screen">               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "variableName"
               OpName %15 "variableNameArray"
               OpDecorate %18 Builtin VertexIndex
               OpDecorate %19 Builtin InstanceIndex
               OpDecorate %9 Location M
               OpDecorate %9 Component 2
               OpDecorate %15 Location N
               ...
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeVector %6 2
          %8 = OpTypePointer Input %7
          %9 = OpVariable %8 Input
         %10 = OpTypeVector %6 4
         %11 = OpTypeInt 32 0
         %12 = OpConstant %11 L
         %13 = OpTypeArray %10 %12
         %14 = OpTypePointer Input %13
         %15 = OpVariable %14 Input
               ...</pre><p>
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="fxvertex-attrib-location"></a>20.1.1. Attribute Location and Component Assignment</h3></div></div></div><p>Vertex shaders allow <span class="strong"><strong><code class="code">Location</code></strong></span> and <span class="strong"><strong><code class="code">Component</code></strong></span> decorations on input
variable declarations.
The <span class="strong"><strong><code class="code">Location</code></strong></span> decoration specifies which vertex input attribute is used
to read and interpret the data that a variable will consume.
The <span class="strong"><strong><code class="code">Component</code></strong></span> decoration allows the location to be more finely
specified for scalars and vectors, down to the individual components within
a location that are consumed.
The components within a location are 0, 1, 2, and 3.
A variable starting at component N will consume components N, N+1, N+2, …
up through its size.
For single precision types, it is invalid if the sequence of components gets
larger than 3.</p><p>When a vertex shader input variable declared using a scalar or vector 32-bit
data type is assigned a location, its value(s) are taken from the components
of the input attribute specified with the corresponding
<code class="code">VkVertexInputAttributeDescription</code>::<em class="parameter"><code>location</code></em>.
The components used depend on the type of variable and the <span class="strong"><strong><code class="code">Component</code></strong></span>
decoration specified in the variable declaration, as identified in
<a class="xref" href="#fxvertex-attrib-components" title="Table 20.1. Input attribute components accessed by 32-bit input variables">Table 20.1, “Input attribute components accessed by 32-bit input variables”</a>.
Any 32-bit scalar or vector input will consume a single location.
For 32-bit data types, missing components are filled in with default values
as described <a class="link" href="#fxvertex-input-extraction">below</a>.</p><div class="table"><a id="fxvertex-attrib-components"></a><p class="title"><strong>Table 20.1. Input attribute components accessed by 32-bit input variables</strong></p><div class="table-contents"><table summary="Input attribute components accessed by 32-bit input variables" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="65%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> 32-bit data type      </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> <span class="strong"><strong><code class="code">Component</code></strong></span> decoration </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Components consumed</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0 or unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, o, o, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(o, y, o, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(o, o, z, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>3</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(o, o, o, w)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>two-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0 or unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, o, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>two-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(o, y, z, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>two-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(o, o, z, w)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>three-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0 or unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, z, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>three-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(o, y, z, w)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>four-component vector</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>0 or unspecified</p></td><td style="" align="left" valign="top"><p>(x, y, z, w)</p></td></tr></tbody></table></div></div><br class="table-break" /><p>Components indicated by ‘o’ are available for use by other input variables
which are sourced from the same attribute, and if used, are either filled
with the corresponding component from the input format (if present), or the
default value.</p><p>When a vertex shader input variable declared using a 32-bit floating point
matrix type is assigned a location <span class="emphasis"><em>i</em></span>, its values are taken from
consecutive input attributes starting with the corresponding
<code class="code">VkVertexInputAttributeDescription</code>::<em class="parameter"><code>location</code></em>.
Such matrices are treated as an array of column vectors with values taken
from the input attributes identified in <a class="xref" href="#fxvertex-attrib-matrix" title="Table 20.2. Input attributes accessed by 32-bit input matrix variables">Table 20.2, “Input attributes accessed by 32-bit input matrix variables”</a>.
The <code class="code">VkVertexInputAttributeDescription</code>::<em class="parameter"><code>format</code></em> <span class="normative">must</span> be specified
with a <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> that corresponds to the appropriate type of column
vector.
The <span class="strong"><strong><code class="code">Component</code></strong></span> decoration <span class="normative">must</span> not be used with matrix types.</p><div class="table"><a id="fxvertex-attrib-matrix"></a><p class="title"><strong>Table 20.2. Input attributes accessed by 32-bit input matrix variables</strong></p><div class="table-contents"><table summary="Input attributes accessed by 32-bit input matrix variables" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Data type     </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Column vector type        </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Locations consumed    </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Components consumed</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>mat2</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>two-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>i, i+1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, o, o), (x, y, o, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>mat2x3</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>three-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>i, i+1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, z, o), (x, y, z, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>mat2x4</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>four-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>i, i+1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, z, w), (x, y, z, w)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>mat3x2</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>two-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>i, i+1, i+2</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, o, o), (x, y, o, o), (x, y, o, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>mat3</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>three-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>i, i+1, i+2</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, z, o), (x, y, z, o), (x, y, z, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>mat3x4</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>four-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>i, i+1, i+2</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, z, w), (x, y, z, w), (x, y, z, w)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>mat4x2</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>two-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>i, i+1, i+2, i+3</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, o, o), (x, y, o, o), (x, y, o, o), (x, y, o, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>mat4x3</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>three-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>i, i+1, i+2, i+3</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, z, o), (x, y, z, o), (x, y, z, o), (x, y, z, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>mat4</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>four-component vector</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>i, i+1, i+2, i+3</p></td><td style="" align="left" valign="top"><p>(x, y, z, w), (x, y, z, w), (x, y, z, w), (x, y, z, w)</p></td></tr></tbody></table></div></div><br class="table-break" /><p>Components indicated by ‘o’ are available for use by other input variables
which are sourced from the same attribute, and if used, are either filled
with the corresponding component from the input (if present), or the default
value.</p><p>When a vertex shader input variable declared using a scalar or vector 64-bit
data type is assigned a location <span class="emphasis"><em>i</em></span>, its values are taken from consecutive
input attributes starting with the corresponding
<code class="code">VkVertexInputAttributeDescription</code>::<em class="parameter"><code>location</code></em>.
The locations and components used depend on the type of variable and the
<span class="strong"><strong><code class="code">Component</code></strong></span> decoration specified in the variable declaration, as
identified in <a class="xref" href="#fxvertex-attrib-double" title="Table 20.3. Input attribute locations and components accessed by 64-bit input variables">Table 20.3, “Input attribute locations and components accessed by 64-bit input variables”</a>.
For 64-bit data types, no default attribute values are provided.
Input variables <span class="normative">must</span> not use more components than provided by the
attribute.
Input attributes which have one- or two-component 64-bit formats will
consume a single location.
Input attributes which have three- or four-component 64-bit formats will
consume two consecutive locations.
A 64-bit scalar data type will consume two components, and a 64-bit
two-component vector data type will consume all four components available
within a location.
A three- or four-component 64-bit data type <span class="normative">must</span> not specify a component.
A three-component 64-bit data type will consume all four components of the
first location and components 0 and 1 of the second location.
This leaves components 2 and 3 available for other component-qualified
declarations.
A four-component 64-bit data type will consume all four components of the
first location and all four components of the second location.
It is invalid for a scalar or two-component 64-bit data type to specify a
component of 1 or 3.</p><div class="table"><a id="fxvertex-attrib-double"></a><p class="title"><strong>Table 20.3. Input attribute locations and components accessed by 64-bit input variables</strong></p><div class="table-contents"><table summary="Input attribute locations and components accessed by 64-bit input variables" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="middle"> Input format </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"> Locations consumed
        </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="middle"> 64-bit data type   </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><span class="strong"><strong><code class="code">Location</code></strong></span> decoration </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><span class="strong"><strong><code class="code">Component</code></strong></span> decoration </th><th style="border-bottom: 1px solid #527bbd; " align="center" valign="top"> 32-bit components consumed</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>R64</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>0 or unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, -, -)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="left" valign="middle"><p>R64G64</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="center" valign="middle"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>0 or unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, o, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>2</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(o, o, z, w)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>two-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>0 or unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, z, w)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="5" align="left" valign="middle"><p>R64G64B64</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="5" align="center" valign="middle"><p>i, i+1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>0 or unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, o, o), (o, o, -, -)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>2</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(o, o, z, w), (o, o, -, -)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i+1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>0 or unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(o, o, o, o), (x, y, -, -)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>two-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>0 or unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, z, w), (o, o, -, -)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>three-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, z, w), (x, y, -, -)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " rowspan="8" align="left" valign="middle"><p>R64G64B64A64</p></td><td style="border-right: 1px solid #527bbd; " rowspan="8" align="center" valign="middle"><p>i, i+1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>0 or unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, o, o), (o, o, o, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>2</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(o, o, z, w), (o, o, o, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i+1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>0 or unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(o, o, o, o), (x, y, o, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>scalar</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i+1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>2</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(o, o, o, o), (o, o, z, w)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>two-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>0 or unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, z, w), (o, o, o, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>two-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i+1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>0 or unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(o, o, o, o), (x, y, z, w)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>three-component vector</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>unspecified</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(x, y, z, w), (x, y, o, o)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>four-component vector</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>i</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>unspecified</p></td><td style="" align="left" valign="top"><p>(x, y, z, w), (x, y, z, w)</p></td></tr></tbody></table></div></div><br class="table-break" /><p>Components indicated by ‘o’ are available for use by other input variables
which are sourced from the same attribute.
Components indicated by ‘-’ are not available for input variables as there
are no default values provided for 64-bit data types, and there is no data
provided by the input format.</p><p>When a vertex shader input variable declared using a 64-bit floating-point
matrix type is assigned a location <span class="emphasis"><em>i</em></span>, its values are taken from
consecutive input attribute locations.
Such matrices are treated as an array of column vectors with values taken
from the input attributes as shown in <a class="xref" href="#fxvertex-attrib-double" title="Table 20.3. Input attribute locations and components accessed by 64-bit input variables">Table 20.3, “Input attribute locations and components accessed by 64-bit input variables”</a>.
Each column vector starts at the location immediately following the last
location of the previous column vector.
The number of attributes and components assigned to each matrix is
determined by the matrix dimensions and ranges from two to eight locations.</p><p>When a vertex shader input variable declared using an array type is assigned
a location, its values are taken from consecutive input attributes starting
with the corresponding
<code class="code">VkVertexInputAttributeDescription</code>::<em class="parameter"><code>location</code></em>.
The number of attributes and components assigned to each element are
determined according to the data type of the array elements and
<span class="strong"><strong><code class="code">Component</code></strong></span> decoration (if any) specified in the declaration of the
array, as described above.
Each element of the array, in order, is assigned to consecutive locations,
but all at the same specified component within each location.</p><p>Only input variables declared with the data types and component decorations
as specified above are supported.
<span class="emphasis"><em>Location aliasing</em></span> is causing two variables to have the same location
number.
<span class="emphasis"><em>Component aliasing</em></span> is assigning the same (or overlapping) component number
for two location aliases.
Location aliasing is allowed only if it does not cause component aliasing.
Further, when location aliasing, the aliases sharing the location <span class="normative">must</span> all
have the same SPIR-V floating-point component type or all have the same
width integer-type components.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fxvertex-input"></a>20.2. Vertex Input Description</h2></div></div></div><p>Applications specify vertex input attribute and vertex input binding
descriptions as part of graphics pipeline creation.
The <code class="code"><a class="link" href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a></code>::<em class="parameter"><code>pVertexInputState</code></em> points to a
structure of type <code class="code">VkPipelineVertexInputStateCreateInfo</code>.</p><p>The <code class="code">VkPipelineVertexInputStateCreateInfo</code> structure is defined as:</p><p><a id="VkPipelineVertexInputStateCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPipelineVertexInputStateCreateInfo {
    VkStructureType                             sType;
    const void*                                 pNext;
    VkPipelineVertexInputStateCreateFlags       flags;
    uint32_t                                    vertexBindingDescriptionCount;
    const VkVertexInputBindingDescription*      pVertexBindingDescriptions;
    uint32_t                                    vertexAttributeDescriptionCount;
    const VkVertexInputAttributeDescription*    pVertexAttributeDescriptions;
} VkPipelineVertexInputStateCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>vertexBindingDescriptionCount</code></em> is the number of vertex binding
    descriptions provided in <em class="parameter"><code>pVertexBindingDescriptions</code></em>.
</li><li class="listitem">
<em class="parameter"><code>pVertexBindingDescriptions</code></em> is a pointer to an array of
    <code class="code">VkVertexInputBindingDescription</code> structures.
</li><li class="listitem">
<em class="parameter"><code>vertexAttributeDescriptionCount</code></em> is the number of vertex attribute
    descriptions provided in <em class="parameter"><code>pVertexAttributeDescriptions</code></em>.
</li><li class="listitem">
<em class="parameter"><code>pVertexAttributeDescriptions</code></em> is a pointer to an array of
    <code class="code">VkVertexInputAttributeDescription</code> structures.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>vertexBindingDescriptionCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pVertexBindingDescriptions</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>vertexBindingDescriptionCount</code></em> valid <code class="code">VkVertexInputBindingDescription</code> structures
</li><li class="listitem">
If <em class="parameter"><code>vertexAttributeDescriptionCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pVertexAttributeDescriptions</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>vertexAttributeDescriptionCount</code></em> valid <code class="code">VkVertexInputAttributeDescription</code> structures
</li><li class="listitem">
<em class="parameter"><code>vertexBindingDescriptionCount</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxVertexInputBindings</code></em>
</li><li class="listitem">
<em class="parameter"><code>vertexAttributeDescriptionCount</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxVertexInputAttributes</code></em>
</li><li class="listitem">
For every <em class="parameter"><code>binding</code></em> specified by any given element of <em class="parameter"><code>pVertexAttributeDescriptions</code></em>, a <code class="code">VkVertexInputBindingDescription</code> <span class="normative">must</span> exist in <em class="parameter"><code>pVertexBindingDescriptions</code></em> with the same value of <em class="parameter"><code>binding</code></em>
</li><li class="listitem">
All elements of <em class="parameter"><code>pVertexBindingDescriptions</code></em> <span class="normative">must</span> describe distinct binding numbers
</li><li class="listitem">
All elements of <em class="parameter"><code>pVertexAttributeDescriptions</code></em> <span class="normative">must</span> describe distinct attribute locations
</li></ul></div></div><p>Each vertex input binding is specified by an instance of the
<code class="code">VkVertexInputBindingDescription</code> structure.</p><p>The <code class="code">VkVertexInputBindingDescription</code> structure is defined as:</p><p><a id="VkVertexInputBindingDescription"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkVertexInputBindingDescription {
    uint32_t             binding;
    uint32_t             stride;
    VkVertexInputRate    inputRate;
} VkVertexInputBindingDescription;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>binding</code></em> is the binding number that this structure describes.
</li><li class="listitem">
<em class="parameter"><code>stride</code></em> is the distance in bytes between two consecutive elements
    within the buffer.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>inputRate</code></em> specifies whether vertex attribute addressing is a
    function of the vertex index or of the instance index.
    Possible values include:
</p><p><a id="VkVertexInputRate"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkVertexInputRate {
    VK_VERTEX_INPUT_RATE_VERTEX = 0,
    VK_VERTEX_INPUT_RATE_INSTANCE = 1,
} VkVertexInputRate;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_VERTEX_INPUT_RATE_VERTEX</code> indicates that vertex attribute
     addressing is a function of the vertex index.
</li><li class="listitem">
<code class="code">VK_VERTEX_INPUT_RATE_INSTANCE</code> indicates that vertex attribute
     addressing is a function of the instance index.
</li></ul></div></li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>inputRate</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkVertexInputRate">VkVertexInputRate</a></code> value
</li><li class="listitem">
<em class="parameter"><code>binding</code></em> <span class="normative">must</span> be less than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxVertexInputBindings</code></em>
</li><li class="listitem">
<em class="parameter"><code>stride</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxVertexInputBindingStride</code></em>
</li></ul></div></div><p>Each vertex input attribute is specified by an instance of the
<code class="code">VkVertexInputAttributeDescription</code> structure.</p><p>The <code class="code">VkVertexInputAttributeDescription</code> structure is defined as:</p><p><a id="VkVertexInputAttributeDescription"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkVertexInputAttributeDescription {
    uint32_t    location;
    uint32_t    binding;
    VkFormat    format;
    uint32_t    offset;
} VkVertexInputAttributeDescription;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>location</code></em> is the shader binding location number for this attribute.
</li><li class="listitem">
<em class="parameter"><code>binding</code></em> is the binding number which this attribute takes its data
    from.
</li><li class="listitem">
<em class="parameter"><code>format</code></em> is the size and type of the vertex attribute data.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> is a byte offset of this attribute relative to the start of
    an element in the vertex input binding.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>format</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> value
</li><li class="listitem">
<em class="parameter"><code>location</code></em> <span class="normative">must</span> be less than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxVertexInputAttributes</code></em>
</li><li class="listitem">
<em class="parameter"><code>binding</code></em> <span class="normative">must</span> be less than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxVertexInputBindings</code></em>
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxVertexInputAttributeOffset</code></em>
</li><li class="listitem">
<em class="parameter"><code>format</code></em> <span class="normative">must</span> be allowed as a vertex buffer format, as specified by the <code class="code">VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>bufferFeatures</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li></ul></div></div><p>To bind vertex buffers to a command buffer for use in subsequent draw
commands, call:</p><p><a id="vkCmdBindVertexBuffers"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdBindVertexBuffers(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstBinding,
    uint32_t                                    bindingCount,
    const VkBuffer*                             pBuffers,
    const VkDeviceSize*                         pOffsets);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command is
    recorded.
</li><li class="listitem">
<em class="parameter"><code>firstBinding</code></em> is the index of the first vertex input binding whose
    state is updated by the command.
</li><li class="listitem">
<em class="parameter"><code>bindingCount</code></em> is the number of vertex input bindings whose state is
    updated by the command.
</li><li class="listitem">
<em class="parameter"><code>pBuffers</code></em> is a pointer to an array of buffer handles.
</li><li class="listitem">
<em class="parameter"><code>pOffsets</code></em> is a pointer to an array of buffer offsets.
</li></ul></div><p>The values taken from elements <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> of <em class="parameter"><code>pBuffers</code></em> and
<em class="parameter"><code>pOffsets</code></em> replace the current state for the vertex input binding
<span class="inlinemediaobject"><span class="phrase">
$\mathit{firstBinding}+i$
</span></span>, for <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> in
<span class="inlinemediaobject"><span class="phrase">
$[0, bindingCount)$
</span></span>.
The vertex input binding is updated to start at the offset indicated by
<em class="parameter"><code>pOffsets</code></em>[i] from the start of the buffer <em class="parameter"><code>pBuffers</code></em>[i].
All vertex input attributes that use each of these bindings will use these
updated addresses in their address calculations for subsequent draw
commands.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pBuffers</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>bindingCount</code></em> valid <code class="code">VkBuffer</code> handles
</li><li class="listitem">
<em class="parameter"><code>pOffsets</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>bindingCount</code></em> <code class="code">VkDeviceSize</code> values
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
<em class="parameter"><code>bindingCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Both of <em class="parameter"><code>commandBuffer</code></em>, and the elements of <em class="parameter"><code>pBuffers</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>firstBinding</code></em> <span class="normative">must</span> be less than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxVertexInputBindings</code></em>
</li><li class="listitem">
The sum of <em class="parameter"><code>firstBinding</code></em> and <em class="parameter"><code>bindingCount</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxVertexInputBindings</code></em>
</li><li class="listitem">
All elements of <em class="parameter"><code>pOffsets</code></em> <span class="normative">must</span> be less than the size of the corresponding element in <em class="parameter"><code>pBuffers</code></em>
</li><li class="listitem">
All elements of <em class="parameter"><code>pBuffers</code></em> <span class="normative">must</span> have been created with the <code class="code">VK_BUFFER_USAGE_VERTEX_BUFFER_BIT</code> flag
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>The address of each attribute for each <span class="strong"><strong><code class="code">vertexIndex</code></strong></span> and
<span class="strong"><strong><code class="code">instanceIndex</code></strong></span> is calculated as follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Let attribDesc be the member of
    <code class="code">VkPipelineVertexInputStateCreateInfo</code>::<em class="parameter"><code>pVertexAttributeDescriptions</code></em>
    with <code class="code">VkVertexInputAttributeDescription</code>::<em class="parameter"><code>location</code></em> equal to
    the vertex input attribute number.
</li><li class="listitem">
Let bindingDesc be the member of
    <code class="code">VkPipelineVertexInputStateCreateInfo</code>::<em class="parameter"><code>pVertexBindingDescriptions</code></em>
    with <code class="code">VkVertexInputAttributeDescription</code>::<em class="parameter"><code>binding</code></em> equal to
    attribDesc.binding.
</li><li class="listitem">
Let <span class="strong"><strong><code class="code">vertexIndex</code></strong></span> be the index of the vertex within the draw (a value
    between <em class="parameter"><code>firstVertex</code></em> and <em class="parameter"><code>firstVertex</code></em>+<em class="parameter"><code>vertexCount</code></em> for
    <span class="strong"><strong><code class="code">vkCmdDraw</code></strong></span>, or a value taken from the index buffer for
    <span class="strong"><strong><code class="code">vkCmdDrawIndexed</code></strong></span>), and let <span class="strong"><strong><code class="code">instanceIndex</code></strong></span> be the instance
    number of the draw (a value between <em class="parameter"><code>firstInstance</code></em> and
    <em class="parameter"><code>firstInstance</code></em>+<em class="parameter"><code>instanceCount</code></em>).
</li></ul></div><pre class="programlisting">bufferBindingAddress = buffer[binding].baseAddress + offset[binding];

if (bindingDesc.inputRate == VK_VERTEX_INPUT_RATE_VERTEX)
    vertexOffset = vertexIndex * bindingDesc.stride;
else
    vertexOffset = instanceIndex * bindingDesc.stride;

attribAddress = bufferBindingAddress + vertexOffset + attribDesc.offset;</pre><p><a id="fxvertex-input-extraction"></a>For each attribute, raw data is extracted starting at <code class="literal">attribAddress</code> and is
converted from the <code class="code">VkVertexInputAttributeDescription</code>’s <em class="parameter"><code>format</code></em> to
either to floating-point, unsigned integer, or signed integer based on the
base type of the format; the base type of the format <span class="normative">must</span> match the base
type of the input variable in the shader.
If <em class="parameter"><code>format</code></em> is a packed format, <code class="literal">attribAddress</code> <span class="normative">must</span> be a multiple of
the size in bytes of the whole attribute data type as described in
<a class="link" href="#features-formats-packed" title="Packed Formats">Packed Formats</a>.
Otherwise, <code class="literal">attribAddress</code> <span class="normative">must</span> be a multiple of the size in bytes of the
component type indicated by <em class="parameter"><code>format</code></em> (see <a class="link" href="#features-formats" title="31.3. Formats">Formats</a>).
If the format does not include G, B, or A components, then those are filled
with (0,0,1) as needed (using either 1.0f or integer 1 based on the format)
for attributes that are not 64-bit data types.
The number of components in the vertex shader input variable need not
exactly match the number of components in the format.
If the vertex shader has fewer components, the extra components are
discarded.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fxvertex-example"></a>20.3. Example</h2></div></div></div><p>To create a graphics pipeline that uses the following vertex description:</p><pre class="programlisting">struct Vertex
{
    float   x, y, z, w;
    uint8_t u, v;
};</pre><p>The application could use the following set of structures:</p><pre class="programlisting">const VkVertexInputBindingDescription binding =
{
    0,                                          // binding
    sizeof(Vertex),                             // stride
    VK_VERTEX_INPUT_RATE_VERTEX                 // inputRate
};

const VkVertexInputAttributeDescription attributes[] =
{
    {
        0,                                      // location
        binding.binding,                        // binding
        VK_FORMAT_R32G32B32A32_SFLOAT,          // format
        0                                       // offset
    },
    {
        1,                                      // location
        binding.binding,                        // binding
        VK_FORMAT_R8G8_UNORM,                   // format
        4 * sizeof(float)                       // offset
    }
};

const VkPipelineVertexInputStateCreateInfo viInfo =
{
    VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_CREATE_INFO,    // sType
    NULL,                         // pNext
    0,                            // flags
    1,                            // vertexBindingDescriptionCount
    &amp;binding,                     // pVertexBindingDescriptions
    2,                            // vertexAttributeDescriptionCount
    &amp;attributes[0]                // pVertexAttributeDescriptions
};</pre></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="tessellation"></a>Chapter 21. Tessellation</h1></div></div></div><p>Tessellation involves three pipeline stages.
First, a <a class="link" href="#shaders-tessellation-control" title="8.6. Tessellation Control Shaders">tessellation control shader</a>
transforms control points of a patch and <span class="normative">can</span> produce per-patch data.
Second, a fixed-function tessellator generates multiple primitives
corresponding to a tessellation of the patch in (u,v) or (u,v,w) parameter
space.
Third, a <a class="link" href="#shaders-tessellation-evaluation" title="8.7. Tessellation Evaluation Shaders">tessellation evaluation shader</a>
transforms the vertices of the tessellated patch, for example to compute
their positions and attributes as part of the tessellated surface.
The tessellator is enabled when the pipeline contains both a tessellation
control shader and a tessellation evaluation shader.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_tessellator"></a>21.1. Tessellator</h2></div></div></div><p>If a pipeline includes both tessellation shaders (control and evaluation),
the tessellator consumes each input patch (after vertex shading) and
produces a new set of independent primitives (points, lines, or triangles).
These primitives are logically produced by subdividing a geometric primitive
(rectangle or triangle) according to the per-patch outer and inner
tessellation levels written by the tessellation control shader.
These levels are specified using the <a class="link" href="#interfaces-builtin-variables" title="14.6. Built-In Variables">built-in variables</a> <span class="strong"><strong><code class="code">TessLevelOuter</code></strong></span> and <span class="strong"><strong><code class="code">TessLevelInner</code></strong></span>, respectively.
This subdivision is performed in an implementation-dependent manner.
If no tessellation shaders are present in the pipeline, the tessellator is
disabled and incoming primitives are passed through without modification.</p><p>The type of subdivision performed by the tessellator is specified by an
<span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction in the tessellation evaluation or
tessellation control shader using one of execution modes <span class="strong"><strong><code class="code">Triangles</code></strong></span>,
<span class="strong"><strong><code class="code">Quads</code></strong></span>, and <span class="strong"><strong><code class="code">IsoLines</code></strong></span>.
Other tessellation-related execution modes <span class="normative">can</span> also be specified in either
the tessellation control or tessellation evaluation shaders, and if they are
specified in both then the modes <span class="normative">must</span> be the same.</p><p>Tessellation execution modes include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="strong"><strong><code class="code">Triangles</code></strong></span>, <span class="strong"><strong><code class="code">Quads</code></strong></span>, and <span class="strong"><strong><code class="code">IsoLines</code></strong></span>.
    These control the type of subdivision and topology of the output
    primitives.
    One mode <span class="normative">must</span> be set in at least one of the tessellation shader stages.
</li><li class="listitem">
<span class="strong"><strong><code class="code">VertexOrderCw</code></strong></span> and <span class="strong"><strong><code class="code">VertexOrderCcw</code></strong></span>.
    These control the orientation of triangles generated by the tessellator.
    One mode <span class="normative">must</span> be set in at least one of the tessellation shader stages.
</li><li class="listitem">
<span class="strong"><strong><code class="code">PointMode</code></strong></span>.
    Controls generation of points rather than triangles or lines.
    This functionality defaults to disabled, and is enabled if either shader
    stage includes the execution mode.
</li><li class="listitem">
<span class="strong"><strong><code class="code">SpacingEqual</code></strong></span>, <span class="strong"><strong><code class="code">SpacingFractionalEven</code></strong></span>, and
    <span class="strong"><strong><code class="code">SpacingFractionalOdd</code></strong></span>.
    Controls the spacing of segments on the edges of tessellated primitives.
    One mode <span class="normative">must</span> be set in at least one of the tessellation shader stages.
</li><li class="listitem">
<span class="strong"><strong><code class="code">OutputVertices</code></strong></span>.
    Controls the size of the output patch of the tessellation control
    shader.
    One value <span class="normative">must</span> be set in at least one of the tessellation shader
    stages.
</li></ul></div><p>For triangles, the tessellator subdivides a triangle primitive into smaller
triangles.
For quads, the tessellator subdivides a rectangle primitive into smaller
triangles.
For isolines, the tessellator subdivides a rectangle primitive into a
collection of line segments arranged in strips stretching across the
rectangle in the <span class="inlinemediaobject"><span class="phrase">
$u$
</span></span> dimension (i.e.
the coordinates in <span class="strong"><strong><code class="code">TessCoord</code></strong></span> are of the form (0,x) through (1,x) for
all tessellation evaluation shader invocations that share a line).</p><p>Each vertex produced by the tessellator has an associated (u,v,w) or (u,v)
position in a normalized parameter space, with parameter values in the range
<span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span>, as illustrated in figure
<a class="xref" href="#img-tessellation-topology" title="Figure 21.1. Domain parameterization for tessellation primitive modes">Figure 21.1, “Domain parameterization for tessellation primitive modes”</a>.</p><div class="figure"><a id="img-tessellation-topology"></a><p class="title"><strong>Figure 21.1. Domain parameterization for tessellation primitive modes</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/tessparam.svg" align="middle" width="800" alt="images/tessparam.svg" /></div></div></div><br class="figure-break" /><p>For triangles, the vertex’s position is a barycentric coordinate (u,v,w),
where u + v + w = 1.0, and indicates the relative influence of the three
vertices of the triangle on the position of the vertex.
For quads and isolines, the position is a (u,v) coordinate indicating the
relative horizontal and vertical position of the vertex relative to the
subdivided rectangle.
The subdivision process is explained in more detail in subsequent sections.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_tessellator_patch_discard"></a>21.2. Tessellator Patch Discard</h2></div></div></div><p>A patch is discarded by the tessellator if any relevant outer tessellation
level is less than or equal to zero.</p><p>Patches will also be discarded if any relevant outer tessellation level
corresponds to a floating-point NaN (not a number) in implementations
supporting NaN.</p><p>No new primitives are generated and the tessellation evaluation shader is
not executed for patches that are discarded.
For <span class="strong"><strong><code class="code">Quads</code></strong></span>, all four outer levels are relevant.
For <span class="strong"><strong><code class="code">Triangles</code></strong></span> and <span class="strong"><strong><code class="code">IsoLines</code></strong></span>, only the first three or two outer
levels, respectively, are relevant.
Negative inner levels will not cause a patch to be discarded; they will be
clamped as described below.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="tessellation-tessellator-spacing"></a>21.3. Tessellator Spacing</h2></div></div></div><p>Each of the tessellation levels is used to determine the number and spacing
of segments used to subdivide a corresponding edge.
The method used to derive the number and spacing of segments is specified by
an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> in the tessellation control or tessellation
evaluation shader using one of the identifiers <span class="strong"><strong><code class="code">SpacingEqual</code></strong></span>,
<span class="strong"><strong><code class="code">SpacingFractionalEven</code></strong></span>, or <span class="strong"><strong><code class="code">SpacingFractionalOdd</code></strong></span>.</p><p>If <span class="strong"><strong><code class="code">SpacingEqual</code></strong></span> is used, the floating-point tessellation level is first
clamped to <span class="inlinemediaobject"><span class="phrase">
$[1,\mathit{maxLevel}]$
</span></span>, where
<span class="inlinemediaobject"><span class="phrase">
$\mathit{maxLevel}$
</span></span> is the implementation-dependent maximum
tessellation level
(<code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxTessellationGenerationLevel</code></em>).
The result is rounded up to the nearest integer <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span>, and the
corresponding edge is divided into <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> segments of equal length
in (u,v) space.</p><p>If <span class="strong"><strong><code class="code">SpacingFractionalEven</code></strong></span> is used, the tessellation level is first
clamped to <span class="inlinemediaobject"><span class="phrase">
$[2,\mathit{maxLevel}]$
</span></span> and then rounded up to the
nearest even integer <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span>.
If <span class="strong"><strong><code class="code">SpacingFractionalOdd</code></strong></span> is used, the tessellation level is clamped to
<span class="inlinemediaobject"><span class="phrase">
$[1,\mathit{maxLevel}-1]$
</span></span> and then rounded up to the nearest
odd integer <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span>.
If <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> is one, the edge will not be subdivided.
Otherwise, the corresponding edge will be divided into <span class="inlinemediaobject"><span class="phrase">
$n-2$
</span></span>
segments of equal length, and two additional segments of equal length that
are typically shorter than the other segments.
The length of the two additional segments relative to the others will
decrease monotonically with <span class="inlinemediaobject"><span class="phrase">
$n-f$
</span></span>, where <span class="inlinemediaobject"><span class="phrase">
$f$
</span></span> is the
clamped floating-point tessellation level.
When <span class="inlinemediaobject"><span class="phrase">
$n-f$
</span></span> is zero, the additional segments will have equal
length to the other segments.
As <span class="inlinemediaobject"><span class="phrase">
$n-f$
</span></span> approaches 2.0, the relative length of the additional
segments approaches zero.
The two additional segments <span class="normative">must</span> be placed symmetrically on opposite sides
of the subdivided edge.
The relative location of these two segments is implementation-dependent, but
<span class="normative">must</span> be identical for any pair of subdivided edges with identical values of
<span class="inlinemediaobject"><span class="phrase">
$f$
</span></span>.</p><p>When the tessellator produces triangles (in the <span class="strong"><strong><code class="code">Triangles</code></strong></span> or <span class="strong"><strong><code class="code">Quads</code></strong></span>
modes), the orientation of all triangles is specified with an
<span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> of <span class="strong"><strong><code class="code">VertexOrderCw</code></strong></span> or <span class="strong"><strong><code class="code">VertexOrderCcw</code></strong></span> in the
tessellation control or tessellation evaluation shaders.
If the order is <span class="strong"><strong><code class="code">VertexOrderCw</code></strong></span>, the vertices of all generated triangles
will have clockwise ordering in (u,v) or (u,v,w) space.
If the order is <span class="strong"><strong><code class="code">VertexOrderCcw</code></strong></span>, the vertices will have
counter-clockwise ordering.</p><p>The vertices of a triangle have counter-clockwise ordering if</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\[
  a = u_0 v_1 - u_1 v_0 + u_1 v_2 - u_2 v_1 + u_2 v_0 - u_0 v_2
\]</span></div></div><p>is positive, and clockwise ordering if <span class="inlinemediaobject"><span class="phrase">
$a$
</span></span> is negative.
<span class="inlinemediaobject"><span class="phrase">
$u_i$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$v_i$
</span></span> are the <span class="inlinemediaobject"><span class="phrase">
$u$
</span></span> and
<span class="inlinemediaobject"><span class="phrase">
$v$
</span></span> coordinates in normalized parameter space of the
<span class="inlinemediaobject"><span class="phrase">
$i$
</span></span>th vertex of the triangle.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The value <span class="inlinemediaobject"><span class="phrase">
$a$
</span></span> is proportional (with a positive factor) to the
signed area of the triangle.</p><p>In <span class="strong"><strong><code class="code">Triangles</code></strong></span> mode, even though the vertex coordinates have a
<span class="inlinemediaobject"><span class="phrase">
$w$
</span></span> value, it does not participate directly in the computation
of <span class="inlinemediaobject"><span class="phrase">
$a$
</span></span>, being an affine combination of <span class="inlinemediaobject"><span class="phrase">
$u$
</span></span> and
<span class="inlinemediaobject"><span class="phrase">
$v$
</span></span>.</p></td></tr></table></div><p>For all primitive modes, the tessellator is capable of generating points
instead of lines or triangles.
If the tessellation control or tessellation evaluation shader specifies the
<span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> <span class="strong"><strong><code class="code">PointMode</code></strong></span>, the primitive generator will generate
one point for each distinct vertex produced by tessellation.
Otherwise, the tessellator will produce a collection of line segments or
triangles according to the primitive mode.
When tessellating triangles or quads in point mode with fractional odd
spacing, the tessellator <span class="normative">may</span> produce <span class="emphasis"><em>interior vertices</em></span> that are
positioned on the edge of the patch if an inner tessellation level is less
than or equal to one.
Such vertices are considered distinct from vertices produced by subdividing
the outer edge of the patch, even if there are pairs of vertices with
identical coordinates.</p><p>The points, lines, or triangles produced by the tessellator are passed to
subsequent pipeline stages in an implementation-dependent order.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="tessellation-triangle-tessellation"></a>21.4. Triangle Tessellation</h2></div></div></div><p>If the tessellation primitive mode is <span class="strong"><strong><code class="code">Triangles</code></strong></span>, an equilateral
triangle is subdivided into a collection of triangles covering the area of
the original triangle.
First, the original triangle is subdivided into a collection of concentric
equilateral triangles.
The edges of each of these triangles are subdivided, and the area between
each triangle pair is filled by triangles produced by joining the vertices
on the subdivided edges.
The number of concentric triangles and the number of subdivisions along each
triangle except the outermost is derived from the first inner tessellation
level.
The edges of the outermost triangle are subdivided independently, using the
first, second, and third outer tessellation levels to control the number of
subdivisions of the <span class="inlinemediaobject"><span class="phrase">
$u=0$
</span></span> (left), <span class="inlinemediaobject"><span class="phrase">
$v=0$
</span></span> (bottom),
and <span class="inlinemediaobject"><span class="phrase">
$w=0$
</span></span> (right) edges, respectively.
The second inner tessellation level and the fourth outer tessellation level
have no effect in this mode.</p><p>If the first inner tessellation level and all three outer tessellation
levels are exactly one after clamping and rounding, only a single triangle
with (u,v,w) coordinates of (0,0,1), (1,0,0), and (0,1,0) is generated.
If the inner tessellation level is one and any of the outer tessellation
levels is greater than one, the inner tessellation level is treated as
though it were originally specified as <span class="inlinemediaobject"><span class="phrase">
$1+\epsilon$
</span></span> and will
result in a two- or three-segment subdivision depending on the tessellation
spacing.
When used with fractional odd spacing, the three-segment subdivision <span class="normative">may</span>
produce <span class="emphasis"><em>inner vertices</em></span> positioned on the edge of the triangle.</p><p>If any tessellation level is greater than one, tessellation begins by
producing a set of concentric inner triangles and subdividing their edges.
First, the three outer edges are temporarily subdivided using the clamped
and rounded first inner tessellation level and the specified tessellation
spacing, generating <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> segments.
For the outermost inner triangle, the inner triangle is degenerate — a
single point at the center of the triangle — if <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> is two.
Otherwise, for each corner of the outer triangle, an inner triangle corner
is produced at the intersection of two lines extended perpendicular to the
corner’s two adjacent edges running through the vertex of the subdivided
outer edge nearest that corner.
If <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> is three, the edges of the inner triangle are not
subdivided and is the final triangle in the set of concentric triangles.
Otherwise, each edge of the inner triangle is divided into <span class="inlinemediaobject"><span class="phrase">
$n-2$
</span></span>
segments, with the <span class="inlinemediaobject"><span class="phrase">
$n-1$
</span></span> vertices of this subdivision produced
by intersecting the inner edge with lines perpendicular to the edge running
through the <span class="inlinemediaobject"><span class="phrase">
$n-1$
</span></span> innermost vertices of the subdivision of the
outer edge.
Once the outermost inner triangle is subdivided, the previous subdivision
process repeats itself, using the generated triangle as an outer triangle.
This subdivision process is illustrated in <a class="link" href="#img-innertri" title="Figure 21.2. Inner Triangle Tessellation">Inner Triangle Tessellation</a>.</p><div class="figure"><a id="img-innertri"></a><p class="title"><strong>Figure 21.2. Inner Triangle Tessellation</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/innertri.svg" align="middle" width="800" alt="images/innertri.svg" /></div></div></div><br class="figure-break" /><p>Once all the concentric triangles are produced and their edges are
subdivided, the area between each pair of adjacent inner triangles is filled
completely with a set of non-overlapping triangles.
In this subdivision, two of the three vertices of each triangle are taken
from adjacent vertices on a subdivided edge of one triangle; the third is
one of the vertices on the corresponding edge of the other triangle.
If the innermost triangle is degenerate (i.e., a point), the triangle
containing it is subdivided into six triangles by connecting each of the six
vertices on that triangle with the center point.
If the innermost triangle is not degenerate, that triangle is added to the
set of generated triangles as-is.</p><p>After the area corresponding to any inner triangles is filled, the
tessellator generates triangles to cover the area between the outermost
triangle and the outermost inner triangle.
To do this, the temporary subdivision of the outer triangle edge above is
discarded.
Instead, the <span class="inlinemediaobject"><span class="phrase">
$u=0$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$v=0$
</span></span>, and <span class="inlinemediaobject"><span class="phrase">
$w=0$
</span></span>
edges are subdivided according to the first, second, and third outer
tessellation levels, respectively, and the tessellation spacing.
The original subdivision of the first inner triangle is retained.
The area between the outer and first inner triangles is completely filled by
non-overlapping triangles as described above.
If the first (and only) inner triangle is degenerate, a set of triangles is
produced by connecting each vertex on the outer triangle edges with the
center point.</p><p>After all triangles are generated, each vertex in the subdivided triangle is
assigned a barycentric (u,v,w) coordinate based on its location relative to
the three vertices of the outer triangle.</p><p>The algorithm used to subdivide the triangular domain in (u,v,w) space into
individual triangles is implementation-dependent.
However, the set of triangles produced will completely cover the domain, and
no portion of the domain will be covered by multiple triangles.
The order in which the generated triangles passed to subsequent pipeline
stages and the order of the vertices in those triangles are both
implementation-dependent.
However, when depicted in a manner similar to <a class="link" href="#img-innertri" title="Figure 21.2. Inner Triangle Tessellation">Inner Triangle Tessellation</a>, the order of the vertices in the generated triangles will be
either all clockwise or all counter-clockwise, according to the vertex order
layout declaration.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="tessellation-quad-tessellation"></a>21.5. Quad Tessellation</h2></div></div></div><p>If the tessellation primitive mode is <span class="strong"><strong><code class="code">Quads</code></strong></span>, a rectangle is subdivided
into a collection of triangles covering the area of the original rectangle.
First, the original rectangle is subdivided into a regular mesh of
rectangles, where the number of rectangles along the <span class="inlinemediaobject"><span class="phrase">
$u=0$
</span></span> and
<span class="inlinemediaobject"><span class="phrase">
$u=1$
</span></span> (vertical) and <span class="inlinemediaobject"><span class="phrase">
$v=0$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$v=1$
</span></span>
(horizontal) edges are derived from the first and second inner tessellation
levels, respectively.
All rectangles, except those adjacent to one of the outer rectangle edges,
are decomposed into triangle pairs.
The outermost rectangle edges are subdivided independently, using the first,
second, third, and fourth outer tessellation levels to control the number of
subdivisions of the <span class="inlinemediaobject"><span class="phrase">
$u=0$
</span></span> (left), <span class="inlinemediaobject"><span class="phrase">
$v=0$
</span></span> (bottom),
<span class="inlinemediaobject"><span class="phrase">
$u=1$
</span></span> (right), and <span class="inlinemediaobject"><span class="phrase">
$v=1$
</span></span> (top) edges, respectively.
The area between the inner rectangles of the mesh and the outer rectangle
edges are filled by triangles produced by joining the vertices on the
subdivided outer edges to the vertices on the edge of the inner rectangle
mesh.</p><p>If both clamped inner tessellation levels and all four clamped outer
tessellation levels are exactly one, only a single triangle pair covering
the outer rectangle is generated.
Otherwise, if either clamped inner tessellation level is one, that
tessellation level is treated as though it were originally specified as
<span class="inlinemediaobject"><span class="phrase">
$1+\epsilon$
</span></span> and will result in a two- or three-segment
subdivision depending on the tessellation spacing.
When used with fractional odd spacing, the three-segment subdivision <span class="normative">may</span>
produce <span class="emphasis"><em>inner vertices</em></span> positioned on the edge of the rectangle.</p><p>If any tessellation level is greater than one, tessellation begins by
subdividing the <span class="inlinemediaobject"><span class="phrase">
$u=0$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$u=1$
</span></span> edges of the outer
rectangle into <span class="inlinemediaobject"><span class="phrase">
$m$
</span></span> segments using the clamped and rounded first
inner tessellation level and the tessellation spacing.
The <span class="inlinemediaobject"><span class="phrase">
$v=0$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$v=1$
</span></span> edges are subdivided into
<span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> segments using the second inner tessellation level.
Each vertex on the <span class="inlinemediaobject"><span class="phrase">
$u=0$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$v=0$
</span></span> edges are joined
with the corresponding vertex on the <span class="inlinemediaobject"><span class="phrase">
$u=1$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$v=1$
</span></span>
edges to produce a set of vertical and horizontal lines that divide the
rectangle into a grid of smaller rectangles.
The primitive generator emits a pair of non-overlapping triangles covering
each such rectangle not adjacent to an edge of the outer rectangle.
The boundary of the region covered by these triangles forms an inner
rectangle, the edges of which are subdivided by the grid vertices that lie
on the edge.
If either <span class="inlinemediaobject"><span class="phrase">
$m$
</span></span> or <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> is two, the inner rectangle is
degenerate, and one or both of the rectangle’s <span class="emphasis"><em>edges</em></span> consist of a single
point.
This subdivision is illustrated in Figure <a class="link" href="#img-innerquad" title="Figure 21.3. Inner Quad Tessellation">Inner Quad Tessellation</a>.</p><div class="figure"><a id="img-innerquad"></a><p class="title"><strong>Figure 21.3. Inner Quad Tessellation</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/innerquad.svg" align="middle" width="800" alt="images/innerquad.svg" /></div></div></div><br class="figure-break" /><p>After the area corresponding to the inner rectangle is filled, the
tessellator <span class="normative">must</span> produce triangles to cover the area between the inner and
outer rectangles.
To do this, the subdivision of the outer rectangle edge above is discarded.
Instead, the <span class="inlinemediaobject"><span class="phrase">
$u=0$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$v=0$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$u=1$
</span></span>, and
<span class="inlinemediaobject"><span class="phrase">
$v=1$
</span></span> edges are subdivided according to the first, second,
third, and fourth outer tessellation levels, respectively, and the
tessellation spacing.
The original subdivision of the inner rectangle is retained.
The area between the outer and inner rectangles is completely filled by
non-overlapping triangles.
Two of the three vertices of each triangle are adjacent vertices on a
subdivided edge of one rectangle; the third is one of the vertices on the
corresponding edge of the other triangle.
If either edge of the innermost rectangle is degenerate, the area near the
corresponding outer edges is filled by connecting each vertex on the outer
edge with the single vertex making up the <span class="emphasis"><em>inner edge</em></span>.</p><p>The algorithm used to subdivide the rectangular domain in (u,v) space into
individual triangles is implementation-dependent.
However, the set of triangles produced will completely cover the domain, and
no portion of the domain will be covered by multiple triangles.
The order in which the generated triangles passed to subsequent pipeline
stages and the order of the vertices in those triangles are both
implementation-dependent.
However, when depicted in a manner similar to <a class="link" href="#img-innerquad" title="Figure 21.3. Inner Quad Tessellation">Inner Quad Tessellation</a>, the order of the vertices in the generated triangles will be
either all clockwise or all counter-clockwise, according to the vertex order
layout declaration.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="tessellation-isoline-tessellation"></a>21.6. Isoline Tessellation</h2></div></div></div><p>If the tessellation primitive mode is <span class="strong"><strong><code class="code">IsoLines</code></strong></span>, a set of independent
horizontal line segments is drawn.
The segments are arranged into connected strips called <span class="emphasis"><em>isolines</em></span>, where the
vertices of each isoline have a constant v coordinate and u coordinates
covering the full range [0,1].
The number of isolines generated is derived from the first outer
tessellation level; the number of segments in each isoline is derived from
the second outer tessellation level.
Both inner tessellation levels and the third and fourth outer tessellation
levels have no effect in this mode.</p><p>As with quad tessellation above, isoline tessellation begins with a
rectangle.
The <span class="inlinemediaobject"><span class="phrase">
$u=0$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$u=1$
</span></span> edges of the rectangle are
subdivided according to the first outer tessellation level.
For the purposes of this subdivision, the tessellation spacing mode is
ignored and treated as equal_spacing.
An isoline is drawn connecting each vertex on the <span class="inlinemediaobject"><span class="phrase">
$u=0$
</span></span>
rectangle edge to the corresponding vertex on the <span class="inlinemediaobject"><span class="phrase">
$u=1$
</span></span>
rectangle edge, except that no line is drawn between (0,1) and (1,1).
If the number of isolines on the subdivided <span class="inlinemediaobject"><span class="phrase">
$u=0$
</span></span> and
<span class="inlinemediaobject"><span class="phrase">
$u=1$
</span></span> edges is <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span>, this process will result in
<span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> equally spaced lines with constant v coordinates of 0,
<span class="inlinemediaobject"><span class="phrase">
$\frac{1}{n}, \frac{2}{n}, \ldots, \frac{n-1}{n}$
</span></span>.</p><p>Each of the <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> isolines is then subdivided according to the
second outer tessellation level and the tessellation spacing, resulting in
<span class="inlinemediaobject"><span class="phrase">
$m$
</span></span> line segments.
Each segment of each line is emitted by the tessellator.</p><p>The order in which the generated line segments are passed to subsequent
pipeline stages and the order of the vertices in each generated line segment
are both implementation-dependent.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_tessellation_pipeline_state"></a>21.7. Tessellation Pipeline State</h2></div></div></div><p>The <em class="parameter"><code>pTessellationState</code></em> member of <code class="code"><a class="link" href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a></code>
points to a structure of type <code class="code">VkPipelineTessellationStateCreateInfo</code>.</p><p>The <code class="code">VkPipelineTessellationStateCreateInfo</code> structure is defined as:</p><p><a id="VkPipelineTessellationStateCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPipelineTessellationStateCreateInfo {
    VkStructureType                           sType;
    const void*                               pNext;
    VkPipelineTessellationStateCreateFlags    flags;
    uint32_t                                  patchControlPoints;
} VkPipelineTessellationStateCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>patchControlPoints</code></em> number of control points per patch.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_PIPELINE_TESSELLATION_STATE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>patchControlPoints</code></em> <span class="normative">must</span> be greater than zero and less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxTessellationPatchSize</code></em>
</li></ul></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="geometry"></a>Chapter 22. Geometry Shading</h1></div></div></div><p>The geometry shader operates on a group of vertices and their associated
data assembled from a single input primitive, and emits zero or more output
primitives and the group of vertices and their associated data required for
each output primitive.
Geometry shading is enabled when a geometry shader is included in the
pipeline.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="geometry-input"></a>22.1. Geometry Shader Input Primitives</h2></div></div></div><p>Each geometry shader invocation has access to all vertices in the primitive
(and their associated data), which are presented to the shader as an array
of inputs.
The input primitive type expected by the geometry shader is specified with
an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction in the geometry shader, and <span class="normative">must</span> be
compatible with the primitive topology used by primitive assembly (if
tessellation is not in use) or <span class="normative">must</span> match the type of primitive generated
by the tessellation primitive generator (if tessellation is in use).
Compatibility is defined below, with each input primitive type.
The input primitive types accepted by a geometry shader are:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Points
</span></dt><dd>
Geometry shaders that operate on points use an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span>
instruction specifying the <span class="strong"><strong><code class="code">InputPoints</code></strong></span> input mode.
Such a shader is valid only when the pipeline primitive topology is
<span class="strong"><strong><code class="code">VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code></strong></span> (if tessellation is not in use) or if
tessellation is in use and the tessellation evaluation shader uses
<span class="strong"><strong><code class="code">PointMode</code></strong></span>.
There is only a single input vertex available for each geometry shader
invocation.
However, inputs to the geometry shader are still presented as an array, but
this array has a length of one.
</dd><dt><span class="term">
Lines
</span></dt><dd>
Geometry shaders that operate on line segments are generated by including an
<span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction with the <span class="strong"><strong><code class="code">InputLines</code></strong></span> mode.
Such a shader is valid only for the <span class="strong"><strong><code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code></strong></span>,
and <span class="strong"><strong><code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_STRIP</code></strong></span> primitive topologies (if
tessellation is not in use) or if tessellation is in use and the
tessellation mode is <span class="strong"><strong><code class="code">Isolines</code></strong></span>.
There are two input vertices available for each geometry shader invocation.
The first vertex refers to the vertex at the beginning of the line segment
and the second vertex refers to the vertex at the end of the line segment.
</dd><dt><span class="term">
Lines with Adjacency
</span></dt><dd><p class="simpara">
Geometry shaders that operate on line segments with adjacent vertices are
generated by including an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction with the
<span class="strong"><strong><code class="code">InputLinesAdjacency</code></strong></span> mode.
Such a shader is valid only for the
<span class="strong"><strong><code class="code">VK_PRIMITIVE_TOPOLOGY_LINES_WITH_ADJACENCY</code></strong></span> and
<span class="strong"><strong><code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY</code></strong></span> primitive topologies
and <span class="normative">must</span> not be used when tessellation is in use.
</p><p class="simpara">In this mode, there are four vertices available for each geometry shader
invocation.
The second vertex refers to attributes of the vertex at the beginning of the
line segment and the third vertex refers to the vertex at the end of the
line segment.
The first and fourth vertices refer to the vertices adjacent to the
beginning and end of the line segment, respectively.</p></dd><dt><span class="term">
Triangles
</span></dt><dd><p class="simpara">
Geometry shaders that operate on triangles are created by including an
<span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction with the <span class="strong"><strong><code class="code">Triangles</code></strong></span> mode.
Such a shader is valid when the pipeline topology is
<span class="strong"><strong><code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code></strong></span>,
<span class="strong"><strong><code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code></strong></span>, or
<span class="strong"><strong><code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code></strong></span> (if tessellation is not in use) or
when tessellation is in use and the tessellation mode is <span class="strong"><strong><code class="code">Triangles</code></strong></span> or
<span class="strong"><strong><code class="code">Quads</code></strong></span>.
</p><p class="simpara">In this mode, there are three vertices available for each geometry shader
invocation.
The first, second, and third vertices refer to attributes of the first,
second, and third vertex of the triangle, respectively.</p></dd><dt><span class="term">
Triangles with Adjacency
</span></dt><dd><p class="simpara">
Geometry shaders that operate on triangles with adjacent vertices are
created by including an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction with the
<span class="strong"><strong><code class="code">InputTrianglesAdjacency</code></strong></span> mode.
Such a shader is valid when the pipeline topology is
<span class="strong"><strong><code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLES_WITH_ADJACENCY</code></strong></span> or
<span class="strong"><strong><code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code></strong></span>, and <span class="normative">must</span> not be
used when tessellation is in use.
</p><p class="simpara">In this mode, there are six vertices available for each geometry shader
invocation.
The first, third and fifth vertices refer to attributes of the first, second
and third vertex of the triangle, respectively.
The second, fourth and sixth vertices refer to attributes of the vertices
adjacent to the edges from the first to the second vertex, from the second
to the third vertex, and from the third to the first vertex, respectively.</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="geometry-output"></a>22.2. Geometry Shader Output Primitives</h2></div></div></div><p>A geometry shader generates primitives in one of three output modes: points,
line strips, or triangle strips.
The primitive mode is specified in the shader using an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span>
instruction with the <span class="strong"><strong><code class="code">OutputPoints</code></strong></span>, <span class="strong"><strong><code class="code">OutputLineStrip</code></strong></span> or
<span class="strong"><strong><code class="code">OutputTriangleStrip</code></strong></span> modes, respectively.
Each geometry shader <span class="normative">must</span> include exactly one output primitive mode.</p><p>The vertices output by the geometry shader are assembled into points, lines,
or triangles based on the output primitive type and the resulting primitives
are then further processed as described in <a class="xref" href="#primsrast" title="Chapter 24. Rasterization">Chapter 24, <em>Rasterization</em></a>.
If the number of vertices emitted by the geometry shader is not sufficient
to produce a single primitive, vertices corresponding to incomplete
primitives are not processed by subsequent pipeline stages.
The number of vertices output by the geometry shader is limited to a maximum
count specified in the shader.</p><p>The maximum output vertex count is specified in the shader using an
<span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction with the mode set to <span class="strong"><strong><code class="code">OutputVertices</code></strong></span>
and the maximum number of vertices that will be produced by the geometry
shader specified as a literal.
Each geometry shader <span class="normative">must</span> specify a maximum output vertex count.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="geometry-invocations"></a>22.3. Multiple Invocations of Geometry Shaders</h2></div></div></div><p>Geometry shaders <span class="normative">can</span> be invoked more than one time for each input
primitive.
This is known as <span class="emphasis"><em>geometry shader instancing</em></span> and is requested by including
an <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction with <span class="strong"><strong><code class="code">mode</code></strong></span> specified as
<span class="strong"><strong><code class="code">Invocations</code></strong></span> and the number of invocations specified as an integer
literal.</p><p>In this mode, the geometry shader will execute <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> times for
each input primitive, where <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> is the number of invocations
specified in the <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction.
The instance number is available to each invocation as a built-in input
using <span class="strong"><strong><code class="code">InvocationId</code></strong></span>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="geometry-ordering"></a>22.4. Geometry Shader Primitive Ordering</h2></div></div></div><p>Limited guarantees are provided for the relative ordering of primitives
produced by a geometry shader.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
For instanced geometry shaders, the output primitives generated from
    each input primitive are passed to subsequent pipeline stages using the
    invocation number to order the primitives, from least to greatest.
</li><li class="listitem">
All output primitives generated from a given input primitive are passed
    to subsequent pipeline stages before any output primitives generated
    from subsequent input primitives.
</li></ul></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="vertexpostproc"></a>Chapter 23. Fixed-Function Vertex Post-Processing</h1></div></div></div><p>After programmable vertex processing, the following fixed-function
operations are applied to vertices of the resulting primitives:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Flatshading (see <a class="link" href="#vertexpostproc-flatshading" title="23.1. Flat Shading">Flatshading</a>).
</li><li class="listitem">
Primitive clipping, including client-defined half-spaces (see
    <a class="link" href="#vertexpostproc-clipping" title="23.2. Primitive Clipping">Primitive Clipping</a>).
</li><li class="listitem">
Shader output attribute clipping (see
    <a class="link" href="#vertexpostproc-clipping-shader-outputs" title="23.3. Clipping Shader Outputs">Clipping Shader Outputs</a>).
</li><li class="listitem">
Perspective division on clip coordinates (see
    <a class="link" href="#vertexpostproc-coord-transform" title="23.4. Coordinate Transformations">Coordinate Transformations</a>).
</li><li class="listitem">
Viewport mapping, including depth range scaling (see
    <a class="link" href="#vertexpostproc-viewport" title="23.5. Controlling the Viewport">Controlling the Viewport</a>).
</li><li class="listitem">
Front face determination for polygon primitives (see
    <a class="link" href="#primsrast-polygons-basic" title="24.7.1. Basic Polygon Rasterization">Basic Polygon Rasterization</a>).
</li></ul></div><p>Next, rasterization is performed on primitives as described in chapter
<a class="link" href="#primsrast" title="Chapter 24. Rasterization">Rasterization</a>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="vertexpostproc-flatshading"></a>23.1. Flat Shading</h2></div></div></div><p><span class="emphasis"><em>Flat shading</em></span> a vertex output attribute means to assign all vertices of the
primitive the same value for that output.</p><p>The output values assigned are those of the <span class="emphasis"><em>provoking vertex</em></span> of the
primitive.
The provoking vertex depends on the primitive topology, and is generally the
“first” vertex of the primitive.
For primitives not processed by tessellation or geometry shaders, the
provoking vertex is selected from the input vertices according to the
following table.</p><p></p><div class="table"><a id="id-1.25.5.5"></a><p class="title"><strong>Table 23.1. Provoking vertex selection</strong></p><div class="table-contents"><table summary="Provoking vertex selection" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Primitive type of primitive <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Provoking vertex number</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$i$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_STRIP</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$i$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$3 i$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$i$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$i + 1$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$4 i + 1$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$i + 1$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$6 i$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code></p></td><td style="" align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$2 i$
</span></span></p></td></tr></tbody></table></div></div><br class="table-break" /><p>Flat shading is applied to those vertex attributes that
<a class="link" href="#interfaces-iointerfaces-matching" title="14.1.3. Interface Matching">match</a> fragment input attributes which
are decorated as <span class="strong"><strong><code class="code">Flat</code></strong></span>.</p><p>If a geometry shader is active, the output primitive topology is either
points, line strips, or triangle strips, and the selection of the provoking
vertex behaves according to the corresponding row of the table.
If a tessellation evaluation shader is active and a geometry shader is not
active, the provoking vertex is undefined but <span class="normative">must</span> be one of the vertices
of the primitive.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="vertexpostproc-clipping"></a>23.2. Primitive Clipping</h2></div></div></div><p>Primitives are culled against the <span class="emphasis"><em>cull volume</em></span> and then clipped to the
<span class="emphasis"><em>clip volume</em></span>.
In clip coordinates, the <span class="emphasis"><em>view volume</em></span> is defined by:</p><p><span class="inlinemediaobject"><span class="phrase">
$ \begin{array}{c} -w_c \leq x_c \leq w_c \\ -w_c \leq y_c \leq
 w_c \\ 0 \leq z_c \leq w_c \\ \end{array}
$
</span></span></p><p>This view volume <span class="normative">can</span> be further restricted by as many as
<code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxClipDistances</code></em> client-defined
half-spaces.</p><p>The cull volume is the intersection of up to
<code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxCullDistances</code></em> client-defined
half-spaces (if no client-defined cull half-spaces are enabled, culling
against the cull volume is skipped).</p><p>A shader <span class="normative">must</span> write a single cull distance for each enabled cull half-space
to elements of the <span class="strong"><strong><code class="code">CullDistance</code></strong></span> array.
If the cull distance for any enabled cull half-space is negative for all of
the vertices of the primitive under consideration, the primitive is
discarded.
Otherwise the primitive is clipped against the clip volume as defined below.</p><p>The clip volume is the intersection of up to
<code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxClipDistances</code></em> client-defined
half-spaces with the view volume (if no client-defined clip half-spaces are
enabled, the clip volume is the view volume).</p><p>A shader <span class="normative">must</span> write a single clip distance for each enabled clip half-space
to elements of the <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> array.
Clip half-space <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> is then given by the set of points
satisfying the inequality</p><p><span class="inlinemediaobject"><span class="phrase">
$c_i(P) \geq 0$
</span></span></p><p>where <span class="inlinemediaobject"><span class="phrase">
$c_i(P)$
</span></span> is the clip distance <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> at point
<span class="inlinemediaobject"><span class="phrase">
$P$
</span></span>.
For point primitives, <span class="inlinemediaobject"><span class="phrase">
$c_i(P)$
</span></span> is simply the clip distance for
the vertex in question.
For line and triangle primitives, per-vertex clip distances are interpolated
using a weighted mean, with weights derived according to the algorithms
described in sections <a class="link" href="#primsrast-lines-basic" title="24.6.1. Basic Line Segment Rasterization">Basic Line Segment Rasterization</a> and <a class="link" href="#primsrast-polygons-basic" title="24.7.1. Basic Polygon Rasterization">Basic Polygon Rasterization</a>, using the perspective interpolation equations.</p><p>The number of client-defined clip and cull half-spaces that are enabled is
determined by the explicit size of the built-in arrays <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> and
<span class="strong"><strong><code class="code">CullDistance</code></strong></span>, respectively, declared as an output in the interface of
the entry point of the final shader stage before clipping.</p><p>Depth clamping is enabled or disabled via the <em class="parameter"><code>depthClampEnable</code></em> enable
of the <code class="code">VkPipelineRasterizationStateCreateInfo</code> structure.
If depth clamping is enabled, the plane equation</p><p><span class="inlinemediaobject"><span class="phrase">
$0 \leq z_c \leq w_c$
</span></span></p><p>(see the clip volume definition above) is ignored by view volume clipping
(effectively, there is no near or far plane clipping).</p><p>If the primitive under consideration is a point, then clipping passes it
unchanged if it lies within the clip volume; otherwise, it is discarded.</p><p>If the primitive is a line segment, then clipping does nothing to it if it
lies entirely within the clip volume, and discards it if it lies entirely
outside the volume.</p><p>If part of the line segment lies in the volume and part lies outside, then
the line segment is clipped and new vertex coordinates are computed for one
or both vertices.
A clipped line segment endpoint lies on both the original line segment and
the boundary of the clip volume.</p><p>This clipping produces a value, <span class="inlinemediaobject"><span class="phrase">
$0 \leq t \leq 1$
</span></span>, for each
clipped vertex.
If the coordinates of a clipped vertex are <span class="inlinemediaobject"><span class="phrase">
${\textbf P}$
</span></span> and the
original vertices' coordinates are <span class="inlinemediaobject"><span class="phrase">
${\textbf P}_1$
</span></span> and
<span class="inlinemediaobject"><span class="phrase">
${\textbf P}_2$
</span></span>, then <span class="inlinemediaobject"><span class="phrase">
$t$
</span></span> is given by</p><p><span class="inlinemediaobject"><span class="phrase">
${\textbf P} = t{\textbf P}_1 + (1-t){\textbf P}_2.$
</span></span></p><p><span class="inlinemediaobject"><span class="phrase">
$t$
</span></span> is used to clip vertex output attributes as described in
<a class="link" href="#vertexpostproc-clipping-shader-outputs" title="23.3. Clipping Shader Outputs">Clipping Shader Outputs</a>.</p><p>If the primitive is a polygon, it passes unchanged if every one of its edges
lie entirely inside the clip volume, and it is discarded if every one of its
edges lie entirely outside the clip volume.
If the edges of the polygon intersect the boundary of the clip volume, the
intersecting edges are reconnected by new edges that lie along the boundary
of the clip volume - in some cases requiring the introduction of new
vertices into a polygon.</p><p>If a polygon intersects an edge of the clip volume’s boundary, the clipped
polygon <span class="normative">must</span> include a point on this boundary edge.</p><p>Primitives rendered with user-defined half-spaces <span class="normative">must</span> satisfy a
complementarity criterion.
Suppose a series of primitives is drawn where each vertex <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span>
has a single specified clip distance <span class="inlinemediaobject"><span class="phrase">
$d_i$
</span></span> (or a number of
similarly specified clip distances, if multiple half-spaces are enabled).
Next, suppose that the same series of primitives are drawn again with each
such clip distance replaced by <span class="inlinemediaobject"><span class="phrase">
$-d_i$
</span></span> (and the graphics pipeline
is otherwise the same).
In this case, primitives <span class="normative">must</span> not be missing any pixels, and pixels <span class="normative">must</span>
not be drawn twice in regions where those primitives are cut by the clip
planes.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="vertexpostproc-clipping-shader-outputs"></a>23.3. Clipping Shader Outputs</h2></div></div></div><p>Next, vertex output attributes are clipped.
The output values associated with a vertex that lies within the clip volume
are unaffected by clipping.
If a primitive is clipped, however, the output values assigned to vertices
produced by clipping are clipped.</p><p>Let the output values assigned to the two vertices <span class="inlinemediaobject"><span class="phrase">
${\textbf
P}_1$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
${\textbf P}_2$
</span></span> of an unclipped edge be
<span class="inlinemediaobject"><span class="phrase">
${\textbf c}_1$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
${\textbf c}_2$
</span></span>.
The value of <span class="inlinemediaobject"><span class="phrase">
$t$
</span></span> (see <a class="link" href="#vertexpostproc-clipping" title="23.2. Primitive Clipping">Primitive Clipping</a>) for a clipped point <span class="inlinemediaobject"><span class="phrase">
${\textbf P}$
</span></span> is used to obtain
the output value associated with <span class="inlinemediaobject"><span class="phrase">
${\textbf P}$
</span></span> as</p><p><span class="inlinemediaobject"><span class="phrase">
${\textbf c} = t {\textbf c}_1 + (1-t){\textbf c}_2.
$
</span></span></p><p>(Multiplying an output value by a scalar means multiplying each of <span class="emphasis"><em>x</em></span>, <span class="emphasis"><em>y</em></span>,
<span class="emphasis"><em>z</em></span>, and <span class="emphasis"><em>w</em></span> by the scalar.)</p><p>Since this computation is performed in clip space before division by
<span class="inlinemediaobject"><span class="phrase">
$w_c$
</span></span>, clipped output values are perspective-correct.</p><p>Polygon clipping creates a clipped vertex along an edge of the clip volume’s
boundary.
This situation is handled by noting that polygon clipping proceeds by
clipping against one half-space at a time.
Output value clipping is done in the same way, so that clipped points always
occur at the intersection of polygon edges (possibly already clipped) with
the clip volume’s boundary.</p><p>For vertex output attributes whose matching fragment input attributes are
decorated with <span class="strong"><strong><code class="code">NoPerspective</code></strong></span>, the value of <span class="inlinemediaobject"><span class="phrase">
$t$
</span></span> used to
obtain the output value associated with <span class="inlinemediaobject"><span class="phrase">
${\textbf P}$
</span></span> will be
adjusted to produce results that vary linearly in framebuffer space.</p><p>Output attributes of integer or unsigned integer type <span class="normative">must</span> always be flat
shaded.
Flat shaded attributes are constant over the primitive being rasterized (see
<a class="link" href="#primsrast-lines-basic" title="24.6.1. Basic Line Segment Rasterization">Basic Line Segment Rasterization</a> and
<a class="link" href="#primsrast-polygons-basic" title="24.7.1. Basic Polygon Rasterization">Basic Polygon Rasterization</a>), and no
interpolation is performed.
The output value <span class="inlinemediaobject"><span class="phrase">
${\textbf c}$
</span></span> is taken from either
<span class="inlinemediaobject"><span class="phrase">
${\textbf c}_1$
</span></span> or <span class="inlinemediaobject"><span class="phrase">
${\textbf c}_2$
</span></span>, since flat
shading has already occurred and the two values are identical.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="vertexpostproc-coord-transform"></a>23.4. Coordinate Transformations</h2></div></div></div><p><span class="emphasis"><em>Clip coordinates</em></span> for a vertex result from shader execution, which yields a
vertex coordinate <span class="strong"><strong><code class="code">Position</code></strong></span>.</p><p>Perspective division on clip coordinates yields <span class="emphasis"><em>normalized device
coordinates</em></span>, followed by a <span class="emphasis"><em>viewport</em></span> transformation (see
<a class="link" href="#vertexpostproc-viewport" title="23.5. Controlling the Viewport">Controlling the Viewport</a>) to convert these
coordinates into <span class="emphasis"><em>framebuffer coordinates</em></span>.</p><p>If a vertex in clip coordinates has a position given by</p><p><span class="inlinemediaobject"><span class="phrase">
$\left(\begin{array}{c} x_c \\ y_c \\ z_c \\ w_c
\end{array}\right)$
</span></span></p><p>then the vertex’s normalized device coordinates are</p><p><span class="inlinemediaobject"><span class="phrase">
$ \left(\begin{array}{c} x_d \\ y_d \\ z_d \end{array}\right) =
    \left(\begin{array}{c} \frac{x_c}{w_c} \\ \frac{y_c}{w_c} \\
    \frac{z_c}{w_c} \end{array}\right)
$
</span></span></p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="vertexpostproc-viewport"></a>23.5. Controlling the Viewport</h2></div></div></div><p>The viewport transformation is determined by the selected viewport’s width
    and height in pixels, <span class="inlinemediaobject"><span class="phrase">
$p_x$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$p_y$
</span></span>,
    respectively, and its center <span class="inlinemediaobject"><span class="phrase">
$(o_x, o_y)$
</span></span> (also in pixels),
    as well as its depth range min and max determining a depth range scale
    value <span class="inlinemediaobject"><span class="phrase">
$p_z$
</span></span> and a depth range bias value <span class="inlinemediaobject"><span class="phrase">
$o_z$
</span></span>
    (defined below).
    The vertex’s framebuffer coordinates, <span class="inlinemediaobject"><span class="phrase">
$\left(\begin{array}{c}
    x_f \\ y_f \\ z_f \end{array}\right),$
</span></span>
are given by</p><p><span class="inlinemediaobject"><span class="phrase">
$ \left(\begin{array}{c} x_f \\ y_f \\ z_f \end{array}\right) =
    \left(\begin{array}{c} \frac{ p_x }{ 2 } x_d + o_x \\ \frac{ p_y }{ 2 }
    y_d + o_y \\ p_z \times z_d + o_z \end{array}\right).
$
</span></span></p><p>Multiple viewports are available, numbered zero up to
<code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxViewports</code></em> minus one.
The number of viewports used by a pipeline is controlled by the
<em class="parameter"><code>viewportCount</code></em> member of the <code class="code">VkPipelineViewportStateCreateInfo</code>
structure used in pipeline creation.</p><p>The <code class="code">VkPipelineViewportStateCreateInfo</code> structure is defined as:</p><p><a id="VkPipelineViewportStateCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPipelineViewportStateCreateInfo {
    VkStructureType                       sType;
    const void*                           pNext;
    VkPipelineViewportStateCreateFlags    flags;
    uint32_t                              viewportCount;
    const VkViewport*                     pViewports;
    uint32_t                              scissorCount;
    const VkRect2D*                       pScissors;
} VkPipelineViewportStateCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>viewportCount</code></em> is the number of viewports used by the pipeline.
</li><li class="listitem">
<em class="parameter"><code>pViewports</code></em> is a pointer to an array of <code class="code"><a class="link" href="#VkViewport">VkViewport</a></code>
    structures, defining the viewport transforms.
    If the viewport state is dynamic, this member is ignored.
</li><li class="listitem">
<em class="parameter"><code>scissorCount</code></em> is the number of <a class="link" href="#fragops-scissor" title="25.2. Scissor Test">scissors</a> and
    <span class="normative">must</span> match the number of viewports.
</li><li class="listitem">
<em class="parameter"><code>pScissors</code></em> is a pointer to an array of <code class="code">VkRect2D</code> structures
    which define the rectangular bounds of the scissor for the corresponding
    viewport.
    If the scissor state is dynamic, this member is ignored.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>viewportCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>scissorCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-multiViewport">multiple viewports</a> feature is not enabled, <em class="parameter"><code>viewportCount</code></em> <span class="normative">must</span> be <code class="literal">1</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-multiViewport">multiple viewports</a> feature is not enabled, <em class="parameter"><code>scissorCount</code></em> <span class="normative">must</span> be <code class="literal">1</code>
</li><li class="listitem">
<em class="parameter"><code>viewportCount</code></em> <span class="normative">must</span> be between <code class="literal">1</code> and <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxViewports</code></em>, inclusive
</li><li class="listitem">
<em class="parameter"><code>scissorCount</code></em> <span class="normative">must</span> be between <code class="literal">1</code> and <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxViewports</code></em>, inclusive
</li><li class="listitem">
<em class="parameter"><code>scissorCount</code></em> and <em class="parameter"><code>viewportCount</code></em> <span class="normative">must</span> be identical
</li></ul></div></div><p>If a geometry shader is active and has an output variable decorated with
<span class="strong"><strong><code class="code">ViewportIndex</code></strong></span>, the viewport transformation uses the viewport
corresponding to the value assigned to <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span> taken from an
implementation-dependent vertex of each primitive.
If <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span> is outside the range zero to <em class="parameter"><code>viewportCount</code></em> minus
one for a primitive, or if the geometry shader did not assign a value to
<span class="strong"><strong><code class="code">ViewportIndex</code></strong></span> for all vertices of a primitive due to flow control, the
results of the viewport transformation of the vertices of such primitives
are undefined.
If no geometry shader is active, or if the geometry shader does not have an
output decorated with <span class="strong"><strong><code class="code">ViewportIndex</code></strong></span>, the viewport numbered zero is used
by the viewport transformation.</p><p>A single vertex <span class="normative">can</span> be used in more than one individual primitive, in
primitives such as <code class="code">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code>.
In this case, the viewport transformation is applied separately for each
primitive.</p><p>If the bound pipeline state object was not created with the
<code class="code">VK_DYNAMIC_STATE_VIEWPORT</code> dynamic state enabled, viewport
transformation parameters are specified using the <em class="parameter"><code>pViewports</code></em> member of
<code class="code">VkPipelineViewportStateCreateInfo</code> in the pipeline state object.
If the pipeline state object was created with the
<code class="code">VK_DYNAMIC_STATE_VIEWPORT</code> dynamic state enabled, the viewport
transformation parameters are dynamically set and changed with the command:</p><p><a id="vkCmdSetViewport"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdSetViewport(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstViewport,
    uint32_t                                    viewportCount,
    const VkViewport*                           pViewports);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>firstViewport</code></em> is the index of the first viewport whose parameters
    are updated by the command.
</li><li class="listitem">
<em class="parameter"><code>viewportCount</code></em> is the number of viewports whose parameters are
    updated by the command.
</li><li class="listitem">
<em class="parameter"><code>pViewports</code></em> is a pointer to an array of <code class="code"><a class="link" href="#VkViewport">VkViewport</a></code> structures
    specifying viewport parameters.
</li></ul></div><p>The viewport parameters taken from element <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> of
<em class="parameter"><code>pViewports</code></em> replace the current state for the viewport index
<span class="inlinemediaobject"><span class="phrase">
$\mathit{firstViewport}+i$
</span></span>, for <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> in
<span class="inlinemediaobject"><span class="phrase">
$[0, viewportCount)$
</span></span>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pViewports</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>viewportCount</code></em> valid <code class="code">VkViewport</code> structures
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
<em class="parameter"><code>viewportCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
The currently bound graphics pipeline <span class="normative">must</span> have been created with the <code class="code">VK_DYNAMIC_STATE_VIEWPORT</code> dynamic state enabled
</li><li class="listitem">
<em class="parameter"><code>firstViewport</code></em> <span class="normative">must</span> be less than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxViewports</code></em>
</li><li class="listitem">
The sum of <em class="parameter"><code>firstViewport</code></em> and <em class="parameter"><code>viewportCount</code></em> <span class="normative">must</span> be between <code class="literal">1</code> and <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxViewports</code></em>, inclusive
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>Both <code class="code"><a class="link" href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></code> and <code class="code"><a class="link" href="#vkCmdSetViewport">vkCmdSetViewport</a></code> use
<code class="code">VkViewport</code> to set the viewport transformation parameters.</p><p>The <code class="code">VkViewport</code> structure is defined as:</p><p><a id="VkViewport"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkViewport {
    float    x;
    float    y;
    float    width;
    float    height;
    float    minDepth;
    float    maxDepth;
} VkViewport;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>x</code></em> and <em class="parameter"><code>y</code></em> are the viewport’s upper left corner
    <span class="inlinemediaobject"><span class="phrase">
$(x,y)$
</span></span>.
</li><li class="listitem">
<em class="parameter"><code>width</code></em> and <em class="parameter"><code>height</code></em> are the viewport’s width and height,
    respectively.
</li><li class="listitem">
<em class="parameter"><code>minDepth</code></em> and <em class="parameter"><code>maxDepth</code></em> are the depth range for the viewport.
    It is valid for <em class="parameter"><code>minDepth</code></em> to be greater than or equal to
    <em class="parameter"><code>maxDepth</code></em>.
</li></ul></div><p>The framebuffer depth coordinate <span class="inlinemediaobject"><span class="phrase">
$z_f$
</span></span> <span class="normative">may</span> be represented using
either a fixed-point or floating-point representation.
However, a floating-point representation <span class="normative">must</span> be used if the depth/stencil
attachment has a floating-point depth component.
If an <span class="inlinemediaobject"><span class="phrase">
$m$
</span></span>-bit fixed-point representation is used, we assume that
it represents each value <span class="inlinemediaobject"><span class="phrase">
$\frac{k}{2^m - 1}$
</span></span>, where
<span class="inlinemediaobject"><span class="phrase">
$k \in \{ 0,1, \ldots, 2^m-1 \}$
</span></span>, as <span class="inlinemediaobject"><span class="phrase">
$k$
</span></span> (e.g.
1.0 is represented in binary as a string of all ones).</p><p>The viewport parameters shown in the above equations are found from these
values as</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
    o_x &amp; = x + \frac{width}{2} \\
    o_y &amp; = y + \frac{height}{2} \\
    o_z &amp; = minDepth \\
    p_x &amp; = width \\
    p_y &amp; = height \\
    p_z &amp; = maxDepth - minDepth.
\end{align*}</span></div></div><p>The width and height of the <a class="link" href="#features-limits-maxViewportDimensions">implementation-dependent maximum viewport dimensions</a> <span class="normative">must</span> be greater than
or equal to the width and height of the largest image which <span class="normative">can</span> be created
and attached to a framebuffer.</p><p>The floating-point viewport bounds are represented with an
<a class="link" href="#features-limits-viewportSubPixelBits">implementation-dependent precision</a>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>width</code></em> <span class="normative">must</span> be greater than <code class="literal">0.0</code> and less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxViewportDimensions</code></em>[0]
</li><li class="listitem">
<em class="parameter"><code>height</code></em> <span class="normative">must</span> be greater than <code class="literal">0.0</code> and less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxViewportDimensions</code></em>[1]
</li><li class="listitem">
<em class="parameter"><code>x</code></em> and <em class="parameter"><code>y</code></em> <span class="normative">must</span> each be between <em class="parameter"><code>viewportBoundsRange</code></em>[0] and <em class="parameter"><code>viewportBoundsRange</code></em>[1], inclusive
</li><li class="listitem">
<em class="parameter"><code>x</code></em> + <em class="parameter"><code>width</code></em> <span class="normative">must</span> be less than or equal to <em class="parameter"><code>viewportBoundsRange</code></em>[1]
</li><li class="listitem">
<em class="parameter"><code>y</code></em> + <em class="parameter"><code>height</code></em> <span class="normative">must</span> be less than or equal to <em class="parameter"><code>viewportBoundsRange</code></em>[1]
</li><li class="listitem">
<em class="parameter"><code>minDepth</code></em> <span class="normative">must</span> be between <code class="literal">0.0</code> and <code class="literal">1.0</code>, inclusive
</li><li class="listitem">
<em class="parameter"><code>maxDepth</code></em> <span class="normative">must</span> be between <code class="literal">0.0</code> and <code class="literal">1.0</code>, inclusive
</li></ul></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="primsrast"></a>Chapter 24. Rasterization</h1></div></div></div><p>Rasterization is the process by which a primitive is converted to a
two-dimensional image.
Each point of this image contains associated data such as depth, color, or
other attributes.</p><p>Rasterizing a primitive begins by determining which squares of an integer
grid in framebuffer coordinates are occupied by the primitive, and assigning
one or more depth values to each such square.
This process is described below for points, lines, and polygons.</p><p>A grid square, including its <span class="inlinemediaobject"><span class="phrase">
$(x,y)$
</span></span> framebuffer coordinates,
<span class="inlinemediaobject"><span class="phrase">
$z$
</span></span> (depth), and associated data added by fragment shaders, is
called a fragment.
A fragment is located by its upper left corner, which lies on integer grid
coordinates.</p><p>Rasterization operations also refer to a fragment’s sample locations, which
are offset by subpixel fractional values from its upper left corner.
The rasterization rules for points, lines, and triangles involve testing
whether each sample location is inside the primitive.
Fragments need not actually be square, and rasterization rules are not
affected by the aspect ratio of fragments.
Display of non-square grids, however, will cause rasterized points and line
segments to appear fatter in one direction than the other.</p><p>We assume that fragments are square, since it simplifies antialiasing and
texturing.
After rasterization, fragments are processed by the <a class="link" href="#fragops-early" title="25.1. Early Per-Fragment Tests">early per-fragment tests</a>, if enabled.</p><p>Several factors affect rasterization, including the members of
<code class="code">VkPipelineRasterizationStateCreateInfo</code> and
<code class="code">VkPipelineMultisampleStateCreateInfo</code>.</p><p>The <code class="code">VkPipelineRasterizationStateCreateInfo</code> structure is defined as:</p><p><a id="VkPipelineRasterizationStateCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPipelineRasterizationStateCreateInfo {
    VkStructureType                            sType;
    const void*                                pNext;
    VkPipelineRasterizationStateCreateFlags    flags;
    VkBool32                                   depthClampEnable;
    VkBool32                                   rasterizerDiscardEnable;
    VkPolygonMode                              polygonMode;
    VkCullModeFlags                            cullMode;
    VkFrontFace                                frontFace;
    VkBool32                                   depthBiasEnable;
    float                                      depthBiasConstantFactor;
    float                                      depthBiasClamp;
    float                                      depthBiasSlopeFactor;
    float                                      lineWidth;
} VkPipelineRasterizationStateCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>depthClampEnable</code></em> controls whether to clamp the fragment’s depth
    values instead of clipping primitives to the z planes of the frustum, as
    described in <a class="link" href="#vertexpostproc-clipping" title="23.2. Primitive Clipping">Primitive Clipping</a>.
</li><li class="listitem">
<em class="parameter"><code>rasterizerDiscardEnable</code></em> controls whether primitives are discarded
    immediately before the rasterization stage.
</li><li class="listitem">
<em class="parameter"><code>polygonMode</code></em> is the triangle rendering mode.
    See <code class="code"><a class="link" href="#VkPolygonMode">VkPolygonMode</a></code>.
</li><li class="listitem">
<em class="parameter"><code>cullMode</code></em> is the triangle facing direction used for primitive
    culling.
    See <code class="code"><a class="link" href="#VkCullModeFlagBits">VkCullModeFlagBits</a></code>.
</li><li class="listitem">
<em class="parameter"><code>frontFace</code></em> is the front-facing triangle orientation to be used for
    culling.
    See <code class="code"><a class="link" href="#VkFrontFace">VkFrontFace</a></code>.
</li><li class="listitem">
<em class="parameter"><code>depthBiasEnable</code></em> controls whether to bias fragment depth values.
</li><li class="listitem">
<em class="parameter"><code>depthBiasConstantFactor</code></em> is a scalar factor controlling the
    constant depth value added to each fragment.
</li><li class="listitem">
<em class="parameter"><code>depthBiasClamp</code></em> is the maximum (or minimum) depth bias of a
    fragment.
</li><li class="listitem">
<em class="parameter"><code>depthBiasSlopeFactor</code></em> is a scalar factor applied to a fragment’s
    slope in depth bias calculations.
</li><li class="listitem">
<em class="parameter"><code>lineWidth</code></em> is the width of rasterized line segments.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>polygonMode</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkPolygonMode">VkPolygonMode</a></code> value
</li><li class="listitem">
<em class="parameter"><code>cullMode</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkCullModeFlagBits">VkCullModeFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>frontFace</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFrontFace">VkFrontFace</a></code> value
</li><li class="listitem">
If the <a class="link" href="#features-features-depthClamp">depth clamping</a> feature is not enabled, <em class="parameter"><code>depthClampEnable</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-fillModeNonSolid">non-solid fill modes</a> feature is not enabled, <em class="parameter"><code>polygonMode</code></em> <span class="normative">must</span> be <code class="code">VK_POLYGON_MODE_FILL</code>
</li></ul></div></div><p>The <code class="code">VkPipelineMultisampleStateCreateInfo</code> structure is defined as:</p><p><a id="VkPipelineMultisampleStateCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPipelineMultisampleStateCreateInfo {
    VkStructureType                          sType;
    const void*                              pNext;
    VkPipelineMultisampleStateCreateFlags    flags;
    VkSampleCountFlagBits                    rasterizationSamples;
    VkBool32                                 sampleShadingEnable;
    float                                    minSampleShading;
    const VkSampleMask*                      pSampleMask;
    VkBool32                                 alphaToCoverageEnable;
    VkBool32                                 alphaToOneEnable;
} VkPipelineMultisampleStateCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>rasterizationSamples</code></em> is a <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> specifying
    the number of samples per pixel used in rasterization.
</li><li class="listitem">
<em class="parameter"><code>sampleShadingEnable</code></em> specifies that fragment shading executes
    per-sample if <code class="code">VK_TRUE</code>, or per-fragment if <code class="code">VK_FALSE</code>, as
    described in <a class="link" href="#primsrast-sampleshading" title="24.4. Sample Shading">Sample Shading</a>.
</li><li class="listitem">
<em class="parameter"><code>minSampleShading</code></em> is the minimum fraction of sample shading, as
    described in <a class="link" href="#primsrast-sampleshading" title="24.4. Sample Shading">Sample Shading</a>.
</li><li class="listitem">
<em class="parameter"><code>pSampleMask</code></em> is a bitmask of static coverage information that is
    ANDed with the coverage information generated during rasterization, as
    described in <a class="link" href="#fragops-samplemask" title="25.3. Sample Mask">Sample Mask</a>.
</li><li class="listitem">
<em class="parameter"><code>alphaToCoverageEnable</code></em> controls whether a temporary coverage value
    is generated based on the alpha component of the fragment’s first color
    output as specified in the <a class="link" href="#fragops-covg" title="25.6. Multisample Coverage">Multisample Coverage</a>
    section.
</li><li class="listitem">
<em class="parameter"><code>alphaToOneEnable</code></em> controls whether the alpha component of the
    fragment’s first color output is replaced with one as described in
    <a class="link" href="#fragops-covg" title="25.6. Multisample Coverage">Multisample Coverage</a>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>rasterizationSamples</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> value
</li><li class="listitem">
If <em class="parameter"><code>pSampleMask</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pSampleMask</code></em> <span class="normative">must</span> be a pointer to an array of <span class="inlinemediaobject"><span class="phrase">
$\lceil{\mathit{rasterizationSamples} \over 32}\rceil$
</span></span> <code class="code">VkSampleMask</code> values
</li><li class="listitem">
If the <a class="link" href="#features-features-sampleRateShading">sample rate shading</a> feature is not enabled, <em class="parameter"><code>sampleShadingEnable</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-alphaToOne">alpha to one</a> feature is not enabled, <em class="parameter"><code>alphaToOneEnable</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>
</li><li class="listitem">
<em class="parameter"><code>minSampleShading</code></em> <span class="normative">must</span> be in the range <span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span>
</li></ul></div></div><p>Rasterization only produces fragments corresponding to pixels in the
framebuffer.
Fragments which would be produced by application of any of the primitive
rasterization rules described below but which lie outside the framebuffer
are not produced, nor are they processed by any later stage of the pipeline,
including any of the early per-fragment tests described in
<a class="link" href="#fragops-early" title="25.1. Early Per-Fragment Tests">Early Per-Fragment Tests</a>.</p><p>Surviving fragments are processed by fragment shaders.
Fragment shaders determine associated data for fragments, and <span class="normative">can</span> also
modify or replace their assigned depth values.</p><p>If the subpass for which this pipeline is being created uses color and/or
depth/stencil attachments, then <em class="parameter"><code>rasterizationSamples</code></em> <span class="normative">must</span> be the same
as the sample count for those subpass attachments.
Otherwise, <em class="parameter"><code>rasterizationSamples</code></em> <span class="normative">must</span> follow the rules for a
<a class="link" href="#renderpass-noattachments">zero-attachment subpass</a>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="primsrast-discard"></a>24.1. Discarding Primitives Before Rasterization</h2></div></div></div><p>Primitives are discarded before rasterization if the
<em class="parameter"><code>rasterizerDiscardEnable</code></em> member of
<code class="code"><a class="link" href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code> is enabled.
When enabled, primitives are discarded after they are processed by the last
active shader stage in the pipeline before rasterization.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="primrast-order"></a>24.2. Rasterization Order</h2></div></div></div><p>Within a subpass of a <a class="link" href="#renderpass" title="Chapter 7. Render Pass">render pass instance</a>, for a given
(x,y,layer,sample) sample location, the following stages are guaranteed to
execute in <span class="emphasis"><em>rasterization order</em></span> for each separate primitive that includes
that sample location:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
depth bounds test
</li><li class="listitem">
stencil test, stencil op and stencil write
</li><li class="listitem">
depth test and depth write
</li><li class="listitem">
occlusion queries
</li><li class="listitem">
blending, logic op and color write
</li></ul></div><p>Rasterization order <span class="normative">must</span> follow <a class="link" href="#fundamentals-queueoperation-apiorder">API order</a>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="primsrast-multisampling"></a>24.3. Multisampling</h2></div></div></div><p>Multisampling is a mechanism to antialias all Vulkan primitives: points,
lines, and polygons.
The technique is to sample all primitives multiple times at each pixel.
Each sample in each framebuffer attachment has storage for a color, depth,
and/or stencil value, such that per-fragment operations apply to each sample
independently.
The color sample values <span class="normative">can</span> be later <span class="emphasis"><em>resolved</em></span> to a single color (see
<a class="link" href="#copies-resolve" title="18.6. Resolving Multisample Images">Resolving Multisample Images</a> and the <a class="link" href="#renderpass" title="Chapter 7. Render Pass">Render Pass</a> chapter for more details on how to resolve multisample images to
non-multisample images).</p><p>Vulkan defines rasterization rules for single-sample modes in a way that is
equivalent to a multisample mode with a single sample in the center of each
pixel.</p><p>Each fragment includes a coverage value with <em class="parameter"><code>rasterizationSamples</code></em> bits
(see <a class="link" href="#fragops-samplemask" title="25.3. Sample Mask">Sample Mask</a>).
Each fragment includes <em class="parameter"><code>rasterizationSamples</code></em> depth values and sets of
associated data.
An implementation <span class="normative">may</span> choose to assign the same associated data to more
than one sample.
The location for evaluating such associated data <span class="normative">may</span> be anywhere within the
pixel including the pixel center or any of the sample locations.
When <em class="parameter"><code>rasterizationSamples</code></em> is <code class="code">VK_SAMPLE_COUNT_1_BIT</code>, the pixel
center <span class="normative">must</span> be used.
The different associated data values need not all be evaluated at the same
location.
Each pixel fragment thus consists of integer x and y grid coordinates,
<em class="parameter"><code>rasterizationSamples</code></em> depth values and sets of associated data, and a
coverage value with <em class="parameter"><code>rasterizationSamples</code></em> bits.</p><p>It is understood that each pixel has <em class="parameter"><code>rasterizationSamples</code></em> locations
associated with it.
These locations are exact positions, rather than regions or areas, and each
is referred to as a sample point.
The sample points associated with a pixel <span class="normative">must</span> be located inside or on the
boundary of the unit square that is considered to bound the pixel.
Furthermore, the relative locations of sample points <span class="normative">may</span> be identical for
each pixel in the framebuffer, or they <span class="normative">may</span> differ.
If the current pipeline includes a fragment shader with one or more
variables in its interface decorated with <span class="strong"><strong><code class="code">Sample</code></strong></span> and <span class="strong"><strong><code class="code">Input</code></strong></span>, the
data associated with those variables will be assigned independently for each
sample.
The values for each sample <span class="normative">must</span> be evaluated at the location of the sample.
The data associated with any other variables not decorated with <span class="strong"><strong><code class="code">Sample</code></strong></span>
and <span class="strong"><strong><code class="code">Input</code></strong></span> need not be evaluated independently for each sample.</p><p>If the <em class="parameter"><code>standardSampleLocations</code></em> member of
<code class="code"><a class="link" href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a></code> is <code class="code">VK_TRUE</code>, then the sample counts
<code class="code">VK_SAMPLE_COUNT_1_BIT</code>, <code class="code">VK_SAMPLE_COUNT_2_BIT</code>,
<code class="code">VK_SAMPLE_COUNT_4_BIT</code>, <code class="code">VK_SAMPLE_COUNT_8_BIT</code>, and
<code class="code">VK_SAMPLE_COUNT_16_BIT</code> have sample locations as listed in the
following table, with the <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span>th entry in the table corresponding
to bit <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> in the sample masks.
<code class="code">VK_SAMPLE_COUNT_32_BIT</code> and <code class="code">VK_SAMPLE_COUNT_64_BIT</code> do not have
standard sample locations.
Locations are defined relative to an origin in the upper left corner of the
pixel.</p><p></p><div class="table"><a id="id-1.26.21.8"></a><p class="title"><strong>Table 24.1. Standard sample locations</strong></p><div class="table-contents"><table summary="Standard sample locations" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_SAMPLE_COUNT_1_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_SAMPLE_COUNT_2_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_SAMPLE_COUNT_4_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_SAMPLE_COUNT_8_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_SAMPLE_COUNT_16_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(0.5,0.5)$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(0.25,0.25)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$(0.75,0.75)$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$( 0.375, 0.125)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.875, 0.375)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.125, 0.625)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.625, 0.875)$
</span></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$( 0.5625, 0.3125)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.4375, 0.6875)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.8125, 0.5625)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.3125, 0.1875)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.1875, 0.8125)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.0625, 0.4375)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.6875, 0.9375)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.9375, 0.0625)$
</span></span></p></td><td style="" align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$( 0.5625, 0.5625)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.4375, 0.3125)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.3125, 0.625)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.75,   0.4375)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.1875, 0.375)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.625,  0.8125)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.8125, 0.6875)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.6875, 0.1875)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.375,  0.875)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.5,    0.0625)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.25,   0.125)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.125,  0.75)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.0,    0.5)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.9375, 0.25)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.875,  0.9375)$
</span></span>
<span class="inlinemediaobject"><span class="phrase">
$( 0.0625, 0.0)$
</span></span></p></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="primsrast-sampleshading"></a>24.4. Sample Shading</h2></div></div></div><p>Sample shading <span class="normative">can</span> be used to specify a minimum number of unique samples to
process for each fragment.
Sample shading is controlled by the <em class="parameter"><code>sampleShadingEnable</code></em> member of
<code class="code"><a class="link" href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>.
If <em class="parameter"><code>sampleShadingEnable</code></em> is <code class="code">VK_FALSE</code>, sample shading is considered
disabled and has no effect.
Otherwise, an implementation <span class="normative">must</span> provide a minimum of
<span class="inlinemediaobject"><span class="phrase">
$\max(\lceil{minSampleShading \times rasterizationSamples}\rceil,
1)$
</span></span> unique associated data for each fragment, where <em class="parameter"><code>minSampleShading</code></em>
is the minimum fraction of sample shading and <em class="parameter"><code>rasterizationSamples</code></em> is
the number of samples requested in
<code class="code"><a class="link" href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>.
These are associated with the samples in an implementation-dependent manner.
When the sample shading fraction is 1.0, a separate set of associated data
are evaluated for each sample, and each set of values is evaluated at the
sample location.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="primsrast-points"></a>24.5. Points</h2></div></div></div><p>A point is drawn by generating a set of fragments in the shape of a square
centered around the vertex of the point.
Each vertex has an associated point size that controls the width/height of
that square.
The point size is taken from the (potentially clipped) shader built-in
<span class="strong"><strong><code class="code">PointSize</code></strong></span> written by:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
the geometry shader, if active;
</li><li class="listitem">
the tessellation evaluation shader, if active and no geometry shader is
    active;
</li><li class="listitem">
the tessellation control shader, if active and no geometry or
    tessellation evaluation shader is active; or
</li><li class="listitem">
the vertex shader, otherwise
</li></ul></div><p>and clamped to the implementation-dependent point size range
<span class="inlinemediaobject"><span class="phrase">
$[pointSizeRange[0],pointSizeRange[1]]$
</span></span>.
If the value written to <span class="strong"><strong><code class="code">PointSize</code></strong></span> is less than or equal to zero, or if
no value was written to <span class="strong"><strong><code class="code">PointSize</code></strong></span>, results are undefined.</p><p>Not all point sizes need be supported, but the size 1.0 <span class="normative">must</span> be supported.
The range of supported sizes and the size of evenly-spaced gradations within
that range are implementation-dependent.
The range and gradations are obtained from the <em class="parameter"><code>pointSizeRange</code></em> and
<em class="parameter"><code>pointSizeGranularity</code></em> members of <code class="code"><a class="link" href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>.
If, for instance, the size range is from 0.1 to 2.0 and the gradation size
is 0.1, then the size 0.1, 0.2, …, 1.9, 2.0 are supported.
Additional point sizes <span class="normative">may</span> also be supported.
There is no requirement that these sizes be equally spaced.
If an unsupported size is requested, the nearest supported size is used
instead.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="primsrast-points-basic"></a>24.5.1. Basic Point Rasterization</h3></div></div></div><p>Point rasterization produces a fragment for each framebuffer pixel with one
or more sample points that intersect a region centered at the point’s
<span class="inlinemediaobject"><span class="phrase">
$(x_f,y_f)$
</span></span>.
This region is a square with side equal to the current point size.
Coverage bits that correspond to sample points that intersect the region are
1, other coverage bits are 0.</p><p>All fragments produced in rasterizing a point are assigned the same
associated data, which are those of the vertex corresponding to the point.
However, the fragment shader built-in <span class="strong"><strong><code class="code">PointCoord</code></strong></span> contains point sprite
texture coordinates.
The <span class="inlinemediaobject"><span class="phrase">
$s$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$t$
</span></span> point sprite texture coordinates
vary from zero to one across the point horizontally left-to-right and
top-to-bottom, respectively.
The following formulas are used to evaluate <span class="inlinemediaobject"><span class="phrase">
$s$
</span></span> and
<span class="inlinemediaobject"><span class="phrase">
$t$
</span></span>:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\[
  s = {1 \over 2} + { \left( x_p - x_f \right) \over size }
\]
\[
  t = {1 \over 2} + { \left( y_p - y_f \right) \over size }.
\]</span></div></div><p>where size is the point’s size, <span class="inlinemediaobject"><span class="phrase">
$(x_p,y_p)$
</span></span> is the location at
which the point sprite coordinates are evaluated - this <span class="normative">may</span> be the
framebuffer coordinates of the pixel center (i.e.
at the half-integer) or the location of a sample, and
<span class="inlinemediaobject"><span class="phrase">
$(x_f,y_f)$
</span></span> is the exact, unrounded framebuffer coordinate of
the vertex for the point.
When <em class="parameter"><code>rasterizationSamples</code></em> is <code class="code">VK_SAMPLE_COUNT_1_BIT</code>, the pixel
center <span class="normative">must</span> be used.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="primsrast-lines"></a>24.6. Line Segments</h2></div></div></div><p>A line is drawn by generating a set of fragments overlapping a rectangle
centered on the line segment.
Each line segment has an associated width that controls the width of that
rectangle.</p><p>The line width is set by the <em class="parameter"><code>lineWidth</code></em> property of
<code class="code"><a class="link" href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code> in the currently active
pipeline if the pipeline was not created with
<code class="code">VK_DYNAMIC_STATE_LINE_WIDTH</code> enabled.
Otherwise, the line width is set by calling <span class="strong"><strong><code class="code">vkCmdSetLineWidth</code></strong></span>:</p><p><a id="vkCmdSetLineWidth"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdSetLineWidth(
    VkCommandBuffer                             commandBuffer,
    float                                       lineWidth);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>lineWidth</code></em> is the width of rasterized line segments.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
The currently bound graphics pipeline <span class="normative">must</span> have been created with the <code class="code">VK_DYNAMIC_STATE_LINE_WIDTH</code> dynamic state enabled
</li><li class="listitem">
If the <a class="link" href="#features-features-wideLines">wide lines</a> feature is not enabled, <em class="parameter"><code>lineWidth</code></em> <span class="normative">must</span> be <code class="literal">1.0</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>Not all line widths need be supported for line segment rasterization, but
width 1.0 antialiased segments <span class="normative">must</span> be provided.
The range and gradations are obtained from the <em class="parameter"><code>lineWidthRange</code></em> and
<em class="parameter"><code>lineWidthGranularity</code></em> members of <code class="code"><a class="link" href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>.
If, for instance, the size range is from 0.1 to 2.0 and the gradation size
is 0.1, then the size 0.1, 0.2, …, 1.9, 2.0 are supported.
Additional line widths <span class="normative">may</span> also be supported.
There is no requirement that these widths be equally spaced.
If an unsupported width is requested, the nearest supported width is used
instead.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="primsrast-lines-basic"></a>24.6.1. Basic Line Segment Rasterization</h3></div></div></div><p>Rasterized line segments produce fragments which intersect a rectangle
centered on the line segment.
Two of the edges are parallel to the specified line segment; each is at a
distance of one-half the current width from that segment in directions
perpendicular to the direction of the line.
The other two edges pass through the line endpoints and are perpendicular to
the direction of the specified line segment.
Coverage bits that correspond to sample points that intersect the rectangle
are 1, other coverage bits are 0.</p><p>Next we specify how the data associated with each rasterized fragment are
obtained.
Let <span class="inlinemediaobject"><span class="phrase">
$\mathbf{p}_r = (x_d, y_d)$
</span></span> be the framebuffer coordinates
at which associated data are evaluated.
This <span class="normative">may</span> be the pixel center of a fragment or the location of a sample
within the fragment.
When <em class="parameter"><code>rasterizationSamples</code></em> is <code class="code">VK_SAMPLE_COUNT_1_BIT</code>, the pixel
center <span class="normative">must</span> be used.
Let <span class="inlinemediaobject"><span class="phrase">
$\mathbf{p}_a = (x_a, y_a)$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$\mathbf{p}_b =
(x_b,y_b)$
</span></span> be initial and final endpoints of the line segment,
respectively.
Set</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\[
  t = {{( \mathbf{p}_r - \mathbf{p}_a ) \cdot ( \mathbf{p}_b - \mathbf{p}_a )}
      \over {\| \mathbf{p}_b - \mathbf{p}_a \|^2 }}
\]</span></div></div><p>(Note that <span class="inlinemediaobject"><span class="phrase">
$t=0$
</span></span> at <span class="inlinemediaobject"><span class="phrase">
$\mathbf{p}_a$
</span></span> and
<span class="inlinemediaobject"><span class="phrase">
$t=1$
</span></span> at <span class="inlinemediaobject"><span class="phrase">
$\mathbf{p}_b$
</span></span>.
Also note that this calculation projects the vector from
<span class="inlinemediaobject"><span class="phrase">
$\mathbf{p}_a$
</span></span> to <span class="inlinemediaobject"><span class="phrase">
$\mathbf{p}_r$
</span></span> onto the line, and
thus computes the normalized distance of the fragment along the line.)</p><p>The value of an associated datum <span class="inlinemediaobject"><span class="phrase">
$f$
</span></span> for the fragment, whether
it be a shader output or the clip <span class="inlinemediaobject"><span class="phrase">
$w$
</span></span> coordinate, is found as</p><div class="equation"><a id="line_perspective_interpolation"></a><p class="title"><strong>Equation 24.1. line_perspective_interpolation</strong></p><div class="equation-contents"><div class="mediaobject"><span class="phrase">\[
  f = {{ (1-t) {f_a / w_a} + t { f_b / w_b} } \over
      {(1-t) / w_a + t / w_b }}
\]</span></div></div></div><br class="equation-break" /><p>where <span class="inlinemediaobject"><span class="phrase">
$f_a$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$f_b$
</span></span> are the data associated with
the starting and ending endpoints of the segment, respectively;
<span class="inlinemediaobject"><span class="phrase">
$w_a$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$w_b$
</span></span> are the clip <span class="inlinemediaobject"><span class="phrase">
$w$
</span></span>
coordinates of the starting and ending endpoints of the segments,
respectively.
However, depth values for lines <span class="normative">must</span> be interpolated by</p><div class="equation"><a id="line_noperspective_interpolation"></a><p class="title"><strong>Equation 24.2. line_noperspective_interpolation</strong></p><div class="equation-contents"><div class="mediaobject"><span class="phrase">\[ z = (1-t) z_a + t z_b \]</span></div></div></div><br class="equation-break" /><p>where <span class="inlinemediaobject"><span class="phrase">
$z_a$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$z_b$
</span></span> are the depth values of the
starting and ending endpoints of the segment, respectively.</p><p>The <span class="strong"><strong><code class="code">NoPerspective</code></strong></span> and <span class="strong"><strong><code class="code">Flat</code></strong></span>
<a class="link" href="#shaders-interpolation-decorations" title="8.11. Interpolation Decorations">interpolation decorations</a> <span class="normative">can</span> be used
with fragment shader inputs to declare how they are interpolated.
When neither decoration is applied, interpolation is performed as described
in <a class="xref" href="#line_perspective_interpolation" title="Equation 24.1. line_perspective_interpolation">Equation line_perspective_interpolation</a>.
When the <span class="strong"><strong><code class="code">NoPerspective</code></strong></span> decoration is used, interpolation is performed
in the same fashion as for depth values, as described in
<a class="xref" href="#line_noperspective_interpolation" title="Equation 24.2. line_noperspective_interpolation">Equation line_noperspective_interpolation</a>.
When the <span class="strong"><strong><code class="code">Flat</code></strong></span> decoration is used, no interpolation is performed, and
outputs are taken from the corresponding input value of the
<a class="link" href="#vertexpostproc-flatshading" title="23.1. Flat Shading">provoking vertex</a> corresponding to that
primitive.</p><p>The above description documents the preferred method of line rasterization,
and <span class="normative">must</span> be used when the implementation advertises the <em class="parameter"><code>strictLines</code></em>
limit in <code class="code"><a class="link" href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code> as <code class="code">VK_TRUE</code>.</p><p>When <em class="parameter"><code>strictLines</code></em> is <code class="code">VK_FALSE</code>, the edges of the lines are
generated as a parallelogram surrounding the original line.
The major axis is chosen by noting the axis in which there is the greatest
distance between the line start and end points.
If the difference is equal in both directions then the X axis is chosen as
the major axis.
Edges 2 and 3 are aligned to the minor axis and are centered on the
endpoints of the line as in <a class="xref" href="#fig-non-strict-lines" title="Figure 24.1. Non strict lines">Figure 24.1, “Non strict lines”</a>, and each is
<em class="parameter"><code>lineWidth</code></em> long.
Edges 0 and 1 are parallel to the line and connect the endpoints of edges 2
and 3.
Coverage bits that correspond to sample points that intersect the
parallelogram are 1, other coverage bits are 0.</p><p>Samples that fall exactly on the edge of the parallelogram follow the
polygon rasterization rules.</p><p>Interpolation occurs as if the parallelogram was decomposed into two
triangles where each pair of vertices at each end of the line has identical
attributes.</p><div class="figure"><a id="fig-non-strict-lines"></a><p class="title"><strong>Figure 24.1. Non strict lines</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/non_strict_lines.svg" align="middle" width="800" alt="images/non_strict_lines.svg" /></div></div></div><br class="figure-break" /></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="primsrast-polygons"></a>24.7. Polygons</h2></div></div></div><p>A polygon results from the decomposition of a triangle strip, triangle fan
or a series of independent triangles.
Like points and line segments, polygon rasterization is controlled by
several variables in the <code class="code"><a class="link" href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>
structure.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="primsrast-polygons-basic"></a>24.7.1. Basic Polygon Rasterization</h3></div></div></div><p>The first step of polygon rasterization is to determine whether the triangle
is <span class="emphasis"><em>back-facing</em></span> or <span class="emphasis"><em>front-facing</em></span>.
This determination is made based on the sign of the (clipped or unclipped)
polygon’s area computed in framebuffer coordinates.
One way to compute this area is:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\[
  a = -{1 \over 2}\sum_{i=0}^{n-1}
        x_f^i y_f^{i \oplus 1} -
        x_f^{i \oplus 1} y_f^i
\]</span></div></div><p>where <span class="inlinemediaobject"><span class="phrase">
$x_f^i$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$y_f^i$
</span></span> are the <span class="inlinemediaobject"><span class="phrase">
$x$
</span></span>
and <span class="inlinemediaobject"><span class="phrase">
$y$
</span></span> framebuffer coordinates of the <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span>th vertex
of the <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span>-vertex polygon (vertices are numbered starting at
zero for the purposes of this computation) and <span class="inlinemediaobject"><span class="phrase">
$i \oplus 1$
</span></span> is
<span class="inlinemediaobject"><span class="phrase">
$(i + 1)~ \textrm{mod}~ n$
</span></span>.</p><p>The interpretation of the sign of <span class="inlinemediaobject"><span class="phrase">
$a$
</span></span> is determined by the
<code class="code"><a class="link" href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>::<em class="parameter"><code>frontFace</code></em> property of
the currently active pipeline, which takes the following values:</p><p><a id="VkFrontFace"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkFrontFace {
    VK_FRONT_FACE_COUNTER_CLOCKWISE = 0,
    VK_FRONT_FACE_CLOCKWISE = 1,
} VkFrontFace;</pre><p>
</p><p>If <em class="parameter"><code>frontFace</code></em> is set to <code class="code">VK_FRONT_FACE_COUNTER_CLOCKWISE</code>, a
triangle with positive area is considered front-facing.
If it is set to <code class="code">VK_FRONT_FACE_CLOCKWISE</code>, a triangle with negative area
is considered front-facing.
Any triangle which is not front-facing is back-facing, including zero-area
triangles.</p><p>Once the orientation of triangles is determined, they are culled according
to the setting of the
<code class="code"><a class="link" href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>::<em class="parameter"><code>cullMode</code></em> property of the
currently active pipeline, which takes the following values:</p><p><a id="VkCullModeFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkCullModeFlagBits {
    VK_CULL_MODE_NONE = 0,
    VK_CULL_MODE_FRONT_BIT = 0x00000001,
    VK_CULL_MODE_BACK_BIT = 0x00000002,
    VK_CULL_MODE_FRONT_AND_BACK = 0x00000003,
} VkCullModeFlagBits;</pre><p>
</p><p>If the <em class="parameter"><code>cullMode</code></em> is set to <code class="code">VK_CULL_MODE_NONE</code> no triangles are
discarded, if it is set to <code class="code">VK_CULL_MODE_FRONT_BIT</code> front-facing
triangles are discarded, if it is set to <code class="code">VK_CULL_MODE_BACK_BIT</code> then
back-facing triangles are discarded and if it is set to
<code class="code">VK_CULL_MODE_FRONT_AND_BACK</code> then all triangles are discarded.
Following culling, fragments are produced for any triangles which have not
been discarded.</p><p>The rule for determining which fragments are produced by polygon
rasterization is called <span class="emphasis"><em>point sampling</em></span>.
The two-dimensional projection obtained by taking the x and y framebuffer
coordinates of the polygon’s vertices is formed.
Fragments are produced for any pixels for which any sample points lie inside
of this polygon.
Coverage bits that correspond to sample points that satisfy the point
sampling criteria are 1, other coverage bits are 0.
Special treatment is given to a sample whose sample location lies on a
polygon edge.
In such a case, if two polygons lie on either side of a common edge (with
identical endpoints) on which a sample point lies, then exactly one of the
polygons <span class="normative">must</span> result in a covered sample for that fragment during
rasterization.
As for the data associated with each fragment produced by rasterizing a
polygon, we begin by specifying how these values are produced for fragments
in a triangle.
Define <span class="emphasis"><em>barycentric coordinates</em></span> for a triangle.
Barycentric coordinates are a set of three numbers, <span class="inlinemediaobject"><span class="phrase">
$a$
</span></span>,
<span class="inlinemediaobject"><span class="phrase">
$b$
</span></span>, and <span class="inlinemediaobject"><span class="phrase">
$c$
</span></span>, each in the range <span class="inlinemediaobject"><span class="phrase">
$\lbrack
0, 1\rbrack$
</span></span>, with <span class="inlinemediaobject"><span class="phrase">
$a + b + c = 1$
</span></span>.
These coordinates uniquely specify any point <span class="inlinemediaobject"><span class="phrase">
$p$
</span></span> within the
triangle or on the triangle’s boundary as</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\[ p = ap_a + bp_b + cp_c \]</span></div></div><p>where <span class="inlinemediaobject"><span class="phrase">
$p_a$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$p_b$
</span></span>, and <span class="inlinemediaobject"><span class="phrase">
$p_c$
</span></span> are the
vertices of the triangle.
<span class="inlinemediaobject"><span class="phrase">
$a$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$b$
</span></span>, and <span class="inlinemediaobject"><span class="phrase">
$c$
</span></span> are determined by:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\[
    a = {{\rm A}(p p_b p_c) \over {\rm A}(p_a p_b p_c)}, \quad
    b = {{\rm A}(p p_a p_c) \over {\rm A}(p_a p_b p_c)}, \quad
    c = {{\rm A}(p p_a p_b) \over {\rm A}(p_a p_b p_c)},
\]</span></div></div><p>where <span class="inlinemediaobject"><span class="phrase">
$A(lmn)$
</span></span> denotes the area in framebuffer coordinates of
the triangle with vertices <span class="inlinemediaobject"><span class="phrase">
$l$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$m$
</span></span>, and
<span class="inlinemediaobject"><span class="phrase">
$n$
</span></span>.</p><p>Denote an associated datum at <span class="inlinemediaobject"><span class="phrase">
$p_a$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$p_b$
</span></span>, or
<span class="inlinemediaobject"><span class="phrase">
$p_c$
</span></span> as <span class="inlinemediaobject"><span class="phrase">
$f_a$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$f_b$
</span></span>, or
<span class="inlinemediaobject"><span class="phrase">
$f_c$
</span></span>, respectively.
Then the value <span class="inlinemediaobject"><span class="phrase">
$f$
</span></span> of a datum at a fragment produced by
rasterizing a triangle is given by:</p><div class="equation"><a id="triangle_perspective_interpolation"></a><p class="title"><strong>Equation 24.3. triangle_perspective_interpolation</strong></p><div class="equation-contents"><div class="mediaobject"><span class="phrase">\[
  f = {{a{f_a / w_a} + b{f_b / w_b} + c{f_c / w_c}} \over
       {a / w_a} + {b / w_b} + {c / w_c}}
\]</span></div></div></div><br class="equation-break" /><p>where <span class="inlinemediaobject"><span class="phrase">
$w_a$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$w_b$
</span></span>, and <span class="inlinemediaobject"><span class="phrase">
$w_c$
</span></span> are the
clip <span class="inlinemediaobject"><span class="phrase">
$w$
</span></span> coordinates of <span class="inlinemediaobject"><span class="phrase">
$p_a$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$p_b$
</span></span>,
and <span class="inlinemediaobject"><span class="phrase">
$p_c$
</span></span>, respectively.
<span class="inlinemediaobject"><span class="phrase">
$a$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$b$
</span></span>, and <span class="inlinemediaobject"><span class="phrase">
$c$
</span></span> are the barycentric
coordinates of the location at which the data are produced - this <span class="normative">must</span> be a
pixel center or the location of a sample.
When <em class="parameter"><code>rasterizationSamples</code></em> is <code class="code">VK_SAMPLE_COUNT_1_BIT</code>, the pixel
center <span class="normative">must</span> be used.
Depth values for triangles <span class="normative">must</span> be interpolated by</p><div class="equation"><a id="triangle_noperspective_interpolation"></a><p class="title"><strong>Equation 24.4. triangle_noperspective_interpolation</strong></p><div class="equation-contents"><div class="mediaobject"><span class="phrase">\[ z = a z_a + b z_b + c z_c \]</span></div></div></div><br class="equation-break" /><p>where <span class="inlinemediaobject"><span class="phrase">
$z_a$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$z_b$
</span></span>, and <span class="inlinemediaobject"><span class="phrase">
$z_c$
</span></span> are the
depth values of <span class="inlinemediaobject"><span class="phrase">
$p_a$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$p_b$
</span></span>, and <span class="inlinemediaobject"><span class="phrase">
$p_c$
</span></span>,
respectively.</p><p>The <span class="strong"><strong><code class="code">NoPerspective</code></strong></span> and <span class="strong"><strong><code class="code">Flat</code></strong></span>
<a class="link" href="#shaders-interpolation-decorations" title="8.11. Interpolation Decorations">interpolation decorations</a> <span class="normative">can</span> be used
with fragment shader inputs to declare how they are interpolated.
When neither decoration is applied, interpolation is performed as described
in <a class="xref" href="#triangle_perspective_interpolation" title="Equation 24.3. triangle_perspective_interpolation">Equation triangle_perspective_interpolation</a>.
When the <span class="strong"><strong><code class="code">NoPerspective</code></strong></span> decoration is used, interpolation is performed
in the same fashion as for depth values, as described in
<a class="xref" href="#triangle_noperspective_interpolation" title="Equation 24.4. triangle_noperspective_interpolation">Equation triangle_noperspective_interpolation</a>.
When the <span class="strong"><strong><code class="code">Flat</code></strong></span> decoration is used, no interpolation is performed, and
outputs are taken from the corresponding input value of the
<a class="link" href="#vertexpostproc-flatshading" title="23.1. Flat Shading">provoking vertex</a> corresponding to that
primitive.</p><p>For a polygon with more than three edges, such as are produced by clipping a
triangle, a convex combination of the values of the datum at the polygon’s
vertices <span class="normative">must</span> be used to obtain the value assigned to each fragment
produced by the rasterization algorithm.
That is, it <span class="normative">must</span> be the case that at every fragment</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\[ f = \sum_{i=1}^{n} a_i f_i \]</span></div></div><p>where <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> is the number of vertices in the polygon and
<span class="inlinemediaobject"><span class="phrase">
$f_i$
</span></span> is the value of <span class="inlinemediaobject"><span class="phrase">
$f$
</span></span> at vertex <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span>.
For each <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$0 \leq a_i \leq 1$
</span></span> and
<span class="inlinemediaobject"><span class="phrase">
$\sum_{i=1}^{n}a_i = 1$
</span></span>.
The values of <span class="inlinemediaobject"><span class="phrase">
$a_i$
</span></span> <span class="normative">may</span> differ from fragment to fragment, but
at vertex <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$a_i = 1$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$a_j = 0$
</span></span>
for <span class="inlinemediaobject"><span class="phrase">
$j \neq i$
</span></span>.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>One algorithm that achieves the required behavior is to triangulate a
polygon (without adding any vertices) and then treat each triangle
individually as already discussed.
A scan-line rasterizer that linearly interpolates data along each edge and
then linearly interpolates data across each horizontal span from edge to
edge also satisfies the restrictions (in this case, the numerator and
denominator of equation <a class="xref" href="#triangle_perspective_interpolation" title="Equation 24.3. triangle_perspective_interpolation">Equation triangle_perspective_interpolation</a> are iterated
independently and a division performed for each fragment).</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="primsrast-polygonmode"></a>24.7.2. Polygon Mode</h3></div></div></div><p>The method of rasterization for polygons is determined by the
<code class="code"><a class="link" href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>::<em class="parameter"><code>polygonMode</code></em> property of
the currently active pipeline, which takes the following values:</p><p><a id="VkPolygonMode"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkPolygonMode {
    VK_POLYGON_MODE_FILL = 0,
    VK_POLYGON_MODE_LINE = 1,
    VK_POLYGON_MODE_POINT = 2,
} VkPolygonMode;</pre><p>
</p><p>The <em class="parameter"><code>polygonMode</code></em> selects which method of rasterization is used for
polygons.
If <em class="parameter"><code>polygonMode</code></em> is <code class="code">VK_POLYGON_MODE_POINT</code>, then the vertices of
polygons are treated, for rasterization purposes, as if they had been drawn
as points.
<code class="code">VK_POLYGON_MODE_LINE</code> causes polygon edges to be drawn as line
segments.
<code class="code">VK_POLYGON_MODE_FILL</code> causes polygons to render using the polygon
rasterization rules in this section.</p><p>Note that these modes affect only the final rasterization of polygons: in
particular, a polygon’s vertices are shaded and the polygon is clipped and
possibly culled before these modes are applied.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="primsrast-depthbias"></a>24.7.3. Depth Bias</h3></div></div></div><p>The depth values of all fragments generated by the rasterization of a
polygon <span class="normative">can</span> be offset by a single value that is computed for that polygon.
This behavior is controlled by the <em class="parameter"><code>depthBiasEnable</code></em>,
<em class="parameter"><code>depthBiasConstantFactor</code></em>, <em class="parameter"><code>depthBiasClamp</code></em>, and
<em class="parameter"><code>depthBiasSlopeFactor</code></em> members of
<code class="code"><a class="link" href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></code>, or by the corresponding
parameters to the <span class="strong"><strong><code class="code">vkCmdSetDepthBias</code></strong></span> command if depth bias state is
dynamic.</p><p><a id="vkCmdSetDepthBias"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdSetDepthBias(
    VkCommandBuffer                             commandBuffer,
    float                                       depthBiasConstantFactor,
    float                                       depthBiasClamp,
    float                                       depthBiasSlopeFactor);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>depthBiasConstantFactor</code></em> is a scalar factor controlling the
    constant depth value added to each fragment.
</li><li class="listitem">
<em class="parameter"><code>depthBiasClamp</code></em> is the maximum (or minimum) depth bias of a
    fragment.
</li><li class="listitem">
<em class="parameter"><code>depthBiasSlopeFactor</code></em> is a scalar factor applied to a fragment’s
    slope in depth bias calculations.
</li></ul></div><p>If <em class="parameter"><code>depthBiasEnable</code></em> is <code class="code">VK_FALSE</code>, no depth bias is applied and the
fragment’s depth values are unchanged.</p><p><em class="parameter"><code>depthBiasSlopeFactor</code></em> scales the maximum depth slope of the polygon,
and <em class="parameter"><code>depthBiasConstantFactor</code></em> scales an implementation-dependent
constant that relates to the usable resolution of the depth buffer.
The resulting values are summed to produce the depth bias value which is
then clamped to a minimum or maximum value specified by
<em class="parameter"><code>depthBiasClamp</code></em>.
<em class="parameter"><code>depthBiasSlopeFactor</code></em>, <em class="parameter"><code>depthBiasConstantFactor</code></em>, and
<em class="parameter"><code>depthBiasClamp</code></em> <span class="normative">can</span> each be positive, negative, or zero.</p><p>The maximum depth slope <span class="inlinemediaobject"><span class="phrase">
$m$
</span></span> of a triangle is</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{equation}
m = \sqrt{ \left({\partial z_f \over \partial x_f}\right)^2
 +  \left({\partial z_f \over  \partial y_f}\right)^2}
\end{equation}</span></div></div><p>where <span class="inlinemediaobject"><span class="phrase">
$(x_f, y_f, z_f)$
</span></span> is a point on the triangle.
<span class="inlinemediaobject"><span class="phrase">
$m$
</span></span> <span class="normative">may</span> be approximated as</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{equation}
m = \max\left( \left| {\partial z_f \over \partial x_f} \right|,
\left| {\partial z_f \over \partial y_f} \right| \right).
\end{equation}</span></div></div><p>The minimum resolvable difference <span class="inlinemediaobject"><span class="phrase">
$r$
</span></span> is an
implementation-dependent parameter that depends on the depth buffer
representation.
It is the smallest difference in framebuffer coordinate <span class="inlinemediaobject"><span class="phrase">
$z$
</span></span>
values that is guaranteed to remain distinct throughout polygon
rasterization and in the depth buffer.
All pairs of fragments generated by the rasterization of two polygons with
otherwise identical vertices, but <span class="inlinemediaobject"><span class="phrase">
$z_f$
</span></span> values that differ by
$r$, will have distinct depth values.</p><p>For fixed-point depth buffer representations, <span class="inlinemediaobject"><span class="phrase">
$r$
</span></span> is constant
throughout the range of the entire depth buffer.
For floating-point depth buffers, there is no single minimum resolvable
difference.
In this case, the minimum resolvable difference for a given polygon is
dependent on the maximum exponent, <span class="inlinemediaobject"><span class="phrase">
$e$
</span></span>, in the range of
<span class="inlinemediaobject"><span class="phrase">
$z$
</span></span> values spanned by the primitive.
If <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> is the number of bits in the floating-point mantissa, the
minimum resolvable difference, <span class="inlinemediaobject"><span class="phrase">
$r$
</span></span>, for the given primitive is
defined as</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{equation}
r = 2^{e - n}
\end{equation}</span></div></div><p>If no depth buffer is present, <span class="inlinemediaobject"><span class="phrase">
$r$
</span></span> is undefined.</p><p>The bias value <span class="inlinemediaobject"><span class="phrase">
$o$
</span></span> for a polygon is</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{equation}
o =
\begin{cases}
    m \times depthBiasSlopeFactor +
         r \times depthBiasConstantFactor  &amp; depthBiasClamp = 0\ or\ NaN \\
    \min(m \times depthBiasSlopeFactor +
         r \times depthBiasConstantFactor,
         depthBiasClamp)                   &amp; depthBiasClamp &gt; 0  \\
    \max(m \times depthBiasSlopeFactor +
         r \times depthBiasConstantFactor,
         depthBiasClamp)                   &amp; depthBiasClamp &lt; 0  \\
\end{cases}
\end{equation}</span></div></div><p><span class="inlinemediaobject"><span class="phrase">
$m$
</span></span> is computed as described above.
If the depth buffer uses a fixed-point representation, <span class="inlinemediaobject"><span class="phrase">
$m$
</span></span> is a
function of depth values in the range <span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span>, and
<span class="inlinemediaobject"><span class="phrase">
$o$
</span></span> is applied to depth values in the same range.</p><p>For fixed-point depth buffers, fragment depth values are always limited to
the range <span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span> by clamping after depth bias addition is
performed.
Fragment depth values are clamped even when the depth buffer uses a
floating-point representation.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
The currently bound graphics pipeline <span class="normative">must</span> have been created with the <code class="code">VK_DYNAMIC_STATE_DEPTH_BIAS</code> dynamic state enabled
</li><li class="listitem">
If the <a class="link" href="#features-features-depthBiasClamp">depth bias clamping</a> feature is not enabled, <em class="parameter"><code>depthBiasClamp</code></em> <span class="normative">must</span> be <span class="strong"><strong><code class="code">0</code></strong></span>.0
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="fragops"></a>Chapter 25. Fragment Operations</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fragops-early"></a>25.1. Early Per-Fragment Tests</h2></div></div></div><p>Once fragments are produced by rasterization, a number of per-fragment
operations are performed prior to fragment shader execution.
If a fragment is discarded during any of these operations, it will not be
processed by any subsequent stage, including fragment shader execution.</p><p>Two fragment operations are performed in the following order:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
the scissor test (see <a class="link" href="#fragops-scissor" title="25.2. Scissor Test">Scissor Test</a>)
</li><li class="listitem">
multisample fragment operations (see <a class="link" href="#fragops-samplemask" title="25.3. Sample Mask">Sample Mask</a>)
</li></ul></div><p>If early per-fragment operations are <a class="link" href="#shaders-fragment-earlytest" title="8.9.2. Early Fragment Tests">enabled by the fragment shader</a>, these tests are also performed in the following
order:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
the depth bounds tests (see <a class="link" href="#fragops-dbt" title="25.8. Depth Bounds Test">Depth Bounds Tests</a>)
</li><li class="listitem">
the stencil test (see <a class="link" href="#fragops-stencil" title="25.9. Stencil Test">Stencil Test</a>)
</li><li class="listitem">
the depth test (see <a class="link" href="#fragops-depth" title="25.10. Depth Test">Depth Test</a>)
</li><li class="listitem">
sample counting (see <a class="link" href="#fragops-samplecount" title="25.11. Sample Counting">Sample Counting</a>)
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fragops-scissor"></a>25.2. Scissor Test</h2></div></div></div><p>The scissor test determines if a fragment’s framebuffer coordinates
<span class="inlinemediaobject"><span class="phrase">
$(x_f,y_f)$
</span></span> lie within the scissor rectangle corresponding to
the viewport index (see <a class="link" href="#vertexpostproc-viewport" title="23.5. Controlling the Viewport">Controlling the Viewport</a>) used by the primitive that generated the fragment.
If the pipeline state object is created without
<code class="code">VK_DYNAMIC_STATE_SCISSOR</code> enabled then the scissor rectangles are set
by the <code class="code"><a class="link" href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></code> state of the pipeline state
object.
Otherwise, to dynamically set the scissor rectangles call:</p><p><a id="vkCmdSetScissor"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdSetScissor(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstScissor,
    uint32_t                                    scissorCount,
    const VkRect2D*                             pScissors);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>firstScissor</code></em> is the index of the first scissor whose state is
    updated by the command.
</li><li class="listitem">
<em class="parameter"><code>scissorCount</code></em> is the number of scissors whose rectangles are
    updated by the command.
</li><li class="listitem">
<em class="parameter"><code>pScissors</code></em> is a pointer to an array of <code class="code"><a class="link" href="#VkRect2D">VkRect2D</a></code> structures
    defining scissor rectangles.
</li></ul></div><p>The scissor rectangles taken from element <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> of <em class="parameter"><code>pScissors</code></em>
replace the current state for the scissor index
<span class="inlinemediaobject"><span class="phrase">
$\mathit{firstScissor}+i$
</span></span>, for <span class="inlinemediaobject"><span class="phrase">
$i$
</span></span> in
<span class="inlinemediaobject"><span class="phrase">
$[0, scissorCount)$
</span></span>.</p><p>Each scissor rectangle is described by a <code class="code"><a class="link" href="#VkRect2D">VkRect2D</a></code> structure, with the
<em class="parameter"><code>offset.x</code></em> and <em class="parameter"><code>offset.y</code></em> values determining the upper left corner
of the scissor rectangle, and the <em class="parameter"><code>extent.width</code></em> and <em class="parameter"><code>extent.height</code></em>
values determining the size in pixels.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pScissors</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>scissorCount</code></em> <code class="code">VkRect2D</code> structures
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
<em class="parameter"><code>scissorCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
The currently bound graphics pipeline <span class="normative">must</span> have been created with the <code class="code">VK_DYNAMIC_STATE_SCISSOR</code> dynamic state enabled
</li><li class="listitem">
<em class="parameter"><code>firstScissor</code></em> <span class="normative">must</span> be less than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxViewports</code></em>
</li><li class="listitem">
The sum of <em class="parameter"><code>firstScissor</code></em> and <em class="parameter"><code>scissorCount</code></em> <span class="normative">must</span> be between <code class="literal">1</code> and <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxViewports</code></em>, inclusive
</li><li class="listitem">
The <em class="parameter"><code>x</code></em> and <em class="parameter"><code>y</code></em> members of <em class="parameter"><code>offset</code></em> <span class="normative">must</span> be greater than or equal to <code class="literal">0</code>
</li><li class="listitem">
Evaluation of (<em class="parameter"><code>offset.pname</code></em>:x + <em class="parameter"><code>extent.width</code></em>) <span class="normative">must</span> not cause a signed integer addition overflow
</li><li class="listitem">
Evaluation of (<em class="parameter"><code>offset.pname</code></em>:y + <em class="parameter"><code>extent.height</code></em>) <span class="normative">must</span> not cause a signed integer addition overflow
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>If <span class="inlinemediaobject"><span class="phrase">
$\mathit{offset.x} \le x_f \lt \mathit{offset.x} +
\mathit{extent.width}$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$\mathit{offset.y} \le y_f \lt
\mathit{offset.y} + \mathit{extent.height}$
</span></span> for the selected scissor
rectangle, then the scissor test passes.
Otherwise, the test fails and the fragment is discarded.
For points, lines, and polygons, the scissor rectangle for a primitive is
selected in the same manner as the viewport (see
<a class="link" href="#vertexpostproc-viewport" title="23.5. Controlling the Viewport">Controlling the Viewport</a>).
The scissor rectangles only apply to drawing commands, not to other commands
like clears or copies.</p><p>It is legal for <span class="inlinemediaobject"><span class="phrase">
$\mathit{offset.x} + \mathit{extent.width}$
</span></span> or
<span class="inlinemediaobject"><span class="phrase">
$\mathit{offset.y} + \mathit{extent.height}$
</span></span> to exceed the
dimensions of the framebuffer - the scissor test still applies as defined
above.
Rasterization does not produce fragments outside of the framebuffer, so such
fragments never have the scissor test performed on them.</p><p>The scissor test is always performed.
Applications <span class="normative">can</span> effectively disable the scissor test by specifying a
scissor rectangle that encompasses the entire framebuffer.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fragops-samplemask"></a>25.3. Sample Mask</h2></div></div></div><p>This step modifies fragment coverage values based on the values in the
<em class="parameter"><code>pSampleMask</code></em> array member of
<code class="code"><a class="link" href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code>, as described previously in
section <a class="xref" href="#pipelines-graphics" title="9.2. Graphics Pipelines">Section 9.2, “Graphics Pipelines”</a>.</p><p><em class="parameter"><code>pSampleMask</code></em> contains an array of static coverage information that is
<span class="strong"><strong><code class="code">ANDed</code></strong></span> with the coverage information generated during rasterization.
Bits that are zero disable coverage for the corresponding sample.
Bit B of mask word M corresponds to sample <span class="inlinemediaobject"><span class="phrase">
$32 \times M + B$
</span></span>.
The array is sized to a length of <span class="inlinemediaobject"><span class="phrase">
$\lceil{rasterizationSamples /
32}\rceil$
</span></span> words.
If <em class="parameter"><code>pSampleMask</code></em> is <code class="literal">NULL</code>, it is treated as if the mask has all bits
enabled, i.e.
no coverage is removed from fragments.</p><p>The elements of the sample mask array are of type <code class="code">VkSampleMask</code>,
each representing 32 bits of coverage information:</p><p><a id="VkSampleMask"></a><strong> </strong>
</p><pre class="programlisting">typedef uint32_t VkSampleMask;</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fragops-early-mode"></a>25.4. Early Fragment Test Mode</h2></div></div></div><p>The depth bounds test, stencil test, depth test, and occlusion query sample
counting are performed before fragment shading if and only if early fragment
tests are enabled by the fragment shader (see
<a class="link" href="#shaders-fragment-earlytest" title="8.9.2. Early Fragment Tests">Early Fragment Tests</a>).
When early per-fragment operations are enabled, these operations are
performed prior to fragment shader execution, and the stencil buffer, depth
buffer, and occlusion query sample counts will be updated accordingly; these
operations will not be performed again after fragment shader execution.</p><p>If a pipeline’s fragment shader has early fragment tests disabled, these
operations are performed only after fragment program execution, in the order
described below.
If a pipeline does not contain a fragment shader, these operations are
performed only once.</p><p>If early fragment tests are enabled, any depth value computed by the
fragment shader has no effect.
Additionally, the depth test (including depth writes), stencil test
(including stencil writes) and sample counting operations are performed even
for fragments or samples that would be discarded after fragment shader
execution due to per-fragment operations such as alpha-to-coverage tests, or
due to the fragment being discarded by the shader itself.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fragops-late"></a>25.5. Late Per-Fragment Tests</h2></div></div></div><p>After programmable fragment processing, per-fragment operations are
performed before blending and color output to the framebuffer.</p><p>A fragment is produced by rasterization with framebuffer coordinates of
<span class="inlinemediaobject"><span class="phrase">
$(x_f,y_f)$
</span></span> and depth <span class="inlinemediaobject"><span class="phrase">
$z$
</span></span>, as described in
<a class="link" href="#primsrast" title="Chapter 24. Rasterization">Rasterization</a>.
The fragment is then modified by programmable fragment processing, which
adds associated data as described in <a class="link" href="#shaders" title="Chapter 8. Shaders">Shaders</a>.
The fragment is then further modified, and possibly discarded by the late
per-fragment operations described in this chapter.
Finally, if the fragment was not discarded, it is used to update the
framebuffer at the fragment’s framebuffer coordinates for any samples that
remain covered.</p><p>The depth bounds test, stencil test, and depth test are performed for each
pixel sample, rather than just once for each fragment.
Stencil and depth operations are performed for a pixel sample only if that
sample’s fragment coverage bit is a value of 1 when the fragment executes
the corresponding stage of the graphics pipeline.
If the corresponding coverage bit is 0, no operations are performed for that
sample.
Failure of the depth bounds, stencil, or depth test results in termination
of the processing of that sample by means of disabling coverage for that
sample, rather than discarding of the fragment.
If, at any point, a fragment’s coverage becomes zero for all samples, then
the fragment is discarded.
All operations are performed on the depth and stencil values stored in the
depth/stencil attachment of the framebuffer.
The contents of the color attachments are not modified at this point.</p><p>The depth bounds test, stencil test, depth test, and occlusion query
operations described in <a class="link" href="#fragops-dbt" title="25.8. Depth Bounds Test">Depth Bounds Test</a>,
<a class="link" href="#fragops-stencil" title="25.9. Stencil Test">Stencil Test</a>, <a class="link" href="#fragops-depth" title="25.10. Depth Test">Depth Test</a>,
<a class="link" href="#fragops-samplecount" title="25.11. Sample Counting">Sample Counting</a> are instead performed prior to
fragment processing, as described in <a class="link" href="#fragops-early-mode" title="25.4. Early Fragment Test Mode">Early Fragment Test Mode</a>, if requested by the fragment shader.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fragops-covg"></a>25.6. Multisample Coverage</h2></div></div></div><p>If a fragment shader is active and its entry point’s interface includes a
built-in output variable decorated with <span class="strong"><strong><code class="code">SampleMask</code></strong></span>, the fragment
coverage is <span class="strong"><strong><code class="code">ANDed</code></strong></span> with the bits of the sample mask to generate a new
fragment coverage value.
If such a fragment shader did not assign a value to <span class="strong"><strong><code class="code">SampleMask</code></strong></span> due to
flow of control, the value <span class="strong"><strong><code class="code">ANDed</code></strong></span> with the fragment coverage is
undefined.
If no fragment shader is active, or if the active fragment shader does not
include <span class="strong"><strong><code class="code">SampleMask</code></strong></span> in its interface, the fragment coverage is not
modified.</p><p>Next, the fragment alpha and coverage values are modified based on the
<em class="parameter"><code>alphaToCoverageEnable</code></em> and <em class="parameter"><code>alphaToOneEnable</code></em> members of the
<code class="code"><a class="link" href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></code> structure.</p><p>All alpha values in this section refer only to the alpha component of the
fragment shader output that has a <span class="strong"><strong><code class="code">Location</code></strong></span> and <span class="strong"><strong><code class="code">Index</code></strong></span> decoration of
zero (see the <a class="link" href="#interfaces-fragmentoutput" title="14.3. Fragment Output Interface">Fragment Output Interface</a>
section).
If that shader output has an integer or unsigned integer type, then these
operations are skipped.</p><p>If <em class="parameter"><code>alphaToCoverageEnable</code></em> is enabled, a temporary coverage value is
generated where each bit is determined by the fragment’s alpha value.
The temporary coverage value is then ANDed with the fragment coverage value
to generate a new fragment coverage value.</p><p>No specific algorithm is specified for converting the alpha value to a
temporary coverage mask.
It is intended that the number of 1’s in this value be proportional to the
alpha value (clamped to <span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span>), with all 1’s corresponding to
a value of 1.0 and all 0’s corresponding to 0.0.
The algorithm <span class="normative">may</span> be different at different pixel locations.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Using different algorithms at different pixel location <span class="normative">may</span> help to avoid
artifacts caused by regular coverage sample locations.</p></td></tr></table></div><p>Next, if <em class="parameter"><code>alphaToOneEnable</code></em> is enabled, each alpha value is replaced by
the maximum representable alpha value for fixed-point color buffers, or by
1.0 for floating-point buffers.
Otherwise, the alpha values are not changed.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fragops-ds-state"></a>25.7. Depth and Stencil Operations</h2></div></div></div><p>Pipeline state controlling the <a class="link" href="#fragops-dbt" title="25.8. Depth Bounds Test">depth bounds tests</a>,
<a class="link" href="#fragops-stencil" title="25.9. Stencil Test">stencil test</a>, and <a class="link" href="#fragops-depth" title="25.10. Depth Test">depth test</a> is
specified through the members of the
<code class="code">VkPipelineDepthStencilStateCreateInfo</code> structure.</p><p>The <code class="code">VkPipelineDepthStencilStateCreateInfo</code> structure is defined as:</p><p><a id="VkPipelineDepthStencilStateCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPipelineDepthStencilStateCreateInfo {
    VkStructureType                           sType;
    const void*                               pNext;
    VkPipelineDepthStencilStateCreateFlags    flags;
    VkBool32                                  depthTestEnable;
    VkBool32                                  depthWriteEnable;
    VkCompareOp                               depthCompareOp;
    VkBool32                                  depthBoundsTestEnable;
    VkBool32                                  stencilTestEnable;
    VkStencilOpState                          front;
    VkStencilOpState                          back;
    float                                     minDepthBounds;
    float                                     maxDepthBounds;
} VkPipelineDepthStencilStateCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>depthTestEnable</code></em> controls whether <a class="link" href="#fragops-depth" title="25.10. Depth Test">depth testing</a>
    is enabled.
</li><li class="listitem">
<em class="parameter"><code>depthWriteEnable</code></em> controls whether <a class="link" href="#fragops-depth-write">depth     writes</a> are enabled.
</li><li class="listitem">
<em class="parameter"><code>depthCompareOp</code></em> is the comparison operator used in the
    <a class="link" href="#fragops-depth" title="25.10. Depth Test">depth test</a>.
</li><li class="listitem">
<em class="parameter"><code>depthBoundsTestEnable</code></em> controls whether <a class="link" href="#fragops-dbt" title="25.8. Depth Bounds Test">depth bounds     testing</a> is enabled.
</li><li class="listitem">
<em class="parameter"><code>stencilTestEnable</code></em> controls whether <a class="link" href="#fragops-stencil" title="25.9. Stencil Test">stencil     testing</a> is enabled.
</li><li class="listitem">
<em class="parameter"><code>front</code></em> and <em class="parameter"><code>back</code></em> control the parameters of the
    <a class="link" href="#fragops-stencil" title="25.9. Stencil Test">stencil test</a>.
</li><li class="listitem">
<em class="parameter"><code>minDepthBounds</code></em> and <em class="parameter"><code>maxDepthBounds</code></em> define the range of values
    used in the <a class="link" href="#fragops-dbt" title="25.8. Depth Bounds Test">depth bounds test</a>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_PIPELINE_DEPTH_STENCIL_STATE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>depthCompareOp</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkCompareOp">VkCompareOp</a></code> value
</li><li class="listitem">
<em class="parameter"><code>front</code></em> <span class="normative">must</span> be a valid <code class="code">VkStencilOpState</code> structure
</li><li class="listitem">
<em class="parameter"><code>back</code></em> <span class="normative">must</span> be a valid <code class="code">VkStencilOpState</code> structure
</li><li class="listitem">
If the <a class="link" href="#features-features-depthBounds">depth bounds testing</a> feature is not enabled, <em class="parameter"><code>depthBoundsTestEnable</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fragops-dbt"></a>25.8. Depth Bounds Test</h2></div></div></div><p>The depth bounds test conditionally disables coverage of a sample based on
the outcome of a comparison between the value <span class="inlinemediaobject"><span class="phrase">
$z_a$
</span></span> in the depth
attachment at location <span class="inlinemediaobject"><span class="phrase">
$(x_f,y_f)$
</span></span> (for the appropriate sample)
and a range of values.
The test is enabled or disabled by the <em class="parameter"><code>depthBoundsTestEnable</code></em> member of
<code class="code"><a class="link" href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code>: If the pipeline state object is
created without the <code class="code">VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> dynamic state
enabled then the range of values used in the depth bounds test are defined
by the <em class="parameter"><code>minDepthBounds</code></em> and <em class="parameter"><code>maxDepthBounds</code></em> members of the
<code class="code"><a class="link" href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code> structure.
Otherwise, to dynamically set the depth bounds range values call:</p><p><a id="vkCmdSetDepthBounds"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdSetDepthBounds(
    VkCommandBuffer                             commandBuffer,
    float                                       minDepthBounds,
    float                                       maxDepthBounds);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>minDepthBounds</code></em> is the lower bound of the range of depth values
    used in the depth bounds test.
</li><li class="listitem">
<em class="parameter"><code>maxDepthBounds</code></em> is the upper bound of the range.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
The currently bound graphics pipeline <span class="normative">must</span> have been created with the <code class="code">VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> dynamic state enabled
</li><li class="listitem">
<em class="parameter"><code>minDepthBounds</code></em> <span class="normative">must</span> be between <code class="literal">0.0</code> and <code class="literal">1.0</code>, inclusive
</li><li class="listitem">
<em class="parameter"><code>maxDepthBounds</code></em> <span class="normative">must</span> be between <code class="literal">0.0</code> and <code class="literal">1.0</code>, inclusive
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>If <span class="inlinemediaobject"><span class="phrase">
$\mathit{minDepthBounds} \leq z_a \leq
\mathit{maxDepthBounds}$
</span></span>, then the depth bounds test passes.
Otherwise, the test fails and the sample’s coverage bit is cleared in the
fragment.
If there is no depth framebuffer attachment or if the depth bounds test is
disabled, it is as if the depth bounds test always passes.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fragops-stencil"></a>25.9. Stencil Test</h2></div></div></div><p>The stencil test conditionally disables coverage of a sample based on the
outcome of a comparison between the stencil value in the depth/stencil
attachment at location <span class="inlinemediaobject"><span class="phrase">
$(x_f,y_f)$
</span></span> (for the appropriate sample)
and a reference value.
The stencil test also updates the value in the stencil attachment, depending
on the test state, the stencil value and the stencil write masks.
The test is enabled or disabled by the <em class="parameter"><code>stencilTestEnable</code></em> member of
<code class="code"><a class="link" href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code>.</p><p>When disabled, the stencil test and associated modifications are not made,
and the sample’s coverage is not modified.</p><p>The stencil test is controlled with the <em class="parameter"><code>front</code></em> and <em class="parameter"><code>back</code></em> members
of <code class="code">VkPipelineDepthStencilStateCreateInfo</code> which are of type
<code class="code">VkStencilOpState</code>.</p><p>The <code class="code">VkStencilOpState</code> structure is defined as:</p><p><a id="VkStencilOpState"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkStencilOpState {
    VkStencilOp    failOp;
    VkStencilOp    passOp;
    VkStencilOp    depthFailOp;
    VkCompareOp    compareOp;
    uint32_t       compareMask;
    uint32_t       writeMask;
    uint32_t       reference;
} VkStencilOpState;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>failOp</code></em> is the action performed on samples that fail the stencil
    test.
</li><li class="listitem">
<em class="parameter"><code>passOp</code></em> is the action performed on samples that pass both the depth
    and stencil tests.
</li><li class="listitem">
<em class="parameter"><code>depthFailOp</code></em> is the action performed on samples that pass the
    stencil test and fail the depth test.
</li><li class="listitem">
<em class="parameter"><code>compareOp</code></em> is the comparison operator used in the stencil test.
</li><li class="listitem">
<em class="parameter"><code>compareMask</code></em> selects the bits of the unsigned integer stencil
    values participating in the stencil test.
</li><li class="listitem">
<em class="parameter"><code>writeMask</code></em> selects the bits of the unsigned integer stencil values
    updated by the stencil test in the stencil framebuffer attachment.
</li><li class="listitem">
<em class="parameter"><code>reference</code></em> is an integer reference value that is used in the
    unsigned stencil comparison.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>failOp</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkStencilOp">VkStencilOp</a></code> value
</li><li class="listitem">
<em class="parameter"><code>passOp</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkStencilOp">VkStencilOp</a></code> value
</li><li class="listitem">
<em class="parameter"><code>depthFailOp</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkStencilOp">VkStencilOp</a></code> value
</li><li class="listitem">
<em class="parameter"><code>compareOp</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkCompareOp">VkCompareOp</a></code> value
</li></ul></div></div><p>There are two sets of stencil-related state, the front stencil state set and
the back stencil state set.
Stencil tests and writes use the front set of stencil state when processing
fragments rasterized from non-polygon primitives (points and lines) and
front-facing polygon primitives while the back set of stencil state is used
when processing fragments rasterized from back-facing polygon primitives.
For the purposes of stencil testing, a primitive is still considered a
polygon even if the polygon is to be rasterized as points or lines due to
the current <code class="code"><a class="link" href="#VkPolygonMode">VkPolygonMode</a></code>.
Whether a polygon is front- or back-facing is determined in the same manner
used for face culling (see <a class="link" href="#primsrast-polygons-basic" title="24.7.1. Basic Polygon Rasterization">Basic Polygon Rasterization</a>).</p><p>The operation of the stencil test is also affected by the <em class="parameter"><code>compareMask</code></em>,
<em class="parameter"><code>writeMask</code></em>, and <em class="parameter"><code>reference</code></em> members of <code class="code">VkStencilOpState</code> set
in the pipeline state object if the pipeline state object is created without
the <code class="code">VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code>,
<code class="code">VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code>, and
<code class="code">VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> dynamic states enabled,
respectively.</p><p>If the pipeline state object is created with the
<code class="code">VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code> dynamic state enabled, then to
dynamically set the stencil compare mask call:</p><p><a id="vkCmdSetStencilCompareMask"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdSetStencilCompareMask(
    VkCommandBuffer                             commandBuffer,
    VkStencilFaceFlags                          faceMask,
    uint32_t                                    compareMask);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>faceMask</code></em> is a bitmask specifying the set of stencil state for
    which to update the compare mask.
    Bits which <span class="normative">can</span> be set include:
</p><p><a id="VkStencilFaceFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkStencilFaceFlagBits {
    VK_STENCIL_FACE_FRONT_BIT = 0x00000001,
    VK_STENCIL_FACE_BACK_BIT = 0x00000002,
    VK_STENCIL_FRONT_AND_BACK = 0x00000003,
} VkStencilFaceFlagBits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_STENCIL_FACE_FRONT_BIT</code> indicates that only the front set of
     stencil state is updated.
</li><li class="listitem">
<code class="code">VK_STENCIL_FACE_BACK_BIT</code> indicates that only the back set of
     stencil state is updated.
</li><li class="listitem">
<code class="code">VK_STENCIL_FRONT_AND_BACK</code> is the combination of
     <code class="code">VK_STENCIL_FACE_FRONT_BIT</code> and <code class="code">VK_STENCIL_FACE_BACK_BIT</code> and
     indicates that both sets of stencil state are updated.
</li></ul></div></li><li class="listitem">
<em class="parameter"><code>compareMask</code></em> is the new value to use as the stencil compare mask.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>faceMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>faceMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
The currently bound graphics pipeline <span class="normative">must</span> have been created with the <code class="code">VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code> dynamic state enabled
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>If the pipeline state object is created with the
<code class="code">VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> dynamic state enabled, then to
dynamically set the stencil write mask call:</p><p><a id="vkCmdSetStencilWriteMask"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdSetStencilWriteMask(
    VkCommandBuffer                             commandBuffer,
    VkStencilFaceFlags                          faceMask,
    uint32_t                                    writeMask);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>faceMask</code></em> is a bitmask of <code class="code"><a class="link" href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a></code> specifying
    the set of stencil state for which to update the write mask, as
    described above for <code class="code"><a class="link" href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a></code>.
</li><li class="listitem">
<em class="parameter"><code>writeMask</code></em> is the new value to use as the stencil write mask.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>faceMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>faceMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
The currently bound graphics pipeline <span class="normative">must</span> have been created with the <code class="code">VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> dynamic state enabled
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p>If the pipeline state object is created with the
<code class="code">VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> dynamic state enabled, then to
dynamically set the stencil reference value call:</p><p><a id="vkCmdSetStencilReference"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdSetStencilReference(
    VkCommandBuffer                             commandBuffer,
    VkStencilFaceFlags                          faceMask,
    uint32_t                                    reference);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>faceMask</code></em> is a bitmask of <code class="code"><a class="link" href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a></code> specifying
    the set of stencil state for which to update the reference value, as
    described above for <code class="code"><a class="link" href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a></code>.
</li><li class="listitem">
<em class="parameter"><code>reference</code></em> is the new value to use as the stencil reference value.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>faceMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>faceMask</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
The currently bound graphics pipeline <span class="normative">must</span> have been created with the <code class="code">VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> dynamic state enabled
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><p><em class="parameter"><code>reference</code></em> is an integer reference value that is used in the unsigned
stencil comparison.
Stencil comparison clamps the reference value to <span class="inlinemediaobject"><span class="phrase">
$[0,2^s-1]$
</span></span>,
where <span class="inlinemediaobject"><span class="phrase">
$s$
</span></span> is the number of bits in the stencil framebuffer
attachment.
The <span class="inlinemediaobject"><span class="phrase">
$s$
</span></span> least significant bits of <em class="parameter"><code>compareMask</code></em> are bitwise
<span class="strong"><strong><code class="code">ANDed</code></strong></span> with both the reference and the stored stencil value, and the
resulting masked values are those that participate in the comparison
controlled by <em class="parameter"><code>compareOp</code></em>.
Let <span class="inlinemediaobject"><span class="phrase">
$R$
</span></span> be the masked reference value and <span class="inlinemediaobject"><span class="phrase">
$S$
</span></span> be the
masked stored stencil value.</p><p><em class="parameter"><code>compareOp</code></em> is a symbolic constant that determines the stencil
comparison function:</p><p><a id="VkCompareOp"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkCompareOp {
    VK_COMPARE_OP_NEVER = 0,
    VK_COMPARE_OP_LESS = 1,
    VK_COMPARE_OP_EQUAL = 2,
    VK_COMPARE_OP_LESS_OR_EQUAL = 3,
    VK_COMPARE_OP_GREATER = 4,
    VK_COMPARE_OP_NOT_EQUAL = 5,
    VK_COMPARE_OP_GREATER_OR_EQUAL = 6,
    VK_COMPARE_OP_ALWAYS = 7,
} VkCompareOp;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_COMPARE_OP_NEVER</code>: the test never passes.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_LESS</code>: the test passes when <span class="inlinemediaobject"><span class="phrase">
$R \lt S$
</span></span>.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_EQUAL</code>: the test passes when <span class="inlinemediaobject"><span class="phrase">
$R = S$
</span></span>.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_LESS_OR_EQUAL</code>: the test passes when <span class="inlinemediaobject"><span class="phrase">
$R
    \leq S$
</span></span>.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_GREATER</code>: the test passes when <span class="inlinemediaobject"><span class="phrase">
$R \gt S$
</span></span>.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_NOT_EQUAL</code>: the test passes when <span class="inlinemediaobject"><span class="phrase">
$R \neq
    S$
</span></span>.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_GREATER_OR_EQUAL</code>: the test passes when <span class="inlinemediaobject"><span class="phrase">
$R
    \geq S$
</span></span>.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_ALWAYS</code>: the test always passes.
</li></ul></div><p>As described earlier, the <em class="parameter"><code>failOp</code></em>, <em class="parameter"><code>passOp</code></em>, and <em class="parameter"><code>depthFailOp</code></em>
members of <code class="code"><a class="link" href="#VkStencilOpState">VkStencilOpState</a></code> indicate what happens to the stored
stencil value if this or certain subsequent tests fail or pass.
Each enum is of type <code class="code"><a class="link" href="#VkStencilOp">VkStencilOp</a></code>, which is defined as:</p><p><a id="VkStencilOp"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkStencilOp {
    VK_STENCIL_OP_KEEP = 0,
    VK_STENCIL_OP_ZERO = 1,
    VK_STENCIL_OP_REPLACE = 2,
    VK_STENCIL_OP_INCREMENT_AND_CLAMP = 3,
    VK_STENCIL_OP_DECREMENT_AND_CLAMP = 4,
    VK_STENCIL_OP_INVERT = 5,
    VK_STENCIL_OP_INCREMENT_AND_WRAP = 6,
    VK_STENCIL_OP_DECREMENT_AND_WRAP = 7,
} VkStencilOp;</pre><p>
</p><p>The possible values are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_STENCIL_OP_KEEP</code> keeps the current value.
</li><li class="listitem">
<code class="code">VK_STENCIL_OP_ZERO</code> sets the value to 0.
</li><li class="listitem">
<code class="code">VK_STENCIL_OP_REPLACE</code> sets the value to <em class="parameter"><code>reference</code></em>.
</li><li class="listitem">
<code class="code">VK_STENCIL_OP_INCREMENT_AND_CLAMP</code> increments the current value and
    clamps to the maximum representable unsigned value.
</li><li class="listitem">
<code class="code">VK_STENCIL_OP_DECREMENT_AND_CLAMP</code> decrements the current value and
    clamps to 0.
</li><li class="listitem">
<code class="code">VK_STENCIL_OP_INVERT</code> bitwise-inverts the current value.
</li><li class="listitem">
<code class="code">VK_STENCIL_OP_INCREMENT_AND_WRAP</code> increments the current value and
    wraps to 0 when the maximum value would have been exceeded.
</li><li class="listitem">
<code class="code">VK_STENCIL_OP_DECREMENT_AND_WRAP</code> decrements the current value and
    wraps to the maximum possible value when the value would go below 0.
</li></ul></div><p>For purposes of increment and decrement, the stencil bits are considered as
an unsigned integer.</p><p>If the stencil test fails, the sample’s coverage bit is cleared in the
fragment.
If there is no stencil framebuffer attachment, stencil modification <span class="normative">cannot</span>
occur, and it is as if the stencil tests always pass.</p><p>If the stencil test passes, the <em class="parameter"><code>writeMask</code></em> member of the
<code class="code"><a class="link" href="#VkStencilOpState">VkStencilOpState</a></code> structures controls how the updated stencil value is
written to the stencil framebuffer attachment.</p><p>The least significant <span class="inlinemediaobject"><span class="phrase">
$s$
</span></span> bits of <em class="parameter"><code>writeMask</code></em>, where
<span class="inlinemediaobject"><span class="phrase">
$s$
</span></span> is the number of bits in the stencil framebuffer attachment,
specify an integer mask.
Where a <span class="inlinemediaobject"><span class="phrase">
$1$
</span></span> appears in this mask, the corresponding bit in the
stencil value in the depth/stencil attachment is written; where a
<span class="inlinemediaobject"><span class="phrase">
$0$
</span></span> appears, the bit is not written.
The <em class="parameter"><code>writeMask</code></em> value uses either the front-facing or back-facing state
based on the facing-ness of the fragment.
Fragments generated by front-facing primitives use the front mask and
fragments generated by back-facing primitives use the back mask.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fragops-depth"></a>25.10. Depth Test</h2></div></div></div><p>The depth test conditionally disables coverage of a sample based on the
outcome of a comparison between the fragment’s depth value at the sample
location and the sample’s depth value in the depth/stencil attachment at
location <span class="inlinemediaobject"><span class="phrase">
$(x_f,y_f)$
</span></span>.
The comparison is enabled or disabled with the <em class="parameter"><code>depthTestEnable</code></em> member
of the <code class="code"><a class="link" href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code> structure.
When disabled, the depth comparison and subsequent possible updates to the
value of the depth component of the depth/stencil attachment are bypassed
and the fragment is passed to the next operation.
The stencil value, however, <span class="normative">can</span> be modified as indicated above as if the
depth test passed.
If enabled, the comparison takes place and the depth/stencil attachment
value <span class="normative">can</span> subsequently be modified.</p><p>The comparison is specified with the <em class="parameter"><code>depthCompareOp</code></em> member of
<code class="code"><a class="link" href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code>.
Let <span class="inlinemediaobject"><span class="phrase">
$z_f$
</span></span> be the incoming fragment’s depth value for a sample,
and let <span class="inlinemediaobject"><span class="phrase">
$z_a$
</span></span> be the depth/stencil attachment value in memory
for that sample.
The depth test passes under the following conditions:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_COMPARE_OP_NEVER</code>: the test never passes.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_LESS</code>: the test passes when <span class="inlinemediaobject"><span class="phrase">
$z_f \lt
    z_a$
</span></span>.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_EQUAL</code>: the test passes when <span class="inlinemediaobject"><span class="phrase">
$z_f = z_a$
</span></span>.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_LESS_OR_EQUAL</code>: the test passes when <span class="inlinemediaobject"><span class="phrase">
$z_f
    \leq z_a$
</span></span>.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_GREATER</code>: the test passes when <span class="inlinemediaobject"><span class="phrase">
$z_f \gt
    z_a$
</span></span>.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_NOT_EQUAL</code>: the test passes when <span class="inlinemediaobject"><span class="phrase">
$z_f \neq
    z_a$
</span></span>.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_GREATER_OR_EQUAL</code>: the test passes when
    <span class="inlinemediaobject"><span class="phrase">
$z_f \geq z_a$
</span></span>.
</li><li class="listitem">
<code class="code">VK_COMPARE_OP_ALWAYS</code>: the test always passes.
</li></ul></div><p>If depth clamping (see <a class="link" href="#vertexpostproc-clipping" title="23.2. Primitive Clipping">Primitive Clipping</a>) is
enabled, before the incoming fragment’s <span class="inlinemediaobject"><span class="phrase">
$z_f$
</span></span> is compared to
<span class="inlinemediaobject"><span class="phrase">
$z_a$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$z_f$
</span></span> is clamped to <span class="inlinemediaobject"><span class="phrase">
$[\min(n,f),
\max(n,f)]$
</span></span>, where <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$f$
</span></span> are the
<em class="parameter"><code>minDepth</code></em> and <em class="parameter"><code>maxDepth</code></em> depth range values of the viewport used by
this fragment, respectively.</p><p>If the depth test fails, the sample’s coverage bit is cleared in the
fragment.
The stencil value at the sample’s location is updated according to the
function currently in effect for depth test failure.</p><p><a id="fragops-depth-write"></a>If the depth test passes, the sample’s (possibly clamped) <span class="inlinemediaobject"><span class="phrase">
$z_f$
</span></span>
value is conditionally written to the depth framebuffer attachment based on
the <em class="parameter"><code>depthWriteEnable</code></em> member of
<code class="code"><a class="link" href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></code>.
If <em class="parameter"><code>depthWriteEnable</code></em> is <code class="code">VK_TRUE</code> the value is written, and if it
is <code class="code">VK_FALSE</code> the value is not written.
The stencil value at the sample’s location is updated according to the
function currently in effect for depth test success.</p><p>If there is no depth framebuffer attachment, it is as if the depth test
always passes.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fragops-samplecount"></a>25.11. Sample Counting</h2></div></div></div><p>Occlusion queries use query pool entries to track the number of samples that
pass all the per-fragment tests.
The mechanism of collecting an occlusion query value is described in
<a class="link" href="#queries-occlusion" title="16.3. Occlusion Queries">Occlusion Queries</a>.</p><p>The occlusion query sample counter increments by one for each sample with a
coverage value of 1 in each fragment that survives all the per-fragment
tests, including scissor, sample mask, alpha to coverage, stencil, and depth
tests.</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="framebuffer"></a>Chapter 26. The Framebuffer</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="framebuffer-blending"></a>26.1. Blending</h2></div></div></div><p>Blending combines the incoming “source” fragment’s R, G, B, and A values
with the “destination” R, G, B, and A values of each sample stored in the
framebuffer at the fragment’s <span class="inlinemediaobject"><span class="phrase">
$(x_f,y_f)$
</span></span> location.
Blending is performed for each pixel sample, rather than just once for each
fragment.</p><p>Source and destination values are combined according to the
<a class="link" href="#framebuffer-blendoperations" title="26.1.3. Blend Operations">blend operation</a>, quadruplets of source and
destination weighting factors determined by the <a class="link" href="#framebuffer-blendfactors" title="26.1.1. Blend Factors">blend factors</a>, and a <a class="link" href="#framebuffer-blendconstants">blend constant</a>, to
obtain a new set of R, G, B, and A values, as described below.</p><p>Blending is computed and applied separately to each color attachment used by
the subpass, with separate controls for each attachment.</p><p>Prior to performing the blend operation, signed and unsigned normalized
fixed-point color components undergo an implied conversion to floating-point
as specified by <a class="link" href="#fundamentals-fixedfpconv" title="2.8.1. Conversion from Normalized Fixed-Point to Floating-Point">Conversion from Normalized Fixed-Point to Floating-Point</a>.
Blending computations are treated as if carried out in floating-point, and
will be performed with a precision and dynamic range no lower than that used
to represent destination components.</p><p>Blending applies only to fixed-point and floating-point color attachments.
If the color attachment has an integer format, blending is not applied.</p><p>The pipeline blend state is included in the
<code class="code">VkPipelineColorBlendStateCreateInfo</code> structure during graphics pipeline
creation:</p><p>The <code class="code">VkPipelineColorBlendStateCreateInfo</code> structure is defined as:</p><p><a id="VkPipelineColorBlendStateCreateInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPipelineColorBlendStateCreateInfo {
    VkStructureType                               sType;
    const void*                                   pNext;
    VkPipelineColorBlendStateCreateFlags          flags;
    VkBool32                                      logicOpEnable;
    VkLogicOp                                     logicOp;
    uint32_t                                      attachmentCount;
    const VkPipelineColorBlendAttachmentState*    pAttachments;
    float                                         blendConstants[4];
} VkPipelineColorBlendStateCreateInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>logicOpEnable</code></em> controls whether to apply <a class="link" href="#framebuffer-logicop" title="26.2. Logical Operations">Logical Operations</a>.
</li><li class="listitem">
<em class="parameter"><code>logicOp</code></em> selects which logical operation to apply.
</li><li class="listitem">
<em class="parameter"><code>attachmentCount</code></em> is the number of
    <code class="code">VkPipelineColorBlendAttachmentState</code> elements in
    <em class="parameter"><code>pAttachments</code></em>.
    This value <span class="normative">must</span> equal the <em class="parameter"><code>colorAttachmentCount</code></em> for the subpass in
    which this pipeline is used.
</li><li class="listitem">
<em class="parameter"><code>pAttachments</code></em>: is a pointer to array of per target attachment
    states.
</li><li class="listitem">
<em class="parameter"><code>blendConstants</code></em> is an array of four values used as the R, G, B, and
    A components of the blend constant that are used in blending, depending
    on the <a class="link" href="#framebuffer-blendfactors" title="26.1.1. Blend Factors">blend factor</a>.
</li></ul></div><p>Each element of the <em class="parameter"><code>pAttachments</code></em> array is a
<code class="code"><a class="link" href="#VkPipelineColorBlendAttachmentState">VkPipelineColorBlendAttachmentState</a></code> structure specifying per-target
blending state for each individual color attachment.
If the <a class="link" href="#features-features-independentBlend">independent blending</a> feature
is not enabled on the device, all <code class="code"><a class="link" href="#VkPipelineColorBlendAttachmentState">VkPipelineColorBlendAttachmentState</a></code>
elements in the <em class="parameter"><code>pAttachments</code></em> array <span class="normative">must</span> be identical.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
If <em class="parameter"><code>attachmentCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pAttachments</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>attachmentCount</code></em> valid <code class="code">VkPipelineColorBlendAttachmentState</code> structures
</li><li class="listitem">
If the <a class="link" href="#features-features-independentBlend">independent blending</a> feature is not enabled, all elements of <em class="parameter"><code>pAttachments</code></em> <span class="normative">must</span> be identical
</li><li class="listitem">
If the <a class="link" href="#features-features-logicOp">logic operations</a> feature is not enabled, <em class="parameter"><code>logicOpEnable</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>
</li><li class="listitem">
If <em class="parameter"><code>logicOpEnable</code></em> is <code class="code">VK_TRUE</code>, <em class="parameter"><code>logicOp</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkLogicOp">VkLogicOp</a></code> value
</li></ul></div></div><p>The <code class="code">VkPipelineColorBlendAttachmentState</code> structure is defined as:</p><p><a id="VkPipelineColorBlendAttachmentState"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPipelineColorBlendAttachmentState {
    VkBool32                 blendEnable;
    VkBlendFactor            srcColorBlendFactor;
    VkBlendFactor            dstColorBlendFactor;
    VkBlendOp                colorBlendOp;
    VkBlendFactor            srcAlphaBlendFactor;
    VkBlendFactor            dstAlphaBlendFactor;
    VkBlendOp                alphaBlendOp;
    VkColorComponentFlags    colorWriteMask;
} VkPipelineColorBlendAttachmentState;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>blendEnable</code></em> controls whether blending is enabled for the
    corresponding color attachment.
    If blending is not enabled, the source fragment’s color for that
    attachment is passed through unmodified.
</li><li class="listitem">
<em class="parameter"><code>srcColorBlendFactor</code></em> selects which blend factor is used to
    determine the source factors <span class="inlinemediaobject"><span class="phrase">
$S_r,S_g,S_b$
</span></span>.
</li><li class="listitem">
<em class="parameter"><code>dstColorBlendFactor</code></em> selects which blend factor is used to
    determine the destination factors <span class="inlinemediaobject"><span class="phrase">
$D_r,D_g,D_b$
</span></span>.
</li><li class="listitem">
<em class="parameter"><code>colorBlendOp</code></em> selects which blend operation is used to calculate
    the RGB values to write to the color attachment.
</li><li class="listitem">
<em class="parameter"><code>srcAlphaBlendFactor</code></em> selects which blend factor is used to
    determine the source factor <span class="inlinemediaobject"><span class="phrase">
$S_a$
</span></span>.
</li><li class="listitem">
<em class="parameter"><code>dstAlphaBlendFactor</code></em> selects which blend factor is used to
    determine the destination factor <span class="inlinemediaobject"><span class="phrase">
$D_a$
</span></span>.
</li><li class="listitem">
<em class="parameter"><code>alphaBlendOp</code></em> selects which blend operation is use to calculate the
    alpha values to write to the color attachment.
</li><li class="listitem">
<em class="parameter"><code>colorWriteMask</code></em> is a bitmask selecting which of the R, G, B, and/or
    A components are enabled for writing, as described later in this
    chapter.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>srcColorBlendFactor</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkBlendFactor">VkBlendFactor</a></code> value
</li><li class="listitem">
<em class="parameter"><code>dstColorBlendFactor</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkBlendFactor">VkBlendFactor</a></code> value
</li><li class="listitem">
<em class="parameter"><code>colorBlendOp</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkBlendOp">VkBlendOp</a></code> value
</li><li class="listitem">
<em class="parameter"><code>srcAlphaBlendFactor</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkBlendFactor">VkBlendFactor</a></code> value
</li><li class="listitem">
<em class="parameter"><code>dstAlphaBlendFactor</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkBlendFactor">VkBlendFactor</a></code> value
</li><li class="listitem">
<em class="parameter"><code>alphaBlendOp</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkBlendOp">VkBlendOp</a></code> value
</li><li class="listitem">
<em class="parameter"><code>colorWriteMask</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkColorComponentFlagBits">VkColorComponentFlagBits</a></code> values
</li><li class="listitem">
If the <a class="link" href="#features-features-dualSrcBlend">dual source blending</a> feature is not enabled, <em class="parameter"><code>srcColorBlendFactor</code></em> <span class="normative">must</span> not be <code class="code">VK_BLEND_FACTOR_SRC1_COLOR</code>, <code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>, <code class="code">VK_BLEND_FACTOR_SRC1_ALPHA</code>, or <code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-dualSrcBlend">dual source blending</a> feature is not enabled, <em class="parameter"><code>dstColorBlendFactor</code></em> <span class="normative">must</span> not be <code class="code">VK_BLEND_FACTOR_SRC1_COLOR</code>, <code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>, <code class="code">VK_BLEND_FACTOR_SRC1_ALPHA</code>, or <code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-dualSrcBlend">dual source blending</a> feature is not enabled, <em class="parameter"><code>srcAlphaBlendFactor</code></em> <span class="normative">must</span> not be <code class="code">VK_BLEND_FACTOR_SRC1_COLOR</code>, <code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>, <code class="code">VK_BLEND_FACTOR_SRC1_ALPHA</code>, or <code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code>
</li><li class="listitem">
If the <a class="link" href="#features-features-dualSrcBlend">dual source blending</a> feature is not enabled, <em class="parameter"><code>dstAlphaBlendFactor</code></em> <span class="normative">must</span> not be <code class="code">VK_BLEND_FACTOR_SRC1_COLOR</code>, <code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>, <code class="code">VK_BLEND_FACTOR_SRC1_ALPHA</code>, or <code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="framebuffer-blendfactors"></a>26.1.1. Blend Factors</h3></div></div></div><p>The source and destination color and alpha blending factors are selected
from the enum:</p><p><a id="VkBlendFactor"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkBlendFactor {
    VK_BLEND_FACTOR_ZERO = 0,
    VK_BLEND_FACTOR_ONE = 1,
    VK_BLEND_FACTOR_SRC_COLOR = 2,
    VK_BLEND_FACTOR_ONE_MINUS_SRC_COLOR = 3,
    VK_BLEND_FACTOR_DST_COLOR = 4,
    VK_BLEND_FACTOR_ONE_MINUS_DST_COLOR = 5,
    VK_BLEND_FACTOR_SRC_ALPHA = 6,
    VK_BLEND_FACTOR_ONE_MINUS_SRC_ALPHA = 7,
    VK_BLEND_FACTOR_DST_ALPHA = 8,
    VK_BLEND_FACTOR_ONE_MINUS_DST_ALPHA = 9,
    VK_BLEND_FACTOR_CONSTANT_COLOR = 10,
    VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR = 11,
    VK_BLEND_FACTOR_CONSTANT_ALPHA = 12,
    VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA = 13,
    VK_BLEND_FACTOR_SRC_ALPHA_SATURATE = 14,
    VK_BLEND_FACTOR_SRC1_COLOR = 15,
    VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR = 16,
    VK_BLEND_FACTOR_SRC1_ALPHA = 17,
    VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA = 18,
} VkBlendFactor;</pre><p>
</p><p>The semantics of each enum value is described in the table below:</p><div class="table"><a id="id-1.28.2.17.5"></a><p class="title"><strong>Table 26.1. Blend Factors</strong></p><div class="table-contents"><table summary="Blend Factors" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">VkBlendFactor                                  </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> RGB Blend Factors (<span class="inlinemediaobject"><span class="phrase">
$S_r,S_g,S_b$
</span></span>) or (<span class="inlinemediaobject"><span class="phrase">
$D_r,D_g,D_b$
</span></span>) </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Alpha Blend Factor (<span class="inlinemediaobject"><span class="phrase">
$S_a$
</span></span> or <span class="inlinemediaobject"><span class="phrase">
$D_a$
</span></span>)</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_ZERO</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(0,0,0)$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$0$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_ONE</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(1,1,1)$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$1$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_SRC_COLOR</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(R_{s0},G_{s0},B_{s0})$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$A_{s0}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC_COLOR</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(1-R_{s0},1-G_{s0},1-B_{s0})$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$1-A_{s0}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_DST_COLOR</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(R_d,G_d,B_d)$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$A_d$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_ONE_MINUS_DST_COLOR</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(1-R_d,1-G_d,1-B_d)$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$1-A_d$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_SRC_ALPHA</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(A_{s0},A_{s0},A_{s0})$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$A_{s0}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC_ALPHA</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(1-A_{s0},1-A_{s0},1-A_{s0})$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$1-A_{s0}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_DST_ALPHA</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(A_d,A_d,A_d)$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$A_d$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_ONE_MINUS_DST_ALPHA</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(1-A_d,1-A_d,1-A_d)$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$1-A_d$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_CONSTANT_COLOR</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(R_c,G_c,B_c)$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$A_c$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(1-R_c,1-G_c,1-B_c)$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$1-A_c$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_CONSTANT_ALPHA</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(A_c,A_c,A_c)$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$A_c$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(1-A_c,1-A_c,1-A_c)$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$1-A_c$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_SRC_ALPHA_SATURATE</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(f,f,f); f=\min(A_{s0},1-A_d)$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$1$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_SRC1_COLOR</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(R_{s1},G_{s1},B_{s1})$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$A_{s1}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(1-R_{s1},1-G_{s1},1-B_{s1})$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$1-A_{s1}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_SRC1_ALPHA</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(A_{s1},A_{s1},A_{s1})$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$A_{s1}$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(1-A_{s1},1-A_{s1},1-A_{s1})$
</span></span></p></td><td style="" align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$1-A_{s1}$
</span></span></p></td></tr></tbody></table></div></div><br class="table-break" /><p>In this table, the following conventions are used:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$R_{s0},G_{s0},B_{s0}$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$A_{s0}$
</span></span> represent
    the first source color R, G, B, and A components, respectively, for the
    fragment output location corresponding to the color attachment being
    blended.
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$R_{s1},G_{s1},B_{s1}$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$A_{s1}$
</span></span> represent
    the second source color R, G, B, and A components, respectively, used in
    dual source blending modes, for the fragment output location
    corresponding to the color attachment being blended.
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$R_d,G_d,B_d$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$A_d$
</span></span> represent the R, G, B,
    and A components of the destination color.
    That is, the color currently in the corresponding color attachment for
    this fragment/sample.
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$R_c,G_c,B_c$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$A_c$
</span></span> represent the blend
    constant R, G, B, and A components, respectively.
</li></ul></div><p><a id="framebuffer-blendconstants"></a>If the pipeline state object is created without the
<code class="code">VK_DYNAMIC_STATE_BLEND_CONSTANTS</code> dynamic state enabled then the
“blend constant” <span class="inlinemediaobject"><span class="phrase">
$(R_c,G_c,B_c,A_c)$
</span></span> is specified via the
<em class="parameter"><code>blendConstants</code></em> member of <code class="code"><a class="link" href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a></code>.</p><p>Otherwise, to dynamically set and change the blend constant, call:</p><p><a id="vkCmdSetBlendConstants"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdSetBlendConstants(
    VkCommandBuffer                             commandBuffer,
    const float                                 blendConstants[4]);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>blendConstants</code></em> is an array of four values specifying the R, G, B,
    and A components of the blend constant color used in blending, depending
    on the <a class="link" href="#framebuffer-blendfactors" title="26.1.1. Blend Factors">blend factor</a>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
The currently bound graphics pipeline <span class="normative">must</span> have been created with the <code class="code">VK_DYNAMIC_STATE_BLEND_CONSTANTS</code> dynamic state enabled
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="framebuffer-dsb"></a>26.1.2. Dual-Source Blending</h3></div></div></div><p>Blend factors that use the secondary color input
<span class="inlinemediaobject"><span class="phrase">
$(R_{s1},G_{s1},B_{s1},A_{s1})$
</span></span>
(<code class="code">VK_BLEND_FACTOR_SRC1_COLOR</code>,
<code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
<code class="code">VK_BLEND_FACTOR_SRC1_ALPHA</code>, and
<code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code>) <span class="normative">may</span> consume hardware resources
that could otherwise be used for rendering to multiple color attachments.
Therefore, the number of color attachments that <span class="normative">can</span> be used in a
framebuffer <span class="normative">may</span> be lower when using dual-source blending.</p><p>Dual-source blending is only supported if the
<a class="link" href="#features-features-dualSrcBlend"><em class="parameter"><code>dualSrcBlend</code></em></a> feature is enabled.</p><p>The maximum number of color attachments that <span class="normative">can</span> be used in a subpass when
using dual-source blending functions is implementation-dependent and is
reported as the <em class="parameter"><code>maxFragmentDualSrcAttachments</code></em> member of
<code class="code">VkPhysicalDeviceLimits</code>.</p><p>When using a fragment shader with dual-source blending functions, the color
outputs are bound to the first and second inputs of the blender using the
<span class="strong"><strong><code class="code">Index</code></strong></span> decoration, as described in <a class="link" href="#interfaces-fragmentoutput" title="14.3. Fragment Output Interface">Fragment Output Interface</a>.
If the second color input to the blender is not written in the shader, or if
no output is bound to the second input of a blender, the result of the
blending operation is not defined.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="framebuffer-blendoperations"></a>26.1.3. Blend Operations</h3></div></div></div><p>Once the source and destination blend factors have been selected, they along
with the source and destination components are passed to the blending
operation.
The blending operations are selected from the following enum, with RGB and
alpha components potentially using different blend operations:</p><p><a id="VkBlendOp"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkBlendOp {
    VK_BLEND_OP_ADD = 0,
    VK_BLEND_OP_SUBTRACT = 1,
    VK_BLEND_OP_REVERSE_SUBTRACT = 2,
    VK_BLEND_OP_MIN = 3,
    VK_BLEND_OP_MAX = 4,
} VkBlendOp;</pre><p>
</p><p></p><p>The semantics of each enum value is described in the table below:</p><div class="table"><a id="id-1.28.2.19.6"></a><p class="title"><strong>Table 26.2. Blend Operations</strong></p><div class="table-contents"><table summary="Blend Operations" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">VkBlendOp                                   </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> RGB Components                    </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Alpha Component</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_OP_ADD</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$R=R_{s0}\times S_r+R_d\times D_r$
</span></span>
  <span class="inlinemediaobject"><span class="phrase">
$G=G_{s0}\times S_g+G_d\times D_g$
</span></span>
  <span class="inlinemediaobject"><span class="phrase">
$B=B_{s0}\times S_b+B_d\times D_b$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$A=A_{s0}\times S_a+A_d\times D_a$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_OP_SUBTRACT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$R=R_{s0}\times S_r-R_d\times D_r$
</span></span>
  <span class="inlinemediaobject"><span class="phrase">
$G=G_{s0}\times S_g-G_d\times D_g$
</span></span>
  <span class="inlinemediaobject"><span class="phrase">
$B=B_{s0}\times S_b-B_d\times D_b$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$A=A_{s0}\times S_a-A_d\times D_a$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_OP_REVERSE_SUBTRACT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$R=R_d\times D_r-R_{s0}\times S_r$
</span></span>
  <span class="inlinemediaobject"><span class="phrase">
$G=G_d\times D_g-G_{s0}\times S_g$
</span></span>
  <span class="inlinemediaobject"><span class="phrase">
$B=B_d\times D_b-B_{s0}\times S_b$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$A=A_d\times D_a-A_{s0}\times S_a$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_OP_MIN</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$R=\min(R_{s0},R_d)$
</span></span>
  <span class="inlinemediaobject"><span class="phrase">
$G=\min(G_{s0},G_d)$
</span></span>
  <span class="inlinemediaobject"><span class="phrase">
$B=\min(B_{s0},B_d)$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$A=\min(A_{s0},A_d)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_BLEND_OP_MAX</code></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$R=\max(R_{s0},R_d)$
</span></span>
  <span class="inlinemediaobject"><span class="phrase">
$G=\max(G_{s0},G_d)$
</span></span>
  <span class="inlinemediaobject"><span class="phrase">
$B=\max(B_{s0},B_d)$
</span></span></p></td><td style="" align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$A=\max(A_{s0},A_d)$
</span></span></p></td></tr></tbody></table></div></div><br class="table-break" /><p>In this table, the following conventions are used:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$R_{s0},G_{s0},B_{s0}$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$A_{s0}$
</span></span> represent
    the first source color R, G, B, and A components, respectively.
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$R_d,G_d,B_d$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$A_d$
</span></span> represent the R, G, B,
    and A components of the destination color.
    That is, the color currently in the corresponding color attachment for
    this fragment/sample.
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$S_r,S_g,S_b$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$S_a$
</span></span> represent the source
    blend factor R, G, B, and A components, respectively.
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$D_r,D_g,D_b$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$D_a$
</span></span> represent the
    destination blend factor R, G, B, and A components, respectively.
</li></ul></div><p>The blending operation produces a new set of values <span class="inlinemediaobject"><span class="phrase">
$R, G, B$
</span></span>
and <span class="inlinemediaobject"><span class="phrase">
$A$
</span></span>, which are written to the framebuffer attachment.
If blending is not enabled for this attachment, then <span class="inlinemediaobject"><span class="phrase">
$R, G, B$
</span></span>
and <span class="inlinemediaobject"><span class="phrase">
$A$
</span></span> are assigned <span class="inlinemediaobject"><span class="phrase">
$R_{s0},G_{s0},B_{s0}$
</span></span> and
<span class="inlinemediaobject"><span class="phrase">
$A_{s0}$
</span></span>, respectively.</p><p>If the color attachment is fixed-point, the components of the source and
destination values and blend factors are each clamped to
<span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span> or <span class="inlinemediaobject"><span class="phrase">
$[-1,1]$
</span></span> respectively for an unsigned
normalized or signed normalized color attachment prior to evaluating the
blend operations.
If the color attachment is floating-point, no clamping occurs.</p><p>The <em class="parameter"><code>colorWriteMask</code></em> member of <code class="code"><a class="link" href="#VkPipelineColorBlendAttachmentState">VkPipelineColorBlendAttachmentState</a></code>
determines whether the final color values <span class="inlinemediaobject"><span class="phrase">
$R, G, B$
</span></span> and
<span class="inlinemediaobject"><span class="phrase">
$A$
</span></span> are written to the framebuffer attachment.
<em class="parameter"><code>colorWriteMask</code></em> is any combination of the following bits:</p><p><a id="VkColorComponentFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkColorComponentFlagBits {
    VK_COLOR_COMPONENT_R_BIT = 0x00000001,
    VK_COLOR_COMPONENT_G_BIT = 0x00000002,
    VK_COLOR_COMPONENT_B_BIT = 0x00000004,
    VK_COLOR_COMPONENT_A_BIT = 0x00000008,
} VkColorComponentFlagBits;</pre><p>
</p><p>If <code class="code">VK_COLOR_COMPONENT_R_BIT</code> is set, then the <span class="inlinemediaobject"><span class="phrase">
$R$
</span></span> value is
written to color attachment for the appropriate sample, otherwise the value
in memory is unmodified.
The <code class="code">VK_COLOR_COMPONENT_G_BIT</code>, <code class="code">VK_COLOR_COMPONENT_B_BIT</code>, and
<code class="code">VK_COLOR_COMPONENT_A_BIT</code> bits similarly control writing of the
<span class="inlinemediaobject"><span class="phrase">
$G, B,$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$A$
</span></span> values.
The <em class="parameter"><code>colorWriteMask</code></em> is applied regardless of whether blending is
enabled.</p><p>If the numeric format of a framebuffer attachment uses sRGB encoding, the R,
G, and B destination color values (after conversion from fixed-point to
floating-point) are considered to be encoded for the sRGB color space and
hence are linearized prior to their use in blending.
Each R, G, and B component is converted from nonlinear to linear as
described in the “KHR_DF_TRANSFER_SRGB” section of the
<a class="link" href="#data-format">Khronos Data Format Specification</a>.
If the format is not sRGB, no linearization is performed.</p><p>If the numeric format of a framebuffer attachment uses sRGB encoding, then
the final R, G and B values are converted into the nonlinear sRGB
representation before being written to the framebuffer attachment as
described in the “KHR_DF_TRANSFER_SRGB” section of the Khronos Data Format
Specification.</p><p>If the framebuffer color attachment numeric format is not sRGB encoded then
the resulting <span class="inlinemediaobject"><span class="phrase">
$c_s$
</span></span> values for R, G and B are unmodified.
The value of A is never sRGB encoded.
That is, the alpha component is always stored in memory as linear.</p><p>If the framebuffer color attachment is <code class="code">VK_ATTACHMENT_UNUSED</code>, no writes
are performed through that attachment.
Framebuffer color attachments greater than or equal to
<code class="code">VkSubpassDescription</code>::<em class="parameter"><code>colorAttachmentCount</code></em> perform no writes.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="framebuffer-logicop"></a>26.2. Logical Operations</h2></div></div></div><p>The application <span class="normative">can</span> enable a <span class="emphasis"><em>logical operation</em></span> between the fragment’s
color values and the existing value in the framebuffer attachment.
This logical operation is applied prior to updating the framebuffer
attachment.
Logical operations are applied only for signed and unsigned integer and
normalized integer framebuffers.
Logical operations are not applied to floating-point or sRGB format color
attachments.</p><p>Logical operations are controlled by the <em class="parameter"><code>logicOpEnable</code></em> and
<em class="parameter"><code>logicOp</code></em> members of <code class="code"><a class="link" href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a></code>.
If <em class="parameter"><code>logicOpEnable</code></em> is <code class="code">VK_TRUE</code>, then a logical operation selected
by <em class="parameter"><code>logicOp</code></em> is applied between each color attachment and the fragment’s
corresponding output value, and blending of all attachments is treated as if
it were disabled.
Any attachments using color formats for which logical operations are not
supported simply pass through the color values unmodified.
The logical operation is applied independently for each of the red, green,
blue, and alpha components.
The <em class="parameter"><code>logicOp</code></em> is selected from the following operations:</p><p><a id="VkLogicOp"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkLogicOp {
    VK_LOGIC_OP_CLEAR = 0,
    VK_LOGIC_OP_AND = 1,
    VK_LOGIC_OP_AND_REVERSE = 2,
    VK_LOGIC_OP_COPY = 3,
    VK_LOGIC_OP_AND_INVERTED = 4,
    VK_LOGIC_OP_NO_OP = 5,
    VK_LOGIC_OP_XOR = 6,
    VK_LOGIC_OP_OR = 7,
    VK_LOGIC_OP_NOR = 8,
    VK_LOGIC_OP_EQUIVALENT = 9,
    VK_LOGIC_OP_INVERT = 10,
    VK_LOGIC_OP_OR_REVERSE = 11,
    VK_LOGIC_OP_COPY_INVERTED = 12,
    VK_LOGIC_OP_OR_INVERTED = 13,
    VK_LOGIC_OP_NAND = 14,
    VK_LOGIC_OP_SET = 15,
} VkLogicOp;</pre><p>
</p><p></p><p>The logical operations supported by Vulkan are summarized in the following
table in which</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$\lnot$
</span></span> is bitwise invert,
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$\land$
</span></span> is bitwise and,
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$\lor$
</span></span> is bitwise or,
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$\oplus$
</span></span> is bitwise exclusive or,
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$s$
</span></span> is the fragment’s <span class="inlinemediaobject"><span class="phrase">
$R_{s0}, G_{s0}, B_{s0}$
</span></span>
    or <span class="inlinemediaobject"><span class="phrase">
$A_{s0}$
</span></span> component value for the fragment output
    corresponding to the color attachment being updated, and
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$d$
</span></span> is the color attachment’s <span class="inlinemediaobject"><span class="phrase">
$R, G, B$
</span></span> or
    <span class="inlinemediaobject"><span class="phrase">
$A$
</span></span> component value:
</li></ul></div><div class="table"><a id="id-1.28.3.8"></a><p class="title"><strong>Table 26.3. Logical Operations</strong></p><div class="table-contents"><table summary="Logical Operations" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="75%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Mode                            </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Operation</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_CLEAR</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$0$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_AND</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$s \land d$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_AND_REVERSE</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$s \land \lnot d$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_COPY</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$s$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_AND_INVERTED</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$\lnot s \land d$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_NO_OP</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$d$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_XOR</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$s \oplus d$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_OR</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$s \lor d$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_NOR</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$\lnot (s \lor d)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_EQUIVALENT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$\lnot (s \oplus d)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_INVERT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$\lnot d$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_OR_REVERSE</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$s \lor \lnot d$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_COPY_INVERTED</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$\lnot s$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_OR_INVERTED</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$\lnot s \lor d$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_NAND</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$\lnot (s \land d)$
</span></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_LOGIC_OP_SET</code></p></td><td style="" align="left" valign="top"><p>all 1s</p></td></tr></tbody></table></div></div><br class="table-break" /><p>The result of the logical operation is then written to the color attachment
as controlled by the component write mask, described in
<a class="link" href="#framebuffer-blendoperations" title="26.1.3. Blend Operations">Blend Operations</a>.</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="dispatch"></a>Chapter 27. Dispatching Commands</h1></div></div></div><p><span class="emphasis"><em>Dispatching commands</em></span> (commands with <span class="strong"><strong><code class="code">Dispatch</code></strong></span> in the name) provoke
work in a compute pipeline.
Dispatching commands are recorded into a command buffer and when executed by
a queue, will produce work which executes according to the currently bound
compute pipeline.
A compute pipeline <span class="normative">must</span> be bound to a command buffer before any dispatch
commands are recorded in that command buffer.</p><p>To record a dispatch, call:</p><p><a id="vkCmdDispatch"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdDispatch(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    x,
    uint32_t                                    y,
    uint32_t                                    z);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>x</code></em> is the number of local workgroups to dispatch in the X
    dimension.
</li><li class="listitem">
<em class="parameter"><code>y</code></em> is the number of local workgroups to dispatch in the Y
    dimension.
</li><li class="listitem">
<em class="parameter"><code>z</code></em> is the number of local workgroups to dispatch in the Z
    dimension.
</li></ul></div><p>When the command is executed, a global workgroup consisting of <span class="inlinemediaobject"><span class="phrase">
$x
\times y \times z$
</span></span> local workgroups is assembled.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support compute operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
<em class="parameter"><code>x</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxComputeWorkGroupCount</code></em>[0]
</li><li class="listitem">
<em class="parameter"><code>y</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxComputeWorkGroupCount</code></em>[1]
</li><li class="listitem">
<em class="parameter"><code>z</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxComputeWorkGroupCount</code></em>[2]
</li><li class="listitem">
For each set <span class="emphasis"><em>n</em></span> that is statically used by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code>, a descriptor set <span class="normative">must</span> have been bound to <span class="emphasis"><em>n</em></span> at <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code>, with a <code class="code">VkPipelineLayout</code> that is compatible for set <span class="emphasis"><em>n</em></span>, with the <code class="code">VkPipelineLayout</code> used to create the current <code class="code">VkPipeline</code>, as described in <a class="xref" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">the section called “Pipeline Layout Compatibility”</a>
</li><li class="listitem">
Descriptors in each bound descriptor set, specified via <span class="strong"><strong><code class="code">vkCmdBindDescriptorSets</code></strong></span>, <span class="normative">must</span> be valid if they are statically used by the currently bound <code class="code">VkPipeline</code> object, specified via <span class="strong"><strong><code class="code">vkCmdBindPipeline</code></strong></span>
</li><li class="listitem">
A valid compute pipeline <span class="normative">must</span> be bound to the current command buffer with <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code>
</li><li class="listitem">
For each push constant that is statically used by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code>, a push constant value <span class="normative">must</span> have been set for <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code>, with a <code class="code">VkPipelineLayout</code> that is compatible for push constants with the one used to create the current <code class="code">VkPipeline</code>, as described in <a class="xref" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">the section called “Pipeline Layout Compatibility”</a>
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used to sample from any <code class="code">VkImage</code> with a <code class="code">VkImageView</code> of the type <code class="code">VK_IMAGE_VIEW_TYPE_3D</code>, <code class="code">VK_IMAGE_VIEW_TYPE_CUBE</code>, <code class="code">VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code class="code">VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or <code class="code">VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used with any of the SPIR-V <code class="literal">OpImageSample*</code> or <code class="literal">OpImageSparseSample*</code> instructions with <span class="strong"><strong><code class="code">ImplicitLod</code></strong></span>, <span class="strong"><strong><code class="code">Dref</code></strong></span> or <span class="strong"><strong><code class="code">Proj</code></strong></span> in their name, in any shader stage
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used with any of the SPIR-V <code class="literal">OpImageSample*</code> or <code class="literal">OpImageSparseSample*</code> instructions that includes a LOD bias or any offset values, in any shader stage
</li><li class="listitem">
If the <a class="link" href="#features-features-robustBufferAccess">robust buffer access</a> feature is not enabled, and any shader stage in the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code> accesses a uniform buffer, it <span class="normative">must</span> not access values outside of the range of that buffer specified in the currently bound descriptor set
</li><li class="listitem">
If the <a class="link" href="#features-features-robustBufferAccess">robust buffer access</a> feature is not enabled, and any shader stage in the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code> accesses a storage buffer, it <span class="normative">must</span> not access values outside of the range of that buffer specified in the currently bound descriptor set
</li><li class="listitem">
Any <code class="code">VkImageView</code> being sampled with <code class="code">VK_FILTER_LINEAR</code> as a result of this command <span class="normative">must</span> be of a format which supports linear filtering, as specified by the <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> (for a linear image) or <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em>(for an optimally tiled image) returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>COMPUTE</p></td></tr></tbody></table></div></div><p>To record an indirect command dispatch, call:</p><p><a id="vkCmdDispatchIndirect"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdDispatchIndirect(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> is the buffer containing dispatch parameters.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> is the byte offset into <em class="parameter"><code>buffer</code></em> where parameters
    begin.
</li></ul></div><p><span class="strong"><strong><code class="code">vkCmdDispatchIndirect</code></strong></span> behaves similarly to <code class="code"><a class="link" href="#vkCmdDispatch">vkCmdDispatch</a></code> except
that the parameters are read by the device from a buffer during execution.
The parameters of the dispatch are encoded in a
<code class="code"><a class="link" href="#VkDispatchIndirectCommand">VkDispatchIndirectCommand</a></code> structure taken from <em class="parameter"><code>buffer</code></em> starting
at <em class="parameter"><code>offset</code></em>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support compute operations
</li><li class="listitem">
This command <span class="normative">must</span> only be called outside of a render pass instance
</li><li class="listitem">
Both of <em class="parameter"><code>buffer</code></em>, and <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
For each set <span class="emphasis"><em>n</em></span> that is statically used by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code>, a descriptor set <span class="normative">must</span> have been bound to <span class="emphasis"><em>n</em></span> at <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code>, with a <code class="code">VkPipelineLayout</code> that is compatible for set <span class="emphasis"><em>n</em></span>, with the <code class="code">VkPipelineLayout</code> used to create the current <code class="code">VkPipeline</code>, as described in <a class="xref" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">the section called “Pipeline Layout Compatibility”</a>
</li><li class="listitem">
Descriptors in each bound descriptor set, specified via <span class="strong"><strong><code class="code">vkCmdBindDescriptorSets</code></strong></span>, <span class="normative">must</span> be valid if they are statically used by the currently bound <code class="code">VkPipeline</code> object, specified via <span class="strong"><strong><code class="code">vkCmdBindPipeline</code></strong></span>
</li><li class="listitem">
A valid compute pipeline <span class="normative">must</span> be bound to the current command buffer with <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code>
</li><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> have been created with the <code class="code">VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> bit set
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> <span class="normative">must</span> be a multiple of <code class="literal">4</code>
</li><li class="listitem">
The sum of <em class="parameter"><code>offset</code></em> and the size of <code class="code">VkDispatchIndirectCommand</code> <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>buffer</code></em>
</li><li class="listitem">
For each push constant that is statically used by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code>, a push constant value <span class="normative">must</span> have been set for <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code>, with a <code class="code">VkPipelineLayout</code> that is compatible for push constants with the one used to create the current <code class="code">VkPipeline</code>, as described in <a class="xref" href="#descriptorsets-compatibility" title="Pipeline Layout Compatibility">the section called “Pipeline Layout Compatibility”</a>
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used to sample from any <code class="code">VkImage</code> with a <code class="code">VkImageView</code> of the type <code class="code">VK_IMAGE_VIEW_TYPE_3D</code>, <code class="code">VK_IMAGE_VIEW_TYPE_CUBE</code>, <code class="code">VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code class="code">VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or <code class="code">VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used with any of the SPIR-V <code class="literal">OpImageSample*</code> or <code class="literal">OpImageSparseSample*</code> instructions with <span class="strong"><strong><code class="code">ImplicitLod</code></strong></span>, <span class="strong"><strong><code class="code">Dref</code></strong></span> or <span class="strong"><strong><code class="code">Proj</code></strong></span> in their name, in any shader stage
</li><li class="listitem">
If any <code class="code">VkSampler</code> object that is accessed from a shader by the <code class="code">VkPipeline</code> currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code> uses unnormalized coordinates, it <span class="normative">must</span> not be used with any of the SPIR-V <code class="literal">OpImageSample*</code> or <code class="literal">OpImageSparseSample*</code> instructions that includes a LOD bias or any offset values, in any shader stage
</li><li class="listitem">
If the <a class="link" href="#features-features-robustBufferAccess">robust buffer access</a> feature is not enabled, and any shader stage in the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code> accesses a uniform buffer, it <span class="normative">must</span> not access values outside of the range of that buffer specified in the currently bound descriptor set
</li><li class="listitem">
If the <a class="link" href="#features-features-robustBufferAccess">robust buffer access</a> feature is not enabled, and any shader stage in the <code class="code">VkPipeline</code> object currently bound to <code class="code">VK_PIPELINE_BIND_POINT_COMPUTE</code> accesses a storage buffer, it <span class="normative">must</span> not access values outside of the range of that buffer specified in the currently bound descriptor set
</li><li class="listitem">
Any <code class="code">VkImageView</code> being sampled with <code class="code">VK_FILTER_LINEAR</code> as a result of this command <span class="normative">must</span> be of a format which supports linear filtering, as specified by the <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> flag in <code class="code">VkFormatProperties</code>::<em class="parameter"><code>linearTilingFeatures</code></em> (for a linear image) or <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em>(for an optimally tiled image) returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFormatProperties</code></strong></span>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Outside</p></td><td style="" align="left" valign="top"><p>COMPUTE</p></td></tr></tbody></table></div></div><p>The <code class="code">VkDispatchIndirectCommand</code> structure is defined as:</p><p><a id="VkDispatchIndirectCommand"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDispatchIndirectCommand {
    uint32_t    x;
    uint32_t    y;
    uint32_t    z;
} VkDispatchIndirectCommand;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>x</code></em> is the number of local workgroups to dispatch in the X
    dimension.
</li><li class="listitem">
<em class="parameter"><code>y</code></em> is the number of local workgroups to dispatch in the Y
    dimension.
</li><li class="listitem">
<em class="parameter"><code>z</code></em> is the number of local workgroups to dispatch in the Z
    dimension.
</li></ul></div><p>The members of <code class="code">VkDispatchIndirectCommand</code> structure have the same
meaning as the similarly named parameters of <code class="code"><a class="link" href="#vkCmdDispatch">vkCmdDispatch</a></code>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>x</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxComputeWorkGroupCount</code></em>[0]
</li><li class="listitem">
<em class="parameter"><code>y</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxComputeWorkGroupCount</code></em>[1]
</li><li class="listitem">
<em class="parameter"><code>z</code></em> <span class="normative">must</span> be less than or equal to <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxComputeWorkGroupCount</code></em>[2]
</li></ul></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="sparsememory"></a>Chapter 28. Sparse Resources</h1></div></div></div><p>As documented in <a class="link" href="#resources-association" title="11.6. Resource Memory Association">Resource Memory Association</a>,
<code class="code">VkBuffer</code> and <code class="code">VkImage</code> resources in Vulkan <span class="normative">must</span> be bound
completely and contiguously to a single <code class="code">VkDeviceMemory</code> object.
This binding <span class="normative">must</span> be done before the resource is used, and the binding is
immutable for the lifetime of the resource.</p><p><span class="emphasis"><em>Sparse resources</em></span> relax these restrictions and provide these additional
features:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Sparse resources <span class="normative">can</span> be bound non-contiguously to one or more
    <code class="code">VkDeviceMemory</code> allocations.
</li><li class="listitem">
Sparse resources <span class="normative">can</span> be re-bound to different memory allocations over
    the lifetime of the resource.
</li><li class="listitem">
Sparse resources <span class="normative">can</span> have descriptors generated and used orthogonally
    with memory binding commands.
</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sparsememory-sparseresourcefeatures"></a>28.1. Sparse Resource Features</h2></div></div></div><p>Sparse resources have several features that <span class="normative">must</span> be enabled explicitly at
resource creation time.
The features are enabled by including bits in the <em class="parameter"><code>flags</code></em> parameter of
<code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code> or <code class="code"><a class="link" href="#VkBufferCreateInfo">VkBufferCreateInfo</a></code>.
Each feature also has one or more corresponding feature enables specified in
<code class="code"><a class="link" href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a></code>.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
<a class="link" href="#features-features-sparseBinding">Sparse binding</a> is the base feature,
    and provides the following capabilities:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Resources <span class="normative">can</span> be bound at some defined (sparse block) granularity.
</li><li class="listitem">
The entire resource <span class="normative">must</span> be bound to memory before use regardless of
     regions actually accessed.
</li><li class="listitem">
No specific mapping of image region to memory offset is defined, i.e.
     the location that each texel corresponds to in memory is
     implementation-dependent.
</li><li class="listitem">
Sparse buffers have a well-defined mapping of buffer range to memory
     range, where an offset into a range of the buffer that is bound to a
     single contiguous range of memory corresponds to an identical offset
     within that range of memory.
</li><li class="listitem">
Requested via the <code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> and
     <code class="code">VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> bits.
</li><li class="listitem">
A sparse image created using <code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>
     (but not <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>) supports all
     formats that non-sparse usage supports, and supports both
     <code class="code">VK_IMAGE_TILING_OPTIMAL</code> and <code class="code">VK_IMAGE_TILING_LINEAR</code> tiling.
</li></ul></div></li><li class="listitem"><p class="simpara">
<span class="emphasis"><em>Sparse Residency</em></span> builds on (and requires) the <em class="parameter"><code>sparseBinding</code></em>
    feature.
    It includes the following capabilities:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Resources do not have to be completely bound to memory before use on
     the device.
</li><li class="listitem">
Images have a prescribed sparse image block layout, allowing specific
     rectangular regions of the image to be bound to specific offsets in
     memory allocations.
</li><li class="listitem">
Consistency of access to unbound regions of the resource is defined by
     the absence or presence of
     <code class="code">VkPhysicalDeviceSparseProperties</code>::<em class="parameter"><code>residencyNonResidentStrict</code></em>.
     If this property is present, accesses to unbound regions of the
     resource are well defined and behave as if the data bound is populated
     with all zeros; writes are discarded.
     When this property is absent, accesses are considered safe, but reads
     will return undefined values.
</li><li class="listitem">
Requested via the <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> and
     <code class="code">VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> bits.
</li><li class="listitem"><p class="simpara">
<a id="features-features-sparseResidency"></a> is
     advertised on a finer grain via the following features:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem">
<a class="link" href="#features-features-sparseResidencyBuffer"><em class="parameter"><code>sparseResidencyBuffer</code></em></a>:
      Support for creating <code class="code">VkBuffer</code> objects with the
      <code class="code">VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code>.
</li><li class="listitem">
<a class="link" href="#features-features-sparseResidencyImage2D"><em class="parameter"><code>sparseResidencyImage2D</code></em></a>:
      Support for creating 2D single-sampled <code class="code">VkImage</code> objects with
      <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</li><li class="listitem">
<a class="link" href="#features-features-sparseResidencyImage3D"><em class="parameter"><code>sparseResidencyImage3D</code></em></a>:
      Support for creating 3D <code class="code">VkImage</code> objects with
      <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</li><li class="listitem">
<a class="link" href="#features-features-sparseResidency2Samples"><em class="parameter"><code>sparseResidency2Samples</code></em></a>:
      Support for creating 2D <code class="code">VkImage</code> objects with 2 samples and
      <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</li><li class="listitem">
<a class="link" href="#features-features-sparseResidency4Samples"><em class="parameter"><code>sparseResidency4Samples</code></em></a>:
      Support for creating 2D <code class="code">VkImage</code> objects with 4 samples and
      <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</li><li class="listitem">
<a class="link" href="#features-features-sparseResidency8Samples"><em class="parameter"><code>sparseResidency8Samples</code></em></a>:
      Support for creating 2D <code class="code">VkImage</code> objects with 8 samples and
      <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</li><li class="listitem">
<a class="link" href="#features-features-sparseResidency16Samples"><em class="parameter"><code>sparseResidency16Samples</code></em></a>:
      Support for creating 2D <code class="code">VkImage</code> objects with 16 samples and
      <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</li></ul></div><p class="simpara">Implementations supporting <em class="parameter"><code>sparseResidencyImage2D</code></em> are only <span class="normative">required</span>
to support sparse 2D, single-sampled images.
Support is not <span class="normative">required</span> for sparse 3D and MSAA images and is enabled via
<em class="parameter"><code>sparseResidencyImage3D</code></em>, <em class="parameter"><code>sparseResidency2Samples</code></em>,
<em class="parameter"><code>sparseResidency4Samples</code></em>, <em class="parameter"><code>sparseResidency8Samples</code></em>, and
<em class="parameter"><code>sparseResidency16Samples</code></em>.</p></li><li class="listitem">
A sparse image created using <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
     supports all non-compressed color formats with power-of-two texel size
     that non-sparse usage supports.
     Additional formats <span class="normative">may</span> also be supported and <span class="normative">can</span> be queried via
     <code class="code"><a class="link" href="#vkGetPhysicalDeviceSparseImageFormatProperties">vkGetPhysicalDeviceSparseImageFormatProperties</a></code>.
     <code class="code">VK_IMAGE_TILING_LINEAR</code> tiling is not supported.
</li></ul></div></li><li class="listitem"><p class="simpara">
<a class="link" href="#features-features-sparseResidencyAliased">Sparse aliasing</a> provides
    the following capability that <span class="normative">can</span> be enabled per resource:
</p><p class="simpara">Allows physical memory ranges to be shared between multiple locations in the
same sparse resource or between multiple sparse resources, with each binding
of a memory location observing a consistent interpretation of the memory
contents.</p><p class="simpara">See <a class="link" href="#sparsememory-sparse-memory-aliasing" title="28.5. Sparse Memory Aliasing">Sparse Memory Aliasing</a> for more
information.</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sparsememory-fully-resident"></a>28.2. Sparse Buffers and Fully-Resident Images</h2></div></div></div><p>Both <code class="code">VkBuffer</code> and <code class="code">VkImage</code> objects created with the
<code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> or
<code class="code">VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> bits <span class="normative">can</span> be thought of as a
linear region of address space.
In the <code class="code">VkImage</code> case if <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> is
not used, this linear region is entirely opaque, meaning that there is no
application-visible mapping between pixel location and memory offset.</p><p>Unless <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> or
<code class="code">VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> are also used, the entire
resource <span class="normative">must</span> be bound to one or more <code class="code">VkDeviceMemory</code> objects before
use.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_sparse_buffer_and_fully_resident_image_block_size"></a>28.2.1. Sparse Buffer and Fully-Resident Image Block Size</h3></div></div></div><p>The sparse block size in bytes for sparse buffers and fully-resident images
is reported as <code class="code">VkMemoryRequirements</code>::<em class="parameter"><code>alignment</code></em>.
<em class="parameter"><code>alignment</code></em> represents both the memory alignment requirement and the
binding granularity (in bytes) for sparse resources.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sparsememory-partially-resident-buffers"></a>28.3. Sparse Partially-Resident Buffers</h2></div></div></div><p><code class="code">VkBuffer</code> objects created with the
<code class="code">VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> bit allow the buffer to be made
only partially resident.
Partially resident <code class="code">VkBuffer</code> objects are allocated and bound
identically to <code class="code">VkBuffer</code> objects using only the
<code class="code">VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> feature.
The only difference is the ability for some regions of the buffer to be
unbound during device use.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sparsememory-partially-resident-images"></a>28.4. Sparse Partially-Resident Images</h2></div></div></div><p><code class="code">VkImage</code> objects created with the
<code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> bit allow specific rectangular
regions of the image called sparse image blocks to be bound to specific
ranges of memory.
This allows the application to manage residency at either image subresource
or sparse image block granularity.
Each image subresource (outside of the <a class="link" href="#sparsememory-miptail" title="28.4.2. Mip Tail Regions">mip tail</a>)
starts on a sparse block boundary and has dimensions that are integer
multiples of the corresponding dimensions of the sparse image block.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Applications <span class="normative">can</span> use these types of images to control level-of-detail based
on total memory consumption.
If memory pressure becomes an issue the application <span class="normative">can</span> unbind and disable
specific mipmap levels of images without having to recreate resources or
modify pixel data of unaffected levels.</p><p>The application <span class="normative">can</span> also use this functionality to access subregions of the
image in a “megatexture” fashion.
The application <span class="normative">can</span> create a large image and only populate the region of
the image that is currently being used in the scene.</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sparsememory-accessing-unbound"></a>28.4.1. Accessing Unbound Regions</h3></div></div></div><p>The following member of <code class="code">VkPhysicalDeviceSparseProperties</code> affects how
data in unbound regions of sparse resources are handled by the
implementation:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>residencyNonResidentStrict</code></em>
</li></ul></div><p>If this property is not present, reads of unbound regions of the image will
return undefined values.
Both reads and writes are still considered <span class="emphasis"><em>safe</em></span> and will not affect other
resources or populated regions of the image.</p><p>If this property is present, all reads of unbound regions of the image will
behave as if the region was bound to memory populated with all zeros; writes
will be discarded.</p><p>Formatted accesses to unbound memory <span class="normative">may</span> still alter some component values
in the natural way for those accesses, e.g.
substituting a value of one for alpha in formats that do not have an alpha
component.</p><div class="informalexample"><p>Example: Reading the alpha component of an unbacked <code class="code">VK_FORMAT_R8_UNORM</code>
image will return a value of <span class="inlinemediaobject"><span class="phrase">
$1.0f$
</span></span>.</p></div><p>See <a class="link" href="#devsandqueues-physical-device-enumeration" title="4.1. Physical Devices">Physical Device Enumeration</a> for instructions for retrieving physical device properties.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Implementor’s Note</strong></p></div></div></div><p>For hardware that <span class="normative">cannot</span> natively handle access to unbound regions of a
resource, the implementation <span class="normative">may</span> allocate and bind memory to the unbound
regions.
Reads and writes to unbound regions will access the implementation-managed
memory instead of causing a hardware fault.</p><p>Given that reads of unbound regions are undefined in this scenario,
implementations <span class="normative">may</span> use the same physical memory for unbound regions of
multiple resources within the same process.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sparsememory-miptail"></a>28.4.2. Mip Tail Regions</h3></div></div></div><p>Sparse images created using <code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>
(without also using <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>) have no
specific mapping of image region or image subresource to memory offset
defined, so the entire image <span class="normative">can</span> be thought of as a linear opaque address
region.
However, images created with <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> do
have a prescribed sparse image block layout, and hence each image
subresource <span class="normative">must</span> start on a sparse block boundary.
Within each array layer, the set of mip levels that have a smaller size than
the sparse block size in bytes are grouped together into a <span class="emphasis"><em>mip tail
region</em></span>.</p><p>If the <code class="code">VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> flag is present in
the <em class="parameter"><code>flags</code></em> member of <code class="code">VkSparseImageFormatProperties</code>, for the
image’s <em class="parameter"><code>format</code></em>, then any mip level which has dimensions that are not
integer multiples of the corresponding dimensions of the sparse image block,
and all subsequent mip levels, are also included in the mip tail region.</p><p>The following member of <code class="code">VkPhysicalDeviceSparseProperties</code> <span class="normative">may</span> affect
how the implementation places mip levels in the mip tail region:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>residencyAlignedMipSize</code></em>
</li></ul></div><p>Each mip tail region is bound to memory as an opaque region (i.e.
<span class="normative">must</span> be bound using a <code class="code"><a class="link" href="#VkSparseImageOpaqueMemoryBindInfo">VkSparseImageOpaqueMemoryBindInfo</a></code> structure)
and <span class="normative">may</span> be of a size greater than or equal to the sparse block size in
bytes.
This size is guaranteed to be an integer multiple of the sparse block size
in bytes.</p><p>An implementation <span class="normative">may</span> choose to allow each array-layer’s mip tail region to
be bound to memory independently or require that all array-layer’s mip tail
regions be treated as one.
This is dictated by <code class="code">VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> in
<code class="code">VkSparseImageMemoryRequirements</code>::<em class="parameter"><code>flags</code></em>.</p><p>The following diagrams depict how
<code class="code">VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> and
<code class="code">VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> alter memory usage and
requirements.</p><div class="figure"><a id="id-1.30.8.5.9"></a><p class="title"><strong>Figure 28.1. Sparse Image</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/sparseimage.svg" align="middle" alt="images/sparseimage.svg" /></div></div></div><br class="figure-break" /><p>In the absence of <code class="code">VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> and
<code class="code">VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code>, each array layer contains a
mip tail region containing pixel data for all mip levels smaller than the
sparse image block in any dimension.</p><p>Mip levels that are as large or larger than a sparse image block in all
dimensions <span class="normative">can</span> be bound individually.
Right-edges and bottom-edges of each level are allowed to have partially
used sparse blocks.
Any bound partially-used-sparse-blocks <span class="normative">must</span> still have their full sparse
block size in bytes allocated in memory.</p><div class="figure"><a id="id-1.30.8.5.12"></a><p class="title"><strong>Figure 28.2. Sparse Image with Single Mip Tail</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/sparseimage_singlemiptail.svg" align="middle" alt="images/sparseimage_singlemiptail.svg" /></div></div></div><br class="figure-break" /><p>When <code class="code">VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> is present all array
layers will share a single mip tail region.</p><div class="figure"><a id="id-1.30.8.5.14"></a><p class="title"><strong>Figure 28.3. Sparse Image with Aligned Mip Size</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/sparseimage_alignedmipsize.svg" align="middle" alt="images/sparseimage_alignedmipsize.svg" /></div></div></div><br class="figure-break" /><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The mip tail regions are presented here in 2D arrays simply for figure size
reasons.
Each mip tail is logically a single array of sparse blocks with an
implementation-dependent mapping of pixels to sparse blocks.</p></td></tr></table></div><p>When <code class="code">VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> is present the first
mip level that would contain partially used sparse blocks begins the mip
tail region.
This level and all subsequent levels are placed in the mip tail.
Only the first <span class="inlinemediaobject"><span class="phrase">
$N$
</span></span> mip levels whose dimensions are an exact
multiple of the sparse image block dimensions <span class="normative">can</span> be bound and unbound on a
sparse block basis.</p><div class="figure"><a id="id-1.30.8.5.17"></a><p class="title"><strong>Figure 28.4. Sparse Image with Aligned Mip Size and Single Mip Tail</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/sparseimage_alignedmipsize_singlemiptail.svg" align="middle" alt="images/sparseimage_alignedmipsize_singlemiptail.svg" /></div></div></div><br class="figure-break" /><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The mip tail region is presented here in a 2D array simply for figure size
reasons.
It is logically a single array of sparse blocks with an
implementation-dependent mapping of pixels to sparse blocks.</p></td></tr></table></div><p>When both <code class="code">VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> and
<code class="code">VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> are present the constraints
from each of these flags are in effect.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sparsememory-standard-shapes"></a>28.4.3. Standard Sparse Image Block Shapes</h3></div></div></div><p>Standard sparse image block shapes define a standard set of dimensions for
sparse image blocks that depend on the format of the image.
Layout of pixels within a sparse image block is implementation dependent.
All currently defined standard sparse image block shapes are 64 KB in size.</p><p>For block-compressed formats (e.g.
<code class="code">VK_FORMAT_BC5_UNORM_BLOCK</code>), the pixel size is the size of the
compressed texel block (128-bit for <code class="code">BC5</code>) thus the dimensions of the
standard sparse image block shapes apply in terms of compressed texel
blocks.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For block-compressed formats, the dimensions of a sparse image block in
terms of texels <span class="normative">can</span> be calculated by multiplying the sparse image block
dimensions by the compressed texel block dimensions.</p></td></tr></table></div><p></p><div class="table"><a id="sparsememory-sparseblockshapessingle"></a><p class="title"><strong>Table 28.1. Standard Sparse Image Block Shapes (Single Sample)</strong></p><div class="table-contents"><table summary="Standard Sparse Image Block Shapes (Single Sample)" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> PIXEL SIZE (bits) </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Block Shape (2D)  </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Block Shape (3D)</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>8-Bit</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>256 × 256 × 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64 × 32 × 32</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>16-Bit</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>256 × 128 × 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>32 × 32 × 32</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>32-Bit</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>128 × 128 × 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>32 × 32 × 16</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>64-Bit</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>128 × 64 × 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>32 × 16 × 16</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>128-Bit</strong></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>64 × 64 × 1</p></td><td style="" align="left" valign="top"><p>16 × 16 × 16</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="sparsememory-sparseblockshapesmsaa"></a><p class="title"><strong>Table 28.2. Standard Sparse Image Block Shapes (MSAA)</strong></p><div class="table-contents"><table summary="Standard Sparse Image Block Shapes (MSAA)" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> PIXEL SIZE (bits)</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Block Shape (2X)</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Block Shape (4X) </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Block Shape (8X) </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Block Shape (16X)</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>8-Bit</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>128 × 256 × 1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>128 × 128 × 1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64 × 128 × 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64 × 64 × 1</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>16-Bit</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>128 × 128 × 1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>128 × 64 × 1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64 × 64 × 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64 × 32 × 1</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>32-Bit</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64 × 128 × 1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64 × 64 × 1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>32 × 64 × 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>32 × 32 × 1</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>64-Bit</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64 × 64 × 1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64 × 32 × 1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>32 × 32 × 1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>32 × 16 × 1</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>128-Bit</strong></span></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>32 × 64 × 1</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>32 × 32 × 1</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>16 × 32 × 1</p></td><td style="" align="left" valign="top"><p>16 × 16 × 1</p></td></tr></tbody></table></div></div><br class="table-break" /><p>Implementations that support the standard sparse image block shape for all
applicable formats <span class="normative">may</span> advertise the following
<code class="code">VkPhysicalDeviceSparseProperties</code>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>residencyStandard2DBlockShape</code></em>
</li><li class="listitem">
<em class="parameter"><code>residencyStandard2DMultisampleBlockShape</code></em>
</li><li class="listitem">
<em class="parameter"><code>residencyStandard3DBlockShape</code></em>
</li></ul></div><p>Reporting each of these features does <span class="emphasis"><em>not</em></span> imply that all possible image
types are supported as sparse.
Instead, this indicates that no supported sparse image of the corresponding
type will use custom sparse image block dimensions for any formats that have
a corresponding standard sparse image block shape.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sparsememory-custom-shapes"></a>28.4.4. Custom Sparse Image Block Shapes</h3></div></div></div><p>An implementation that does not support a standard image block shape for a
particular sparse partially-resident image <span class="normative">may</span> choose to support a custom
sparse image block shape for it instead.
The dimensions of such a custom sparse image block shape are reported in
<code class="code">VkSparseImageFormatProperties</code>::<em class="parameter"><code>imageGranularity</code></em>.
As with standard sparse image block shapes, the size in bytes of the custom
sparse image block shape will be reported in
<code class="code">VkMemoryRequirements</code>::<em class="parameter"><code>alignment</code></em>.</p><p>Custom sparse image block dimensions are reported through
<span class="strong"><strong><code class="code">vkGetPhysicalDeviceSparseImageFormatProperties</code></strong></span> and
<span class="strong"><strong><code class="code">vkGetImageSparseMemoryRequirements</code></strong></span>.</p><p>An implementation <span class="normative">must</span> not support both the standard sparse image block
shape and a custom sparse image block shape for the same image.
The standard sparse image block shape <span class="normative">must</span> be used if it is supported.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sparsememory-multiaspect"></a>28.4.5. Multiple Aspects</h3></div></div></div><p>Partially resident images are allowed to report separate sparse properties
for different aspects of the image.
One example is for depth/stencil images where the implementation separates
the depth and stencil data into separate planes.
Another reason for multiple aspects is to allow the application to manage
memory allocation for implementation-private <span class="emphasis"><em>metadata</em></span> associated with the
image.
See the figure below:</p><div class="figure"><a id="id-1.30.8.8.3"></a><p class="title"><strong>Figure 28.5. Multiple Aspect Sparse Image</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/sparseimage_multiaspect.svg" align="middle" alt="images/sparseimage_multiaspect.svg" /></div></div></div><br class="figure-break" /><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The mip tail regions are presented here in 2D arrays simply for figure size
reasons.
Each mip tail is logically a single array of sparse blocks with an
implementation-dependent mapping of pixels to sparse blocks.</p></td></tr></table></div><p>In the figure above the depth, stencil, and metadata aspects all have unique
sparse properties.
The per-pixel stencil data is <span class="inlinemediaobject"><span class="phrase">
${}^{1}\!/\!{}_4$
</span></span> the size of the
depth data, hence the stencil sparse blocks include <span class="inlinemediaobject"><span class="phrase">
$4x$
</span></span> the
number of pixels.
The sparse block size in bytes for all of the aspects is identical and
defined by <code class="code">VkMemoryRequirements</code>::<em class="parameter"><code>alignment</code></em>.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_metadata"></a>Metadata</h4></div></div></div><p>The metadata aspect of an image has the following constraints:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
All metadata is reported in the mip tail region of the metadata aspect.
</li><li class="listitem">
All metadata <span class="normative">must</span> be bound prior to device use of the sparse image.
</li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sparsememory-sparse-memory-aliasing"></a>28.5. Sparse Memory Aliasing</h2></div></div></div><p>By default sparse resources have the same aliasing rules as non-sparse
resources.
See <a class="link" href="#resources-memory-aliasing" title="11.8. Memory Aliasing">Memory Aliasing</a> for more information.</p><p><code class="code">VkDevice</code> objects that have the
<a class="link" href="#features-features-sparseResidencyAliased">sparseResidencyAliased</a> feature
enabled are able to use the <code class="code">VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code> and
<code class="code">VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> flags for resource creation.
These flags allow resources to access physical memory bound into multiple
locations within one or more sparse resources in a <span class="emphasis"><em>data consistent</em></span>
fashion.
This means that reading physical memory from multiple aliased locations will
return the same value.</p><p>Care <span class="normative">must</span> be taken when performing a write operation to aliased physical
memory.
Memory dependencies <span class="normative">must</span> be used to separate writes to one alias from reads
or writes to another alias.
Writes to aliased memory that are not properly guarded against accesses to
different aliases will have undefined results for all accesses to the
aliased memory.</p><p>Applications that wish to make use of data consistent sparse memory aliasing
<span class="normative">must</span> abide by the following guidelines:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
All sparse resources that are bound to aliased physical memory <span class="normative">must</span> be
    created with the <code class="code">VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code> /
    <code class="code">VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> flag.
</li><li class="listitem"><p class="simpara">
All resources that access aliased physical memory <span class="normative">must</span> interpret the
    memory in the same way.
    This implies the following:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Buffers and images <span class="normative">cannot</span> alias the same physical memory in a data
     consistent fashion.
     The physical memory ranges <span class="normative">must</span> be used exclusively by buffers or used
     exclusively by images for data consistency to be guaranteed.
</li><li class="listitem">
Memory in sparse image mip tail regions <span class="normative">cannot</span> access aliased memory
     in a data consistent fashion.
</li><li class="listitem">
Sparse images that alias the same physical memory <span class="normative">must</span> have compatible
     formats and be using the same sparse image block shape in order to
     access aliased memory in a data consistent fashion.
</li></ul></div></li></ul></div><p>Failure to follow any of the above guidelines will require the application
to abide by the normal, non-sparse resource <a class="link" href="#resources-memory-aliasing" title="11.8. Memory Aliasing">aliasing rules</a>.
In this case memory <span class="normative">cannot</span> be accessed in a data consistent fashion.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Enabling sparse resource memory aliasing <span class="normative">can</span> be a way to lower physical
memory use, but it <span class="normative">may</span> reduce performance on some implementations.
An application developer <span class="normative">can</span> test on their target HW and balance the memory
/ performance trade-offs measured.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_sparse_resource_implementation_guidelines"></a>28.6. Sparse Resource Implementation Guidelines</h2></div></div></div><div class="sidebar"><div class="titlepage"></div><p>This section is Informative.
It is included to aid in implementors' understanding of sparse resources.</p><p><strong>Device Virtual Address. </strong>The basic <em class="parameter"><code>sparseBinding</code></em> feature allows the resource to reserve its own
device virtual address range at resource creation time rather than relying
on a bind operation to set this.
Without any other creation flags, no other constraints are relaxed compared
to normal resources.
All pages <span class="normative">must</span> be bound to physical memory before the device accesses the
resource.</p><p>The <a class="link" href="#features-features-sparseResidency">sparse residency</a> features allow
sparse resources to be used even when not all pages are bound to memory.
Hardware that supports access to unbound pages without causing a fault <span class="normative">may</span>
support <em class="parameter"><code>residencyNonResidentStrict</code></em>.</p><p>Not faulting on access to unbound pages is not enough to support
<em class="parameter"><code>sparseResidencyNonResidentStrict</code></em>.
An implementation <span class="normative">must</span> also guarantee that reads after writes to unbound
regions of the resource always return data for the read as if the memory
contains zeros.
Depending on the cache implementation of the hardware this <span class="normative">may</span> not always
be possible.</p><p>Hardware that does not fault, but does not guarantee correct read values
will not require dummy pages, but also <span class="normative">must</span> not support
<em class="parameter"><code>sparseResidencyNonResidentStrict</code></em>.</p><p>Hardware that <span class="normative">cannot</span> access unbound pages without causing a fault will
require the implementation to bind the entire device virtual address range
to physical memory.
Any pages that the application does not bind to memory <span class="normative">may</span> be bound to one
(or more) “dummy” physical page(s) allocated by the implementation.
Given the following properties:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
A process <span class="normative">must</span> not access memory from another process
</li><li class="listitem">
Reads return undefined values
</li></ul></div><p>It is sufficient for each host process to allocate these dummy pages and use
them for all resources in that process.
Implementations <span class="normative">may</span> allocate more often (per instance, per device, or per
resource).</p><p><strong>Binding Memory. </strong>The byte size reported in <code class="code">VkMemoryRequirements</code>::<em class="parameter"><code>size</code></em> <span class="normative">must</span> be
greater than or equal to the amount of physical memory <span class="normative">required</span> to fully
populate the resource.
Some hardware requires “holes” in the device virtual address range that
are never accessed.
These holes <span class="normative">may</span> be included in the <em class="parameter"><code>size</code></em> reported for the resource.</p><p>Including or not including the device virtual address holes in the resource
size will alter how the implementation provides support for
<code class="code">VkSparseImageOpaqueMemoryBindInfo</code>.
This operation <span class="normative">must</span> be supported for all sparse images, even ones created
with <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If the holes are included in the size, this bind function becomes very
    easy.
    In most cases the <em class="parameter"><code>resourceOffset</code></em> is simply a device virtual
    address offset and the implementation does not require any sophisticated
    logic to determine what device virtual address to bind.
    The cost is that the application <span class="normative">can</span> allocate more physical memory for
    the resource than it needs.
</li><li class="listitem">
If the holes are not included in the size, the application <span class="normative">can</span> allocate
    less physical memory than otherwise for the resource.
    However, in this case the implementation <span class="normative">must</span> account for the holes
    when mapping <em class="parameter"><code>resourceOffset</code></em> to the actual device virtual address
    intended to be mapped.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If the application always uses <code class="code">VkSparseImageMemoryBindInfo</code> to bind
memory for the non-tail mip levels, any holes that are present in the
resource size <span class="normative">may</span> never be bound.</p><p>Since <code class="code">VkSparseImageMemoryBindInfo</code> uses pixel locations to determine
which device virtual addresses to bind, it is impossible to bind device
virtual address holes with this operation.</p></td></tr></table></div><p><strong>Binding Metadata Memory. </strong>All metadata for sparse images have their own sparse properties and are
embedded in the mip tail region for said properties.
See the <a class="link" href="#sparsememory-multiaspect" title="28.4.5. Multiple Aspects">Multiaspect</a> section for details.</p><p>Given that metadata is in a mip tail region, and the mip tail region <span class="normative">must</span>
be reported as contiguous (either globally or per-array-layer), some
implementations will have to resort to complicated offset → device virtual
address mapping for handling <code class="code">VkSparseImageOpaqueMemoryBindInfo</code>.</p><p>To make this easier on the implementation, the
<code class="code">VK_SPARSE_MEMORY_BIND_METADATA_BIT</code> explicitly denotes when metadata is
bound with <code class="code">VkSparseImageOpaqueMemoryBindInfo</code>.
When this flag is not present, the <em class="parameter"><code>resourceOffset</code></em> <span class="normative">may</span> be treated as a
strict device virtual address offset.</p><p>When <code class="code">VK_SPARSE_MEMORY_BIND_METADATA_BIT</code> is present, the
<em class="parameter"><code>resourceOffset</code></em> <span class="normative">must</span> have been derived explicitly from the
<em class="parameter"><code>imageMipTailOffset</code></em> in the sparse resource properties returned for the
metadata aspect.
By manipulating the value returned for <em class="parameter"><code>imageMipTailOffset</code></em>, the
<em class="parameter"><code>resourceOffset</code></em> does not have to correlate directly to a device virtual
address offset, and <span class="normative">may</span> instead be whatever values makes it easiest for the
implementation to derive the correct device virtual address.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sparsememory-resourceapi"></a>28.7. Sparse Resource API</h2></div></div></div><p>The APIs related to sparse resources are grouped into the following
categories:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<a class="link" href="#sparsememory-physicalfeatures" title="28.7.1. Physical Device Features">Physical Device Features</a>
</li><li class="listitem">
<a class="link" href="#sparsememory-physicalprops" title="28.7.2. Physical Device Sparse Properties">Physical Device Sparse Properties</a>
</li><li class="listitem">
<a class="link" href="#sparsememory-format-props" title="28.7.3. Sparse Image Format Properties">Sparse Image Format Properties</a>
</li><li class="listitem">
<a class="link" href="#sparsememory-resource-creation" title="28.7.4. Sparse Resource Creation">Sparse Resource Creation</a>
</li><li class="listitem">
<a class="link" href="#sparsememory-memory-requirements" title="28.7.5. Sparse Resource Memory Requirements">Sparse Resource Memory Requirements</a>
</li><li class="listitem">
<a class="link" href="#sparsememory-resource-binding" title="28.7.6. Binding Resource Memory">Binding Resource Memory</a>
</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sparsememory-physicalfeatures"></a>28.7.1. Physical Device Features</h3></div></div></div><p>Some sparse-resource related features are reported and enabled in
<code class="code">VkPhysicalDeviceFeatures</code>.
These features <span class="normative">must</span> be supported and enabled on the <code class="code">VkDevice</code> object
before applications <span class="normative">can</span> use them.
See <a class="link" href="#features-features" title="31.1. Features">Physical Device Features</a> for information on how to
get and set enabled device features, and for more detailed explanations of
these features.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_sparse_physical_device_features"></a>Sparse Physical Device Features</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sparseBinding</code></em>: Support for creating <code class="code">VkBuffer</code> and
    <code class="code">VkImage</code> objects with the <code class="code">VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code>
    and <code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flags, respectively.
</li><li class="listitem">
<em class="parameter"><code>sparseResidencyBuffer</code></em>: Support for creating <code class="code">VkBuffer</code> objects
    with the <code class="code">VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> flag.
</li><li class="listitem">
<em class="parameter"><code>sparseResidencyImage2D</code></em>: Support for creating 2D single-sampled
    <code class="code">VkImage</code> objects with <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</li><li class="listitem">
<em class="parameter"><code>sparseResidencyImage3D</code></em>: Support for creating 3D <code class="code">VkImage</code>
    objects with <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</li><li class="listitem">
<em class="parameter"><code>sparseResidency2Samples</code></em>: Support for creating 2D <code class="code">VkImage</code>
    objects with 2 samples and <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</li><li class="listitem">
<em class="parameter"><code>sparseResidency4Samples</code></em>: Support for creating 2D <code class="code">VkImage</code>
    objects with 4 samples and <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</li><li class="listitem">
<em class="parameter"><code>sparseResidency8Samples</code></em>: Support for creating 2D <code class="code">VkImage</code>
    objects with 8 samples and <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</li><li class="listitem">
<em class="parameter"><code>sparseResidency16Samples</code></em>: Support for creating 2D <code class="code">VkImage</code>
    objects with 16 samples and <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.
</li><li class="listitem">
<em class="parameter"><code>sparseResidencyAliased</code></em>: Support for creating <code class="code">VkBuffer</code> and
    <code class="code">VkImage</code> objects with the <code class="code">VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code>
    and <code class="code">VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> flags, respectively.
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sparsememory-physicalprops"></a>28.7.2. Physical Device Sparse Properties</h3></div></div></div><p>Some features of the implementation are not possible to disable, and are
reported to allow applications to alter their sparse resource usage
accordingly.
These read-only capabilities are reported in the
<code class="code"><a class="link" href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a></code>::<em class="parameter"><code>sparseProperties</code></em> member, which is a
structure of type <code class="code">VkPhysicalDeviceSparseProperties</code>.</p><p>The <code class="code">VkPhysicalDeviceSparseProperties</code> structure is defined as:</p><p><a id="VkPhysicalDeviceSparseProperties"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPhysicalDeviceSparseProperties {
    VkBool32    residencyStandard2DBlockShape;
    VkBool32    residencyStandard2DMultisampleBlockShape;
    VkBool32    residencyStandard3DBlockShape;
    VkBool32    residencyAlignedMipSize;
    VkBool32    residencyNonResidentStrict;
} VkPhysicalDeviceSparseProperties;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>residencyStandard2DBlockShape</code></em> is <code class="code">VK_TRUE</code> if the physical
    device will access all single-sample 2D sparse resources using the
    standard sparse image block shapes (based on image format), as described
    in the <a class="link" href="#sparsememory-sparseblockshapessingle" title="Table 28.1. Standard Sparse Image Block Shapes (Single Sample)">Standard Sparse Image     Block Shapes (Single Sample)</a> table.
    If this property is not supported the value returned in the
    <em class="parameter"><code>imageGranularity</code></em> member of the <code class="code">VkSparseImageFormatProperties</code>
    structure for single-sample 2D images is not <span class="normative">required</span> to match the
    standard sparse image block dimensions listed in the table.
</li><li class="listitem">
<em class="parameter"><code>residencyStandard2DMultisampleBlockShape</code></em> is <code class="code">VK_TRUE</code> if the
    physical device will access all multisample 2D sparse resources using
    the standard sparse image block shapes (based on image format), as
    described in the <a class="link" href="#sparsememory-sparseblockshapesmsaa" title="Table 28.2. Standard Sparse Image Block Shapes (MSAA)">Standard Sparse     Image Block Shapes (MSAA)</a> table.
    If this property is not supported, the value returned in the
    <em class="parameter"><code>imageGranularity</code></em> member of the <code class="code">VkSparseImageFormatProperties</code>
    structure for multisample 2D images is not <span class="normative">required</span> to match the
    standard sparse image block dimensions listed in the table.
</li><li class="listitem">
<em class="parameter"><code>residencyStandard3DBlockShape</code></em> is <code class="code">VK_TRUE</code> if the physical
    device will access all 3D sparse resources using the standard sparse
    image block shapes (based on image format), as described in the
    <a class="link" href="#sparsememory-sparseblockshapessingle" title="Table 28.1. Standard Sparse Image Block Shapes (Single Sample)">Standard Sparse Image Block     Shapes (Single Sample)</a> table.
    If this property is not supported, the value returned in the
    <em class="parameter"><code>imageGranularity</code></em> member of the <code class="code">VkSparseImageFormatProperties</code>
    structure for 3D images is not <span class="normative">required</span> to match the standard sparse
    image block dimensions listed in the table.
</li><li class="listitem">
<em class="parameter"><code>residencyAlignedMipSize</code></em> is <code class="code">VK_TRUE</code> if images with mip level
    dimensions that are not integer multiples of the corresponding
    dimensions of the sparse image block <span class="normative">may</span> be placed in the mip tail.
    If this property is not reported, only mip levels with dimensions
    smaller than the <em class="parameter"><code>imageGranularity</code></em> member of the
    <code class="code">VkSparseImageFormatProperties</code> structure will be placed in the mip
    tail.
    If this property is reported the implementation is allowed to return
    <code class="code">VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> in the <em class="parameter"><code>flags</code></em>
    member of <code class="code">VkSparseImageFormatProperties</code>, indicating that mip level
    dimensions that are not integer multiples of the corresponding
    dimensions of the sparse image block will be placed in the mip tail.
</li><li class="listitem">
<em class="parameter"><code>residencyNonResidentStrict</code></em> specifies whether the physical device
    <span class="normative">can</span> consistently access non-resident regions of a resource.
    If this property is <code class="code">VK_TRUE</code>, access to non-resident regions of
    resources will be guaranteed to return values as if the resource were
    populated with 0; writes to non-resident regions will be discarded.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sparsememory-format-props"></a>28.7.3. Sparse Image Format Properties</h3></div></div></div><p>Given that certain aspects of sparse image support, including the sparse
image block dimensions, <span class="normative">may</span> be implementation-dependent,
<code class="code"><a class="link" href="#vkGetPhysicalDeviceSparseImageFormatProperties">vkGetPhysicalDeviceSparseImageFormatProperties</a></code> <span class="normative">can</span> be used to query
for sparse image format properties prior to resource creation.
This command is used to check whether a given set of sparse image parameters
is supported and what the sparse image block shape will be.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_sparse_image_format_properties_api"></a>Sparse Image Format Properties API</h4></div></div></div><p>The <code class="code">VkSparseImageFormatProperties</code> structure is defined as:</p><p><a id="VkSparseImageFormatProperties"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSparseImageFormatProperties {
    VkImageAspectFlags          aspectMask;
    VkExtent3D                  imageGranularity;
    VkSparseImageFormatFlags    flags;
} VkSparseImageFormatProperties;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>aspectMask</code></em> is a bitmask of <code class="code"><a class="link" href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a></code> specifying
    which aspects of the image the properties apply to.
</li><li class="listitem">
<em class="parameter"><code>imageGranularity</code></em> is the width, height, and depth of the sparse
    image block in texels or compressed texel blocks.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>flags</code></em> is a bitmask specifying additional information about the
    sparse resource.
    Bits which <span class="normative">can</span> be set include:
</p><p><a id="VkSparseImageFormatFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkSparseImageFormatFlagBits {
    VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT = 0x00000001,
    VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT = 0x00000002,
    VK_SPARSE_IMAGE_FORMAT_NONSTANDARD_BLOCK_SIZE_BIT = 0x00000004,
} VkSparseImageFormatFlagBits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
If <code class="code">VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> is set, the image
     uses a single mip tail region for all array layers.
</li><li class="listitem">
If <code class="code">VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> is set, the first
     mip level whose dimensions are not integer multiples of the
     corresponding dimensions of the sparse image block begins the mip tail
     region.
</li><li class="listitem">
If <code class="code">VK_SPARSE_IMAGE_FORMAT_NONSTANDARD_BLOCK_SIZE_BIT</code> is set, the
     image uses non-standard sparse image block dimensions, and the
     <em class="parameter"><code>imageGranularity</code></em> values do not match the standard sparse image
     block dimensions for the given pixel format.
</li></ul></div></li></ul></div><p><span class="strong"><strong><code class="code">vkGetPhysicalDeviceSparseImageFormatProperties</code></strong></span> returns an array of
<code class="code"><a class="link" href="#VkSparseImageFormatProperties">VkSparseImageFormatProperties</a></code>.
Each element will describe properties for one set of image aspects that are
bound simultaneously in the image.
This is usually one element for each aspect in the image, but for
interleaved depth/stencil images there is only one element describing the
combined aspects.</p><p><a id="vkGetPhysicalDeviceSparseImageFormatProperties"></a><strong> </strong>
</p><pre class="programlisting">void vkGetPhysicalDeviceSparseImageFormatProperties(
    VkPhysicalDevice                            physicalDevice,
    VkFormat                                    format,
    VkImageType                                 type,
    VkSampleCountFlagBits                       samples,
    VkImageUsageFlags                           usage,
    VkImageTiling                               tiling,
    uint32_t*                                   pPropertyCount,
    VkSparseImageFormatProperties*              pProperties);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device from which to query the
    sparse image capabilities.
</li><li class="listitem">
<em class="parameter"><code>format</code></em> is the image format.
</li><li class="listitem">
<em class="parameter"><code>type</code></em> is the dimensionality of image.
</li><li class="listitem">
<em class="parameter"><code>samples</code></em> is the number of samples per pixel as defined in
    <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code>.
</li><li class="listitem">
<em class="parameter"><code>usage</code></em> is a bitmask describing the intended usage of the image.
</li><li class="listitem">
<em class="parameter"><code>tiling</code></em> is the tiling arrangement of the data elements in memory.
</li><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> is a pointer to an integer related to the number of
    sparse format properties available or queried, as described below.
</li><li class="listitem">
<em class="parameter"><code>pProperties</code></em> is either <code class="literal">NULL</code> or a pointer to an array of
    <code class="code"><a class="link" href="#VkSparseImageFormatProperties">VkSparseImageFormatProperties</a></code> structures.
</li></ul></div><p>If <em class="parameter"><code>pProperties</code></em> is <code class="literal">NULL</code>, then the number of sparse format properties
available is returned in <em class="parameter"><code>pPropertyCount</code></em>.
Otherwise, <em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> point to a variable set by the user to
the number of elements in the <em class="parameter"><code>pProperties</code></em> array, and on return the
variable is overwritten with the number of structures actually written to
<em class="parameter"><code>pProperties</code></em>.
If <em class="parameter"><code>pPropertyCount</code></em> is less than the number of sparse format properties
available, at most <em class="parameter"><code>pPropertyCount</code></em> structures will be written.</p><p>If <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> is not supported for the given
arguments, <em class="parameter"><code>pPropertyCount</code></em> will be set to zero upon return, and no data
will be written to <em class="parameter"><code>pProperties</code></em>.</p><p>Multiple aspects are returned for depth/stencil images that are implemented
as separate planes by the implementation.
The depth and stencil data planes each have unique
<code class="code">VkSparseImageFormatProperties</code> data.</p><p>Depth/stencil images with depth and stencil data interleaved into a single
plane will return a single <code class="code">VkSparseImageFormatProperties</code> structure
with the <em class="parameter"><code>aspectMask</code></em> set to <code class="code">VK_IMAGE_ASPECT_DEPTH_BIT</code> |
<code class="code">VK_IMAGE_ASPECT_STENCIL_BIT</code>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>format</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> value
</li><li class="listitem">
<em class="parameter"><code>type</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageType">VkImageType</a></code> value
</li><li class="listitem">
<em class="parameter"><code>samples</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> value
</li><li class="listitem">
<em class="parameter"><code>usage</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>usage</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>tiling</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageTiling">VkImageTiling</a></code> value
</li><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pPropertyCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pProperties</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pProperties</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pPropertyCount</code></em> <code class="code">VkSparseImageFormatProperties</code> structures
</li><li class="listitem">
<em class="parameter"><code>samples</code></em> <span class="normative">must</span> be a bit value that is set in <code class="code">VkImageFormatProperties</code>::<em class="parameter"><code>sampleCounts</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceImageFormatProperties</code></strong></span> with <em class="parameter"><code>format</code></em>, <em class="parameter"><code>type</code></em>, <em class="parameter"><code>tiling</code></em>, and <em class="parameter"><code>usage</code></em> equal to those in this command and <em class="parameter"><code>flags</code></em> equal to the value that is set in sname::VkImageCreateInfo::pname::flags when the image is created
</li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sparsememory-resource-creation"></a>28.7.4. Sparse Resource Creation</h3></div></div></div><p>Sparse resources require that one or more sparse feature flags be specified
(as part of the <code class="code">VkPhysicalDeviceFeatures</code> structure described
previously in the <a class="link" href="#sparsememory-physicalfeatures" title="28.7.1. Physical Device Features">Physical Device Features</a>
section) at CreateDevice time.
When the appropriate device features are enabled, the
<code class="code">VK_BUFFER_CREATE_SPARSE_*</code> and <code class="code">VK_IMAGE_CREATE_SPARSE_*</code> flags
<span class="normative">can</span> be used.
See <code class="code"><a class="link" href="#vkCreateBuffer">vkCreateBuffer</a></code> and <code class="code"><a class="link" href="#vkCreateImage">vkCreateImage</a></code> for details of the resource
creation APIs.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Specifying <code class="code">VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> or
<code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> requires specifying
<code class="code">VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> or
<code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>, respectively, as well.
This means that resources <span class="normative">must</span> be created with the appropriate
<code class="code">*_SPARSE_BINDING_BIT</code> to be used with the sparse binding command
(<span class="strong"><strong><code class="code">vkQueueBindSparse</code></strong></span>).</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sparsememory-memory-requirements"></a>28.7.5. Sparse Resource Memory Requirements</h3></div></div></div><p>Sparse resources have specific memory requirements related to binding sparse
memory.
These memory requirements are reported differently for <code class="code">VkBuffer</code>
objects and <code class="code">VkImage</code> objects.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="sparsememory-memory-buffer-fully-resident"></a>Buffer and Fully-Resident Images</h4></div></div></div><p>Buffers (both fully and partially resident) and fully-resident images <span class="normative">can</span>
be bound to memory using only the data from <code class="code">VkMemoryRequirements</code>.
For all sparse resources the <code class="code">VkMemoryRequirements</code>::<em class="parameter"><code>alignment</code></em>
member denotes both the bindable sparse block size in bytes and <span class="normative">required</span>
alignment of <code class="code">VkDeviceMemory</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="sparsememory-memory-partially-resident"></a>Partially Resident Images</h4></div></div></div><p>Partially resident images have a different method for binding memory.
As with buffers and fully resident images, the
<code class="code">VkMemoryRequirements</code>::<em class="parameter"><code>alignment</code></em> field denotes the bindable
sparse block size in bytes for the image.</p><p>Requesting sparse memory requirements for <code class="code">VkImage</code> objects using
<span class="strong"><strong><code class="code">vkGetImageSparseMemoryRequirements</code></strong></span> will return an array of one or more
<code class="code">VkSparseImageMemoryRequirements</code> structures.
Each structure describes the sparse memory requirements for a group of
aspects of the image.</p><p>The sparse image <span class="normative">must</span> have been created using the
<code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> flag to retrieve valid sparse
image memory requirements.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_sparse_image_memory_requirements"></a>Sparse Image Memory Requirements</h4></div></div></div><p>The <code class="code">VkSparseImageMemoryRequirements</code> structure is defined as:</p><p><a id="VkSparseImageMemoryRequirements"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSparseImageMemoryRequirements {
    VkSparseImageFormatProperties    formatProperties;
    uint32_t                         imageMipTailFirstLod;
    VkDeviceSize                     imageMipTailSize;
    VkDeviceSize                     imageMipTailOffset;
    VkDeviceSize                     imageMipTailStride;
} VkSparseImageMemoryRequirements;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>formatProperties.aspectMask</code></em> is the set of aspects of the image
    that this sparse memory requirement applies to.
    This will usually have a single aspect specified.
    However, depth/stencil images <span class="normative">may</span> have depth and stencil data
    interleaved in the same sparse block, in which case both
    <code class="code">VK_IMAGE_ASPECT_DEPTH_BIT</code> and <code class="code">VK_IMAGE_ASPECT_STENCIL_BIT</code>
    would be present.
</li><li class="listitem">
<em class="parameter"><code>formatProperties.imageGranularity</code></em> describes the dimensions of a
    single bindable sparse image block in pixel units.
    For aspect <code class="code">VK_IMAGE_ASPECT_METADATA_BIT</code>, all dimensions will be
    zero pixels.
    All metadata is located in the mip tail region.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>formatProperties.flags</code></em> is a bitmask of
    <code class="code"><a class="link" href="#VkSparseImageFormatFlagBits">VkSparseImageFormatFlagBits</a></code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
If <code class="code">VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> is set the image
     uses a single mip tail region for all array layers.
</li><li class="listitem">
If <code class="code">VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> is set the
     dimensions of mip levels <span class="normative">must</span> be integer multiples of the
     corresponding dimensions of the sparse image block for levels not
     located in the mip tail.
</li><li class="listitem">
If <code class="code">VK_SPARSE_IMAGE_FORMAT_NONSTANDARD_BLOCK_SIZE_BIT</code> is set the
     image uses non-standard sparse image block dimensions.
     The <em class="parameter"><code>formatProperties.imageGranularity</code></em> values do not match the
     standard sparse image block dimension corresponding to the image’s
     pixel format.
</li></ul></div></li><li class="listitem">
<em class="parameter"><code>imageMipTailFirstLod</code></em> is the first mip level at which image
    subresources are included in the mip tail region.
</li><li class="listitem">
<em class="parameter"><code>imageMipTailSize</code></em> is the memory size (in bytes) of the mip tail
    region.
    If <em class="parameter"><code>formatProperties.flags</code></em> contains
    <code class="code">VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code>, this is the size of the
    whole mip tail, otherwise this is the size of the mip tail of a single
    array layer.
    This value is guaranteed to be a multiple of the sparse block size in
    bytes.
</li><li class="listitem">
<em class="parameter"><code>imageMipTailOffset</code></em> is the opaque memory offset used with
    <code class="code"><a class="link" href="#VkSparseImageOpaqueMemoryBindInfo">VkSparseImageOpaqueMemoryBindInfo</a></code> to bind the mip tail region(s).
</li><li class="listitem">
<em class="parameter"><code>imageMipTailStride</code></em> is the offset stride between each array-layer’s
    mip tail, if <em class="parameter"><code>formatProperties.flags</code></em> does not contain
    <code class="code">VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> (otherwise the value is
    undefined).
</li></ul></div><p>To query sparse memory requirements for an image, call:</p><p><a id="vkGetImageSparseMemoryRequirements"></a><strong> </strong>
</p><pre class="programlisting">void vkGetImageSparseMemoryRequirements(
    VkDevice                                    device,
    VkImage                                     image,
    uint32_t*                                   pSparseMemoryRequirementCount,
    VkSparseImageMemoryRequirements*            pSparseMemoryRequirements);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the image.
</li><li class="listitem">
<em class="parameter"><code>image</code></em> is the <code class="code">VkImage</code> object to get the memory requirements
    for.
</li><li class="listitem">
<em class="parameter"><code>pSparseMemoryRequirementCount</code></em> is a pointer to an integer related
    to the number of sparse memory requirements available or queried, as
    described below.
</li><li class="listitem">
<em class="parameter"><code>pSparseMemoryRequirements</code></em> is either <code class="literal">NULL</code> or a pointer to an
    array of <code class="code">VkSparseImageMemoryRequirements</code> structures.
</li></ul></div><p>If <em class="parameter"><code>pSparseMemoryRequirements</code></em> is <code class="literal">NULL</code>, then the number of sparse
memory requirements available is returned in
<em class="parameter"><code>pSparseMemoryRequirementCount</code></em>.
Otherwise, <em class="parameter"><code>pSparseMemoryRequirementCount</code></em> <span class="normative">must</span> point to a variable set
by the user to the number of elements in the <em class="parameter"><code>pSparseMemoryRequirements</code></em>
array, and on return the variable is overwritten with the number of
structures actually written to <em class="parameter"><code>pSparseMemoryRequirements</code></em>.
If <em class="parameter"><code>pSparseMemoryRequirementCount</code></em> is less than the number of sparse
memory requirements available, at most <em class="parameter"><code>pSparseMemoryRequirementCount</code></em>
structures will be written.</p><p>If the image was not created with <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
then <em class="parameter"><code>pSparseMemoryRequirementCount</code></em> will be set to zero and
<em class="parameter"><code>pSparseMemoryRequirements</code></em> will not be written to.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>It is legal for an implementation to report a larger value in
<code class="code">VkMemoryRequirements</code>::<em class="parameter"><code>size</code></em> than would be obtained by adding
together memory sizes for all <code class="code">VkSparseImageMemoryRequirements</code> returned
by <span class="strong"><strong><code class="code">vkGetImageSparseMemoryRequirements</code></strong></span>.
This <span class="normative">may</span> occur when the hardware requires unused padding in the address
range describing the resource.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>pSparseMemoryRequirementCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pSparseMemoryRequirementCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pSparseMemoryRequirements</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pSparseMemoryRequirements</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pSparseMemoryRequirementCount</code></em> <code class="code">VkSparseImageMemoryRequirements</code> structures
</li><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sparsememory-resource-binding"></a>28.7.6. Binding Resource Memory</h3></div></div></div><p>Non-sparse resources are backed by a single physical allocation prior to
device use (via <span class="strong"><strong><code class="code">vkBindImageMemory</code></strong></span> or <span class="strong"><strong><code class="code">vkBindBufferMemory</code></strong></span>), and
their backing <span class="normative">must</span> not be changed.
On the other hand, sparse resources <span class="normative">can</span> be bound to memory non-contiguously
and these bindings <span class="normative">can</span> be altered during the lifetime of the resource.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>It is important to note that freeing a <code class="code">VkDeviceMemory</code> object with
<span class="strong"><strong><code class="code">vkFreeMemory</code></strong></span> will not cause resources (or resource regions) bound to
the memory object to become unbound.
Access to resources that are bound to memory objects that have been freed
will result in undefined behavior, potentially including application
termination.</p><p>Implementations <span class="normative">must</span> ensure that no access to physical memory owned by the
system or another process will occur in this scenario.
In other words, accessing resources bound to freed memory <span class="normative">may</span> result in
application termination, but <span class="normative">must</span> not result in system termination or in
reading non-process-accessible memory.</p></td></tr></table></div><p>Sparse memory bindings execute on a queue that includes the
<code class="code">VK_QUEUE_SPARSE_BINDING_BIT</code> bit.
Applications <span class="normative">must</span> use <a class="link" href="#synchronization" title="Chapter 6. Synchronization and Cache Control">synchronization primitives</a> to
guarantee that other queues do not access ranges of memory concurrently with
a binding change.
Accessing memory in a range while it is being rebound results in undefined
behavior.
It is valid to access other ranges of the same resource while a bind
operation is executing.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Implementations <span class="normative">must</span> provide a guarantee that simultaneously binding sparse
blocks while another queue accesses those same sparse blocks via a sparse
resource <span class="normative">must</span> not access memory owned by another process or otherwise
corrupt the system.</p></td></tr></table></div><p>While some implementations <span class="normative">may</span> include <code class="code">VK_QUEUE_SPARSE_BINDING_BIT</code>
support in queue families that also include graphics and compute support,
other implementations <span class="normative">may</span> only expose a
<code class="code">VK_QUEUE_SPARSE_BINDING_BIT</code>-only queue family.
In either case, applications <span class="normative">must</span> use <a class="link" href="#synchronization" title="Chapter 6. Synchronization and Cache Control">synchronization primitives</a> to explicitly request any ordering dependencies between sparse
memory binding operations and other graphics/compute/transfer operations, as
sparse binding operations are not automatically ordered against command
buffer execution, even within a single queue.</p><p>When binding memory explicitly for the <code class="code">VK_IMAGE_ASPECT_METADATA_BIT</code>
the application <span class="normative">must</span> use the <code class="code">VK_SPARSE_MEMORY_BIND_METADATA_BIT</code> in
the <code class="code">VkSparseMemoryBind</code>::<em class="parameter"><code>flags</code></em> field when binding memory.
Binding memory for metadata is done the same way as binding memory for the
mip tail, with the addition of the <code class="code">VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>
flag.</p><p>Binding the mip tail for any aspect <span class="normative">must</span> only be performed using
<code class="code"><a class="link" href="#VkSparseImageOpaqueMemoryBindInfo">VkSparseImageOpaqueMemoryBindInfo</a></code>.
If <em class="parameter"><code>formatProperties.flags</code></em> contains
<code class="code">VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code>, then it <span class="normative">can</span> be bound with
a single <code class="code"><a class="link" href="#VkSparseMemoryBind">VkSparseMemoryBind</a></code> structure, with <em class="parameter"><code>resourceOffset</code></em> =
<em class="parameter"><code>imageMipTailOffset</code></em> and <em class="parameter"><code>size</code></em> = <em class="parameter"><code>imageMipTailSize</code></em>.</p><p>If <em class="parameter"><code>formatProperties.flags</code></em> does not contain
<code class="code">VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> then the offset for the mip
tail in each array layer is given as:</p><pre class="programlisting">arrayMipTailOffset = imageMipTailOffset + arrayLayer * imageMipTailStride;</pre><p>and the mip tail <span class="normative">can</span> be bound with <span class="strong"><strong><code class="code">layerCount</code></strong></span> <code class="code"><a class="link" href="#VkSparseMemoryBind">VkSparseMemoryBind</a></code>
structures, each using <em class="parameter"><code>size</code></em> = <em class="parameter"><code>imageMipTailSize</code></em> and
<em class="parameter"><code>resourceOffset</code></em> = <em class="parameter"><code>arrayMipTailOffset</code></em> as defined above.</p><p>Sparse memory binding is handled by the following APIs and related data
structures.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="sparsemem-memory-binding"></a>Sparse Memory Binding Functions</h4></div></div></div><p>The <code class="code">VkSparseMemoryBind</code> structure is defined as:</p><p><a id="VkSparseMemoryBind"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSparseMemoryBind {
    VkDeviceSize               resourceOffset;
    VkDeviceSize               size;
    VkDeviceMemory             memory;
    VkDeviceSize               memoryOffset;
    VkSparseMemoryBindFlags    flags;
} VkSparseMemoryBind;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>resourceOffset</code></em> is the offset into the resource.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is the size of the memory region to be bound.
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> is the <code class="code">VkDeviceMemory</code> object that the range of the
    resource is bound to.
    If <em class="parameter"><code>memory</code></em> is <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, the range is unbound.
</li><li class="listitem">
<em class="parameter"><code>memoryOffset</code></em> is the offset into the <code class="code">VkDeviceMemory</code> object to
    bind the resource range to.
    If <em class="parameter"><code>memory</code></em> is <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, this value is ignored.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>flags</code></em> is a bitmask specifying usage of the binding operation.
    Bits which <span class="normative">can</span> be set include:
</p><p><a id="VkSparseMemoryBindFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkSparseMemoryBindFlagBits {
    VK_SPARSE_MEMORY_BIND_METADATA_BIT = 0x00000001,
} VkSparseMemoryBindFlagBits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_SPARSE_MEMORY_BIND_METADATA_BIT</code> indicates that the memory
     being bound is only for the metadata aspect.
</li></ul></div></li></ul></div><p>The <span class="emphasis"><em>binding range</em></span> <span class="inlinemediaobject"><span class="phrase">
$[\mathit{resourceOffset},
\mathit{resourceOffset} + \mathit{size})$
</span></span> has different constraints based
on <em class="parameter"><code>flags</code></em>.
If <em class="parameter"><code>flags</code></em> contains <code class="code">VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>, the
binding range <span class="normative">must</span> be within the mip tail region of the metadata aspect.
This metadata region is defined by:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\mathit{metadataRegion} = [&amp;
        \mathit{imageMipTailOffset} + \mathit{imageMipTailStride} \times n,\\
        &amp;\mathit{imageMipTailOffset} +
                \mathit{imageMipTailStride} \times n + \mathit{imageMipTailSize})
\end{align*}</span></div></div><p>Where <em class="parameter"><code>imageMipTailOffset</code></em>, <em class="parameter"><code>imageMipTailSize</code></em>, and
<em class="parameter"><code>imageMipTailStride</code></em> values are from the
<code class="code"><a class="link" href="#VkSparseImageMemoryRequirements">VkSparseImageMemoryRequirements</a></code> that correspond to the metadata aspect
of the image.
The term <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> is a valid array layer index for the image.</p><p><em class="parameter"><code>imageMipTailStride</code></em> is considered to be zero for aspects where
<code class="code">VkSparseImageMemoryRequirements</code>::<em class="parameter"><code>formatProperties.flags</code></em> contains
<code class="code">VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code>.</p><p>If <em class="parameter"><code>flags</code></em> does not contain <code class="code">VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>,
the binding range <span class="normative">must</span> be within the range <span class="inlinemediaobject"><span class="phrase">
$[0,
{\mathit{VkMemoryRequirements}::\mathit{size}})$
</span></span>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If <em class="parameter"><code>memory</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>memory</code></em> <span class="normative">must</span> be a valid <code class="code">VkDeviceMemory</code> handle
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkSparseMemoryBindFlagBits">VkSparseMemoryBindFlagBits</a></code> values
</li><li class="listitem">
If <em class="parameter"><code>memory</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>memory</code></em> and <em class="parameter"><code>memoryOffset</code></em> <span class="normative">must</span> match the memory requirements of the resource, as described in section <a class="xref" href="#resources-association" title="11.6. Resource Memory Association">Section 11.6, “Resource Memory Association”</a>
</li><li class="listitem">
If <em class="parameter"><code>memory</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>memory</code></em> <span class="normative">must</span> not have been created with a memory type that reports <code class="code">VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set
</li><li class="listitem">
<em class="parameter"><code>size</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>resourceOffset</code></em> <span class="normative">must</span> be less than the size of the resource
</li><li class="listitem">
<em class="parameter"><code>size</code></em> <span class="normative">must</span> be less than or equal to the size of the resource minus <em class="parameter"><code>resourceOffset</code></em>
</li><li class="listitem">
<em class="parameter"><code>memoryOffset</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>memory</code></em>
</li><li class="listitem">
<em class="parameter"><code>size</code></em> <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>memory</code></em> minus <em class="parameter"><code>memoryOffset</code></em>
</li></ul></div></div><p>Memory is bound to <code class="code">VkBuffer</code> objects created with the
<code class="code">VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> flag using the following
structure:</p><p><a id="VkSparseBufferMemoryBindInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSparseBufferMemoryBindInfo {
    VkBuffer                     buffer;
    uint32_t                     bindCount;
    const VkSparseMemoryBind*    pBinds;
} VkSparseBufferMemoryBindInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>buffer</code></em> is the <code class="code">VkBuffer</code> object to be bound.
</li><li class="listitem">
<em class="parameter"><code>bindCount</code></em> is the number of <code class="code">VkSparseMemoryBind</code> structures in
    the <em class="parameter"><code>pBinds</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pBinds</code></em> is a pointer to array of <code class="code">VkSparseMemoryBind</code>
    structures.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>buffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pBinds</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>bindCount</code></em> valid <code class="code">VkSparseMemoryBind</code> structures
</li><li class="listitem">
<em class="parameter"><code>bindCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li></ul></div></div><p>Memory is bound to opaque regions of <code class="code">VkImage</code> objects created with the
<code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flag using the following structure:</p><p><a id="VkSparseImageOpaqueMemoryBindInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSparseImageOpaqueMemoryBindInfo {
    VkImage                      image;
    uint32_t                     bindCount;
    const VkSparseMemoryBind*    pBinds;
} VkSparseImageOpaqueMemoryBindInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>image</code></em> is the <code class="code">VkImage</code> object to be bound.
</li><li class="listitem">
<em class="parameter"><code>bindCount</code></em> is the number of <code class="code">VkSparseMemoryBind</code> structures in
    the <em class="parameter"><code>pBinds</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pBinds</code></em> is a pointer to array of <code class="code">VkSparseMemoryBind</code>
    structures.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>pBinds</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>bindCount</code></em> valid <code class="code">VkSparseMemoryBind</code> structures
</li><li class="listitem">
<em class="parameter"><code>bindCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
For any given element of <em class="parameter"><code>pBinds</code></em>, if the <em class="parameter"><code>flags</code></em> member of that element contains <code class="code">VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>, the binding range defined <span class="normative">must</span> be within the mip tail region of the metadata aspect of <em class="parameter"><code>image</code></em>
</li></ul></div></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This operation is normally used to bind memory to fully-resident sparse
images or for mip tail regions of partially resident images.
However, it <span class="normative">can</span> also be used to bind memory for the entire binding range of
partially resident images.</p><p>In case <em class="parameter"><code>flags</code></em> does not contain
<code class="code">VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>, the <em class="parameter"><code>resourceOffset</code></em> is in the
range <span class="inlinemediaobject"><span class="phrase">
$[0, {\mathit{VkMemoryRequirements}::\mathit{size}})$
</span></span>.
This range includes data from all aspects of the image, including metadata.
For most implementations this will probably mean that the
<em class="parameter"><code>resourceOffset</code></em> is a simple device address offset within the resource.
It is possible for an application to bind a range of memory that includes
both resource data and metadata.
However, the application would not know what part of the image the memory is
used for, or if any range is being used for metadata.</p><p>When <em class="parameter"><code>flags</code></em> contains <code class="code">VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>, the
binding range specified <span class="normative">must</span> be within the mip tail region of the metadata
aspect.
In this case the <em class="parameter"><code>resourceOffset</code></em> is not <span class="normative">required</span> to be a simple device
address offset within the resource.
However, it <span class="emphasis"><em>is</em></span> defined to be within [imageMipTailOffset,
imageMipTailOffset + imageMipTailSize) for the metadata aspect.
See <code class="code"><a class="link" href="#VkSparseMemoryBind">VkSparseMemoryBind</a></code> for the full constraints on binding region with
this flag present.</p></td></tr></table></div><p>Memory <span class="normative">can</span> be bound to sparse image blocks of <code class="code">VkImage</code> objects created
with the <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> flag using the following
structure:</p><p><a id="VkSparseImageMemoryBindInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSparseImageMemoryBindInfo {
    VkImage                           image;
    uint32_t                          bindCount;
    const VkSparseImageMemoryBind*    pBinds;
} VkSparseImageMemoryBindInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>image</code></em> is the <code class="code">VkImage</code> object to be bound
</li><li class="listitem">
<em class="parameter"><code>bindCount</code></em> is the number of <code class="code">VkSparseImageMemoryBind</code>
    structures in pBinds array
</li><li class="listitem">
<em class="parameter"><code>pBinds</code></em> is a pointer to array of <code class="code">VkSparseImageMemoryBind</code>
    structures
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>image</code></em> <span class="normative">must</span> be a valid <code class="code">VkImage</code> handle
</li><li class="listitem">
<em class="parameter"><code>pBinds</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>bindCount</code></em> valid <code class="code">VkSparseImageMemoryBind</code> structures
</li><li class="listitem">
<em class="parameter"><code>bindCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li></ul></div></div><p>The <code class="code">VkSparseImageMemoryBind</code> structure is defined as:</p><p><a id="VkSparseImageMemoryBind"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSparseImageMemoryBind {
    VkImageSubresource         subresource;
    VkOffset3D                 offset;
    VkExtent3D                 extent;
    VkDeviceMemory             memory;
    VkDeviceSize               memoryOffset;
    VkSparseMemoryBindFlags    flags;
} VkSparseImageMemoryBind;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>subresource</code></em> is the aspectMask and region of interest in the image.
</li><li class="listitem">
<em class="parameter"><code>offset</code></em> are the coordinates of the first texel within the image
    subresource to bind.
</li><li class="listitem">
<em class="parameter"><code>extent</code></em> is the size in texels of the region within the image
    subresource to bind.
    The extent <span class="normative">must</span> be a multiple of the sparse image block dimensions,
    except when binding sparse image blocks along the edge of an image
    subresource it <span class="normative">can</span> instead be such that any coordinate of
    <span class="inlinemediaobject"><span class="phrase">
$\mathit{offset} + \mathit{extent}$
</span></span> equals the corresponding
    dimensions of the image subresource.
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> is the <code class="code">VkDeviceMemory</code> object that the sparse image
    blocks of the image are bound to.
    If <em class="parameter"><code>memory</code></em> is <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, the sparse image blocks are
    unbound.
</li><li class="listitem">
<em class="parameter"><code>memoryOffset</code></em> is an offset into <code class="code">VkDeviceMemory</code> object.
    If <em class="parameter"><code>memory</code></em> is <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, this value is ignored.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> are sparse memory binding flags.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>subresource</code></em> <span class="normative">must</span> be a valid <code class="code">VkImageSubresource</code> structure
</li><li class="listitem">
If <em class="parameter"><code>memory</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>memory</code></em> <span class="normative">must</span> be a valid <code class="code">VkDeviceMemory</code> handle
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkSparseMemoryBindFlagBits">VkSparseMemoryBindFlagBits</a></code> values
</li><li class="listitem">
If the <a class="link" href="#features-features-sparseResidencyAliased">sparse aliased residency</a> feature is not enabled, and if any other resources are bound to ranges of <em class="parameter"><code>memory</code></em>, the range of <em class="parameter"><code>memory</code></em> being bound <span class="normative">must</span> not overlap with those bound ranges
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> and <em class="parameter"><code>memoryOffset</code></em> <span class="normative">must</span> match the memory requirements of the calling command’s <em class="parameter"><code>image</code></em>, as described in section <a class="xref" href="#resources-association" title="11.6. Resource Memory Association">Section 11.6, “Resource Memory Association”</a>
</li><li class="listitem">
<em class="parameter"><code>subresource</code></em> <span class="normative">must</span> be a valid image subresource for <em class="parameter"><code>image</code></em> (see <a class="xref" href="#resources-image-views" title="11.5. Image Views">Section 11.5, “Image Views”</a>)
</li><li class="listitem">
<em class="parameter"><code>offset.pname</code></em>:x <span class="normative">must</span> be a multiple of the sparse image block width (<code class="code">VkSparseImageFormatProperties</code>::<em class="parameter"><code>imageGranularity.width</code></em>) of the image
</li><li class="listitem">
<em class="parameter"><code>extent.width</code></em> <span class="normative">must</span> either be a multiple of the sparse image block width of the image, or else <em class="parameter"><code>extent.width</code></em> + <em class="parameter"><code>offset.pname</code></em>:x <span class="normative">must</span> equal the width of the image subresource
</li><li class="listitem">
<em class="parameter"><code>offset.pname</code></em>:y <span class="normative">must</span> be a multiple of the sparse image block height (<code class="code">VkSparseImageFormatProperties</code>::<em class="parameter"><code>imageGranularity.height</code></em>) of the image
</li><li class="listitem">
<em class="parameter"><code>extent.height</code></em> <span class="normative">must</span> either be a multiple of the sparse image block height of the image, or else <em class="parameter"><code>extent.height</code></em> + <em class="parameter"><code>offset.pname</code></em>:y <span class="normative">must</span> equal the height of the image subresource
</li><li class="listitem">
<em class="parameter"><code>offset.pname</code></em>:z <span class="normative">must</span> be a multiple of the sparse image block depth (<code class="code">VkSparseImageFormatProperties</code>::<em class="parameter"><code>imageGranularity.depth</code></em>) of the image
</li><li class="listitem">
<em class="parameter"><code>extent.depth</code></em> <span class="normative">must</span> either be a multiple of the sparse image block depth of the image, or else <em class="parameter"><code>extent.depth</code></em> + <em class="parameter"><code>offset.pname</code></em>:z <span class="normative">must</span> equal the depth of the image subresource
</li></ul></div></div><p>To submit sparse binding operations to a queue, call:</p><p><a id="vkQueueBindSparse"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkQueueBindSparse(
    VkQueue                                     queue,
    uint32_t                                    bindInfoCount,
    const VkBindSparseInfo*                     pBindInfo,
    VkFence                                     fence);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>queue</code></em> is the queue that the sparse binding operations will be
    submitted to.
</li><li class="listitem">
<em class="parameter"><code>bindInfoCount</code></em> is the number of elements in the <em class="parameter"><code>pBindInfo</code></em>
    array.
</li><li class="listitem">
<em class="parameter"><code>pBindInfo</code></em> is an array of <code class="code"><a class="link" href="#VkBindSparseInfo">VkBindSparseInfo</a></code> structures, each
    specifying a sparse binding submission batch.
</li><li class="listitem">
<em class="parameter"><code>fence</code></em> is an optional handle to a fence to be signaled.
    If <em class="parameter"><code>fence</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, it defines a
    <a class="link" href="#synchronization-fences-signaling">fence signal operation</a>.
</li></ul></div><p><span class="strong"><strong><code class="code">vkQueueBindSparse</code></strong></span> is a <a class="link" href="#devsandqueues-submission" title="4.3.5. Queue Submission">queue submission command</a>, with each batch defined by an element of <em class="parameter"><code>pBindInfo</code></em> as an
instance of the <code class="code"><a class="link" href="#VkBindSparseInfo">VkBindSparseInfo</a></code> structure.</p><p>Within a batch, a given range of a resource <span class="normative">must</span> not be bound more than
once.
Across batches, if a range is to be bound to one allocation and offset and
then to another allocation and offset, then the application <span class="normative">must</span> guarantee
(usually using semaphores) that the binding operations are executed in the
correct order, as well as to order binding operations against the execution
of command buffer submissions.</p><p>As no operation to <code class="code"><a class="link" href="#vkQueueBindSparse">vkQueueBindSparse</a></code> causes any pipeline stage to
access memory, synchronization primitives used in this command effectively
only define execution dependencies.</p><p>Additional information about fence and semaphore operation is described in
<a class="link" href="#synchronization" title="Chapter 6. Synchronization and Cache Control">the synchronization chapter</a>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>queue</code></em> <span class="normative">must</span> be a valid <code class="code">VkQueue</code> handle
</li><li class="listitem">
If <em class="parameter"><code>bindInfoCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pBindInfo</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>bindInfoCount</code></em> valid <code class="code">VkBindSparseInfo</code> structures
</li><li class="listitem">
If <em class="parameter"><code>fence</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>fence</code></em> <span class="normative">must</span> be a valid <code class="code">VkFence</code> handle
</li><li class="listitem">
The <em class="parameter"><code>queue</code></em> <span class="normative">must</span> support sparse binding operations
</li><li class="listitem">
Both of <em class="parameter"><code>fence</code></em>, and <em class="parameter"><code>queue</code></em> that are valid handles <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li><li class="listitem">
<em class="parameter"><code>fence</code></em> <span class="normative">must</span> be unsignaled
</li><li class="listitem">
<em class="parameter"><code>fence</code></em> <span class="normative">must</span> not be associated with any other queue command that has not yet completed execution on that queue
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>queue</code></em> <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>pBindInfo</code></em>[].pWaitSemaphores[] <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>pBindInfo</code></em>[].pSignalSemaphores[] <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>pBindInfo</code></em>[].pBufferBinds[].buffer <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>pBindInfo</code></em>[].pImageOpaqueBinds[].image <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>pBindInfo</code></em>[].pImageBinds[].image <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>fence</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="" align="left" valign="top"><p>SPARSE_BINDING</p></td></tr></tbody></table></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkBindSparseInfo</code> structure is defined as:</p><p><a id="VkBindSparseInfo"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkBindSparseInfo {
    VkStructureType                             sType;
    const void*                                 pNext;
    uint32_t                                    waitSemaphoreCount;
    const VkSemaphore*                          pWaitSemaphores;
    uint32_t                                    bufferBindCount;
    const VkSparseBufferMemoryBindInfo*         pBufferBinds;
    uint32_t                                    imageOpaqueBindCount;
    const VkSparseImageOpaqueMemoryBindInfo*    pImageOpaqueBinds;
    uint32_t                                    imageBindCount;
    const VkSparseImageMemoryBindInfo*          pImageBinds;
    uint32_t                                    signalSemaphoreCount;
    const VkSemaphore*                          pSignalSemaphores;
} VkBindSparseInfo;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>waitSemaphoreCount</code></em> is the number of semaphores upon which to wait
    before executing the sparse binding operations for the batch.
</li><li class="listitem">
<em class="parameter"><code>pWaitSemaphores</code></em> is a pointer to an array of semaphores upon which
    to wait on before the sparse binding operations for this batch begin
    execution.
    If semaphores to wait on are provided, they define a
    <a class="link" href="#synchronization-semaphores-waiting">semaphore wait operation</a>.
</li><li class="listitem">
<em class="parameter"><code>bufferBindCount</code></em> is the number of sparse buffer bindings to perform
    in the batch.
</li><li class="listitem">
<em class="parameter"><code>pBufferBinds</code></em> is a pointer to an array of
    <code class="code"><a class="link" href="#VkSparseBufferMemoryBindInfo">VkSparseBufferMemoryBindInfo</a></code> structures.
</li><li class="listitem">
<em class="parameter"><code>imageOpaqueBindCount</code></em> is the number of opaque sparse image bindings
    to perform.
</li><li class="listitem">
<em class="parameter"><code>pImageOpaqueBinds</code></em> is a pointer to an array of
    <code class="code"><a class="link" href="#VkSparseImageOpaqueMemoryBindInfo">VkSparseImageOpaqueMemoryBindInfo</a></code> structures, indicating opaque
    sparse image bindings to perform.
</li><li class="listitem">
<em class="parameter"><code>imageBindCount</code></em> is the number of sparse image bindings to perform.
</li><li class="listitem">
<em class="parameter"><code>pImageBinds</code></em> is a pointer to an array of
    <code class="code"><a class="link" href="#VkSparseImageMemoryBindInfo">VkSparseImageMemoryBindInfo</a></code> structures, indicating sparse image
    bindings to perform.
</li><li class="listitem">
<em class="parameter"><code>signalSemaphoreCount</code></em> is the number of semaphores to be signaled
    once the sparse binding operations specified by the structure have
    completed execution.
</li><li class="listitem">
<em class="parameter"><code>pSignalSemaphores</code></em> is a pointer to an array of semaphores which
    will be signaled when the sparse binding operations for this batch have
    completed execution.
    If semaphores to be signaled are provided, they define a
    <a class="link" href="#synchronization-semaphores-signaling">semaphore signal operation</a>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_BIND_SPARSE_INFO</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
If <em class="parameter"><code>waitSemaphoreCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pWaitSemaphores</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>waitSemaphoreCount</code></em> valid <code class="code">VkSemaphore</code> handles
</li><li class="listitem">
If <em class="parameter"><code>bufferBindCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pBufferBinds</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>bufferBindCount</code></em> valid <code class="code">VkSparseBufferMemoryBindInfo</code> structures
</li><li class="listitem">
If <em class="parameter"><code>imageOpaqueBindCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pImageOpaqueBinds</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>imageOpaqueBindCount</code></em> valid <code class="code">VkSparseImageOpaqueMemoryBindInfo</code> structures
</li><li class="listitem">
If <em class="parameter"><code>imageBindCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pImageBinds</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>imageBindCount</code></em> valid <code class="code">VkSparseImageMemoryBindInfo</code> structures
</li><li class="listitem">
If <em class="parameter"><code>signalSemaphoreCount</code></em> is not <code class="literal">0</code>, <em class="parameter"><code>pSignalSemaphores</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>signalSemaphoreCount</code></em> valid <code class="code">VkSemaphore</code> handles
</li><li class="listitem">
Both of the elements of <em class="parameter"><code>pSignalSemaphores</code></em>, and the elements of <em class="parameter"><code>pWaitSemaphores</code></em> that are valid handles <span class="normative">must</span> have been created, allocated, or retrieved from the same <code class="code">VkDevice</code>
</li></ul></div></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sparsememory-examples"></a>28.8. Examples</h2></div></div></div><p>The following examples illustrate basic creation of sparse images and
binding them to physical memory.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sparsememory-examples-basic"></a>28.8.1. Basic Sparse Resources</h3></div></div></div><p>This basic example creates a normal <code class="code">VkImage</code> object but uses
fine-grained memory allocation to back the resource with multiple memory
ranges.</p><pre class="programlisting">VkDevice                device;
VkQueue                 queue;
VkImage                 sparseImage;
VkMemoryRequirements    memoryRequirements = {};
VkDeviceSize            offset = 0;
VkSparseMemoryBind      binds[MAX_CHUNKS] = {}; // MAX_CHUNKS is NOT part of Vulkan
uint32_t                bindCount = 0;

// ...

// Allocate image object
const VkImageCreateInfo sparseImageInfo =
{
    VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO,        // sType
    NULL,                                       // pNext
    VK_IMAGE_CREATE_SPARSE_BINDING_BIT | ...,   // flags
    ...
};
vkCreateImage(device, &amp;sparseImageInfo, &amp;sparseImage);

// Get memory requirements
vkGetImageMemoryRequirements(
    device,
    sparseImage,
    &amp;memoryRequirements);

// Bind memory in fine-grained fashion, find available memory ranges
// from potentially multiple VkDeviceMemory pools.
// (Illustration purposes only, can be optimized for perf)
while (memoryRequirements.size &amp;&amp; bindCount &lt; MAX_CHUNKS)
{
    VkSparseMemoryBind* pBind = &amp;binds[bindCount];
    pBind-&gt;resourceOffset = offset;

    AllocateOrGetMemoryRange(
        device,
        &amp;memoryRequirements,
        &amp;pBind-&gt;memory,
        &amp;pBind-&gt;memoryOffset,
        &amp;pBind-&gt;size);

    // memory ranges must be sized as multiples of the alignment
    assert(IsMultiple(pBind-&gt;size, memoryRequirements.alignment));
    assert(IsMultiple(pBind-&gt;memoryOffset, memoryRequirements.alignment));

    memoryRequirements.size -= pBind-&gt;size;
    offset                  += pBind-&gt;size;
    bindCount++;
}

// Ensure all image has backing
if (memoryRequirements.size)
{
    // Error condition - too many chunks
}

const VkSparseImageOpaqueMemoryBindInfo opaqueBindInfo =
{
    sparseImage,                                // image
    bindCount,                                  // bindCount
    binds                                       // pBinds
};

const VkBindSparseInfo bindSparseInfo =
{
    VK_STRUCTURE_TYPE_BIND_SPARSE_INFO,         // sType
    NULL,                                       // pNext
    ...
    1,                                          // imageOpaqueBindCount
    &amp;opaqueBindInfo,                            // pImageOpaqueBinds
    ...
};

// vkQueueBindSparse is application synchronized per queue object.
AcquireQueueOwnership(queue);

// Actually bind memory
vkQueueBindSparse(queue, 1, &amp;bindSparseInfo, VK_NULL_HANDLE);

ReleaseQueueOwnership(queue);</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sparsememory-examples-advanced"></a>28.8.2. Advanced Sparse Resources</h3></div></div></div><p>This more advanced example creates an arrayed color attachment / texture
image and binds only LOD zero and the <span class="normative">required</span> metadata to physical memory.</p><pre class="programlisting">VkDevice                            device;
VkQueue                             queue;
VkImage                             sparseImage;
VkMemoryRequirements                memoryRequirements = {};
uint32_t                            sparseRequirementsCount = 0;
VkSparseImageMemoryRequirements*    pSparseReqs = NULL;
VkSparseMemoryBind                  binds[MY_IMAGE_ARRAY_SIZE] = {};
VkSparseImageMemoryBind             imageBinds[MY_IMAGE_ARRAY_SIZE] = {};
uint32_t                            bindCount = 0;

// Allocate image object (both renderable and sampleable)
const VkImageCreateInfo sparseImageInfo =
{
    VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO,        // sType
    NULL,                                       // pNext
    VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT | ..., // flags
    ...
    VK_FORMAT_R8G8B8A8_UNORM,                   // format
    ...
    MY_IMAGE_ARRAY_SIZE,                        // arrayLayers
    ...
    VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT |
    VK_IMAGE_USAGE_SAMPLED_BIT,                 // usage
    ...
};
vkCreateImage(device, &amp;sparseImageInfo, &amp;sparseImage);

// Get memory requirements
vkGetImageMemoryRequirements(
    device,
    sparseImage,
    &amp;memoryRequirements);

// Get sparse image aspect properties
vkGetImageSparseMemoryRequirements(
    device,
    sparseImage,
    &amp;sparseRequirementsCount,
    NULL);

pSparseReqs = (VkSparseImageMemoryRequirements*)
    malloc(sparseRequirementsCount * sizeof(VkSparseImageMemoryRequirements));

vkGetImageSparseMemoryRequirements(
    device,
    sparseImage,
    &amp;sparseRequirementsCount,
    pSparseReqs);

// Bind LOD level 0 and any required metadata to memory
for (uint32_t i = 0; i &lt; sparseRequirementsCount; ++i)
{
    if (pSparseReqs[i].formatProperties.aspectMask &amp;
        VK_IMAGE_ASPECT_METADATA_BIT)
    {
        // Metadata must not be combined with other aspects
        assert(pSparseReqs[i].formatProperties.aspectMask ==
               VK_IMAGE_ASPECT_METADATA_BIT);

        if (pSparseReqs[i].formatProperties.flags &amp;
            VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT)
        {
            VkSparseMemoryBind* pBind = &amp;binds[bindCount];
            pBind-&gt;memorySize = pSparseReqs[i].imageMipTailSize;
            bindCount++;

            // ... Allocate memory range

            pBind-&gt;resourceOffset = pSparseReqs[i].imageMipTailOffset;
            pBind-&gt;memoryOffset = /* allocated memoryOffset */;
            pBind-&gt;memory = /* allocated memory */;
            pBind-&gt;flags = VK_SPARSE_MEMORY_BIND_METADATA_BIT;

        }
        else
        {
            // Need a mip tail region per array layer.
            for (uint32_t a = 0; a &lt; sparseImageInfo.arrayLayers; ++a)
            {
                VkSparseMemoryBind* pBind = &amp;binds[bindCount];
                pBind-&gt;memorySize = pSparseReqs[i].imageMipTailSize;
                bindCount++;

                // ... Allocate memory range

                pBind-&gt;resourceOffset = pSparseReqs[i].imageMipTailOffset +
                                        (a * pSparseReqs[i].imageMipTailStride);

                pBind-&gt;memoryOffset = /* allocated memoryOffset */;
                pBind-&gt;memory = /* allocated memory */
                pBind-&gt;flags = VK_SPARSE_MEMORY_BIND_METADATA_BIT;
            }
        }
    }
    else
    {
        // resource data
        VkExtent3D lod0BlockSize =
        {
            AlignedDivide(
                sparseImageInfo.extent.width,
                pSparseReqs[i].formatProperties.imageGranularity.width);
            AlignedDivide(
                sparseImageInfo.extent.height,
                pSparseReqs[i].formatProperties.imageGranularity.height);
            AlignedDivide(
                sparseImageInfo.extent.depth,
                pSparseReqs[i].formatProperties.imageGranularity.depth);
        }
        size_t totalBlocks =
            lod0BlockSize.width *
            lod0BlockSize.height *
            lod0BlockSize.depth;

        VkDeviceSize lod0MemSize = totalBlocks * memoryRequirements.alignment;

        // Allocate memory for each array layer
        for (uint32_t a = 0; a &lt; sparseImageInfo.arrayLayers; ++a)
        {
            // ... Allocate memory range

            VkSparseImageMemoryBind* pBind = &amp;imageBinds[a];
            pBind-&gt;subresource.aspectMask = pSparseReqs[i].formatProperties.aspectMask;
            pBind-&gt;subresource.mipLevel = 0;
            pBind-&gt;subresource.arrayLayer = a;

            pBind-&gt;offset = (VkOffset3D){0, 0, 0};
            pBind-&gt;extent = sparseImageInfo.extent;
            pBind-&gt;memoryOffset = /* allocated memoryOffset */;
            pBind-&gt;memory = /* allocated memory */;
            pBind-&gt;flags = 0;
        }
    }

    free(pSparseReqs);
}

const VkSparseImageOpaqueMemoryBindInfo opaqueBindInfo =
{
    sparseImage,                                // image
    bindCount,                                  // bindCount
    binds                                       // pBinds
};

const VkSparseImageMemoryBindInfo imageBindInfo =
{
    sparseImage,                                // image
    sparseImageInfo.arrayLayers,                // bindCount
    imageBinds                                  // pBinds
};

const VkBindSparseInfo bindSparseInfo =
{
    VK_STRUCTURE_TYPE_BIND_SPARSE_INFO,         // sType
    NULL,                                       // pNext
    ...
    1,                                          // imageOpaqueBindCount
    &amp;opaqueBindInfo,                            // pImageOpaqueBinds
    1,                                          // imageBindCount
    &amp;imageBindInfo,                             // pImageBinds
    ...
};

// vkQueueBindSparse is application synchronized per queue object.
AcquireQueueOwnership(queue);

// Actually bind memory
vkQueueBindSparse(queue, 1, &amp;bindSparseInfo, VK_NULL_HANDLE);

ReleaseQueueOwnership(queue);</pre></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="wsi"></a>Chapter 29. Window System Integration (WSI)</h1></div></div></div><p>This chapter discusses the window system integration (WSI) between the
Vulkan API and the various forms of displaying the results of rendering to a
user.
Since the Vulkan API <span class="normative">can</span> be used without displaying results, WSI is
provided through the use of optional Vulkan extensions.
This chapter provides an overview of WSI.
See the appendix for additional details of each WSI extension, including
which extensions <span class="normative">must</span> be enabled in order to use each of the functions
described in this chapter.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_wsi_platform"></a>29.1. WSI Platform</h2></div></div></div><p>A platform is an abstraction for a window system, OS, etc.
Some examples include MS Windows, Android, and Wayland.
The Vulkan API <span class="normative">may</span> be integrated in a unique manner for each platform.</p><p>The Vulkan API does not define any type of platform object.
Platform-specific WSI extensions are defined, which contain
platform-specific functions for using WSI.
Use of these extensions is guarded by preprocessor symbols as defined in the
<a class="link" href="#boilerplate-wsi-header" title="D.4.3. Window System-Specific Header Control">Window System-Specific Header Control</a> appendix.</p><p>In order for an application to be compiled to use WSI with a given platform,
it <span class="normative">must</span> #define the appropriate preprocessor symbol prior to including the
"vulkan.h" header file.
Each platform-specific extension is an instance extension.
The application <span class="normative">must</span> enable instance extensions with <span class="strong"><strong><code class="code">vkCreateInstance</code></strong></span>
before using them.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_wsi_surface"></a>29.2. WSI Surface</h2></div></div></div><p>A <code class="code">VkSurfaceKHR</code> object abstracts a native platform surface or window
object for use with Vulkan.
The <code class="literal">VK_KHR_surface extension</code> declares the <code class="code">VkSurfaceKHR</code> object, and
provides a function for destroying <code class="code">VkSurfaceKHR</code> objects.
Separate platform-specific extensions each provide a function for creating a
<code class="code">VkSurfaceKHR</code> object for the respective platform.
From the application’s perspective this is an opaque handle, just like the
handles of other Vulkan objects.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>On certain platforms, the Vulkan loader and ICDs <span class="normative">may</span> have conventions that
treat the handle as a pointer to a struct that contains the
platform-specific information about the surface.
This will be described in the documentation for the loader-ICD interface,
and in the "vk_icd.h" header file of the LoaderAndTools source-code
repository.
This does not affect the loader-layer interface; layers <span class="normative">may</span> wrap
<code class="code">VkSurfaceKHR</code> objects.</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="platformCreateSurface_android"></a>29.2.1. Android Platform</h3></div></div></div><p>To create a <code class="code">VkSurfaceKHR</code> object for an Android native window, call:</p><p><a id="vkCreateAndroidSurfaceKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateAndroidSurfaceKHR(
    VkInstance                                  instance,
    const VkAndroidSurfaceCreateInfoKHR*        pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> is the instance to associate the surface with.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code">VkAndroidSurfaceCreateInfoKHR</code> structure containing parameters
    affecting the creation of the surface object.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a class="link" href="#memory-allocation">Memory Allocation</a>).
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> points to a <code class="code">VkSurfaceKHR</code> handle in which the
    created surface object is returned.
</li></ul></div><p>During the lifetime of a surface created using a particular <span class="strong"><strong><code class="code">ANativeWindow</code></strong></span>
handle any attempts to create another surface for the same <span class="strong"><strong><code class="code">ANativeWindow</code></strong></span> and
any attempts to connect to the same <span class="strong"><strong><code class="code">ANativeWindow</code></strong></span> through other platform
mechanisms will fail.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: NOTE"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">NOTE</th></tr><tr><td align="left" valign="top"><p>In particular, only one <code class="code">VkSurfaceKHR</code> <span class="normative">can</span> exist at a time for a given
window.
Similarly, a native window <span class="normative">cannot</span> be used by both a <code class="code">VkSurfaceKHR</code> and
EGLSurface simultaneously.</p></td></tr></table></div><p>If successful, <span class="strong"><strong><code class="code">vkCreateAndroidSurfaceKHR</code></strong></span> increments the
<span class="strong"><strong><code class="code">ANativeWindow</code></strong></span>’s reference count, and <span class="strong"><strong><code class="code">vkDestroySurfaceKHR</code></strong></span> will
decrement it.</p><p>On Android, when a swapchain’s <em class="parameter"><code>imageExtent</code></em> does not match the
surface’s <em class="parameter"><code>currentExtent</code></em>, the swapchain images will be scaled to the
surface’s dimensions during presentation.
<em class="parameter"><code>minImageExtent</code></em> is <span class="inlinemediaobject"><span class="phrase">
$(1, 1)$
</span></span>, and <em class="parameter"><code>maxImageExtent</code></em> is
the maximum image size supported by the consumer.
For the system compositor, <em class="parameter"><code>currentExtent</code></em> is the window size (i.e.
the consumer’s preferred size).</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> <span class="normative">must</span> be a valid <code class="code">VkInstance</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAndroidSurfaceCreateInfoKHR</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkSurfaceKHR</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkAndroidSurfaceCreateInfoKHR</code> structure is defined as:</p><p><a id="VkAndroidSurfaceCreateInfoKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkAndroidSurfaceCreateInfoKHR {
    VkStructureType                   sType;
    const void*                       pNext;
    VkAndroidSurfaceCreateFlagsKHR    flags;
    ANativeWindow*                    window;
} VkAndroidSurfaceCreateInfoKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>window</code></em> is a pointer to the <span class="strong"><strong><code class="code">ANativeWindow</code></strong></span> to associate the surface
    with.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>window</code></em> <span class="normative">must</span> be a pointer to a <code class="code">ANativeWindow</code> value
</li><li class="listitem">
<em class="parameter"><code>window</code></em> <span class="normative">must</span> not be in a connected state
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="platformCreateSurface_mir"></a>29.2.2. Mir Platform</h3></div></div></div><p>To create a <code class="code">VkSurfaceKHR</code> object for a Mir window, call:</p><p><a id="vkCreateMirSurfaceKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateMirSurfaceKHR(
    VkInstance                                  instance,
    const VkMirSurfaceCreateInfoKHR*            pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> is the instance to associate the surface with.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkMirSurfaceCreateInfoKHR">VkMirSurfaceCreateInfoKHR</a></code> structure containing parameters
    affecting the creation of the surface object.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a class="link" href="#memory-allocation">Memory Allocation</a>).
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> points to a <code class="code">VkSurfaceKHR</code> handle in which the
    created surface object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> <span class="normative">must</span> be a valid <code class="code">VkInstance</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkMirSurfaceCreateInfoKHR</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkSurfaceKHR</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkMirSurfaceCreateInfoKHR</code> structure is defined as:</p><p><a id="VkMirSurfaceCreateInfoKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkMirSurfaceCreateInfoKHR {
    VkStructureType               sType;
    const void*                   pNext;
    VkMirSurfaceCreateFlagsKHR    flags;
    MirConnection*                connection;
    MirSurface*                   mirSurface;
} VkMirSurfaceCreateInfoKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_MIR_SURFACE_CREATE_INFO_KHR</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>connection</code></em> and <em class="parameter"><code>surface</code></em> are pointers to the <span class="strong"><strong><code class="code">MirConnection</code></strong></span> and
    <span class="strong"><strong><code class="code">MirSurface</code></strong></span> for the window to associate the surface with.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_MIR_SURFACE_CREATE_INFO_KHR</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>connection</code></em> <span class="normative">must</span> be a pointer to a <code class="code">MirConnection</code> value
</li><li class="listitem">
<em class="parameter"><code>mirSurface</code></em> <span class="normative">must</span> be a pointer to a <code class="code">MirSurface</code> value
</li></ul></div></div><p>On Mir, when a swapchain’s <em class="parameter"><code>imageExtent</code></em> does not match the surface’s
<em class="parameter"><code>currentExtent</code></em>, the swapchain images will be scaled to the surface’s
dimensions during presentation.
<em class="parameter"><code>minImageExtent</code></em> is <span class="inlinemediaobject"><span class="phrase">
$(1, 1)$
</span></span>, and <em class="parameter"><code>maxImageExtent</code></em> is
the maximum supported surface size.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="platformCreateSurface_wayland"></a>29.2.3. Wayland Platform</h3></div></div></div><p>To create a <code class="code">VkSurfaceKHR</code> object for a Wayland surface, call:</p><p><a id="vkCreateWaylandSurfaceKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateWaylandSurfaceKHR(
    VkInstance                                  instance,
    const VkWaylandSurfaceCreateInfoKHR*        pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> is the instance to associate the surface with.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkWaylandSurfaceCreateInfoKHR">VkWaylandSurfaceCreateInfoKHR</a></code> structure containing parameters
    affecting the creation of the surface object.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a class="link" href="#memory-allocation">Memory Allocation</a>).
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> points to a <code class="code">VkSurfaceKHR</code> handle in which the
    created surface object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> <span class="normative">must</span> be a valid <code class="code">VkInstance</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkWaylandSurfaceCreateInfoKHR</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkSurfaceKHR</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkWaylandSurfaceCreateInfoKHR</code> structure is defined as:</p><p><a id="VkWaylandSurfaceCreateInfoKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkWaylandSurfaceCreateInfoKHR {
    VkStructureType                   sType;
    const void*                       pNext;
    VkWaylandSurfaceCreateFlagsKHR    flags;
    struct wl_display*                display;
    struct wl_surface*                surface;
} VkWaylandSurfaceCreateInfoKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_WAYLAND_SURFACE_CREATE_INFO_KHR</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>display</code></em> and <em class="parameter"><code>surface</code></em> are pointers to the Wayland
    <span class="strong"><strong><code class="code">wl_display</code></strong></span> and <span class="strong"><strong><code class="code">wl_surface</code></strong></span> to associate the surface with.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_WAYLAND_SURFACE_CREATE_INFO_KHR</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>display</code></em> <span class="normative">must</span> be a pointer to a <code class="code">wl_display</code> value
</li><li class="listitem">
<em class="parameter"><code>surface</code></em> <span class="normative">must</span> be a pointer to a <code class="code">wl_surface</code> value
</li></ul></div></div><p>On Wayland, <em class="parameter"><code>currentExtent</code></em> is undefined <span class="inlinemediaobject"><span class="phrase">
$(0,0)$
</span></span>.
Whatever the application sets a swapchain’s <em class="parameter"><code>imageExtent</code></em> to will be the
size of the window, after the first image is presented.
<em class="parameter"><code>minImageExtent</code></em> is <span class="inlinemediaobject"><span class="phrase">
$(1,1)$
</span></span>, and <em class="parameter"><code>maxImageExtent</code></em> is the
maximum supported surface size.</p><p>Some Vulkan functions <span class="normative">may</span> send protocol over the specified <span class="strong"><strong><code class="code">wl_display</code></strong></span>
connection when using a swapchain or presentable images created from a
<code class="code">VkSurfaceKHR</code> referring to a <span class="strong"><strong><code class="code">wl_surface</code></strong></span>.
Applications <span class="normative">must</span> therefore ensure that both the <span class="strong"><strong><code class="code">wl_display</code></strong></span> and the
<span class="strong"><strong><code class="code">wl_surface</code></strong></span> remain valid for the lifetime of any <code class="code">VkSwapchainKHR</code>
objects created from a particular <span class="strong"><strong><code class="code">wl_display</code></strong></span> and <span class="strong"><strong><code class="code">wl_surface</code></strong></span>.
Also, calling <code class="code"><a class="link" href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code> will result in Vulkan sending
<span class="strong"><strong><code class="code">wl_surface</code></strong></span>.commit requests to the underlying <span class="strong"><strong><code class="code">wl_surface</code></strong></span> of each
<code class="code">VkSwapchainKHR</code> objects referenced by <em class="parameter"><code>pPresentInfo</code></em>.
Therefore, if the application wishes to synchronize any window changes with
a particular frame, such requests <span class="normative">must</span> be sent to the Wayland display
server prior to calling <code class="code"><a class="link" href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="platformCreateSurface_win32"></a>29.2.4. Win32 Platform</h3></div></div></div><p>To create a <code class="code">VkSurfaceKHR</code> object for a Win32 window, call:</p><p><a id="vkCreateWin32SurfaceKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateWin32SurfaceKHR(
    VkInstance                                  instance,
    const VkWin32SurfaceCreateInfoKHR*          pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> is the instance to associate the surface with.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code">VkWin32SurfaceCreateInfoKHR</code> structure containing parameters
    affecting the creation of the surface object.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a class="link" href="#memory-allocation">Memory Allocation</a>).
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> points to a <code class="code">VkSurfaceKHR</code> handle in which the
    created surface object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> <span class="normative">must</span> be a valid <code class="code">VkInstance</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkWin32SurfaceCreateInfoKHR</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkSurfaceKHR</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkWin32SurfaceCreateInfoKHR</code> structure is defined as:</p><p><a id="VkWin32SurfaceCreateInfoKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkWin32SurfaceCreateInfoKHR {
    VkStructureType                 sType;
    const void*                     pNext;
    VkWin32SurfaceCreateFlagsKHR    flags;
    HINSTANCE                       hinstance;
    HWND                            hwnd;
} VkWin32SurfaceCreateInfoKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>hinstance</code></em> and <em class="parameter"><code>hwnd</code></em> are the Win32 <span class="strong"><strong><code class="code">HINSTANCE</code></strong></span> and
    <span class="strong"><strong><code class="code">HWND</code></strong></span> for the window to associate the surface with.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li></ul></div></div><p>With Win32, <em class="parameter"><code>minImageExtent</code></em>, <em class="parameter"><code>maxImageExtent</code></em>, and
<em class="parameter"><code>currentExtent</code></em> are the window size.
Therefore, a swapchain’s <em class="parameter"><code>imageExtent</code></em> <span class="normative">must</span> match the window’s size.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="platformCreateSurface_xcb"></a>29.2.5. XCB Platform</h3></div></div></div><p>To create a <code class="code">VkSurfaceKHR</code> object for an X11 window, using the XCB
client-side library, call:</p><p><a id="vkCreateXcbSurfaceKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateXcbSurfaceKHR(
    VkInstance                                  instance,
    const VkXcbSurfaceCreateInfoKHR*            pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> is the instance to associate the surface with.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code">VkXcbSurfaceCreateInfoKHR</code> structure containing parameters
    affecting the creation of the surface object.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a class="link" href="#memory-allocation">Memory Allocation</a>).
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> points to a <code class="code">VkSurfaceKHR</code> handle in which the
    created surface object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> <span class="normative">must</span> be a valid <code class="code">VkInstance</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkXcbSurfaceCreateInfoKHR</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkSurfaceKHR</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkXcbSurfaceCreateInfoKHR</code> structure is defined as:</p><p><a id="VkXcbSurfaceCreateInfoKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkXcbSurfaceCreateInfoKHR {
    VkStructureType               sType;
    const void*                   pNext;
    VkXcbSurfaceCreateFlagsKHR    flags;
    xcb_connection_t*             connection;
    xcb_window_t                  window;
} VkXcbSurfaceCreateInfoKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_XCB_SURFACE_CREATE_INFO_KHR</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>connection</code></em> is a pointer to an <span class="strong"><strong><code class="code">xcb_connection_t</code></strong></span> to the X
    server.
</li><li class="listitem">
<em class="parameter"><code>window</code></em> is the <span class="strong"><strong><code class="code">xcb_window_t</code></strong></span> for the X11 window to associate
    the surface with.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_XCB_SURFACE_CREATE_INFO_KHR</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>connection</code></em> <span class="normative">must</span> be a pointer to a <code class="code">xcb_connection_t</code> value
</li></ul></div></div><p>With Xcb, <em class="parameter"><code>minImageExtent</code></em>, <em class="parameter"><code>maxImageExtent</code></em>, and
<em class="parameter"><code>currentExtent</code></em> are the window size.
Therefore, a swapchain’s <em class="parameter"><code>imageExtent</code></em> <span class="normative">must</span> match the window’s size.</p><p>Some Vulkan functions <span class="normative">may</span> send protocol over the specified xcb connection
when using a swapchain or presentable images created from a VkSurface
referring to an xcb window.
Applications <span class="normative">must</span> therefore ensure the xcb connection is available to
Vulkan for the duration of any functions that manipulate such swapchains or
their presentable images, and any functions that build or queue command
buffers that operate on such presentable images.
Specifically, applications using Vulkan with xcb-based swapchains <span class="normative">must</span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Avoid holding a server grab on an xcb connection while waiting for
    Vulkan operations to complete using a swapchain derived from a different
    xcb connection referring to the same X server instance.
    Failing to do so <span class="normative">may</span> result in deadlock.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="platformCreateSurface_xlib"></a>29.2.6. Xlib Platform</h3></div></div></div><p>To create a <code class="code">VkSurfaceKHR</code> object for an X11 window, using the Xlib
client-side library, call:</p><p><a id="vkCreateXlibSurfaceKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateXlibSurfaceKHR(
    VkInstance                                  instance,
    const VkXlibSurfaceCreateInfoKHR*           pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> is the instance to associate the surface with.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code">VkXlibSurfaceCreateInfoKHR</code> structure containing the parameters
    affecting the creation of the surface object.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a class="link" href="#memory-allocation">Memory Allocation</a>).
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> points to a <code class="code">VkSurfaceKHR</code> handle in which the
    created surface object is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> <span class="normative">must</span> be a valid <code class="code">VkInstance</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkXlibSurfaceCreateInfoKHR</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkSurfaceKHR</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkXlibSurfaceCreateInfoKHR</code> structure is defined as:</p><p><a id="VkXlibSurfaceCreateInfoKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkXlibSurfaceCreateInfoKHR {
    VkStructureType                sType;
    const void*                    pNext;
    VkXlibSurfaceCreateFlagsKHR    flags;
    Display*                       dpy;
    Window                         window;
} VkXlibSurfaceCreateInfoKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_XLIB_SURFACE_CREATE_INFO_KHR</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use.
</li><li class="listitem">
<em class="parameter"><code>dpy</code></em> is a pointer to an Xlib <span class="strong"><strong><code class="code">Display</code></strong></span> connection to the X server.
</li><li class="listitem">
<em class="parameter"><code>window</code></em> is an Xlib <span class="strong"><strong><code class="code">Window</code></strong></span> to associate the surface with.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_XLIB_SURFACE_CREATE_INFO_KHR</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>dpy</code></em> <span class="normative">must</span> be a pointer to a <code class="code">Display</code> value
</li></ul></div></div><p>With Xlib, <em class="parameter"><code>minImageExtent</code></em>, <em class="parameter"><code>maxImageExtent</code></em>, and
<em class="parameter"><code>currentExtent</code></em> are the window size.
Therefore, a swapchain’s <em class="parameter"><code>imageExtent</code></em> <span class="normative">must</span> match the window’s size.</p><p>Some Vulkan functions <span class="normative">may</span> send protocol over the specified Xlib <span class="strong"><strong><code class="code">Display</code></strong></span>
connection when using a swapchain or presentable images created from a
VkSurface referring to an Xlib window.
Applications <span class="normative">must</span> therefore ensure the display connection is available to
Vulkan for the duration of any functions that manipulate such swapchains or
their presentable images, and any functions that build or queue command
buffers that operate on such presentable images.
Specifically, applications using Vulkan with Xlib-based swapchains <span class="normative">must</span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Call <span class="strong"><strong><code class="code">XInitThreads</code></strong></span>() before calling any other Xlib functions if they
    intend to use Vulkan in multiple threads, or use Vulkan and Xlib in
    separate threads.
</li><li class="listitem">
Avoid holding a server grab on a display connection while waiting for
    Vulkan operations to complete using a swapchain derived from a different
    display connection referring to the same X server instance.
    Failing to do so <span class="normative">may</span> result in deadlock.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_platform_independent_information"></a>29.2.7. Platform-Independent Information</h3></div></div></div><p>Once created, <code class="code">VkSurfaceKHR</code> objects <span class="normative">can</span> be used in this and other
extensions, in particular the <code class="literal">VK_KHR_swapchain</code> extension.</p><p>Several WSI functions return <code class="code">VK_ERROR_SURFACE_LOST_KHR</code> if the surface
becomes no longer available.
After such an error, the surface (and any child swapchain, if one exists)
<span class="normative">should</span> be destroyed, as there is no way to restore them to a not-lost
state.
Applications <span class="normative">may</span> attempt to create a new <code class="code">VkSurfaceKHR</code> using the same
native platform window object, but whether such re-creation will succeed is
platform-dependent and <span class="normative">may</span> depend on the reason the surface became
unavailable.
A lost surface does not otherwise cause devices to be
<a class="link" href="#devsandqueues-lost-device" title="4.2.3. Lost Device">lost</a>.</p><p>To destroy a <code class="code">VkSurfaceKHR</code> object, call:</p><p><a id="vkDestroySurfaceKHR"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroySurfaceKHR(
    VkInstance                                  instance,
    VkSurfaceKHR                                surface,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> is the instance used to create the surface.
</li><li class="listitem">
<em class="parameter"><code>surface</code></em> is the surface to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a class="link" href="#memory-allocation">Memory Allocation</a>).
</li></ul></div><p>Destroying a <code class="code">VkSurfaceKHR</code> merely severs the connection between Vulkan
and the native surface, and does not imply destroying the native surface,
closing a window, or similar behavior.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> <span class="normative">must</span> be a valid <code class="code">VkInstance</code> handle
</li><li class="listitem">
If <em class="parameter"><code>surface</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>surface</code></em> <span class="normative">must</span> be a valid <code class="code">VkSurfaceKHR</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
If <em class="parameter"><code>surface</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>instance</code></em>
</li><li class="listitem">
All <code class="code">VkSwapchainKHR</code> objects created for <em class="parameter"><code>surface</code></em> <span class="normative">must</span> have been destroyed prior to destroying <em class="parameter"><code>surface</code></em>
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>surface</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>surface</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>surface</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="display"></a>29.3. Presenting Directly to Display Devices</h2></div></div></div><p>In some environments applications <span class="normative">can</span> also present Vulkan rendering
directly to display devices without using an intermediate windowing system.
This <span class="normative">can</span> be useful for embedded applications, or implementing the
rendering/presentation backend of a windowing system using Vulkan.
The <code class="literal">VK_KHR_display</code> extension provides the functionality necessary to
enumerate display devices and create <code class="code">VkSurface</code> objects that target
displays.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_display_enumeration"></a>29.3.1. Display Enumeration</h3></div></div></div><p>Various functions are provided for enumerating the available display devices
present on a Vulkan physical device.
To query information about the available displays, call:</p><p><a id="vkGetPhysicalDeviceDisplayPropertiesKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetPhysicalDeviceDisplayPropertiesKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t*                                   pPropertyCount,
    VkDisplayPropertiesKHR*                     pProperties);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is a physical device.
</li><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> is a pointer to an integer related to the number of
    display devices available or queried, as described below.
</li><li class="listitem">
<em class="parameter"><code>pProperties</code></em> is either <code class="literal">NULL</code> or a pointer to an array of
    <code class="code">VkDisplayPropertiesKHR</code> structures.
</li></ul></div><p>If <em class="parameter"><code>pProperties</code></em> is <code class="literal">NULL</code>, then the number of display devices available
for <em class="parameter"><code>physicalDevice</code></em> is returned in <em class="parameter"><code>pPropertyCount</code></em>.
Otherwise, <em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> point to a variable set by the user to
the number of elements in the <em class="parameter"><code>pProperties</code></em> array, and on return the
variable is overwritten with the number of structures actually written to
<em class="parameter"><code>pProperties</code></em>.
If the value of <em class="parameter"><code>pPropertyCount</code></em> is less than the number of display
devices for <em class="parameter"><code>physicalDevice</code></em>, at most <em class="parameter"><code>pPropertyCount</code></em> structures
will be written.
If <em class="parameter"><code>pPropertyCount</code></em> is smaller than the number of display devices
available for <em class="parameter"><code>physicalDevice</code></em>, <code class="code">VK_INCOMPLETE</code> will be returned
instead of <code class="code">VK_SUCCESS</code> to indicate that not all the available values
were returned.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pPropertyCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pProperties</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pProperties</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pPropertyCount</code></em> <code class="code">VkDisplayPropertiesKHR</code> structures
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkDisplayPropertiesKHR</code> structure is defined as:</p><p><a id="VkDisplayPropertiesKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDisplayPropertiesKHR {
    VkDisplayKHR                  display;
    const char*                   displayName;
    VkExtent2D                    physicalDimensions;
    VkExtent2D                    physicalResolution;
    VkSurfaceTransformFlagsKHR    supportedTransforms;
    VkBool32                      planeReorderPossible;
    VkBool32                      persistentContent;
} VkDisplayPropertiesKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>display</code></em> is a handle that is used to refer to the display described
    here.
    This handle will be valid for the lifetime of the Vulkan instance.
</li><li class="listitem">
<em class="parameter"><code>displayName</code></em> is a pointer to a NULL-terminated string containing
    the name of the display.
    Generally, this will be the name provided by the display’s EDID.
    It <span class="normative">can</span> be <code class="literal">NULL</code> if no suitable name is available.
</li><li class="listitem">
<em class="parameter"><code>physicalDimensions</code></em> describes the physical width and height of the
    visible portion of the display, in millimeters.
</li><li class="listitem">
<em class="parameter"><code>physicalResolution</code></em> describes the physical, native, or preferred
    resolution of the display.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For devices which have no natural value to return here, implementations
<span class="normative">should</span> return the maximum resolution supported.</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>supportedTransforms</code></em> tells which transforms are supported by this
    display.
    This will contain one or more of the bits from
    <code class="code">VkSurfaceTransformFlagsKHR</code>.
</li><li class="listitem">
<em class="parameter"><code>planeReorderPossible</code></em> tells whether the planes on this display <span class="normative">can</span>
    have their z order changed.
    If this is <code class="code">VK_TRUE</code>, the application <span class="normative">can</span> re-arrange the planes on
    this display in any order relative to each other.
</li><li class="listitem">
<em class="parameter"><code>persistentContent</code></em> tells whether the display supports
    self-refresh/internal buffering.
    If this is true, the application <span class="normative">can</span> submit persistent present
    operations on swapchains created against this display.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Persistent presents <span class="normative">may</span> have higher latency, and <span class="normative">may</span> use less power when
the screen content is updated infrequently, or when only a portion of the
screen needs to be updated in most frames.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>display</code></em> <span class="normative">must</span> be a valid <code class="code">VkDisplayKHR</code> handle
</li><li class="listitem">
<em class="parameter"><code>displayName</code></em> <span class="normative">must</span> be a null-terminated string
</li><li class="listitem">
<em class="parameter"><code>supportedTransforms</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></code> values
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_display_planes"></a>Display Planes</h4></div></div></div><p>Images are presented to individual planes on a display.
Devices <span class="normative">must</span> support at least one plane on each display.
Planes <span class="normative">can</span> be stacked and blended to composite multiple images on one
display.
Devices <span class="normative">may</span> support only a fixed stacking order and fixed mapping between
planes and displays, or they <span class="normative">may</span> allow arbitrary application specified
stacking orders and mappings between planes and displays.
To query the properties of device display planes, call:</p><p><a id="vkGetPhysicalDeviceDisplayPlanePropertiesKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetPhysicalDeviceDisplayPlanePropertiesKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t*                                   pPropertyCount,
    VkDisplayPlanePropertiesKHR*                pProperties);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is a physical device.
</li><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> is a pointer to an integer related to the number of
    display planes available or queried, as described below.
</li><li class="listitem">
<em class="parameter"><code>pProperties</code></em> is either <code class="literal">NULL</code> or a pointer to an array of
    <code class="code">VkDisplayPlanePropertiesKHR</code> structures.
</li></ul></div><p>If <em class="parameter"><code>pProperties</code></em> is <code class="literal">NULL</code>, then the number of display planes available
for <em class="parameter"><code>physicalDevice</code></em> is returned in <em class="parameter"><code>pPropertyCount</code></em>.
Otherwise, <em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> point to a variable set by the user to
the number of elements in the <em class="parameter"><code>pProperties</code></em> array, and on return the
variable is overwritten with the number of structures actually written to
<em class="parameter"><code>pProperties</code></em>.
If the value of <em class="parameter"><code>pPropertyCount</code></em> is less than the number of display
planes for <em class="parameter"><code>physicalDevice</code></em>, at most <em class="parameter"><code>pPropertyCount</code></em> structures
will be written.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pPropertyCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pProperties</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pProperties</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pPropertyCount</code></em> <code class="code">VkDisplayPlanePropertiesKHR</code> structures
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkDisplayPlanePropertiesKHR</code> structure is defined as:</p><p><a id="VkDisplayPlanePropertiesKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDisplayPlanePropertiesKHR {
    VkDisplayKHR    currentDisplay;
    uint32_t        currentStackIndex;
} VkDisplayPlanePropertiesKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>currentDisplay</code></em> is the handle of the display the plane is currently
    associated with.
    If the plane is not currently attached to any displays, this will be
    <code class="code">VK_NULL_HANDLE</code>.
</li><li class="listitem">
<em class="parameter"><code>currentStackIndex</code></em> is the current z-order of the plane.
    This will be between 0 and the value returned by
    <span class="strong"><strong><code class="code">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code></strong></span>() in
    <em class="parameter"><code>pPropertyCount</code></em>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>currentDisplay</code></em> <span class="normative">must</span> be a valid <code class="code">VkDisplayKHR</code> handle
</li></ul></div></div><p>To determine which displays a plane is usable with, call</p><p><a id="vkGetDisplayPlaneSupportedDisplaysKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetDisplayPlaneSupportedDisplaysKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    planeIndex,
    uint32_t*                                   pDisplayCount,
    VkDisplayKHR*                               pDisplays);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is a physical device.
</li><li class="listitem">
<em class="parameter"><code>planeIndex</code></em> is the plane which the application wishes to use, and
    <span class="normative">must</span> be in the range <span class="inlinemediaobject"><span class="phrase">
$[0, \mathit{physical device plane
    count}-1]$
</span></span>.
</li><li class="listitem">
<em class="parameter"><code>pDisplayCount</code></em> is a pointer to an integer related to the number of
    display planes available or queried, as described below.
</li><li class="listitem">
<em class="parameter"><code>pDisplays</code></em> is either <code class="literal">NULL</code> or a pointer to an array of
    <code class="code">VkDisplayKHR</code> structures.
</li></ul></div><p>If <em class="parameter"><code>pDisplays</code></em> is <code class="literal">NULL</code>, then the number of displays usable with the
specified <em class="parameter"><code>planeIndex</code></em> for <em class="parameter"><code>physicalDevice</code></em> is returned in
<em class="parameter"><code>pDisplayCount</code></em>.
Otherwise, <em class="parameter"><code>pDisplayCount</code></em> <span class="normative">must</span> point to a variable set by the user to
the number of elements in the <em class="parameter"><code>pDisplays</code></em> array, and on return the
variable is overwritten with the number of structures actually written to
<em class="parameter"><code>pDisplays</code></em>.
If the value of <em class="parameter"><code>pDisplayCount</code></em> is less than the number of display
planes for <em class="parameter"><code>physicalDevice</code></em>, at most <em class="parameter"><code>pDisplayCount</code></em> structures will
be written.
If <em class="parameter"><code>pDisplayCount</code></em> is smaller than the number of displays usable with
the specified <em class="parameter"><code>planeIndex</code></em> for <em class="parameter"><code>physicalDevice</code></em>, <code class="code">VK_INCOMPLETE</code>
will be returned instead of <code class="code">VK_SUCCESS</code> to indicate that not all the
available values were returned.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pDisplayCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pDisplayCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pDisplays</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pDisplays</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pDisplayCount</code></em> <code class="code">VkDisplayKHR</code> handles
</li><li class="listitem">
<em class="parameter"><code>planeIndex</code></em> <span class="normative">must</span> be less than the number of display planes supported by the device as determined by calling <span class="strong"><strong><code class="code">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code></strong></span>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>Additional properties of displays are queried using specialized query
functions.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_display_modes"></a>Display Modes</h4></div></div></div><p>Each display has one or more supported modes associated with it by default.
These built-in modes are queried by calling:</p><p><a id="vkGetDisplayModePropertiesKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetDisplayModePropertiesKHR(
    VkPhysicalDevice                            physicalDevice,
    VkDisplayKHR                                display,
    uint32_t*                                   pPropertyCount,
    VkDisplayModePropertiesKHR*                 pProperties);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device associated with
    <em class="parameter"><code>display</code></em>.
</li><li class="listitem">
<em class="parameter"><code>display</code></em> is the display to query.
</li><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> is a pointer to an integer related to the number of
    display modes available or queried, as described below.
</li><li class="listitem">
<em class="parameter"><code>pProperties</code></em> is either <code class="literal">NULL</code> or a pointer to an array of
    <code class="code">VkDisplayModePropertiesKHR</code> structures.
</li></ul></div><p>If <em class="parameter"><code>pProperties</code></em> is <code class="literal">NULL</code>, then the number of display modes available
on the specified <em class="parameter"><code>display</code></em> for <em class="parameter"><code>physicalDevice</code></em> is returned in
<em class="parameter"><code>pPropertyCount</code></em>.
Otherwise, <em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> point to a variable set by the user to
the number of elements in the <em class="parameter"><code>pProperties</code></em> array, and on return the
variable is overwritten with the number of structures actually written to
<em class="parameter"><code>pProperties</code></em>.
If the value of <em class="parameter"><code>pPropertyCount</code></em> is less than the number of display
modes for <em class="parameter"><code>physicalDevice</code></em>, at most <em class="parameter"><code>pPropertyCount</code></em> structures will
be written.
If <em class="parameter"><code>pPropertyCount</code></em> is smaller than the number of display modes
available on the specified <em class="parameter"><code>display</code></em> for <em class="parameter"><code>physicalDevice</code></em>,
<code class="code">VK_INCOMPLETE</code> will be returned instead of <code class="code">VK_SUCCESS</code> to indicate
that not all the available values were returned.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>display</code></em> <span class="normative">must</span> be a valid <code class="code">VkDisplayKHR</code> handle
</li><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pPropertyCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pProperties</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pProperties</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pPropertyCount</code></em> <code class="code">VkDisplayModePropertiesKHR</code> structures
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkDisplayModePropertiesKHR</code> structure is defined as:</p><p><a id="VkDisplayModePropertiesKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDisplayModePropertiesKHR {
    VkDisplayModeKHR              displayMode;
    VkDisplayModeParametersKHR    parameters;
} VkDisplayModePropertiesKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>displayMode</code></em> is a handle to the display mode described in this
    structure.
    This handle will be valid for the lifetime of the Vulkan instance.
</li><li class="listitem">
<em class="parameter"><code>parameters</code></em> is a <code class="code">VkDisplayModeParametersKHR</code> structure
    describing the display parameters associated with <em class="parameter"><code>displayMode</code></em>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>displayMode</code></em> <span class="normative">must</span> be a valid <code class="code">VkDisplayModeKHR</code> handle
</li></ul></div></div><p>The <code class="code">VkDisplayModeParametersKHR</code> structure is defined as:</p><p><a id="VkDisplayModeParametersKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDisplayModeParametersKHR {
    VkExtent2D    visibleRegion;
    uint32_t      refreshRate;
} VkDisplayModeParametersKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>visibleRegion</code></em> is the 2D extents of the visible region.
</li><li class="listitem">
<em class="parameter"><code>refreshRate</code></em> is a <span class="strong"><strong><code class="code">uint32_t</code></strong></span> that is the number of times the
    display is refreshed each second multiplied by 1000.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For example, a 60Hz display mode would report a <em class="parameter"><code>refreshRate</code></em> of 60,000.</p></td></tr></table></div><p>Additional modes <span class="normative">may</span> also be created by calling:</p><p><a id="vkCreateDisplayModeKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateDisplayModeKHR(
    VkPhysicalDevice                            physicalDevice,
    VkDisplayKHR                                display,
    const VkDisplayModeCreateInfoKHR*           pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkDisplayModeKHR*                           pMode);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device associated with
    <em class="parameter"><code>display</code></em>.
</li><li class="listitem">
<em class="parameter"><code>display</code></em> is the display to create an additional mode for.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a <code class="code"><a class="link" href="#VkDisplayModeCreateInfoKHR">VkDisplayModeCreateInfoKHR</a></code> structure
    describing the new mode to create.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a class="link" href="#memory-allocation">Memory Allocation</a>).
</li><li class="listitem">
<em class="parameter"><code>pMode</code></em> returns the handle of the mode created.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>display</code></em> <span class="normative">must</span> be a valid <code class="code">VkDisplayKHR</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkDisplayModeCreateInfoKHR</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pMode</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkDisplayModeKHR</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>display</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_INITIALIZATION_FAILED</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkDisplayModeCreateInfoKHR</code> structure is defined as:</p><p><a id="VkDisplayModeCreateInfoKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDisplayModeCreateInfoKHR {
    VkStructureType                sType;
    const void*                    pNext;
    VkDisplayModeCreateFlagsKHR    flags;
    VkDisplayModeParametersKHR     parameters;
} VkDisplayModeCreateInfoKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use, and <span class="normative">must</span> be zero.
</li><li class="listitem">
<em class="parameter"><code>parameters</code></em> is a <code class="code">VkDisplayModeParametersKHR</code> structure
    describing the display parameters to use in creating the new mode.
    If the parameters are not compatible with the specified display, the
    implementation <span class="normative">must</span> return <code class="code">VK_ERROR_INITIALIZATION_FAILED</code>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
The <em class="parameter"><code>width</code></em> and <em class="parameter"><code>height</code></em> members of the <em class="parameter"><code>visibleRegion</code></em> member of <em class="parameter"><code>parameters</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
The <em class="parameter"><code>refreshRate</code></em> member of <em class="parameter"><code>parameters</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li></ul></div></div><p>Applications that wish to present directly to a display <span class="normative">must</span> select which
layer, or "plane" of the display they wish to target, and a mode to use with
the display.
Each display supports at least one plane.
The capabilities of a given mode and plane combination are determined by
calling:</p><p><a id="vkGetDisplayPlaneCapabilitiesKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetDisplayPlaneCapabilitiesKHR(
    VkPhysicalDevice                            physicalDevice,
    VkDisplayModeKHR                            mode,
    uint32_t                                    planeIndex,
    VkDisplayPlaneCapabilitiesKHR*              pCapabilities);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device associated with
    <em class="parameter"><code>display</code></em>
</li><li class="listitem">
<em class="parameter"><code>mode</code></em> is the display mode the application intends to program when
    using the specified plane.
    Note this parameter also implicitly specifies a display.
</li><li class="listitem">
<em class="parameter"><code>planeIndex</code></em> is the plane which the application intends to use with
    the display, and is less than the number of display planes supported by
    the device.
</li><li class="listitem">
<em class="parameter"><code>pCapabilities</code></em> is a pointer to a
    <code class="code"><a class="link" href="#VkDisplayPlaneCapabilitiesKHR">VkDisplayPlaneCapabilitiesKHR</a></code> structure in which the capabilities
    are returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>mode</code></em> <span class="normative">must</span> be a valid <code class="code">VkDisplayModeKHR</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCapabilities</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkDisplayPlaneCapabilitiesKHR</code> structure
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>mode</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkDisplayPlaneCapabilitiesKHR</code> structure is defined as:</p><p><a id="VkDisplayPlaneCapabilitiesKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDisplayPlaneCapabilitiesKHR {
    VkDisplayPlaneAlphaFlagsKHR    supportedAlpha;
    VkOffset2D                     minSrcPosition;
    VkOffset2D                     maxSrcPosition;
    VkExtent2D                     minSrcExtent;
    VkExtent2D                     maxSrcExtent;
    VkOffset2D                     minDstPosition;
    VkOffset2D                     maxDstPosition;
    VkExtent2D                     minDstExtent;
    VkExtent2D                     maxDstExtent;
} VkDisplayPlaneCapabilitiesKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>supportedAlpha</code></em> is a bitmask of
    <code class="code"><a class="link" href="#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a></code> describing the supported alpha
    blending modes.
</li><li class="listitem">
<em class="parameter"><code>minSrcPosition</code></em> is the minimum source rectangle offset supported by
    this plane using the specified mode.
</li><li class="listitem">
<em class="parameter"><code>maxSrcPosition</code></em> is the maximum source rectangle offset supported by
    this plane using the specified mode.
    The <em class="parameter"><code>x</code></em> and <em class="parameter"><code>y</code></em> components of <em class="parameter"><code>maxSrcPosition</code></em> <span class="normative">must</span> each be
    greater than or equal to the <em class="parameter"><code>x</code></em> and <em class="parameter"><code>y</code></em> components of
    <em class="parameter"><code>minSrcPosition</code></em>, respectively.
</li><li class="listitem">
<em class="parameter"><code>minSrcExtent</code></em> is the minimum source rectangle size supported by
    this plane using the specified mode.
</li><li class="listitem">
<em class="parameter"><code>maxSrcExtent</code></em> is the maximum source rectangle size supported by
    this plane using the specified mode.
</li><li class="listitem">
<em class="parameter"><code>minDstPosition</code></em>, <em class="parameter"><code>maxDstPosition</code></em>, <em class="parameter"><code>minDstExtent</code></em>,
    <em class="parameter"><code>maxDstExtent</code></em> all have similar semantics to their corresponding
    "Src" equivalents, but apply to the output region within the mode rather
    than the input region within the source image.
    Unlike the "Src" offsets, <em class="parameter"><code>minDstPosition</code></em> and <em class="parameter"><code>maxDstPosition</code></em>
    <span class="normative">may</span> contain negative values.
</li></ul></div><p>The minimum and maximum position and extent fields describe the hardware
limits, if any, as they apply to the specified display mode and plane.
Vendors <span class="normative">may</span> support displaying a subset of a swapchain’s presentable images
on the specified display plane.
This is expressed by returning <em class="parameter"><code>minSrcPosition</code></em>, <em class="parameter"><code>maxSrcPosition</code></em>,
<em class="parameter"><code>minSrcExtent</code></em>, and <em class="parameter"><code>maxSrcExtent</code></em> values that indicate a range of
possible positions and sizes <span class="normative">may</span> be used to specify the region within the
presentable images that source pixels will be read from when creating a
swapchain on the specified display mode and plane.</p><p>Vendors <span class="normative">may</span> also support mapping the presentable images' content to a
subset or superset of the visible region in the specified display mode.
This is expressed by returning <em class="parameter"><code>minDstPosition</code></em>, <em class="parameter"><code>maxDstPosition</code></em>,
<em class="parameter"><code>minDstExtent</code></em> and <em class="parameter"><code>maxDstExtent</code></em> values that indicate a range of
possible positions and sizes <span class="normative">may</span> be used to describe the region within the
display mode that the source pixels will be mapped to.</p><p>Other vendors <span class="normative">may</span> support only a 1-1 mapping between pixels in the
presentable images and the display mode.
This <span class="normative">may</span> be indicated by returning (0,0) for <em class="parameter"><code>minSrcPosition</code></em>,
<em class="parameter"><code>maxSrcPosition</code></em>, <em class="parameter"><code>minDstPosition</code></em>, and <em class="parameter"><code>maxDstPosition</code></em>, and
(display mode width, display mode height) for <em class="parameter"><code>minSrcExtent</code></em>,
<em class="parameter"><code>maxSrcExtent</code></em>, <em class="parameter"><code>minDstExtent</code></em>, and <em class="parameter"><code>maxDstExtent</code></em>.</p><p>These values indicate the limits of the hardware’s individual fields.
Not all combinations of values within the offset and extent ranges returned
in <code class="code">VkDisplayPlaneCapabilitiesKHR</code> are guaranteed to be supported.
Vendors <span class="normative">may</span> still fail presentation requests that specify unsupported
combinations.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>supportedAlpha</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a></code> values
</li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_display_surfaces"></a>29.3.2. Display Surfaces</h3></div></div></div><p>A complete display configuration includes a mode, one or more display planes
and any parameters describing their behavior, and parameters describing some
aspects of the images associated with those planes.
Display surfaces describe the configuration of a single plane within a
complete display configuration.
To create a <code class="code">VkSurfaceKHR</code> structure for a display surface, call:</p><p><a id="vkCreateDisplayPlaneSurfaceKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateDisplayPlaneSurfaceKHR(
    VkInstance                                  instance,
    const VkDisplaySurfaceCreateInfoKHR*        pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> is the instance corresponding to the physical device the
    targeted display is on.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a></code> structure specifying which mode,
    plane, and other parameters to use, as described below.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> is the allocator used for host memory allocated for the
    surface object when there is no more specific allocator available (see
    <a class="link" href="#memory-allocation">Memory Allocation</a>).
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> points to a <code class="code">VkSurfaceKHR</code> handle in which the
    created surface is returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>instance</code></em> <span class="normative">must</span> be a valid <code class="code">VkInstance</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkDisplaySurfaceCreateInfoKHR</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pSurface</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkSurfaceKHR</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkDisplaySurfaceCreateInfoKHR</code> structure is defined as:</p><p><a id="VkDisplaySurfaceCreateInfoKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDisplaySurfaceCreateInfoKHR {
    VkStructureType                   sType;
    const void*                       pNext;
    VkDisplaySurfaceCreateFlagsKHR    flags;
    VkDisplayModeKHR                  displayMode;
    uint32_t                          planeIndex;
    uint32_t                          planeStackIndex;
    VkSurfaceTransformFlagBitsKHR     transform;
    float                             globalAlpha;
    VkDisplayPlaneAlphaFlagBitsKHR    alphaMode;
    VkExtent2D                        imageExtent;
} VkDisplaySurfaceCreateInfoKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use, and <span class="normative">must</span> be zero.
</li><li class="listitem">
<em class="parameter"><code>displayMode</code></em> is the mode to use when displaying this surface.
</li><li class="listitem">
<em class="parameter"><code>planeIndex</code></em> is the plane on which this surface appears.
</li><li class="listitem">
<em class="parameter"><code>planeStackIndex</code></em> is the z-order of the plane.
</li><li class="listitem">
<em class="parameter"><code>transform</code></em> is the transform to apply to the images as part of the
    scanout operation.
</li><li class="listitem">
<em class="parameter"><code>globalAlpha</code></em> is the global alpha value.
    This value is ignored if <em class="parameter"><code>alphaMode</code></em> is not
    <code class="code">VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR</code>.
</li><li class="listitem">
<em class="parameter"><code>alphaMode</code></em> is the type of alpha blending to use.
</li><li class="listitem">
<em class="parameter"><code>imageSize</code></em> The size of the presentable images to use with the
    surface.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Creating a display surface <span class="normative">must</span> not modify the state of the displays,
planes, or other resources it names.
For example, it <span class="normative">must</span> not apply the specified mode to be set on the
associated display.
Application of display configuration occurs as a side effect of presenting
to a display surface.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>displayMode</code></em> <span class="normative">must</span> be a valid <code class="code">VkDisplayModeKHR</code> handle
</li><li class="listitem">
<em class="parameter"><code>transform</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></code> value
</li><li class="listitem">
<em class="parameter"><code>alphaMode</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a></code> value
</li><li class="listitem">
<em class="parameter"><code>planeIndex</code></em> <span class="normative">must</span> be less than the number of display planes supported by the device as determined by calling <span class="strong"><strong><code class="code">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code></strong></span>
</li><li class="listitem">
If the <em class="parameter"><code>planeReorderPossible</code></em> member of the <code class="code">VkDisplayPropertiesKHR</code> structure returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceDisplayPropertiesKHR</code></strong></span> for the display corresponding to <em class="parameter"><code>displayMode</code></em> is <code class="code">VK_TRUE</code> then <em class="parameter"><code>planeStackIndex</code></em> <span class="normative">must</span> be less than the number of display planes supported by the device as determined by calling <span class="strong"><strong><code class="code">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code></strong></span>; otherwise <em class="parameter"><code>planeStackIndex</code></em> <span class="normative">must</span> equal the <em class="parameter"><code>currentStackIndex</code></em> member of <code class="code">VkDisplayPlanePropertiesKHR</code> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code></strong></span> for the display plane corresponding to <em class="parameter"><code>displayMode</code></em>
</li><li class="listitem">
If <em class="parameter"><code>alphaMode</code></em> is <code class="code">VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR</code> then <em class="parameter"><code>globalAlpha</code></em> <span class="normative">must</span> be between <code class="literal">0</code> and <code class="literal">1</code>, inclusive
</li><li class="listitem">
<em class="parameter"><code>alphaMode</code></em> <span class="normative">must</span> be <code class="literal">0</code> or one of the bits present in the <em class="parameter"><code>supportedAlpha</code></em> member of <code class="code">VkDisplayPlaneCapabilitiesKHR</code> returned by <span class="strong"><strong><code class="code">vkGetDisplayPlaneCapabilitiesKHR</code></strong></span> for the display plane corresponding to <em class="parameter"><code>displayMode</code></em>
</li><li class="listitem">
The <em class="parameter"><code>width</code></em> and <em class="parameter"><code>height</code></em> members of <em class="parameter"><code>imageExtent</code></em> <span class="normative">must</span> be less than the <em class="parameter"><code>maxImageDimensions2D</code></em> member of <code class="code">VkPhysicalDeviceLimits</code>
</li></ul></div></div><p>Types of alpha blending supported by or used on a display are defined by the
bitmask <code class="code">VkDisplayPlaneAlphaFlagBitsKHR</code>, which contains the following
values:</p><p><a id="VkDisplayPlaneAlphaFlagBitsKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkDisplayPlaneAlphaFlagBitsKHR {
    VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR = 0x00000001,
    VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR = 0x00000002,
    VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR = 0x00000004,
    VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_PREMULTIPLIED_BIT_KHR = 0x00000008,
} VkDisplayPlaneAlphaFlagBitsKHR;</pre><p>
</p><p>These values are described as follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR</code>: The source image will be
    treated as opaque.
</li><li class="listitem">
<code class="code">VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR</code>: A global alpha value <span class="normative">must</span>
    be specified that will be applied to all pixels in the source image.
</li><li class="listitem">
<code class="code">VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR</code>: The alpha value will be
    determined by the alpha channel of the source image’s pixels.
    If the source format contains no alpha values, no blending will be
    applied.
    The source alpha values are not premultiplied into the source image’s
    other color channels.
</li><li class="listitem">
<code class="code">VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_PREMULTIPLIED_BIT_KHR</code>: This is
    equivalent to <code class="code">VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR</code> except the
    source alpha values are assumed to be premultiplied into the source
    image’s other color channels.
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_querying_for_wsi_support"></a>29.4. Querying for WSI Support</h2></div></div></div><p>Not all physical devices will include WSI support.
Within a physical device, not all queue families will support presentation.
WSI support and compatibility <span class="normative">can</span> be determined in a platform-neutral
manner (which determines support for presentation to a particular surface
object) and additionally <span class="normative">may</span> be determined in platform-specific manners
(which determine support for presentation on the specified physical device
but do not guarantee support for presentation to a particular surface
object).</p><p>To determine whether a queue family of a physical device supports
presentation to a given surface, call:</p><p><a id="vkGetPhysicalDeviceSurfaceSupportKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetPhysicalDeviceSurfaceSupportKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    queueFamilyIndex,
    VkSurfaceKHR                                surface,
    VkBool32*                                   pSupported);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device.
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> is the queue family.
</li><li class="listitem">
<em class="parameter"><code>surface</code></em> is the surface.
</li><li class="listitem">
<em class="parameter"><code>pSupported</code></em> is a pointer to a <code class="code">VkBool32</code>, which is set to
    <code class="code">VK_TRUE</code> to indicate support, and <code class="code">VK_FALSE</code> otherwise.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>surface</code></em> <span class="normative">must</span> be a valid <code class="code">VkSurfaceKHR</code> handle
</li><li class="listitem">
<em class="parameter"><code>pSupported</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkBool32</code> value
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> <span class="normative">must</span> be less than <em class="parameter"><code>pQueueFamilyPropertyCount</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceQueueFamilyProperties</code></strong></span> for the given <em class="parameter"><code>physicalDevice</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_SURFACE_LOST_KHR</code>
</li></ul></div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="platformQuerySupport_android"></a>29.4.1. Android Platform</h3></div></div></div><p>On Android, all physical devices and queue families <span class="normative">must</span> be capable of
presentation with any native window.
As a result there is no Android-specific query for these capabilities.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="platformQuerySupport_mir"></a>29.4.2. Mir Platform</h3></div></div></div><p>To determine whether a queue family of a physical device supports
presentation to the Mir compositor, call:</p><p><a id="vkGetPhysicalDeviceMirPresentationSupportKHR"></a><strong> </strong>
</p><pre class="programlisting">VkBool32 vkGetPhysicalDeviceMirPresentationSupportKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    queueFamilyIndex,
    MirConnection*                              connection);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device.
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> is the queue family index.
</li><li class="listitem">
<em class="parameter"><code>connection</code></em> is a pointer to the <span class="strong"><strong><code class="code">MirConnection</code></strong></span>, and identifies
    the desired Mir compositor.
</li></ul></div><p>This platform-specific function <span class="normative">can</span> be called prior to creating a surface.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>connection</code></em> <span class="normative">must</span> be a pointer to a <code class="code">MirConnection</code> value
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> <span class="normative">must</span> be less than <em class="parameter"><code>pQueueFamilyPropertyCount</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceQueueFamilyProperties</code></strong></span> for the given <em class="parameter"><code>physicalDevice</code></em>
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="platformQuerySupport_walyand"></a>29.4.3. Wayland Platform</h3></div></div></div><p>To determine whether a queue family of a physical device supports
presentation to a Wayland compositor, call:</p><p><a id="vkGetPhysicalDeviceWaylandPresentationSupportKHR"></a><strong> </strong>
</p><pre class="programlisting">VkBool32 vkGetPhysicalDeviceWaylandPresentationSupportKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    queueFamilyIndex,
    struct wl_display*                          display);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device.
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> is the queue family index.
</li><li class="listitem">
<em class="parameter"><code>display</code></em> is a pointer to the <span class="strong"><strong><code class="code">wl_display</code></strong></span> associated with a
    Wayland compositor.
</li></ul></div><p>This platform-specific function <span class="normative">can</span> be called prior to creating a surface.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>display</code></em> <span class="normative">must</span> be a pointer to a <code class="code">wl_display</code> value
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> <span class="normative">must</span> be less than <em class="parameter"><code>pQueueFamilyPropertyCount</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceQueueFamilyProperties</code></strong></span> for the given <em class="parameter"><code>physicalDevice</code></em>
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="platformQuerySupport_win32"></a>29.4.4. Win32 Platform</h3></div></div></div><p>To determine whether a queue family of a physical device supports
presentation to the Microsoft Windows desktop, call:</p><p><a id="vkGetPhysicalDeviceWin32PresentationSupportKHR"></a><strong> </strong>
</p><pre class="programlisting">VkBool32 vkGetPhysicalDeviceWin32PresentationSupportKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    queueFamilyIndex);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device.
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> is the queue family index.
</li></ul></div><p>This platform-specific function <span class="normative">can</span> be called prior to creating a surface.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> <span class="normative">must</span> be less than <em class="parameter"><code>pQueueFamilyPropertyCount</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceQueueFamilyProperties</code></strong></span> for the given <em class="parameter"><code>physicalDevice</code></em>
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="platformQuerySupport_xcb"></a>29.4.5. XCB Platform</h3></div></div></div><p>To determine whether a queue family of a physical device supports
presentation to an X11 server, using the XCB client-side library, call:</p><p><a id="vkGetPhysicalDeviceXcbPresentationSupportKHR"></a><strong> </strong>
</p><pre class="programlisting">VkBool32 vkGetPhysicalDeviceXcbPresentationSupportKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    queueFamilyIndex,
    xcb_connection_t*                           connection,
    xcb_visualid_t                              visual_id);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device.
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> is the queue family index.
</li><li class="listitem">
<em class="parameter"><code>connection</code></em> is a pointer to an <span class="strong"><strong><code class="code">xcb_connection_t</code></strong></span> to the X
    server.
    <em class="parameter"><code>visual_id</code></em> is an X11 visual (<span class="strong"><strong><code class="code">xcb_visualid_t</code></strong></span>).
</li></ul></div><p>This platform-specific function <span class="normative">can</span> be called prior to creating a surface.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>connection</code></em> <span class="normative">must</span> be a pointer to a <code class="code">xcb_connection_t</code> value
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> <span class="normative">must</span> be less than <em class="parameter"><code>pQueueFamilyPropertyCount</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceQueueFamilyProperties</code></strong></span> for the given <em class="parameter"><code>physicalDevice</code></em>
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="platformQuerySupport_xlib"></a>29.4.6. Xlib Platform</h3></div></div></div><p>To determine whether a queue family of a physical device supports
presentation to an X11 server, using the Xlib client-side library, call:</p><p><a id="vkGetPhysicalDeviceXlibPresentationSupportKHR"></a><strong> </strong>
</p><pre class="programlisting">VkBool32 vkGetPhysicalDeviceXlibPresentationSupportKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    queueFamilyIndex,
    Display*                                    dpy,
    VisualID                                    visualID);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device.
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> is the queue family index.
</li><li class="listitem">
<em class="parameter"><code>dpy</code></em> is a pointer to an Xlib <span class="strong"><strong><code class="code">Display</code></strong></span> connection to the
    server.
</li><li class="listitem">
<em class="parameter"><code>visualId</code></em> is an X11 visual (<span class="strong"><strong><code class="code">VisualID</code></strong></span>).
</li></ul></div><p>This platform-specific function <span class="normative">can</span> be called prior to creating a surface.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>dpy</code></em> <span class="normative">must</span> be a pointer to a <code class="code">Display</code> value
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndex</code></em> <span class="normative">must</span> be less than <em class="parameter"><code>pQueueFamilyPropertyCount</code></em> returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceQueueFamilyProperties</code></strong></span> for the given <em class="parameter"><code>physicalDevice</code></em>
</li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_surface_queries"></a>29.5. Surface Queries</h2></div></div></div><p>To query the basic capabilities of a surface, needed in order to create a
swapchain, call:</p><p><a id="vkGetPhysicalDeviceSurfaceCapabilitiesKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetPhysicalDeviceSurfaceCapabilitiesKHR(
    VkPhysicalDevice                            physicalDevice,
    VkSurfaceKHR                                surface,
    VkSurfaceCapabilitiesKHR*                   pSurfaceCapabilities);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device that will be associated with
    the swapchain to be created, as described for
    <code class="code"><a class="link" href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>.
</li><li class="listitem">
<em class="parameter"><code>surface</code></em> is the surface that will be associated with the swapchain.
</li><li class="listitem">
<em class="parameter"><code>pSurfaceCapabilities</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a></code> structure in which the capabilities are
    returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>surface</code></em> <span class="normative">must</span> be a valid <code class="code">VkSurfaceKHR</code> handle
</li><li class="listitem">
<em class="parameter"><code>pSurfaceCapabilities</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkSurfaceCapabilitiesKHR</code> structure
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_SURFACE_LOST_KHR</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkSurfaceCapabilitiesKHR</code> structure is defined as:</p><p><a id="VkSurfaceCapabilitiesKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSurfaceCapabilitiesKHR {
    uint32_t                         minImageCount;
    uint32_t                         maxImageCount;
    VkExtent2D                       currentExtent;
    VkExtent2D                       minImageExtent;
    VkExtent2D                       maxImageExtent;
    uint32_t                         maxImageArrayLayers;
    VkSurfaceTransformFlagsKHR       supportedTransforms;
    VkSurfaceTransformFlagBitsKHR    currentTransform;
    VkCompositeAlphaFlagsKHR         supportedCompositeAlpha;
    VkImageUsageFlags                supportedUsageFlags;
} VkSurfaceCapabilitiesKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>minImageCount</code></em> is the minimum number of images the specified device
    supports for a swapchain created for the surface.
</li><li class="listitem">
<em class="parameter"><code>maxImageCount</code></em> is the maximum number of images the specified device
    supports for a swapchain created for the surface.
    A value of 0 means that there is no limit on the number of images,
    though there <span class="normative">may</span> be limits related to the total amount of memory used
    by swapchain images.
</li><li class="listitem">
<em class="parameter"><code>currentExtent</code></em> is the current width and height of the surface, or
    the special value <span class="inlinemediaobject"><span class="phrase">
$(0xFFFFFFFF, 0xFFFFFFFF)$
</span></span> indicating that
    the surface size will be determined by the extent of a swapchain
    targeting the surface.
</li><li class="listitem">
<em class="parameter"><code>minImageExtent</code></em> contains the smallest valid swapchain extent for
    the surface on the specified device.
</li><li class="listitem">
<em class="parameter"><code>maxImageExtent</code></em> contains the largest valid swapchain extent for the
    surface on the specified device.
</li><li class="listitem">
<em class="parameter"><code>maxImageArrayLayers</code></em> is the maximum number of layers swapchain
    images <span class="normative">can</span> have for a swapchain created for this device and surface.
</li><li class="listitem">
<em class="parameter"><code>supportedTransforms</code></em> is a bitmask of
    <code class="code"><a class="link" href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></code>, describing the presentation
    transforms supported for the surface on the specified device.
</li><li class="listitem">
<em class="parameter"><code>currentTransform</code></em> is a bitmask of
    <code class="code"><a class="link" href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></code>, describing the surface’s current
    transform relative to the presentation engine’s natural orientation.
</li><li class="listitem">
<em class="parameter"><code>supportedCompositeAlpha</code></em> is a bitmask of
    <code class="code"><a class="link" href="#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a></code>, representing the alpha compositing
    modes supported by the presentation engine for the surface on the
    specified device.
    Opaque composition <span class="normative">can</span> be achieved in any alpha compositing mode by
    either using a swapchain image format that has no alpha component, or by
    ensuring that all pixels in the swapchain images have an alpha value of
    1.0.
</li><li class="listitem">
<em class="parameter"><code>supportedUsageFlags</code></em> is a bitmask of <code class="code"><a class="link" href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code>
    representing the ways the application <span class="normative">can</span> use the presentable images of
    a swapchain created for the surface on the specified device.
    <code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> <span class="normative">must</span> be included in the set
    but implementations <span class="normative">may</span> support additional usages.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Formulas such as <span class="inlinemediaobject"><span class="phrase">
$\min(N,maxImageCount)$
</span></span> are not correct, since
<em class="parameter"><code>maxImageCount</code></em> <span class="normative">may</span> be zero.</p></td></tr></table></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>supportedTransforms</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></code> values
</li><li class="listitem">
<em class="parameter"><code>currentTransform</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></code> value
</li><li class="listitem">
<em class="parameter"><code>supportedCompositeAlpha</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a></code> values
</li><li class="listitem">
<em class="parameter"><code>supportedUsageFlags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code> values
</li></ul></div></div><p>The <em class="parameter"><code>supportedTransforms</code></em> and <em class="parameter"><code>currentTransform</code></em> members are of type
<code class="code">VkSurfaceTransformFlagBitsKHR</code>, which contains the following values:</p><p><a id="VkSurfaceTransformFlagBitsKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkSurfaceTransformFlagBitsKHR {
    VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR = 0x00000001,
    VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR = 0x00000002,
    VK_SURFACE_TRANSFORM_ROTATE_180_BIT_KHR = 0x00000004,
    VK_SURFACE_TRANSFORM_ROTATE_270_BIT_KHR = 0x00000008,
    VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_BIT_KHR = 0x00000010,
    VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_90_BIT_KHR = 0x00000020,
    VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_180_BIT_KHR = 0x00000040,
    VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_270_BIT_KHR = 0x00000080,
    VK_SURFACE_TRANSFORM_INHERIT_BIT_KHR = 0x00000100,
} VkSurfaceTransformFlagBitsKHR;</pre><p>
</p><p>These values are described as follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</code>: The image content is
    presented without being transformed.
</li><li class="listitem">
<code class="code">VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR</code>: The image content is
    rotated 90 degrees clockwise.
</li><li class="listitem">
<code class="code">VK_SURFACE_TRANSFORM_ROTATE_180_BIT_KHR</code>: The image content is
    rotated 180 degrees clockwise.
</li><li class="listitem">
<code class="code">VK_SURFACE_TRANSFORM_ROTATE_270_BIT_KHR</code>: The image content is
    rotated 270 degrees clockwise.
</li><li class="listitem">
<code class="code">VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_BIT_KHR</code>: The image content
    is mirrored horizontally.
</li><li class="listitem">
<code class="code">VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_90_BIT_KHR</code>: The
    image content is mirrored horizontally, then rotated 90 degrees
    clockwise.
</li><li class="listitem">
<code class="code">VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_180_BIT_KHR</code>: The
    image content is mirrored horizontally, then rotated 180 degrees
    clockwise.
</li><li class="listitem">
<code class="code">VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_270_BIT_KHR</code>: The
    image content is mirrored horizontally, then rotated 270 degrees
    clockwise.
</li><li class="listitem">
<code class="code">VK_SURFACE_TRANSFORM_INHERIT_BIT_KHR</code>: The presentation transform
    is not specified, and is instead determined by platform-specific
    considerations and mechanisms outside Vulkan.
</li></ul></div><p>The <em class="parameter"><code>supportedCompositeAlpha</code></em> member is of type
<code class="code">VkCompositeAlphaFlagBitsKHR</code>, which contains the following values:</p><p><a id="VkCompositeAlphaFlagBitsKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkCompositeAlphaFlagBitsKHR {
    VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR = 0x00000001,
    VK_COMPOSITE_ALPHA_PRE_MULTIPLIED_BIT_KHR = 0x00000002,
    VK_COMPOSITE_ALPHA_POST_MULTIPLIED_BIT_KHR = 0x00000004,
    VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR = 0x00000008,
} VkCompositeAlphaFlagBitsKHR;</pre><p>
</p><p>These values are described as follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR</code>: The alpha channel, if it
    exists, of the images is ignored in the compositing process.
    Instead, the image is treated as if it has a constant alpha of 1.0.
</li><li class="listitem">
<code class="code">VK_COMPOSITE_ALPHA_PRE_MULTIPLIED_BIT_KHR</code>: The alpha channel, if
    it exists, of the images is respected in the compositing process.
    The non-alpha channels of the image are expected to already be
    multiplied by the alpha channel by the application.
</li><li class="listitem">
<code class="code">VK_COMPOSITE_ALPHA_POST_MULTIPLIED_BIT_KHR</code>: The alpha channel, if
    it exists, of the images is respected in the compositing process.
    The non-alpha channels of the image are not expected to already be
    multiplied by the alpha channel by the application; instead, the
    compositor will multiply the non-alpha channels of the image by the
    alpha channel during compositing.
</li><li class="listitem">
<code class="code">VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR</code>: The way in which the
    presentation engine treats the alpha channel in the images is unknown to
    the Vulkan API.
    Instead, the application is responsible for setting the composite alpha
    blending mode using native window system commands.
    If the application does not set the blending mode using native window
    system commands, then a platform-specific default will be used.
</li></ul></div><p>To query the supported swapchain format-color space pairs for a surface,
call:</p><p><a id="vkGetPhysicalDeviceSurfaceFormatsKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetPhysicalDeviceSurfaceFormatsKHR(
    VkPhysicalDevice                            physicalDevice,
    VkSurfaceKHR                                surface,
    uint32_t*                                   pSurfaceFormatCount,
    VkSurfaceFormatKHR*                         pSurfaceFormats);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device that will be associated with
    the swapchain to be created, as described for
    <code class="code"><a class="link" href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>.
</li><li class="listitem">
<em class="parameter"><code>surface</code></em> is the surface that will be associated with the swapchain.
</li><li class="listitem">
<em class="parameter"><code>pSurfaceFormatCount</code></em> is a pointer to an integer related to the
    number of format pairs available or queried, as described below.
</li><li class="listitem">
<em class="parameter"><code>pSurfaceFormats</code></em> is either <code class="literal">NULL</code> or a pointer to an array of
    <code class="code">VkSurfaceFormatKHR</code> structures.
</li></ul></div><p>If <em class="parameter"><code>pSurfaceFormats</code></em> is <code class="literal">NULL</code>, then the number of format pairs
supported for the given <em class="parameter"><code>surface</code></em> is returned in
<em class="parameter"><code>pSurfaceFormatCount</code></em>.
Otherwise, <em class="parameter"><code>pSurfaceFormatCount</code></em> <span class="normative">must</span> point to a variable set by the
user to the number of elements in the <em class="parameter"><code>pSurfaceFormats</code></em> array, and on
return the variable is overwritten with the number of structures actually
written to <em class="parameter"><code>pSurfaceFormats</code></em>.
If the value of <em class="parameter"><code>pSurfaceFormatCount</code></em> is less than the number of format
pairs supported, at most <em class="parameter"><code>pSurfaceFormatCount</code></em> structures will be
written.
If <em class="parameter"><code>pSurfaceFormatCount</code></em> is smaller than the number of format pairs
supported for the given <em class="parameter"><code>surface</code></em>, <code class="code">VK_INCOMPLETE</code> will be returned
instead of <code class="code">VK_SUCCESS</code> to indicate that not all the available values
were returned.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>surface</code></em> <span class="normative">must</span> be a valid <code class="code">VkSurfaceKHR</code> handle
</li><li class="listitem">
<em class="parameter"><code>pSurfaceFormatCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pSurfaceFormatCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pSurfaceFormats</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pSurfaceFormats</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pSurfaceFormatCount</code></em> <code class="code">VkSurfaceFormatKHR</code> structures
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_SURFACE_LOST_KHR</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkSurfaceFormatKHR</code> structure is defined as:</p><p><a id="VkSurfaceFormatKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSurfaceFormatKHR {
    VkFormat           format;
    VkColorSpaceKHR    colorSpace;
} VkSurfaceFormatKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>format</code></em> is a <code class="code">VkFormat</code> that is compatible with the specified
    surface.
</li><li class="listitem">
<em class="parameter"><code>colorSpace</code></em> is a presentation <code class="code">VkColorSpaceKHR</code> that is
    compatible with the surface.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>format</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> value
</li><li class="listitem">
<em class="parameter"><code>colorSpace</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkColorSpaceKHR">VkColorSpaceKHR</a></code> value
</li></ul></div></div><p>While the <em class="parameter"><code>format</code></em> of a presentable image refers to the encoding of each
pixel, the <em class="parameter"><code>colorSpace</code></em> determines how the presentation engine
interprets the pixel values.
A color space in this document refers to a specific combination of color
model (i.e.
RGB, YUV, HSL etc.), the actual color space (defined by the chromaticities
of its primaries and a white point in CIE Lab), and a transfer function that
is applied before storing or transmitting color data in the given color
space.</p><p>The <code class="code">VkColorSpaceKHR</code> is defined as follows:</p><p><a id="VkColorSpaceKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkColorSpaceKHR {
    VK_COLOR_SPACE_SRGB_NONLINEAR_KHR = 0,
} VkColorSpaceKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code>: The presentation engine
    supports the sRGB color space.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If <em class="parameter"><code>pSurfaceFormats</code></em> includes just one entry, whose value for
<em class="parameter"><code>format</code></em> is <code class="code">VK_FORMAT_UNDEFINED</code>, <em class="parameter"><code>surface</code></em> has no preferred
format.
In this case, the application <span class="normative">can</span> use any valid <code class="code">VkFormat</code> value.</p></td></tr></table></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>In the initial release of the <code class="literal">VK_KHR_surface</code> and <code class="literal">VK_KHR_swapchain</code>
extensions, the token <code class="code">VK_COLORSPACE_SRGB_NONLINEAR_KHR</code> was used.
Starting in the May 13, 2016 updates to the extension branches, matching
release 1.0.13 of the core API specification,
<code class="code">VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code> is used instead for consistency with
Vulkan naming rules.
The older enum is still available for backwards compatibility.</p></td></tr></table></div><p>To query the supported presentation modes for a surface, call:</p><p><a id="vkGetPhysicalDeviceSurfacePresentModesKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetPhysicalDeviceSurfacePresentModesKHR(
    VkPhysicalDevice                            physicalDevice,
    VkSurfaceKHR                                surface,
    uint32_t*                                   pPresentModeCount,
    VkPresentModeKHR*                           pPresentModes);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device that will be associated with
    the swapchain to be created, as described for
    <code class="code"><a class="link" href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>.
</li><li class="listitem">
<em class="parameter"><code>surface</code></em> is the surface that will be associated with the swapchain.
</li><li class="listitem">
<em class="parameter"><code>pPresentModeCount</code></em> is a pointer to an integer related to the number
    of presentation modes available or queried, as described below.
</li><li class="listitem">
<em class="parameter"><code>pPresentModes</code></em> is either <code class="literal">NULL</code> or a pointer to an array of
    <code class="code"><a class="link" href="#VkPresentModeKHR">VkPresentModeKHR</a></code> structures.
</li></ul></div><p>If <em class="parameter"><code>pPresentModes</code></em> is <code class="literal">NULL</code>, then the number of presentation modes
supported for the given <em class="parameter"><code>surface</code></em> is returned in
<em class="parameter"><code>pPresentModeCount</code></em>.
Otherwise, <em class="parameter"><code>pPresentModeCount</code></em> <span class="normative">must</span> point to a variable set by the user
to the number of elements in the <em class="parameter"><code>pPresentModes</code></em> array, and on return
the variable is overwritten with the number of values actually written to
<em class="parameter"><code>pPresentModes</code></em>.
If the value of <em class="parameter"><code>pPresentModeCount</code></em> is less than the number of
presentation modes supported, at most <em class="parameter"><code>pPresentModeCount</code></em> values will be
written.
If <em class="parameter"><code>pPresentModeCount</code></em> is smaller than the number of presentation modes
supported for the given <em class="parameter"><code>surface</code></em>, <code class="code">VK_INCOMPLETE</code> will be returned
instead of <code class="code">VK_SUCCESS</code> to indicate that not all the available values
were returned.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>surface</code></em> <span class="normative">must</span> be a valid <code class="code">VkSurfaceKHR</code> handle
</li><li class="listitem">
<em class="parameter"><code>pPresentModeCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pPresentModeCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pPresentModes</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pPresentModes</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pPresentModeCount</code></em> <code class="code"><a class="link" href="#VkPresentModeKHR">VkPresentModeKHR</a></code> values
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_SURFACE_LOST_KHR</code>
</li></ul></div></dd></dl></div></div><p>The definition of <code class="code">VkPresentModeKHR</code> is:</p><p><a id="VkPresentModeKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkPresentModeKHR {
    VK_PRESENT_MODE_IMMEDIATE_KHR = 0,
    VK_PRESENT_MODE_MAILBOX_KHR = 1,
    VK_PRESENT_MODE_FIFO_KHR = 2,
    VK_PRESENT_MODE_FIFO_RELAXED_KHR = 3,
} VkPresentModeKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_PRESENT_MODE_IMMEDIATE_KHR</code>: The presentation engine does not
    wait for a vertical blanking period to update the current image, meaning
    this mode <span class="normative">may</span> result in visible tearing.
    No internal queuing of presentation requests is needed, as the requests
    are applied immediately.
</li><li class="listitem">
<code class="code">VK_PRESENT_MODE_MAILBOX_KHR</code>: The presentation engine waits for the
    next vertical blanking period to update the current image.
    Tearing <span class="normative">cannot</span> be observed.
    An internal single-entry queue is used to hold pending presentation
    requests.
    If the queue is full when a new presentation request is received, the
    new request replaces the existing entry, and any images associated with
    the prior entry become available for re-use by the application.
    One request is removed from the queue and processed during each vertical
    blanking period in which the queue is non-empty.
</li><li class="listitem">
<code class="code">VK_PRESENT_MODE_FIFO_KHR</code>: The presentation engine waits for the
    next vertical blanking period to update the current image.
    Tearing <span class="normative">cannot</span> be observed.
    An internal queue is used to hold pending presentation requests.
    New requests are appended to the end of the queue, and one request is
    removed from the beginning of the queue and processed during each
    vertical blanking period in which the queue is non-empty.
    This is the only value of <em class="parameter"><code>presentMode</code></em> that is <span class="normative">required</span> to be
    supported.
</li><li class="listitem">
<code class="code">VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>: The presentation engine
    generally waits for the next vertical blanking period to update the
    current image.
    If a vertical blanking period has already passed since the last update
    of the current image then the presentation engine does not wait for
    another vertical blanking period for the update, meaning this mode <span class="normative">may</span>
    result in visible tearing in this case.
    This mode is useful for reducing visual stutter with an application that
    will mostly present a new image before the next vertical blanking
    period, but may occasionally be late, and present a new image just after
    the next vertical blanking period.
    An internal queue is used to hold pending presentation requests.
    New requests are appended to the end of the queue, and one request is
    removed from the beginning of the queue and processed during or after
    each vertical blanking period in which the queue is non-empty.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For reference, the mode indicated by <code class="code">VK_PRESENT_MODE_FIFO_KHR</code> is
equivalent to the behavior of {wgl|glX|egl}SwapBuffers with a swap interval
of 1, while the mode indicated by <code class="code">VK_PRESENT_MODE_FIFO_RELAXED_KHR</code> is
equivalent to the behavior of {wgl|glX}SwapBuffers with a swap interval of
-1 (from the {WGL|GLX}_EXT_swap_control_tear extensions).</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_wsi_swapchain"></a>29.6. WSI Swapchain</h2></div></div></div><p>A <code class="code">VkSwapchainKHR</code> object (a.k.a.
swapchain) provides the ability to present rendering results to a surface.
A swapchain is an abstraction for an array of presentable images that are
associated with a surface.
The swapchain images are represented by <code class="code">VkImage</code> objects created by the
platform.
One image (which <span class="normative">can</span> be an array image for multiview/stereoscopic-3D
surfaces) is displayed at a time, but multiple images <span class="normative">can</span> be queued for
presentation.
An application renders to the image, and then queues the image for
presentation to the surface.
A native window <span class="normative">cannot</span> be associated with more than one swapchain at a
time.
Further, swapchains <span class="normative">cannot</span> be created for native windows that have a
non-Vulkan graphics API surface associated with them.</p><p>The presentation engine is an abstraction for the platform’s compositor or
hardware/software display engine.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The presentation engine <span class="normative">may</span> be synchronous or asynchronous with respect to
the application and/or logical device.</p><p>Some implementations <span class="normative">may</span> use the device’s graphics queue or dedicated
presentation hardware to perform presentation.</p></td></tr></table></div><p>The presentable images of a swapchain are owned by the presentation engine.
An application <span class="normative">can</span> acquire use of a presentable image from the presentation
engine.
Use of a presentable image <span class="normative">must</span> occur only after the image is returned by
<span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span>, and before it is presented by
<span class="strong"><strong><code class="code">vkQueuePresentKHR</code></strong></span>.
This includes transitioning the image layout and rendering commands.</p><p>An application <span class="normative">can</span> acquire use of a presentable image with
<span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span>.
After acquiring a presentable image and before modifying it, the application
<span class="normative">must</span> use a synchronization primitive to ensure that the presentation engine
has finished reading from the image.
The application <span class="normative">can</span> then transition the image’s layout, queue rendering
commands to it, etc.
Finally, the application presents the image with <span class="strong"><strong><code class="code">vkQueuePresentKHR</code></strong></span>,
which releases the acquisition of the image.</p><p>The presentation engine controls the order in which presentable images are
acquired for use by the application.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This allows the platform to handle situations which require out-of-order
return of images after presentation.
At the same time, it allows the application to generate command buffers
referencing all of the images in the swapchain at initialization time,
rather than in its main loop.</p></td></tr></table></div><p>How this all works is described below.</p><p>To create a swapchain, call:</p><p><a id="vkCreateSwapchainKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateSwapchainKHR(
    VkDevice                                    device,
    const VkSwapchainCreateInfoKHR*             pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSwapchainKHR*                             pSwapchain);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the device to create the swapchain for.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a></code> structure specifying the parameters of
    the created swapchain.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> is the allocator used for host memory allocated for the
    swapchain object when there is no more specific allocator available (see
    <a class="link" href="#memory-allocation">Memory Allocation</a>).
</li><li class="listitem">
<em class="parameter"><code>pSwapchain</code></em> is a pointer to a <code class="code">VkSwapchainKHR</code> handle in which
    the created swapchain object will be returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkSwapchainCreateInfoKHR</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pSwapchain</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkSwapchainKHR</code> handle
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>pCreateInfo.surface</code></em> <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>pCreateInfo.oldSwapchain</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li><li class="listitem">
<code class="code">VK_ERROR_SURFACE_LOST_KHR</code>
</li><li class="listitem">
<code class="code">VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkSwapchainCreateInfoKHR</code> structure is defined as:</p><p><a id="VkSwapchainCreateInfoKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkSwapchainCreateInfoKHR {
    VkStructureType                  sType;
    const void*                      pNext;
    VkSwapchainCreateFlagsKHR        flags;
    VkSurfaceKHR                     surface;
    uint32_t                         minImageCount;
    VkFormat                         imageFormat;
    VkColorSpaceKHR                  imageColorSpace;
    VkExtent2D                       imageExtent;
    uint32_t                         imageArrayLayers;
    VkImageUsageFlags                imageUsage;
    VkSharingMode                    imageSharingMode;
    uint32_t                         queueFamilyIndexCount;
    const uint32_t*                  pQueueFamilyIndices;
    VkSurfaceTransformFlagBitsKHR    preTransform;
    VkCompositeAlphaFlagBitsKHR      compositeAlpha;
    VkPresentModeKHR                 presentMode;
    VkBool32                         clipped;
    VkSwapchainKHR                   oldSwapchain;
} VkSwapchainCreateInfoKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is reserved for future use, and <span class="normative">must</span> be zero.
</li><li class="listitem">
<em class="parameter"><code>surface</code></em> is the surface that the swapchain will present images to.
</li><li class="listitem">
<em class="parameter"><code>minImageCount</code></em> is the minimum number of presentable images that the
    application needs.
    The platform will either create the swapchain with at least that many
    images, or will fail to create the swapchain.
</li><li class="listitem">
<em class="parameter"><code>imageFormat</code></em> is a <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> that is valid for swapchains on
    the specified surface.
</li><li class="listitem">
<em class="parameter"><code>imageColorSpace</code></em> is a <code class="code"><a class="link" href="#VkColorSpaceKHR">VkColorSpaceKHR</a></code> that is valid for
    swapchains on the specified surface.
</li><li class="listitem">
<em class="parameter"><code>imageExtent</code></em> is the size (in pixels) of the swapchain.
    Behavior is platform-dependent when the image extent does not match the
    surface’s <em class="parameter"><code>currentExtent</code></em> as returned by
    <span class="strong"><strong><code class="code">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code></strong></span>.
</li><li class="listitem">
<em class="parameter"><code>imageArrayLayers</code></em> is the number of views in a multiview/stereo
    surface.
    For non-stereoscopic-3D applications, this value is 1.
</li><li class="listitem">
<em class="parameter"><code>imageUsage</code></em> is a bitmask of <code class="code"><a class="link" href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code>, indicating
    how the application will use the swapchain’s presentable images.
</li><li class="listitem">
<em class="parameter"><code>imageSharingMode</code></em> is the sharing mode used for the images of the
    swapchain.
</li><li class="listitem">
<em class="parameter"><code>queueFamilyIndexCount</code></em> is the number of queue families having
    access to the images of the swapchain in case <em class="parameter"><code>imageSharingMode</code></em> is
    <code class="code">VK_SHARING_MODE_CONCURRENT</code>.
</li><li class="listitem">
<em class="parameter"><code>pQueueFamilyIndices</code></em> is an array of queue family indices having
    access to the images of the swapchain in case <em class="parameter"><code>imageSharingMode</code></em> is
    <code class="code">VK_SHARING_MODE_CONCURRENT</code>.
</li><li class="listitem">
<em class="parameter"><code>preTransform</code></em> is a bitmask of <code class="code"><a class="link" href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></code>,
    describing the transform, relative to the presentation engine’s natural
    orientation, applied to the image content prior to presentation.
    If it does not match the <em class="parameter"><code>currentTransform</code></em> value returned by
    <span class="strong"><strong><code class="code">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code></strong></span>, the presentation engine
    will transform the image content as part of the presentation operation.
</li><li class="listitem">
<em class="parameter"><code>compositeAlpha</code></em> is a bitmask of <code class="code"><a class="link" href="#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a></code>,
    indicating the alpha compositing mode to use when this surface is
    composited together with other surfaces on certain window systems.
</li><li class="listitem">
<em class="parameter"><code>presentMode</code></em> is the presentation mode the swapchain will use.
    A swapchain’s present mode determines how incoming present requests will
    be processed and queued internally.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>clipped</code></em> indicates whether the Vulkan implementation is allowed to
    discard rendering operations that affect regions of the surface which
    are not visible.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
If set to <code class="code">VK_TRUE</code>, the presentable images associated with the
     swapchain <span class="normative">may</span> not own all of their pixels.
     Pixels in the presentable images that correspond to regions of the
     target surface obscured by another window on the desktop or subject to
     some other clipping mechanism will have undefined content when read
     back.
     Pixel shaders <span class="normative">may</span> not execute for these pixels, and thus any side
     affects they would have had will not occur.
</li><li class="listitem">
If set to <code class="code">VK_FALSE</code>, presentable images associated with the
     swapchain will own all the pixels they contain.
     Setting this value to <code class="code">VK_TRUE</code> does not guarantee any clipping
     will occur, but allows more optimal presentation methods to be used on
     some platforms.
</li></ul></div></li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Applications <span class="normative">should</span> set this value to <code class="code">VK_TRUE</code> if they do not expect
to read back the content of presentable images before presenting them or
after reacquiring them and if their pixel shaders do not have any side
effects that require them to run for all pixels in the presentable image.</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>oldSwapchain</code></em>, if not <span class="strong"><strong><code class="code">VK_NULL_HANDLE</code></strong></span>, specifies the swapchain
    that will be replaced by the new swapchain being created.
    The new swapchain will be a descendant of <em class="parameter"><code>oldSwapchain</code></em>.
    Further, any descendants of the new swapchain will also be descendants
    of <em class="parameter"><code>oldSwapchain</code></em>.
    Upon calling <span class="strong"><strong><code class="code">vkCreateSwapchainKHR</code></strong></span> with a <em class="parameter"><code>oldSwapchain</code></em> that
    is not <span class="strong"><strong><code class="code">VK_NULL_HANDLE</code></strong></span>, any images not acquired by the application
    <span class="normative">may</span> be freed by the implementation, which <span class="normative">may</span> occur even if creation
    of the new swapchain fails.
    The application <span class="normative">must</span> destroy the old swapchain to free all memory
    associated with the old swapchain.
    The application <span class="normative">must</span> wait for the completion of any outstanding
    rendering to images it currently has acquired at the time the swapchain
    is destroyed.
    The application <span class="normative">can</span> continue to present any images it acquired and has
    not yet presented using the old swapchain, as long as it has not entered
    a state that causes it to return <code class="code">VK_ERROR_OUT_OF_DATE_KHR</code>.
    However, the application <span class="normative">cannot</span> acquire any more images from the old
    swapchain regardless of whether or not creation of the new swapchain
    succeeds.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>surface</code></em> <span class="normative">must</span> be a valid <code class="code">VkSurfaceKHR</code> handle
</li><li class="listitem">
<em class="parameter"><code>imageFormat</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> value
</li><li class="listitem">
<em class="parameter"><code>imageColorSpace</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkColorSpaceKHR">VkColorSpaceKHR</a></code> value
</li><li class="listitem">
<em class="parameter"><code>imageUsage</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>imageUsage</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>imageSharingMode</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSharingMode">VkSharingMode</a></code> value
</li><li class="listitem">
<em class="parameter"><code>preTransform</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></code> value
</li><li class="listitem">
<em class="parameter"><code>compositeAlpha</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a></code> value
</li><li class="listitem">
<em class="parameter"><code>presentMode</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkPresentModeKHR">VkPresentModeKHR</a></code> value
</li><li class="listitem">
If <em class="parameter"><code>oldSwapchain</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>oldSwapchain</code></em> <span class="normative">must</span> be a valid <code class="code">VkSwapchainKHR</code> handle
</li><li class="listitem">
If <em class="parameter"><code>oldSwapchain</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>surface</code></em>
</li><li class="listitem">
<em class="parameter"><code>surface</code></em> <span class="normative">must</span> be a surface that is supported by the device as determined using <span class="strong"><strong><code class="code">vkGetPhysicalDeviceSurfaceSupportKHR</code></strong></span>
</li><li class="listitem">
The native window referred to by <em class="parameter"><code>surface</code></em> <span class="normative">must</span> not already be associated with a swapchain other than <em class="parameter"><code>oldSwapchain</code></em>, or with a non-Vulkan graphics API surface
</li><li class="listitem">
<em class="parameter"><code>minImageCount</code></em> <span class="normative">must</span> be greater than or equal to the value returned in the <em class="parameter"><code>minImageCount</code></em> member of the <code class="code">VkSurfaceCapabilitiesKHR</code> structure returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code></strong></span> for the surface
</li><li class="listitem">
<em class="parameter"><code>minImageCount</code></em> <span class="normative">must</span> be less than or equal to the value returned in the <em class="parameter"><code>maxImageCount</code></em> member of the <code class="code">VkSurfaceCapabilitiesKHR</code> structure returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code></strong></span> for the surface if the returned <em class="parameter"><code>maxImageCount</code></em> is not zero
</li><li class="listitem">
<em class="parameter"><code>imageFormat</code></em> and <em class="parameter"><code>imageColorSpace</code></em> <span class="normative">must</span> match the <em class="parameter"><code>format</code></em> and <em class="parameter"><code>colorSpace</code></em> members, respectively, of one of the <code class="code">VkSurfaceFormatKHR</code> structures returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceSurfaceFormatsKHR</code></strong></span> for the surface
</li><li class="listitem">
<em class="parameter"><code>imageExtent</code></em> <span class="normative">must</span> be between <em class="parameter"><code>minImageExtent</code></em> and <em class="parameter"><code>maxImageExtent</code></em>, inclusive, where <em class="parameter"><code>minImageExtent</code></em> and <em class="parameter"><code>maxImageExtent</code></em> are members of the <code class="code">VkSurfaceCapabilitiesKHR</code> structure returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code></strong></span> for the surface
</li><li class="listitem">
<em class="parameter"><code>imageArrayLayers</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code> and less than or equal to the <em class="parameter"><code>maxImageArrayLayers</code></em> member of the <code class="code">VkSurfaceCapabilitiesKHR</code> structure returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code></strong></span> for the surface
</li><li class="listitem">
<em class="parameter"><code>imageUsage</code></em> <span class="normative">must</span> be a subset of the supported usage flags present in the <em class="parameter"><code>supportedUsageFlags</code></em> member of the <code class="code">VkSurfaceCapabilitiesKHR</code> structure returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code></strong></span> for the surface
</li><li class="listitem">
If <em class="parameter"><code>imageSharingMode</code></em> is <code class="code">VK_SHARING_MODE_CONCURRENT</code>, <em class="parameter"><code>pQueueFamilyIndices</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>queueFamilyIndexCount</code></em> <code class="code">uint32_t</code> values
</li><li class="listitem">
If <em class="parameter"><code>imageSharingMode</code></em> is <code class="code">VK_SHARING_MODE_CONCURRENT</code>, <em class="parameter"><code>queueFamilyIndexCount</code></em> <span class="normative">must</span> be greater than <code class="literal">1</code>
</li><li class="listitem">
<em class="parameter"><code>preTransform</code></em> <span class="normative">must</span> be one of the bits present in the <em class="parameter"><code>supportedTransforms</code></em> member of the <code class="code">VkSurfaceCapabilitiesKHR</code> structure returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code></strong></span> for the surface
</li><li class="listitem">
<em class="parameter"><code>compositeAlpha</code></em> <span class="normative">must</span> be one of the bits present in the <em class="parameter"><code>supportedCompositeAlpha</code></em> member of the <code class="code">VkSurfaceCapabilitiesKHR</code> structure returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code></strong></span> for the surface
</li><li class="listitem">
<em class="parameter"><code>presentMode</code></em> <span class="normative">must</span> be one of the <code class="code">VkPresentModeKHR</code> values returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceSurfacePresentModesKHR</code></strong></span> for the surface
</li></ul></div></div><p>As mentioned above, if <span class="strong"><strong><code class="code">vkCreateSwapchainKHR</code></strong></span> succeeds, it will return a
handle to a swapchain that contains an array of at least <em class="parameter"><code>minImageCount</code></em>
presentable images.</p><p>While acquired by the application, swapchain images <span class="normative">can</span> be used in any way
that equivalent non-swapchain images <span class="normative">can</span> be used.
A swapchain image is equivalent to a non-swapchain image created with the
following <code class="code">VkImageCreateInfo</code> parameters:</p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> <code class="code">VkImageCreateInfo</code> Field </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Value</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>flags</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>imageType</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_IMAGE_TYPE_2D</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>format</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">pCreateInfo-&gt;imageFormat</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>extent</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">{pCreateInfo-&gt;imageExtent.width, pCreateInfo-&gt;imageExtent.height, 1}</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>mipLevels</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>arrayLayers</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">pCreateInfo-&gt;imageArrayLayers</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>samples</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_SAMPLE_COUNT_1_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>tiling</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_IMAGE_TILING_OPTIMAL</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>usage</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">pCreateInfo-&gt;imageUsage</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sharingMode</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">pCreateInfo-&gt;imageSharingMode</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>queueFamilyIndexCount</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">pCreateInfo-&gt;queueFamilyIndexCount</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>pQueueFamilyIndices</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">pCreateInfo-&gt;pQueueFamilyIndices</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>initialLayout</code></em></p></td><td style="" align="left" valign="top"><p><code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code></p></td></tr></tbody></table></div><p>The <code class="code">VkSurfaceKHR</code> associated with a swapchain <span class="normative">must</span> not be destroyed
until after the swapchain is destroyed.</p><p>Like core functions, several WSI functions, including
<span class="strong"><strong><code class="code">vkCreateSwapchainKHR</code></strong></span> return <code class="code">VK_ERROR_DEVICE_LOST</code> if the logical
device was lost.
See <a class="link" href="#devsandqueues-lost-device" title="4.2.3. Lost Device">Lost Device</a>.
As with most core objects, <code class="code">VkSwapchainKHR</code> is a child of the device and
is affected by the lost state; it <span class="normative">must</span> be destroyed before destroying the
<code class="code">VkDevice</code>.
However, <code class="code">VkSurfaceKHR</code> is not a child of any <code class="code">VkDevice</code> and is not
otherwise affected by the lost device.
After successfully recreating a <code class="code">VkDevice</code>, the same <code class="code">VkSurfaceKHR</code>
<span class="normative">can</span> be used to create a new <code class="code">VkSwapchainKHR</code>, provided the previous one
was destroyed.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>As mentioned in <a class="link" href="#devsandqueues-lost-device" title="4.2.3. Lost Device">Lost Device</a>, after a lost
device event, the <code class="code">VkPhysicalDevice</code> <span class="normative">may</span> also be lost.
If other <code class="code">VkPhysicalDevice</code> are available, they <span class="normative">can</span> be used together
with the same <code class="code">VkSurfaceKHR</code> to create the new <code class="code">VkSwapchainKHR</code>,
however the application <span class="normative">must</span> query the surface capabilities again, because
they <span class="normative">may</span> differ on a per-physical device basis.</p></td></tr></table></div><p>To destroy a swapchain object call:</p><p><a id="vkDestroySwapchainKHR"></a><strong> </strong>
</p><pre class="programlisting">void vkDestroySwapchainKHR(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    const VkAllocationCallbacks*                pAllocator);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the <code class="code">VkDevice</code> associated with <em class="parameter"><code>swapchain</code></em>.
</li><li class="listitem">
<em class="parameter"><code>swapchain</code></em> is the swapchain to destroy.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> is the allocator used for host memory allocated for the
    swapchain object when there is no more specific allocator available (see
    <a class="link" href="#memory-allocation">Memory Allocation</a>).
</li></ul></div><p><em class="parameter"><code>swapchain</code></em> and all associated <code class="code">VkImage</code> handles are destroyed, and
<span class="normative">must</span> not be acquired or used any more by the application.
The memory of each <code class="code">VkImage</code> will only be freed after that image is no
longer used by the platform.
For example, if one image of the swapchain is being displayed in a window,
the memory for that image <span class="normative">may</span> not be freed until the window is destroyed,
or another swapchain is created for the window.
Destroying the swapchain does not invalidate the parent <code class="code">VkSurfaceKHR</code>,
and a new swapchain <span class="normative">can</span> be created with it.</p><p>If a swapchain associated with a display surface is destroyed and there are
no valid descendants of that swapchain, the implementation <span class="normative">must</span> either
revert any display resources modified by presenting images with the
swapchain to their state prior to the first present performed with the
swapchain and its ancestors, or leave such resources in their current state.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>swapchain</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>swapchain</code></em> <span class="normative">must</span> be a valid <code class="code">VkSwapchainKHR</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
All uses of presentable images acquired from <em class="parameter"><code>swapchain</code></em> <span class="normative">must</span> have completed execution
</li><li class="listitem">
If <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>swapchain</code></em> was created, a compatible set of callbacks <span class="normative">must</span> be provided here
</li><li class="listitem">
If no <code class="code">VkAllocationCallbacks</code> were provided when <em class="parameter"><code>swapchain</code></em> was created, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>swapchain</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><p><a id="create_shared_swapchains"></a>When the <code class="literal">VK_KHR_display_swapchain</code> extension is enabled, multiple swapchains
that share presentable images are created by calling:</p><p><a id="vkCreateSharedSwapchainsKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkCreateSharedSwapchainsKHR(
    VkDevice                                    device,
    uint32_t                                    swapchainCount,
    const VkSwapchainCreateInfoKHR*             pCreateInfos,
    const VkAllocationCallbacks*                pAllocator,
    VkSwapchainKHR*                             pSwapchains);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the device to create the swapchains for.
</li><li class="listitem">
<em class="parameter"><code>swapchainCount</code></em> is the number of swapchains to create.
</li><li class="listitem">
<em class="parameter"><code>pCreateInfos</code></em> is a pointer to an array of
    <code class="code"><a class="link" href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a></code> structures specifying the parameters of
    the created swapchains.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> is the allocator used for host memory allocated for the
    swapchain objects when there is no more specific allocator available
    (see <a class="link" href="#memory-allocation">Memory Allocation</a>).
</li><li class="listitem">
<em class="parameter"><code>pSwapchains</code></em> is a pointer to an array of <code class="code">VkSwapchainKHR</code>
    handles in which the created swapchain objects will be returned.
</li></ul></div><p><span class="strong"><strong><code class="code">vkCreateSharedSwapchains</code></strong></span> is similar to <code class="code"><a class="link" href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>,
except that it takes an array of <code class="code">VkSwapchainCreateInfoKHR</code> structures,
and returns an array of swapchain objects.</p><p>The swapchain creation parameters that affect the properties and number of
presentable images <span class="normative">must</span> match between all the swapchains.
If the displays used by any of the swapchains do not use the same
presentable image layout or are incompatible in a way that prevents sharing
images, swapchain creation will fail with the result code
<code class="code">VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code>.
If any error occurs, no swapchains will be created.
Images presented to multiple swapchains <span class="normative">must</span> be re-acquired from all of
them before transitioning away from <code class="code">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>.
After destroying one or more of the swapchains, the remaining swapchains and
the presentable images <span class="normative">can</span> continue to be used.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pCreateInfos</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>swapchainCount</code></em> valid <code class="code">VkSwapchainCreateInfoKHR</code> structures
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pSwapchains</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>swapchainCount</code></em> <code class="code">VkSwapchainKHR</code> handles
</li><li class="listitem">
<em class="parameter"><code>swapchainCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>pCreateInfos</code></em>[].surface <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>pCreateInfos</code></em>[].oldSwapchain <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li><li class="listitem">
<code class="code">VK_ERROR_SURFACE_LOST_KHR</code>
</li></ul></div></dd></dl></div></div><p>To obtain the array of presentable images associated with a swapchain, call:</p><p><a id="vkGetSwapchainImagesKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetSwapchainImagesKHR(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    uint32_t*                                   pSwapchainImageCount,
    VkImage*                                    pSwapchainImages);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the device associated with <em class="parameter"><code>swapchain</code></em>.
</li><li class="listitem">
<em class="parameter"><code>swapchain</code></em> is the swapchain to query.
</li><li class="listitem">
<em class="parameter"><code>pSwapchainImageCount</code></em> is a pointer to an integer related to the
    number of swapchain images available or queried, as described below.
</li><li class="listitem">
<em class="parameter"><code>pSwapchainImages</code></em> is either <code class="literal">NULL</code> or a pointer to an array of
    <code class="code">VkImage</code> handles.
</li></ul></div><p>If <em class="parameter"><code>pSwapchainImages</code></em> is <code class="literal">NULL</code>, then the number of presentable images
for <em class="parameter"><code>swapchain</code></em> is returned in <em class="parameter"><code>pSwapchainImageCount</code></em>.
Otherwise, <em class="parameter"><code>pSwapchainImageCount</code></em> <span class="normative">must</span> point to a variable set by the
user to the number of elements in the <em class="parameter"><code>pSwapchainImages</code></em> array, and on
return the variable is overwritten with the number of structures actually
written to <em class="parameter"><code>pSwapchainImages</code></em>.
If the value of <em class="parameter"><code>pSwapchainImageCount</code></em> is less than the number of
presentable images for <em class="parameter"><code>swapchain</code></em>, at most <em class="parameter"><code>pSwapchainImageCount</code></em>
structures will be written.
If <em class="parameter"><code>pSwapchainImageCount</code></em> is smaller than the number of presentable
images for <em class="parameter"><code>swapchain</code></em>, <code class="code">VK_INCOMPLETE</code> will be returned instead of
<code class="code">VK_SUCCESS</code> to indicate that not all the available values were
returned.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>swapchain</code></em> <span class="normative">must</span> be a valid <code class="code">VkSwapchainKHR</code> handle
</li><li class="listitem">
<em class="parameter"><code>pSwapchainImageCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pSwapchainImageCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pSwapchainImages</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pSwapchainImages</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pSwapchainImageCount</code></em> <code class="code">VkImage</code> handles
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>By knowing all presentable images used in the swapchain, the application
<span class="normative">can</span> create command buffers that reference these images prior to entering
its main rendering loop.</p></td></tr></table></div><p>The implementation will have already allocated and bound the memory backing
the <code class="code">VkImages</code> returned by <span class="strong"><strong><code class="code">vkGetSwapchainImagesKHR</code></strong></span>.
The memory for each image will not alias with the memory for other images or
with any <code class="code">VkDeviceMemory</code> object.
As such, performing any operation affecting the binding of memory to a
presentable image results in undefined behavior.
All presentable images are initially in the <code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code>
layout, thus before using presentable images, the application <span class="normative">must</span>
transition them to a valid layout for the intended use.</p><p>Further, the lifetime of presentable images is controlled by the
implementation so destroying a presentable image with <code class="code"><a class="link" href="#vkDestroyImage">vkDestroyImage</a></code>
results in undefined behavior.
See <code class="code"><a class="link" href="#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a></code> for further details on the lifetime of
presentable images.</p><p>To acquire an available presentable image to use, and retrieve the index of
that image, call:</p><p><a id="vkAcquireNextImageKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkAcquireNextImageKHR(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    uint64_t                                    timeout,
    VkSemaphore                                 semaphore,
    VkFence                                     fence,
    uint32_t*                                   pImageIndex);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the device associated with <em class="parameter"><code>swapchain</code></em>.
</li><li class="listitem">
<em class="parameter"><code>swapchain</code></em> is the swapchain from which an image is being acquired.
</li><li class="listitem">
<em class="parameter"><code>timeout</code></em> indicates how long the function waits, in nanoseconds, if
    no image is available.
</li><li class="listitem">
<em class="parameter"><code>semaphore</code></em> is <span class="strong"><strong><code class="code">VK_NULL_HANDLE</code></strong></span> or a semaphore to signal.
</li><li class="listitem">
<em class="parameter"><code>fence</code></em> is <span class="strong"><strong><code class="code">VK_NULL_HANDLE</code></strong></span> or a fence to signal.
</li><li class="listitem">
<em class="parameter"><code>pImageIndex</code></em> is a pointer to a <span class="strong"><strong><code class="code">uint32_t</code></strong></span> that is set to the
    index of the next image to use (i.e.
    an index into the array of images returned by
    <span class="strong"><strong><code class="code">vkGetSwapchainImagesKHR</code></strong></span>).
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>swapchain</code></em> <span class="normative">must</span> be a valid <code class="code">VkSwapchainKHR</code> handle
</li><li class="listitem">
If <em class="parameter"><code>semaphore</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>semaphore</code></em> <span class="normative">must</span> be a valid <code class="code">VkSemaphore</code> handle
</li><li class="listitem">
If <em class="parameter"><code>fence</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>fence</code></em> <span class="normative">must</span> be a valid <code class="code">VkFence</code> handle
</li><li class="listitem">
<em class="parameter"><code>pImageIndex</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If <em class="parameter"><code>semaphore</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
If <em class="parameter"><code>fence</code></em> is a valid handle, it <span class="normative">must</span> have been created, allocated, or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
If <em class="parameter"><code>semaphore</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> it <span class="normative">must</span> be unsignaled
</li><li class="listitem">
If <em class="parameter"><code>fence</code></em> is not <code class="code"><a class="link" href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></code> it <span class="normative">must</span> be unsignaled and <span class="normative">must</span> not be associated with any other queue command that has not yet completed execution on that queue
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>swapchain</code></em> <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>semaphore</code></em> <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>fence</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_TIMEOUT</code>
</li><li class="listitem">
<code class="code">VK_NOT_READY</code>
</li><li class="listitem">
<code class="code">VK_SUBOPTIMAL_KHR</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DATE_KHR</code>
</li><li class="listitem">
<code class="code">VK_ERROR_SURFACE_LOST_KHR</code>
</li></ul></div></dd></dl></div></div><p>When successful, <span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> acquires a presentable image
that the application <span class="normative">can</span> use, and sets <em class="parameter"><code>pImageIndex</code></em> to the index of
that image.
The presentation engine <span class="normative">may</span> not have finished reading from the image at the
time it is acquired, so the application <span class="normative">must</span> use <em class="parameter"><code>semaphore</code></em> and/or
<em class="parameter"><code>fence</code></em> to ensure that the image layout and contents are not modified
until the presentation engine reads have completed.</p><p>As mentioned above, the presentation engine controls the order in which
presentable images are made available to the application.
This allows the platform to handle special situations.
The order in which images are acquired is implementation-dependent.
Images <span class="normative">may</span> be acquired in a seemingly random order that is not a simple
round-robin.</p><p>If a swapchain has enough presentable images, applications <span class="normative">can</span> acquire
multiple images without an intervening <span class="strong"><strong><code class="code">vkQueuePresentKHR</code></strong></span>.
Applications <span class="normative">can</span> present images in a different order than the order in
which they were acquired.</p><p>If <em class="parameter"><code>timeout</code></em> is 0, <span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> will not block, but will
either succeed or return <code class="code">VK_NOT_READY</code>.
If <em class="parameter"><code>timeout</code></em> is <code class="literal">UINT64_MAX</code>, the function will not return until an
image is acquired from the presentation engine.
Other values for <em class="parameter"><code>timeout</code></em> will cause the function to return when an
image becomes available, or when the specified number of nanoseconds have
passed (in which case it will return <code class="code">VK_TIMEOUT</code>).
An error <span class="normative">can</span> also cause <span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> to return early.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>As mentioned above, the presentation engine <span class="normative">may</span> be asynchronous with
respect to the application and/or logical device.
<span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> <span class="normative">may</span> return as soon as it <span class="normative">can</span> identify which
image will be acquired, and <span class="normative">can</span> guarantee that <em class="parameter"><code>semaphore</code></em> and
<em class="parameter"><code>fence</code></em> will be signaled by the presentation engine; and <span class="normative">may</span> not
successfully return sooner.
The application uses <em class="parameter"><code>timeout</code></em> to specify how long
<span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> waits for an image to become acquired.</p></td></tr></table></div><p>Applications <span class="normative">cannot</span> rely on <span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> blocking in order
to meter their rendering speed.
Various factors <span class="normative">can</span> interrupt <span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> from blocking.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For example, if an error occurs, <span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> <span class="normative">may</span> return
even though no image is available.
As another example, some presentation engines are able to enqueue an
unbounded number of presentation and acquire next image operations such that
<span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> never needs to wait for completion of
outstanding present operations before returning.</p></td></tr></table></div><p>The availability of presentable images is influenced by factors such as the
implementation of the presentation engine, the <code class="code">VkPresentModeKHR</code> being
used, the number of images in the swapchain, the number of images that the
application has acquired at any given time, and the performance of the
application.
The value of <code class="code">VkSurfaceCapabilitiesKHR</code>::<em class="parameter"><code>minImageCount</code></em> indicates
how many images <span class="normative">must</span> be in the swapchain in order for
<span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> to acquire an image if the application currently
has no acquired images.</p><p>Let <span class="emphasis"><em>n</em></span> be the total number of images in the swapchain, <span class="emphasis"><em>m</em></span> be the value of
<code class="code">VkSurfaceCapabilitiesKHR</code>::<em class="parameter"><code>minImageCount</code></em>, and <span class="emphasis"><em>a</em></span> be the number
of presentable images that the application has currently acquired (i.e.
images acquired with <span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span>, but not yet presented with
<span class="strong"><strong><code class="code">vkQueuePresentKHR</code></strong></span>).
<span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> <span class="normative">can</span> always succeed if <span class="inlinemediaobject"><span class="phrase">
$a \leq n -
m$
</span></span> at the time <span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> is called.
<span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> <span class="normative">should</span> not be called if <span class="inlinemediaobject"><span class="phrase">
$a &gt; n - m$
</span></span>
with a <em class="parameter"><code>timeout</code></em> of <span class="strong"><strong><code class="code">UINT64_MAX</code></strong></span>; in such a case,
<span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> <span class="normative">may</span> block indefinitely.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For example, if the <em class="parameter"><code>minImageCount</code></em> member of
<code class="code">VkSurfaceCapabilitiesKHR</code> is 2, and the application creates a swapchain
with 2 presentable images, the application <span class="normative">can</span> acquire one image, and <span class="normative">must</span>
present it before trying to acquire another image.</p><p>If we modify this example so that the application wishes to acquire up to 3
presentable images simultaneously, it <span class="normative">must</span> request a minimum image count of
4 when creating the swapchain.</p></td></tr></table></div><p>If <em class="parameter"><code>semaphore</code></em> is not <span class="strong"><strong><code class="code">VK_NULL_HANDLE</code></strong></span>, the semaphore <span class="normative">must</span> be
unsignaled and not have any uncompleted signal or wait operations pending.
It will become signaled when the application <span class="normative">can</span> use the image.
Queue operations that access the image contents <span class="normative">must</span> wait until the
semaphore signals; typically applications <span class="normative">should</span> include the semaphore in
the <em class="parameter"><code>pWaitSemaphores</code></em> list for the queue submission that transitions the
image away from the <code class="code">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> layout.
Use of the semaphore allows rendering operations to be recorded and
submitted before the presentation engine has completed its use of the image.</p><p>If <em class="parameter"><code>fence</code></em> is not equal to <span class="strong"><strong><code class="code">VK_NULL_HANDLE</code></strong></span>, the fence <span class="normative">must</span> be
unsignaled and not have any uncompleted signal operations pending.
It will become signaled when the application <span class="normative">can</span> use the image.
Applications <span class="normative">can</span> use this to meter their frame generation work to match the
presentation rate.</p><p><em class="parameter"><code>semaphore</code></em> and <em class="parameter"><code>fence</code></em> <span class="normative">must</span> not both be equal to
<span class="strong"><strong><code class="code">VK_NULL_HANDLE</code></strong></span>.
An application <span class="normative">must</span> wait until either the <em class="parameter"><code>semaphore</code></em> or <em class="parameter"><code>fence</code></em> is
signaled before using the presentable image.</p><p><em class="parameter"><code>semaphore</code></em> and <em class="parameter"><code>fence</code></em> <span class="normative">may</span> already be signaled when
<span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> returns, if the image is being acquired for the
first time, or if the presentable image is immediately ready for use.</p><p>A successful call to <span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> counts as a signal
operation on <em class="parameter"><code>semaphore</code></em> for the purposes of queue forward-progress
requirements.
The semaphore is guaranteed to signal, so a wait operation <span class="normative">can</span> be queued
for the semaphore without risk of deadlock.</p><p>The <span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> or <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> used to transition
the image away from <code class="code">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> layout <span class="normative">must</span> have
<em class="parameter"><code>dstStageMask</code></em> and <em class="parameter"><code>dstAccessMask</code></em> parameters set based on the next
use of the image.
The <em class="parameter"><code>srcAccessMask</code></em> <span class="normative">must</span> include <code class="code">VK_ACCESS_MEMORY_READ_BIT</code> to
ensure that all prior reads by the presentation engine are complete before
the image layout transition occurs.
The application <span class="normative">must</span> use
<a class="link" href="#synchronization-implicit-ordering-hostwrites" title="6.6. Host Write Ordering Guarantees">implicit ordering guarantees</a> and
<a class="link" href="#synchronization-execution-and-memory-dependencies" title="6.4. Execution And Memory Dependencies">execution dependencies</a>
to prevent the image transition from occurring before the semaphore passed
to <span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span> has signaled.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>When the swapchain image will be written by some stage <span class="inlinemediaobject"><span class="phrase">
$S$
</span></span>, the
recommended idiom for ensuring the semaphore signals before the transition
occurs is:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
The batch that contains the transition includes the image-acquire
    semaphore in the list of semaphores to wait for, with a wait stage mask
    that includes <span class="inlinemediaobject"><span class="phrase">
$S$
</span></span>.
</li><li class="listitem">
The pipeline barrier that performs the transition includes
    <span class="inlinemediaobject"><span class="phrase">
$S$
</span></span> in both the <em class="parameter"><code>srcStageMask</code></em> and <em class="parameter"><code>dstStageMask</code></em>.
</li></ul></div><p>This causes the pipeline barrier to wait at <span class="inlinemediaobject"><span class="phrase">
$S$
</span></span> until the
semaphore signals before performing the transition and memory barrier, while
allowing earlier pipeline stages of subsequent commands to proceed.</p></td></tr></table></div><p>After a successful return, the image indicated by <em class="parameter"><code>pImageIndex</code></em> will
still be in the <code class="code">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> layout if it was
previously presented, or in the <code class="code">VK_IMAGE_LAYOUT_UNDEFINED</code> layout if
this is the first time it has been acquired.</p><p>The possible return values for <span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span>() depend on the
<em class="parameter"><code>timeout</code></em> provided:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code> is returned if an image became available.
</li><li class="listitem">
<code class="code">VK_ERROR_SURFACE_LOST_KHR</code> if the surface becomes no longer
    available.
</li><li class="listitem">
<code class="code">VK_NOT_READY</code> is returned if <em class="parameter"><code>timeout</code></em> is zero and no image was
    available.
</li><li class="listitem">
<code class="code">VK_TIMEOUT</code> is returned if <em class="parameter"><code>timeout</code></em> is greater than zero and
    less than <code class="literal">UINT64_MAX</code>, and no image became available within the time
    allowed.
</li><li class="listitem">
<code class="code">VK_SUBOPTIMAL_KHR</code> is returned if an image became available, and
    the swapchain no longer matches the surface properties exactly, but <span class="normative">can</span>
    still be used to present to the surface successfully.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This <span class="normative">may</span> happen, for example, if the platform surface has been resized but
the platform is able to scale the presented images to the new size to
produce valid surface updates.
It is up to applications to decide whether they prefer to continue using the
current swapchain indefinitely or temporarily in this state, or to re-create
the swapchain to better match the platform surface properties.</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DATE_KHR</code> is returned if the surface has changed in
    such a way that it is no longer compatible with the swapchain, and
    further presentation requests using the swapchain will fail.
    Applications <span class="normative">must</span> query the new surface properties and recreate their
    swapchain if they wish to continue presenting to the surface.
</li></ul></div><p>If the native surface and presented image sizes no longer match,
presentation <span class="normative">may</span> fail.
If presentation does succeed, parts of the native surface <span class="normative">may</span> be undefined,
parts of the presented image <span class="normative">may</span> have been clipped before presentation,
and/or the image <span class="normative">may</span> have been scaled (uniformly or not uniformly) before
presentation.
It is the application’s responsibility to detect surface size changes and
react appropriately.
If presentation fails because of a mismatch in the surface and presented
image sizes, a <code class="code">VK_ERROR_OUT_OF_DATE_KHR</code> error will be returned.</p><p>Before an application <span class="normative">can</span> present an image, the image’s layout <span class="normative">must</span> be
transitioned to the <code class="code">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> layout.
The <span class="strong"><strong><code class="code">vkCmdWaitEvents</code></strong></span> or <span class="strong"><strong><code class="code">vkCmdPipelineBarrier</code></strong></span> that perform the
transition <span class="normative">must</span> have <em class="parameter"><code>srcStageMask</code></em> and <em class="parameter"><code>srcAccessMask</code></em> parameters
set based on the preceding use of the image.
The <em class="parameter"><code>dstAccessMask</code></em> <span class="normative">must</span> include <code class="code">VK_ACCESS_MEMORY_READ_BIT</code>
indicating all prior accesses indicated in <em class="parameter"><code>srcAccessMask</code></em> from stages
in <em class="parameter"><code>srcStageMask</code></em> are to be made available to reads by the presentation
engine.
Any value of <em class="parameter"><code>dstStageMask</code></em> is valid, but <span class="normative">should</span> be set to
<code class="code">VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code> to avoid delaying subsequent
commands that do not access the image.</p><p>After queueing all rendering commands and transitioning the image to the
correct layout, to queue an image for presentation, call:</p><p><a id="vkQueuePresentKHR"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkQueuePresentKHR(
    VkQueue                                     queue,
    const VkPresentInfoKHR*                     pPresentInfo);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>queue</code></em> is a queue that is capable of presentation to the target
    surface’s platform on the same device as the image’s swapchain.
</li><li class="listitem">
<em class="parameter"><code>pPresentInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#VkPresentInfoKHR">VkPresentInfoKHR</a></code> structure specifying the parameters of the
    presentation.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>queue</code></em> <span class="normative">must</span> be a valid <code class="code">VkQueue</code> handle
</li><li class="listitem">
<em class="parameter"><code>pPresentInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkPresentInfoKHR</code> structure
</li><li class="listitem">
Any given element of <em class="parameter"><code>pSwapchains</code></em> member of <em class="parameter"><code>pPresentInfo</code></em> <span class="normative">must</span> be a swapchain that is created for a surface for which presentation is supported from <em class="parameter"><code>queue</code></em> as determined using a call to <span class="strong"><strong><code class="code">vkGetPhysicalDeviceSurfaceSupportKHR</code></strong></span>
</li><li class="listitem">
If more than one member of <em class="parameter"><code>pSwapchains</code></em> was created from a display surface, all display surfaces referenced that refer to the same display <span class="normative">must</span> use the same display mode
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>queue</code></em> <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>pPresentInfo.pWaitSemaphores</code></em>[] <span class="normative">must</span> be externally synchronized
</li><li class="listitem">
Host access to <em class="parameter"><code>pPresentInfo.pSwapchains</code></em>[] <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="" align="left" valign="top"><p>Any</p></td></tr></tbody></table></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_SUBOPTIMAL_KHR</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DATE_KHR</code>
</li><li class="listitem">
<code class="code">VK_ERROR_SURFACE_LOST_KHR</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkPresentInfoKHR</code> structure is defined as:</p><p><a id="VkPresentInfoKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPresentInfoKHR {
    VkStructureType          sType;
    const void*              pNext;
    uint32_t                 waitSemaphoreCount;
    const VkSemaphore*       pWaitSemaphores;
    uint32_t                 swapchainCount;
    const VkSwapchainKHR*    pSwapchains;
    const uint32_t*          pImageIndices;
    VkResult*                pResults;
} VkPresentInfoKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_PRESENT_INFO_KHR</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>waitSemaphoreCount</code></em> is the number of semaphores to wait for before
    issuing the present request.
    The number <span class="normative">may</span> be zero.
</li><li class="listitem">
<em class="parameter"><code>pWaitSemaphores</code></em>, if not <span class="strong"><strong><code class="code">VK_NULL_HANDLE</code></strong></span>, is an array of
    <code class="code">VkSemaphore</code> objects with <em class="parameter"><code>waitSemaphoreCount</code></em> entries, and
    specifies the semaphores to wait for before issuing the present request.
</li><li class="listitem">
<em class="parameter"><code>swapchainCount</code></em> is the number of swapchains being presented to by
    this command.
</li><li class="listitem">
<em class="parameter"><code>pSwapchains</code></em> is an array of <code class="code">VkSwapchainKHR</code> objects with
    <em class="parameter"><code>swapchainCount</code></em> entries.
    A given swapchain <span class="normative">must</span> not appear in this list more than once.
</li><li class="listitem">
<em class="parameter"><code>pImageIndices</code></em> is an array of indices into the array of each
    swapchain’s presentable images, with <em class="parameter"><code>swapchainCount</code></em> entries.
    Each entry in this array identifies the image to present on the
    corresponding entry in the <em class="parameter"><code>pSwapchains</code></em> array.
</li><li class="listitem">
<em class="parameter"><code>pResults</code></em> is an array of <code class="code">VkResult</code> typed elements with
    <em class="parameter"><code>swapchainCount</code></em> entries.
    Applications that do not need per-swapchain results <span class="normative">can</span> use <code class="literal">NULL</code> for
    <em class="parameter"><code>pResults</code></em>.
    If non-<code class="literal">NULL</code>, each entry in <em class="parameter"><code>pResults</code></em> will be set to the
    <code class="code">VkResult</code> for presenting the swapchain corresponding to the same
    index in <em class="parameter"><code>pSwapchains</code></em>.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_PRESENT_INFO_KHR</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
If <em class="parameter"><code>waitSemaphoreCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pWaitSemaphores</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pWaitSemaphores</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>waitSemaphoreCount</code></em> valid <code class="code">VkSemaphore</code> handles
</li><li class="listitem">
<em class="parameter"><code>pSwapchains</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>swapchainCount</code></em> valid <code class="code">VkSwapchainKHR</code> handles
</li><li class="listitem">
<em class="parameter"><code>pImageIndices</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>swapchainCount</code></em> <code class="code">uint32_t</code> values
</li><li class="listitem">
If <em class="parameter"><code>pResults</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pResults</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>swapchainCount</code></em> <code class="code"><a class="link" href="#VkResult">VkResult</a></code> values
</li><li class="listitem">
<em class="parameter"><code>swapchainCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Any given element of <em class="parameter"><code>pImageIndices</code></em> <span class="normative">must</span> be the index of a presentable image acquired from the swapchain specified by the corresponding element of the <em class="parameter"><code>pSwapchains</code></em> array
</li><li class="listitem">
Any given element of <code class="code">VkSemaphore</code> in <em class="parameter"><code>pWaitSemaphores</code></em> <span class="normative">must</span> refer to a prior signal of that <code class="code">VkSemaphore</code> that will not be consumed by any other wait on that semaphore
</li></ul></div></div><p><a id="display_swapchain_present"></a>When the <code class="literal">VK_KHR_display_swapchain</code> extension is enabled additional fields
<span class="normative">can</span> be specified when presenting an image to a swapchain by setting
<code class="code"><a class="link" href="#VkPresentInfoKHR">VkPresentInfoKHR</a></code>::<em class="parameter"><code>pNext</code></em> to point to an instance of the
<code class="code"><a class="link" href="#VkDisplayPresentInfoKHR">VkDisplayPresentInfoKHR</a></code> structure.</p><p>The <code class="code">VkDisplayPresentInfoKHR</code> structure is defined as:</p><p><a id="VkDisplayPresentInfoKHR"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDisplayPresentInfoKHR {
    VkStructureType    sType;
    const void*        pNext;
    VkRect2D           srcRect;
    VkRect2D           dstRect;
    VkBool32           persistent;
} VkDisplayPresentInfoKHR;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>srcRect</code></em> is a rectangular region of pixels to present.
    It <span class="normative">must</span> be a subset of the image being presented.
    If <code class="code">VkDisplayPresentInfoKHR</code> is not specified, this region will be
    assumed to be the entire presentable image.
</li><li class="listitem">
<em class="parameter"><code>dstRect</code></em> is a rectangular region within the visible region of the
    swapchain’s display mode.
    If <code class="code">VkDisplayPresentInfoKHR</code> is not specified, this region will be
    assumed to be the entire visible region of the visible region of the
    swapchain’s mode.
    If the specified rectangle is a subset of the display mode’s visible
    region, content from display planes below the swapchain’s plane will be
    visible outside the rectangle.
    If there are no planes below the swapchain’s, the area outside the
    specified rectangle will be black.
    If portions of the specified rectangle are outside of the display’s
    visible region, pixels mapping only to those portions of the rectangle
    will be discarded.
</li><li class="listitem">
<em class="parameter"><code>persistent</code></em>: If this is <code class="code">VK_TRUE</code>, the display engine will
    enable buffered mode on displays that support it.
    This allows the display engine to stop sending content to the display
    until a new image is presented.
    The display will instead maintain a copy of the last presented image.
    This allows less power to be used, but <span class="normative">may</span> increase presentation
    latency.
    If <code class="code">VkDisplayPresentInfoKHR</code> is not specified, persistent mode will
    not be used.
</li></ul></div><p>If the extent of the <em class="parameter"><code>srcRect</code></em> and <em class="parameter"><code>dstRect</code></em> are not equal, the
presented pixels will be scaled accordingly.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>srcRect</code></em> <span class="normative">must</span> specify a rectangular region that is a subset of the image being presented
</li><li class="listitem">
<em class="parameter"><code>dstRect</code></em> <span class="normative">must</span> specify a rectangular region that is a subset of the <em class="parameter"><code>visibleRegion</code></em> parameter of the display mode the swapchain being presented uses
</li><li class="listitem">
If the <em class="parameter"><code>persistentContent</code></em> member of the <code class="code">VkDisplayPropertiesKHR</code> structure returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceDisplayPropertiesKHR</code></strong></span> for the display the present operation targets then <em class="parameter"><code>persistent</code></em> <span class="normative">must</span> be <code class="code">VK_FALSE</code>
</li></ul></div></div><p><span class="strong"><strong><code class="code">vkQueuePresentKHR</code></strong></span>, releases the acquisition of the images referenced
by <em class="parameter"><code>imageIndices</code></em>.
A presented images <span class="normative">must</span> not be used again before it has been reacquired
using <span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span>.</p><p>The processing of the presentation happens in issue order with other queue
operations, but semaphores have to be used to ensure that prior rendering
and other commands in the specified queue complete before the presentation
begins.
The presentation command itself does not delay processing of subsequent
commands on the queue, however, presentation requests sent to a particular
queue are always performed in order.
Exact presentation timing is controlled by the semantics of the presentation
engine and native platform in use.</p><p>If an image is presented to a swapchain created from a display surface, the
mode of the associated display will be updated, if necessary, to match the
mode specified when creating the display surface.
The mode switch and presentation of the specified image will be performed as
one atomic operation.</p><p>The result codes <code class="code">VK_ERROR_OUT_OF_DATE_KHR</code> and <code class="code">VK_SUBOPTIMAL_KHR</code>
have the same meaning when returned by <span class="strong"><strong><code class="code">vkQueuePresentKHR</code></strong></span> as they do
when returned by <span class="strong"><strong><code class="code">vkAcquireNextImageKHR</code></strong></span>().
If multiple swapchains are presented, the result code is determined applying
the following rules in order:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If the device is lost, <code class="code">VK_ERROR_DEVICE_LOST</code> is returned.
</li><li class="listitem">
If any of the target surfaces are no longer available the error
    <code class="code">VK_ERROR_SURFACE_LOST_KHR</code> is returned.
</li><li class="listitem">
If any of the presents would have a result of
    <code class="code">VK_ERROR_OUT_OF_DATE_KHR</code> if issued separately then
    <code class="code">VK_ERROR_OUT_OF_DATE_KHR</code> is returned.
</li><li class="listitem">
If any of the presents would have a result of <code class="code">VK_SUBOPTIMAL_KHR</code> if
    issued separately then <code class="code">VK_SUBOPTIMAL_KHR</code> is returned.
</li><li class="listitem">
Otherwise <code class="code">VK_SUCCESS</code> is returned.
</li></ul></div><p>Presentation is a read-only operation that will not affect the content of
the presentable images.
Upon reacquiring the image and transitioning it away from the
<code class="code">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> layout, the contents will be the same
as they were prior to transitioning the image to the present source layout
and presenting it.
However, if a mechanism other than Vulkan is used to modify the platform
window associated with the swapchain, the content of all presentable images
in the swapchain becomes undefined.</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="extended-functionality"></a>Chapter 30. Extended Functionality</h1></div></div></div><p>Additional functionality <span class="normative">may</span> be provided by layers or extensions.
A layer <span class="normative">cannot</span> add or modify Vulkan commands, while an extension <span class="normative">may</span> do
so.</p><p>The set of layers to enable is specified when creating an instance, and
those layers are able to intercept any Vulkan command dispatched to that
instance or any of its child objects.</p><p>Extensions can operate at either the instance or device scope.
Enabled instance extensions are able to affect the operation of the instance
and any of its child objects, while device extensions <span class="normative">may</span> only be available
on a subset of physical devices, <span class="normative">must</span> be individually enabled per-device,
and only affect the operation of the devices where they are enabled.</p><p>Examples of these might be:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Whole API validation is an example of a layer.
</li><li class="listitem">
Debug capabilities might make a good instance extension.
</li><li class="listitem">
A layer that provides hardware-specific performance telemetry and
    analysis could be a layer that is only active for devices created from
    compatible physical devices.
</li><li class="listitem">
Functions to allow an application to use additional hardware features
    beyond the core would be a good candidate for a device extension.
</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="extended-functionality-layers"></a>30.1. Layers</h2></div></div></div><p>When a layer is enabled, it inserts itself into the call chain for Vulkan
commands the layer is interested in.
A common use of layers is to validate application behavior during
development.
For example, the implementation will not check that Vulkan enums used by the
application fall within allowed ranges.
Instead, a validation layer would do those checks and flag issues.
This avoids a performance penalty during production use of the application
because those layers would not be enabled in production.</p><p>Vulkan layers <span class="normative">may</span> wrap object handles (i.e.
return a different handle value to the application than that generated by
the implementation).
This is generally discouraged, as it increases the probability of
incompatibilities with new extensions.
The validation layers wrap handles in order to track the proper use and
destruction of each object.
See the <a class="link" href="#LoaderAndValidationLayers">"Vulkan Loader Specification and Architecture Overview"</a> document for additional information.</p><p>To query the available layers, call:</p><p><a id="vkEnumerateInstanceLayerProperties"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkEnumerateInstanceLayerProperties(
    uint32_t*                                   pPropertyCount,
    VkLayerProperties*                          pProperties);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> is a pointer to an integer related to the number of
    layer properties available or queried, as described below.
</li><li class="listitem">
<em class="parameter"><code>pProperties</code></em> is either <code class="literal">NULL</code> or a pointer to an array of
    <code class="code"><a class="link" href="#VkLayerProperties">VkLayerProperties</a></code> structures.
</li></ul></div><p>If <em class="parameter"><code>pProperties</code></em> is <code class="literal">NULL</code>, then the number of layer properties
available is returned in <em class="parameter"><code>pPropertyCount</code></em>.
Otherwise, <em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> point to a variable set by the user to
the number of elements in the <em class="parameter"><code>pProperties</code></em> array, and on return the
variable is overwritten with the number of structures actually written to
<em class="parameter"><code>pProperties</code></em>.
If <em class="parameter"><code>pPropertyCount</code></em> is less than the number of layer properties
available, at most <em class="parameter"><code>pPropertyCount</code></em> structures will be written.
If <em class="parameter"><code>pPropertyCount</code></em> is smaller than the number of layers available,
<code class="code">VK_INCOMPLETE</code> will be returned instead of <code class="code">VK_SUCCESS</code>, to
indicate that not all the available layer properties were returned.</p><p>The list of available layers may change at any time due to actions outside
of the Vulkan implementation, so two calls to
<span class="strong"><strong><code class="code">vkEnumerateInstanceLayerProperties</code></strong></span> with the same parameters <span class="normative">may</span>
return different results, or retrieve different <em class="parameter"><code>pPropertyCount</code></em> values
or <em class="parameter"><code>pProperties</code></em> contents.
Once an instance has been created, the layers enabled for that instance will
continue to be enabled and valid for the lifetime of that instance, even if
some of them become unavailable for future instances.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pPropertyCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pProperties</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pProperties</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pPropertyCount</code></em> <code class="code">VkLayerProperties</code> structures
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkLayerProperties</code> structure is defined as:</p><p><a id="VkLayerProperties"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkLayerProperties {
    char        layerName[VK_MAX_EXTENSION_NAME_SIZE];
    uint32_t    specVersion;
    uint32_t    implementationVersion;
    char        description[VK_MAX_DESCRIPTION_SIZE];
} VkLayerProperties;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>layerName</code></em> is a null-terminated UTF-8 string specifying the name of
    the layer.
    Use this name in the <em class="parameter"><code>ppEnabledLayerNames</code></em> array passed in the
    <code class="code"><a class="link" href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a></code> structure to enable this layer for an
    instance.
</li><li class="listitem">
<em class="parameter"><code>specVersion</code></em> is the Vulkan version the layer was written to,
    encoded as described in the <a class="link" href="#fundamentals-versionnum" title="2.9. API Version Numbers and Semantics">API Version     Numbers and Semantics</a> section.
</li><li class="listitem">
<em class="parameter"><code>implementationVersion</code></em> is the version of this layer.
    It is an integer, increasing with backward compatible changes.
</li><li class="listitem">
<em class="parameter"><code>description</code></em> is a null-terminated UTF-8 string providing additional
    details that <span class="normative">can</span> be used by the application to identify the layer.
</li></ul></div><p>To enable a layer, the name of the layer <span class="normative">should</span> be added to the
<em class="parameter"><code>ppEnabledLayerNames</code></em> member of <code class="code"><a class="link" href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a></code> when creating
a <code class="code">VkInstance</code>.</p><p>Loader implementations <span class="normative">may</span> provide mechanisms outside the Vulkan API for
enabling specific layers.
Layers enabled through such a mechanism are <span class="emphasis"><em>implicitly enabled</em></span>, while
layers enabled by including the layer name in the <em class="parameter"><code>ppEnabledLayerNames</code></em>
member of <code class="code"><a class="link" href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a></code> are <span class="emphasis"><em>explicitly enabled</em></span>.
Except where otherwise specified, implicitly enabled and explicitly enabled
layers differ only in the way they are enabled.
Explicitly enabling a layer that is implicitly enabled has no additional
effect.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="extended-functionality-device-layer-deprecation"></a>30.1.1. Device Layer Deprecation</h3></div></div></div><p>Previous versions of this specification distinguished between instance and
device layers.
Instance layers were only able to intercept commands that operate on
<code class="code">VkInstance</code> and <code class="code">VkPhysicalDevice</code>, except they were not able to
intercept <code class="code"><a class="link" href="#vkCreateDevice">vkCreateDevice</a></code>.
Device layers were enabled for individual devices when they were created,
and could only intercept commands operating on that device or its child
objects.</p><p>Device-only layers are now deprecated, and this specification no longer
distinguishes between instance and device layers.
Layers are enabled during instance creation, and are able to intercept all
commands operating on that instance or any of its child objects.
At the time of deprecation there were no known device-only layers and no
compelling reason to create one.</p><p>In order to maintain compatibility with implementations released prior to
device-layer deprecation, applications <span class="normative">should</span> still enumerate and enable
device layers.
The behavior of <span class="strong"><strong><code class="code">vkEnumerateDeviceLayerProperties</code></strong></span> and valid usage of
the <em class="parameter"><code>ppEnabledLayerNames</code></em> member of <code class="code">VkDeviceCreateInfo</code> maximizes
compatibility with applications written to work with the previous
requirements.</p><p>To enumerate device layers, call:</p><p><a id="vkEnumerateDeviceLayerProperties"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkEnumerateDeviceLayerProperties(
    VkPhysicalDevice                            physicalDevice,
    uint32_t*                                   pPropertyCount,
    VkLayerProperties*                          pProperties);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> is a pointer to an integer related to the number of
    layer properties available or queried.
</li><li class="listitem">
<em class="parameter"><code>pProperties</code></em> is either <code class="literal">NULL</code> or a pointer to an array of
    <code class="code"><a class="link" href="#VkLayerProperties">VkLayerProperties</a></code> structures.
</li></ul></div><p>If <em class="parameter"><code>pProperties</code></em> is <code class="literal">NULL</code>, then the number of layer properties
available is returned in <em class="parameter"><code>pPropertyCount</code></em>.
Otherwise, <em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> point to a variable set by the user to
the number of elements in the <em class="parameter"><code>pProperties</code></em> array, and on return the
variable is overwritten with the number of structures actually written to
<em class="parameter"><code>pProperties</code></em>.
If <em class="parameter"><code>pPropertyCount</code></em> is less than the number of layer properties
available, at most <em class="parameter"><code>pPropertyCount</code></em> structures will be written.
If <em class="parameter"><code>pPropertyCount</code></em> is smaller than the number of layers available,
<code class="code">VK_INCOMPLETE</code> will be returned instead of <code class="code">VK_SUCCESS</code>, to
indicate that not all the available layer properties were returned.</p><p>The list of layers enumerated by <span class="strong"><strong><code class="code">vkEnumerateDeviceLayerProperties</code></strong></span>
<span class="normative">must</span> be exactly the sequence of layers enabled for the instance.
The members of <code class="code">VkLayerProperties</code> for each enumerated layer <span class="normative">must</span> be
the same as the properties when the layer was enumerated by
<span class="strong"><strong><code class="code">vkEnumerateInstanceLayerProperties</code></strong></span>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pPropertyCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pProperties</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pProperties</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pPropertyCount</code></em> <code class="code">VkLayerProperties</code> structures
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <em class="parameter"><code>ppEnabledLayerNames</code></em> and <em class="parameter"><code>enabledLayerCount</code></em> members of
<code class="code">VkDeviceCreateInfo</code> are deprecated and their values <span class="normative">must</span> be ignored by
implementations.
However, for compatibility, only an empty list of layers or a list that
exactly matches the sequence enabled at instance creation time are valid,
and validation layers <span class="normative">should</span> issue diagnostics for other cases.</p><p>Regardless of the enabled layer list provided in <code class="code">VkDeviceCreateInfo</code>,
the sequence of layers active for a device will be exactly the sequence of
layers enabled when the parent instance was created.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="extended-functionality-extensions"></a>30.2. Extensions</h2></div></div></div><p>Extensions <span class="normative">may</span> define new Vulkan commands, structures, and enumerants.
For compilation purposes, the interfaces defined by registered extensions,
including new structures and enumerants as well as function pointer types
for new commands, are defined in the Khronos-supplied <code class="literal">vulkan.h</code> together
with the core API.
However, commands defined by extensions <span class="normative">may</span> not be available for static
linking - in which case function pointers to these commands <span class="normative">should</span> be
queried at runtime as described in <a class="xref" href="#initialization-functionpointers" title="3.1. Command Function Pointers">Section 3.1, “Command Function Pointers”</a>.
Extensions <span class="normative">may</span> be provided by layers as well as by a Vulkan implementation.</p><p>Because extensions <span class="normative">may</span> extend or change the behavior of the Vulkan API,
extension authors <span class="normative">should</span> add support for their extensions to the Khronos
validation layers.
This is especially important for new commands whose parameters have been
wrapped by the validation layers.
See the <a class="link" href="#LoaderAndValidationLayers">"Vulkan Loader Specification and Architecture Overview"</a> document for additional information.</p><p>To query the available instance extensions, call:</p><p><a id="vkEnumerateInstanceExtensionProperties"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkEnumerateInstanceExtensionProperties(
    const char*                                 pLayerName,
    uint32_t*                                   pPropertyCount,
    VkExtensionProperties*                      pProperties);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pLayerName</code></em> is either <code class="literal">NULL</code> or a pointer to a null-terminated
    UTF-8 string naming the layer to retrieve extensions from.
</li><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> is a pointer to an integer related to the number of
    extension properties available or queried, as described below.
</li><li class="listitem">
<em class="parameter"><code>pProperties</code></em> is either <code class="literal">NULL</code> or a pointer to an array of
    <code class="code"><a class="link" href="#VkExtensionProperties">VkExtensionProperties</a></code> structures.
</li></ul></div><p>When <em class="parameter"><code>pLayerName</code></em> parameter is NULL, only extensions provided by the
Vulkan implementation or by implicitly enabled layers are returned.
When <em class="parameter"><code>pLayerName</code></em> is the name of a layer, the instance extensions
provided by that layer are returned.</p><p>If <em class="parameter"><code>pProperties</code></em> is <code class="literal">NULL</code>, then the number of extensions properties
available is returned in <em class="parameter"><code>pPropertyCount</code></em>.
Otherwise, <em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> point to a variable set by the user to
the number of elements in the <em class="parameter"><code>pProperties</code></em> array, and on return the
variable is overwritten with the number of structures actually written to
<em class="parameter"><code>pProperties</code></em>.
If <em class="parameter"><code>pPropertyCount</code></em> is less than the number of extension properties
available, at most <em class="parameter"><code>pPropertyCount</code></em> structures will be written.
If <em class="parameter"><code>pPropertyCount</code></em> is smaller than the number of extensions available,
<code class="code">VK_INCOMPLETE</code> will be returned instead of <code class="code">VK_SUCCESS</code>, to
indicate that not all the available properties were returned.</p><p>Because the list of available layers may change externally between calls to
<em class="parameter"><code>vkEnumerateInstanceExtensionProperties</code></em>, two calls may retrieve
different results if a <em class="parameter"><code>pLayerName</code></em> is available in one call but not in
another.
The extensions supported by a layer may also change between two calls, e.g.
if the layer implementation is replaced by a different version between those
calls.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If <em class="parameter"><code>pLayerName</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pLayerName</code></em> <span class="normative">must</span> be a null-terminated string
</li><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pPropertyCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pProperties</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pProperties</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pPropertyCount</code></em> <code class="code">VkExtensionProperties</code> structures
</li><li class="listitem">
If <em class="parameter"><code>pLayerName</code></em> is not <code class="literal">NULL</code>, it <span class="normative">must</span> be the name of a layer returned by <code class="code"><a class="link" href="#vkEnumerateInstanceLayerProperties">vkEnumerateInstanceLayerProperties</a></code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_LAYER_NOT_PRESENT</code>
</li></ul></div></dd></dl></div></div><p>To enable an instance extension, the name of the extension <span class="normative">should</span> be added
to the <em class="parameter"><code>ppEnabledExtensionNames</code></em> member of <code class="code"><a class="link" href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a></code>
when creating a <code class="code">VkInstance</code>.</p><p>Enabling an extension does not change behavior of functionality exposed by
the core Vulkan API or any other extension, other than making valid the use
of the commands, enums and structures defined by that extension.</p><p>To query the extensions available to a given physical device, call:</p><p><a id="vkEnumerateDeviceExtensionProperties"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkEnumerateDeviceExtensionProperties(
    VkPhysicalDevice                            physicalDevice,
    const char*                                 pLayerName,
    uint32_t*                                   pPropertyCount,
    VkExtensionProperties*                      pProperties);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device that will be queried.
</li><li class="listitem">
<em class="parameter"><code>pLayerName</code></em> is either <code class="literal">NULL</code> or a pointer to a null-terminated
    UTF-8 string naming the layer to retrieve extensions from.
</li><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> is a pointer to an integer related to the number of
    extension properties available or queried, and is treated in the same
    fashion as the
    <code class="code"><a class="link" href="#vkEnumerateInstanceExtensionProperties">vkEnumerateInstanceExtensionProperties</a></code>::<em class="parameter"><code>pPropertyCount</code></em>
    parameter.
</li><li class="listitem">
<em class="parameter"><code>pProperties</code></em> is either <code class="literal">NULL</code> or a pointer to an array of
    <code class="code"><a class="link" href="#VkExtensionProperties">VkExtensionProperties</a></code> structures.
</li></ul></div><p>When <em class="parameter"><code>pLayerName</code></em> parameter is NULL, only extensions provided by the
Vulkan implementation or by implicitly enabled layers are returned.
When <em class="parameter"><code>pLayerName</code></em> is the name of a layer, the device extensions provided
by that layer are returned.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
If <em class="parameter"><code>pLayerName</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pLayerName</code></em> <span class="normative">must</span> be a null-terminated string
</li><li class="listitem">
<em class="parameter"><code>pPropertyCount</code></em> <span class="normative">must</span> be a pointer to a <code class="code">uint32_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pPropertyCount</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pProperties</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pProperties</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pPropertyCount</code></em> <code class="code">VkExtensionProperties</code> structures
</li><li class="listitem">
If <em class="parameter"><code>pLayerName</code></em> is not <code class="literal">NULL</code>, it <span class="normative">must</span> be the name of a layer returned by <code class="code"><a class="link" href="#vkEnumerateDeviceLayerProperties">vkEnumerateDeviceLayerProperties</a></code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_LAYER_NOT_PRESENT</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkExtensionProperties</code> structure is defined as:</p><p><a id="VkExtensionProperties"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkExtensionProperties {
    char        extensionName[VK_MAX_EXTENSION_NAME_SIZE];
    uint32_t    specVersion;
} VkExtensionProperties;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>extensionName</code></em> is a null-terminated string specifying the name of
    the extension.
</li><li class="listitem">
<em class="parameter"><code>specVersion</code></em> is the version of this extension.
    It is an integer, incremented with backward compatible changes.
</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="extended-functionality-instance-extensions-and-devices"></a>30.2.1. Instance Extensions and Device Extensions</h3></div></div></div><p>Because an instance extension can affect the operation of an instance and
any of its child objects, the decision to expose functionality as an
instance extension or as a device extension is not always clear.
This section provides some guidelines and rules for when to expose new
functionality as an instance extension, device extension, or both.</p><p>The decision is influenced by whether extension functionality affects
instance-level objects (e.g.
instances and physical devices) and commands, or device-level objects (e.g.
logical devices, queues, and command buffers) and commands, or both.</p><p>In some cases, the decision is clear:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Functionality that is restricted to the instance-level <span class="normative">must</span> be
    implemented as an instance extension.
</li><li class="listitem">
Functionality that is restricted to the device-level <span class="normative">must</span> be
    implemented as a device extension.
</li></ul></div><p>In other cases, the decision is not so clear:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Global functionality that affects the entire Vulkan API, including
    instance and device-level objects and commands, <span class="normative">should</span> be an instance
    extension.
</li><li class="listitem">
Device-level functionality that contains physical-device queries, <span class="normative">can</span>
    be implemented as an instance extension.
    If some part of an instance extension’s functionality might not be
    available on all physical devices, the extension <span class="normative">should</span> provide a query
    to determine which physical devices provide the functionality.
</li><li class="listitem">
For a set of global functionality that provides new instance-level and
    device-level commands, and <span class="normative">can</span> be enabled for a subset of devices, it
    is recommended that the functionality be partitioned across two
    extensions—one for the instance-level functionality, and one for the
    device-specific functionality.
    In this latter case, it is generally recommended that the two extensions
    have unique names.
</li></ul></div><p>Examples of instance extensions include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Logging of debug messages by any enabled layers for all Vulkan commands.
</li><li class="listitem">
Functionality creating new objects which are direct children of an
    instance.
</li><li class="listitem">
Functionality creating new objects which are direct children of a
    physical device and intended to work with any logical device created
    from the physical device.
</li><li class="listitem">
Functionality adding new instance-level Vulkan commands that do not
    affect any device-level commands.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Instance extensions generally require support in the Vulkan loader.
This is especially true for commands that are dispatched from instances and
physical devices.
Additional information about supporting instance-level commands may be found
in the <a class="link" href="#extended-functionality-extensions" title="30.2. Extensions">extensions</a>
<a class="link" href="#LoaderAndValidationLayers">"Vulkan Loader Specification and Architecture Overview"</a> document,</p><p>Please see the "Architectural overview of layers and loader" section for
information about how both instance-level and device-level commands are
supported and dispatched.</p></td></tr></table></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="features"></a>Chapter 31. Features, Limits, and Formats</h1></div></div></div><p>Vulkan is designed to support a wide range of hardware and as such there are
a number of features, limits, and formats which are not supported on all
hardware.
Features describe functionality that is not <span class="normative">required</span> and which <span class="normative">must</span> be
explicitly enabled.
Limits describe implementation-dependent minimums, maximums, and other
device characteristics that an application <span class="normative">may</span> need to be aware of.
Supported buffer and image formats <span class="normative">may</span> vary across implementations.
A minimum set of format features are guaranteed, but others <span class="normative">must</span> be
explicitly queried before use to ensure they are supported by the
implementation.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note on extensibility"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note on extensibility</th></tr><tr><td align="left" valign="top"><p>The features and limits are reported via basic structures (that is
<code class="code"><a class="link" href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a></code> and <code class="code"><a class="link" href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>).
It is expected that when new features or limits are added in a future Vulkan
version, new structure(s) and entry point(s) will be added as necessary to
query these.
New functionality added by <a class="link" href="#extended-functionality-extensions" title="30.2. Extensions">extensions</a>
is not expected to modify the core feature and limit structures.</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="features-features"></a>31.1. Features</h2></div></div></div><p>The Specification defines a set of fine-grained features that are not
<span class="normative">required</span>, but <span class="normative">may</span> be supported by a Vulkan implementation.
Support for features is reported and enabled on a per-feature basis.
Features are properties of the physical device.</p><p>To query supported features, call:</p><p><a id="vkGetPhysicalDeviceFeatures"></a><strong> </strong>
</p><pre class="programlisting">void vkGetPhysicalDeviceFeatures(
    VkPhysicalDevice                            physicalDevice,
    VkPhysicalDeviceFeatures*                   pFeatures);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device from which to query the
    supported features.
</li><li class="listitem">
<em class="parameter"><code>pFeatures</code></em> is a pointer to a <code class="code"><a class="link" href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a></code>
    structure in which the physical device features are returned.
    For each feature, a value of <code class="code">VK_TRUE</code> indicates that the feature is
    supported on this physical device, and <code class="code">VK_FALSE</code> indicates that the
    feature is not supported.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pFeatures</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkPhysicalDeviceFeatures</code> structure
</li></ul></div></div><p>Fine-grained features used by a logical device <span class="normative">must</span> be enabled at
<code class="code">VkDevice</code> creation time.
If a feature is enabled that the physical device does not support,
<code class="code">VkDevice</code> creation will fail.
If an application uses a feature without enabling it at <code class="code">VkDevice</code>
creation time, the device behavior is undefined.
The validation layer will warn if features are used without being enabled.</p><p>The fine-grained features are enabled by passing a pointer to the
<code class="code">VkPhysicalDeviceFeatures</code> structure via the <em class="parameter"><code>pEnabledFeatures</code></em>
member of the <code class="code">VkDeviceCreateInfo</code> structure that is passed into the
<span class="strong"><strong><code class="code">vkCreateDevice</code></strong></span> call.
If a member of <em class="parameter"><code>pEnabledFeatures</code></em> is set to <code class="code">VK_TRUE</code> or
<code class="code">VK_FALSE</code>, then the device will be created with the indicated feature
enabled or disabled, respectively.</p><p>If an application wishes to enable all features supported by a device, it
<span class="normative">can</span> simply pass in the <code class="code">VkPhysicalDeviceFeatures</code> structure that was
previously returned by <span class="strong"><strong><code class="code">vkGetPhysicalDeviceFeatures</code></strong></span>.
To disable an individual feature, the application <span class="normative">can</span> set the desired
member to <code class="code">VK_FALSE</code> in the same structure.
Setting <em class="parameter"><code>pEnabledFeatures</code></em> to <code class="literal">NULL</code> is equivalent to setting all
members of the structure to <code class="code">VK_FALSE</code>.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Some features, such as <em class="parameter"><code>robustBufferAccess</code></em>, <span class="normative">may</span> incur a run-time
performance cost.
Application writers <span class="normative">should</span> carefully consider the implications of enabling
all supported features.</p></td></tr></table></div><p>The <code class="code">VkPhysicalDeviceFeatures</code> structure is defined as:</p><p><a id="VkPhysicalDeviceFeatures"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPhysicalDeviceFeatures {
    VkBool32    robustBufferAccess;
    VkBool32    fullDrawIndexUint32;
    VkBool32    imageCubeArray;
    VkBool32    independentBlend;
    VkBool32    geometryShader;
    VkBool32    tessellationShader;
    VkBool32    sampleRateShading;
    VkBool32    dualSrcBlend;
    VkBool32    logicOp;
    VkBool32    multiDrawIndirect;
    VkBool32    drawIndirectFirstInstance;
    VkBool32    depthClamp;
    VkBool32    depthBiasClamp;
    VkBool32    fillModeNonSolid;
    VkBool32    depthBounds;
    VkBool32    wideLines;
    VkBool32    largePoints;
    VkBool32    alphaToOne;
    VkBool32    multiViewport;
    VkBool32    samplerAnisotropy;
    VkBool32    textureCompressionETC2;
    VkBool32    textureCompressionASTC_LDR;
    VkBool32    textureCompressionBC;
    VkBool32    occlusionQueryPrecise;
    VkBool32    pipelineStatisticsQuery;
    VkBool32    vertexPipelineStoresAndAtomics;
    VkBool32    fragmentStoresAndAtomics;
    VkBool32    shaderTessellationAndGeometryPointSize;
    VkBool32    shaderImageGatherExtended;
    VkBool32    shaderStorageImageExtendedFormats;
    VkBool32    shaderStorageImageMultisample;
    VkBool32    shaderStorageImageReadWithoutFormat;
    VkBool32    shaderStorageImageWriteWithoutFormat;
    VkBool32    shaderUniformBufferArrayDynamicIndexing;
    VkBool32    shaderSampledImageArrayDynamicIndexing;
    VkBool32    shaderStorageBufferArrayDynamicIndexing;
    VkBool32    shaderStorageImageArrayDynamicIndexing;
    VkBool32    shaderClipDistance;
    VkBool32    shaderCullDistance;
    VkBool32    shaderFloat64;
    VkBool32    shaderInt64;
    VkBool32    shaderInt16;
    VkBool32    shaderResourceResidency;
    VkBool32    shaderResourceMinLod;
    VkBool32    sparseBinding;
    VkBool32    sparseResidencyBuffer;
    VkBool32    sparseResidencyImage2D;
    VkBool32    sparseResidencyImage3D;
    VkBool32    sparseResidency2Samples;
    VkBool32    sparseResidency4Samples;
    VkBool32    sparseResidency8Samples;
    VkBool32    sparseResidency16Samples;
    VkBool32    sparseResidencyAliased;
    VkBool32    variableMultisampleRate;
    VkBool32    inheritedQueries;
} VkPhysicalDeviceFeatures;</pre><p>
</p><p>The members of the <code class="code">VkPhysicalDeviceFeatures</code> structure describe the
following features:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
<a id="features-features-robustBufferAccess"></a> <em class="parameter"><code>robustBufferAccess</code></em>
    indicates that accesses to buffers are bounds-checked against the range
    of the buffer descriptor (as determined by
    <code class="code">VkDescriptorBufferInfo</code>::<em class="parameter"><code>range</code></em>,
    <code class="code">VkBufferViewCreateInfo</code>::<em class="parameter"><code>range</code></em>, or the size of the buffer).
    Out of bounds accesses <span class="normative">must</span> not cause application termination, and the
    effects of shader loads, stores, and atomics <span class="normative">must</span> conform to an
    implementation-dependent behavior as described below.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p class="simpara">
A buffer access is considered to be out of bounds if any of the
     following are true:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem">
The pointer was formed by <span class="strong"><strong><code class="code">OpImageTexelPointer</code></strong></span> and the coordinate
      is less than zero or greater than or equal to the number of whole
      elements in the bound range.
</li><li class="listitem"><p class="simpara">
The pointer was not formed by <span class="strong"><strong><code class="code">OpImageTexelPointer</code></strong></span> and the object
      pointed to is not wholly contained within the bound range.
</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If a SPIR-V <span class="strong"><strong><code class="code">OpLoad</code></strong></span> instruction loads a structure and the tail end of
the structure is out of bounds, then all members of the structure are
considered out of bounds even if the members at the end are not statically
used.</p></td></tr></table></div></li><li class="listitem">
If any buffer access in a given SPIR-V block is determined to be out
      of bounds, then any other access of the same type (load, store, or
      atomic) in the same SPIR-V block that accesses an address less than 16
      bytes away from the out of bounds address <span class="normative">may</span> also be considered out
      of bounds.
</li></ul></div></li><li class="listitem"><p class="simpara">
Out-of-bounds buffer loads will return any of the following values:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem">
Values from anywhere within the memory range(s) bound to the buffer
      (possibly including bytes of memory past the end of the buffer, up to
      the end of the bound range).
</li><li class="listitem"><p class="simpara">
Zero values, or (0,0,0,x) vectors for vector reads where x is a valid
      value represented in the type of the vector components and <span class="normative">may</span> be any
      of:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
0, 1, or the maximum representable positive integer value, for signed
       or unsigned integer components
</li><li class="listitem">
0.0 or 1.0, for floating-point components
</li></ul></div></li></ul></div></li><li class="listitem">
Out-of-bounds writes <span class="normative">may</span> modify values within the memory range(s)
     bound to the buffer, but <span class="normative">must</span> not modify any other memory.
</li><li class="listitem">
Out-of-bounds atomics <span class="normative">may</span> modify values within the memory range(s)
     bound to the buffer, but <span class="normative">must</span> not modify any other memory, and return
     an undefined value.
</li><li class="listitem"><p class="simpara">
Vertex input attributes are considered out of bounds if the address of
     the attribute plus the size of the attribute is greater than the size
     of the bound buffer.
     Further, if any vertex input attribute using a specific vertex input
     binding is out of bounds, then all vertex input attributes using that
     vertex input binding for that vertex shader invocation are considered
     out of bounds.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p class="simpara">
If a vertex input attribute is out of bounds, it will be assigned one
      of the following values:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Values from anywhere within the memory range(s) bound to the buffer,
     converted according to the format of the attribute.
</li><li class="listitem">
Zero values, format converted according to the format of the
       attribute.
</li><li class="listitem">
Zero values, or (0,0,0,x) vectors, as described above.
</li></ul></div></li></ul></div></li><li class="listitem">
If <em class="parameter"><code>robustBufferAccess</code></em> is not enabled, out of bounds accesses <span class="normative">may</span>
     corrupt any memory within the process and cause undefined behavior up
     to and including application termination.
</li></ul></div></li><li class="listitem">
<a id="features-features-fullDrawIndexUint32"></a> <em class="parameter"><code>fullDrawIndexUint32</code></em>
    indicates the full 32-bit range of indices is supported for indexed draw
    calls when using a <code class="code"><a class="link" href="#VkIndexType">VkIndexType</a></code> of <code class="code">VK_INDEX_TYPE_UINT32</code>.
    <em class="parameter"><code>maxDrawIndexedIndexValue</code></em> is the maximum index value that <span class="normative">may</span> be
    used (aside from the primitive restart index, which is always 2<sup>32</sup>-1
    when the <code class="code"><a class="link" href="#VkIndexType">VkIndexType</a></code> is <code class="code">VK_INDEX_TYPE_UINT32</code>).
    If this feature is supported, <em class="parameter"><code>maxDrawIndexedIndexValue</code></em> <span class="normative">must</span> be
    2<sup>32</sup>-1; otherwise it <span class="normative">must</span> be no smaller than 2<sup>24</sup>-1.
    See
    <a class="link" href="#features-limits-maxDrawIndexedIndexValue">maxDrawIndexedIndexValue</a>.
</li><li class="listitem">
<a id="features-features-imageCubeArray"></a> <em class="parameter"><code>imageCubeArray</code></em> indicates
    whether image views with a <code class="code"><a class="link" href="#VkImageViewType">VkImageViewType</a></code> of
    <code class="code">VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code> <span class="normative">can</span> be created, and that the
    corresponding <span class="strong"><strong><code class="code">SampledCubeArray</code></strong></span> and <span class="strong"><strong><code class="code">ImageCubeArray</code></strong></span> SPIR-V
    capabilities <span class="normative">can</span> be used in shader code.
</li><li class="listitem">
<a id="features-features-independentBlend"></a> <em class="parameter"><code>independentBlend</code></em> indicates
    whether the <code class="code">VkPipelineColorBlendAttachmentState</code> settings are
    controlled independently per-attachment.
    If this feature is not enabled, the
    <code class="code">VkPipelineColorBlendAttachmentState</code> settings for all color
    attachments <span class="normative">must</span> be identical.
    Otherwise, a different <code class="code">VkPipelineColorBlendAttachmentState</code> <span class="normative">can</span> be
    provided for each bound color attachment.
</li><li class="listitem">
<a id="features-features-geometryShader"></a> <em class="parameter"><code>geometryShader</code></em> indicates
    whether geometry shaders are supported.
    If this feature is not enabled, the <code class="code">VK_SHADER_STAGE_GEOMETRY_BIT</code>
    and <code class="code">VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code> enum values <span class="normative">must</span> not be
    used.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">Geometry</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-tessellationShader"></a> <em class="parameter"><code>tessellationShader</code></em>
    indicates whether tessellation control and evaluation shaders are
    supported.
    If this feature is not enabled, the
    <code class="code">VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code>,
    <code class="code">VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>,
    <code class="code">VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>,
    <code class="code">VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>, and
    <code class="code">VK_STRUCTURE_TYPE_PIPELINE_TESSELLATION_STATE_CREATE_INFO</code> enum
    values <span class="normative">must</span> not be used.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">Tessellation</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-sampleRateShading"></a> <em class="parameter"><code>sampleRateShading</code></em>
    indicates whether per-sample shading and multisample interpolation are
    supported.
    If this feature is not enabled, the <em class="parameter"><code>sampleShadingEnable</code></em> member of
    the <code class="code">VkPipelineMultisampleStateCreateInfo</code> structure <span class="normative">must</span> be set to
    <code class="code">VK_FALSE</code> and the <em class="parameter"><code>minSampleShading</code></em> member is ignored.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">SampleRateShading</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-dualSrcBlend"></a> <em class="parameter"><code>dualSrcBlend</code></em> indicates whether
    blend operations which take two sources are supported.
    If this feature is not enabled, the <code class="code">VK_BLEND_FACTOR_SRC1_COLOR</code>,
    <code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
    <code class="code">VK_BLEND_FACTOR_SRC1_ALPHA</code>, and
    <code class="code">VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code> enum values <span class="normative">must</span> not be used
    as source or destination blending factors.
    See <a class="xref" href="#framebuffer-dsb" title="26.1.2. Dual-Source Blending">Section 26.1.2, “Dual-Source Blending”</a>.
</li><li class="listitem">
<a id="features-features-logicOp"></a> <em class="parameter"><code>logicOp</code></em> indicates whether logic
    operations are supported.
    If this feature is not enabled, the <em class="parameter"><code>logicOpEnable</code></em> member of the
    <code class="code">VkPipelineColorBlendStateCreateInfo</code> structure <span class="normative">must</span> be set to
    <code class="code">VK_FALSE</code>, and the <em class="parameter"><code>logicOp</code></em> member is ignored.
</li><li class="listitem">
<a id="features-features-multiDrawIndirect"></a> <em class="parameter"><code>multiDrawIndirect</code></em>
    indicates whether multiple draw indirect is supported.
    If this feature is not enabled, the <em class="parameter"><code>drawCount</code></em> parameter to the
    <span class="strong"><strong><code class="code">vkCmdDrawIndirect</code></strong></span> and <span class="strong"><strong><code class="code">vkCmdDrawIndexedIndirect</code></strong></span> commands
    <span class="normative">must</span> be 0 or 1.
    The <em class="parameter"><code>maxDrawIndirectCount</code></em> member of the
    <code class="code">VkPhysicalDeviceLimits</code> structure <span class="normative">must</span> also be 1 if this feature
    is not supported.
    See <a class="link" href="#features-limits-maxDrawIndirectCount">maxDrawIndirectCount</a>.
</li><li class="listitem">
<a id="features-features-drawIndirectFirstInstance"></a>
    <em class="parameter"><code>drawIndirectFirstInstance</code></em> indicates whether indirect draw calls
    support the <em class="parameter"><code>firstInstance</code></em> parameter.
    If this feature is not enabled, the <em class="parameter"><code>firstInstance</code></em> member of all
    <code class="code">VkDrawIndirectCommand</code> and <code class="code">VkDrawIndexedIndirectCommand</code>
    structures that are provided to the <span class="strong"><strong><code class="code">vkCmdDrawIndirect</code></strong></span> and
    <span class="strong"><strong><code class="code">vkCmdDrawIndexedIndirect</code></strong></span> commands <span class="normative">must</span> be 0.
</li><li class="listitem">
<a id="features-features-depthClamp"></a> <em class="parameter"><code>depthClamp</code></em> indicates whether
    depth clamping is supported.
    If this feature is not enabled, the <em class="parameter"><code>depthClampEnable</code></em> member of the
    <code class="code">VkPipelineRasterizationStateCreateInfo</code> structure <span class="normative">must</span> be set to
    <code class="code">VK_FALSE</code>.
    Otherwise, setting <em class="parameter"><code>depthClampEnable</code></em> to <code class="code">VK_TRUE</code> will enable
    depth clamping.
</li><li class="listitem">
<a id="features-features-depthBiasClamp"></a> <em class="parameter"><code>depthBiasClamp</code></em> indicates
    whether depth bias clamping is supported.
    If this feature is not enabled, the <em class="parameter"><code>depthBiasClamp</code></em> member of the
    <code class="code">VkPipelineRasterizationStateCreateInfo</code> structure <span class="normative">must</span> be set to
    0.0 unless the <code class="code">VK_DYNAMIC_STATE_DEPTH_BIAS</code> dynamic state is
    enabled, and the <em class="parameter"><code>depthBiasClamp</code></em> parameter to
    <span class="strong"><strong><code class="code">vkCmdSetDepthBias</code></strong></span> <span class="normative">must</span> be set to 0.0.
</li><li class="listitem">
<a id="features-features-fillModeNonSolid"></a> <em class="parameter"><code>fillModeNonSolid</code></em> indicates
    whether point and wireframe fill modes are supported.
    If this feature is not enabled, the <code class="code">VK_POLYGON_MODE_POINT</code> and
    <code class="code">VK_POLYGON_MODE_LINE</code> enum values <span class="normative">must</span> not be used.
</li><li class="listitem">
<a id="features-features-depthBounds"></a> <em class="parameter"><code>depthBounds</code></em> indicates whether
    depth bounds tests are supported.
    If this feature is not enabled, the <em class="parameter"><code>depthBoundsTestEnable</code></em> member
    of the <code class="code">VkPipelineDepthStencilStateCreateInfo</code> structure <span class="normative">must</span> be
    set to <code class="code">VK_FALSE</code>.
    When <em class="parameter"><code>depthBoundsTestEnable</code></em> is set to <code class="code">VK_FALSE</code>, the
    <em class="parameter"><code>minDepthBounds</code></em> and <em class="parameter"><code>maxDepthBounds</code></em> members of the
    <code class="code">VkPipelineDepthStencilStateCreateInfo</code> structure are ignored.
</li><li class="listitem">
<a id="features-features-wideLines"></a> <em class="parameter"><code>wideLines</code></em> indicates whether lines
    with width other than 1.0 are supported.
    If this feature is not enabled, the <em class="parameter"><code>lineWidth</code></em> member of the
    <code class="code">VkPipelineRasterizationStateCreateInfo</code> structure <span class="normative">must</span> be set to
    1.0 unless the <code class="code">VK_DYNAMIC_STATE_LINE_WIDTH</code> dynamic state is
    enabled, and the <em class="parameter"><code>lineWidth</code></em> parameter to <span class="strong"><strong><code class="code">vkCmdSetLineWidth</code></strong></span>
    <span class="normative">must</span> be set to 1.0.
    When this feature is supported, the range and granularity of supported
    line widths are indicated by the <em class="parameter"><code>lineWidthRange</code></em> and
    <em class="parameter"><code>lineWidthGranularity</code></em> members of the <code class="code">VkPhysicalDeviceLimits</code>
    structure, respectively.
</li><li class="listitem">
<a id="features-features-largePoints"></a> <em class="parameter"><code>largePoints</code></em> indicates whether
    points with size greater than 1.0 are supported.
    If this feature is not enabled, only a point size of 1.0 written by a
    shader is supported.
    The range and granularity of supported point sizes are indicated by the
    <em class="parameter"><code>pointSizeRange</code></em> and <em class="parameter"><code>pointSizeGranularity</code></em> members of the
    <code class="code">VkPhysicalDeviceLimits</code> structure, respectively.
</li><li class="listitem">
<a id="features-features-alphaToOne"></a> <em class="parameter"><code>alphaToOne</code></em> indicates whether the
    implementation is able to replace the alpha value of the color fragment
    output from the fragment shader with the maximum representable alpha
    value for fixed-point colors or 1.0 for floating-point colors.
    If this feature is not enabled, then the <em class="parameter"><code>alphaToOneEnable</code></em> member
    of the <code class="code">VkPipelineMultisampleStateCreateInfo</code> structure <span class="normative">must</span> be set
    to <code class="code">VK_FALSE</code>.
    Otherwise setting <em class="parameter"><code>alphaToOneEnable</code></em> to <code class="code">VK_TRUE</code> will enable
    alpha-to-one behavior.
</li><li class="listitem">
<a id="features-features-multiViewport"></a> <em class="parameter"><code>multiViewport</code></em> indicates
    whether more than one viewport is supported.
    If this feature is not enabled, the <em class="parameter"><code>viewportCount</code></em> and
    <em class="parameter"><code>scissorCount</code></em> members of the
    <code class="code">VkPipelineViewportStateCreateInfo</code> structure <span class="normative">must</span> be set to 1.
    Similarly, the <em class="parameter"><code>viewportCount</code></em> parameter to the
    <span class="strong"><strong><code class="code">vkCmdSetViewport</code></strong></span> command and the <em class="parameter"><code>scissorCount</code></em> parameter to
    the <span class="strong"><strong><code class="code">vkCmdSetScissor</code></strong></span> command <span class="normative">must</span> be 1, and the
    <em class="parameter"><code>firstViewport</code></em> parameter to the <span class="strong"><strong><code class="code">vkCmdSetViewport</code></strong></span> command and
    the <em class="parameter"><code>firstScissor</code></em> parameter to the <span class="strong"><strong><code class="code">vkCmdSetScissor</code></strong></span> command
    <span class="normative">must</span> be 0.
</li><li class="listitem">
<a id="features-features-samplerAnisotropy"></a> <em class="parameter"><code>samplerAnisotropy</code></em>
    indicates whether anisotropic filtering is supported.
    If this feature is not enabled, the <em class="parameter"><code>maxAnisotropy</code></em> member of the
    <code class="code">VkSamplerCreateInfo</code> structure <span class="normative">must</span> be 1.0.
</li><li class="listitem"><p class="simpara">
<a id="features-features-textureCompressionETC2"></a>
    <em class="parameter"><code>textureCompressionETC2</code></em> indicates whether the ETC2 and EAC
    compressed texture formats are supported.
    If this feature is not enabled, the following formats <span class="normative">must</span> not be used
    to create images:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_EAC_R11_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_EAC_R11_SNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code>
</li></ul></div><p class="simpara"><code class="code"><a class="link" href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code> is used to check for the supported
properties of individual formats.</p></li><li class="listitem"><p class="simpara">
<a id="features-features-textureCompressionASTC_LDR"></a>
    <em class="parameter"><code>textureCompressionASTC_LDR</code></em> indicates whether the ASTC LDR
    compressed texture formats are supported.
    If this feature is not enabled, the following formats <span class="normative">must</span> not be used
    to create images:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code>
</li></ul></div><p class="simpara"><code class="code"><a class="link" href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code> is used to check for the supported
properties of individual formats.</p></li><li class="listitem"><p class="simpara">
<a id="features-features-textureCompressionBC"></a> <em class="parameter"><code>textureCompressionBC</code></em>
    indicates whether the BC compressed texture formats are supported.
    If this feature is not enabled, the following formats <span class="normative">must</span> not be used
    to create images:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_FORMAT_BC1_RGB_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC1_RGB_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC2_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC2_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC3_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC3_SRGB_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC4_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC4_SNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC5_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC5_SNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC6H_UFLOAT_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC6H_SFLOAT_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC7_UNORM_BLOCK</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_BC7_SRGB_BLOCK</code>
</li></ul></div><p class="simpara"><code class="code"><a class="link" href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code> is used to check for the supported
properties of individual formats.</p></li><li class="listitem">
<a id="features-features-occlusionQueryPrecise"></a> <em class="parameter"><code>occlusionQueryPrecise</code></em>
    indicates whether occlusion queries returning actual sample counts are
    supported.
    Occlusion queries are created in a <code class="code">VkQueryPool</code> by specifying the
    <em class="parameter"><code>queryType</code></em> of <code class="code">VK_QUERY_TYPE_OCCLUSION</code> in the
    <code class="code">VkQueryPoolCreateInfo</code> structure which is passed to
    <span class="strong"><strong><code class="code">vkCreateQueryPool</code></strong></span>.
    If this feature is enabled, queries of this type <span class="normative">can</span> enable
    <code class="code">VK_QUERY_CONTROL_PRECISE_BIT</code> in the <em class="parameter"><code>flags</code></em> parameter to
    <span class="strong"><strong><code class="code">vkCmdBeginQuery</code></strong></span>.
    If this feature is not supported, the implementation supports only
    boolean occlusion queries.
    When any samples are passed, boolean queries will return a non-zero
    result value, otherwise a result value of zero is returned.
    When this feature is enabled and <code class="code">VK_QUERY_CONTROL_PRECISE_BIT</code> is
    set, occlusion queries will report the actual number of samples passed.
</li><li class="listitem">
<a id="features-features-pipelineStatisticsQuery"></a>
    <em class="parameter"><code>pipelineStatisticsQuery</code></em> indicates whether the pipeline statistics
    queries are supported.
    If this feature is not enabled, queries of type
    <code class="code">VK_QUERY_TYPE_PIPELINE_STATISTICS</code> <span class="normative">cannot</span> be created, and none of
    the <code class="code"><a class="link" href="#VkQueryPipelineStatisticFlagBits">VkQueryPipelineStatisticFlagBits</a></code> bits <span class="normative">can</span> be set in the
    <em class="parameter"><code>pipelineStatistics</code></em> member of the <code class="code">VkQueryPoolCreateInfo</code>
    structure.
</li><li class="listitem">
<a id="features-features-vertexPipelineStoresAndAtomics"></a>
    <em class="parameter"><code>vertexPipelineStoresAndAtomics</code></em> indicates whether storage buffers
    and images support stores and atomic operations in the vertex,
    tessellation, and geometry shader stages.
    If this feature is not enabled, all storage image, storage texel
    buffers, and storage buffer variables used by these stages in shader
    modules <span class="normative">must</span> be decorated with the <span class="strong"><strong><code class="code">NonWriteable</code></strong></span> decoration (or the
    <span class="strong"><strong><code class="code">readonly</code></strong></span> memory qualifier in GLSL).
</li><li class="listitem">
<a id="features-features-fragmentStoresAndAtomics"></a>
    <em class="parameter"><code>fragmentStoresAndAtomics</code></em> indicates whether storage buffers and
    images support stores and atomic operations in the fragment shader
    stage.
    If this feature is not enabled, all storage image, storage texel
    buffers, and storage buffer variables used by the fragment stage in
    shader modules <span class="normative">must</span> be decorated with the <span class="strong"><strong><code class="code">NonWriteable</code></strong></span> decoration
    (or the <span class="strong"><strong><code class="code">readonly</code></strong></span> memory qualifier in GLSL).
</li><li class="listitem">
<a id="features-features-shaderTessellationAndGeometryPointSize"></a>
    <em class="parameter"><code>shaderTessellationAndGeometryPointSize</code></em> indicates whether the
    <span class="strong"><strong><code class="code">PointSize</code></strong></span> built-in decoration is available in the tessellation
    control, tessellation evaluation, and geometry shader stages.
    If this feature is not enabled, members decorated with the
    <span class="strong"><strong><code class="code">PointSize</code></strong></span> built-in decoration <span class="normative">must</span> not be read from or written to
    and all points written from a tessellation or geometry shader will have
    a size of 1.0.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">TessellationPointSize</code></strong></span> capability for tessellation control and
    evaluation shaders, or if the shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">GeometryPointSize</code></strong></span> capability for geometry shaders.
    An implementation supporting this feature <span class="normative">must</span> also support one or both
    of the <a class="link" href="#features-features-tessellationShader"><em class="parameter"><code>tessellationShader</code></em></a>
    or <a class="link" href="#features-features-geometryShader"><em class="parameter"><code>geometryShader</code></em></a> features.
</li><li class="listitem">
<a id="features-features-shaderImageGatherExtended"></a>
    <em class="parameter"><code>shaderImageGatherExtended</code></em> indicates whether the extended set of
    image gather instructions are available in shader code.
    If this feature is not enabled, the <span class="strong"><strong><code class="code">OpImage</code></strong></span>*<span class="strong"><strong><code class="code">Gather</code></strong></span>
    instructions do not support the <span class="strong"><strong><code class="code">Offset</code></strong></span> and <span class="strong"><strong><code class="code">ConstOffsets</code></strong></span>
    operands.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">ImageGatherExtended</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-shaderStorageImageExtendedFormats"></a>
    <em class="parameter"><code>shaderStorageImageExtendedFormats</code></em> indicates whether the extended
    storage image formats are available in shader code.
    If this feature is not enabled, the formats requiring the
    <span class="strong"><strong><code class="code">StorageImageExtendedFormats</code></strong></span> capability are not supported for
    storage images.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">StorageImageExtendedFormats</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-shaderStorageImageMultisample"></a>
    <em class="parameter"><code>shaderStorageImageMultisample</code></em> indicates whether multisampled
    storage images are supported.
    If this feature is not enabled, images that are created with a
    <em class="parameter"><code>usage</code></em> that includes <code class="code">VK_IMAGE_USAGE_STORAGE_BIT</code> <span class="normative">must</span> be
    created with <em class="parameter"><code>samples</code></em> equal to <code class="code">VK_SAMPLE_COUNT_1_BIT</code>.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">StorageImageMultisample</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-shaderStorageImageReadWithoutFormat"></a>
    <em class="parameter"><code>shaderStorageImageReadWithoutFormat</code></em> indicates whether storage
    images require a format qualifier to be specified when reading from
    storage images.
    If this feature is not enabled, the <span class="strong"><strong><code class="code">OpImageRead</code></strong></span> instruction <span class="normative">must</span>
    not have an <span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> of <span class="strong"><strong><code class="code">Unknown</code></strong></span>.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">StorageImageReadWithoutFormat</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-shaderStorageImageWriteWithoutFormat"></a>
    <em class="parameter"><code>shaderStorageImageWriteWithoutFormat</code></em> indicates whether storage
    images require a format qualifier to be specified when writing to
    storage images.
    If this feature is not enabled, the <span class="strong"><strong><code class="code">OpImageWrite</code></strong></span> instruction <span class="normative">must</span>
    not have an <span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> of <span class="strong"><strong><code class="code">Unknown</code></strong></span>.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">StorageImageWriteWithoutFormat</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-shaderUniformBufferArrayDynamicIndexing"></a>
    <em class="parameter"><code>shaderUniformBufferArrayDynamicIndexing</code></em> indicates whether arrays
    of uniform buffers <span class="normative">can</span> be indexed by dynamically uniform integer
    expressions in shader code.
    If this feature is not enabled, resources with a descriptor type of
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> <span class="normative">must</span> be indexed only by
    constant integral expressions when aggregated into arrays in shader
    code.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">UniformBufferArrayDynamicIndexing</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-shaderSampledImageArrayDynamicIndexing"></a>
    <em class="parameter"><code>shaderSampledImageArrayDynamicIndexing</code></em> indicates whether arrays of
    samplers or sampled images <span class="normative">can</span> be indexed by dynamically uniform
    integer expressions in shader code.
    If this feature is not enabled, resources with a descriptor type of
    <code class="code">VK_DESCRIPTOR_TYPE_SAMPLER</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, or
    <code class="code">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> <span class="normative">must</span> be indexed only by constant
    integral expressions when aggregated into arrays in shader code.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">SampledImageArrayDynamicIndexing</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-shaderStorageBufferArrayDynamicIndexing"></a>
    <em class="parameter"><code>shaderStorageBufferArrayDynamicIndexing</code></em> indicates whether arrays
    of storage buffers <span class="normative">can</span> be indexed by dynamically uniform integer
    expressions in shader code.
    If this feature is not enabled, resources with a descriptor type of
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> <span class="normative">must</span> be indexed only by
    constant integral expressions when aggregated into arrays in shader
    code.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">StorageBufferArrayDynamicIndexing</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-shaderStorageImageArrayDynamicIndexing"></a>
    <em class="parameter"><code>shaderStorageImageArrayDynamicIndexing</code></em> indicates whether arrays of
    storage images <span class="normative">can</span> be indexed by dynamically uniform integer
    expressions in shader code.
    If this feature is not enabled, resources with a descriptor type of
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> <span class="normative">must</span> be indexed only by constant
    integral expressions when aggregated into arrays in shader code.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">StorageImageArrayDynamicIndexing</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-shaderClipDistance"></a> <em class="parameter"><code>shaderClipDistance</code></em>
    indicates whether clip distances are supported in shader code.
    If this feature is not enabled, any members decorated with the
    <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> built-in decoration <span class="normative">must</span> not be read from or written
    to in shader modules.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-shaderCullDistance"></a> <em class="parameter"><code>shaderCullDistance</code></em>
    indicates whether cull distances are supported in shader code.
    If this feature is not enabled, any members decorated with the
    <span class="strong"><strong><code class="code">CullDistance</code></strong></span> built-in decoration <span class="normative">must</span> not be read from or written
    to in shader modules.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">CullDistance</code></strong></span> capability.
</li><li class="listitem">
<a id="features-features-shaderFloat64"></a> <em class="parameter"><code>shaderFloat64</code></em> indicates
    whether 64-bit floats (doubles) are supported in shader code.
    If this feature is not enabled, 64-bit floating-point types <span class="normative">must</span> not be
    used in shader code.
    This also indicates whether shader modules <span class="normative">can</span> declare the <span class="strong"><strong><code class="code">Float64</code></strong></span>
    capability.
</li><li class="listitem">
<a id="features-features-shaderInt64"></a> <em class="parameter"><code>shaderInt64</code></em> indicates whether
    64-bit integers (signed and unsigned) are supported in shader code.
    If this feature is not enabled, 64-bit integer types <span class="normative">must</span> not be used
    in shader code.
    This also indicates whether shader modules <span class="normative">can</span> declare the <span class="strong"><strong><code class="code">Int64</code></strong></span>
    capability.
</li><li class="listitem">
<a id="features-features-shaderInt16"></a> <em class="parameter"><code>shaderInt16</code></em> indicates whether
    16-bit integers (signed and unsigned) are supported in shader code.
    If this feature is not enabled, 16-bit integer types <span class="normative">must</span> not be used
    in shader code.
    This also indicates whether shader modules <span class="normative">can</span> declare the <span class="strong"><strong><code class="code">Int16</code></strong></span>
    capability.
</li><li class="listitem">
<a id="features-features-shaderResourceResidency"></a>
    <em class="parameter"><code>shaderResourceResidency</code></em> indicates whether image operations that
    return resource residency information are supported in shader code.
    If this feature is not enabled, the <span class="strong"><strong><code class="code">OpImageSparse</code></strong></span>* instructions
    <span class="normative">must</span> not be used in shader code.
    This also indicates whether shader modules <span class="normative">can</span> declare the
    <span class="strong"><strong><code class="code">SparseResidency</code></strong></span> capability.
    The feature requires at least one of the <em class="parameter"><code>sparseResidency*</code></em> features
    to be supported.
</li><li class="listitem">
<a id="features-features-shaderResourceMinLod"></a> <em class="parameter"><code>shaderResourceMinLod</code></em>
    indicates whether image operations that specify the minimum resource
    level-of-detail (LOD) are supported in shader code.
    If this feature is not enabled, the <span class="strong"><strong><code class="code">MinLod</code></strong></span> image operand <span class="normative">must</span> not
    be used in shader code.
    This also indicates whether shader modules <span class="normative">can</span> declare the <span class="strong"><strong><code class="code">MinLod</code></strong></span>
    capability.
</li><li class="listitem">
<a id="features-features-sparseBinding"></a> <em class="parameter"><code>sparseBinding</code></em> indicates
    whether resource memory <span class="normative">can</span> be managed at opaque sparse block level
    instead of at the object level.
    If this feature is not enabled, resource memory <span class="normative">must</span> be bound only on a
    per-object basis using the <span class="strong"><strong><code class="code">vkBindBufferMemory</code></strong></span> and
    <span class="strong"><strong><code class="code">vkBindImageMemory</code></strong></span> commands.
    In this case, buffers and images <span class="normative">must</span> not be created with
    <code class="code">VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> and
    <code class="code">VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> set in the <em class="parameter"><code>flags</code></em> member
    of the <code class="code">VkBufferCreateInfo</code> and <code class="code">VkImageCreateInfo</code> structures,
    respectively.
    Otherwise resource memory <span class="normative">can</span> be managed as described in
    <a class="link" href="#sparsememory-sparseresourcefeatures" title="28.1. Sparse Resource Features">Sparse Resource Features</a>.
</li><li class="listitem">
<a id="features-features-sparseResidencyBuffer"></a> <em class="parameter"><code>sparseResidencyBuffer</code></em>
    indicates whether the device <span class="normative">can</span> access partially resident buffers.
    If this feature is not enabled, buffers <span class="normative">must</span> not be created with
    <code class="code">VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <em class="parameter"><code>flags</code></em>
    member of the <code class="code">VkBufferCreateInfo</code> structure.
</li><li class="listitem">
<a id="features-features-sparseResidencyImage2D"></a>
    <em class="parameter"><code>sparseResidencyImage2D</code></em> indicates whether the device <span class="normative">can</span> access
    partially resident 2D images with 1 sample per pixel.
    If this feature is not enabled, images with an <em class="parameter"><code>imageType</code></em> of
    <code class="code">VK_IMAGE_TYPE_2D</code> and <em class="parameter"><code>samples</code></em> set to
    <code class="code">VK_SAMPLE_COUNT_1_BIT</code> <span class="normative">must</span> not be created with
    <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <em class="parameter"><code>flags</code></em> member
    of the <code class="code">VkImageCreateInfo</code> structure.
</li><li class="listitem">
<a id="features-features-sparseResidencyImage3D"></a>
    <em class="parameter"><code>sparseResidencyImage3D</code></em> indicates whether the device <span class="normative">can</span> access
    partially resident 3D images.
    If this feature is not enabled, images with an <em class="parameter"><code>imageType</code></em> of
    <code class="code">VK_IMAGE_TYPE_3D</code> <span class="normative">must</span> not be created with
    <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <em class="parameter"><code>flags</code></em> member
    of the <code class="code">VkImageCreateInfo</code> structure.
</li><li class="listitem">
<a id="features-features-sparseResidency2Samples"></a>
    <em class="parameter"><code>sparseResidency2Samples</code></em> indicates whether the physical device <span class="normative">can</span>
    access partially resident 2D images with 2 samples per pixel.
    If this feature is not enabled, images with an <em class="parameter"><code>imageType</code></em> of
    <code class="code">VK_IMAGE_TYPE_2D</code> and <em class="parameter"><code>samples</code></em> set to
    <code class="code">VK_SAMPLE_COUNT_2_BIT</code> <span class="normative">must</span> not be created with
    <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <em class="parameter"><code>flags</code></em> member
    of the <code class="code">VkImageCreateInfo</code> structure.
</li><li class="listitem">
<a id="features-features-sparseResidency4Samples"></a>
    <em class="parameter"><code>sparseResidency4Samples</code></em> indicates whether the physical device <span class="normative">can</span>
    access partially resident 2D images with 4 samples per pixel.
    If this feature is not enabled, images with an <em class="parameter"><code>imageType</code></em> of
    <code class="code">VK_IMAGE_TYPE_2D</code> and <em class="parameter"><code>samples</code></em> set to
    <code class="code">VK_SAMPLE_COUNT_4_BIT</code> <span class="normative">must</span> not be created with
    <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <em class="parameter"><code>flags</code></em> member
    of the <code class="code">VkImageCreateInfo</code> structure.
</li><li class="listitem">
<a id="features-features-sparseResidency8Samples"></a>
    <em class="parameter"><code>sparseResidency8Samples</code></em> indicates whether the physical device <span class="normative">can</span>
    access partially resident 2D images with 8 samples per pixel.
    If this feature is not enabled, images with an <em class="parameter"><code>imageType</code></em> of
    <code class="code">VK_IMAGE_TYPE_2D</code> and <em class="parameter"><code>samples</code></em> set to
    <code class="code">VK_SAMPLE_COUNT_8_BIT</code> <span class="normative">must</span> not be created with
    <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <em class="parameter"><code>flags</code></em> member
    of the <code class="code">VkImageCreateInfo</code> structure.
</li><li class="listitem">
<a id="features-features-sparseResidency16Samples"></a>
    <em class="parameter"><code>sparseResidency16Samples</code></em> indicates whether the physical device
    <span class="normative">can</span> access partially resident 2D images with 16 samples per pixel.
    If this feature is not enabled, images with an <em class="parameter"><code>imageType</code></em> of
    <code class="code">VK_IMAGE_TYPE_2D</code> and <em class="parameter"><code>samples</code></em> set to
    <code class="code">VK_SAMPLE_COUNT_16_BIT</code> <span class="normative">must</span> not be created with
    <code class="code">VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <em class="parameter"><code>flags</code></em> member
    of the <code class="code">VkImageCreateInfo</code> structure.
</li><li class="listitem">
<a id="features-features-sparseResidencyAliased"></a>
    <em class="parameter"><code>sparseResidencyAliased</code></em> indicates whether the physical device <span class="normative">can</span>
    correctly access data aliased into multiple locations.
    If this feature is not enabled, the
    <code class="code">VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code> and
    <code class="code">VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> enum values <span class="normative">must</span> not be used
    in <em class="parameter"><code>flags</code></em> members of the <code class="code">VkBufferCreateInfo</code> and
    <code class="code">VkImageCreateInfo</code> structures, respectively.
</li><li class="listitem">
<a id="features-features-variableMultisampleRate"></a>
    <em class="parameter"><code>variableMultisampleRate</code></em> indicates whether all pipelines that will
    be bound to a command buffer during a subpass with no attachments <span class="normative">must</span>
    have the same value for
    <code class="code">VkPipelineMultisampleStateCreateInfo</code>::<em class="parameter"><code>rasterizationSamples</code></em>.
    If set to <code class="code">VK_TRUE</code>, the implementation supports variable
    multisample rates in a subpass with no attachments.
    If set to <code class="code">VK_FALSE</code>, then all pipelines bound in such a subpass
    <span class="normative">must</span> have the same multisample rate.
    This has no effect in situations where a subpass uses any attachments.
</li><li class="listitem">
<a id="features-features-inheritedQueries"></a> <em class="parameter"><code>inheritedQueries</code></em> indicates
    whether a secondary command buffer <span class="normative">may</span> be executed while a query is
    active.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If any member of this structure is <code class="code">VK_FALSE</code>, as returned by <code class="code"><a class="link" href="#vkGetPhysicalDeviceFeatures">vkGetPhysicalDeviceFeatures</a></code>, then it <span class="normative">must</span> be <code class="code">VK_FALSE</code> when passed as part of the <code class="code">VkDeviceCreateInfo</code> struct when creating a device
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="features-features-requirements"></a>31.1.1. Feature Requirements</h3></div></div></div><p>All Vulkan graphics implementations <span class="normative">must</span> support the following features:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>robustBufferAccess</code></em>.
</li></ul></div><p>All other features are not <span class="normative">required</span> by the Specification.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="features-limits"></a>31.2. Limits</h2></div></div></div><p>There are a variety of implementation-dependent limits.</p><p>The <code class="code">VkPhysicalDeviceLimits</code> are properties of the physical device.
These are available in the <em class="parameter"><code>limits</code></em> member of the
<code class="code"><a class="link" href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a></code> structure which is returned from
<code class="code"><a class="link" href="#vkGetPhysicalDeviceProperties">vkGetPhysicalDeviceProperties</a></code>.</p><p>The <code class="code">VkPhysicalDeviceLimits</code> structure is defined as:</p><p><a id="VkPhysicalDeviceLimits"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkPhysicalDeviceLimits {
    uint32_t              maxImageDimension1D;
    uint32_t              maxImageDimension2D;
    uint32_t              maxImageDimension3D;
    uint32_t              maxImageDimensionCube;
    uint32_t              maxImageArrayLayers;
    uint32_t              maxTexelBufferElements;
    uint32_t              maxUniformBufferRange;
    uint32_t              maxStorageBufferRange;
    uint32_t              maxPushConstantsSize;
    uint32_t              maxMemoryAllocationCount;
    uint32_t              maxSamplerAllocationCount;
    VkDeviceSize          bufferImageGranularity;
    VkDeviceSize          sparseAddressSpaceSize;
    uint32_t              maxBoundDescriptorSets;
    uint32_t              maxPerStageDescriptorSamplers;
    uint32_t              maxPerStageDescriptorUniformBuffers;
    uint32_t              maxPerStageDescriptorStorageBuffers;
    uint32_t              maxPerStageDescriptorSampledImages;
    uint32_t              maxPerStageDescriptorStorageImages;
    uint32_t              maxPerStageDescriptorInputAttachments;
    uint32_t              maxPerStageResources;
    uint32_t              maxDescriptorSetSamplers;
    uint32_t              maxDescriptorSetUniformBuffers;
    uint32_t              maxDescriptorSetUniformBuffersDynamic;
    uint32_t              maxDescriptorSetStorageBuffers;
    uint32_t              maxDescriptorSetStorageBuffersDynamic;
    uint32_t              maxDescriptorSetSampledImages;
    uint32_t              maxDescriptorSetStorageImages;
    uint32_t              maxDescriptorSetInputAttachments;
    uint32_t              maxVertexInputAttributes;
    uint32_t              maxVertexInputBindings;
    uint32_t              maxVertexInputAttributeOffset;
    uint32_t              maxVertexInputBindingStride;
    uint32_t              maxVertexOutputComponents;
    uint32_t              maxTessellationGenerationLevel;
    uint32_t              maxTessellationPatchSize;
    uint32_t              maxTessellationControlPerVertexInputComponents;
    uint32_t              maxTessellationControlPerVertexOutputComponents;
    uint32_t              maxTessellationControlPerPatchOutputComponents;
    uint32_t              maxTessellationControlTotalOutputComponents;
    uint32_t              maxTessellationEvaluationInputComponents;
    uint32_t              maxTessellationEvaluationOutputComponents;
    uint32_t              maxGeometryShaderInvocations;
    uint32_t              maxGeometryInputComponents;
    uint32_t              maxGeometryOutputComponents;
    uint32_t              maxGeometryOutputVertices;
    uint32_t              maxGeometryTotalOutputComponents;
    uint32_t              maxFragmentInputComponents;
    uint32_t              maxFragmentOutputAttachments;
    uint32_t              maxFragmentDualSrcAttachments;
    uint32_t              maxFragmentCombinedOutputResources;
    uint32_t              maxComputeSharedMemorySize;
    uint32_t              maxComputeWorkGroupCount[3];
    uint32_t              maxComputeWorkGroupInvocations;
    uint32_t              maxComputeWorkGroupSize[3];
    uint32_t              subPixelPrecisionBits;
    uint32_t              subTexelPrecisionBits;
    uint32_t              mipmapPrecisionBits;
    uint32_t              maxDrawIndexedIndexValue;
    uint32_t              maxDrawIndirectCount;
    float                 maxSamplerLodBias;
    float                 maxSamplerAnisotropy;
    uint32_t              maxViewports;
    uint32_t              maxViewportDimensions[2];
    float                 viewportBoundsRange[2];
    uint32_t              viewportSubPixelBits;
    size_t                minMemoryMapAlignment;
    VkDeviceSize          minTexelBufferOffsetAlignment;
    VkDeviceSize          minUniformBufferOffsetAlignment;
    VkDeviceSize          minStorageBufferOffsetAlignment;
    int32_t               minTexelOffset;
    uint32_t              maxTexelOffset;
    int32_t               minTexelGatherOffset;
    uint32_t              maxTexelGatherOffset;
    float                 minInterpolationOffset;
    float                 maxInterpolationOffset;
    uint32_t              subPixelInterpolationOffsetBits;
    uint32_t              maxFramebufferWidth;
    uint32_t              maxFramebufferHeight;
    uint32_t              maxFramebufferLayers;
    VkSampleCountFlags    framebufferColorSampleCounts;
    VkSampleCountFlags    framebufferDepthSampleCounts;
    VkSampleCountFlags    framebufferStencilSampleCounts;
    VkSampleCountFlags    framebufferNoAttachmentsSampleCounts;
    uint32_t              maxColorAttachments;
    VkSampleCountFlags    sampledImageColorSampleCounts;
    VkSampleCountFlags    sampledImageIntegerSampleCounts;
    VkSampleCountFlags    sampledImageDepthSampleCounts;
    VkSampleCountFlags    sampledImageStencilSampleCounts;
    VkSampleCountFlags    storageImageSampleCounts;
    uint32_t              maxSampleMaskWords;
    VkBool32              timestampComputeAndGraphics;
    float                 timestampPeriod;
    uint32_t              maxClipDistances;
    uint32_t              maxCullDistances;
    uint32_t              maxCombinedClipAndCullDistances;
    uint32_t              discreteQueuePriorities;
    float                 pointSizeRange[2];
    float                 lineWidthRange[2];
    float                 pointSizeGranularity;
    float                 lineWidthGranularity;
    VkBool32              strictLines;
    VkBool32              standardSampleLocations;
    VkDeviceSize          optimalBufferCopyOffsetAlignment;
    VkDeviceSize          optimalBufferCopyRowPitchAlignment;
    VkDeviceSize          nonCoherentAtomSize;
} VkPhysicalDeviceLimits;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<a id="features-limits-maxImageDimension1D"></a> <em class="parameter"><code>maxImageDimension1D</code></em> is the
    maximum dimension (<em class="parameter"><code>width</code></em>) of an image created with an
    <em class="parameter"><code>imageType</code></em> of <code class="code">VK_IMAGE_TYPE_1D</code>.
</li><li class="listitem">
<a id="features-limits-maxImageDimension2D"></a> <em class="parameter"><code>maxImageDimension2D</code></em> is the
    maximum dimension (<em class="parameter"><code>width</code></em> or <em class="parameter"><code>height</code></em>) of an image created with
    an <em class="parameter"><code>imageType</code></em> of <code class="code">VK_IMAGE_TYPE_2D</code> and without
    <code class="code">VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> set in <em class="parameter"><code>flags</code></em>.
</li><li class="listitem">
<a id="features-limits-maxImageDimension3D"></a> <em class="parameter"><code>maxImageDimension3D</code></em> is the
    maximum dimension (<em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em>, or <em class="parameter"><code>depth</code></em>) of an
    image created with an <em class="parameter"><code>imageType</code></em> of <code class="code">VK_IMAGE_TYPE_3D</code>.
</li><li class="listitem">
<a id="features-limits-maxImageDimensionCube"></a> <em class="parameter"><code>maxImageDimensionCube</code></em> is
    the maximum dimension (<em class="parameter"><code>width</code></em> or <em class="parameter"><code>height</code></em>) of an image created
    with an <em class="parameter"><code>imageType</code></em> of <code class="code">VK_IMAGE_TYPE_2D</code> and with
    <code class="code">VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> set in <em class="parameter"><code>flags</code></em>.
</li><li class="listitem">
<a id="features-limits-maxImageArrayLayers"></a> <em class="parameter"><code>maxImageArrayLayers</code></em> is the
    maximum number of layers (<em class="parameter"><code>arrayLayers</code></em>) for an image.
</li><li class="listitem">
<a id="features-limits-maxTexelBufferElements"></a> <em class="parameter"><code>maxTexelBufferElements</code></em>
    is the maximum number of addressable texels for a buffer view created on
    a buffer which was created with the
    <code class="code">VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> or
    <code class="code">VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code> set in the <em class="parameter"><code>usage</code></em>
    member of the <code class="code">VkBufferCreateInfo</code> structure.
</li><li class="listitem">
<a id="features-limits-maxUniformBufferRange"></a> <em class="parameter"><code>maxUniformBufferRange</code></em> is
    the maximum value that <span class="normative">can</span> be specified in the <em class="parameter"><code>range</code></em> member of
    any <code class="code"><a class="link" href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a></code> structures passed to a call to
    <code class="code"><a class="link" href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a></code> for descriptors of type
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>.
</li><li class="listitem">
<a id="features-limits-maxStorageBufferRange"></a> <em class="parameter"><code>maxStorageBufferRange</code></em> is
    the maximum value that <span class="normative">can</span> be specified in the <em class="parameter"><code>range</code></em> member of
    any <code class="code"><a class="link" href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a></code> structures passed to a call to
    <code class="code"><a class="link" href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a></code> for descriptors of type
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>.
</li><li class="listitem">
<a id="features-limits-maxPushConstantsSize"></a> <em class="parameter"><code>maxPushConstantsSize</code></em> is
    the maximum size, in bytes, of the pool of push constant memory.
    For each of the push constant ranges indicated by the
    <em class="parameter"><code>pPushConstantRanges</code></em> member of the <code class="code">VkPipelineLayoutCreateInfo</code>
    structure, <em class="parameter"><code>offset</code></em> + <em class="parameter"><code>size</code></em> <span class="normative">must</span> be less than or equal to this
    limit.
</li><li class="listitem">
<a id="features-limits-maxMemoryAllocationCount"></a>
    <em class="parameter"><code>maxMemoryAllocationCount</code></em> is the maximum number of device memory
    allocations, as created by <code class="code"><a class="link" href="#vkAllocateMemory">vkAllocateMemory</a></code>, which <span class="normative">can</span>
    simultaneously exist.
</li><li class="listitem">
<a id="features-limits-maxSamplerAllocationCount"></a>
    <em class="parameter"><code>maxSamplerAllocationCount</code></em> is the maximum number of sampler
    objects, as created by <code class="code"><a class="link" href="#vkCreateSampler">vkCreateSampler</a></code>, which <span class="normative">can</span> simultaneously
    exist on a device.
</li><li class="listitem">
<a id="features-limits-bufferImageGranularity"></a> <em class="parameter"><code>bufferImageGranularity</code></em>
    is the granularity, in bytes, at which buffer or linear image resources,
    and optimal image resources <span class="normative">can</span> be bound to adjacent offsets in the
    same <code class="code">VkDeviceMemory</code> object without aliasing.
    See <a class="link" href="#resources-bufferimagegranularity" title="Buffer-Image Granularity">Buffer-Image Granularity</a> for
    more details.
</li><li class="listitem">
<a id="features-limits-sparseAddressSpaceSize"></a> <em class="parameter"><code>sparseAddressSpaceSize</code></em>
    is the total amount of address space available, in bytes, for sparse
    memory resources.
    This is an upper bound on the sum of the size of all sparse resources,
    regardless of whether any memory is bound to them.
</li><li class="listitem">
<a id="features-limits-maxBoundDescriptorSets"></a> <em class="parameter"><code>maxBoundDescriptorSets</code></em>
    is the maximum number of descriptor sets that <span class="normative">can</span> be simultaneously
    used by a pipeline.
    All <span class="strong"><strong><code class="code">DescriptorSet</code></strong></span> decorations in shader modules <span class="normative">must</span> have a value
    less than <em class="parameter"><code>maxBoundDescriptorSets</code></em>.
    See <a class="xref" href="#descriptorsets-sets" title="13.2. Descriptor Sets">Section 13.2, “Descriptor Sets”</a>.
</li><li class="listitem">
<a id="features-limits-maxPerStageDescriptorSamplers"></a>
    <em class="parameter"><code>maxPerStageDescriptorSamplers</code></em> is the maximum number of samplers
    that <span class="normative">can</span> be accessible to a single shader stage in a pipeline layout.
    Descriptors with a type of <code class="code">VK_DESCRIPTOR_TYPE_SAMPLER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> count against this
    limit.
    A descriptor is accessible to a shader stage when the <em class="parameter"><code>stageFlags</code></em>
    member of the <code class="code">VkDescriptorSetLayoutBinding</code> structure has the bit
    for that shader stage set.
    See <a class="xref" href="#descriptorsets-sampler" title="13.1.2. Sampler">Section 13.1.2, “Sampler”</a> and
    <a class="xref" href="#descriptorsets-combinedimagesampler" title="13.1.4. Combined Image Sampler">Section 13.1.4, “Combined Image Sampler”</a>.
</li><li class="listitem">
<a id="features-limits-maxPerStageDescriptorUniformBuffers"></a>
    <em class="parameter"><code>maxPerStageDescriptorUniformBuffers</code></em> is the maximum number of
    uniform buffers that <span class="normative">can</span> be accessible to a single shader stage in a
    pipeline layout.
    Descriptors with a type of <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> count against this
    limit.
    A descriptor is accessible to a shader stage when the <em class="parameter"><code>stageFlags</code></em>
    member of the <code class="code">VkDescriptorSetLayoutBinding</code> structure has the bit
    for that shader stage set.
    See <a class="xref" href="#descriptorsets-uniformbuffer" title="13.1.7. Uniform Buffer">Section 13.1.7, “Uniform Buffer”</a> and
    <a class="xref" href="#descriptorsets-uniformbufferdynamic" title="13.1.9. Dynamic Uniform Buffer">Section 13.1.9, “Dynamic Uniform Buffer”</a>.
</li><li class="listitem">
<a id="features-limits-maxPerStageDescriptorStorageBuffers"></a>
    <em class="parameter"><code>maxPerStageDescriptorStorageBuffers</code></em> is the maximum number of
    storage buffers that <span class="normative">can</span> be accessible to a single shader stage in a
    pipeline layout.
    Descriptors with a type of <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> count against this
    limit.
    A descriptor is accessible to a pipeline shader stage when the
    <em class="parameter"><code>stageFlags</code></em> member of the <code class="code">VkDescriptorSetLayoutBinding</code>
    structure has the bit for that shader stage set.
    See <a class="xref" href="#descriptorsets-storagebuffer" title="13.1.8. Storage Buffer">Section 13.1.8, “Storage Buffer”</a> and
    <a class="xref" href="#descriptorsets-storagebufferdynamic" title="13.1.10. Dynamic Storage Buffer">Section 13.1.10, “Dynamic Storage Buffer”</a>.
</li><li class="listitem">
<a id="features-limits-maxPerStageDescriptorSampledImages"></a>
    <em class="parameter"><code>maxPerStageDescriptorSampledImages</code></em> is the maximum number of
    sampled images that <span class="normative">can</span> be accessible to a single shader stage in a
    pipeline layout.
    Descriptors with a type of
    <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, or
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> count against this limit.
    A descriptor is accessible to a pipeline shader stage when the
    <em class="parameter"><code>stageFlags</code></em> member of the <code class="code">VkDescriptorSetLayoutBinding</code>
    structure has the bit for that shader stage set.
    See <a class="xref" href="#descriptorsets-combinedimagesampler" title="13.1.4. Combined Image Sampler">Section 13.1.4, “Combined Image Sampler”</a>,
    <a class="xref" href="#descriptorsets-sampledimage" title="13.1.3. Sampled Image">Section 13.1.3, “Sampled Image”</a>, and
    <a class="xref" href="#descriptorsets-uniformtexelbuffer" title="13.1.5. Uniform Texel Buffer">Section 13.1.5, “Uniform Texel Buffer”</a>.
</li><li class="listitem">
<a id="features-limits-maxPerStageDescriptorStorageImages"></a>
    <em class="parameter"><code>maxPerStageDescriptorStorageImages</code></em> is the maximum number of
    storage images that <span class="normative">can</span> be accessible to a single shader stage in a
    pipeline layout.
    Descriptors with a type of <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> count against this limit.
    A descriptor is accessible to a pipeline shader stage when the
    <em class="parameter"><code>stageFlags</code></em> member of the <code class="code">VkDescriptorSetLayoutBinding</code>
    structure has the bit for that shader stage set.
    See <a class="xref" href="#descriptorsets-storageimage" title="13.1.1. Storage Image">Section 13.1.1, “Storage Image”</a>, and
    <a class="xref" href="#descriptorsets-storagetexelbuffer" title="13.1.6. Storage Texel Buffer">Section 13.1.6, “Storage Texel Buffer”</a>.
</li><li class="listitem">
<a id="features-limits-maxPerStageDescriptorInputAttachments"></a>
    <em class="parameter"><code>maxPerStageDescriptorInputAttachments</code></em> is the maximum number of
    input attachments that <span class="normative">can</span> be accessible to a single shader stage in a
    pipeline layout.
    Descriptors with a type of <code class="code">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>
    count against this limit.
    A descriptor is accessible to a pipeline shader stage when the
    <em class="parameter"><code>stageFlags</code></em> member of the <code class="code">VkDescriptorSetLayoutBinding</code>
    structure has the bit for that shader stage set.
    These are only supported for the fragment stage.
    See <a class="xref" href="#descriptorsets-inputattachment" title="13.1.11. Input Attachment">Section 13.1.11, “Input Attachment”</a>.
</li><li class="listitem">
<a id="features-limits-maxPerStageResources"></a> <em class="parameter"><code>maxPerStageResources</code></em> is
    the maximum number of resources that <span class="normative">can</span> be accessible to a single
    shader stage in a pipeline layout.
    Descriptors with a type of
    <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, or
    <code class="code">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> count against this limit.
    For the fragment shader stage the framebuffer color attachments also
    count against this limit.
</li><li class="listitem">
<a id="features-limits-maxDescriptorSetSamplers"></a>
    <em class="parameter"><code>maxDescriptorSetSamplers</code></em> is the maximum number of samplers that
    <span class="normative">can</span> be included in descriptor bindings in a pipeline layout across all
    pipeline shader stages and descriptor set numbers.
    Descriptors with a type of <code class="code">VK_DESCRIPTOR_TYPE_SAMPLER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> count against this
    limit.
    See <a class="xref" href="#descriptorsets-sampler" title="13.1.2. Sampler">Section 13.1.2, “Sampler”</a> and
    <a class="xref" href="#descriptorsets-combinedimagesampler" title="13.1.4. Combined Image Sampler">Section 13.1.4, “Combined Image Sampler”</a>.
</li><li class="listitem">
<a id="features-limits-maxDescriptorSetUniformBuffers"></a>
    <em class="parameter"><code>maxDescriptorSetUniformBuffers</code></em> is the maximum number of uniform
    buffers that <span class="normative">can</span> be included in descriptor bindings in a pipeline
    layout across all pipeline shader stages and descriptor set numbers.
    Descriptors with a type of <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> count against this
    limit.
    See <a class="xref" href="#descriptorsets-uniformbuffer" title="13.1.7. Uniform Buffer">Section 13.1.7, “Uniform Buffer”</a> and
    <a class="xref" href="#descriptorsets-uniformbufferdynamic" title="13.1.9. Dynamic Uniform Buffer">Section 13.1.9, “Dynamic Uniform Buffer”</a>.
</li><li class="listitem">
<a id="features-limits-maxDescriptorSetUniformBuffersDynamic"></a>
    <em class="parameter"><code>maxDescriptorSetUniformBuffersDynamic</code></em> is the maximum number of
    dynamic uniform buffers that <span class="normative">can</span> be included in descriptor bindings in
    a pipeline layout across all pipeline shader stages and descriptor set
    numbers.
    Descriptors with a type of
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> count against this
    limit.
    See <a class="xref" href="#descriptorsets-uniformbufferdynamic" title="13.1.9. Dynamic Uniform Buffer">Section 13.1.9, “Dynamic Uniform Buffer”</a>.
</li><li class="listitem">
<a id="features-limits-maxDescriptorSetStorageBuffers"></a>
    <em class="parameter"><code>maxDescriptorSetStorageBuffers</code></em> is the maximum number of storage
    buffers that <span class="normative">can</span> be included in descriptor bindings in a pipeline
    layout across all pipeline shader stages and descriptor set numbers.
    Descriptors with a type of <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> count against this
    limit.
    See <a class="xref" href="#descriptorsets-storagebuffer" title="13.1.8. Storage Buffer">Section 13.1.8, “Storage Buffer”</a> and
    <a class="xref" href="#descriptorsets-storagebufferdynamic" title="13.1.10. Dynamic Storage Buffer">Section 13.1.10, “Dynamic Storage Buffer”</a>.
</li><li class="listitem">
<a id="features-limits-maxDescriptorSetStorageBuffersDynamic"></a>
    <em class="parameter"><code>maxDescriptorSetStorageBuffersDynamic</code></em> is the maximum number of
    dynamic storage buffers that <span class="normative">can</span> be included in descriptor bindings in
    a pipeline layout across all pipeline shader stages and descriptor set
    numbers.
    Descriptors with a type of
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> count against this
    limit.
    See <a class="xref" href="#descriptorsets-storagebufferdynamic" title="13.1.10. Dynamic Storage Buffer">Section 13.1.10, “Dynamic Storage Buffer”</a>.
</li><li class="listitem">
<a id="features-limits-maxDescriptorSetSampledImages"></a>
    <em class="parameter"><code>maxDescriptorSetSampledImages</code></em> is the maximum number of sampled
    images that <span class="normative">can</span> be included in descriptor bindings in a pipeline layout
    across all pipeline shader stages and descriptor set numbers.
    Descriptors with a type of
    <code class="code">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
    <code class="code">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, or
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> count against this limit.
    See <a class="xref" href="#descriptorsets-combinedimagesampler" title="13.1.4. Combined Image Sampler">Section 13.1.4, “Combined Image Sampler”</a>,
    <a class="xref" href="#descriptorsets-sampledimage" title="13.1.3. Sampled Image">Section 13.1.3, “Sampled Image”</a>, and
    <a class="xref" href="#descriptorsets-uniformtexelbuffer" title="13.1.5. Uniform Texel Buffer">Section 13.1.5, “Uniform Texel Buffer”</a>.
</li><li class="listitem">
<a id="features-limits-maxDescriptorSetStorageImages"></a>
    <em class="parameter"><code>maxDescriptorSetStorageImages</code></em> is the maximum number of storage
    images that <span class="normative">can</span> be included in descriptor bindings in a pipeline layout
    across all pipeline shader stages and descriptor set numbers.
    Descriptors with a type of <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> count against this limit.
    See <a class="xref" href="#descriptorsets-storageimage" title="13.1.1. Storage Image">Section 13.1.1, “Storage Image”</a>, and
    <a class="xref" href="#descriptorsets-storagetexelbuffer" title="13.1.6. Storage Texel Buffer">Section 13.1.6, “Storage Texel Buffer”</a>.
</li><li class="listitem">
<a id="features-limits-maxDescriptorSetInputAttachments"></a>
    <em class="parameter"><code>maxDescriptorSetInputAttachments</code></em> is the maximum number of input
    attachments that <span class="normative">can</span> be included in descriptor bindings in a pipeline
    layout across all pipeline shader stages and descriptor set numbers.
    Descriptors with a type of <code class="code">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>
    count against this limit.
    See <a class="xref" href="#descriptorsets-inputattachment" title="13.1.11. Input Attachment">Section 13.1.11, “Input Attachment”</a>.
</li><li class="listitem">
<a id="features-limits-maxVertexInputAttributes"></a>
    <em class="parameter"><code>maxVertexInputAttributes</code></em> is the maximum number of vertex input
    attributes that <span class="normative">can</span> be specified for a graphics pipeline.
    These are described in the array of
    <code class="code">VkVertexInputAttributeDescription</code> structures that are provided at
    graphics pipeline creation time via the
    <em class="parameter"><code>pVertexAttributeDescriptions</code></em> member of the
    <code class="code">VkPipelineVertexInputStateCreateInfo</code> structure.
    See <a class="xref" href="#fxvertex-attrib" title="20.1. Vertex Attributes">Section 20.1, “Vertex Attributes”</a> and <a class="xref" href="#fxvertex-input" title="20.2. Vertex Input Description">Section 20.2, “Vertex Input Description”</a>.
</li><li class="listitem">
<a id="features-limits-maxVertexInputBindings"></a> <em class="parameter"><code>maxVertexInputBindings</code></em>
    is the maximum number of vertex buffers that <span class="normative">can</span> be specified for
    providing vertex attributes to a graphics pipeline.
    These are described in the array of
    <code class="code">VkVertexInputBindingDescription</code> structures that are provided at
    graphics pipeline creation time via the <em class="parameter"><code>pVertexBindingDescriptions</code></em>
    member of the <code class="code">VkPipelineVertexInputStateCreateInfo</code> structure.
    The <em class="parameter"><code>binding</code></em> member of <code class="code">VkVertexInputBindingDescription</code> <span class="normative">must</span>
    be less than this limit.
    See <a class="xref" href="#fxvertex-input" title="20.2. Vertex Input Description">Section 20.2, “Vertex Input Description”</a>.
</li><li class="listitem">
<a id="features-limits-maxVertexInputAttributeOffset"></a>
    <em class="parameter"><code>maxVertexInputAttributeOffset</code></em> is the maximum vertex input
    attribute offset that <span class="normative">can</span> be added to the vertex input binding stride.
    The <em class="parameter"><code>offset</code></em> member of the <code class="code">VkVertexInputAttributeDescription</code>
    structure <span class="normative">must</span> be less than or equal to this limit.
    See <a class="xref" href="#fxvertex-input" title="20.2. Vertex Input Description">Section 20.2, “Vertex Input Description”</a>.
</li><li class="listitem">
<a id="features-limits-maxVertexInputBindingStride"></a>
    <em class="parameter"><code>maxVertexInputBindingStride</code></em> is the maximum vertex input binding
    stride that <span class="normative">can</span> be specified in a vertex input binding.
    The <em class="parameter"><code>stride</code></em> member of the <code class="code">VkVertexInputBindingDescription</code>
    structure <span class="normative">must</span> be less than or equal to this limit.
    See <a class="xref" href="#fxvertex-input" title="20.2. Vertex Input Description">Section 20.2, “Vertex Input Description”</a>.
</li><li class="listitem">
<a id="features-limits-maxVertexOutputComponents"></a>
    <em class="parameter"><code>maxVertexOutputComponents</code></em> is the maximum number of components of
    output variables which <span class="normative">can</span> be output by a vertex shader.
    See <a class="xref" href="#shaders-vertex" title="8.5. Vertex Shaders">Section 8.5, “Vertex Shaders”</a>.
</li><li class="listitem">
<a id="features-limits-maxTessellationGenerationLevel"></a>
    <em class="parameter"><code>maxTessellationGenerationLevel</code></em> is the maximum tessellation
    generation level supported by the fixed-function tessellation primitive
    generator.
    See <a class="xref" href="#tessellation" title="Chapter 21. Tessellation">Chapter 21, <em>Tessellation</em></a>.
</li><li class="listitem">
<a id="features-limits-maxTessellationPatchSize"></a>
    <em class="parameter"><code>maxTessellationPatchSize</code></em> is the maximum patch size, in vertices,
    of patches that <span class="normative">can</span> be processed by the tessellation control shader and
    tessellation primitive generator.
    The <em class="parameter"><code>patchControlPoints</code></em> member of the
    <code class="code">VkPipelineTessellationStateCreateInfo</code> structure specified at
    pipeline creation time and the value provided in the <span class="strong"><strong><code class="code">OutputVertices</code></strong></span>
    execution mode of shader modules <span class="normative">must</span> be less than or equal to this
    limit.
    See <a class="xref" href="#tessellation" title="Chapter 21. Tessellation">Chapter 21, <em>Tessellation</em></a>.
</li><li class="listitem">
<a id="features-limits-maxTessellationControlPerVertexInputComponents"></a>
    <em class="parameter"><code>maxTessellationControlPerVertexInputComponents</code></em> is the maximum
    number of components of input variables which <span class="normative">can</span> be provided as
    per-vertex inputs to the tessellation control shader stage.
</li><li class="listitem">
<a id="features-limits-maxTessellationControlPerVertexOutputComponents"></a>
    <em class="parameter"><code>maxTessellationControlPerVertexOutputComponents</code></em> is the maximum
    number of components of per-vertex output variables which <span class="normative">can</span> be output
    from the tessellation control shader stage.
</li><li class="listitem">
<a id="features-limits-maxTessellationControlPerPatchOutputComponents"></a>
    <em class="parameter"><code>maxTessellationControlPerPatchOutputComponents</code></em> is the maximum
    number of components of per-patch output variables which <span class="normative">can</span> be output
    from the tessellation control shader stage.
</li><li class="listitem">
<a id="features-limits-maxTessellationControlTotalOutputComponents"></a>
    <em class="parameter"><code>maxTessellationControlTotalOutputComponents</code></em> is the maximum total
    number of components of per-vertex and per-patch output variables which
    <span class="normative">can</span> be output from the tessellation control shader stage.
</li><li class="listitem">
<a id="features-limits-maxTessellationEvaluationInputComponents"></a>
    <em class="parameter"><code>maxTessellationEvaluationInputComponents</code></em> is the maximum number of
    components of input variables which <span class="normative">can</span> be provided as per-vertex
    inputs to the tessellation evaluation shader stage.
</li><li class="listitem">
<a id="features-limits-maxTessellationEvaluationOutputComponents"></a>
    <em class="parameter"><code>maxTessellationEvaluationOutputComponents</code></em> is the maximum number of
    components of per-vertex output variables which <span class="normative">can</span> be output from the
    tessellation evaluation shader stage.
</li><li class="listitem">
<a id="features-limits-maxGeometryShaderInvocations"></a>
    <em class="parameter"><code>maxGeometryShaderInvocations</code></em> is the maximum invocation count
    supported for instanced geometry shaders.
    The value provided in the <span class="strong"><strong><code class="code">Invocations</code></strong></span> execution mode of shader
    modules <span class="normative">must</span> be less than or equal to this limit.
    See <a class="xref" href="#geometry" title="Chapter 22. Geometry Shading">Chapter 22, <em>Geometry Shading</em></a>.
</li><li class="listitem">
<a id="features-limits-maxGeometryInputComponents"></a>
    <em class="parameter"><code>maxGeometryInputComponents</code></em> is the maximum number of components of
    input variables which <span class="normative">can</span> be provided as inputs to the geometry shader
    stage.
</li><li class="listitem">
<a id="features-limits-maxGeometryOutputComponents"></a>
    <em class="parameter"><code>maxGeometryOutputComponents</code></em> is the maximum number of components of
    output variables which <span class="normative">can</span> be output from the geometry shader stage.
</li><li class="listitem">
<a id="features-limits-maxGeometryOutputVertices"></a>
    <em class="parameter"><code>maxGeometryOutputVertices</code></em> is the maximum number of vertices which
    <span class="normative">can</span> be emitted by any geometry shader.
</li><li class="listitem">
<a id="features-limits-maxGeometryTotalOutputComponents"></a>
    <em class="parameter"><code>maxGeometryTotalOutputComponents</code></em> is the maximum total number of
    components of output, across all emitted vertices, which <span class="normative">can</span> be output
    from the geometry shader stage.
</li><li class="listitem">
<a id="features-limits-maxFragmentInputComponents"></a>
    <em class="parameter"><code>maxFragmentInputComponents</code></em> is the maximum number of components of
    input variables which <span class="normative">can</span> be provided as inputs to the fragment shader
    stage.
</li><li class="listitem">
<a id="features-limits-maxFragmentOutputAttachments"></a>
    <em class="parameter"><code>maxFragmentOutputAttachments</code></em> is the maximum number of output
    attachments which <span class="normative">can</span> be written to by the fragment shader stage.
</li><li class="listitem">
<a id="features-limits-maxFragmentDualSrcAttachments"></a>
    <em class="parameter"><code>maxFragmentDualSrcAttachments</code></em> is the maximum number of output
    attachments which <span class="normative">can</span> be written to by the fragment shader stage when
    blending is enabled and one of the dual source blend modes is in use.
    See <a class="xref" href="#framebuffer-dsb" title="26.1.2. Dual-Source Blending">Section 26.1.2, “Dual-Source Blending”</a> and
    <a class="link" href="#features-features-dualSrcBlend">dualSrcBlend</a>.
</li><li class="listitem">
<a id="features-limits-maxFragmentCombinedOutputResources"></a>
    <em class="parameter"><code>maxFragmentCombinedOutputResources</code></em> is the total number of storage
    buffers, storage images, and output buffers which <span class="normative">can</span> be used in the
    fragment shader stage.
</li><li class="listitem">
<a id="features-limits-maxComputeSharedMemorySize"></a>
    <em class="parameter"><code>maxComputeSharedMemorySize</code></em> is the maximum total storage size, in
    bytes, of all variables declared with the <span class="strong"><strong><code class="code">WorkgroupLocal</code></strong></span> storage
    class in shader modules (or with the <span class="strong"><strong><code class="code">shared</code></strong></span> storage qualifier in
    GLSL) in the compute shader stage.
</li><li class="listitem">
<a id="features-limits-maxComputeWorkGroupCount"></a>
    <em class="parameter"><code>maxComputeWorkGroupCount</code></em>[3] is the maximum number of local
    workgroups that <span class="normative">can</span> be dispatched by a single dispatch command.
    These three values represent the maximum number of local workgroups for
    the X, Y, and Z dimensions, respectively.
    The <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>, and <em class="parameter"><code>z</code></em> parameters to the <code class="code"><a class="link" href="#vkCmdDispatch">vkCmdDispatch</a></code>
    command, or members of the <code class="code"><a class="link" href="#VkDispatchIndirectCommand">VkDispatchIndirectCommand</a></code> structure
    <span class="normative">must</span> be less than or equal to the corresponding limit.
    See <a class="xref" href="#dispatch" title="Chapter 27. Dispatching Commands">Chapter 27, <em>Dispatching Commands</em></a>.
</li><li class="listitem">
<a id="features-limits-maxComputeWorkGroupInvocations"></a>
    <em class="parameter"><code>maxComputeWorkGroupInvocations</code></em> is the maximum total number of
    compute shader invocations in a single local workgroup.
    The product of the X, Y, and Z sizes as specified by the <span class="strong"><strong><code class="code">LocalSize</code></strong></span>
    execution mode in shader modules and by the object decorated by the
    <span class="strong"><strong><code class="code">WorkgroupSize</code></strong></span> decoration <span class="normative">must</span> be less than or equal to this limit.
</li><li class="listitem">
<a id="features-limits-maxComputeWorkGroupSize"></a>
    <em class="parameter"><code>maxComputeWorkGroupSize</code></em>[3] is the maximum size of a local compute
    workgroup, per dimension.
    These three values represent the maximum local workgroup size in the X,
    Y, and Z dimensions, respectively.
    The <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>, and <em class="parameter"><code>z</code></em> sizes specified by the <span class="strong"><strong><code class="code">LocalSize</code></strong></span>
    execution mode and by the object decorated by the <span class="strong"><strong><code class="code">WorkgroupSize</code></strong></span>
    decoration in shader modules <span class="normative">must</span> be less than or equal to the
    corresponding limit.
</li><li class="listitem">
<a id="features-limits-subPixelPrecisionBits"></a> <em class="parameter"><code>subPixelPrecisionBits</code></em> is
    the number of bits of subpixel precision in framebuffer coordinates
    <span class="inlinemediaobject"><span class="phrase">
$x_f$
</span></span> and <span class="inlinemediaobject"><span class="phrase">
$y_f$
</span></span>.
    See <a class="xref" href="#primsrast" title="Chapter 24. Rasterization">Chapter 24, <em>Rasterization</em></a>.
</li><li class="listitem">
<a id="features-limits-subTexelPrecisionBits"></a> <em class="parameter"><code>subTexelPrecisionBits</code></em> is
    the number of bits of precision in the division along an axis of an
    image used for minification and magnification filters.
    <span class="inlinemediaobject"><span class="phrase">
$2^\mathit{subTexelPrecisionBits}$
</span></span> is the actual number of
    divisions along each axis of the image represented.
    The filtering hardware will snap to these locations when computing the
    filtered results.
</li><li class="listitem"><p class="simpara">
<a id="features-limits-mipmapPrecisionBits"></a> <em class="parameter"><code>mipmapPrecisionBits</code></em> is the
    number of bits of division that the LOD calculation for mipmap fetching
    get snapped to when determining the contribution from each mip level to
    the mip filtered results.
    <span class="inlinemediaobject"><span class="phrase">
$2^\mathit{mipmapPrecisionBits}$
</span></span> is the actual number of
    divisions.
</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For example, if this value is 2 bits then when linearly filtering between
two levels, each level could: contribute: 0%, 33%, 66%, or 100% (this is
just an example and the amount of contribution <span class="normative">should</span> be covered by
different equations in the spec).</p></td></tr></table></div></li><li class="listitem">
<a id="features-limits-maxDrawIndexedIndexValue"></a>
    <em class="parameter"><code>maxDrawIndexedIndexValue</code></em> is the maximum index value that <span class="normative">can</span> be
    used for indexed draw calls when using 32-bit indices.
    This excludes the primitive restart index value of 0xFFFFFFFF.
    See <a class="link" href="#features-features-fullDrawIndexUint32">fullDrawIndexUint32</a>.
</li><li class="listitem">
<a id="features-limits-maxDrawIndirectCount"></a> <em class="parameter"><code>maxDrawIndirectCount</code></em> is
    the maximum draw count that is supported for indirect draw calls.
    See <a class="link" href="#features-features-multiDrawIndirect">multiDrawIndirect</a>.
</li><li class="listitem">
<a id="features-limits-maxSamplerLodBias"></a> <em class="parameter"><code>maxSamplerLodBias</code></em> is the
    maximum absolute sampler level of detail bias.
    The sum of the <em class="parameter"><code>mipLodBias</code></em> member of the <code class="code">VkSamplerCreateInfo</code>
    structure and the <span class="strong"><strong><code class="code">Bias</code></strong></span> operand of image sampling operations in
    shader modules (or 0 if no <span class="strong"><strong><code class="code">Bias</code></strong></span> operand is provided to an image
    sampling operation) are clamped to the range
    <span class="inlinemediaobject"><span class="phrase">
$[-\mathit{maxSamplerLodBias},+\mathit{maxSamplerLodBias}]$
</span></span>.
    See <a class="xref" href="#samplers-mipLodBias">[samplers-mipLodBias]</a>.
</li><li class="listitem">
<a id="features-limits-maxSamplerAnisotropy"></a> <em class="parameter"><code>maxSamplerAnisotropy</code></em> is
    the maximum degree of sampler anisotropy.
    The maximum degree of anisotropic filtering used for an image sampling
    operation is the minimum of the <em class="parameter"><code>maxAnisotropy</code></em> member of the
    <code class="code">VkSamplerCreateInfo</code> structure and this limit.
    See <a class="xref" href="#samplers-maxAnisotropy">[samplers-maxAnisotropy]</a>.
</li><li class="listitem">
<a id="features-limits-maxViewports"></a> <em class="parameter"><code>maxViewports</code></em> is the maximum
    number of active viewports.
    The <em class="parameter"><code>viewportCount</code></em> member of the
    <code class="code">VkPipelineViewportStateCreateInfo</code> structure that is provided at
    pipeline creation <span class="normative">must</span> be less than or equal to this limit.
</li><li class="listitem">
<a id="features-limits-maxViewportDimensions"></a> <em class="parameter"><code>maxViewportDimensions</code></em>[2]
    are the maximum viewport dimensions in the X (width) and Y (height)
    dimensions, respectively.
    The maximum viewport dimensions <span class="normative">must</span> be greater than or equal to the
    largest image which <span class="normative">can</span> be created and used as a framebuffer
    attachment.
    See <a class="link" href="#vertexpostproc-viewport" title="23.5. Controlling the Viewport">Controlling the Viewport</a>.
</li><li class="listitem"><p class="simpara">
<a id="features-limits-viewportboundsrange"></a> <em class="parameter"><code>viewportBoundsRange</code></em>[2] is
    the <span class="inlinemediaobject"><span class="phrase">
$[\mathit{minimum},\mathit{maximum}]$
</span></span> range that the
    corners of a viewport <span class="normative">must</span> be contained in.
    This range <span class="normative">must</span> be at least
</p><p class="simpara"><span class="inlinemediaobject"><span class="phrase">
$[-2 \times \mathit{size}, 2 \times \mathit{size} - 1]$
</span></span>, where
<span class="inlinemediaobject"><span class="phrase">
$\mathit{size} = \max(\mathit{maxViewportDimensions}[0],
\mathit{maxViewportDimensions}[1]) $
</span></span>.
See <a class="link" href="#vertexpostproc-viewport" title="23.5. Controlling the Viewport">Controlling the Viewport</a>.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The intent of the <em class="parameter"><code>viewportBoundsRange</code></em> limit is to allow a maximum
sized viewport to be arbitrarily shifted relative to the output target as
long as at least some portion intersects.
This would give a bounds limit of <span class="inlinemediaobject"><span class="phrase">
$[-\mathit{size}+1, 2 \times
\mathit{size} - 1]$
</span></span> which would allow all possible non-empty-set
intersections of the output target and the viewport.
Since these numbers are typically powers of two, picking the signed number
range using the smallest possible number of bits ends up with the specified
range.</p></td></tr></table></div></li><li class="listitem">
<a id="features-limits-viewportSubPixelBits"></a> <em class="parameter"><code>viewportSubPixelBits</code></em> is
    the number of bits of subpixel precision for viewport bounds.
    The subpixel precision that floating-point viewport bounds are
    interpreted at is given by this limit.
</li><li class="listitem">
<a id="features-limits-minMemoryMapAlignment"></a> <em class="parameter"><code>minMemoryMapAlignment</code></em> is
    the minimum <span class="normative">required</span> alignment, in bytes, of host visible memory
    allocations within the host address space.
    When mapping a memory allocation with <code class="code"><a class="link" href="#vkMapMemory">vkMapMemory</a></code>, subtracting
    <em class="parameter"><code>offset</code></em> bytes from the returned pointer will always produce an
    integer multiple of this limit.
    See <a class="xref" href="#memory-device-hostaccess" title="10.2.1. Host Access to Device Memory Objects">Section 10.2.1, “Host Access to Device Memory Objects”</a>.
</li><li class="listitem">
<a id="features-limits-minTexelBufferOffsetAlignment"></a>
    <em class="parameter"><code>minTexelBufferOffsetAlignment</code></em> is the minimum <span class="normative">required</span> alignment,
    in bytes, for the <em class="parameter"><code>offset</code></em> member of the
    <code class="code">VkBufferViewCreateInfo</code> structure for texel buffers.
    When a buffer view is created for a buffer which was created with
    <code class="code">VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> or
    <code class="code">VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code> set in the <em class="parameter"><code>usage</code></em>
    member of the <code class="code">VkBufferCreateInfo</code> structure, the <em class="parameter"><code>offset</code></em> <span class="normative">must</span>
    be an integer multiple of this limit.
</li><li class="listitem">
<a id="features-limits-minUniformBufferOffsetAlignment"></a>
    <em class="parameter"><code>minUniformBufferOffsetAlignment</code></em> is the minimum <span class="normative">required</span> alignment,
    in bytes, for the <em class="parameter"><code>offset</code></em> member of the
    <code class="code">VkDescriptorBufferInfo</code> structure for uniform buffers.
    When a descriptor of type <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> is updated, the
    <em class="parameter"><code>offset</code></em> <span class="normative">must</span> be an integer multiple of this limit.
    Similarly, dynamic offsets for uniform buffers <span class="normative">must</span> be multiples of
    this limit.
</li><li class="listitem">
<a id="features-limits-minStorageBufferOffsetAlignment"></a>
    <em class="parameter"><code>minStorageBufferOffsetAlignment</code></em> is the minimum <span class="normative">required</span> alignment,
    in bytes, for the <em class="parameter"><code>offset</code></em> member of the
    <code class="code">VkDescriptorBufferInfo</code> structure for storage buffers.
    When a descriptor of type <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> is updated, the
    <em class="parameter"><code>offset</code></em> <span class="normative">must</span> be an integer multiple of this limit.
    Similarly, dynamic offsets for storage buffers <span class="normative">must</span> be multiples of
    this limit.
</li><li class="listitem">
<a id="features-limits-minTexelOffset"></a> <em class="parameter"><code>minTexelOffset</code></em> is the minimum
    offset value for the <span class="strong"><strong><code class="code">ConstOffset</code></strong></span> image operand of any of the
    <span class="strong"><strong><code class="code">OpImageSample</code></strong></span>* or <span class="strong"><strong><code class="code">OpImageFetch</code></strong></span>* image instructions.
</li><li class="listitem">
<a id="features-limits-maxTexelOffset"></a> <em class="parameter"><code>maxTexelOffset</code></em> is the maximum
    offset value for the <span class="strong"><strong><code class="code">ConstOffset</code></strong></span> image operand of any of the
    <span class="strong"><strong><code class="code">OpImageSample</code></strong></span>* or <span class="strong"><strong><code class="code">OpImageFetch</code></strong></span>* image instructions.
</li><li class="listitem">
<a id="features-limits-minTexelGatherOffset"></a> <em class="parameter"><code>minTexelGatherOffset</code></em> is
    the minimum offset value for the <span class="strong"><strong><code class="code">Offset</code></strong></span> or <span class="strong"><strong><code class="code">ConstOffsets</code></strong></span> image
    operands of any of the <span class="strong"><strong><code class="code">OpImage</code></strong></span>*<span class="strong"><strong><code class="code">Gather</code></strong></span> image instructions.
</li><li class="listitem">
<a id="features-limits-maxTexelGatherOffset"></a> <em class="parameter"><code>maxTexelGatherOffset</code></em> is
    the maximum offset value for the <span class="strong"><strong><code class="code">Offset</code></strong></span> or <span class="strong"><strong><code class="code">ConstOffsets</code></strong></span> image
    operands of any of the <span class="strong"><strong><code class="code">OpImage</code></strong></span>*<span class="strong"><strong><code class="code">Gather</code></strong></span> image instructions.
</li><li class="listitem">
<a id="features-limits-minInterpolationOffset"></a> <em class="parameter"><code>minInterpolationOffset</code></em>
    is the minimum negative offset value for the <span class="strong"><strong><code class="code">offset</code></strong></span> operand of the
    <span class="strong"><strong><code class="code">InterpolateAtOffset</code></strong></span> extended instruction.
</li><li class="listitem">
<a id="features-limits-maxInterpolationOffset"></a> <em class="parameter"><code>maxInterpolationOffset</code></em>
    is the maximum positive offset value for the <span class="strong"><strong><code class="code">offset</code></strong></span> operand of the
    <span class="strong"><strong><code class="code">InterpolateAtOffset</code></strong></span> extended instruction.
</li><li class="listitem">
<a id="features-limits-subPixelInterpolationOffsetBits"></a>
    <em class="parameter"><code>subPixelInterpolationOffsetBits</code></em> is the number of subpixel
    fractional bits that the <span class="strong"><strong><code class="code">x</code></strong></span> and <span class="strong"><strong><code class="code">y</code></strong></span> offsets to the
    <span class="strong"><strong><code class="code">InterpolateAtOffset</code></strong></span> extended instruction <span class="normative">may</span> be rounded to as
    fixed-point values.
</li><li class="listitem">
<a id="features-limits-maxFramebufferWidth"></a> <em class="parameter"><code>maxFramebufferWidth</code></em> is the
    maximum width for a framebuffer.
    The <em class="parameter"><code>width</code></em> member of the <code class="code">VkFramebufferCreateInfo</code> structure
    <span class="normative">must</span> be less than or equal to this limit.
</li><li class="listitem">
<a id="features-limits-maxFramebufferHeight"></a> <em class="parameter"><code>maxFramebufferHeight</code></em> is
    the maximum height for a framebuffer.
    The <em class="parameter"><code>height</code></em> member of the <code class="code">VkFramebufferCreateInfo</code> structure
    <span class="normative">must</span> be less than or equal to this limit.
</li><li class="listitem">
<a id="features-limits-maxFramebufferLayers"></a> <em class="parameter"><code>maxFramebufferLayers</code></em> is
    the maximum layer count for a layered framebuffer.
    The <em class="parameter"><code>layers</code></em> member of the <code class="code">VkFramebufferCreateInfo</code> structure
    <span class="normative">must</span> be less than or equal to this limit.
</li><li class="listitem">
<a id="features-limits-framebufferColorSampleCounts"></a>
    <em class="parameter"><code>framebufferColorSampleCounts</code></em> is a bitmask<sup>1</sup> of
    <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the color sample counts that
    are supported for all framebuffer color attachments.
</li><li class="listitem">
<a id="features-limits-framebufferDepthSampleCounts"></a>
    <em class="parameter"><code>framebufferDepthSampleCounts</code></em> is a bitmask<sup>1</sup> of
    <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the supported depth sample
    counts for all framebuffer depth/stencil attachments, when the format
    includes a depth component.
</li><li class="listitem">
<em class="parameter"><code>framebufferStencilSampleCounts</code></em> is a bitmask<sup>1</sup> of
    <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the supported stencil sample
    counts for all framebuffer depth/stencil attachments, when the format
    includes a stencil component.
</li><li class="listitem">
<em class="parameter"><code>framebufferNoAttachmentsSampleCounts</code></em> is a bitmask<sup>1</sup> of
    <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the supported sample counts
    for a framebuffer with no attachments.
</li><li class="listitem">
<a id="features-limits-maxColorAttachments"></a> <em class="parameter"><code>maxColorAttachments</code></em> is the
    maximum number of color attachments that <span class="normative">can</span> be used by a subpass in a
    render pass.
    The <em class="parameter"><code>colorAttachmentCount</code></em> member of the <code class="code">VkSubpassDescription</code>
    structure <span class="normative">must</span> be less than or equal to this limit.
</li><li class="listitem">
<a id="features-limits-sampledImageColorSampleCounts"></a>
    <em class="parameter"><code>sampledImageColorSampleCounts</code></em> is a bitmask<sup>1</sup> of
    <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the sample counts supported
    for all 2D images created with <code class="code">VK_IMAGE_TILING_OPTIMAL</code>,
    <em class="parameter"><code>usage</code></em> containing <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code>, and a
    non-integer color format.
</li><li class="listitem">
<a id="features-limits-sampledImageIntegerSampleCounts"></a>
    <em class="parameter"><code>sampledImageIntegerSampleCounts</code></em> is a bitmask<sup>1</sup> of
    <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the sample counts supported
    for all 2D images created with <code class="code">VK_IMAGE_TILING_OPTIMAL</code>,
    <em class="parameter"><code>usage</code></em> containing <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code>, and an integer
    color format.
</li><li class="listitem">
<a id="features-limits-sampledImageDepthSampleCounts"></a>
    <em class="parameter"><code>sampledImageDepthSampleCounts</code></em> is a bitmask<sup>1</sup> of
    <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the sample counts supported
    for all 2D images created with <code class="code">VK_IMAGE_TILING_OPTIMAL</code>,
    <em class="parameter"><code>usage</code></em> containing <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code>, and a depth
    format.
</li><li class="listitem">
<a id="features-limits-sampledImageStencilSampleCounts"></a>
    <em class="parameter"><code>sampledImageStencilSampleCounts</code></em> is a bitmask<sup>1</sup> of
    <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the sample supported for all
    2D images created with <code class="code">VK_IMAGE_TILING_OPTIMAL</code>, <em class="parameter"><code>usage</code></em>
    containing <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code>, and a stencil format.
</li><li class="listitem">
<a id="features-limits-storageImageSampleCounts"></a>
    <em class="parameter"><code>storageImageSampleCounts</code></em> is a bitmask<sup>1</sup> of
    <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> bits indicating the sample counts supported
    for all 2D images created with <code class="code">VK_IMAGE_TILING_OPTIMAL</code>, and
    <em class="parameter"><code>usage</code></em> containing <code class="code">VK_IMAGE_USAGE_STORAGE_BIT</code>.
</li><li class="listitem">
<a id="features-limits-maxSampleMaskWords"></a> <em class="parameter"><code>maxSampleMaskWords</code></em> is the
    maximum number of array elements of a variable decorated with the
    <span class="strong"><strong><code class="code">SampleMask</code></strong></span> built-in decoration.
</li><li class="listitem">
<a id="features-limits-timestampComputeAndGraphics"></a>
    <em class="parameter"><code>timestampComputeAndGraphics</code></em> indicates support for timestamps on
    all graphics and compute queues.
    If this limit is set to <code class="code">VK_TRUE</code>, all queues that advertise the
    <code class="code">VK_QUEUE_GRAPHICS_BIT</code> or <code class="code">VK_QUEUE_COMPUTE_BIT</code> in the
    <code class="code">VkQueueFamilyProperties</code>::<em class="parameter"><code>queueFlags</code></em> support
    <code class="code">VkQueueFamilyProperties</code>::<em class="parameter"><code>timestampValidBits</code></em> of at least 36.
    See <a class="link" href="#queries-timestamps" title="16.5. Timestamp Queries">Timestamp Queries</a>.
</li><li class="listitem">
<a id="features-limits-timestampPeriod"></a> <em class="parameter"><code>timestampPeriod</code></em> is the number
    of nanoseconds <span class="normative">required</span> for a timestamp query to be incremented by 1.
    See <a class="link" href="#queries-timestamps" title="16.5. Timestamp Queries">Timestamp Queries</a>.
</li><li class="listitem">
<a id="features-limits-maxClipDistances"></a> <em class="parameter"><code>maxClipDistances</code></em> is the
    maximum number of clip distances that <span class="normative">can</span> be used in a single shader
    stage.
    The size of any array declared with the <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> built-in
    decoration in a shader module <span class="normative">must</span> be less than or equal to this limit.
</li><li class="listitem">
<a id="features-limits-maxCullDistances"></a> <em class="parameter"><code>maxCullDistances</code></em> is the
    maximum number of cull distances that <span class="normative">can</span> be used in a single shader
    stage.
    The size of any array declared with the <span class="strong"><strong><code class="code">CullDistance</code></strong></span> built-in
    decoration in a shader module <span class="normative">must</span> be less than or equal to this limit.
</li><li class="listitem">
<a id="features-limits-maxCombinedClipAndCullDistances"></a>
    <em class="parameter"><code>maxCombinedClipAndCullDistances</code></em> is the maximum combined number of
    clip and cull distances that <span class="normative">can</span> be used in a single shader stage.
    The sum of the sizes of any pair of arrays declared with the
    <span class="strong"><strong><code class="code">ClipDistance</code></strong></span> and <span class="strong"><strong><code class="code">CullDistance</code></strong></span> built-in decoration used by a
    single shader stage in a shader module <span class="normative">must</span> be less than or equal to
    this limit.
</li><li class="listitem">
<a id="features-limits-discreteQueuePriorities"></a>
    <em class="parameter"><code>discreteQueuePriorities</code></em> is the number of discrete priorities that
    <span class="normative">can</span> be assigned to a queue based on the value of each member of
    <code class="code">VkDeviceQueueCreateInfo</code>::<em class="parameter"><code>pQueuePriorities</code></em>.
    This <span class="normative">must</span> be at least 2, and levels <span class="normative">must</span> be spread evenly over the
    range, with at least one level at 1.0, and another at 0.0.
    See <a class="xref" href="#devsandqueues-priority" title="4.3.4. Queue Priority">Section 4.3.4, “Queue Priority”</a>.
</li><li class="listitem">
<a id="features-limits-pointSizeRange"></a> <em class="parameter"><code>pointSizeRange</code></em>[2] is the range
    <span class="inlinemediaobject"><span class="phrase">
$[\mathit{minimum},\mathit{maximum}]$
</span></span> of supported sizes
    for points.
    Values written to variables decorated with the <span class="strong"><strong><code class="code">PointSize</code></strong></span> built-in
    decoration are clamped to this range.
</li><li class="listitem">
<a id="features-limits-lineWidthRange"></a> <em class="parameter"><code>lineWidthRange</code></em>[2] is the range
    <span class="inlinemediaobject"><span class="phrase">
$[\mathit{minimum},\mathit{maximum}]$
</span></span> of supported widths
    for lines.
    Values specified by the <em class="parameter"><code>lineWidth</code></em> member of the
    <code class="code">VkPipelineRasterizationStateCreateInfo</code> or the <em class="parameter"><code>lineWidth</code></em>
    parameter to <span class="strong"><strong><code class="code">vkCmdSetLineWidth</code></strong></span> are clamped to this range.
</li><li class="listitem">
<a id="features-limits-pointSizeGranularity"></a> <em class="parameter"><code>pointSizeGranularity</code></em> is
    the granularity of supported point sizes.
    Not all point sizes in the range defined by <em class="parameter"><code>pointSizeRange</code></em> are
    supported.
    This limit specifies the granularity (or increment) between successive
    supported point sizes.
</li><li class="listitem">
<a id="features-limits-lineWidthGranularity"></a> <em class="parameter"><code>lineWidthGranularity</code></em> is
    the granularity of supported line widths.
    Not all line widths in the range defined by <em class="parameter"><code>lineWidthRange</code></em> are
    supported.
    This limit specifies the granularity (or increment) between successive
    supported line widths.
</li><li class="listitem">
<a id="features-limits-strictLines"></a> <em class="parameter"><code>strictLines</code></em> indicates whether
    lines are rasterized according to the preferred method of rasterization.
    If set to <code class="code">VK_FALSE</code>, lines <span class="normative">may</span> be rasterized under a relaxed set
    of rules.
    If set to <code class="code">VK_TRUE</code>, lines are rasterized as per the strict
    definition.
    See <a class="link" href="#primsrast-lines-basic" title="24.6.1. Basic Line Segment Rasterization">Basic Line Segment Rasterization</a>.
</li><li class="listitem">
<a id="features-limits-standardSampleLocations"></a>
    <em class="parameter"><code>standardSampleLocations</code></em> indicates whether rasterization uses the
    standard sample locations as documented in
    <a class="link" href="#primsrast-multisampling" title="24.3. Multisampling">Multisampling</a>.
    If set to <code class="code">VK_TRUE</code>, the implementation uses the documented sample
    locations.
    If set to <code class="code">VK_FALSE</code>, the implementation <span class="normative">may</span> use different sample
    locations.
</li><li class="listitem">
<a id="features-limits-optimalBufferCopyOffsetAlignment"></a>
    <em class="parameter"><code>optimalBufferCopyOffsetAlignment</code></em> is the optimal buffer offset
    alignment in bytes for <span class="strong"><strong><code class="code">vkCmdCopyBufferToImage</code></strong></span> and
    <span class="strong"><strong><code class="code">vkCmdCopyImageToBuffer</code></strong></span>.
    The per texel alignment requirements are still enforced, this is just an
    additional alignment recommendation for optimal performance and power.
</li><li class="listitem">
<a id="features-limits-optimalBufferCopyRowPitchAlignment"></a>
    <em class="parameter"><code>optimalBufferCopyRowPitchAlignment</code></em> is the optimal buffer row pitch
    alignment in bytes for <span class="strong"><strong><code class="code">vkCmdCopyBufferToImage</code></strong></span> and
    <span class="strong"><strong><code class="code">vkCmdCopyImageToBuffer</code></strong></span>.
    Row pitch is the number of bytes between texels with the same X
    coordinate in adjacent rows (Y coordinates differ by one).
    The per texel alignment requirements are still enforced, this is just an
    additional alignment recommendation for optimal performance and power.
</li><li class="listitem">
<a id="features-limits-nonCoherentAtomSize"></a> <em class="parameter"><code>nonCoherentAtomSize</code></em> is the
    size and alignment in bytes that bounds concurrent access to
    <a class="link" href="#memory-device-hostaccess" title="10.2.1. Host Access to Device Memory Objects">host-mapped device memory</a>.
</li></ul></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
1
</span></dt><dd><p class="simpara">
    For all bitmasks of type <code class="code"><a class="link" href="#VkSampleCountFlags">VkSampleCountFlags</a></code> above, possible values
    include:
</p><p><a id="VkSampleCountFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkSampleCountFlagBits {
    VK_SAMPLE_COUNT_1_BIT = 0x00000001,
    VK_SAMPLE_COUNT_2_BIT = 0x00000002,
    VK_SAMPLE_COUNT_4_BIT = 0x00000004,
    VK_SAMPLE_COUNT_8_BIT = 0x00000008,
    VK_SAMPLE_COUNT_16_BIT = 0x00000010,
    VK_SAMPLE_COUNT_32_BIT = 0x00000020,
    VK_SAMPLE_COUNT_64_BIT = 0x00000040,
} VkSampleCountFlagBits;</pre><p>
</p><p class="simpara">The sample count limits defined above represent the minimum supported sample
counts for each image type.
Individual images <span class="normative">may</span> support additional sample counts, which are queried
using <code class="code"><a class="link" href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a></code> as described in
<a class="link" href="#features-supported-sample-counts" title="31.4.1. Supported Sample Counts">Supported Sample Counts</a>.</p></dd></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="features-limits-minmax"></a>31.2.1. Limit Requirements</h3></div></div></div><p>The following table specifies the <span class="normative">required</span> minimum/maximum for all Vulkan
graphics implementations.
Where a limit corresponds to a fine-grained device feature which is
<span class="normative">optional</span>, the feature name is listed with two <span class="normative">required</span> limits, one when the
feature is supported and one when it is not supported.
If an implementation supports a feature, the limits reported are the same
whether or not the feature is enabled.</p><div class="table"><a id="features-limits-types"></a><p class="title"><strong>Table 31.1. Required Limit Types</strong></p><div class="table-contents"><table summary="Required Limit Types" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Type                     </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Limit                                      </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Feature</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxImageDimension1D</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxImageDimension2D</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxImageDimension3D</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxImageDimensionCube</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxImageArrayLayers</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTexelBufferElements</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxUniformBufferRange</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxStorageBufferRange</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPushConstantsSize</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxMemoryAllocationCount</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxSamplerAllocationCount</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VkDeviceSize</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>bufferImageGranularity</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VkDeviceSize</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sparseAddressSpaceSize</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>sparseBinding</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxBoundDescriptorSets</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageDescriptorSamplers</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageDescriptorUniformBuffers</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageDescriptorStorageBuffers</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageDescriptorSampledImages</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageDescriptorStorageImages</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageDescriptorInputAttachments</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageResources</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetSamplers</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetUniformBuffers</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetUniformBuffersDynamic</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetStorageBuffers</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetStorageBuffersDynamic</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetSampledImages</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetStorageImages</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetInputAttachments</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxVertexInputAttributes</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxVertexInputBindings</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxVertexInputAttributeOffset</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxVertexInputBindingStride</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxVertexOutputComponents</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationGenerationLevel</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>tessellationShader</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationPatchSize</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>tessellationShader</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationControlPerVertexInputComponents</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>tessellationShader</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationControlPerVertexOutputComponents</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>tessellationShader</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationControlPerPatchOutputComponents</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>tessellationShader</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationControlTotalOutputComponents</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>tessellationShader</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationEvaluationInputComponents</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>tessellationShader</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationEvaluationOutputComponents</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>tessellationShader</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxGeometryShaderInvocations</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>geometryShader</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxGeometryInputComponents</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>geometryShader</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxGeometryOutputComponents</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>geometryShader</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxGeometryOutputVertices</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>geometryShader</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxGeometryTotalOutputComponents</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>geometryShader</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFragmentInputComponents</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFragmentOutputAttachments</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFragmentDualSrcAttachments</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>dualSrcBlend</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFragmentCombinedOutputResources</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxComputeSharedMemorySize</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>3 × <span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxComputeWorkGroupCount</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxComputeWorkGroupInvocations</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>3 × <span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxComputeWorkGroupSize</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>subPixelPrecisionBits</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>subTexelPrecisionBits</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>mipmapPrecisionBits</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDrawIndexedIndexValue</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>fullDrawIndexUint32</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDrawIndirectCount</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>multiDrawIndirect</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">float</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxSamplerLodBias</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">float</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxSamplerAnisotropy</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>samplerAnisotropy</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxViewports</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>multiViewport</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2 × <span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxViewportDimensions</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2 × <span class="strong"><strong><code class="code">float</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>viewportBoundsRange</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>viewportSubPixelBits</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">size_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minMemoryMapAlignment</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VkDeviceSize</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minTexelBufferOffsetAlignment</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VkDeviceSize</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minUniformBufferOffsetAlignment</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VkDeviceSize</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minStorageBufferOffsetAlignment</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">int32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minTexelOffset</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTexelOffset</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">int32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minTexelGatherOffset</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>shaderImageGatherExtended</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTexelGatherOffset</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>shaderImageGatherExtended</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">float</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minInterpolationOffset</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sampleRateShading</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">float</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxInterpolationOffset</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sampleRateShading</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>subPixelInterpolationOffsetBits</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sampleRateShading</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFramebufferWidth</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFramebufferHeight</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFramebufferLayers</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code"><a class="link" href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>framebufferColorSampleCounts</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code"><a class="link" href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>framebufferDepthSampleCounts</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code"><a class="link" href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>framebufferStencilSampleCounts</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code"><a class="link" href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>framebufferNoAttachmentsSampleCounts</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxColorAttachments</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code"><a class="link" href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sampledImageColorSampleCounts</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code"><a class="link" href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sampledImageIntegerSampleCounts</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code"><a class="link" href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sampledImageDepthSampleCounts</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code"><a class="link" href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sampledImageStencilSampleCounts</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code"><a class="link" href="#VkSampleCountFlags">VkSampleCountFlags</a></code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>storageImageSampleCounts</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>shaderStorageImageMultisample</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxSampleMaskWords</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VkBool32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>timestampComputeAndGraphics</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">float</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>timestampPeriod</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxClipDistances</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>shaderClipDistance</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxCullDistances</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>shaderCullDistance</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxCombinedClipAndCullDistances</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>shaderCullDistance</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">uint32_t</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>discreteQueuePriorities</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2 × <span class="strong"><strong><code class="code">float</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>pointSizeRange</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>largePoints</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2 × <span class="strong"><strong><code class="code">float</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>lineWidthRange</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>wideLines</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">float</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>pointSizeGranularity</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>largePoints</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">float</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>lineWidthGranularity</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>wideLines</code></em></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VkBool32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>strictLines</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VkBool32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>standardSampleLocations</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VkDeviceSize</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>optimalBufferCopyOffsetAlignment</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VkDeviceSize</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>optimalBufferCopyRowPitchAlignment</code></em></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VkDeviceSize</code></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>nonCoherentAtomSize</code></em></p></td><td style="" align="left" valign="top"><p>-</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="features-limits-required"></a><p class="title"><strong>Table 31.2. Required Limits</strong></p><div class="table-contents"><table summary="Required Limits" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Limit </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Unsupported Limit </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Supported Limit </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Limit Type<sup>1</sup></th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxImageDimension1D</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4096</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxImageDimension2D</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4096</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxImageDimension3D</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>256</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxImageDimensionCube</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4096</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxImageArrayLayers</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>256</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTexelBufferElements</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>65536</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxUniformBufferRange</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>16384</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxStorageBufferRange</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2<sup>27</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPushConstantsSize</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>128</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxMemoryAllocationCount</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4096</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxSamplerAllocationCount</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4000</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>bufferImageGranularity</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>131072</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>max</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sparseAddressSpaceSize</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2<sup>31</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxBoundDescriptorSets</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageDescriptorSamplers</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>16</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageDescriptorUniformBuffers</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>12</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageDescriptorStorageBuffers</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageDescriptorSampledImages</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>16</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageDescriptorStorageImages</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageDescriptorInputAttachments</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxPerStageResources</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>128 <sup>2</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetSamplers</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>96 <sup>8</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min, <span class="emphasis"><em>n</em></span> × PerStage</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetUniformBuffers</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>72 <sup>8</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min, <span class="emphasis"><em>n</em></span> × PerStage</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetUniformBuffersDynamic</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>8</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetStorageBuffers</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>24 <sup>8</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min, <span class="emphasis"><em>n</em></span> × PerStage</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetStorageBuffersDynamic</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetSampledImages</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>96 <sup>8</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min, <span class="emphasis"><em>n</em></span> × PerStage</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetStorageImages</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>24 <sup>8</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min, <span class="emphasis"><em>n</em></span> × PerStage</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDescriptorSetInputAttachments</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxVertexInputAttributes</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>16</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxVertexInputBindings</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>16</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxVertexInputAttributeOffset</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2047</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxVertexInputBindingStride</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2048</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxVertexOutputComponents</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationGenerationLevel</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationPatchSize</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>32</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationControlPerVertexInputComponents</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationControlPerVertexOutputComponents</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationControlPerPatchOutputComponents</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>120</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationControlTotalOutputComponents</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2048</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationEvaluationInputComponents</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTessellationEvaluationOutputComponents</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxGeometryShaderInvocations</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>32</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxGeometryInputComponents</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxGeometryOutputComponents</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxGeometryOutputVertices</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>256</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxGeometryTotalOutputComponents</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1024</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFragmentInputComponents</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFragmentOutputAttachments</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFragmentDualSrcAttachments</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFragmentCombinedOutputResources</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxComputeSharedMemorySize</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>16384</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxComputeWorkGroupCount</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(65535,65535,65535)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxComputeWorkGroupInvocations</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>128</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxComputeWorkGroupSize</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(128,128,64)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>subPixelPrecisionBits</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>subTexelPrecisionBits</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>mipmapPrecisionBits</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDrawIndexedIndexValue</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2<sup>24</sup>-1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2<sup>32</sup>-1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxDrawIndirectCount</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2<sup>16</sup>-1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxSamplerLodBias</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxSamplerAnisotropy</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>16</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxViewports</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>16</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxViewportDimensions</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(4096,4096) <sup>3</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>viewportBoundsRange</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(-8192,8191) <sup>4</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(max,min)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>viewportSubPixelBits</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minMemoryMapAlignment</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minTexelBufferOffsetAlignment</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>256</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>max</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minUniformBufferOffsetAlignment</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>256</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>max</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minStorageBufferOffsetAlignment</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>256</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>max</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minTexelOffset</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-8</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>max</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTexelOffset</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>7</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minTexelGatherOffset</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-8</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>max</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxTexelGatherOffset</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>7</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>minInterpolationOffset</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0.0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-0.5 <sup>5</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>max</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxInterpolationOffset</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0.0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0.5 - (1 ULP) <sup>5</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>subPixelInterpolationOffsetBits</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4 <sup>5</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFramebufferWidth</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4096</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFramebufferHeight</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4096</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxFramebufferLayers</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>256</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>framebufferColorSampleCounts</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(<code class="code">VK_SAMPLE_COUNT_1_BIT</code> | <code class="code">VK_SAMPLE_COUNT_4_BIT</code>)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>framebufferDepthSampleCounts</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(<code class="code">VK_SAMPLE_COUNT_1_BIT</code> | <code class="code">VK_SAMPLE_COUNT_4_BIT</code>)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>framebufferStencilSampleCounts</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(<code class="code">VK_SAMPLE_COUNT_1_BIT</code> | <code class="code">VK_SAMPLE_COUNT_4_BIT</code>)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>framebufferNoAttachmentsSampleCounts</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(<code class="code">VK_SAMPLE_COUNT_1_BIT</code> | <code class="code">VK_SAMPLE_COUNT_4_BIT</code>)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxColorAttachments</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sampledImageColorSampleCounts</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(<code class="code">VK_SAMPLE_COUNT_1_BIT</code> | <code class="code">VK_SAMPLE_COUNT_4_BIT</code>)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sampledImageIntegerSampleCounts</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_SAMPLE_COUNT_1_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sampledImageDepthSampleCounts</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(<code class="code">VK_SAMPLE_COUNT_1_BIT</code> | <code class="code">VK_SAMPLE_COUNT_4_BIT</code>)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>sampledImageStencilSampleCounts</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(<code class="code">VK_SAMPLE_COUNT_1_BIT</code> | <code class="code">VK_SAMPLE_COUNT_4_BIT</code>)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>storageImageSampleCounts</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_SAMPLE_COUNT_1_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(<code class="code">VK_SAMPLE_COUNT_1_BIT</code> | <code class="code">VK_SAMPLE_COUNT_4_BIT</code>)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxSampleMaskWords</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>timestampComputeAndGraphics</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>implementation dependent</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>timestampPeriod</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>duration</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxClipDistances</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>8</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxCullDistances</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>8</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>maxCombinedClipAndCullDistances</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>8</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>discreteQueuePriorities</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>min</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>pointSizeRange</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(1.0,1.0)</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(1.0,64.0 - ULP)<sup>6</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(max,min)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>lineWidthRange</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(1.0,1.0)</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(1.0,8.0 - ULP)<sup>7</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>(max,min)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>pointSizeGranularity</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0.0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1.0 <sup>6</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>max, fixed point increment</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>lineWidthGranularity</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0.0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1.0 <sup>7</sup></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>max, fixed point increment</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>strictLines</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>implementation dependent</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>standardSampleLocations</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>implementation dependent</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>optimalBufferCopyOffsetAlignment</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>recommendation</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>optimalBufferCopyRowPitchAlignment</code></em></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>recommendation</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><em class="parameter"><code>nonCoherentAtomSize</code></em></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>-</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>256</p></td><td style="" align="left" valign="top"><p>max</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="variablelist"><dl class="variablelist"><dt><span class="term">
1
</span></dt><dd>
    The <span class="strong"><strong>Limit Type</strong></span> column indicates the limit is either the minimum limit
    all implementations <span class="normative">must</span> support or the maximum limit all
    implementations <span class="normative">must</span> support.
    For bitmasks a minimum limit is the least bits all implementations <span class="normative">must</span>
    set, but they <span class="normative">may</span> have additional bits set beyond this minimum.
</dd><dt><span class="term">
2
</span></dt><dd><p class="simpara">The <em class="parameter"><code>maxPerStageResources</code></em> <span class="normative">must</span> be at least the smallest of the
following:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
the sum of the <em class="parameter"><code>maxPerStageDescriptorUniformBuffers</code></em>,
    <em class="parameter"><code>maxPerStageDescriptorStorageBuffers</code></em>,
    <em class="parameter"><code>maxPerStageDescriptorSampledImages</code></em>,
    <em class="parameter"><code>maxPerStageDescriptorStorageImages</code></em>,
    <em class="parameter"><code>maxPerStageDescriptorInputAttachments</code></em>, <em class="parameter"><code>maxColorAttachments</code></em>
    limits, or
</li><li class="listitem">
128.
</li></ul></div><p class="simpara">It <span class="normative">may</span> not be possible to reach this limit in every stage.</p></dd><dt><span class="term">
3
</span></dt><dd>
    See
    <a class="link" href="#features-limits-maxViewportDimensions"><em class="parameter"><code>maxViewportDimensions</code></em></a>
    for the <span class="normative">required</span> relationship to other limits.
</dd><dt><span class="term">
4
</span></dt><dd>
    See <a class="link" href="#features-limits-viewportboundsrange"><em class="parameter"><code>viewportBoundsRange</code></em></a>
    for the <span class="normative">required</span> relationship to other limits.
</dd><dt><span class="term">
5
</span></dt><dd>
    The values <em class="parameter"><code>minInterpolationOffset</code></em> and <em class="parameter"><code>maxInterpolationOffset</code></em>
    describe the closed interval of supported interpolation offsets:
    [<em class="parameter"><code>minInterpolationOffset</code></em>, <em class="parameter"><code>maxInterpolationOffset</code></em>].
    The ULP is determined by <em class="parameter"><code>subPixelInterpolationOffsetBits</code></em>.
    If <em class="parameter"><code>subPixelInterpolationOffsetBits</code></em> is 4, this provides increments
    of (1/2<sup>4</sup>) = 0.0625, and thus the range of supported interpolation
    offsets would be [-0.5, 0.4375].
</dd><dt><span class="term">
6
</span></dt><dd>
    The point size ULP is determined by <em class="parameter"><code>pointSizeGranularity</code></em>.
    If the <em class="parameter"><code>pointSizeGranularity</code></em> is 0.125, the range of supported point
    sizes <span class="normative">must</span> be at least [1.0, 63.875].
</dd><dt><span class="term">
7
</span></dt><dd>
    The line width ULP is determined by <em class="parameter"><code>lineWidthGranularity</code></em>.
    If the <em class="parameter"><code>lineWidthGranularity</code></em> is 0.0625, the range of supported line
    widths <span class="normative">must</span> be at least [1.0, 7.9375].
</dd><dt><span class="term">
8
</span></dt><dd>
The <em class="parameter"><code>maxDescriptorSet*</code></em> limit is <span class="emphasis"><em>n</em></span> times the corresponding
    <em class="parameter"><code>maxPerStageDescriptor*</code></em> limit, where <span class="emphasis"><em>n</em></span> is the number of shader
    stages supported by the VkPhysicalDevice.
    If all shader stages are supported, <span class="emphasis"><em>n</em></span> = 6 (vertex, tessellation
    control, tessellation evaluation, geometry, fragment, compute).
</dd></dl></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="features-formats"></a>31.3. Formats</h2></div></div></div><p>The features for the set of formats (<code class="code"><a class="link" href="#VkFormat">VkFormat</a></code>) supported by the
implementation are queried individually using the
<code class="code"><a class="link" href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code> command.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="features-formats-definition"></a>31.3.1. Format Definition</h3></div></div></div><p>The available formats are defined by the <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> enumeration:</p><p><a id="VkFormat"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkFormat {
    VK_FORMAT_UNDEFINED = 0,
    VK_FORMAT_R4G4_UNORM_PACK8 = 1,
    VK_FORMAT_R4G4B4A4_UNORM_PACK16 = 2,
    VK_FORMAT_B4G4R4A4_UNORM_PACK16 = 3,
    VK_FORMAT_R5G6B5_UNORM_PACK16 = 4,
    VK_FORMAT_B5G6R5_UNORM_PACK16 = 5,
    VK_FORMAT_R5G5B5A1_UNORM_PACK16 = 6,
    VK_FORMAT_B5G5R5A1_UNORM_PACK16 = 7,
    VK_FORMAT_A1R5G5B5_UNORM_PACK16 = 8,
    VK_FORMAT_R8_UNORM = 9,
    VK_FORMAT_R8_SNORM = 10,
    VK_FORMAT_R8_USCALED = 11,
    VK_FORMAT_R8_SSCALED = 12,
    VK_FORMAT_R8_UINT = 13,
    VK_FORMAT_R8_SINT = 14,
    VK_FORMAT_R8_SRGB = 15,
    VK_FORMAT_R8G8_UNORM = 16,
    VK_FORMAT_R8G8_SNORM = 17,
    VK_FORMAT_R8G8_USCALED = 18,
    VK_FORMAT_R8G8_SSCALED = 19,
    VK_FORMAT_R8G8_UINT = 20,
    VK_FORMAT_R8G8_SINT = 21,
    VK_FORMAT_R8G8_SRGB = 22,
    VK_FORMAT_R8G8B8_UNORM = 23,
    VK_FORMAT_R8G8B8_SNORM = 24,
    VK_FORMAT_R8G8B8_USCALED = 25,
    VK_FORMAT_R8G8B8_SSCALED = 26,
    VK_FORMAT_R8G8B8_UINT = 27,
    VK_FORMAT_R8G8B8_SINT = 28,
    VK_FORMAT_R8G8B8_SRGB = 29,
    VK_FORMAT_B8G8R8_UNORM = 30,
    VK_FORMAT_B8G8R8_SNORM = 31,
    VK_FORMAT_B8G8R8_USCALED = 32,
    VK_FORMAT_B8G8R8_SSCALED = 33,
    VK_FORMAT_B8G8R8_UINT = 34,
    VK_FORMAT_B8G8R8_SINT = 35,
    VK_FORMAT_B8G8R8_SRGB = 36,
    VK_FORMAT_R8G8B8A8_UNORM = 37,
    VK_FORMAT_R8G8B8A8_SNORM = 38,
    VK_FORMAT_R8G8B8A8_USCALED = 39,
    VK_FORMAT_R8G8B8A8_SSCALED = 40,
    VK_FORMAT_R8G8B8A8_UINT = 41,
    VK_FORMAT_R8G8B8A8_SINT = 42,
    VK_FORMAT_R8G8B8A8_SRGB = 43,
    VK_FORMAT_B8G8R8A8_UNORM = 44,
    VK_FORMAT_B8G8R8A8_SNORM = 45,
    VK_FORMAT_B8G8R8A8_USCALED = 46,
    VK_FORMAT_B8G8R8A8_SSCALED = 47,
    VK_FORMAT_B8G8R8A8_UINT = 48,
    VK_FORMAT_B8G8R8A8_SINT = 49,
    VK_FORMAT_B8G8R8A8_SRGB = 50,
    VK_FORMAT_A8B8G8R8_UNORM_PACK32 = 51,
    VK_FORMAT_A8B8G8R8_SNORM_PACK32 = 52,
    VK_FORMAT_A8B8G8R8_USCALED_PACK32 = 53,
    VK_FORMAT_A8B8G8R8_SSCALED_PACK32 = 54,
    VK_FORMAT_A8B8G8R8_UINT_PACK32 = 55,
    VK_FORMAT_A8B8G8R8_SINT_PACK32 = 56,
    VK_FORMAT_A8B8G8R8_SRGB_PACK32 = 57,
    VK_FORMAT_A2R10G10B10_UNORM_PACK32 = 58,
    VK_FORMAT_A2R10G10B10_SNORM_PACK32 = 59,
    VK_FORMAT_A2R10G10B10_USCALED_PACK32 = 60,
    VK_FORMAT_A2R10G10B10_SSCALED_PACK32 = 61,
    VK_FORMAT_A2R10G10B10_UINT_PACK32 = 62,
    VK_FORMAT_A2R10G10B10_SINT_PACK32 = 63,
    VK_FORMAT_A2B10G10R10_UNORM_PACK32 = 64,
    VK_FORMAT_A2B10G10R10_SNORM_PACK32 = 65,
    VK_FORMAT_A2B10G10R10_USCALED_PACK32 = 66,
    VK_FORMAT_A2B10G10R10_SSCALED_PACK32 = 67,
    VK_FORMAT_A2B10G10R10_UINT_PACK32 = 68,
    VK_FORMAT_A2B10G10R10_SINT_PACK32 = 69,
    VK_FORMAT_R16_UNORM = 70,
    VK_FORMAT_R16_SNORM = 71,
    VK_FORMAT_R16_USCALED = 72,
    VK_FORMAT_R16_SSCALED = 73,
    VK_FORMAT_R16_UINT = 74,
    VK_FORMAT_R16_SINT = 75,
    VK_FORMAT_R16_SFLOAT = 76,
    VK_FORMAT_R16G16_UNORM = 77,
    VK_FORMAT_R16G16_SNORM = 78,
    VK_FORMAT_R16G16_USCALED = 79,
    VK_FORMAT_R16G16_SSCALED = 80,
    VK_FORMAT_R16G16_UINT = 81,
    VK_FORMAT_R16G16_SINT = 82,
    VK_FORMAT_R16G16_SFLOAT = 83,
    VK_FORMAT_R16G16B16_UNORM = 84,
    VK_FORMAT_R16G16B16_SNORM = 85,
    VK_FORMAT_R16G16B16_USCALED = 86,
    VK_FORMAT_R16G16B16_SSCALED = 87,
    VK_FORMAT_R16G16B16_UINT = 88,
    VK_FORMAT_R16G16B16_SINT = 89,
    VK_FORMAT_R16G16B16_SFLOAT = 90,
    VK_FORMAT_R16G16B16A16_UNORM = 91,
    VK_FORMAT_R16G16B16A16_SNORM = 92,
    VK_FORMAT_R16G16B16A16_USCALED = 93,
    VK_FORMAT_R16G16B16A16_SSCALED = 94,
    VK_FORMAT_R16G16B16A16_UINT = 95,
    VK_FORMAT_R16G16B16A16_SINT = 96,
    VK_FORMAT_R16G16B16A16_SFLOAT = 97,
    VK_FORMAT_R32_UINT = 98,
    VK_FORMAT_R32_SINT = 99,
    VK_FORMAT_R32_SFLOAT = 100,
    VK_FORMAT_R32G32_UINT = 101,
    VK_FORMAT_R32G32_SINT = 102,
    VK_FORMAT_R32G32_SFLOAT = 103,
    VK_FORMAT_R32G32B32_UINT = 104,
    VK_FORMAT_R32G32B32_SINT = 105,
    VK_FORMAT_R32G32B32_SFLOAT = 106,
    VK_FORMAT_R32G32B32A32_UINT = 107,
    VK_FORMAT_R32G32B32A32_SINT = 108,
    VK_FORMAT_R32G32B32A32_SFLOAT = 109,
    VK_FORMAT_R64_UINT = 110,
    VK_FORMAT_R64_SINT = 111,
    VK_FORMAT_R64_SFLOAT = 112,
    VK_FORMAT_R64G64_UINT = 113,
    VK_FORMAT_R64G64_SINT = 114,
    VK_FORMAT_R64G64_SFLOAT = 115,
    VK_FORMAT_R64G64B64_UINT = 116,
    VK_FORMAT_R64G64B64_SINT = 117,
    VK_FORMAT_R64G64B64_SFLOAT = 118,
    VK_FORMAT_R64G64B64A64_UINT = 119,
    VK_FORMAT_R64G64B64A64_SINT = 120,
    VK_FORMAT_R64G64B64A64_SFLOAT = 121,
    VK_FORMAT_B10G11R11_UFLOAT_PACK32 = 122,
    VK_FORMAT_E5B9G9R9_UFLOAT_PACK32 = 123,
    VK_FORMAT_D16_UNORM = 124,
    VK_FORMAT_X8_D24_UNORM_PACK32 = 125,
    VK_FORMAT_D32_SFLOAT = 126,
    VK_FORMAT_S8_UINT = 127,
    VK_FORMAT_D16_UNORM_S8_UINT = 128,
    VK_FORMAT_D24_UNORM_S8_UINT = 129,
    VK_FORMAT_D32_SFLOAT_S8_UINT = 130,
    VK_FORMAT_BC1_RGB_UNORM_BLOCK = 131,
    VK_FORMAT_BC1_RGB_SRGB_BLOCK = 132,
    VK_FORMAT_BC1_RGBA_UNORM_BLOCK = 133,
    VK_FORMAT_BC1_RGBA_SRGB_BLOCK = 134,
    VK_FORMAT_BC2_UNORM_BLOCK = 135,
    VK_FORMAT_BC2_SRGB_BLOCK = 136,
    VK_FORMAT_BC3_UNORM_BLOCK = 137,
    VK_FORMAT_BC3_SRGB_BLOCK = 138,
    VK_FORMAT_BC4_UNORM_BLOCK = 139,
    VK_FORMAT_BC4_SNORM_BLOCK = 140,
    VK_FORMAT_BC5_UNORM_BLOCK = 141,
    VK_FORMAT_BC5_SNORM_BLOCK = 142,
    VK_FORMAT_BC6H_UFLOAT_BLOCK = 143,
    VK_FORMAT_BC6H_SFLOAT_BLOCK = 144,
    VK_FORMAT_BC7_UNORM_BLOCK = 145,
    VK_FORMAT_BC7_SRGB_BLOCK = 146,
    VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK = 147,
    VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK = 148,
    VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK = 149,
    VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK = 150,
    VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK = 151,
    VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK = 152,
    VK_FORMAT_EAC_R11_UNORM_BLOCK = 153,
    VK_FORMAT_EAC_R11_SNORM_BLOCK = 154,
    VK_FORMAT_EAC_R11G11_UNORM_BLOCK = 155,
    VK_FORMAT_EAC_R11G11_SNORM_BLOCK = 156,
    VK_FORMAT_ASTC_4x4_UNORM_BLOCK = 157,
    VK_FORMAT_ASTC_4x4_SRGB_BLOCK = 158,
    VK_FORMAT_ASTC_5x4_UNORM_BLOCK = 159,
    VK_FORMAT_ASTC_5x4_SRGB_BLOCK = 160,
    VK_FORMAT_ASTC_5x5_UNORM_BLOCK = 161,
    VK_FORMAT_ASTC_5x5_SRGB_BLOCK = 162,
    VK_FORMAT_ASTC_6x5_UNORM_BLOCK = 163,
    VK_FORMAT_ASTC_6x5_SRGB_BLOCK = 164,
    VK_FORMAT_ASTC_6x6_UNORM_BLOCK = 165,
    VK_FORMAT_ASTC_6x6_SRGB_BLOCK = 166,
    VK_FORMAT_ASTC_8x5_UNORM_BLOCK = 167,
    VK_FORMAT_ASTC_8x5_SRGB_BLOCK = 168,
    VK_FORMAT_ASTC_8x6_UNORM_BLOCK = 169,
    VK_FORMAT_ASTC_8x6_SRGB_BLOCK = 170,
    VK_FORMAT_ASTC_8x8_UNORM_BLOCK = 171,
    VK_FORMAT_ASTC_8x8_SRGB_BLOCK = 172,
    VK_FORMAT_ASTC_10x5_UNORM_BLOCK = 173,
    VK_FORMAT_ASTC_10x5_SRGB_BLOCK = 174,
    VK_FORMAT_ASTC_10x6_UNORM_BLOCK = 175,
    VK_FORMAT_ASTC_10x6_SRGB_BLOCK = 176,
    VK_FORMAT_ASTC_10x8_UNORM_BLOCK = 177,
    VK_FORMAT_ASTC_10x8_SRGB_BLOCK = 178,
    VK_FORMAT_ASTC_10x10_UNORM_BLOCK = 179,
    VK_FORMAT_ASTC_10x10_SRGB_BLOCK = 180,
    VK_FORMAT_ASTC_12x10_UNORM_BLOCK = 181,
    VK_FORMAT_ASTC_12x10_SRGB_BLOCK = 182,
    VK_FORMAT_ASTC_12x12_UNORM_BLOCK = 183,
    VK_FORMAT_ASTC_12x12_SRGB_BLOCK = 184,
} VkFormat;</pre><p>
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="code">VK_FORMAT_UNDEFINED</code>
</span></dt><dd>
    The format is not specified.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R4G4_UNORM_PACK8</code>
</span></dt><dd>
    A two-component, 8-bit packed unsigned normalized format that has a
    4-bit R component in bits 4..7, and a 4-bit G component in bits 0..3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R4G4B4A4_UNORM_PACK16</code>
</span></dt><dd>
    A four-component, 16-bit packed unsigned normalized format that has a
    4-bit R component in bits 12..15, a 4-bit G component in bits 8..11, a
    4-bit B component in bits 4..7, and a 4-bit A component in bits 0..3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B4G4R4A4_UNORM_PACK16</code>
</span></dt><dd>
    A four-component, 16-bit packed unsigned normalized format that has a
    4-bit B component in bits 12..15, a 4-bit G component in bits 8..11, a
    4-bit R component in bits 4..7, and a 4-bit A component in bits 0..3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R5G6B5_UNORM_PACK16</code>
</span></dt><dd>
    A three-component, 16-bit packed unsigned normalized format that has a
    5-bit R component in bits 11..15, a 6-bit G component in bits 5..10, and
    a 5-bit B component in bits 0..4.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B5G6R5_UNORM_PACK16</code>
</span></dt><dd>
    A three-component, 16-bit packed unsigned normalized format that has a
    5-bit B component in bits 11..15, a 6-bit G component in bits 5..10, and
    a 5-bit R component in bits 0..4.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R5G5B5A1_UNORM_PACK16</code>
</span></dt><dd>
    A four-component, 16-bit packed unsigned normalized format that has a
    5-bit R component in bits 11..15, a 5-bit G component in bits 6..10, a
    5-bit B component in bits 1..5, and a 1-bit A component in bit 0.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B5G5R5A1_UNORM_PACK16</code>
</span></dt><dd>
    A four-component, 16-bit packed unsigned normalized format that has a
    5-bit B component in bits 11..15, a 5-bit G component in bits 6..10, a
    5-bit R component in bits 1..5, and a 1-bit A component in bit 0.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A1R5G5B5_UNORM_PACK16</code>
</span></dt><dd>
    A four-component, 16-bit packed unsigned normalized format that has a
    1-bit A component in bit 15, a 5-bit R component in bits 10..14, a 5-bit
    G component in bits 5..9, and a 5-bit B component in bits 0..4.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8_UNORM</code>
</span></dt><dd>
    A one-component, 8-bit unsigned normalized format that has a single
    8-bit R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8_SNORM</code>
</span></dt><dd>
    A one-component, 8-bit signed normalized format that has a single 8-bit
    R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8_USCALED</code>
</span></dt><dd>
    A one-component, 8-bit unsigned scaled integer format that has a single
    8-bit R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8_SSCALED</code>
</span></dt><dd>
    A one-component, 8-bit signed scaled integer format that has a single
    8-bit R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8_UINT</code>
</span></dt><dd>
    A one-component, 8-bit unsigned integer format that has a single 8-bit R
    component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8_SINT</code>
</span></dt><dd>
    A one-component, 8-bit signed integer format that has a single 8-bit R
    component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8_SRGB</code>
</span></dt><dd>
    A one-component, 8-bit unsigned normalized format that has a single
    8-bit R component stored with sRGB nonlinear encoding.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8_UNORM</code>
</span></dt><dd>
    A two-component, 16-bit unsigned normalized format that has an 8-bit R
    component in byte 0, and an 8-bit G component in byte 1.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8_SNORM</code>
</span></dt><dd>
    A two-component, 16-bit signed normalized format that has an 8-bit R
    component in byte 0, and an 8-bit G component in byte 1.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8_USCALED</code>
</span></dt><dd>
    A two-component, 16-bit unsigned scaled integer format that has an 8-bit
    R component in byte 0, and an 8-bit G component in byte 1.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8_SSCALED</code>
</span></dt><dd>
    A two-component, 16-bit signed scaled integer format that has an 8-bit R
    component in byte 0, and an 8-bit G component in byte 1.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8_UINT</code>
</span></dt><dd>
    A two-component, 16-bit unsigned integer format that has an 8-bit R
    component in byte 0, and an 8-bit G component in byte 1.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8_SINT</code>
</span></dt><dd>
    A two-component, 16-bit signed integer format that has an 8-bit R
    component in byte 0, and an 8-bit G component in byte 1.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8_SRGB</code>
</span></dt><dd>
    A two-component, 16-bit unsigned normalized format that has an 8-bit R
    component stored with sRGB nonlinear encoding in byte 0, and an 8-bit G
    component stored with sRGB nonlinear encoding in byte 1.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8_UNORM</code>
</span></dt><dd>
    A three-component, 24-bit unsigned normalized format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit B
    component in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8_SNORM</code>
</span></dt><dd>
    A three-component, 24-bit signed normalized format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit B
    component in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8_USCALED</code>
</span></dt><dd>
    A three-component, 24-bit unsigned scaled format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit B
    component in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8_SSCALED</code>
</span></dt><dd>
    A three-component, 24-bit signed scaled format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit B
    component in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8_UINT</code>
</span></dt><dd>
    A three-component, 24-bit unsigned integer format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit B
    component in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8_SINT</code>
</span></dt><dd>
    A three-component, 24-bit signed integer format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit B
    component in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8_SRGB</code>
</span></dt><dd>
    A three-component, 24-bit unsigned normalized format that has an 8-bit R
    component stored with sRGB nonlinear encoding in byte 0, an 8-bit G
    component stored with sRGB nonlinear encoding in byte 1, and an 8-bit B
    component stored with sRGB nonlinear encoding in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8_UNORM</code>
</span></dt><dd>
    A three-component, 24-bit unsigned normalized format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit R
    component in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8_SNORM</code>
</span></dt><dd>
    A three-component, 24-bit signed normalized format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit R
    component in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8_USCALED</code>
</span></dt><dd>
    A three-component, 24-bit unsigned scaled format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit R
    component in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8_SSCALED</code>
</span></dt><dd>
    A three-component, 24-bit signed scaled format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit R
    component in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8_UINT</code>
</span></dt><dd>
    A three-component, 24-bit unsigned integer format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit R
    component in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8_SINT</code>
</span></dt><dd>
    A three-component, 24-bit signed integer format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, and an 8-bit R
    component in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8_SRGB</code>
</span></dt><dd>
    A three-component, 24-bit unsigned normalized format that has an 8-bit B
    component stored with sRGB nonlinear encoding in byte 0, an 8-bit G
    component stored with sRGB nonlinear encoding in byte 1, and an 8-bit R
    component stored with sRGB nonlinear encoding in byte 2.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8A8_UNORM</code>
</span></dt><dd>
    A four-component, 32-bit unsigned normalized format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, an 8-bit B
    component in byte 2, and an 8-bit A component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8A8_SNORM</code>
</span></dt><dd>
    A four-component, 32-bit signed normalized format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, an 8-bit B
    component in byte 2, and an 8-bit A component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8A8_USCALED</code>
</span></dt><dd>
    A four-component, 32-bit unsigned scaled format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, an 8-bit B
    component in byte 2, and an 8-bit A component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8A8_SSCALED</code>
</span></dt><dd>
    A four-component, 32-bit signed scaled format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, an 8-bit B
    component in byte 2, and an 8-bit A component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8A8_UINT</code>
</span></dt><dd>
    A four-component, 32-bit unsigned integer format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, an 8-bit B
    component in byte 2, and an 8-bit A component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8A8_SINT</code>
</span></dt><dd>
    A four-component, 32-bit signed integer format that has an 8-bit R
    component in byte 0, an 8-bit G component in byte 1, an 8-bit B
    component in byte 2, and an 8-bit A component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R8G8B8A8_SRGB</code>
</span></dt><dd>
    A four-component, 32-bit unsigned normalized format that has an 8-bit R
    component stored with sRGB nonlinear encoding in byte 0, an 8-bit G
    component stored with sRGB nonlinear encoding in byte 1, an 8-bit B
    component stored with sRGB nonlinear encoding in byte 2, and an 8-bit A
    component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8A8_UNORM</code>
</span></dt><dd>
    A four-component, 32-bit unsigned normalized format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, an 8-bit R
    component in byte 2, and an 8-bit A component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8A8_SNORM</code>
</span></dt><dd>
    A four-component, 32-bit signed normalized format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, an 8-bit R
    component in byte 2, and an 8-bit A component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8A8_USCALED</code>
</span></dt><dd>
    A four-component, 32-bit unsigned scaled format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, an 8-bit R
    component in byte 2, and an 8-bit A component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8A8_SSCALED</code>
</span></dt><dd>
    A four-component, 32-bit signed scaled format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, an 8-bit R
    component in byte 2, and an 8-bit A component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8A8_UINT</code>
</span></dt><dd>
    A four-component, 32-bit unsigned integer format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, an 8-bit R
    component in byte 2, and an 8-bit A component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8A8_SINT</code>
</span></dt><dd>
    A four-component, 32-bit signed integer format that has an 8-bit B
    component in byte 0, an 8-bit G component in byte 1, an 8-bit R
    component in byte 2, and an 8-bit A component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B8G8R8A8_SRGB</code>
</span></dt><dd>
    A four-component, 32-bit unsigned normalized format that has an 8-bit B
    component stored with sRGB nonlinear encoding in byte 0, an 8-bit G
    component stored with sRGB nonlinear encoding in byte 1, an 8-bit R
    component stored with sRGB nonlinear encoding in byte 2, and an 8-bit A
    component in byte 3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A8B8G8R8_UNORM_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed unsigned normalized format that has an
    8-bit A component in bits 24..31, an 8-bit B component in bits 16..23,
    an 8-bit G component in bits 8..15, and an 8-bit R component in bits
    0..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A8B8G8R8_SNORM_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed signed normalized format that has an
    8-bit A component in bits 24..31, an 8-bit B component in bits 16..23,
    an 8-bit G component in bits 8..15, and an 8-bit R component in bits
    0..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A8B8G8R8_USCALED_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed unsigned scaled integer format that has
    an 8-bit A component in bits 24..31, an 8-bit B component in bits
    16..23, an 8-bit G component in bits 8..15, and an 8-bit R component in
    bits 0..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A8B8G8R8_SSCALED_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed signed scaled integer format that has an
    8-bit A component in bits 24..31, an 8-bit B component in bits 16..23,
    an 8-bit G component in bits 8..15, and an 8-bit R component in bits
    0..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A8B8G8R8_UINT_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed unsigned integer format that has an
    8-bit A component in bits 24..31, an 8-bit B component in bits 16..23,
    an 8-bit G component in bits 8..15, and an 8-bit R component in bits
    0..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A8B8G8R8_SINT_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed signed integer format that has an 8-bit
    A component in bits 24..31, an 8-bit B component in bits 16..23, an
    8-bit G component in bits 8..15, and an 8-bit R component in bits 0..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A8B8G8R8_SRGB_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed unsigned normalized format that has an
    8-bit A component in bits 24..31, an 8-bit B component stored with sRGB
    nonlinear encoding in bits 16..23, an 8-bit G component stored with sRGB
    nonlinear encoding in bits 8..15, and an 8-bit R component stored with
    sRGB nonlinear encoding in bits 0..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A2R10G10B10_UNORM_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed unsigned normalized format that has a
    2-bit A component in bits 30..31, a 10-bit R component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit B component in bits
    0..9.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A2R10G10B10_SNORM_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed signed normalized format that has a
    2-bit A component in bits 30..31, a 10-bit R component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit B component in bits
    0..9.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A2R10G10B10_USCALED_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed unsigned scaled integer format that has
    a 2-bit A component in bits 30..31, a 10-bit R component in bits 20..29,
    a 10-bit G component in bits 10..19, and a 10-bit B component in bits
    0..9.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A2R10G10B10_SSCALED_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed signed scaled integer format that has a
    2-bit A component in bits 30..31, a 10-bit R component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit B component in bits
    0..9.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A2R10G10B10_UINT_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed unsigned integer format that has a 2-bit
    A component in bits 30..31, a 10-bit R component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit B component in bits
    0..9.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A2R10G10B10_SINT_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed signed integer format that has a 2-bit A
    component in bits 30..31, a 10-bit R component in bits 20..29, a 10-bit
    G component in bits 10..19, and a 10-bit B component in bits 0..9.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A2B10G10R10_UNORM_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed unsigned normalized format that has a
    2-bit A component in bits 30..31, a 10-bit B component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit R component in bits
    0..9.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A2B10G10R10_SNORM_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed signed normalized format that has a
    2-bit A component in bits 30..31, a 10-bit B component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit R component in bits
    0..9.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A2B10G10R10_USCALED_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed unsigned scaled integer format that has
    a 2-bit A component in bits 30..31, a 10-bit B component in bits 20..29,
    a 10-bit G component in bits 10..19, and a 10-bit R component in bits
    0..9.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A2B10G10R10_SSCALED_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed signed scaled integer format that has a
    2-bit A component in bits 30..31, a 10-bit B component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit R component in bits
    0..9.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A2B10G10R10_UINT_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed unsigned integer format that has a 2-bit
    A component in bits 30..31, a 10-bit B component in bits 20..29, a
    10-bit G component in bits 10..19, and a 10-bit R component in bits
    0..9.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_A2B10G10R10_SINT_PACK32</code>
</span></dt><dd>
    A four-component, 32-bit packed signed integer format that has a 2-bit A
    component in bits 30..31, a 10-bit B component in bits 20..29, a 10-bit
    G component in bits 10..19, and a 10-bit R component in bits 0..9.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16_UNORM</code>
</span></dt><dd>
    A one-component, 16-bit unsigned normalized format that has a single
    16-bit R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16_SNORM</code>
</span></dt><dd>
    A one-component, 16-bit signed normalized format that has a single
    16-bit R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16_USCALED</code>
</span></dt><dd>
    A one-component, 16-bit unsigned scaled integer format that has a single
    16-bit R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16_SSCALED</code>
</span></dt><dd>
    A one-component, 16-bit signed scaled integer format that has a single
    16-bit R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16_UINT</code>
</span></dt><dd>
    A one-component, 16-bit unsigned integer format that has a single 16-bit
    R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16_SINT</code>
</span></dt><dd>
    A one-component, 16-bit signed integer format that has a single 16-bit R
    component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16_SFLOAT</code>
</span></dt><dd>
    A one-component, 16-bit signed floating-point format that has a single
    16-bit R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16_UNORM</code>
</span></dt><dd>
    A two-component, 32-bit unsigned normalized format that has a 16-bit R
    component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16_SNORM</code>
</span></dt><dd>
    A two-component, 32-bit signed normalized format that has a 16-bit R
    component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16_USCALED</code>
</span></dt><dd>
    A two-component, 32-bit unsigned scaled integer format that has a 16-bit
    R component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16_SSCALED</code>
</span></dt><dd>
    A two-component, 32-bit signed scaled integer format that has a 16-bit R
    component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16_UINT</code>
</span></dt><dd>
    A two-component, 32-bit unsigned integer format that has a 16-bit R
    component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16_SINT</code>
</span></dt><dd>
    A two-component, 32-bit signed integer format that has a 16-bit R
    component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16_SFLOAT</code>
</span></dt><dd>
    A two-component, 32-bit signed floating-point format that has a 16-bit R
    component in bytes 0..1, and a 16-bit G component in bytes 2..3.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16_UNORM</code>
</span></dt><dd>
    A three-component, 48-bit unsigned normalized format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, and a
    16-bit B component in bytes 4..5.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16_SNORM</code>
</span></dt><dd>
    A three-component, 48-bit signed normalized format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, and a
    16-bit B component in bytes 4..5.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16_USCALED</code>
</span></dt><dd>
    A three-component, 48-bit unsigned scaled integer format that has a
    16-bit R component in bytes 0..1, a 16-bit G component in bytes 2..3,
    and a 16-bit B component in bytes 4..5.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16_SSCALED</code>
</span></dt><dd>
    A three-component, 48-bit signed scaled integer format that has a 16-bit
    R component in bytes 0..1, a 16-bit G component in bytes 2..3, and a
    16-bit B component in bytes 4..5.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16_UINT</code>
</span></dt><dd>
    A three-component, 48-bit unsigned integer format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, and a
    16-bit B component in bytes 4..5.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16_SINT</code>
</span></dt><dd>
    A three-component, 48-bit signed integer format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, and a
    16-bit B component in bytes 4..5.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16_SFLOAT</code>
</span></dt><dd>
    A three-component, 48-bit signed floating-point format that has a 16-bit
    R component in bytes 0..1, a 16-bit G component in bytes 2..3, and a
    16-bit B component in bytes 4..5.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16A16_UNORM</code>
</span></dt><dd>
    A four-component, 64-bit unsigned normalized format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, a 16-bit B
    component in bytes 4..5, and a 16-bit A component in bytes 6..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16A16_SNORM</code>
</span></dt><dd>
    A four-component, 64-bit signed normalized format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, a 16-bit B
    component in bytes 4..5, and a 16-bit A component in bytes 6..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16A16_USCALED</code>
</span></dt><dd>
    A four-component, 64-bit unsigned scaled integer format that has a
    16-bit R component in bytes 0..1, a 16-bit G component in bytes 2..3, a
    16-bit B component in bytes 4..5, and a 16-bit A component in bytes
    6..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16A16_SSCALED</code>
</span></dt><dd>
    A four-component, 64-bit signed scaled integer format that has a 16-bit
    R component in bytes 0..1, a 16-bit G component in bytes 2..3, a 16-bit
    B component in bytes 4..5, and a 16-bit A component in bytes 6..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16A16_UINT</code>
</span></dt><dd>
    A four-component, 64-bit unsigned integer format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, a 16-bit B
    component in bytes 4..5, and a 16-bit A component in bytes 6..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16A16_SINT</code>
</span></dt><dd>
    A four-component, 64-bit signed integer format that has a 16-bit R
    component in bytes 0..1, a 16-bit G component in bytes 2..3, a 16-bit B
    component in bytes 4..5, and a 16-bit A component in bytes 6..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R16G16B16A16_SFLOAT</code>
</span></dt><dd>
    A four-component, 64-bit signed floating-point format that has a 16-bit
    R component in bytes 0..1, a 16-bit G component in bytes 2..3, a 16-bit
    B component in bytes 4..5, and a 16-bit A component in bytes 6..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R32_UINT</code>
</span></dt><dd>
    A one-component, 32-bit unsigned integer format that has a single 32-bit
    R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R32_SINT</code>
</span></dt><dd>
    A one-component, 32-bit signed integer format that has a single 32-bit R
    component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R32_SFLOAT</code>
</span></dt><dd>
    A one-component, 32-bit signed floating-point format that has a single
    32-bit R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R32G32_UINT</code>
</span></dt><dd>
    A two-component, 64-bit unsigned integer format that has a 32-bit R
    component in bytes 0..3, and a 32-bit G component in bytes 4..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R32G32_SINT</code>
</span></dt><dd>
    A two-component, 64-bit signed integer format that has a 32-bit R
    component in bytes 0..3, and a 32-bit G component in bytes 4..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R32G32_SFLOAT</code>
</span></dt><dd>
    A two-component, 64-bit signed floating-point format that has a 32-bit R
    component in bytes 0..3, and a 32-bit G component in bytes 4..7.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R32G32B32_UINT</code>
</span></dt><dd>
    A three-component, 96-bit unsigned integer format that has a 32-bit R
    component in bytes 0..3, a 32-bit G component in bytes 4..7, and a
    32-bit B component in bytes 8..11.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R32G32B32_SINT</code>
</span></dt><dd>
    A three-component, 96-bit signed integer format that has a 32-bit R
    component in bytes 0..3, a 32-bit G component in bytes 4..7, and a
    32-bit B component in bytes 8..11.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R32G32B32_SFLOAT</code>
</span></dt><dd>
    A three-component, 96-bit signed floating-point format that has a 32-bit
    R component in bytes 0..3, a 32-bit G component in bytes 4..7, and a
    32-bit B component in bytes 8..11.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R32G32B32A32_UINT</code>
</span></dt><dd>
    A four-component, 128-bit unsigned integer format that has a 32-bit R
    component in bytes 0..3, a 32-bit G component in bytes 4..7, a 32-bit B
    component in bytes 8..11, and a 32-bit A component in bytes 12..15.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R32G32B32A32_SINT</code>
</span></dt><dd>
    A four-component, 128-bit signed integer format that has a 32-bit R
    component in bytes 0..3, a 32-bit G component in bytes 4..7, a 32-bit B
    component in bytes 8..11, and a 32-bit A component in bytes 12..15.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R32G32B32A32_SFLOAT</code>
</span></dt><dd>
    A four-component, 128-bit signed floating-point format that has a 32-bit
    R component in bytes 0..3, a 32-bit G component in bytes 4..7, a 32-bit
    B component in bytes 8..11, and a 32-bit A component in bytes 12..15.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R64_UINT</code>
</span></dt><dd>
    A one-component, 64-bit unsigned integer format that has a single 64-bit
    R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R64_SINT</code>
</span></dt><dd>
    A one-component, 64-bit signed integer format that has a single 64-bit R
    component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R64_SFLOAT</code>
</span></dt><dd>
    A one-component, 64-bit signed floating-point format that has a single
    64-bit R component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R64G64_UINT</code>
</span></dt><dd>
    A two-component, 128-bit unsigned integer format that has a 64-bit R
    component in bytes 0..7, and a 64-bit G component in bytes 8..15.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R64G64_SINT</code>
</span></dt><dd>
    A two-component, 128-bit signed integer format that has a 64-bit R
    component in bytes 0..7, and a 64-bit G component in bytes 8..15.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R64G64_SFLOAT</code>
</span></dt><dd>
    A two-component, 128-bit signed floating-point format that has a 64-bit
    R component in bytes 0..7, and a 64-bit G component in bytes 8..15.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R64G64B64_UINT</code>
</span></dt><dd>
    A three-component, 192-bit unsigned integer format that has a 64-bit R
    component in bytes 0..7, a 64-bit G component in bytes 8..15, and a
    64-bit B component in bytes 16..23.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R64G64B64_SINT</code>
</span></dt><dd>
    A three-component, 192-bit signed integer format that has a 64-bit R
    component in bytes 0..7, a 64-bit G component in bytes 8..15, and a
    64-bit B component in bytes 16..23.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R64G64B64_SFLOAT</code>
</span></dt><dd>
    A three-component, 192-bit signed floating-point format that has a
    64-bit R component in bytes 0..7, a 64-bit G component in bytes 8..15,
    and a 64-bit B component in bytes 16..23.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R64G64B64A64_UINT</code>
</span></dt><dd>
    A four-component, 256-bit unsigned integer format that has a 64-bit R
    component in bytes 0..7, a 64-bit G component in bytes 8..15, a 64-bit B
    component in bytes 16..23, and a 64-bit A component in bytes 24..31.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R64G64B64A64_SINT</code>
</span></dt><dd>
    A four-component, 256-bit signed integer format that has a 64-bit R
    component in bytes 0..7, a 64-bit G component in bytes 8..15, a 64-bit B
    component in bytes 16..23, and a 64-bit A component in bytes 24..31.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_R64G64B64A64_SFLOAT</code>
</span></dt><dd>
    A four-component, 256-bit signed floating-point format that has a 64-bit
    R component in bytes 0..7, a 64-bit G component in bytes 8..15, a 64-bit
    B component in bytes 16..23, and a 64-bit A component in bytes 24..31.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_B10G11R11_UFLOAT_PACK32</code>
</span></dt><dd>
    A three-component, 32-bit packed unsigned floating-point format that has
    a 10-bit B component in bits 22..31, an 11-bit G component in bits
    11..21, an 11-bit R component in bits 0..10.
    See <a class="xref" href="#fundamentals-fp10" title="2.7.4. Unsigned 10-Bit Floating-Point Numbers">Section 2.7.4, “Unsigned 10-Bit Floating-Point Numbers”</a> and <a class="xref" href="#fundamentals-fp11" title="2.7.3. Unsigned 11-Bit Floating-Point Numbers">Section 2.7.3, “Unsigned 11-Bit Floating-Point Numbers”</a>.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code>
</span></dt><dd>
    A three-component, 32-bit packed unsigned floating-point format that has
    a 5-bit shared exponent in bits 27..31, a 9-bit B component mantissa in
    bits 18..26, a 9-bit G component mantissa in bits 9..17, and a 9-bit R
    component mantissa in bits 0..8.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_D16_UNORM</code>
</span></dt><dd>
    A one-component, 16-bit unsigned normalized format that has a single
    16-bit depth component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_X8_D24_UNORM_PACK32</code>
</span></dt><dd>
    A two-component, 32-bit format that has 24 unsigned normalized bits in
    the depth component and, <span class="normative">optionally</span>, 8 bits that are unused.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_D32_SFLOAT</code>
</span></dt><dd>
    A one-component, 32-bit signed floating-point format that has 32-bits in
    the depth component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_S8_UINT</code>
</span></dt><dd>
    A one-component, 8-bit unsigned integer format that has 8-bits in the
    stencil component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_D16_UNORM_S8_UINT</code>
</span></dt><dd>
    A two-component, 24-bit format that has 16 unsigned normalized bits in
    the depth component and 8 unsigned integer bits in the stencil
    component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_D24_UNORM_S8_UINT</code>
</span></dt><dd>
    A two-component, 32-bit packed format that has 8 unsigned integer bits
    in the stencil component, and 24 unsigned normalized bits in the depth
    component.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_D32_SFLOAT_S8_UINT</code>
</span></dt><dd>
    A two-component format that has 32 signed float bits in the depth
    component and 8 unsigned integer bits in the stencil component.
    There are <span class="normative">optionally</span> 24-bits that are unused.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC1_RGB_UNORM_BLOCK</code>
</span></dt><dd>
    A three-component, block-compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data.
    This format has no alpha and is considered opaque.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC1_RGB_SRGB_BLOCK</code>
</span></dt><dd>
    A three-component, block-compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data with sRGB nonlinear encoding.
    This format has no alpha and is considered opaque.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, block-compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data, and provides 1 bit of alpha.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, block-compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data with sRGB nonlinear encoding, and provides 1 bit of alpha.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC2_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with the first 64 bits encoding alpha values followed by 64 bits
    encoding RGB values.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC2_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with the first 64 bits encoding alpha values followed by 64 bits
    encoding RGB values with sRGB nonlinear encoding.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC3_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with the first 64 bits encoding alpha values followed by 64 bits
    encoding RGB values.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC3_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with the first 64 bits encoding alpha values followed by 64 bits
    encoding RGB values with sRGB nonlinear encoding.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC4_UNORM_BLOCK</code>
</span></dt><dd>
    A one-component, block-compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized red texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC4_SNORM_BLOCK</code>
</span></dt><dd>
    A one-component, block-compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of signed normalized red texel data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC5_UNORM_BLOCK</code>
</span></dt><dd>
    A two-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RG texel data
    with the first 64 bits encoding red values followed by 64 bits encoding
    green values.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC5_SNORM_BLOCK</code>
</span></dt><dd>
    A two-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of signed normalized RG texel data
    with the first 64 bits encoding red values followed by 64 bits encoding
    green values.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC6H_UFLOAT_BLOCK</code>
</span></dt><dd>
    A three-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned floating-point RGB texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC6H_SFLOAT_BLOCK</code>
</span></dt><dd>
    A three-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of signed floating-point RGB texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC7_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_BC7_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, block-compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code>
</span></dt><dd>
    A three-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data.
    This format has no alpha and is considered opaque.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code>
</span></dt><dd>
    A three-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data with sRGB nonlinear encoding.
    This format has no alpha and is considered opaque.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data, and provides 1 bit of alpha.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGB texel
    data with sRGB nonlinear encoding, and provides 1 bit of alpha.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ETC2 compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with the first 64 bits encoding alpha values followed by 64 bits
    encoding RGB values.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with the first 64 bits encoding alpha values followed by 64 bits
    encoding RGB values with sRGB nonlinear encoding applied.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_EAC_R11_UNORM_BLOCK</code>
</span></dt><dd>
    A one-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized red texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_EAC_R11_SNORM_BLOCK</code>
</span></dt><dd>
    A one-component, ETC2 compressed format where each 64-bit compressed
    texel block encodes a 4x4 rectangle of signed normalized red texel data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code>
</span></dt><dd>
    A two-component, ETC2 compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RG texel data
    with the first 64 bits encoding red values followed by 64 bits encoding
    green values.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code>
</span></dt><dd>
    A two-component, ETC2 compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of signed normalized RG texel data
    with the first 64 bits encoding red values followed by 64 bits encoding
    green values.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 4x4 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 5x4 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 5x4 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 5x5 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 5x5 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 6x5 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 6x5 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 6x6 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 6x6 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes an 8x5 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes an 8x5 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes an 8x6 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes an 8x6 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes an 8x8 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes an 8x8 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x5 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x5 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x6 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x6 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x8 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x8 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x10 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 10x10 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 12x10 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 12x10 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 12x12 rectangle of unsigned normalized RGBA texel
    data.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code>
</span></dt><dd>
    A four-component, ASTC compressed format where each 128-bit compressed
    texel block encodes a 12x12 rectangle of unsigned normalized RGBA texel
    data with sRGB nonlinear encoding applied to the RGB components.
</dd></dl></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="features-formats-packed"></a>Packed Formats</h4></div></div></div><p>For the purposes of address alignment when accessing buffer memory
containing vertex attribute or texel data, the following formats are
considered <span class="emphasis"><em>packed</em></span> - whole texels or attributes are stored in a single data
element, rather than individual components occupying a single data element:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
<a class="link" href="#features-formats-packed-8-bit" title="Table 31.6. Bit mappings for packed 8-bit formats">Packed into 8-bit data types</a>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_FORMAT_R4G4_UNORM_PACK8</code>
</li></ul></div></li><li class="listitem"><p class="simpara">
<a class="link" href="#features-formats-packed-16-bit" title="Table 31.7. Bit mappings for packed 16-bit formats">Packed into 16-bit data types</a>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_FORMAT_R4G4B4A4_UNORM_PACK16</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_B4G4R4A4_UNORM_PACK16</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_R5G6B5_UNORM_PACK16</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_B5G6R5_UNORM_PACK16</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_R5G5B5A1_UNORM_PACK16</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_B5G5R5A1_UNORM_PACK16</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A1R5G5B5_UNORM_PACK16</code>
</li></ul></div></li><li class="listitem"><p class="simpara">
<a class="link" href="#features-formats-packed-32-bit" title="Table 31.8. Bit mappings for packed 32-bit formats">Packed into 32-bit data types</a>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_FORMAT_A8B8G8R8_UNORM_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A8B8G8R8_SNORM_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A8B8G8R8_USCALED_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A8B8G8R8_SSCALED_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A8B8G8R8_UINT_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A8B8G8R8_SINT_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A8B8G8R8_SRGB_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A2R10G10B10_UNORM_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A2R10G10B10_SNORM_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A2R10G10B10_USCALED_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A2R10G10B10_SSCALED_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A2R10G10B10_UINT_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A2R10G10B10_SINT_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A2B10G10R10_UNORM_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A2B10G10R10_SNORM_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A2B10G10R10_USCALED_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A2B10G10R10_SSCALED_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A2B10G10R10_UINT_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_A2B10G10R10_SINT_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_B10G11R11_UFLOAT_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code>
</li><li class="listitem">
<code class="code">VK_FORMAT_X8_D24_UNORM_PACK32</code>
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_identification_of_formats"></a>Identification of Formats</h4></div></div></div><p>A “format” is represented by a single enum value.
The name of a format is usually built up by using the following pattern:</p><pre class="literallayout">etext:VK_FORMAT_{component-format|compression-scheme}_{numeric-format}</pre><p>The component-format specifies either the size of the R, G, B, and A
components (if they are present) in the case of a color format, or the size
of the depth (D) and stencil (S) components (if they are present) in the
case of a depth/stencil format (see below).
An X indicates a component that is unused, but <span class="normative">may</span> be present for padding.</p><p></p><div class="table"><a id="features-formats-numericformat"></a><p class="title"><strong>Table 31.3. Interpretation of Numeric Format</strong></p><div class="table-contents"><table summary="Interpretation of Numeric Format" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="95%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Numeric format </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">UNORM</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>The components are unsigned normalized values in the range [0,1]</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">SNORM</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>The components are signed normalized values in the range [-1,1]</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">USCALED</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>The components are unsigned integer values that get converted to floating-point in the range [0,2<sup>n</sup>-1]</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">SSCALED</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>The components are signed integer values that get converted to floating-point in the range [-2<sup>n-1</sup>,2<sup>n-1</sup>-1]</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">UINT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>The components are unsigned integer values in the range [0,2<sup>n</sup>-1]</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">SINT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>The components are signed integer values in the range [-2<sup>n-1</sup>,2<sup>n-1</sup>-1]</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">UFLOAT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>The components are unsigned floating-point numbers (used by packed, shared exponent, and some compressed formats)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">SFLOAT</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>The components are signed floating-point numbers</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">SRGB</code></p></td><td style="" align="left" valign="top"><p>The R, G, and B components are unsigned normalized values that represent values using sRGB nonlinear encoding, while the A component (if one exists) is a regular unsigned normalized value</p></td></tr></tbody></table></div></div><br class="table-break" /><p>The suffix <code class="code">_PACKnn</code> indicates that the format is packed into an
underlying type with nn bits.</p><p>The suffix <code class="code">_BLOCK</code> indicates that the format is a block-compressed
format, with the representation of multiple pixels encoded interdependently
within a region.</p><div class="table"><a id="features-formats-compressionscheme"></a><p class="title"><strong>Table 31.4. Interpretation of Compression Scheme</strong></p><div class="table-contents"><table summary="Interpretation of Compression Scheme" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="95%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Compression scheme </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">BC</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Block Compression. See <a class="xref" href="#appendix-compressedtex-bc" title="B.1. Block-Compressed Image Formats">Section B.1, “Block-Compressed Image Formats”</a>.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">ETC2</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Ericsson Texture Compression. See <a class="xref" href="#appendix-compressedtex-etc2" title="B.2. ETC Compressed Image Formats">Section B.2, “ETC Compressed Image Formats”</a>.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">EAC</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ETC2 Alpha Compression. See <a class="xref" href="#appendix-compressedtex-etc2" title="B.2. ETC Compressed Image Formats">Section B.2, “ETC Compressed Image Formats”</a>.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">ASTC</code></p></td><td style="" align="left" valign="top"><p>Adaptive Scalable Texture Compression (LDR Profile). See <a class="xref" href="#appendix-compressedtex-astc" title="B.3. ASTC Compressed Image Formats">Section B.3, “ASTC Compressed Image Formats”</a>.</p></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_representation"></a>Representation</h4></div></div></div><p>Color formats <span class="normative">must</span> be represented in memory in exactly the form indicated
by the format’s name.
This means that promoting one format to another with more bits per component
and/or additional components <span class="normative">must</span> not occur for color formats.
Depth/stencil formats have more relaxed requirements as discussed
<a class="link" href="#features-formats-depth-stencil" title="Depth/Stencil Formats">below</a>.</p><p>The representation of non-packed formats is that the first component
specified in the name of the format is in the lowest memory addresses and
the last component specified is in the highest memory addresses.
See <a class="link" href="#features-formats-non-packed" title="Table 31.5. Byte mappings for non-packed/compressed color formats">Byte mappings for non-packed/compressed color formats</a>.
The in-memory ordering of bytes within a component is determined by the host
endianness.</p><div class="table"><a id="features-formats-non-packed"></a><p class="title"><strong>Table 31.5. Byte mappings for non-packed/compressed color formats</strong></p><div class="table-contents"><table summary="Byte mappings for non-packed/compressed color formats" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /><col class="col_10" /><col class="col_11" /><col class="col_12" /><col class="col_13" /><col class="col_14" /><col class="col_15" /><col class="col_16" /><col class="col_17" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">0 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">1 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">2 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">3 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">4 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">5 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">6 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">7 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">8 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">9 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">10 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">11 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">12 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">13 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">14 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top">15 </th><th style="border-bottom: 1px solid #527bbd; " align="center" valign="top"> <span class="inlinemediaobject"><span class="phrase">
$\leftarrow$
</span></span> Byte</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="16" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R8_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="15" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R8G8_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="14" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R8G8B8_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="14" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_B8G8R8_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R8G8B8A8_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_B8G8R8A8_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="center" valign="top"><p>R</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="15" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R16_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="center" valign="top"><p>R</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="center" valign="top"><p>G</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R16G16_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="center" valign="top"><p>R</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="center" valign="top"><p>G</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="center" valign="top"><p>B</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="11" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R16G16B16_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="center" valign="top"><p>R</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="center" valign="top"><p>G</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="center" valign="top"><p>B</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="center" valign="top"><p>A</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="9" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R16G16B16A16_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="center" valign="top"><p>R</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R32_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="center" valign="top"><p>R</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="center" valign="top"><p>G</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="9" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R32G32_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="center" valign="top"><p>R</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="center" valign="top"><p>G</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="center" valign="top"><p>B</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="5" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R32G32B32_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="center" valign="top"><p>R</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="center" valign="top"><p>G</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="center" valign="top"><p>B</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="center" valign="top"><p>A</p></td><td style="border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R32G32B32A32_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="8" align="center" valign="top"><p>R</p></td><td style="border-bottom: 1px solid #527bbd; " colspan="9" align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R64_*</code></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="8" align="center" valign="top"><p>R</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="8" align="center" valign="top"><p>G</p></td><td style="border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R64G64_*</code></strong></span></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " colspan="17" align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R64G64B64_*</code> as <code class="code">VK_FORMAT_R64G64_*</code> but with B in bytes 16-23</strong></span></p></td></tr><tr><td style="" colspan="17" align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R64G64B64A64_*</code> as <code class="code">VK_FORMAT_R64G64B64_*</code> but with A in bytes 24-31</strong></span></p></td></tr></tbody></table></div></div><br class="table-break" /><p>Packed formats store multiple components within one underlying type.
The bit representation is that the first component specified in the name of
the format is in the most-significant bits and the last component specified
is in the least-significant bits of the underlying type.
The in-memory ordering of bytes comprising the underlying type is determined
by the host endianness.</p><div class="table"><a id="features-formats-packed-8-bit"></a><p class="title"><strong>Table 31.6. Bit mappings for packed 8-bit formats</strong></p><div class="table-contents"><table summary="Bit mappings for packed 8-bit formats" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="80%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"> Bit <span class="inlinemediaobject"><span class="phrase">
$\rightarrow$
</span></span> </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 7 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 6 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 5 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 4 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 3 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 2 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 1 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top"> 0</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R4G4_UNORM_PACK8</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>1</sub></p></td><td style="" align="center" valign="top"><p>G<sub>0</sub></p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="features-formats-packed-16-bit"></a><p class="title"><strong>Table 31.7. Bit mappings for packed 16-bit formats</strong></p><div class="table-contents"><table summary="Bit mappings for packed 16-bit formats" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /><col class="col_10" /><col class="col_11" /><col class="col_12" /><col class="col_13" /><col class="col_14" /><col class="col_15" /><col class="col_16" /><col class="col_17" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"> Bit <span class="inlinemediaobject"><span class="phrase">
$\rightarrow$
</span></span> </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 15 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 14 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 13 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 12 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 11 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 10 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 9 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 8 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 7 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 6 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 5 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 4 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 3 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 2 </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"> 1 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top"> 0</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R4G4B4A4_UNORM_PACK16</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>0</sub></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_B4G4R4A4_UNORM_PACK16</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>0</sub></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R5G6B5_UNORM_PACK16</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>5</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>0</sub></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_B5G6R5_UNORM_PACK16</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>5</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>0</sub></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_R5G5B5A1_UNORM_PACK16</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>0</sub></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_B5G5R5A1_UNORM_PACK16</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>0</sub></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_A1R5G5B5_UNORM_PACK16</code></strong></span></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>1</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>0</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>4</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>3</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>2</sub></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>1</sub></p></td><td style="" align="center" valign="top"><p>B<sub>0</sub></p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="features-formats-packed-32-bit"></a><p class="title"><strong>Table 31.8. Bit mappings for packed 32-bit formats</strong></p><div class="table-contents"><table summary="Bit mappings for packed 32-bit formats" cellpadding="4px" style="border: none;"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /><col class="col_10" /><col class="col_11" /><col class="col_12" /><col class="col_13" /><col class="col_14" /><col class="col_15" /><col class="col_16" /><col class="col_17" /><col class="col_18" /><col class="col_19" /><col class="col_20" /><col class="col_21" /><col class="col_22" /><col class="col_23" /><col class="col_24" /><col class="col_25" /><col class="col_26" /><col class="col_27" /><col class="col_28" /><col class="col_29" /><col class="col_30" /><col class="col_31" /><col class="col_32" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">31 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">30 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">29 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">28 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">27 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">26 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">25 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">24 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">23 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">22 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">21 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">20 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">19 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">18 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">17 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">16</th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">15 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">14 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">13 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">12 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">11 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">10 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">9 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">8 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">7 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">6 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">5 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">4 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">3 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">2 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">1 </th><th style="border-bottom: 1px solid #527bbd; " align="right" valign="top">0</th></tr></thead><tbody><tr><td style="border-bottom: 1px solid #527bbd; " colspan="32" align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_A8B8G8R8_*_PACK32</code></strong></span></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>0</sub></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " colspan="32" align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_A2R10G10B10_*_PACK32</code></strong></span></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>9</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>8</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>9</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>8</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>9</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>8</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>0</sub></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " colspan="32" align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_A2B10G10R10_*_PACK32</code></strong></span></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>A<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>9</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>8</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>9</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>8</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>9</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>8</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>0</sub></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " colspan="32" align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_B10G11R11_UFLOAT_PACK32</code></strong></span></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>9</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>8</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>10</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>9</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>8</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>10</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>9</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>8</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>0</sub></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " colspan="32" align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code></strong></span></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>E<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>E<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>E<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>E<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>E<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>8</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>B<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>8</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>G<sub>0</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>8</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>7</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>6</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>5</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>4</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>3</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>2</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>1</sub></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>R<sub>0</sub></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " colspan="32" align="center" valign="top"><p><span class="strong"><strong><code class="code">VK_FORMAT_X8_D24_UNORM_PACK32</code></strong></span></p></td></tr><tr><td style="" align="center" valign="top"><p>X<sub>7</sub></p></td><td style="" align="center" valign="top"><p>X<sub>6</sub></p></td><td style="" align="center" valign="top"><p>X<sub>5</sub></p></td><td style="" align="center" valign="top"><p>X<sub>4</sub></p></td><td style="" align="center" valign="top"><p>X<sub>3</sub></p></td><td style="" align="center" valign="top"><p>X<sub>2</sub></p></td><td style="" align="center" valign="top"><p>X<sub>1</sub></p></td><td style="" align="center" valign="top"><p>X<sub>0</sub></p></td><td style="" align="center" valign="top"><p>D<sub>23</sub></p></td><td style="" align="center" valign="top"><p>D<sub>22</sub></p></td><td style="" align="center" valign="top"><p>D<sub>21</sub></p></td><td style="" align="center" valign="top"><p>D<sub>20</sub></p></td><td style="" align="center" valign="top"><p>D<sub>19</sub></p></td><td style="" align="center" valign="top"><p>D<sub>18</sub></p></td><td style="" align="center" valign="top"><p>D<sub>17</sub></p></td><td style="" align="center" valign="top"><p>D<sub>16</sub></p></td><td style="" align="center" valign="top"><p>D<sub>15</sub></p></td><td style="" align="center" valign="top"><p>D<sub>14</sub></p></td><td style="" align="center" valign="top"><p>D<sub>13</sub></p></td><td style="" align="center" valign="top"><p>D<sub>12</sub></p></td><td style="" align="center" valign="top"><p>D<sub>11</sub></p></td><td style="" align="center" valign="top"><p>D<sub>10</sub></p></td><td style="" align="center" valign="top"><p>D<sub>9</sub></p></td><td style="" align="center" valign="top"><p>D<sub>8</sub></p></td><td style="" align="center" valign="top"><p>D<sub>7</sub></p></td><td style="" align="center" valign="top"><p>D<sub>6</sub></p></td><td style="" align="center" valign="top"><p>D<sub>5</sub></p></td><td style="" align="center" valign="top"><p>D<sub>4</sub></p></td><td style="" align="center" valign="top"><p>D<sub>3</sub></p></td><td style="" align="center" valign="top"><p>D<sub>2</sub></p></td><td style="" align="center" valign="top"><p>D<sub>1</sub></p></td><td style="" align="center" valign="top"><p>D<sub>0</sub></p></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="features-formats-depth-stencil"></a>Depth/Stencil Formats</h4></div></div></div><p>Depth/stencil formats are considered opaque and need not be stored in the
exact number of bits per texel or component ordering indicated by the format
enum.
However, implementations <span class="normative">must</span> not substitute a different depth or stencil
precision than that described in the format (e.g.
D16 <span class="normative">must</span> not be implemented as D24 or D32).</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="features-formats-compatibility-classes"></a>Format Compatibility Classes</h4></div></div></div><p>Uncompressed color formats are <span class="emphasis"><em>compatible</em></span> with each other if they occupy
the same number of bits per data element.
Compressed color formats are compatible with each other if the only
difference between them is the numerical type of the uncompressed pixels
(e.g.
signed vs.
unsigned, or SRGB vs.
UNORM encoding).
Each depth/stencil format is only compatible with itself.
In the <a class="link" href="#features-formats-compatibility" title="Table 31.9. Compatible formats">following</a> table, all the formats
in the same row are compatible.</p><div class="table"><a id="features-formats-compatibility"></a><p class="title"><strong>Table 31.9. Compatible formats</strong></p><div class="table-contents"><table summary="Compatible formats" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="80%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Class           </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Formats</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>8-bit</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R4G4_UNORM_PACK8</code>,
                    <code class="code">VK_FORMAT_R8_UNORM</code>,
                    <code class="code">VK_FORMAT_R8_SNORM</code>,
                    <code class="code">VK_FORMAT_R8_USCALED</code>,
                    <code class="code">VK_FORMAT_R8_SSCALED</code>,
                    <code class="code">VK_FORMAT_R8_UINT</code>,
                    <code class="code">VK_FORMAT_R8_SINT</code>,
                    <code class="code">VK_FORMAT_R8_SRGB</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>16-bit</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R4G4B4A4_UNORM_PACK16</code>,
                    <code class="code">VK_FORMAT_B4G4R4A4_UNORM_PACK16</code>,
                    <code class="code">VK_FORMAT_R5G6B5_UNORM_PACK16</code>,
                    <code class="code">VK_FORMAT_B5G6R5_UNORM_PACK16</code>,
                    <code class="code">VK_FORMAT_R5G5B5A1_UNORM_PACK16</code>,
                    <code class="code">VK_FORMAT_B5G5R5A1_UNORM_PACK16</code>,
                    <code class="code">VK_FORMAT_A1R5G5B5_UNORM_PACK16</code>,
                    <code class="code">VK_FORMAT_R8G8_UNORM</code>,
                    <code class="code">VK_FORMAT_R8G8_SNORM</code>,
                    <code class="code">VK_FORMAT_R8G8_USCALED</code>,
                    <code class="code">VK_FORMAT_R8G8_SSCALED</code>,
                    <code class="code">VK_FORMAT_R8G8_UINT</code>,
                    <code class="code">VK_FORMAT_R8G8_SINT</code>,
                    <code class="code">VK_FORMAT_R8G8_SRGB</code>,
                    <code class="code">VK_FORMAT_R16_UNORM</code>,
                    <code class="code">VK_FORMAT_R16_SNORM</code>,
                    <code class="code">VK_FORMAT_R16_USCALED</code>,
                    <code class="code">VK_FORMAT_R16_SSCALED</code>,
                    <code class="code">VK_FORMAT_R16_UINT</code>,
                    <code class="code">VK_FORMAT_R16_SINT</code>,
                    <code class="code">VK_FORMAT_R16_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>24-bit</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8_UNORM</code>,
                    <code class="code">VK_FORMAT_R8G8B8_SNORM</code>,
                    <code class="code">VK_FORMAT_R8G8B8_USCALED</code>,
                    <code class="code">VK_FORMAT_R8G8B8_SSCALED</code>,
                    <code class="code">VK_FORMAT_R8G8B8_UINT</code>,
                    <code class="code">VK_FORMAT_R8G8B8_SINT</code>,
                    <code class="code">VK_FORMAT_R8G8B8_SRGB</code>,
                    <code class="code">VK_FORMAT_B8G8R8_UNORM</code>,
                    <code class="code">VK_FORMAT_B8G8R8_SNORM</code>,
                    <code class="code">VK_FORMAT_B8G8R8_USCALED</code>,
                    <code class="code">VK_FORMAT_B8G8R8_SSCALED</code>,
                    <code class="code">VK_FORMAT_B8G8R8_UINT</code>,
                    <code class="code">VK_FORMAT_B8G8R8_SINT</code>,
                    <code class="code">VK_FORMAT_B8G8R8_SRGB</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>32-bit</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8A8_UNORM</code>,
                    <code class="code">VK_FORMAT_R8G8B8A8_SNORM</code>,
                    <code class="code">VK_FORMAT_R8G8B8A8_USCALED</code>,
                    <code class="code">VK_FORMAT_R8G8B8A8_SSCALED</code>,
                    <code class="code">VK_FORMAT_R8G8B8A8_UINT</code>,
                    <code class="code">VK_FORMAT_R8G8B8A8_SINT</code>,
                    <code class="code">VK_FORMAT_R8G8B8A8_SRGB</code>,
                    <code class="code">VK_FORMAT_B8G8R8A8_UNORM</code>,
                    <code class="code">VK_FORMAT_B8G8R8A8_SNORM</code>,
                    <code class="code">VK_FORMAT_B8G8R8A8_USCALED</code>,
                    <code class="code">VK_FORMAT_B8G8R8A8_SSCALED</code>,
                    <code class="code">VK_FORMAT_B8G8R8A8_UINT</code>,
                    <code class="code">VK_FORMAT_B8G8R8A8_SINT</code>,
                    <code class="code">VK_FORMAT_B8G8R8A8_SRGB</code>,
                    <code class="code">VK_FORMAT_A8B8G8R8_UNORM_PACK32</code>,
                    <code class="code">VK_FORMAT_A8B8G8R8_SNORM_PACK32</code>,
                    <code class="code">VK_FORMAT_A8B8G8R8_USCALED_PACK32</code>,
                    <code class="code">VK_FORMAT_A8B8G8R8_SSCALED_PACK32</code>,
                    <code class="code">VK_FORMAT_A8B8G8R8_UINT_PACK32</code>,
                    <code class="code">VK_FORMAT_A8B8G8R8_SINT_PACK32</code>,
                    <code class="code">VK_FORMAT_A8B8G8R8_SRGB_PACK32</code>,
                    <code class="code">VK_FORMAT_A2R10G10B10_UNORM_PACK32</code>,
                    <code class="code">VK_FORMAT_A2R10G10B10_SNORM_PACK32</code>,
                    <code class="code">VK_FORMAT_A2R10G10B10_USCALED_PACK32</code>,
                    <code class="code">VK_FORMAT_A2R10G10B10_SSCALED_PACK32</code>,
                    <code class="code">VK_FORMAT_A2R10G10B10_UINT_PACK32</code>,
                    <code class="code">VK_FORMAT_A2R10G10B10_SINT_PACK32</code>,
                    <code class="code">VK_FORMAT_A2B10G10R10_UNORM_PACK32</code>,
                    <code class="code">VK_FORMAT_A2B10G10R10_SNORM_PACK32</code>,
                    <code class="code">VK_FORMAT_A2B10G10R10_USCALED_PACK32</code>,
                    <code class="code">VK_FORMAT_A2B10G10R10_SSCALED_PACK32</code>,
                    <code class="code">VK_FORMAT_A2B10G10R10_UINT_PACK32</code>,
                    <code class="code">VK_FORMAT_A2B10G10R10_SINT_PACK32</code>,
                    <code class="code">VK_FORMAT_R16G16_UNORM</code>,
                    <code class="code">VK_FORMAT_R16G16_SNORM</code>,
                    <code class="code">VK_FORMAT_R16G16_USCALED</code>,
                    <code class="code">VK_FORMAT_R16G16_SSCALED</code>,
                    <code class="code">VK_FORMAT_R16G16_UINT</code>,
                    <code class="code">VK_FORMAT_R16G16_SINT</code>,
                    <code class="code">VK_FORMAT_R16G16_SFLOAT</code>,
                    <code class="code">VK_FORMAT_R32_UINT</code>,
                    <code class="code">VK_FORMAT_R32_SINT</code>,
                    <code class="code">VK_FORMAT_R32_SFLOAT</code>,
                    <code class="code">VK_FORMAT_B10G11R11_UFLOAT_PACK32</code>,
                    <code class="code">VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>48-bit</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16_UNORM</code>,
                    <code class="code">VK_FORMAT_R16G16B16_SNORM</code>,
                    <code class="code">VK_FORMAT_R16G16B16_USCALED</code>,
                    <code class="code">VK_FORMAT_R16G16B16_SSCALED</code>,
                    <code class="code">VK_FORMAT_R16G16B16_UINT</code>,
                    <code class="code">VK_FORMAT_R16G16B16_SINT</code>,
                    <code class="code">VK_FORMAT_R16G16B16_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>64-bit</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16A16_UNORM</code>,
                    <code class="code">VK_FORMAT_R16G16B16A16_SNORM</code>,
                    <code class="code">VK_FORMAT_R16G16B16A16_USCALED</code>,
                    <code class="code">VK_FORMAT_R16G16B16A16_SSCALED</code>,
                    <code class="code">VK_FORMAT_R16G16B16A16_UINT</code>,
                    <code class="code">VK_FORMAT_R16G16B16A16_SINT</code>,
                    <code class="code">VK_FORMAT_R16G16B16A16_SFLOAT</code>,
                    <code class="code">VK_FORMAT_R32G32_UINT</code>,
                    <code class="code">VK_FORMAT_R32G32_SINT</code>,
                    <code class="code">VK_FORMAT_R32G32_SFLOAT</code>,
                    <code class="code">VK_FORMAT_R64_UINT</code>,
                    <code class="code">VK_FORMAT_R64_SINT</code>,
                    <code class="code">VK_FORMAT_R64_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>96-bit</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32B32_UINT</code>,
                    <code class="code">VK_FORMAT_R32G32B32_SINT</code>,
                    <code class="code">VK_FORMAT_R32G32B32_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>128-bit</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32B32A32_UINT</code>,
                    <code class="code">VK_FORMAT_R32G32B32A32_SINT</code>,
                    <code class="code">VK_FORMAT_R32G32B32A32_SFLOAT</code>,
                    <code class="code">VK_FORMAT_R64G64_UINT</code>,
                    <code class="code">VK_FORMAT_R64G64_SINT</code>,
                    <code class="code">VK_FORMAT_R64G64_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>192-bit</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64G64B64_UINT</code>,
                    <code class="code">VK_FORMAT_R64G64B64_SINT</code>,
                    <code class="code">VK_FORMAT_R64G64B64_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>256-bit</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64G64B64A64_UINT</code>,
                    <code class="code">VK_FORMAT_R64G64B64A64_SINT</code>,
                    <code class="code">VK_FORMAT_R64G64B64A64_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC1_RGB</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC1_RGB_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_BC1_RGB_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC1_RGBA</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC2</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC2_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_BC2_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC3</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC3_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_BC3_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC4_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_BC4_SNORM_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC5</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC5_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_BC5_SNORM_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC6H</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC6H_UFLOAT_BLOCK</code>,
                    <code class="code">VK_FORMAT_BC6H_SFLOAT_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC7</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC7_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_BC7_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ETC2_RGB</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ETC2_RGBA</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ETC2_EAC_RGBA</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>EAC_R</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_EAC_R11_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_EAC_R11_SNORM_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>EAC_RG</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_4x4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_5x4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_5x5</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_6x5</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_6x6</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_8x5</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_8x6</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_8x8</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_10x5</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_10x6</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_10x8</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_10x10</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_12x10</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>ASTC_12x12</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code>,
                    <code class="code">VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>D16</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_D16_UNORM</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>D24</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_X8_D24_UNORM_PACK32</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>D32</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_D32_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>S8</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_S8_UINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>D16S8</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_D16_UNORM_S8_UINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>D24S8</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_D24_UNORM_S8_UINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>D32S8</p></td><td style="" align="left" valign="top"><p><code class="code">VK_FORMAT_D32_SFLOAT_S8_UINT</code></p></td></tr></tbody></table></div></div><br class="table-break" /></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="features-formats-properties"></a>31.3.2. Format Properties</h3></div></div></div><p>To query supported format features which are properties of the physical
device, call:</p><p><a id="vkGetPhysicalDeviceFormatProperties"></a><strong> </strong>
</p><pre class="programlisting">void vkGetPhysicalDeviceFormatProperties(
    VkPhysicalDevice                            physicalDevice,
    VkFormat                                    format,
    VkFormatProperties*                         pFormatProperties);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device from which to query the
    format properties.
</li><li class="listitem">
<em class="parameter"><code>format</code></em> is the format whose properties are queried.
</li><li class="listitem">
<em class="parameter"><code>pFormatProperties</code></em> is a pointer to a <code class="code"><a class="link" href="#VkFormatProperties">VkFormatProperties</a></code>
    structure in which physical device properties for <em class="parameter"><code>format</code></em> are
    returned.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>format</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> value
</li><li class="listitem">
<em class="parameter"><code>pFormatProperties</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkFormatProperties</code> structure
</li></ul></div></div><p>The <code class="code">VkPhysicalDeviceLimits</code> structure is defined as:</p><p><a id="VkFormatProperties"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkFormatProperties {
    VkFormatFeatureFlags    linearTilingFeatures;
    VkFormatFeatureFlags    optimalTilingFeatures;
    VkFormatFeatureFlags    bufferFeatures;
} VkFormatProperties;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>linearTilingFeatures</code></em> describes the features supported by
    <code class="code">VK_IMAGE_TILING_LINEAR</code>.
</li><li class="listitem">
<em class="parameter"><code>optimalTilingFeatures</code></em> describes the features supported by
    <code class="code">VK_IMAGE_TILING_OPTIMAL</code>.
</li><li class="listitem">
<em class="parameter"><code>bufferFeatures</code></em> describes the features supported by buffers.
</li></ul></div><p>Supported features are described as a set of <code class="code"><a class="link" href="#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a></code>:</p><p><a id="VkFormatFeatureFlagBits"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkFormatFeatureFlagBits {
    VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT = 0x00000001,
    VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT = 0x00000002,
    VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT = 0x00000004,
    VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT = 0x00000008,
    VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT = 0x00000010,
    VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT = 0x00000020,
    VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT = 0x00000040,
    VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT = 0x00000080,
    VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT = 0x00000100,
    VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT = 0x00000200,
    VK_FORMAT_FEATURE_BLIT_SRC_BIT = 0x00000400,
    VK_FORMAT_FEATURE_BLIT_DST_BIT = 0x00000800,
    VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT = 0x00001000,
} VkFormatFeatureFlagBits;</pre><p>
</p><p>The <em class="parameter"><code>linearTilingFeatures</code></em> and <em class="parameter"><code>optimalTilingFeatures</code></em> members of
the <code class="code">VkFormatProperties</code> structure describe what features are supported
by <code class="code">VK_IMAGE_TILING_LINEAR</code> and <code class="code">VK_IMAGE_TILING_OPTIMAL</code> images,
respectively.</p><p>The following bits <span class="normative">may</span> be set in <em class="parameter"><code>linearTilingFeatures</code></em> and
<em class="parameter"><code>optimalTilingFeatures</code></em>, indicating they are supported by images or
image views created with the queried
<code class="code"><a class="link" href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>::<em class="parameter"><code>format</code></em>:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>
</span></dt><dd>
    <code class="code">VkImageView</code> <span class="normative">can</span> be sampled from.
    See <a class="link" href="#descriptorsets-sampledimage" title="13.1.3. Sampled Image">sampled images</a> section.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code>
</span></dt><dd>
    <code class="code">VkImageView</code> <span class="normative">can</span> be used as storage image.
    See <a class="link" href="#descriptorsets-storageimage" title="13.1.1. Storage Image">storage images</a> section.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code>
</span></dt><dd>
    <code class="code">VkImageView</code> <span class="normative">can</span> be used as storage image that supports atomic
    operations.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>
</span></dt><dd>
    <code class="code">VkImageView</code> <span class="normative">can</span> be used as a framebuffer color attachment and as
    an input attachment.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code>
</span></dt><dd>
    <code class="code">VkImageView</code> <span class="normative">can</span> be used as a framebuffer color attachment that
    supports blending and as an input attachment.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>
</span></dt><dd>
    <code class="code">VkImageView</code> <span class="normative">can</span> be used as a framebuffer depth/stencil attachment
    and as an input attachment.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code>
</span></dt><dd>
    <code class="code">VkImage</code> <span class="normative">can</span> be used as <em class="parameter"><code>srcImage</code></em> for the
    <span class="strong"><strong><code class="code">vkCmdBlitImage</code></strong></span> command.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_FEATURE_BLIT_DST_BIT</code>
</span></dt><dd>
    <code class="code">VkImage</code> <span class="normative">can</span> be used as <em class="parameter"><code>dstImage</code></em> for the
    <span class="strong"><strong><code class="code">vkCmdBlitImage</code></strong></span> command.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code>
</span></dt><dd><p class="simpara">
    If <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code> is also set,
    <code class="code">VkImageView</code> <span class="normative">can</span> be used with a sampler that has either of
    <em class="parameter"><code>magFilter</code></em> or <em class="parameter"><code>minFilter</code></em> set to <code class="code">VK_FILTER_LINEAR</code>, or
    <em class="parameter"><code>mipmapMode</code></em> set to <code class="code">VK_SAMPLER_MIPMAP_MODE_LINEAR</code>.
    If <code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> is also set, <code class="code">VkImage</code> can
    be used as the <em class="parameter"><code>srcImage</code></em> to <code class="code"><a class="link" href="#vkCmdBlitImage">vkCmdBlitImage</a></code> with a
    <em class="parameter"><code>filter</code></em> of <code class="code">VK_FILTER_LINEAR</code>.
    This bit <span class="normative">must</span> only be exposed for formats that also support the
    <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code> or
    <code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code>.
</p><p class="simpara">If the format being queried is a depth/stencil format, this bit only
    indicates that the depth aspect (not the stencil aspect) of an image of
    this format supports linear filtering, and that linear filtering of the
    depth aspect is supported whether depth compare is enabled in the
    sampler or not.
    If this bit is not present, linear filtering with depth compare disabled
    is unsupported and linear filtering with depth compare enabled is
    supported, but <span class="normative">may</span> compute the filtered value in an
    implementation-dependent manner which differs from the normal rules of
    linear filtering.
    The resulting value <span class="normative">must</span> be in the range <span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span> and
    <span class="normative">should</span> be proportional to, or a weighted average of, the number of
    comparison passes or failures.</p></dd></dl></div><p>The following features <span class="normative">may</span> appear in <em class="parameter"><code>bufferFeatures</code></em>, indicating they
are supported by buffers or buffer views created with the queried
<code class="code"><a class="link" href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code>::<em class="parameter"><code>format</code></em>:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="code">VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code>
</span></dt><dd>
    Format <span class="normative">can</span> be used to create a <code class="code">VkBufferView</code> that <span class="normative">can</span> be bound to
    a <code class="code">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> descriptor.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code>
</span></dt><dd>
    Format <span class="normative">can</span> be used to create a <code class="code">VkBufferView</code> that <span class="normative">can</span> be bound to
    a <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> descriptor.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code>
</span></dt><dd>
    Atomic operations are supported on
    <code class="code">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> with this format.
</dd><dt><span class="term">
<code class="code">VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code>
</span></dt><dd>
    Format <span class="normative">can</span> be used as a vertex attribute format
    (<code class="code">VkVertexInputAttributeDescription</code>::<em class="parameter"><code>format</code></em>).
</dd></dl></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If no format feature flags are supported, then the only possible use would
be image transfers - which alone are not useful.
As such, if no format feature flags are supported, the format itself is not
supported, and images of that format cannot be created.</p></td></tr></table></div><p>If <em class="parameter"><code>format</code></em> is a block-compression format, then buffers <span class="normative">must</span> not
support any features for the format.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="features-required-format-support"></a>31.3.3. Required Format Support</h3></div></div></div><p>Implementations <span class="normative">must</span> support at least the following set of features on the
listed formats.
For images, these features <span class="normative">must</span> be supported for every <code class="code"><a class="link" href="#VkImageType">VkImageType</a></code>
(including arrayed and cube variants) unless otherwise noted.
These features are supported on existing formats without needing to
advertise an extension or needing to explicitly enable them.
Support for additional functionality beyond the requirements listed here is
queried using the <code class="code"><a class="link" href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code> command.</p><p>The following tables show which feature bits <span class="normative">must</span> be supported for each
format.</p><div class="table"><a id="id-1.33.6.5.4"></a><p class="title"><strong>Table 31.10. Key for format feature tables</strong></p><div class="table-contents"><table summary="Key for format feature tables" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="70%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>This feature <span class="normative">must</span> be supported on the named format</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="" align="left" valign="top"><p>This feature <span class="normative">must</span> be supported on at least some
of the named formats, with more information in the table
where the symbol appears</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="id-1.33.6.5.5"></a><p class="title"><strong>Table 31.11. Feature bits in <em class="parameter"><code>optimalTilingFeatures</code></em></strong></p><div class="table-contents"><table summary="Feature bits in optimalTilingFeatures" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="70%"><colgroup><col class="col_1" /></colgroup><tbody><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td></tr><tr><td style="" align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="id-1.33.6.5.6"></a><p class="title"><strong>Table 31.12. Feature bits in <em class="parameter"><code>bufferFeatures</code></em></strong></p><div class="table-contents"><table summary="Feature bits in bufferFeatures" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="70%"><colgroup><col class="col_1" /></colgroup><tbody><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td></tr><tr><td style="" align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td></tr></tbody></table></div></div><br class="table-break" /><p></p><div class="table"><a id="features-formats-mandatory-features-subbyte"></a><p class="title"><strong>Table 31.13. Mandatory format support: sub-byte channels</strong></p><div class="table-contents"><table summary="Mandatory format support: sub-byte channels" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /><col class="col_10" /><col class="col_11" /><col class="col_12" /><col class="col_13" /><col class="col_14" /></colgroup><tbody><tr><td style="border-bottom: 1px solid #527bbd; " colspan="14" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " rowspan="13" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="12" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="12" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="11" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="11" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="10" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="10" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="9" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="9" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="8" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="8" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="7" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="7" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="6" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="6" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="5" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="5" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="4" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="3" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>Format</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_UNDEFINED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R4G4_UNORM_PACK8</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R4G4B4A4_UNORM_PACK16</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B4G4R4A4_UNORM_PACK16</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R5G6B5_UNORM_PACK16</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B5G6R5_UNORM_PACK16</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R5G5B5A1_UNORM_PACK16</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B5G5R5A1_UNORM_PACK16</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A1R5G5B5_UNORM_PACK16</code></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="" align="center" valign="top"><p></p></td></tr></tbody></table></div></div><br class="table-break" /><p></p><div class="table"><a id="features-formats-mandatory-features-2byte"></a><p class="title"><strong>Table 31.14. Mandatory format support: 1-3 byte-sized channels</strong></p><div class="table-contents"><table summary="Mandatory format support: 1-3 byte-sized channels" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /><col class="col_10" /><col class="col_11" /><col class="col_12" /><col class="col_13" /><col class="col_14" /></colgroup><tbody><tr><td style="border-bottom: 1px solid #527bbd; " colspan="14" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " rowspan="13" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="12" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="12" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="11" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="11" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="10" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="10" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="9" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="9" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="8" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="8" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="7" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="7" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="6" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="6" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="5" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="5" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="4" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="3" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>Format</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8_UNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8_SNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8_USCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8_SSCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8_SRGB</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8_UNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8_SNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8_USCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8_SSCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8_SRGB</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8_UNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8_SNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8_USCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8_SSCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8_SRGB</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8_UNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8_SNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8_USCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8_SSCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8_SRGB</code></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="" align="center" valign="top"><p></p></td></tr></tbody></table></div></div><br class="table-break" /><p></p><div class="table"><a id="features-formats-mandatory-features-4byte"></a><p class="title"><strong>Table 31.15. Mandatory format support: 4 byte-sized channels</strong></p><div class="table-contents"><table summary="Mandatory format support: 4 byte-sized channels" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /><col class="col_10" /><col class="col_11" /><col class="col_12" /><col class="col_13" /><col class="col_14" /></colgroup><tbody><tr><td style="border-bottom: 1px solid #527bbd; " colspan="14" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " rowspan="13" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="12" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="12" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="11" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="11" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="10" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="10" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="9" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="9" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="8" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="8" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="7" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="7" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="6" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="6" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="5" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="5" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="4" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="3" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>Format</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8A8_UNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8A8_SNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8A8_USCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8A8_SSCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8A8_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8A8_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8A8_SRGB</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8A8_UNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8A8_SNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8A8_USCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8A8_SSCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8A8_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8A8_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B8G8R8A8_SRGB</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A8B8G8R8_UNORM_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A8B8G8R8_SNORM_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A8B8G8R8_USCALED_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A8B8G8R8_SSCALED_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A8B8G8R8_UINT_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A8B8G8R8_SINT_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A8B8G8R8_SRGB_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="" align="center" valign="top"><p></p></td></tr></tbody></table></div></div><br class="table-break" /><p></p><div class="table"><a id="features-formats-mandatory-features-10bit"></a><p class="title"><strong>Table 31.16. Mandatory format support: 10-bit channels</strong></p><div class="table-contents"><table summary="Mandatory format support: 10-bit channels" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /><col class="col_10" /><col class="col_11" /><col class="col_12" /><col class="col_13" /><col class="col_14" /></colgroup><tbody><tr><td style="border-bottom: 1px solid #527bbd; " colspan="14" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " rowspan="13" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="12" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="12" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="11" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="11" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="10" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="10" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="9" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="9" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="8" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="8" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="7" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="7" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="6" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="6" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="5" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="5" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="4" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="3" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>Format</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2R10G10B10_UNORM_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2R10G10B10_SNORM_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2R10G10B10_USCALED_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2R10G10B10_SSCALED_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2R10G10B10_UINT_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2R10G10B10_SINT_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2B10G10R10_UNORM_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2B10G10R10_SNORM_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2B10G10R10_USCALED_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2B10G10R10_SSCALED_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2B10G10R10_UINT_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2B10G10R10_SINT_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="" align="center" valign="top"><p></p></td></tr></tbody></table></div></div><br class="table-break" /><p></p><div class="table"><a id="features-formats-mandatory-features-16bit"></a><p class="title"><strong>Table 31.17. Mandatory format support: 16-bit channels</strong></p><div class="table-contents"><table summary="Mandatory format support: 16-bit channels" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /><col class="col_10" /><col class="col_11" /><col class="col_12" /><col class="col_13" /><col class="col_14" /></colgroup><tbody><tr><td style="border-bottom: 1px solid #527bbd; " colspan="14" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " rowspan="13" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="12" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="12" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="11" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="11" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="10" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="10" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="9" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="9" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="8" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="8" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="7" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="7" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="6" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="6" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="5" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="5" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="4" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="3" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>Format</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16_UNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16_SNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16_USCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16_SSCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16_SFLOAT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16_UNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16_SNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16_USCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16_SSCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16_SFLOAT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16_UNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16_SNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16_USCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16_SSCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16_SFLOAT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16A16_UNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16A16_SNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16A16_USCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16A16_SSCALED</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16A16_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16A16_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16A16_SFLOAT</code></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="" align="center" valign="top"><p></p></td></tr></tbody></table></div></div><br class="table-break" /><p></p><div class="table"><a id="features-formats-mandatory-features-32bit"></a><p class="title"><strong>Table 31.18. Mandatory format support: 32-bit channels</strong></p><div class="table-contents"><table summary="Mandatory format support: 32-bit channels" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /><col class="col_10" /><col class="col_11" /><col class="col_12" /><col class="col_13" /><col class="col_14" /></colgroup><tbody><tr><td style="border-bottom: 1px solid #527bbd; " colspan="14" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " rowspan="13" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="12" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="12" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="11" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="11" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="10" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="10" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="9" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="9" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="8" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="8" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="7" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="7" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="6" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="6" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="5" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="5" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="4" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="3" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>Format</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32_SFLOAT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32_SFLOAT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32B32_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32B32_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32B32_SFLOAT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32B32A32_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32B32A32_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32B32A32_SFLOAT</code></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="" align="center" valign="top"><p></p></td></tr></tbody></table></div></div><br class="table-break" /><p></p><div class="table"><a id="features-formats-mandatory-features-64bit"></a><p class="title"><strong>Table 31.19. Mandatory format support: 64-bit/uneven channels and depth/stencil</strong></p><div class="table-contents"><table summary="Mandatory format support: 64-bit/uneven channels and depth/stencil" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /><col class="col_10" /><col class="col_11" /><col class="col_12" /><col class="col_13" /><col class="col_14" /></colgroup><tbody><tr><td style="border-bottom: 1px solid #527bbd; " colspan="14" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " rowspan="13" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="12" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="12" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="11" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="11" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="10" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="10" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="9" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="9" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="8" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="8" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="7" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="7" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="6" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="6" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="5" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="5" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="4" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="3" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>Format</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64_SFLOAT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64G64_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64G64_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64G64_SFLOAT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64G64B64_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64G64B64_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64G64B64_SFLOAT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64G64B64A64_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64G64B64A64_SINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R64G64B64A64_SFLOAT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B10G11R11_UFLOAT_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_D16_UNORM</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_X8_D24_UNORM_PACK32</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_D32_SFLOAT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>✓</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_S8_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_D16_UNORM_S8_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_D24_UNORM_S8_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_D32_SFLOAT_S8_UINT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="" colspan="14" align="left" valign="top"><p><code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code> feature <span class="normative">must</span> be
supported for at least one of <code class="code">VK_FORMAT_X8_D24_UNORM_PACK32</code> and
<code class="code">VK_FORMAT_D32_SFLOAT</code>, and <span class="normative">must</span> be supported for at least one of
<code class="code">VK_FORMAT_D24_UNORM_S8_UINT</code> and <code class="code">VK_FORMAT_D32_SFLOAT_S8_UINT</code>.</p></td></tr></tbody></table></div></div><br class="table-break" /><p></p><div class="table"><a id="features-formats-mandatory-features-bcn"></a><p class="title"><strong>Table 31.20. Mandatory format support: BC compressed formats with <code class="code"><a class="link" href="#VkImageType">VkImageType</a></code> <code class="code">VK_IMAGE_TYPE_2D</code> and <code class="code">VK_IMAGE_TYPE_3D</code></strong></p><div class="table-contents"><table summary="Mandatory format support: BC compressed formats with VkImageType VK_IMAGE_TYPE_2D and VK_IMAGE_TYPE_3D" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /><col class="col_10" /><col class="col_11" /><col class="col_12" /><col class="col_13" /><col class="col_14" /></colgroup><tbody><tr><td style="border-bottom: 1px solid #527bbd; " colspan="14" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " rowspan="13" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="12" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="12" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="11" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="11" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="10" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="10" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="9" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="9" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="8" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="8" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="7" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="7" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="6" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="6" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="5" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="5" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="4" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="3" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>Format</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC1_RGB_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC1_RGB_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC2_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC2_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC3_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC3_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC4_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC4_SNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC5_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC5_SNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC6H_UFLOAT_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC6H_SFLOAT_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC7_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC7_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="" colspan="14" align="left" valign="top"><p>The <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>,
<code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> and
<code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> features <span class="normative">must</span> be
supported in <em class="parameter"><code>optimalTilingFeatures</code></em> for all the formats in at least
one of: this table, <a class="xref" href="#features-formats-mandatory-features-etc" title="Table 31.21. Mandatory format support: ETC2 and EAC compressed formats with VkImageType VK_IMAGE_TYPE_2D">Table 31.21, “Mandatory format support: ETC2 and EAC compressed formats with VkImageType <code class="code">VK_IMAGE_TYPE_2D</code>”</a>, or
<a class="xref" href="#features-formats-mandatory-features-astc" title="Table 31.22. Mandatory format support: ASTC LDR compressed formats with VkImageType VK_IMAGE_TYPE_2D">Table 31.22, “Mandatory format support: ASTC LDR compressed formats with VkImageType <code class="code">VK_IMAGE_TYPE_2D</code>”</a>.</p></td></tr></tbody></table></div></div><br class="table-break" /><p></p><div class="table"><a id="features-formats-mandatory-features-etc"></a><p class="title"><strong>Table 31.21. Mandatory format support: ETC2 and EAC compressed formats with <code class="code"><a class="link" href="#VkImageType">VkImageType</a></code> <code class="code">VK_IMAGE_TYPE_2D</code></strong></p><div class="table-contents"><table summary="Mandatory format support: ETC2 and EAC compressed formats with VkImageType VK_IMAGE_TYPE_2D" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /><col class="col_10" /><col class="col_11" /><col class="col_12" /><col class="col_13" /><col class="col_14" /></colgroup><tbody><tr><td style="border-bottom: 1px solid #527bbd; " colspan="14" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " rowspan="13" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="12" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="12" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="11" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="11" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="10" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="10" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="9" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="9" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="8" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="8" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="7" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="7" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="6" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="6" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="5" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="5" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="4" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="3" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>Format</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_EAC_R11_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_EAC_R11_SNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="" colspan="14" align="left" valign="top"><p>The <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>,
<code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> and
<code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> features <span class="normative">must</span> be
supported in <em class="parameter"><code>optimalTilingFeatures</code></em> for all the formats in at least
one of: this table, <a class="xref" href="#features-formats-mandatory-features-bcn" title="Table 31.20. Mandatory format support: BC compressed formats with VkImageType VK_IMAGE_TYPE_2D and VK_IMAGE_TYPE_3D">Table 31.20, “Mandatory format support: BC compressed formats with VkImageType <code class="code">VK_IMAGE_TYPE_2D</code> and <code class="code">VK_IMAGE_TYPE_3D</code>”</a>, or
<a class="xref" href="#features-formats-mandatory-features-astc" title="Table 31.22. Mandatory format support: ASTC LDR compressed formats with VkImageType VK_IMAGE_TYPE_2D">Table 31.22, “Mandatory format support: ASTC LDR compressed formats with VkImageType <code class="code">VK_IMAGE_TYPE_2D</code>”</a>.</p></td></tr></tbody></table></div></div><br class="table-break" /><p></p><div class="table"><a id="features-formats-mandatory-features-astc"></a><p class="title"><strong>Table 31.22. Mandatory format support: ASTC LDR compressed formats with <code class="code"><a class="link" href="#VkImageType">VkImageType</a></code> <code class="code">VK_IMAGE_TYPE_2D</code></strong></p><div class="table-contents"><table summary="Mandatory format support: ASTC LDR compressed formats with VkImageType VK_IMAGE_TYPE_2D" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /><col class="col_10" /><col class="col_11" /><col class="col_12" /><col class="col_13" /><col class="col_14" /></colgroup><tbody><tr><td style="border-bottom: 1px solid #527bbd; " colspan="14" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="13" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td><td style="border-bottom: 1px solid #527bbd; " rowspan="13" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="12" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="12" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="11" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="11" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="10" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="10" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="9" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="9" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="8" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="8" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="7" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="7" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="6" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="6" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="5" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="5" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="4" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="4" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="3" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="3" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " colspan="2" align="right" valign="top"><p><code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " rowspan="2" align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>Format</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="middle"><p>↓</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>†</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="" colspan="14" align="left" valign="top"><p>The <code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>,
<code class="code">VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> and
<code class="code">VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> features <span class="normative">must</span> be
supported in <em class="parameter"><code>optimalTilingFeatures</code></em> for all the formats in at least
one of: this table, <a class="xref" href="#features-formats-mandatory-features-bcn" title="Table 31.20. Mandatory format support: BC compressed formats with VkImageType VK_IMAGE_TYPE_2D and VK_IMAGE_TYPE_3D">Table 31.20, “Mandatory format support: BC compressed formats with VkImageType <code class="code">VK_IMAGE_TYPE_2D</code> and <code class="code">VK_IMAGE_TYPE_3D</code>”</a>, or
<a class="xref" href="#features-formats-mandatory-features-etc" title="Table 31.21. Mandatory format support: ETC2 and EAC compressed formats with VkImageType VK_IMAGE_TYPE_2D">Table 31.21, “Mandatory format support: ETC2 and EAC compressed formats with VkImageType <code class="code">VK_IMAGE_TYPE_2D</code>”</a>.</p></td></tr></tbody></table></div></div><br class="table-break" /></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_additional_image_capabilities"></a>31.4. Additional Image Capabilities</h2></div></div></div><p>In addition to the minimum capabilities described in the previous sections
(<a class="link" href="#features-limits" title="31.2. Limits">Limits</a> and <a class="link" href="#features-formats" title="31.3. Formats">Formats</a>),
implementations <span class="normative">may</span> support additional capabilities for certain types of
images.
For example, larger dimensions or additional sample counts for certain image
types, or additional capabilities for <span class="emphasis"><em>linear</em></span> tiling format images.</p><p>To query additional capabilities specific to image types, call:</p><p><a id="vkGetPhysicalDeviceImageFormatProperties"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkGetPhysicalDeviceImageFormatProperties(
    VkPhysicalDevice                            physicalDevice,
    VkFormat                                    format,
    VkImageType                                 type,
    VkImageTiling                               tiling,
    VkImageUsageFlags                           usage,
    VkImageCreateFlags                          flags,
    VkImageFormatProperties*                    pImageFormatProperties);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> is the physical device from which to query the
    image capabilities.
</li><li class="listitem">
<em class="parameter"><code>format</code></em> is the image format, corresponding to
    <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<em class="parameter"><code>format</code></em>.
</li><li class="listitem">
<em class="parameter"><code>type</code></em> is the image type, corresponding to
    <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<em class="parameter"><code>imageType</code></em>.
</li><li class="listitem">
<em class="parameter"><code>tiling</code></em> is the image tiling, corresponding to
    <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<em class="parameter"><code>tiling</code></em>.
</li><li class="listitem">
<em class="parameter"><code>usage</code></em> is the intended usage of the image, corresponding to
    <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<em class="parameter"><code>usage</code></em>.
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> is a bitmask describing additional parameters of the image,
    corresponding to <code class="code"><a class="link" href="#VkImageCreateInfo">VkImageCreateInfo</a></code>::<em class="parameter"><code>flags</code></em>.
</li><li class="listitem">
<em class="parameter"><code>pImageFormatProperties</code></em> points to an instance of the
    <code class="code"><a class="link" href="#VkImageFormatProperties">VkImageFormatProperties</a></code> structure in which capabilities are
    returned.
</li></ul></div><p>The <em class="parameter"><code>format</code></em>, <em class="parameter"><code>type</code></em>, <em class="parameter"><code>tiling</code></em>, <em class="parameter"><code>usage</code></em>, and <em class="parameter"><code>flags</code></em>
parameters correspond to parameters that would be consumed by
<code class="code"><a class="link" href="#vkCreateImage">vkCreateImage</a></code>.</p><p>If <em class="parameter"><code>format</code></em> is not a supported image format, or if the combination of
<em class="parameter"><code>format</code></em>, <em class="parameter"><code>type</code></em>, <em class="parameter"><code>tiling</code></em>, <em class="parameter"><code>usage</code></em>, and <em class="parameter"><code>flags</code></em> is not
supported for images, then <span class="strong"><strong><code class="code">vkGetPhysicalDeviceImageFormatProperties</code></strong></span>
returns <code class="code">VK_ERROR_FORMAT_NOT_SUPPORTED</code>.</p><p>The limitations on an image format that are reported by
<span class="strong"><strong><code class="code">vkGetPhysicalDeviceImageFormatProperties</code></strong></span> have the following property:
if <span class="strong"><strong><code class="code">usage1</code></strong></span> and <span class="strong"><strong><code class="code">usage2</code></strong></span> of type <code class="code"><a class="link" href="#VkImageUsageFlags">VkImageUsageFlags</a></code> are such that
the bits set in <span class="strong"><strong><code class="code">usage1</code></strong></span> are a subset of the bits set in <span class="strong"><strong><code class="code">usage2</code></strong></span>, and
<span class="strong"><strong><code class="code">flags1</code></strong></span> and <span class="strong"><strong><code class="code">flags2</code></strong></span> of type <code class="code"><a class="link" href="#VkImageCreateFlags">VkImageCreateFlags</a></code> are such that
the bits set in <span class="strong"><strong><code class="code">flags1</code></strong></span> are a subset of the bits set in <span class="strong"><strong><code class="code">flags2</code></strong></span>,
then the limitations for <span class="strong"><strong><code class="code">usage1</code></strong></span> and <span class="strong"><strong><code class="code">flags1</code></strong></span> <span class="normative">must</span> be no more strict
than the limitations for <span class="strong"><strong><code class="code">usage2</code></strong></span> and <span class="strong"><strong><code class="code">flags2</code></strong></span>, for all values of
<em class="parameter"><code>format</code></em>, <em class="parameter"><code>type</code></em>, and <em class="parameter"><code>tiling</code></em>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>physicalDevice</code></em> <span class="normative">must</span> be a valid <code class="code">VkPhysicalDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>format</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> value
</li><li class="listitem">
<em class="parameter"><code>type</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageType">VkImageType</a></code> value
</li><li class="listitem">
<em class="parameter"><code>tiling</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="#VkImageTiling">VkImageTiling</a></code> value
</li><li class="listitem">
<em class="parameter"><code>usage</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>usage</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a></code> values
</li><li class="listitem">
<em class="parameter"><code>pImageFormatProperties</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkImageFormatProperties</code> structure
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_FORMAT_NOT_SUPPORTED</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkImageFormatProperties</code> structure is defined as:</p><p><a id="VkImageFormatProperties"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkImageFormatProperties {
    VkExtent3D            maxExtent;
    uint32_t              maxMipLevels;
    uint32_t              maxArrayLayers;
    VkSampleCountFlags    sampleCounts;
    VkDeviceSize          maxResourceSize;
} VkImageFormatProperties;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>maxExtent</code></em> are the maximum image dimensions.
    See the <a class="link" href="#features-extentperimagetype" title="31.4.2. Allowed Extent Values Based On Image Type">Allowed Extent Values</a> section
    below for how these values are constrained by <em class="parameter"><code>type</code></em>.
</li><li class="listitem">
<em class="parameter"><code>maxMipLevels</code></em> is the maximum number of mipmap levels.
    <em class="parameter"><code>maxMipLevels</code></em> <span class="normative">must</span> either be equal to 1 (valid only if
    <em class="parameter"><code>tiling</code></em> is <code class="code">VK_IMAGE_TILING_LINEAR</code>) or be equal to
    <span class="inlinemediaobject"><span class="phrase">
$\left\lceil\log_2(\max(
    \mathit{width},\mathit{height},\mathit{depth})) \right\rceil + 1$
</span></span> where
    <span class="inlinemediaobject"><span class="phrase">
$\mathit{width}$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$\mathit{height}$
</span></span>, and
    <span class="inlinemediaobject"><span class="phrase">
$\mathit{depth}$
</span></span> are taken from the corresponding members of
    <em class="parameter"><code>maxExtent</code></em>.
</li><li class="listitem">
<em class="parameter"><code>maxArrayLayers</code></em> is the maximum number of array layers.
    <em class="parameter"><code>maxArrayLayers</code></em> <span class="normative">must</span> either be equal to 1 or be greater than or
    equal to the <em class="parameter"><code>maxImageArrayLayers</code></em> member of
    <code class="code"><a class="link" href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a></code>.
    A value of 1 is valid only if <em class="parameter"><code>tiling</code></em> is
    <code class="code">VK_IMAGE_TILING_LINEAR</code> or if <em class="parameter"><code>type</code></em> is <code class="code">VK_IMAGE_TYPE_3D</code>.
</li><li class="listitem">
<em class="parameter"><code>sampleCounts</code></em> is a bitmask of <code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code>
    specifying all the supported sample counts for this image as described
    <a class="link" href="#features-supported-sample-counts" title="31.4.1. Supported Sample Counts">below</a>.
</li><li class="listitem">
<em class="parameter"><code>maxResourceSize</code></em> is an upper bound on the total image size in
    bytes, inclusive of all image subresources.
    Implementations <span class="normative">may</span> have an address space limit on total size of a
    resource, which is advertised by this property.
    <em class="parameter"><code>maxResourceSize</code></em> <span class="normative">must</span> be at least 2<sup>31</sup>.
</li></ul></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>There is no mechanism to query the size of an image before creating it, to
compare that size against <em class="parameter"><code>maxResourceSize</code></em>.
If an application attempts to create an image that exceeds this limit, the
creation will fail or the image will be invalid.
While the advertised limit <span class="normative">must</span> be at least 2<sup>31</sup>, it <span class="normative">may</span> not be possible
to create an image that approaches that size, particularly for
<code class="code">VK_IMAGE_TYPE_1D</code>.</p></td></tr></table></div><p>If the combination of parameters to
<span class="strong"><strong><code class="code">vkGetPhysicalDeviceImageFormatProperties</code></strong></span> is not supported by the
implementation for use in <code class="code"><a class="link" href="#vkCreateImage">vkCreateImage</a></code>, then all members of
<code class="code">VkImageFormatProperties</code> will be filled with zero.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="features-supported-sample-counts"></a>31.4.1. Supported Sample Counts</h3></div></div></div><p><span class="strong"><strong><code class="code">vkGetPhysicalDeviceImageFormatProperties</code></strong></span> returns a bitmask of
<code class="code"><a class="link" href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a></code> in <em class="parameter"><code>sampleCounts</code></em> specifying the supported
sample counts for the image parameters.</p><p><em class="parameter"><code>sampleCounts</code></em> will be set to <code class="code">VK_SAMPLE_COUNT_1_BIT</code> if at least
one of the following conditions is true:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>tiling</code></em> is <code class="code">VK_IMAGE_TILING_LINEAR</code>
</li><li class="listitem">
<em class="parameter"><code>type</code></em> is not <code class="code">VK_IMAGE_TYPE_2D</code>
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> contains <code class="code">VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>
</li><li class="listitem">
The <code class="code">VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag in
   <code class="code">VkFormatProperties</code>::<em class="parameter"><code>optimalTilingFeatures</code></em> returned by
   <code class="code"><a class="link" href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a></code> is not set
</li></ul></div><p>Otherwise, the bits set in <em class="parameter"><code>sampleCounts</code></em> will be the sample counts
supported for the specified values of <em class="parameter"><code>usage</code></em> and <em class="parameter"><code>format</code></em>.
For each bit set in <em class="parameter"><code>usage</code></em>, the supported sample counts relate to the
limits in <code class="code">VkPhysicalDeviceLimits</code> as follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If <em class="parameter"><code>usage</code></em> includes <code class="code">VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>, a
   superset of
   <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>framebufferColorSampleCounts</code></em>
</li><li class="listitem">
If <em class="parameter"><code>usage</code></em> includes
   <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and <em class="parameter"><code>format</code></em>
   includes a depth aspect, a superset of
   <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>framebufferDepthSampleCounts</code></em>
</li><li class="listitem">
If <em class="parameter"><code>usage</code></em> includes
   <code class="code">VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and <em class="parameter"><code>format</code></em>
   includes a stencil aspect, a superset of
   <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>framebufferStencilSampleCounts</code></em>
</li><li class="listitem">
If <em class="parameter"><code>usage</code></em> includes <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
   <em class="parameter"><code>format</code></em> includes a color aspect, a superset of
   <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>sampledImageColorSampleCounts</code></em>
</li><li class="listitem">
If <em class="parameter"><code>usage</code></em> includes <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
   <em class="parameter"><code>format</code></em> includes a depth aspect, a superset of
   <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>sampledImageDepthSampleCounts</code></em>
</li><li class="listitem">
If <em class="parameter"><code>usage</code></em> includes <code class="code">VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
   <em class="parameter"><code>format</code></em> is an integer format, a superset of
   <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>sampledImageIntegerSampleCounts</code></em>
</li><li class="listitem">
If <em class="parameter"><code>usage</code></em> includes <code class="code">VK_IMAGE_USAGE_STORAGE_BIT</code>, a superset of
   <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>storageImageSampleCounts</code></em>
</li></ul></div><p>If multiple bits are set in <em class="parameter"><code>usage</code></em>, <em class="parameter"><code>sampleCounts</code></em> will be the
intersection of the per-usage values described above.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="features-extentperimagetype"></a>31.4.2. Allowed Extent Values Based On Image Type</h3></div></div></div><p>For <code class="code">VK_IMAGE_TYPE_1D</code>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$\mathit{maxExtent.width} \leq
                \mathit{VkPhysicalDeviceLimits.maxImageDimension1D}$
</span></span>
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$\mathit{maxExtent.height} = 1$
</span></span>
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$\mathit{maxExtent.depth} = 1$
</span></span>
</li></ul></div><p>For <code class="code">VK_IMAGE_TYPE_2D</code>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$\mathit{maxExtent.width} \leq
                \mathit{VkPhysicalDeviceLimits.maxImageDimension2D}$
</span></span>
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$\mathit{maxExtent.height} \leq
                \mathit{VkPhysicalDeviceLimits.maxImageDimension2D}$
</span></span>
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$\mathit{maxExtent.depth} = 1$
</span></span>
</li></ul></div><p>For <code class="code">VK_IMAGE_TYPE_3D</code>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$\mathit{maxExtent.width} \leq
                \mathit{VkPhysicalDeviceLimits.maxImageDimension3D}$
</span></span>
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$\mathit{maxExtent.height} \leq
                \mathit{VkPhysicalDeviceLimits.maxImageDimension3D}$
</span></span>
</li><li class="listitem">
<span class="inlinemediaobject"><span class="phrase">
$\mathit{maxExtent.depth} \leq
                \mathit{VkPhysicalDeviceLimits.maxImageDimension3D}$
</span></span>
</li></ul></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="_debugging"></a>Chapter 32. Debugging</h1></div></div></div><p>To aid developers in tracking down errors in the application’s use of
Vulkan, particularly in combination with an external debugger or profiler,
<span class="emphasis"><em>debugging extensions</em></span> may be available.
If this Specification was generated with any such extensions included, they
will be described in the remainder of this chapter.</p></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="spirvenv"></a>Appendix A. Vulkan Environment for SPIR-V</h1></div></div></div><p>Shaders for Vulkan are defined by the <a class="link" href="#spirv-spec">Khronos SPIR-V Specification</a> as well as the <a class="link" href="#spirv-extended">Khronos SPIR-V Extended Instructions for GLSL</a> Specification.
This appendix defines additional SPIR-V requirements applying to Vulkan
shaders.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_required_versions_and_formats"></a>A.1. Required Versions and Formats</h2></div></div></div><p>A Vulkan 1.0 implementation <span class="normative">must</span> support the 1.0 version of SPIR-V and the
1.0 version of the SPIR-V Extended Instructions for GLSL.</p><p>A SPIR-V module passed into <code class="code"><a class="link" href="#vkCreateShaderModule">vkCreateShaderModule</a></code> is interpreted as a
series of 32-bit words in host endianness, with literal strings packed as
described in section 2.2 of the SPIR-V Specification.
The first few words of the SPIR-V module <span class="normative">must</span> be a magic number and a
SPIR-V version number, as described in section 2.3 of the SPIR-V
Specification.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="spirvenv-capabilities"></a>A.2. Capabilities</h2></div></div></div><p>Implementations <span class="normative">must</span> support the following capability operands declared by
<span class="strong"><strong><code class="code">OpCapability</code></strong></span>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="strong"><strong><code class="code">Matrix</code></strong></span>
</li><li class="listitem">
<span class="strong"><strong><code class="code">Shader</code></strong></span>
</li><li class="listitem">
<span class="strong"><strong><code class="code">InputAttachment</code></strong></span>
</li><li class="listitem">
<span class="strong"><strong><code class="code">Sampled1D</code></strong></span>
</li><li class="listitem">
<span class="strong"><strong><code class="code">Image1D</code></strong></span>
</li><li class="listitem">
<span class="strong"><strong><code class="code">SampledBuffer</code></strong></span>
</li><li class="listitem">
<span class="strong"><strong><code class="code">ImageBuffer</code></strong></span>
</li><li class="listitem">
<span class="strong"><strong><code class="code">ImageQuery</code></strong></span>
</li><li class="listitem">
<span class="strong"><strong><code class="code">DerivativeControl</code></strong></span>
</li></ul></div><p>Implementations <span class="normative">may</span> support features that are not <span class="normative">required</span> by the
Specification, as described in the <a class="link" href="#features-features" title="31.1. Features">Features</a> chapter.
If such a feature is supported, then any capability operand(s) corresponding
to that feature <span class="normative">must</span> also be supported.</p><div class="table"><a id="spirvenv-capabilities-table"></a><p class="title"><strong>Table A.1. SPIR-V Capabilities which are not <span class="normative">required</span>, and corresponding feature names</strong></p><div class="table-contents"><table summary="SPIR-V Capabilities which are not required, and corresponding feature names" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> SPIR-V OpCapability                     </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Vulkan feature name</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Geometry</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-geometryShader">geometryShader</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Tessellation</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-tessellationShader">tessellationShader</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Float64</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderFloat64">shaderFloat64</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Int64</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderInt64">shaderInt64</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Int16</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderInt16">shaderInt16</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">TessellationPointSize</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderTessellationAndGeometryPointSize">shaderTessellationAndGeometryPointSize</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">GeometryPointSize</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderTessellationAndGeometryPointSize">shaderTessellationAndGeometryPointSize</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">ImageGatherExtended</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderImageGatherExtended">shaderImageGatherExtended</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">StorageImageMultisample</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderStorageImageMultisample">shaderStorageImageMultisample</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">UniformBufferArrayDynamicIndexing</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderUniformBufferArrayDynamicIndexing">shaderUniformBufferArrayDynamicIndexing</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">SampledImageArrayDynamicIndexing</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderSampledImageArrayDynamicIndexing">shaderSampledImageArrayDynamicIndexing</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">StorageBufferArrayDynamicIndexing</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderStorageBufferArrayDynamicIndexing">shaderStorageBufferArrayDynamicIndexing</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">StorageImageArrayDynamicIndexing</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderStorageImageArrayDynamicIndexing">shaderStorageImageArrayDynamicIndexing</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">ClipDistance</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderClipDistance">shaderClipDistance</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">CullDistance</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderCullDistance">shaderCullDistance</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">ImageCubeArray</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-imageCubeArray">imageCubeArray</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">SampleRateShading</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-sampleRateShading">sampleRateShading</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">SparseResidency</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderResourceResidency">shaderResourceResidency</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">MinLod</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderResourceMinLod">shaderResourceMinLod</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">SampledCubeArray</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-imageCubeArray">imageCubeArray</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">ImageMSArray</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderStorageImageMultisample">shaderStorageImageMultisample</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">StorageImageExtendedFormats</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderStorageImageExtendedFormats">shaderStorageImageExtendedFormats</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">InterpolationFunction</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-sampleRateShading">sampleRateShading</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">StorageImageReadWithoutFormat</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderStorageImageReadWithoutFormat">shaderStorageImageReadWithoutFormat</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">StorageImageWriteWithoutFormat</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><a class="link" href="#features-features-shaderStorageImageWriteWithoutFormat">shaderStorageImageWriteWithoutFormat</a></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">MultiViewport</code></strong></span></p></td><td style="" align="left" valign="top"><p><a class="link" href="#features-features-multiViewport">multiViewport</a></p></td></tr></tbody></table></div></div><br class="table-break" /><p>The application <span class="normative">must</span> not pass a SPIR-V module containing any of the
following to <code class="code"><a class="link" href="#vkCreateShaderModule">vkCreateShaderModule</a></code>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
any OpCapability not listed above,
</li><li class="listitem">
an unsupported capability, or
</li><li class="listitem">
a capability which corresponds to a Vulkan feature which has not been
    enabled.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="spirvenv-module-validation"></a>A.3. Validation Rules within a Module</h2></div></div></div><p>A SPIR-V module passed to <code class="code"><a class="link" href="#vkCreateShaderModule">vkCreateShaderModule</a></code> <span class="normative">must</span> conform to the
following rules:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Every entry point <span class="normative">must</span> have no return value and accept no arguments.
</li><li class="listitem">
Recursion: The static function-call graph for an entry point <span class="normative">must</span> not
    contain cycles.
</li><li class="listitem">
The <span class="strong"><strong>Logical</strong></span> addressing model <span class="normative">must</span> be selected.
</li><li class="listitem"><p class="simpara">
<span class="strong"><strong>Scope</strong></span> for execution <span class="normative">must</span> be limited to:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<span class="strong"><strong>Workgroup</strong></span>
</li><li class="listitem">
<span class="strong"><strong>Subgroup</strong></span>
</li></ul></div></li><li class="listitem"><p class="simpara">
<span class="strong"><strong>Scope</strong></span> for memory <span class="normative">must</span> be limited to:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<span class="strong"><strong>Device</strong></span>
</li><li class="listitem">
<span class="strong"><strong>Workgroup</strong></span>
</li><li class="listitem">
<span class="strong"><strong>Invocation</strong></span>
</li></ul></div></li><li class="listitem">
The <span class="strong"><strong><code class="code">OriginLowerLeft</code></strong></span> execution mode <span class="normative">must</span> not be used; fragment
    entry points <span class="normative">must</span> declare <span class="strong"><strong><code class="code">OriginUpperLeft</code></strong></span>.
</li><li class="listitem">
The <span class="strong"><strong><code class="code">PixelCenterInteger</code></strong></span> execution mode <span class="normative">must</span> not be used.
    Pixels are always centered at half-integer coordinates.
</li><li class="listitem"><p class="simpara">
Images
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> <span class="normative">must</span> declare a scalar 32-bit float or 32-bit integer
     type for the “Sampled Type”.
     (<span class="strong"><strong><code class="code">RelaxedPrecision</code></strong></span> <span class="normative">can</span> be applied to a sampling instruction and to
     the variable holding the result of a sampling instruction.)
</li><li class="listitem">
<span class="strong"><strong><code class="code">OpSampledImage</code></strong></span> <span class="normative">must</span> only consume an “Image” operand whose type
     has its “Sampled” operand set to 1.
</li><li class="listitem">
The “(u, v)” coordinates used for a <span class="strong"><strong><code class="code">SubpassData</code></strong></span> <span class="normative">must</span> be the
     &lt;id&gt; of a constant vector (0, 0), or if a layer coordinate is used,
     <span class="normative">must</span> be a vector that was formed with constant 0 for the “u” and
     “v” components.
</li><li class="listitem">
The “Depth” operand of <span class="strong"><strong><code class="code">OpTypeImage</code></strong></span> is ignored.
</li></ul></div></li><li class="listitem"><p class="simpara">
Decorations
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
The <span class="strong"><strong><code class="code">GLSLShared</code></strong></span> and <span class="strong"><strong><code class="code">GLSLPacked</code></strong></span> decorations <span class="normative">must</span> not be used.
</li><li class="listitem">
The <span class="strong"><strong><code class="code">Flat</code></strong></span>, <span class="strong"><strong><code class="code">NoPerspective</code></strong></span>, <span class="strong"><strong><code class="code">Sample</code></strong></span>, and <span class="strong"><strong><code class="code">Centroid</code></strong></span>
     decorations <span class="normative">must</span> not be used on variables with storage class other
     than <span class="strong"><strong><code class="code">Input</code></strong></span> or on variables used in the interface of non-fragment
     shader entry points.
</li><li class="listitem">
The <span class="strong"><strong><code class="code">Patch</code></strong></span> decoration <span class="normative">must</span> not be used on variables in the
     interface of a vertex, geometry, or fragment shader stage’s entry
     point.
</li></ul></div></li><li class="listitem">
<span class="strong"><strong><code class="code">OpTypeRuntimeArray</code></strong></span> <span class="normative">must</span> only be used for the last member of an
    <span class="strong"><strong><code class="code">OpTypeStruct</code></strong></span> in the <span class="strong"><strong><code class="code">Uniform</code></strong></span> storage class.
</li><li class="listitem">
Linkage: See <a class="link" href="#interfaces" title="Chapter 14. Shader Interfaces">Shader Interfaces</a> for additional linking and
    validation rules.
</li><li class="listitem"><p class="simpara">
Compute Shaders
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
For each compute shader entry point, either a <span class="strong"><strong><code class="code">LocalSize</code></strong></span> execution
     mode or an object decorated with the <span class="strong"><strong><code class="code">WorkgroupSize</code></strong></span> decoration
     <span class="normative">must</span> be specified.
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="spirvenv-precision-operation"></a>A.4. Precision and Operation of SPIR-V Instructions</h2></div></div></div><p>The following rules apply to both single and double-precision floating point
instructions:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Positive and negative infinities and positive and negative zeros are
    generated as dictated by <a class="link" href="#ieee-754">IEEE 754</a>, but subject to the
    precisions allowed in the following table.
</li><li class="listitem">
Dividing a non-zero by a zero results in the appropriately signed
    <a class="link" href="#ieee-754">IEEE 754</a> infinity.
</li><li class="listitem">
Any denormalized value input into a shader or potentially generated by
    any instruction in a shader <span class="normative">may</span> be flushed to 0.
</li><li class="listitem">
The rounding mode <span class="normative">cannot</span> be set and is undefined.
</li><li class="listitem">
NaNs <span class="normative">may</span> not be generated.
    Instructions that operate on a NaN <span class="normative">may</span> not result in a NaN.
</li><li class="listitem">
Support for signaling NaNs is <span class="normative">optional</span> and exceptions are never raised.
</li></ul></div><p>The precision of double-precision instructions is at least that of single
precision.
For single precision (32 bit) instructions, precisions are <span class="normative">required</span> to be
at least as follows, unless decorated with RelaxedPrecision:</p><div class="table"><a id="id-1.35.6.5"></a><p class="title"><strong>Table A.2. Precision of core SPIR-V Instructions</strong></p><div class="table-contents"><table summary="Precision of core SPIR-V Instructions" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Instruction                                               </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Precision</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpFAdd</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Correctly rounded.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpFSub</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Correctly rounded.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpFMul</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Correctly rounded.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpFOrdEqual</code></strong></span>, <span class="strong"><strong><code class="code">OpFUnordEqual</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Correct result.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpFOrdLessThan</code></strong></span>, <span class="strong"><strong><code class="code">OpFUnordLessThan</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Correct result.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpFOrdGreaterThan</code></strong></span>, <span class="strong"><strong><code class="code">OpFUnordGreaterThan</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Correct result.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpFOrdLessThanEqual</code></strong></span>, <span class="strong"><strong><code class="code">OpFUnordLessThanEqual</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Correct result.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpFOrdGreaterThanEqual</code></strong></span>, <span class="strong"><strong><code class="code">OpFUnordGreaterThanEqual</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Correct result.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">OpFDiv</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2.5 ULP for b in the range [2<sup>-126</sup>, 2<sup>126</sup>].</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>conversions between types</p></td><td style="" align="left" valign="top"><p>Correctly rounded.</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="id-1.35.6.6"></a><p class="title"><strong>Table A.3. Precision of GLSL.std.450 Instructions</strong></p><div class="table-contents"><table summary="Precision of GLSL.std.450 Instructions" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Instruction                 </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Precision</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">fma</code></strong></span>()</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Inherited from <span class="strong"><strong><code class="code">OpFMul</code></strong></span> followed by <span class="strong"><strong><code class="code">OpFAdd</code></strong></span>.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">exp</code></strong></span>(x),  <span class="strong"><strong><code class="code">exp2</code></strong></span>(x)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$(3 + 2 \times |x|)$
</span></span> ULP.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">log</code></strong></span>(),  <span class="strong"><strong><code class="code">log2</code></strong></span>()</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>3 ULP outside the range [0.5, 2.0]. Absolute error &lt; 2<sup>-21</sup> inside the range [0.5, 2.0].</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">pow</code></strong></span>(x, y)</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Inherited from <span class="strong"><strong><code class="code">exp2</code></strong></span>(y × <span class="strong"><strong><code class="code">log2</code></strong></span>(x)).</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">sqrt</code></strong></span>()</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Inherited from 1.0 / <span class="strong"><strong><code class="code">inversesqrt</code></strong></span>().</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">inversesqrt</code></strong></span>()</p></td><td style="" align="left" valign="top"><p>2 ULP.</p></td></tr></tbody></table></div></div><br class="table-break" /><p>GLSL.std.450 extended instructions specifically defined in terms of the
above instructions inherit the above errors.
GLSL.std.450 extended instructions not listed above and not defined in terms
of the above have undefined precision.
These include, for example, the trigonometric functions and determinant.</p><p>For the <span class="strong"><strong><code class="code">OpSRem</code></strong></span> and <span class="strong"><strong><code class="code">OpSMod</code></strong></span> instructions, if either operand is
negative the result is undefined.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>While the <span class="strong"><strong><code class="code">OpSRem</code></strong></span> and <span class="strong"><strong><code class="code">OpSMod</code></strong></span> instructions are supported by the
Vulkan environment, they require non-negative values and thus do not enable
additional functionality beyond what <span class="strong"><strong><code class="code">OpUMod</code></strong></span> provides.</p></td></tr></table></div><p><a id="spirvenv-image-formats"></a><strong>Compatibility Between SPIR-V Image Formats And Vulkan Formats. </strong>Images which are read from or written to by shaders <span class="normative">must</span> have SPIR-V image
formats compatible with the Vulkan image formats backing the image under the
circumstances described for <a class="link" href="#textures-operation-validation" title="Instruction/Sampler/Image Validation">texture image validation</a>.
The compatibile formats are:</p><div class="table"><a id="id-1.35.6.11"></a><p class="title"><strong>Table A.4. SPIR-V and Vulkan Image Format Compatibility</strong></p><div class="table-contents"><table summary="SPIR-V and Vulkan Image Format Compatibility" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">SPIR-V Image Format    </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Compatible Vulkan Format</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgba32f</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32B32A32_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgba16f</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16A16_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">R32f</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgba8</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8A8_UNORM</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgba8Snorm</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8A8_SNORM</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rg32f</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rg16f</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">R11fG11fB10f</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_B10G11R11_UFLOAT_PACK32</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">R16f</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16_SFLOAT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgba16</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16A16_UNORM</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgb10A2</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2B10G10R10_UNORM_PACK32</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rg16</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16_UNORM</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rg8</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8_UNORM</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">R16</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16_UNORM</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">R8</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8_UNORM</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgba16Snorm</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16A16_SNORM</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rg16Snorm</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16_SNORM</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rg8Snorm</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8_SNORM</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">R16Snorm</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16_SNORM</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">R8Snorm</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8_SNORM</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgba32i</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32B32A32_SINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgba16i</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16A16_SINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgba8i</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8A8_SINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">R32i</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32_SINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rg32i</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32_SINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rg16i</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16_SINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rg8i</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8_SINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">R16i</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16_SINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">R8i</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8_SINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgba32ui</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32B32A32_UINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgba16ui</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16B16A16_UINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgba8ui</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8B8A8_UINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">R32ui</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32_UINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rgb10a2ui</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_A2B10G10R10_UINT_PACK32</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rg32ui</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R32G32_UINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rg16ui</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16G16_UINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">Rg8ui</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R8G8_UINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">R16ui</code></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_R16_UINT</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong><code class="code">R8ui</code></strong></span></p></td><td style="" align="left" valign="top"><p><code class="code">VK_FORMAT_R8_UINT</code></p></td></tr></tbody></table></div></div><br class="table-break" /></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="_compressed_image_formats"></a>Appendix B. Compressed Image Formats</h1></div></div></div><p>The compressed texture formats used by Vulkan are described in the
specifically identified sections of the <a class="link" href="#data-format">Khronos Data Format Specification</a>, version 1.1.</p><p>Unless otherwise described, the quantities encoded in these compressed
formats are treated as normalized, unsigned values.</p><p>Those formats listed as sRGB-encoded have in-memory representations of <span class="emphasis"><em>R</em></span>,
<span class="emphasis"><em>G</em></span> and <span class="emphasis"><em>B</em></span> components which are nonlinearly-encoded as <span class="inlinemediaobject"><span class="phrase">
$R'$
</span></span>,
<span class="inlinemediaobject"><span class="phrase">
$G'$
</span></span>, and <span class="inlinemediaobject"><span class="phrase">
$B'$
</span></span>; any alpha component is unchanged.
As part of filtering, the nonlinear <span class="inlinemediaobject"><span class="phrase">
$R'$
</span></span>, <span class="inlinemediaobject"><span class="phrase">
$G'$
</span></span>, and
<span class="inlinemediaobject"><span class="phrase">
$B'$
</span></span> values are converted to linear <span class="emphasis"><em>R</em></span>, <span class="emphasis"><em>G</em></span>, and <span class="emphasis"><em>B</em></span>
components; any alpha component is unchanged.
The conversion between linear and nonlinear encoding is performed as
described in the “KHR_DF_TRANSFER_SRGB” section of the Khronos Data Format
Specification.</p><p></p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendix-compressedtex-bc"></a>B.1. Block-Compressed Image Formats</h2></div></div></div><div class="table"><a id="id-1.36.6.2"></a><p class="title"><strong>Table B.1. Mapping of Vulkan BC formats to descriptions</strong></p><div class="table-contents"><table summary="Mapping of Vulkan BC formats to descriptions" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="90%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> VkFormat </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> <a class="link" href="#data-format">Khronos Data Format Specification</a> description</th></tr></thead><tbody><tr><td style="border-bottom: 1px solid #527bbd; " colspan="2" align="center" valign="top"><p>Formats described in the “S3TC Compressed Texture Image Formats” chapter</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC1_RGB_UNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC1 with no alpha</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC1_RGB_SRGB_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC1 with no alpha, sRGB-encoded</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC1 with alpha</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC1 with alpha, sRGB-encoded</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC2_UNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC2</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC2_SRGB_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC2, sRGB-encoded</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC3_UNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC3</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC3_SRGB_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC3, sRGB-encoded</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " colspan="2" align="center" valign="top"><p>Formats described in the “RGTC Compressed Texture Image Formats” chapter</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC4_UNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC4 unsigned</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC4_SNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC4 signed</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC5_UNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC5 unsigned</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC5_SNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC5 signed</p></td></tr><tr><td style="border-bottom: 1px solid #527bbd; " colspan="2" align="center" valign="top"><p>Formats described in the “BPTC Compressed Texture Image Formats” chapter</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC6H_UFLOAT_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC6H (unsigned version)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC6H_SFLOAT_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC6H (signed version)</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC7_UNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>BC7</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_BC7_SRGB_BLOCK</code></p></td><td style="" align="left" valign="top"><p>BC7, sRGB-encoded</p></td></tr></tbody></table></div></div><br class="table-break" /><p></p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendix-compressedtex-etc2"></a>B.2. ETC Compressed Image Formats</h2></div></div></div><p>The following formats are described in the “ETC2 Compressed Texture Image
Formats” chapter of the <a class="link" href="#data-format">Khronos Data Format Specification</a>.</p><div class="table"><a id="id-1.36.7.3"></a><p class="title"><strong>Table B.2. Mapping of Vulkan ETC formats to descriptions</strong></p><div class="table-contents"><table summary="Mapping of Vulkan ETC formats to descriptions" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> VkFormat </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> <a class="link" href="#data-format">Khronos Data Format Specification</a> description</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>RGB ETC2</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>RGB ETC2 with sRGB encoding</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>RGB ETC2 with punch-through alpha</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>RGB ETC2 with punch-through alpha and sRGB</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>RGBA ETC2</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>RGBA ETC2 with sRGB encoding</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_EAC_R11_UNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Unsigned R11 EAC</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_EAC_R11_SNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Signed R11 EAC</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Unsigned RG11 EAC</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code></p></td><td style="" align="left" valign="top"><p>Signed RG11 EAC</p></td></tr></tbody></table></div></div><br class="table-break" /><p></p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendix-compressedtex-astc"></a>B.3. ASTC Compressed Image Formats</h2></div></div></div><p>ASTC formats are described in the “ASTC Compressed Texture Image Formats”
chapter of the <a class="link" href="#data-format">Khronos Data Format Specification</a>.</p><div class="table"><a id="id-1.36.8.3"></a><p class="title"><strong>Table B.3. Mapping of Vulkan ASTC formats to descriptions</strong></p><div class="table-contents"><table summary="Mapping of Vulkan ASTC formats to descriptions" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="75%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> VkFormat </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"> Compressed texel block dimensions </th><th style="border-bottom: 1px solid #527bbd; " align="center" valign="top"> sRGB-encoded</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$4\times 4$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$4\times 4$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$5\times 4$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$5\times 4$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$5\times 5$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$5\times 5$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$6\times 5$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$6\times 5$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$6\times 6$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$6\times 6$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$8\times 5$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$8\times 5$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$8\times 6$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$8\times 6$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$8\times 8$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$8\times 8$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$10\times 5$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$10\times 5$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$10\times 6$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$10\times 6$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$10\times 8$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$10\times 8$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$10\times 10$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$10\times 10$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$12\times 10$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$12\times 10$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$12\times 12$
</span></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p><span class="inlinemediaobject"><span class="phrase">
$12\times 12$
</span></span></p></td><td style="" align="center" valign="top"><p>Yes</p></td></tr></tbody></table></div></div><br class="table-break" /></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="extensions"></a>Appendix C. Layers &amp; Extensions</h1></div></div></div><p>Extensions to the Vulkan API <span class="normative">can</span> be defined by authors, groups of authors,
and the Khronos Vulkan Working Group.
In order not to compromise the readability of the Vulkan Specification, the
core Specification does not incorporate most extensions.
The online Registry of extensions is available at URL</p><p><a class="ulink" href="http://www.khronos.org/registry/vulkan/" target="_top">http://www.khronos.org/registry/vulkan/</a></p><p>and allows generating versions of the Specification incorporating different
extensions.</p><p>Most of the content previously in this appendix does not specify <span class="strong"><strong>use</strong></span> of
specific Vulkan extensions and layers, but rather specifies the processes by
which extensions and layers are created.
As of version 1.0.21 of the Vulkan Specification, this content has been
migrated to the <a class="link" href="#vulkan-styleguide">Vulkan Documentation and Extensions</a>
document.
Authors creating extensions and layers <span class="normative">must</span> follow the mandatory procedures
in that document.</p><p>The remainder of this appendix documents a set of extensions chosen when
this document was built.
Versions of the Specification published in the Registry include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Core API + mandatory extensions required of all Vulkan implementations.
</li><li class="listitem">
Core API + all registered and published Khronos (<code class="literal">KHR</code>) extensions.
</li><li class="listitem">
Core API + all registered and published extensions.
</li></ul></div><p>Extensions are grouped as Khronos, multivendor <code class="literal">EXT</code>, and then by vendor
alphabetically.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="VK_KHR_sampler_mirror_clamp_to_edge"></a>C.1. VK_KHR_sampler_mirror_clamp_to_edge</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>Name String</strong></span>
</span></dt><dd>
    <code class="literal">VK_KHR_sampler_mirror_clamp_to_edge</code>
</dd><dt><span class="term">
<span class="strong"><strong>Extension Type</strong></span>
</span></dt><dd>
    Device extension
</dd><dt><span class="term">
<span class="strong"><strong>Registered Extension Number</strong></span>
</span></dt><dd>
    15
</dd><dt><span class="term">
<span class="strong"><strong>Status</strong></span>
</span></dt><dd>
    Final
</dd><dt><span class="term">
<span class="strong"><strong>Last Modified Date</strong></span>
</span></dt><dd>
    2016-02-16
</dd><dt><span class="term">
<span class="strong"><strong>Revision</strong></span>
</span></dt><dd>
    1
</dd><dt><span class="term">
<span class="strong"><strong>Dependencies</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
This extension is written against version 1.0.
      of the Vulkan API.
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contributors</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Tobias Hector, Imagination Technologies
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contacts</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Tobias Hector (<a class="ulink" href="mailto:tobias.hector@imgtec.com" target="_top">tobias.hector@imgtec.com</a>)
</li></ul></div></dd></dl></div><p>VK_KHR_sampler_mirror_clamp_to_edge extends the set of sampler address modes
to include an additional mode
(<code class="code">VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code>) that effectively uses a
texture map twice as large as the original image in which the additional
half of the new image is a mirror image of the original image.</p><p>This new mode relaxes the need to generate images whose opposite edges match
by using the original image to generate a matching “mirror image”.
This mode allows the texture to be mirrored only once in the negative s, t,
and r directions.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_new_enum_constants"></a>C.1.1. New Enum Constants</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Extending <code class="code"><a class="link" href="#VkSamplerAddressMode">VkSamplerAddressMode</a></code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code>
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_example"></a>C.1.2. Example</h3></div></div></div><p>Creating a sampler with the new address mode in each dimension</p><pre class="programlisting">    VkSamplerCreateInfo createInfo =
    {
        VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO // sType
        // Other members set to application-desired values
    };

    createInfo.addressModeU = VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE;
    createInfo.addressModeV = VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE;
    createInfo.addressModeW = VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE;

    VkSampler sampler;
    VkResult result = vkCreateSampler(
        device,
        &amp;createInfo,
        &amp;sampler);</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_version_history"></a>C.1.3. Version History</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Revision 1, 2016-02-16 (Tobias Hector)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Initial draft
</li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_window_system_integration_wsi_extensions"></a>C.2. Window System Integration (WSI) Extensions</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_editors"></a>C.2.1. Editors</h3></div></div></div><p>Significant specification work was performed by the following editors:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Ian Elliott, LunarG
</li><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
Daniel Rakos, AMD
</li></ul></div><p>Relevant information is now documented for each extension.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="VK_KHR_surface"></a>C.2.2. VK_KHR_surface</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>Name String</strong></span>
</span></dt><dd>
    <code class="literal">VK_KHR_surface</code>
</dd><dt><span class="term">
<span class="strong"><strong>Extension Type</strong></span>
</span></dt><dd>
    Instance extension
</dd><dt><span class="term">
<span class="strong"><strong>Registered Extension Number</strong></span>
</span></dt><dd>
    1
</dd><dt><span class="term">
<span class="strong"><strong>Last Modified Date</strong></span>
</span></dt><dd>
    2016-14-01
</dd><dt><span class="term">
<span class="strong"><strong>Revision</strong></span>
</span></dt><dd>
    25
</dd><dt><span class="term">
<span class="strong"><strong>IP Status</strong></span>
</span></dt><dd>
    No known IP claims.
</dd><dt><span class="term">
<span class="strong"><strong>Dependencies</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
This extension is written against version 1.0 of the Vulkan API.
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contributors</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Patrick Doane, Blizzard
</li><li class="listitem">
Ian Elliott, LunarG
</li><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
David Mao, AMD
</li><li class="listitem">
Norbert Nopper, Freescale
</li><li class="listitem">
Alon Or-bach, Samsung
</li><li class="listitem">
Daniel Rakos, AMD
</li><li class="listitem">
Graham Sellers, AMD
</li><li class="listitem">
Jeff Vigil, Qualcomm
</li><li class="listitem">
Chia-I Wu, LunarG
</li><li class="listitem">
Jason Ekstrand, Intel
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contacts</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
Ian Elliott, LunarG
</li></ul></div></dd></dl></div><p>The <code class="literal">VK_KHR_surface</code> extension is an instance extension.
It introduces <code class="code">VkSurfaceKHR</code> objects, which abstract native platform
surface or window objects for use with Vulkan.
It also provides a way to determine whether a queue family in a physical
device supports presenting to particular surface.</p><p>Separate extensions for each each platform provide the mechanisms for
creating <code class="code">VkSurfaceKHR</code> objects, but once created they may be used in
this and other platform-independent extensions, in particular the
<code class="literal">VK_KHR_swapchain</code> extension.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_object_types"></a>New Object Types</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VkSurfaceKHR</code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enum_constants_2"></a>New Enum Constants</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Extending <code class="code">VkResult</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_ERROR_SURFACE_LOST_KHR</code>
</li><li class="listitem">
<code class="code">VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code>
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enums"></a>New Enums</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VkSurfaceTransformFlagBitsKHR</code>
</li><li class="listitem">
<code class="code">VkPresentModeKHR</code>
</li><li class="listitem">
<code class="code">VkColorSpaceKHR</code>
</li><li class="listitem">
<code class="code">VkCompositeAlphaFlagBitsKHR</code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_structures"></a>New Structures</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkSurfaceFormatKHR">VkSurfaceFormatKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_functions"></a>New Functions</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#vkDestroySurfaceKHR">vkDestroySurfaceKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_examples"></a>Examples</h4></div></div></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The example code for the <code class="literal">VK_KHR_surface</code> and <code class="literal">VK_KHR_swapchain</code> extensions will
be removed from future versions of this appendix.
The WSI example code was ported to the cube demo, that is shipped with the
official Khronos SDK, and has been kept up-to-date in that location.
There is little reason to maintain this example code in the appendix as
well.</p></td></tr></table></div><p><span class="strong"><strong>Example 1</strong></span></p><p>Show how to obtain function pointers for WSI commands.
Most applications <span class="normative">should</span> not need to do this, because the functions for the
WSI extensions that are relevant for a given platform are exported by the
official loader for that platform (e.g.
the official Khronos loader for Microsoft Windows and Linux, and the Android
loader).
Other examples, will directly call the relevant command, not through a
function pointer.</p><pre class="programlisting">extern VkInstance instance;

...

// Obtain function pointers for the VK_KHR_surface commands:
PFN_vkGetPhysicalDeviceSurfaceSupportKHR pfnGetPhysicalDeviceSurfaceSupportKHR =
    (PFN_vkGetPhysicalDeviceSurfaceSupportKHR)vkGetInstanceProcAddr(instance,
                                                                    "vkGetPhysicalDeviceSurfaceSupportKHR");
PFN_vkGetPhysicalDeviceSurfaceCapabilitiesKHR pfnGetPhysicalDeviceSurfaceCapabilitiesKHR =
    (PFN_vkGetPhysicalDeviceSurfaceCapabilitiesKHR)vkGetInstanceProcAddr(instance,
                                                                         "vkGetPhysicalDeviceSurfaceCapabilitiesKHR");
PFN_vkGetPhysicalDeviceSurfaceFormatsKHR pfnGetPhysicalDeviceSurfaceFormatsKHR =
    (PFN_vkGetPhysicalDeviceSurfaceFormatsKHR)vkGetInstanceProcAddr(instance,
                                                                    "vkGetPhysicalDeviceSurfaceFormatsKHR");
PFN_vkGetPhysicalDeviceSurfacePresentModesKHR pfnGetPhysicalDeviceSurfacePresentModesKHR =
    (PFN_vkGetPhysicalDeviceSurfacePresentModesKHR)vkGetInstanceProcAddr(instance,
                                                                         "vkGetPhysicalDeviceSurfacePresentModesKHR");</pre><p><span class="strong"><strong>Example 2</strong></span></p><p>Pick which queues on a physical device to use for graphics and present
operations for a given surface, and create a device with those queues.</p><pre class="programlisting">    extern VkInstance instance;
    extern VkPhysicalDevice physicalDevice;
    extern VkSurfaceKHR surface;
    extern void Error(const char *);

    uint32_t queueFamilyCount;
    vkGetPhysicalDeviceQueueFamilyProperties(physicalDevice,
                                             &amp;queueFamilyCount, NULL);

    VkQueueFamilyProperties* pMainQueueInfo =
        (VkQueueFamilyProperties*)malloc(queueFamilyCount * sizeof(VkQueueFamilyProperties));
    VkBool32* pSupportsPresent =
        (VkBool32 *)malloc(queueFamilyCount * sizeof(VkBool32));

    vkGetPhysicalDeviceQueueFamilyProperties(physicalDevice, &amp;queueFamilyCount,
                                             pMainQueueInfo);

    for (uint32_t i = 0; i &lt; queueFamilyCount; ++i)
        vkGetPhysicalDeviceSurfaceSupportKHR(physicalDevice, i, surface,
                                             &amp;pSupportsPresent[i]);

    // Search for a graphics and a present queue in the array of queue
    // families, try to find one that supports both
    uint32_t graphicsQueueFamilyIndex = UINT32_MAX;
    uint32_t presentQueueFamilyIndex  = UINT32_MAX;
    for (uint32_t i = 0; i &lt; queueFamilyCount; ++i)
    {
        if ((pMainQueueInfo[i].queueFlags &amp; VK_QUEUE_GRAPHICS_BIT) != 0)
        {
            if (graphicsQueueFamilyIndex == UINT32_MAX)
                graphicsQueueFamilyIndex = i;

            if (pSupportsPresent[i] == VK_TRUE)
            {
                graphicsQueueFamilyIndex = i;
                presentQueueFamilyIndex = i;
                break;
            }
        }
    }

    if (presentQueueFamilyIndex == UINT32_MAX)
    {
        // If did not find a queue that supports both graphics and present, then
        // find a separate present queue.
        for (size_t i = 0; i &lt; queueFamilyCount; ++i)
            if (pSupportsPresent[i] == VK_TRUE)
            {
                presentQueueFamilyIndex = i;
                break;
            }
    }

    // Free the temporary queue info allocations
    free(pMainQueueInfo);
    free(pSupportsPresent);

    // Generate error if could not find both a graphics and a present queue
    if (graphicsQueueFamilyIndex == UINT32_MAX ||
        presentQueueFamilyIndex == UINT32_MAX)
    {
        Error("Could not find a graphics and a present queue");
    }

    // Put together the list of requested queues
    const float queuePriority = 1.0f;
    const VkDeviceQueueCreateInfo requestedQueues[] =
    {
        {
            VK_STRUCTURE_TYPE_DEVICE_QUEUE_CREATE_INFO, // sType
            NULL,                                       // pNext
            0,                                          // flags
            graphicsQueueFamilyIndex,                   // queueFamilyIndex
            1,                                          // queueCount
            &amp;queuePriority                              // pQueuePriorities
        },
        {
            VK_STRUCTURE_TYPE_DEVICE_QUEUE_CREATE_INFO, // sType
            NULL,                                       // pNext
            0,                                          // flags
            presentQueueFamilyIndex,                    // queueFamilyIndex
            1,                                          // queueCount
            &amp;queuePriority                              // pQueuePriorities
        }
    };
    uint32_t requestedQueueCount = 2;

    if (graphicsQueueFamilyIndex == presentQueueFamilyIndex)
    {
        // We need only a single queue if the graphics queue is also the
        // present queue
        requestedQueueCount = 1;
    }

    // Create a device and request access to the specified queues
    const VkDeviceCreateInfo deviceCreateInfo =
    {
        VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO,           // sType
        NULL,                                           // pNext
        0,                                              // flags
        requestedQueueCount,                            // queueCreateInfoCount
        &amp;requestedQueues,                               // pQueueCreateInfos
        ...
    };

    VkDevice device;
    vkCreateDevice(physicalDevice, &amp;deviceCreateInfo, &amp;device);

    // Acquire graphics and present queue handle from device
    VkQueue graphicsQueue, presentQueue;
    vkGetDeviceQueue(device, graphicsQueueFamilyIndex, 0, &amp;graphicsQueue);
    vkGetDeviceQueue(device, presentQueueFamilyIndex, 0, &amp;presentQueue);</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_issues"></a>Issues</h4></div></div></div><p>1) Should this extension include a method to query whether a physical device
   supports presenting to a specific window or native surface on a given
   platform?</p><pre class="literallayout">RESOLVED: Yes.
Without this, applications would need to create a device instance to
determine whether a particular window can be presented to.
Knowing that a device supports presentation to a platform in general is
not sufficient, as a single machine might support multiple seats, or
instances of the platform that each use different underlying physical
devices.
Additionally, some platforms, such as X windows, different drivers and
devices might be used for different windows depending on which section of
the desktop they exist on.</pre><p>2) Should the vkGetSurfacePropertiesKHR(), vkGetSurfaceFormatsKHR(), and
   vkGetSurfacePresentModesKHR() functions from VK_KHR_swapchain be modified
   to operate on physical devices and moved to this extension to implement
   the resolution of issue 1?</p><pre class="literallayout">RESOLVED: No, separate query functions are needed, as the purposes served
are similar but incompatible.
The vkGetSurface*KHR functions return information that could potentially
depend on an initialized device.
For example, the formats supported for presentation to the surface might
vary depending on which device extensions are enabled.
The query introduced to resolve issue 1 should be used only to query
generic driver or platform properties.
The physical device parameter is intended to serve only as an identifier
rather than a stateful object.</pre><p>3) Should Vulkan include support Xlib or XCB as the API for accessing the X
   Window System platform?</p><pre class="literallayout">RESOLVED: Both.
XCB is a more modern and efficient API, but Xlib usage is deeply
ingrained in many applications and likely will remain in use for the
foreseeable future.
Not all drivers necessarily need to support both, but including both as
options in the core specification will probably encourage support, which
should in turn eases adoption of the Vulkan API in older codebases.
Additionally, the performance improvements possible with XCB likely will not
have a measurable impact on the performance of Vulkan presentation and
other minimal window system interactions defined here.</pre><p>4) Should the GBM platform be included in the list of platform enums?</p><pre class="literallayout">RESOLVED: Deferred, and will be addressed with a platform-specific
extension to be written in the future.</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_version_history_2"></a>Version History</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Revision 1, 2015-05-20 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Initial draft, based on LunarG KHR spec, other KHR specs, patches
     attached to bugs.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 2, 2015-05-22 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Created initial Description section.
</li><li class="listitem">
Removed query for whether a platform requires the use of a queue for
     presentation, since it was decided that presentation will always be
     modeled as being part of the queue.
</li><li class="listitem">
Fixed typos and other minor mistakes.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 3, 2015-05-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Improved the Description section.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 4, 2015-05-27 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Fixed compilation errors in example code.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 5, 2015-06-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added issues 1 and 2 and made related spec updates.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 6, 2015-06-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Merged the platform type mappings table previously removed from
     VK_KHR_swapchain with the platform description table in this spec.
</li><li class="listitem">
Added issues 3 and 4 documenting choices made when building the initial
     list of native platforms supported.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 7, 2015-06-11 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated table 1 per input from the KHR TSG.
</li><li class="listitem">
Updated issue 4 (GBM) per discussion with Daniel Stone.
     He will create a platform-specific extension sometime in the future.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 8, 2015-06-17 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated enum-extending values using new convention.
</li><li class="listitem">
Fixed the value of VK_SURFACE_PLATFORM_INFO_TYPE_SUPPORTED_KHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 9, 2015-06-17 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Rebased on Vulkan API version 126.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 10, 2015-06-18 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Marked issues 2 and 3 resolved.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 11, 2015-06-23 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Examples now show use of function pointers for extension functions.
</li><li class="listitem">
Eliminated extraneous whitespace.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 12, 2015-07-07 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added error section describing when each error is expected to be
     reported.
</li><li class="listitem">
Replaced the term "queue node index" with "queue family index" in the
     spec as that is the agreed term to be used in the latest version of the
     core header and spec.
</li><li class="listitem">
Replaced bool32_t with VkBool32.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 13, 2015-08-06 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated spec against latest core API header version.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 14, 2015-08-20 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed this extension and all of its enumerations, types, functions,
     etc.
     This makes it compliant with the proposed standard for Vulkan
     extensions.
</li><li class="listitem">
Switched from "revision" to "version", including use of the
     VK_MAKE_VERSION macro in the header file.
</li><li class="listitem">
Did miscellaneous cleanup, etc.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 15, 2015-08-20 (Ian Elliott—porting a 2015-07-29 change from
   James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Moved the surface transform enums here from VK_WSI_swapchain so they
     could be re-used by VK_WSI_display.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 16, 2015-09-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Restore single-field revision number.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 17, 2015-09-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Fix example code compilation errors.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 18, 2015-09-26 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Replaced VkSurfaceDescriptionKHR with the VkSurfaceKHR object, which is
     created via layered extensions.
     Added VkDestroySurfaceKHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 19, 2015-09-28 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed from VK_EXT_KHR_swapchain to VK_EXT_KHR_surface.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 20, 2015-09-30 (Jeff Vigil)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Add error result VK_ERROR_SURFACE_LOST_KHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 21, 2015-10-15 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated the resolution of issue #2 and include the surface capability
     queries in this extension.
</li><li class="listitem">
Renamed SurfaceProperties to SurfaceCapabilities as it better reflects
     that the values returned are the capabilities of the surface on a
     particular device.
</li><li class="listitem">
Other minor cleanup and consistency changes.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 22, 2015-10-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed from VK_EXT_KHR_surface to VK_KHR_surface.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 23, 2015-11-03 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added allocation callbacks to vkDestroySurfaceKHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 24, 2015-11-10 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Removed VkSurfaceTransformKHR.
     Use VkSurfaceTransformFlagBitsKHR instead.
</li><li class="listitem">
Rename VkSurfaceCapabilitiesKHR member maxImageArraySize to
     maxImageArrayLayers.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 25, 2016-01-14 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Moved VK_ERROR_NATIVE_WINDOW_IN_USE_KHR from the VK_KHR_android_surface
     to the VK_KHR_surface extension.
</li></ul></div></li><li class="listitem"><p class="simpara">
2016-08-23 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Update the example code, to not have so many characters per line, and
     to split out a new example to show how to obtain function pointers.
</li></ul></div></li><li class="listitem"><p class="simpara">
2016-08-25 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
A note was added at the beginning of the example code, stating that it
     will be removed from future versions of the appendix.
</li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="VK_KHR_swapchain"></a>C.2.3. VK_KHR_swapchain</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>Name String</strong></span>
</span></dt><dd>
    <code class="literal">VK_KHR_swapchain</code>
</dd><dt><span class="term">
<span class="strong"><strong>Extension Type</strong></span>
</span></dt><dd>
    Device extension
</dd><dt><span class="term">
<span class="strong"><strong>Registered Extension Number</strong></span>
</span></dt><dd>
    2
</dd><dt><span class="term">
<span class="strong"><strong>Last Modified Date</strong></span>
</span></dt><dd>
    2016-05-04
</dd><dt><span class="term">
<span class="strong"><strong>Revision</strong></span>
</span></dt><dd>
    68
</dd><dt><span class="term">
<span class="strong"><strong>IP Status</strong></span>
</span></dt><dd>
    No known IP claims.
</dd><dt><span class="term">
<span class="strong"><strong>Dependencies</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
This extension is written against version 1.0 of the Vulkan API.
</li><li class="listitem">
This extension requires <code class="literal">VK_KHR_surface</code>.
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contributors</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Patrick Doane, Blizzard
</li><li class="listitem">
Ian Elliott, LunarG
</li><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
Mathias Heyer, NVIDIA
</li><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
David Mao, AMD
</li><li class="listitem">
Norbert Nopper, Freescale
</li><li class="listitem">
Alon Or-bach, Samsung
</li><li class="listitem">
Daniel Rakos, AMD
</li><li class="listitem">
Graham Sellers, AMD
</li><li class="listitem">
Jeff Vigil, Qualcomm
</li><li class="listitem">
Chia-I Wu, LunarG
</li><li class="listitem">
Jason Ekstrand, Intel
</li><li class="listitem">
Matthaeus G.
    Chajdas, AMD
</li><li class="listitem">
Ray Smith, ARM
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contacts</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
Ian Elliott, LunarG
</li></ul></div></dd></dl></div><p>The <code class="literal">VK_KHR_swapchain</code> extension is the device-level companion to the
<code class="literal">VK_KHR_surface</code> extension.
It introduces <code class="code">VkSwapchainKHR</code> objects, which provide the ability to
present rendering results to a surface.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_object_types_2"></a>New Object Types</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VkSwapchainKHR</code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enum_constants_3"></a>New Enum Constants</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Extending <code class="code">VkStructureType</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR</code>
</li><li class="listitem">
<code class="code">VK_STRUCTURE_TYPE_PRESENT_INFO_KHR</code>
</li></ul></div></li><li class="listitem"><p class="simpara">
Extending <code class="code">VkImageLayout</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>
</li></ul></div></li><li class="listitem"><p class="simpara">
Extending <code class="code">VkResult</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_SUBOPTIMAL_KHR</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DATE_KHR</code>
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enums_2"></a>New Enums</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_structures_2"></a>New Structures</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkPresentInfoKHR">VkPresentInfoKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_functions_2"></a>New Functions</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetSwapchainImagesKHR">vkGetSwapchainImagesKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkQueuePresentKHR">vkQueuePresentKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_issues_2"></a>Issues</h4></div></div></div><p>1) Does this extension allow the application to specify the memory backing
    of the presentable images?</p><pre class="literallayout">RESOLVED: No.
Unlike standard images, the implementation will allocate the memory
backing of the presentable image.</pre><p>2) What operations are allowed on presentable images?</p><pre class="literallayout">RESOLVED: This is determined by the imageUsageFlags specified when
creating the presentable image's swapchain.</pre><p>3) Does this extension support MSAA presentable images?</p><pre class="literallayout">RESOLVED: No.
Presentable images are always single-sampled.
Multi-sampled rendering must use regular images.
To present the rendering results the application must manually resolve
the multi- sampled image to a single-sampled presentable image prior to
presentation.</pre><p>4) Does this extension support stereo/multi-view presentable images?</p><pre class="literallayout">RESOLVED: Yes.
The number of views associated with a presentable image is determined by
the imageArraySize specified when creating a swapchain.
All presentable images in a given swapchain use the same array size.</pre><p>5) Are the layers of stereo presentable images half-sized?</p><pre class="literallayout">RESOLVED: No.
The image extents always match those requested by the application.</pre><p>6) Do the "present" and "acquire next image" commands operate on a queue? If
    not, do they need to include explicit semaphore objects to interlock
    them with queue operations?</p><pre class="literallayout">RESOLVED: The present command operates on a queue.
The image ownership operation it represents happens in order with other
operations on the queue, so no explicit semaphore object is required to
synchronize its actions.
Applications may want to acquire the next image in separate threads from
those in which they manage their queue, or in multiple threads.
To make such usage easier, the acquire next image command takes a
semaphore to signal as a method of explicit synchronization.
The application must later queue a wait for this semaphore before
queuing execution of any commands using the image.</pre><p>7) Does vkAcquireNextImageKHR() block if no images are available?</p><pre class="literallayout">RESOLVED: The command takes a timeout parameter.
Special values for the timeout are 0, which makes the call a
non-blocking operation, and UINT64_MAX, which blocks indefinitely.
Values in between will block for up to the specified time.
The call will return when an image becomes available or an error occurs.
It may, but is not required to, return before the specified timeout
expires if the swapchain becomes out of date.</pre><p>8) Can multiple presents be queued using one QueuePresent call?</p><pre class="literallayout">RESOLVED: Yes.
VkPresentInfoKHR contains a list of swapchains and corresponding image
indices that will be presented.
When supported, all presentations queued with a single vkQueuePresentKHR
call will be applied atomically as one operation.
The same swapchain must not appear in the list more than once.
Later extensions may provide applications stronger guarantees of
atomicity for such present operations, and/or allow them to query
whether atomic presentation of a particular group of swapchains is
possible.</pre><p>9) How do the presentation and acquire next image functions notify the
    application the targeted surface has changed?</p><pre class="literallayout">RESOLVED: Two new result codes are introduced for this purpose:</pre><pre class="literallayout">VK_SUBOPTIMAL_KHR - Presentation will still succeed, subject to the
window resize behavior, but the swapchain is no longer configured
optimally for the surface it targets.
Applications should query updated surface information and recreate
their swapchain at the next convenient opportunity.</pre><pre class="literallayout">VK_ERROR_OUT_OF_DATE_KHR - Failure.
The swapchain is no longer compatible with the surface it targets.
The application must query updated surface information and recreate
the swapchain before presentation will succeed.</pre><pre class="literallayout">These can be returned by both vkAcquireNextImageKHR and
vkQueuePresentKHR.</pre><p>10) Does the vkAcquireNextImageKHR command return a semaphore to the
    application via an output parameter, or accept a semaphore to signal
    from the application as an object handle parameter?</p><pre class="literallayout">RESOLVED: Accept a semaphore to signal as an object handle.
This avoids the need to specify whether the application must destroy the
semaphore or whether it is owned by the swapchain, and if the latter,
what its lifetime is and whether it can be re-used for other operations
once it is received from vkAcquireNextImageKHR.</pre><p>11) What types of swapchain queuing behavior should be exposed? Options
    include swap interval specification, mailbox/most recent Vs.
    FIFO queue management, targeting specific vertical blank intervals or
    absolute times for a given present operation, and probably others.
    For some of these, whether they are specified at swapchain creation time
    or as per-present parameters needs to be decided as well.</p><pre class="literallayout">RESOLVED: The base swapchain extension will expose 3 possible behaviors
(of which, FIFO will always be supported):</pre><pre class="literallayout">-Immediate present: Does not wait for vertical blanking period to
 update the current image, likely resulting in visible tearing.
 No internal queue is used.
 Present requests are applied immediately.</pre><pre class="literallayout">-Mailbox queue: Waits for the next vertical blanking period to update
 the current image.
 No tearing should be observed.
 An internal single-entry queue is used to hold pending presentation
 requests.
 If the queue is full when a new presentation request is received,
 the new request replaces the existing entry, and any images
 associated with the prior entry become available for re-use by the
 application.</pre><pre class="literallayout">-FIFO queue: Waits for the next vertical blanking period to update
 the current image.
 No tearing should be observed.
 An internal queue containing (numSwapchainImages - 1) entries is
 used to hold pending presentation requests.
 New requests are appended to the end of the queue, and one request
 is removed from the beginning of the queue and processed during each
 vertical blanking period in which the queue is non-empty</pre><pre class="literallayout">Not all surfaces will support all of these modes, so the modes supported
will be returned using a surface info query.
All surfaces must support the FIFO queue mode.
Applications must choose one of these modes up front when creating a
swapchain.
Switching modes can be accomplished by recreating the swapchain.</pre><p>12) Can VK_PRESENT_MODE_MAILBOX_KHR provide non-blocking guarantees for
    vkAcquireNextImageKHR()? If so, what is the proper criteria?</p><pre class="literallayout">RESOLVED: Yes.
The difficulty is not immediately obvious here.
Naively, if at least 3 images are requested, mailbox mode should always
have an image available for the application if the application does not
own any images when the call to vkAcquireNextImageKHR() was made.
However, some presentation engines may have more than one "current"
image, and would still need to block in some cases.
The right requirement appears to be that if the application allocates
the surface's minimum number of images + 1 then it is guaranteed
non-blocking behavior when it does not currently own any images.</pre><p>13) Is there a way to create and initialize a new swapchain for a surface
    that has generated a VK_SUBOPTIMAL_KHR return code while still using the
    old swapchain?</p><pre class="literallayout">RESOLVED: Not as part of this specification.
This could be useful to allow the application to create an "optimal"
replacement swapchain and rebuild all its command buffers using it in a
background thread at a low priority while continuing to use the
"suboptimal" swapchain in the main thread.
It could probably use the same "atomic replace" semantics proposed for
recreating direct-to-device swapchains without incurring a mode switch.
However, after discussion, it was determined some platforms probably
could not support concurrent swapchains for the same surface though, so
this will be left out of the base KHR extensions.
A future extension could add this for platforms where it is supported.</pre><p>14) Should there be a special value for
    VkSurfacePropertiesKHR::maxImageCount to indicate there are no practical
    limits on the number of images in a swapchain?</p><pre class="literallayout">RESOLVED: Yes.
There where often be cases where there is no practical limit to the
number of images in a swapchain other than the amount of available
resources (I.e., memory) in the system.
Trying to derive a hard limit from things like memory size is prone to
failure.
It is better in such cases to leave it to applications to figure such
soft limits out via trial/failure iterations.</pre><p>15) Should there be a special value for
    VkSurfacePropertiesKHR::currentExtent to indicate the size of the
    platform surface is undefined?</p><pre class="literallayout">RESOLVED: Yes.
On some platforms (Wayland, for example), the surface size is defined by
the images presented to it rather than the other way around.</pre><p>16) Should there be a special value for
    VkSurfacePropertiesKHR::maxImageExtent to indicate there is no practical
    limit on the surface size?</p><pre class="literallayout">RESOLVED: No.
It seems unlikely such a system would exist.
0 could be used to indicate the platform places no limits on the extents
beyond those imposed by Vulkan for normal images, but this query could
just as easily return those same limits, so a special "unlimited" value
does not seem useful for this field.</pre><p>17) How should surface rotation and mirroring be exposed to applications?
    How do they specify rotation and mirroring transforms applied prior to
    presentation?</p><pre class="literallayout">RESOLVED: Applications can query both the supported and current
transforms of a surface.
Both are specified relative to the device's "natural" display rotation
and direction.
The supported transforms indicates which orientations the presentation
engine accepts images in.
For example, a presentation engine that does not support transforming
surfaces as part of presentation, and which is presenting to a surface
that is displayed with a 90-degree rotation, would return only one
supported transform bit: VK_SURFACE_TRANSFORM_ROT90_BIT_KHR.
Applications must transform their rendering by the transform they
specify when creating the swapchain in preTransform field.</pre><p>18) Can surfaces ever not support VK_MIRROR_NONE? Can they support vertical
    and horizontal mirroring simultaneously? Relatedly, should
    VK_MIRROR_NONE[_BIT] be zero, or bit one, and should applications be
    allowed to specify multiple pre and current mirror transform bits, or
    exactly one?</p><pre class="literallayout">RESOLVED: Since some platforms may not support presenting with a
transform other than the native window's current transform, and
prerotation/mirroring are specified relative to the device's natural
rotation and direction, rather than relative to the surface's current
rotation and direction, it is necessary to express lack of support for
no mirroring.
To allow this, the MIRROR_NONE enum must occupy a bit in the flags.
Since MIRROR_NONE must be a bit in the bitmask rather than a bitmask
with no values set, allowing more than one bit to be set in the bitmask
would make it possible to describe undefined transforms such as
VK_MIRROR_NONE_BIT | VK_MIRROR_HORIZONTAL_BIT, or a transform that
includes both "no mirroring" and "horizontal mirroring simultaneously.
Therefore, it is desirable to allow specifying all supported mirroring
transforms using only one bit.
The question then becomes, should there be a
VK_MIRROR_HORIZONTAL_AND_VERTICAL_BIT to represent a simultaneous
horizontal and vertical mirror transform? However, such a transform is
equivalent to a 180 degree rotation, so presentation engines and
applications that wish to support or use such a transform can express it
through rotation instead.
Therefore, 3 exclusive bits are sufficient to express all needed
mirroring transforms.</pre><p>19) Should support for sRGB be required?</p><pre class="literallayout">RESOLVED: In the advent of UHD and HDR display devices, proper color
space information is vital to the display pipeline represented by the
swapchain.
The app can discover the supported format/color-space pairs and select a
pair most suited to its rendering needs.
Currently only the sRGB color space is supported, future extensions may
provide support for more color spaces.
See issues 23) and 24).</pre><p>20) Is there a mechanism to modify or replace an existing swapchain with one
    targeting the same surface?</p><pre class="literallayout">RESOLVED: Yes.
This is described above in the text.</pre><p>21) Should there be a way to set prerotation and mirroring using native APIs
    when presenting using a Vulkan swapchain?</p><pre class="literallayout">RESOLVED: Yes.
The transforms that can be expressed in this extension are a subset of
those possible on native platforms.
If a platform exposes a method to specify the transform of presented
images for a given surface using native methods and exposes more
transforms or other properties for surfaces than Vulkan supports, it
might be impossible, difficult, or inconvenient to set some of those
properties using Vulkan KHR extensions and some using the native
interfaces.
To avoid overwriting properties set using native commands when
presenting using a Vulkan swapchain, the application can set the
pretransform to "inherit", in which case the current native properties
will be used, or if none are available, a platform-specific default will
be used.
Platforms that do not specify a reasonable default or do not provide
native mechanisms to specify such transforms should not include the
inherit bits in the supportedTransform bitmask they return in
VkSurfacePropertiesKHR.</pre><p>22) Should the content of presentable images be clipped by objects obscuring
    their target surface?</p><pre class="literallayout">RESOLVED: Applications can choose which behavior they prefer.
Allowing the content to be clipped could enable more optimal
presentation methods on some platforms, but some applications might rely
on the content of presentable images to perform techniques such as
partial updates or motion blurs.</pre><p>23) What is the purpose of specifying a VkColorSpaceKHR along with VkFormat
    when creating a swapchain?</p><pre class="literallayout">RESOLVED: While Vulkan itself is color space agnostic (e.g.
even the meaning of R, G, B and A can be freely defined by the rendering
application), the swapchain eventually will have to present the images
on a display device with specific color reproduction characteristics.
If any color space transformations are necessary before an image can be
displayed, the color space of the presented image must be known to the
swapchain.
A swapchain will only support a restricted set of color format and
-space pairs.
This set can be discovered via vkGetSurfaceInfoKHR.
As it can be expected that most display devices support the sRGB color
space, at least one format/color-space pair has to be exposed, where the
color space is VK_COLOR_SPACE_SRGB_NONLINEAR.</pre><p>24) How are sRGB formats and the sRGB color space related?</p><pre class="literallayout">RESOLVED: While Vulkan exposes a number of SRGB texture formats, using
such formats does not guarantee working in a specific color space.
It merely means that the hardware can directly support applying the
non-linear transfer functions defined by the sRGB standard color space
when reading from or writing to images of that these formats.
Still, it is unlikely that a swapchain will expose a _SRGB format along
with any color space other than VK_COLOR_SPACE_SRGB_NONLINEAR.</pre><pre class="literallayout">On the other hand, non-_SRGB formats will be very likely exposed in pair
with a SRGB color space.
This means, the hardware will not apply any transfer function when
reading from or writing to such images, yet they will still be presented
on a device with sRGB display characteristics.
In this case the application is responsible for applying the transfer
function, for instance by using shader math.</pre><p>25) How are the lifetime of surfaces and swapchains targeting them related?</p><pre class="literallayout">RESOLVED: A surface must outlive any swapchains targeting it.
A VkSurfaceKHR owns the binding of the native window to the Vulkan
driver.</pre><p>26) How can the client control the way the alpha channel of swap chain
    images is treated by the presentation engine during compositing?</p><pre class="literallayout">RESOLVED: We should add new enum values to allow the client to negotiate
with the presentation engine on how to treat image alpha values during
the compositing process.
Since not all platforms can practically control this through the Vulkan
driver, a value of INHERIT is provided like for surface transforms.</pre><p>27) Is vkCreateSwapchainKHR() the right function to return
    VK_ERROR_NATIVE_WINDOW_IN_USE_KHR, or should the various platform-
    specific VkSurface factory functions catch this error earlier?</p><pre class="literallayout">RESOLVED: For most platforms, the VkSurface structure is a simple
container holding the data that identifies a native window or other
object representing a surface on a particular platform.
For the surface factory functions to return this error, they would
likely need to register a reference on the native objects with the
native display server some how, and ensure no other such references
exist.
Surfaces were not intended to be that heavy- weight.</pre><pre class="literallayout">Swapchains are intended to be the objects that directly manipulate
native windows and communicate with the native presentation mechanisms.
Swapchains will already need to communicate with the native display
server to negotiate allocation and/or presentation of presentable images
for a native surface.
Therefore, it makes more sense for swapchain creation to be the point at
which native object exclusivity is enforced.
Platforms may choose to enforce further restrictions on the number of
VkSurface objects that may be created for the same native window if such
a requirement makes sense on a particular platform, but a global
requirement is only sensible at the swapchain level.</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_examples_2"></a>Examples</h4></div></div></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The example code for the <code class="literal">VK_KHR_surface</code> and <code class="literal">VK_KHR_swapchain</code> extensions will
be removed from future versions of this appendix.
The WSI example code was ported to the cube demo, that is shipped with the
official Khronos SDK, and has been kept up-to-date in that location.
There is little reason to maintain this example code in the appendix as
well.</p></td></tr></table></div><p><span class="strong"><strong>Example 1</strong></span></p><p>Show how to obtain function pointers for WSI commands.
Most applications <span class="normative">should</span> not need to do this, because the functions for the
WSI extensions that are relevant for a given platform are exported by the
official loader for that platform (e.g.
the official Khronos loader for Microsoft Windows and Linux, and the Android
loader).
Other examples, will directly call the relevant command, not through a
function pointer.</p><pre class="programlisting">extern VkDevice device;

...

// Obtain function pointers for the VK_KHR_swapchain commands:
PFN_vkCreateSwapchainKHR pfnCreateSwapchainKHR =
    (PFN_vkCreateSwapchainKHR)vkGetDeviceProcAddr(device,
                                                  "vkCreateSwapchainKHR");
PFN_vkGetSwapchainImagesKHR pfnGetSwapchainImagesKHR =
    (PFN_vkGetSwapchainImagesKHR)vkGetDeviceProcAddr(device,
                                                     "vkGetSwapchainImagesKHR");
PFN_vkAcquireNextImageKHR pfnAcquireNextImageKHR =
    (PFN_vkAcquireNextImageKHR)vkGetDeviceProcAddr(device,
                                                   "vkAcquireNextImageKHR");
PFN_vkQueuePresentKHR pfnQueuePresentKHR =
    (PFN_vkQueuePresentKHR)vkGetDeviceProcAddr(device,
                                               "vkQueuePresentKHR");
PFN_vkDestroySwapchainKHR pfnDestroySwapchainKHR =
    (PFN_vkDestroySwapchainKHR)vkGetDeviceProcAddr(device,
                                                   "vkDestroySwapchainKHR");</pre><p><span class="strong"><strong>Example 2</strong></span></p><p>Create a swapchain for a surface on a particular instance of a native
platform.</p><pre class="programlisting">    extern VkPhysicalDevice physicalDevice;
    extern VkDevice device;
    extern VkSurfaceKHR surface;

    // Check the surface properties and formats
    VkSurfaceCapabilitiesKHR surfCapabilities;
    vkGetPhysicalDeviceSurfaceCapabilitiesKHR(physicalDevice, surface,
                                              &amp;surfCapabilities);

    uint32_t formatCount;
    vkGetPhysicalDeviceSurfaceFormatsKHR(physicalDevice, surface,
                                         &amp;formatCount, NULL);

    VkSurfaceFormatKHR* pSurfFormats =
        (VkSurfaceFormatKHR*)malloc(formatCount * sizeof(VkSurfaceFormatKHR));
    vkGetPhysicalDeviceSurfaceFormatsKHR(physicalDevice, surface,
                                         &amp;formatCount, pSurfFormats);

    uint32_t presentModeCount;
    vkGetPhysicalDeviceSurfacePresentModesKHR(physicalDevice, surface,
                                              &amp;presentModeCount, NULL);

    VkPresentModeKHR* pPresentModes =
        (VkPresentModeKHR*)malloc(presentModeCount * sizeof(VkPresentModeKHR));
    vkGetPhysicalDeviceSurfacePresentModesKHR(physicalDevice, surface,
                                              &amp;presentModeCount, pPresentModes);

    VkExtent2D swapchainExtent;
    // width and height are either both 0xFFFFFFFF, or both not 0xFFFFFFFF.
    if (surfCapabilities.currentExtent.width == 0xFFFFFFFF)
    {
        // If the surface size is undefined, the size is set to the size
        // of the images requested, which must fit within the minimum and
        // maximum values.
        swapchainExtent.width = 320;
        swapchainExtent.height = 320;

        if (swapchainExtent.width &lt; surfCapabilities.minImageExtent.width)
            swapchainExtent.width = surfCapabilities.minImageExtent.width;
        else if (swapchainExtent.width &gt; surfCapabilities.maxImageExtent.width)
            swapchainExtent.width = surfCapabilities.maxImageExtent.width;

        if (swapchainExtent.height &lt; surfCapabilities.minImageExtent.height)
            swapchainExtent.height = surfCapabilities.minImageExtent.height;
        else if (swapchainExtent.height &gt; surfCapabilities.maxImageExtent.height)
            swapchainExtent.height = surfCapabilities.maxImageExtent.height;
    }
    else
    {
        // If the surface size is defined, the swapchain size must match
        swapchainExtent = surfCapabilities.currentExtent;
    }

    // Application desires to simultaneously acquire 2 images (which is one
    // more than "surfCapabilities.minImageCount").
    uint32_t desiredNumOfSwapchainImages = surfCapabilities.minImageCount + 1;
    if ((surfCapabilities.maxImageCount &gt; 0) &amp;&amp;
        (desiredNumOfSwapchainImages &gt; surfCapabilities.maxImageCount))
    {
        // Application must settle for fewer images than desired:
        desiredNumOfSwapchainImages = surfCapabilities.maxImageCount;
    }

    VkFormat swapchainFormat;
    // If the format list includes just one entry of VK_FORMAT_UNDEFINED,
    // the surface has no preferred format.  Otherwise, at least one
    // supported format will be returned (assuming that the
    // vkGetPhysicalDeviceSurfaceSupportKHR function, in the
    // VK_KHR_surface extension returned support for the surface).
    if ((formatCount == 1) &amp;&amp; (pSurfFormats[0].format == VK_FORMAT_UNDEFINED))
        swapchainFormat = VK_FORMAT_R8G8B8_UNORM;
    else
    {
        assert(formatCount &gt;= 1);
        swapchainFormat = pSurfFormats[0].format;
    }
    VkColorSpaceKHR swapchainColorSpace = pSurfFormats[0].colorSpace;

    // If mailbox mode is available, use it, as it is the lowest-latency non-
    // tearing mode.  If not, fall back to FIFO which is always available.
    VkPresentModeKHR swapchainPresentMode = VK_PRESENT_MODE_FIFO_KHR;
    for (size_t i = 0; i &lt; presentModeCount; ++i)
    {
        if (pPresentModes[i] == VK_PRESENT_MODE_MAILBOX_KHR)
        {
            swapchainPresentMode = VK_PRESENT_MODE_MAILBOX_KHR;
            break;
        }
    }

    const VkSwapchainCreateInfoKHR createInfo =
    {
        VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR,    // sType
        NULL,                                           // pNext
        0,                                              // flags
        surface,                                        // surface
        desiredNumOfSwapchainImages,                    // minImageCount
        swapchainFormat,                                // imageFormat
        swapchainColorSpace,                            // imageColorSpace
        swapchainExtent,                                // imageExtent
        1,                                              // imageArrayLayers
        VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT,            // imageUsage
        VK_SHARING_MODE_EXCLUSIVE,                      // imageSharingMode
        0,                                              // queueFamilyIndexCount
        NULL,                                           // pQueueFamilyIndices
        surfCapabilities.currentTransform,              // preTransform
        VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR,             // compositeAlpha
        swapchainPresentMode,                           // presentMode
        VK_TRUE,                                        // clipped
        VK_NULL_HANDLE                                  // oldSwapchain
    };

    VkSwapchainKHR swapchain;
    vkCreateSwapchainKHR(device, &amp;createInfo, NULL, &amp;swapchain);</pre><p><span class="strong"><strong>Example 3</strong></span></p><p>Obtaining the persistent images of a swapchain</p><pre class="programlisting">    extern VkDevice device;

    uint32_t swapchainImageCount;
    vkGetSwapchainImagesKHR(device, swapchain, &amp;swapchainImageCount, NULL);

    VkImage* pSwapchainImages = (VkImage*)malloc(swapchainImageCount * sizeof(VkImage));
    vkGetSwapchainImagesKHR(device, swapchain, &amp;swapchainImageCount, pSwapchainImages);</pre><p><span class="strong"><strong>Example 4</strong></span></p><p>Simple rendering and presenting using separate graphics and present queues.</p><pre class="programlisting">    extern VkDevice device;

    // Construct command buffers rendering to the presentable images
    VkCmdBuffer cmdBuffers[swapchainImageCount];
    VkImageView views[swapchainImageCount];
    extern VkCmdBufferBeginInfo beginInfo;
    extern uint32_t graphicsQueueFamilyIndex, presentQueueFamilyIndex;

    for (size_t i = 0; i &lt; swapchainImageCount; ++i)
    {
        const VkImageViewCreateInfo viewInfo =
        {
            VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO,   // sType
            NULL,                                       // pNext
            0,                                          // flags
            pSwapchainImages[i],                        // image
            VK_IMAGE_VIEW_TYPE_2D,                      // viewType
            swapchainFormat,                            // format
            ...
        };
        vkCreateImageView(device, &amp;viewInfo, &amp;views[i]);

        ...

        vkBeginCommandBuffer(cmdBuffers[i], &amp;beginInfo);

        // Need to transition image from presentable state before being able
        // to render
        const VkImageMemoryBarrier acquireImageBarrier =
        {
            VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER,     // sType
            NULL,                                       // pNext
            VK_ACCESS_MEMORY_READ_BIT,                  // srcAccessMask
            VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT,       // dstAccessMask
            VK_IMAGE_LAYOUT_PRESENT_SRC_KHR,            // oldLayout
            VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL,   // newLayout
            presentQueueFamilyIndex,                    // srcQueueFamilyIndex
            graphicsQueueFamilyIndex,                   // dstQueueFamilyIndex
            pSwapchainImages[i].image,                  // image
            ...
        };

        vkCmdPipelineBarrier(
            cmdBuffers[i],
            VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT,
            VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT,
            VK_FALSE,
            1,
            &amp;acquireImageBarrier)

        // ... Render to views[i] ...

        // Need to transition image into presentable state before being able
        // to present
        const VkImageMemoryBarrier presentImageBarrier =
        {
            VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER,     // sType
            NULL,                                       // pNext
            VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT,       // srcAccessMask
            VK_ACCESS_MEMORY_READ_BIT,                  // dstAccessMask
            VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL,   // oldLayout
            VK_IMAGE_LAYOUT_PRESENT_SRC_KHR,            // newLayout
            graphicsQueueFamilyIndex,                   // srcQueueFamilyIndex
            presentQueueFamilyIndex,                    // dstQueueFamilyIndex
            pSwapchainImages[i].image,                  // image
            ...
        };

        vkCmdPipelineBarrier(
            cmdBuffers[i],
            VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT,
            VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT,
            VK_FALSE,
            1,
            &amp;presentImageBarrier);

        ...

        vkEndCommandBuffer(cmdBuffers[i]);
    }

    const VkSemaphoreCreateInfo semaphoreCreateInfo =
    {
        VK_STRUCTURE_TYPE_SEMAPHORE_CREATE_INFO,    // sType
        NULL,                                       // pNext
        0                                           // flags
    };

    VkSemaphore imageAcquiredSemaphore;
    vkCreateSemaphore(device,
                      &amp;semaphoreCreateInfo,
                      &amp;imageAcquiredSemaphore);

    VkSemaphore renderingCompleteSemaphore;
    vkCreateSemaphore(device,
                      &amp;semaphoreCreateInfo,
                      &amp;renderingCompleteSemaphore);

    VkResult result;
    do
    {
        uint32_t imageIndex = UINT32_MAX;

        // Get the next available swapchain image
        result = vkAcquireNextImageKHR(
            device,
            swapchain,
            UINT64_MAX,
            imageAcquiredSemaphore,
            VK_NULL_HANDLE,
            &amp;imageIndex);

        // Swapchain cannot be used for presentation if failed to acquired
        // new image.
        if (result &lt; 0)
            break;

        // Submit rendering work to the graphics queue
        const VkPipelineStageFlags waitDstStageMask =
            VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT;
        const VkSubmitInfo submitInfo =
        {
            VK_STRUCTURE_TYPE_SUBMIT_INFO,          // sType
            NULL,                                   // pNext
            1,                                      // waitSemaphoreCount
            &amp;imageAcquiredSemaphore,                // pWaitSemaphores
            &amp;waitDstStageMask,                      // pWaitDstStageMasks
            1,                                      // commandBufferCount
            &amp;cmdBuffers[imageIndex],                // pCommandBuffers
            1,                                      // signalSemaphoreCount
            &amp;renderingCompleteSemaphore             // pSignalSemaphores
        };
        vkQueueSubmit(graphicsQueue, 1, &amp;submitInfo, VK_NULL_HANDLE);

        // Submit present operation to present queue
        const VkPresentInfoKHR presentInfo =
        {
            VK_STRUCTURE_TYPE_PRESENT_INFO_KHR,     // sType
            NULL,                                   // pNext
            1,                                      // waitSemaphoreCount
            &amp;renderingCompleteSemaphore,            // pWaitSemaphores
            1,                                      // swapchainCount
            &amp;swapchain,                             // pSwapchains
            &amp;imageIndex,                            // pImageIndices
            NULL                                    // pResults
        };

        result = vkQueuePresentKHR(presentQueue, &amp;presentInfo);
    } while (result &gt;= 0);</pre><p><span class="strong"><strong>Example 5</strong></span></p><p>Handle VK_ERROR_OUT_OF_DATE_KHR by recreating the swapchain and
VK_SUBOPTIMAL_KHR by checking whether recreation is needed.</p><pre class="programlisting">    extern VkInstance instance;
    extern VkPhysicalDevice physicalDevice;
    extern VkDevice device;
    extern VkQueue presentQueue;
    extern VkSurfaceKHR surface;

    // Contains code to build the application's reusable command buffers.
    extern void CreateCommandBuffers(VkDevice device,
                                     const VkImage* swapchainImages);

    // Returns non-zero if the application considers the swapchain out
    // of date even though it is still compatible with the platform
    // surface it is targeting.
    extern int MustRecreateSwapchain(VkDevice device,
                                     VkSwapchainKHR swapchain,
                                     VkSurfaceKHR surface);

    extern void CreateSwapchain(VkDevice device,
                                VkSurfaceKHR surface,
                                VkSwapchainKHR oldSwapchain,
                                VkSwapchainKHR* pSwapchain);
    {
        ...

        // Most of this function is identical to what is in Example 2.
        //  One differences is in the initialization of the following struct.

        const VkSwapchainCreateInfoKHR createInfo =
        {
            VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR,  // sType
            NULL,                                         // pNext
            0,                                            // flags
            surface,                                      // surface
            desiredNumOfSwapchainImages,                  // minImageCount
            swapchainFormat,                              // imageFormat
            swapchainColorSpace,                          // imageColorSpace
            swapchainExtent,                              // imageExtent
            1,                                            // imageArrayLayers
            VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT,          // imageUsage
            VK_SHARING_MODE_EXCLUSIVE,                    // imageSharingMode
            0,                                            // queueFamilyIndexCount
            NULL,                                         // pQueueFamilyIndices
            surfCapabilities.currentTransform,            // preTransform
            VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR,           // compositeAlpha
            swapchainPresentMode,                         // presentMode
            VK_TRUE,                                      // clipped

            // If the caller specified an existing swapchain, replace it with
            // the new swapchain being created here.  This will allow a
            // seamless transition between the old and new swapchains on
            // platforms that support it.
            oldSwapchain                                  // oldSwapchain
        };

        ...

        // Another difference is in the need to destroy the old swapchain, if
        // it exists.
        //
        // Note: destroying the swapchain also cleans up all its associated
        // presentable images once the platform is done with them.
        if (oldSwapchain != VK_NULL_HANDLE)
        {
            vkDestroySwapchainKHR(device, oldSwapchain, NULL);
        }
    }

    void mainLoop(void)
    {
        VkSwapchainKHR swapchain = VK_NULL_HANDLE;

        const VkSemaphoreCreateInfo semaphoreCreateInfo =
        {
            VK_STRUCTURE_TYPE_SEMAPHORE_CREATE_INFO,    // sType
            NULL,                                       // pNext
            0                                           // flags
        };

        VkSemaphore imageAcquiredSemaphore;
        vkCreateSemaphore(device,
                          &amp;semaphoreCreateInfo,
                          &amp;imageAcquiredSemaphore);

        VkSemaphore renderingCompleteSemaphore;
        vkCreateSemaphore(device,
                          &amp;semaphoreCreateInfo,
                          &amp;renderingCompleteSemaphore);

        while (1)
        {
            VkResult result;

            CreateSwapchain(device, surface, swapchain, &amp;swapchain);

            uint32_t swapchainImageCount;
            vkGetSwapchainImagesKHR(device, swapchain, &amp;swapchainImageCount, NULL);

            VkImage* pSwapchainImages =
                (VkImage*)malloc(swapchainImageCount * sizeof(VkImage));
            vkGetSwapchainImagesKHR(device, swapchain,
                                    &amp;swapchainImageCount, pSwapchainImages);

            CreateCommandBuffers(device, pSwapchainImages);
            free(pSwapchainImages);

            while (1)
            {
                uint32_t imageIndex;

                // Get the next available swapchain image
                result = vkAcquireNextImageKHR(
                    device,
                    swapchain,
                    UINT64_MAX,
                    imageAcquiredSemaphore,
                    VK_NULL_HANDLE,
                    &amp;imageIndex);

                if (result == VK_ERROR_OUT_OF_DATE_KHR)
                {
                    // swapchain is out of date.  Needs to be recreated for
                    // defined results.
                    break;
                }
                else if (result == VK_SUBOPTIMAL_KHR)
                {
                    // Ignore this result here.  If any expensive
                    // preprocessing work has already been done for this
                    // frame, it is likely in the application's interest to
                    // continue processing this frame with the current
                    // swapchain rather than recreate it and waste the
                    // preprocessing work.
                }
                else if (result &lt; 0)
                {
                    // Unhandled error.  Abort.
                    return;
                }

                // Submit rendering work to the graphics queue
                const VkPipelineStageFlags waitDstStageMask =
                    VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT;
                const VkSubmitInfo submitInfo =
                {
                    VK_STRUCTURE_TYPE_SUBMIT_INFO,      // sType
                    NULL,                               // pNext
                    1,                                  // waitSemaphoreCount
                    &amp;imageAcquiredSemaphore,            // pWaitSemaphores
                    &amp;waitDstStageMask,                  // pWaitDstStageMasks
                    1,                                  // commandBufferCount
                    &amp;cmdBuffers[imageIndex],            // pCommandBuffers
                    1,                                  // signalSemaphoreCount
                    &amp;renderingCompleteSemaphore         // pSignalSemaphores
                };
                vkQueueSubmit(graphicsQueue, 1, &amp;submitInfo, VK_NULL_HANDLE);

                // Submit present operation to present queue
                const VkPresentInfoKHR presentInfo =
                {
                    VK_STRUCTURE_TYPE_PRESENT_INFO_KHR, // sType
                    NULL,                               // pNext
                    1,                                  // waitSemaphoreCount
                    &amp;renderingCompleteSemaphore,        // pWaitSemaphores
                    1,                                  // swapchainCount
                    &amp;swapchain,                         // pSwapchains
                    &amp;imageIndex,                        // pImageIndices
                    NULL                                // pResults
                };

                result = vkQueuePresentKHR(presentQueue, &amp;presentInfo);

                if (result == VK_ERROR_OUT_OF_DATE_KHR)
                {
                    // The swapchain is out of date, and must be recreated for
                    // defined results.
                    break;
                }
                else if (result == VK_SUBOPTIMAL_KHR)
                {
                    // Something has changed about the native surface since
                    // the swapchain was created, but it is still compatible
                    // with the swapchain.  The app must choose whether it
                    // wants to create a more up to date swapchain before it
                    // begins processing the next frame.
                    if (MustRecreateSwapchain(device, swapchain, surface))
                        break;
                }
                else if (result &lt; 0)
                {
                    // Unhandled error.  Abort.
                    return;
                }
            }
        }
    }</pre><p><span class="strong"><strong>Example 6</strong></span></p><p>Meter a CPU thread based on presentation rate.
Note this will only limit the thread to the actual presentation rate when
using VK_PRESENT_MODE_FIFO_KHR.
When using VK_PRESENT_MODE_IMMEDIATE_KHR, presentation rate will be limited
only by rendering rate, so this example will be equivalent to waiting on a
command buffer fence.
When using VK_PRESENT_MODE_MAILBOX_KHR, some presented images may be skipped
if a newer image is available by the time the presentation target is ready
to process a new frame, so this code would again be limited only by the
rendering rate.
Applications using mailbox mode <span class="normative">should</span> use some other mechanism to meter
their rendering, and it is assumed applications using immediate mode have no
desire to limit the rate of their rendering based on presentation rate.</p><pre class="programlisting">    extern void CreateSemAndFences(VkDevice device, VkSemaphore sem,
                                   VkFence *fences,
                                   const int maxOutstandingPresents);
    extern void GenFrameCmdBuffer(VkCmdbuffer cmdBuffer);

    extern VkDevice device;
    extern VkQueue queue;
    extern VkCmdBuffer cmdBuffer;
    extern VkSwapchain fifoModeSwapchain;
    extern numSwapchainImages;

    // Allow a maximum of two outstanding presentation operations.
    static const int FRAME_LAG = 2

    VkPresentInfoKHR presentInfo;
    const VkSemaphoreCreateInfo semaphoreCreateInfo =
    {
        VK_STRUCTURE_TYPE_SEMAPHORE_CREATE_INFO,    // sType
        NULL,                                       // pNext
        0                                           // flags
    };

    VkSemaphore imageAcquiredSemaphore;
    vkCreateSemaphore(device,
                      &amp;semaphoreCreateInfo,
                      &amp;imageAcquiredSemaphore);

    VkSemaphore renderingCompleteSemaphore;
    vkCreateSemaphore(device,
                      &amp;semaphoreCreateInfo,
                      &amp;renderingCompleteSemaphore);

    VkFence fences[FRAME_LAG];
    bool fencesInited[FRAME_LAG];
    int frameIdx = 0;
    int imageIdx = 0;
    int waitFrame;

    CreateFences(device, fences, FRAME_LAG);

    for (int i = 0; i &lt; FRAME_LAG; ++i)
        fencesInited[i] = false;

    while (1) {
        if (fencesInited[frameIdx])
        {
            // Ensure no more than FRAME_LAG presentations are outstanding
            vkWaitForFences(device, 1, &amp;fences[frameIdx], VK_TRUE, UINT64_MAX);
            vkResetFences(device, 1, &amp;fences[frameIdx]);
        }

        vkAcquireNextImageKHR(
            device,
            fifoSwapchain,
            UINT64_MAX,
            imageAcquiredSemaphore,
            fences[frameIdx],
            &amp;imageIdx);

        fencesInited[frameIdx] = true;

        // Generate a command buffer for the current frame.
        GenFrameCmdBuffer(cmdBuffer);

        // Submit rendering work to the graphics queue
        const VkPipelineStageFlags waitDstStageMask =
            VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT;
        const VkSubmitInfo submitInfo =
        {
            VK_STRUCTURE_TYPE_SUBMIT_INFO,          // sType
            NULL,                                   // pNext
            1,                                      // waitSemaphoreCount
            &amp;imageAcquiredSemaphore,                // pWaitSemaphores
            &amp;waitDstStageMask,                      // pWaitDstStageMasks
            1,                                      // commandBufferCount
            &amp;cmdBuffer,                             // pCommandBuffers
            1,                                      // signalSemaphoreCount
            &amp;renderingCompleteSemaphore             // pSignalSemaphores
        };
        vkQueueSubmit(queue, 1, &amp;submitInfo, VK_NULL_HANDLE);

        // Submit present operation to present queue
        const VkPresentInfoKHR presentInfo =
        {
            VK_STRUCTURE_TYPE_PRESENT_INFO_KHR,     // sType
            NULL,                                   // pNext
            1,                                      // waitSemaphoreCount
            &amp;renderingCompleteSemaphore,            // pWaitSemaphores
            1,                                      // swapchainCount
            &amp;fifoSwapchain,                         // pSwapchains
            &amp;imageIdx,                              // pImageIndices
            NULL                                    // pResults
        };

        result = vkQueuePresentKHR(queue, &amp;presentInfo);

        frameIdx += 1;
        frameIdx %= FRAME_LAG;
    }</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_version_history_3"></a>Version History</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Revision 1, 2015-05-20 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Initial draft, based on LunarG KHR spec, other KHR specs, patches
     attached to bugs.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 2, 2015-05-22 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Made many agreed-upon changes from 2015-05-21 KHR TSG meeting.
     This includes using only a queue for presentation, and having an
     explicit function to acquire the next image.
</li><li class="listitem">
Fixed typos and other minor mistakes.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 3, 2015-05-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Improved the Description section.
</li><li class="listitem">
Added or resolved issues that were found in improving the Description.
     For example, pSurfaceDescription is used consistently, instead of
     sometimes using pSurface.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 4, 2015-05-27 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Fixed some grammatical errors and typos
</li><li class="listitem">
Filled in the description of imageUseFlags when creating a swapchain.
</li><li class="listitem">
Added a description of swapInterval.
</li><li class="listitem">
Replaced the paragraph describing the order of operations on a queue
     for image ownership and presentation.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 5, 2015-05-27 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Imported relevant issues from the (abandoned)
     vk_wsi_persistent_swapchain_images extension.
</li><li class="listitem">
Added issues 6 and 7, regarding behavior of the acquire next image and
     present commands with respect to queues.
</li><li class="listitem">
Updated spec language and examples to align with proposed resolutions
     to issues 6 and 7.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 6, 2015-05-27 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added issue 8, regarding atomic presentation of multiple swapchains
</li><li class="listitem">
Updated spec language and examples to align with proposed resolution to
     issue 8.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 7, 2015-05-27 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Fixed compilation errors in example code, and made related spec fixes.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 8, 2015-05-27 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added issue 9, and the related VK_SUBOPTIMAL_KHR result code.
</li><li class="listitem">
Renamed VK_OUT_OF_DATE_KHR to VK_ERROR_OUT_OF_DATE_KHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 9, 2015-05-27 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added inline proposed resolutions (marked with [JRJ]) to some XXX
     questions/issues.
     These should be moved to the issues section in a subsequent update if
     the proposals are adopted.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 10, 2015-05-28 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Converted vkAcquireNextImageKHR back to a non-queue operation that uses
     a VkSemaphore object for explicit synchronization.
</li><li class="listitem">
Added issue 10 to determine whether vkAcquireNextImageKHR generates or
     returns semaphores, or whether it operates on a semaphore provided by
     the application.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 11, 2015-05-28 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Marked issues 6, 7, and 8 resolved.
</li><li class="listitem">
Renamed VkSurfaceCapabilityPropertiesKHR to VkSurfacePropertiesKHR to
     better convey the mutable nature of the info it contains.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 12, 2015-05-28 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added issue 11 with a proposed resolution, and the related issue 12.
</li><li class="listitem">
Updated various sections of the spec to match the proposed resolution
     to issue 11.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 13, 2015-06-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Moved some structures to VK_EXT_KHR_swap_chain to resolve the spec’s
     issues 1 and 2.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 14, 2015-06-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added code for example 4 demonstrating how an application might make
     use of the two different present and acquire next image KHR result
     codes.
</li><li class="listitem">
Added issue 13.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 15, 2015-06-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added issues 14 - 16 and related spec language.
</li><li class="listitem">
Fixed some spelling errors.
</li><li class="listitem">
Added language describing the meaningful return values for
     vkAcquireNextImageKHR and vkQueuePresentKHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 16, 2015-06-02 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added issues 17 and 18, as well as related spec language.
</li><li class="listitem">
Removed some erroneous text added by mistake in the last update.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 17, 2015-06-15 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Changed special value from "-1" to "0" so that the data types can be
     unsigned.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 18, 2015-06-15 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Clarified the values of VkSurfacePropertiesKHR::minImageCount and the
     timeout parameter of the vkAcquireNextImageKHR function.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 19, 2015-06-17 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Misc.
     cleanup.
     Removed resolved inline issues and fixed typos.
</li><li class="listitem">
Fixed clarification of VkSurfacePropertiesKHR::minImageCount made in
     version 18.
</li><li class="listitem">
Added a brief "Image Ownership" definition to the list of terms used in
     the spec.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 20, 2015-06-17 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated enum-extending values using new convention.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 21, 2015-06-17 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added language describing how to use
     VK_IMAGE_LAYOUT_PRESENT_SOURCE_KHR.
</li><li class="listitem">
Cleaned up an XXX comment regarding the description of which queues
     vkQueuePresentKHR can be used on.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 22, 2015-06-17 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Rebased on Vulkan API version 126.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 23, 2015-06-18 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated language for issue 12 to read as a proposed resolution.
</li><li class="listitem">
Marked issues 11, 12, 13, 16, and 17 resolved.
</li><li class="listitem">
Temporarily added links to the relevant bugs under the remaining
     unresolved issues.
</li><li class="listitem">
Added issues 19 and 20 as well as proposed resolutions.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 24, 2015-06-19 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Changed special value for VkSurfacePropertiesKHR::currentExtent back to
     "-1" from "0".
     This value will never need to be unsigned, and "0" is actually a legal
     value.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 25, 2015-06-23 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Examples now show use of function pointers for extension functions.
</li><li class="listitem">
Eliminated extraneous whitespace.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 26, 2015-06-25 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Resolved Issues 9 &amp; 10 per KHR TSG meeting.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 27, 2015-06-25 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added oldSwapchain member to VkSwapchainCreateInfoKHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 28, 2015-06-25 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added the "inherit" bits to the rotatation and mirroring flags and the
     associated issue 21.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 29, 2015-06-25 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added the "clipped" flag to VkSwapchainCreateInfoKHR, and the
     associated issue 22.
</li><li class="listitem">
Specified that presenting an image does not modify it.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 30, 2015-06-25 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added language to the spec that clarifies the behavior of
     vkCreateSwapchainKHR() when the oldSwapchain field of
     VkSwapchainCreateInfoKHR is not NULL.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 31, 2015-06-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Example of new VkSwapchainCreateInfoKHR members, "oldSwapchain" and
     "clipped".
</li><li class="listitem">
Example of using VkSurfacePropertiesKHR::{min|max}ImageCount to set
     VkSwapchainCreateInfoKHR::minImageCount.
</li><li class="listitem">
Rename vkGetSurfaceInfoKHR()'s 4th param to "pDataSize", for
     consistency with other functions.
</li><li class="listitem">
Add macro with C-string name of extension (just to header file).
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 32, 2015-06-26 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Minor adjustments to the language describing the behavior of
     "oldSwapchain"
</li><li class="listitem">
Fixed the version date on my previous two updates.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 33, 2015-06-26 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Add usage flags to VkSwapchainCreateInfoKHR
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 34, 2015-06-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Rename vkQueuePresentKHR()'s 2nd param to "pPresentInfo", for
     consistency with other functions.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 35, 2015-06-26 (Jason Ekstrand)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Merged the VkRotationFlagBitsKHR and VkMirrorFlagBitsKHR enums into a
     single VkSurfaceTransformFlagBitsKHR enum.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 36, 2015-06-26 (Jason Ekstrand)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added a VkSurfaceTransformKHR enum that is not a bitmask.
     Each value in VkSurfaceTransformKHR corresponds directly to one of the
     bits in VkSurfaceTransformFlagBitsKHR so transforming from one to the
     other is easy.
     Having a separate enum means that currentTransform and preTransform are
     now unambiguous by definition.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 37, 2015-06-29 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Corrected one of the signatures of vkAcquireNextImageKHR, which had the
     last two parameters switched from what it is elsewhere in the
     specification and header files.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 38, 2015-06-30 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Corrected a typo in description of the vkGetSwapchainInfoKHR()
     function.
</li><li class="listitem">
Corrected a typo in header file comment for VkPresentInfoKHR::sType.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 39, 2015-07-07 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added error section describing when each error is expected to be
     reported.
</li><li class="listitem">
Replaced bool32_t with VkBool32.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 40, 2015-07-10 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated to work with version 138 of the "vulkan.h" header.
     This includes declaring the VkSwapchainKHR type using the new
     VK_DEFINE_NONDISP_HANDLE macro, and no longer extending VkObjectType
     (which was eliminated).
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 41 2015-07-09 (Mathias Heyer)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added color space language.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 42, 2015-07-10 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated query mechanism to reflect the convention changes done in the
     core spec.
</li><li class="listitem">
Removed "queue" from the name of
     VK_STRUCTURE_TYPE_QUEUE_PRESENT_INFO_KHR to be consistent with the
     established naming convention.
</li><li class="listitem">
Removed reference to the no longer existing VkObjectType enum.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 43, 2015-07-17 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added support for concurrent sharing of swapchain images across queue
     families.
</li><li class="listitem">
Updated sample code based on recent changes
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 44, 2015-07-27 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Noted that support for VK_PRESENT_MODE_FIFO_KHR is required.
     That is ICDs may optionally support IMMEDIATE and MAILBOX, but must
     support FIFO.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 45, 2015-08-07 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Corrected a typo in spec file (type and variable name had wrong case
     for the imageColorSpace member of the VkSwapchainCreateInfoKHR struct).
</li><li class="listitem">
Corrected a typo in header file (last parameter in
     PFN_vkGetSurfacePropertiesKHR was missing "KHR" at the end of type:
     VkSurfacePropertiesKHR).
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 46, 2015-08-20 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed this extension and all of its enumerations, types, functions,
     etc.
     This makes it compliant with the proposed standard for Vulkan
     extensions.
</li><li class="listitem">
Switched from "revision" to "version", including use of the
     VK_MAKE_VERSION macro in the header file.
</li><li class="listitem">
Made improvements to several descriptions.
</li><li class="listitem">
Changed the status of several issues from PROPOSED to RESOLVED, leaving
     no unresolved issues.
</li><li class="listitem">
Resolved several TODOs, did miscellaneous cleanup, etc.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 47, 2015-08-20 (Ian Elliott—porting a 2015-07-29 change from
   James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Moved the surface transform enums to VK_WSI_swapchain so they could be
     re-used by VK_WSI_display.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 48, 2015-09-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Various minor cleanups.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 49, 2015-09-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Restore single-field revision number.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 50, 2015-09-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Update Example #4 to include code that illustrates how to use the
     oldSwapchain field.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 51, 2015-09-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Fix example code compilation errors.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 52, 2015-09-08 (Matthaeus G.
   Chajdas)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Corrected a typo.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 53, 2015-09-10 (Alon Or-bach)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Removed underscore from SWAP_CHAIN left in
     VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 54, 2015-09-11 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Described the execution and memory coherence requirements for image
     transitions to and from VK_IMAGE_LAYOUT_PRESENT_SOURCE_KHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 55, 2015-09-11 (Ray Smith)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added errors for destroying and binding memory to presentable images
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 56, 2015-09-18 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added fence argument to vkAcquireNextImageKHR
</li><li class="listitem">
Added example of how to meter a CPU thread based on presentation rate.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 57, 2015-09-26 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Replace VkSurfaceDescriptionKHR with VkSurfaceKHR.
</li><li class="listitem">
Added issue 25 with agreed resolution.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 58, 2015-09-28 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed from VK_EXT_KHR_device_swapchain to VK_EXT_KHR_swapchain.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 59, 2015-09-29 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Changed vkDestroySwapchainKHR() to return void.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 60, 2015-10-01 (Jeff Vigil)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added error result VK_ERROR_SURFACE_LOST_KHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 61, 2015-10-05 (Jason Ekstrand)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added the VkCompositeAlpha enum and corresponding structure fields.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 62, 2015-10-12 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added VK_PRESENT_MODE_FIFO_RELAXED_KHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 63, 2015-10-15 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Moved surface capability queries to VK_EXT_KHR_surface.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 64, 2015-10-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed from VK_EXT_KHR_swapchain to VK_KHR_swapchain.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 65, 2015-10-28 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added optional pResult member to VkPresentInfoKHR, so that
     per-swapchain results can be obtained from vkQueuePresentKHR().
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 66, 2015-11-03 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added allocation callbacks to create and destroy functions.
</li><li class="listitem">
Updated resource transition language.
</li><li class="listitem">
Updated sample code.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 67, 2015-11-10 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Add reserved flags bitmask to VkSwapchainCreateInfoKHR.
</li><li class="listitem">
Modify naming and member ordering to match API style conventions, and
     so the VkSwapchainCreateInfoKHR image property members mirror
     corresponding VkImageCreateInfo members but with an <span class="emphasis"><em>image</em></span> prefix.
</li><li class="listitem">
Make VkPresentInfoKHR::pResults non-const; it is an output array
     parameter.
</li><li class="listitem">
Make pPresentInfo parameter to vkQueuePresentKHR const.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 68, 2016-04-05 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Moved the "validity" include for vkAcquireNextImage to be in its proper
     place, after the prototype and list of parameters.
</li><li class="listitem">
Clarified language about presentable images, including how they are
     acquired, when applications can and cannot use them, etc.
     As part of this, removed language about "ownership" of presentable
     images, and replaced it with more-consistent language about presentable
     images being "acquired" by the application.
</li></ul></div></li><li class="listitem"><p class="simpara">
2016-08-23 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Update the example code, to use the final API command names, to not
     have so many characters per line, and to split out a new example to
     show how to obtain function pointers.
     This code is more similar to the LunarG "cube" demo program.
</li></ul></div></li><li class="listitem"><p class="simpara">
2016-08-25 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
A note was added at the beginning of the example code, stating that it
     will be removed from future versions of the appendix.
</li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="VK_KHR_display"></a>C.2.4. VK_KHR_display</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>Name String</strong></span>
</span></dt><dd>
    <code class="literal">VK_KHR_display</code>
</dd><dt><span class="term">
<span class="strong"><strong>Extension Type</strong></span>
</span></dt><dd>
    Instance extension
</dd><dt><span class="term">
<span class="strong"><strong>Registered Extension Number</strong></span>
</span></dt><dd>
    3
</dd><dt><span class="term">
<span class="strong"><strong>Status</strong></span>
</span></dt><dd>
    Draft.
</dd><dt><span class="term">
<span class="strong"><strong>Last Modified Date</strong></span>
</span></dt><dd>
    2015-12-18
</dd><dt><span class="term">
<span class="strong"><strong>Revision</strong></span>
</span></dt><dd>
    21
</dd><dt><span class="term">
<span class="strong"><strong>IP Status</strong></span>
</span></dt><dd>
    No known IP claims.
</dd><dt><span class="term">
<span class="strong"><strong>Dependencies</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
This extension is written against version 1.0 of the Vulkan API.
</li><li class="listitem">
This extension requires <code class="literal">VK_KHR_surface</code>.
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contributors</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
Norbert Nopper, Freescale
</li><li class="listitem">
Jeff Vigil, Qualcomm
</li><li class="listitem">
Daniel Rakos, AMD
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contacts</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
James Jones (jajones <span class="emphasis"><em>at</em></span> nvidia.com)
</li><li class="listitem">
Norbert Nopper (Norbert.Nopper <span class="emphasis"><em>at</em></span> freescale.com)
</li></ul></div></dd></dl></div><p>This extension provides the API to enumerate displays and available modes on
a given device.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_object_types_3"></a>New Object Types</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VkDisplayKHR</code>
</li><li class="listitem">
<code class="code">VkDisplayModeKHR</code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enum_constants_4"></a>New Enum Constants</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Extending <code class="code">VkStructureType</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR</code>
</li><li class="listitem">
<code class="code">VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR</code>
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enums_3"></a>New Enums</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VkDisplayPlaneAlphaFlagBitsKHR</code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_structures_3"></a>New Structures</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#VkDisplayPropertiesKHR">VkDisplayPropertiesKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkDisplayModeParametersKHR">VkDisplayModeParametersKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkDisplayModePropertiesKHR">VkDisplayModePropertiesKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkDisplayModeCreateInfoKHR">VkDisplayModeCreateInfoKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkDisplayPlanePropertiesKHR">VkDisplayPlanePropertiesKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkDisplayPlaneCapabilitiesKHR">VkDisplayPlaneCapabilitiesKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_functions_3"></a>New Functions</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#vkGetPhysicalDeviceDisplayPropertiesKHR">vkGetPhysicalDeviceDisplayPropertiesKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetPhysicalDeviceDisplayPlanePropertiesKHR">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetDisplayPlaneSupportedDisplaysKHR">vkGetDisplayPlaneSupportedDisplaysKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetDisplayModePropertiesKHR">vkGetDisplayModePropertiesKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkCreateDisplayModeKHR">vkCreateDisplayModeKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkCreateDisplayPlaneSurfaceKHR">vkCreateDisplayPlaneSurfaceKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_issues_3"></a>Issues</h4></div></div></div><p>1) Which properties of a mode should be fixed in the mode info Vs.
    settable in some other function when setting the mode? E.g., do we need
    to double the size of the mode pool to include both stereo and
    non-stereo modes? YUV and RGB scanout even if they both take RGB input
    images? BGR Vs.
    RGB input? etc.</p><pre class="literallayout">PROPOSED RESOLUTION: Many modern displays support at most a handful of
resolutions and timings natively.
Other "modes" are expected to be supported using scaling hardware on the
display engine or GPU.
Other properties, such as rotation and mirroring should not require
duplicating hardware modes just to express all combinations.
Further, these properties may be implemented on a per-display or
per-overlay granularity.</pre><pre class="literallayout">To avoid the exponential growth of modes as mutable properties are
added, as was the case with EGLConfig/WGL pixel formats/GLXFBConfig,
this specification should separate out hardware properties and
configurable state into separate objects.
Modes and overlay planes will express capabilities of the hardware,
while a separate structure will allow applications to configure scaling,
rotation, mirroring, color keys, LUT values, alpha masks, etc.
for a given swapchain independent of the mode in use.
Constraints on these settings will be established by properties of the
immutable objects.</pre><pre class="literallayout">Note the resolution of this issue may affect issue (5) as well.</pre><p>2) What properties of a display itself are useful?</p><pre class="literallayout">PROPOSED RESOLUTION: This issue is too broad.
It was meant to prompt general discussion, but resolving this issue
amounts to completing this specification.
All interesting properties should be included.
The issue will remain as a placeholder since removing it would make it
hard to parse existing discussion notes that refer to issues by number.</pre><p>3) How are multiple overlay planes within a display or mode enumerated?</p><pre class="literallayout">PROPOSED RESOLUTION: They are referred to by an index.
Each display will report the number of overlay planes it contains.</pre><p>4) Should swapchains be created relative to a mode or a display?</p><pre class="literallayout">PROPOSED RESOLUTION: When using this extension, swapchains are created
relative to a mode and a plane.
The mode implies the display object the swapchain will present to.
If the specified mode is not the display's current mode, the new mode
will be applied when the first image is presented to the swapchain, and
the default operating system mode, if any, will be restored when the
swapchain is destroyed.</pre><p>5) Should users query generic ranges from displays and construct their own
    modes explicitly using those constraints rather than querying a fixed
    set of modes (Most monitors only have one real "mode" these days, even
    though many support relatively arbitrary scaling, either on the monitor
    side or in the GPU display engine, making "modes" something of a
    relic/compatibility construct).</p><pre class="literallayout">PROPOSED RESOLUTION: Expose both.
Display info structures will expose a set of predefined modes, as well
as any attributes necessary to construct a customized mode.</pre><p>6) Is it fine if we return the display and display mode handles in the
    structure used to query their properties?</p><pre class="literallayout">PROPOSED RESOLUTION: Yes.</pre><p>7) Is there a possibility that not all displays of a device work with all of
    the present queues of a device? If yes, how do we determine which
    displays work with which present queues?</p><pre class="literallayout">PROPOSED RESOLUTION: No known hardware has such limitations, but
determining such limitations is supported automatically using the
existing VK_EXT_KHR_surface and VK_EXT_KHR_swapchain query mechanisms.</pre><p>8) Should all presentation need to be done relative to an overlay plane, or
    can a display mode + display be used alone to target an output?</p><pre class="literallayout">PROPOSED RESOLUTION: Require specifying a plane explicitly.</pre><p>9) Should displays have an associated window system display, such as an HDC
    or Display*?</p><pre class="literallayout">PROPOSED RESOLUTION: No.
Displays are independent of any windowing system in use on the system.
Further, neither HDC nor Display* refer to a physical display object.</pre><p>10) Are displays queried from a physical GPU or from a device instance?</p><pre class="literallayout">PROPOSED RESOLUTION: Developers prefer to query modes directly from the
physical GPU so they can use display information as an input to their
device selection algorithms prior to device creation.
This avoids the need to create dummy device instances to enumerate
displays.</pre><pre class="literallayout">This preference must be weighed against the extra initialization that
must be done by driver vendors prior to device instance creation to
support this usage.</pre><p>11) Should displays and/or modes be dispatchable objects? If functions are
    to take displays, overlays, or modes as their first parameter, they must
    be dispatchable objects as defined in Khronos bug 13529.
    If they are not added to the list of dispatchable objects, functions
    operating on them must take some higher-level object as their first
    parameter.
    There is no performance case against making them dispatchable objects,
    but they would be the first extension objects to be dispatchable.</p><pre class="literallayout">PROPOSED RESOLUTION: Do not make displays or modes dispatchable.
They will dispatch based on their associated physical device.</pre><p>12) Should hardware cursor capabilities be exposed?</p><pre class="literallayout">PROPOSED RESOLUTION: Defer.
This could be a separate extension on top of the base WSI specs.</pre><pre class="literallayout">if they are one physical display device to an end user, but may
internally be implemented as two side-by-side displays using the same
display engine (and sometimes cabling) resources as two physically
separate display devices.</pre><pre class="literallayout">PROPOSED RESOLUTION: Tiled displays will appear as a single display
object in this API.</pre><p>14) Should the raw EDID data be included in the display information?</p><pre class="literallayout">PROPOSED RESOLUTION: None.
Unclear whether this is a good idea.
Provides a path for forward-compatibility as new EDID extensions are
introduced, but may be complicated by the outcome of issue 13.</pre><p>15) Should min and max scaling factor capabilities of overlays be exposed?</p><pre class="literallayout">PROPOSED RESOLUTION: Yes.
This is exposed indirectly by allowing applications to query the min/max
position and extent of the source and destination regions from which
image contents are fetched by the display engine when using a particular
mode and overlay pair.</pre><p>16) Should devices be able to expose planes that can be moved between
    displays? If so, how?</p><pre class="literallayout">PROPOSED RESOLUTION: None.</pre><p>17) Should there be a way to destroy display modes? If so, does it support
    destroying "built in" modes?</p><pre class="literallayout">PROPOSED RESOLUTION: None.</pre><p>18) What should the lifetime of display and built-in display mode objects
    be?</p><pre class="literallayout">PROPOSED RESOLUTION: The lifetime of the instance.
These objects can not be destroyed.
A future extension may be added to expose a way to destroy these objects
and/or support display hotplug.</pre><p>19) Should persistent mode for smart panels be enabled/disabled at swap
    chain creation time, or on a per-present basis.</p><pre class="literallayout">PROPOSED RESOLUTION: On a per-present basis.</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_examples_3"></a>Examples</h4></div></div></div><p><span class="strong"><strong>Example 1</strong></span></p><p>Enumerating displays, display modes, and planes, and creating a VkSurfaceKHR</p><pre class="programlisting">    extern VkBool32 ModeMatchesMyCriteria(const VkDisplayModePropertiesKHR *m);
    extern VkInstance instance;
    extern VkPhysicalDevice physDevice;
    extern VkSurfaceKHR surface;

    uint32_t displayCount, planeCount, i, j, k;
    VkDisplayPropertiesKHR* pDisplayProps;
    VkDisplayPlanePropertiesKHR* pPlaneProps;
    VkDisplayModeKHR myMode = VK_NULL_HANDLE;
    VkDisplayKHR myDisplay = VK_NULL_HANDLE;
    uint32_t bestPlane = UINT32_MAX;
    VkDisplayPlaneAlphaFlagBitsKHR alphaMode = 0;
    PFN_vkGetPhysicalDeviceDisplayPropertiesKHR pfnGetPhysicalDeviceDisplayPropertiesKHR;
    PFN_vkGetPhysicalDeviceDisplayPlanePropertiesKHR pfnGetPhysicalDeviceDisplayPlanePropertiesKHR;
    PFN_vkGetDisplayModePropertiesKHR pfnGetDisplayModePropertiesKHR;
    PFN_vkGetDisplayPlaneCapabilitiesKHR pfnGetDisplayPlaneCapabilitiesKHR;
    PFN_vkGetDisplayPlaneSupportedDisplaysKHR pfnGetDisplayPlaneSupportedDisplaysKHR;
    PFN_vkCreateDisplayPlaneSurfaceKHR pfnCreateDisplayPlaneSurfaceKHR;

    pfnGetPhysicalDeviceDisplayPropertiesKHR =
        (PFN_vkGetPhysicalDeviceDisplayPropertiesKHR)
        vkGetInstanceProcAddr(instance, "vkGetPhysicalDeviceDisplayPropertiesKHR");
    pfnGetPhysicalDeviceDisplayPlanePropertiesKHR =
        (PFN_vkGetPhysicalDeviceDisplayPlanePropertiesKHR)
        vkGetInstanceProcAddr(instance, "vkGetPhysicalDeviceDisplayPlanePropertiesKHR");
    pfnGetDisplayModePropertiesKHR =
        (PFN_vkGetDisplayModePropertiesKHR)
        vkGetInstanceProcAddr(instance, "vkGetDisplayModePropertiesKHR");
    pfnGetDisplayPlaneCapabilitiesKHR =
        (PFN_vkGetDisplayPlaneCapabilitiesKHR)
        vkGetInstanceProcAddr(instance, "vkGetDisplayPlaneCapabilitiesKHR");
    pfnGetDisplayPlaneSupportedDisplaysKHR =
        (PFN_vkGetDisplayPlaneSupportedDisplaysKHR)
        vkGetInstanceProcAddr(instance, "vkGetDisplayPlaneSupportedDisplaysKHR");
    pfnCreateDisplayPlaneSurfaceKHR =
        (PFN_vkCreateDisplayPlaneSurfaceKHR)
        vkGetInstanceProcAddr(instance, "vkCreateDisplayPlaneSurfaceKHR");

    // Get a list of displays on a physical device
    displayCount = 0;
    pfnGetPhysicalDeviceDisplayPropertiesKHR(physDevice, &amp;displayCount, NULL);

    pDisplayProps = (VkDisplayPropertiesKHR*)malloc(sizeof(VkDisplayPropertiesKHR) * displayCount);
    pfnGetPhysicalDeviceDisplayPropertiesKHR(physDevice, &amp;displayCount, pDisplayProps);

    // Get a list of display planes on a physical device
    planeCount = 0;
    pfnGetPhysicalDeviceDisplayPlanePropertiesKHR(physDevice, &amp;planeCount, NULL);
    pPlaneProps = (VkDisplayPlanePropertiesKHR*)malloc(sizeof(VkDisplayPlanePropertiesKHR) * planeCount);
    pfnGetPhysicalDeviceDisplayPlanePropertiesKHR(physDevice, &amp;planeCount, pPlaneProps);

    // Get the list of pModes each display supports
    for (i = 0; i &lt; displayCount; ++i)
    {
        VkDisplayKHR display = pDisplayProps[i].display;
        VkDisplayModePropertiesKHR* pModes;
        uint32_t modeCount;

        vkGetDisplayModePropertiesKHR(physDevice, display, &amp;modeCount, NULL);

        pModes = (VkDisplayModePropertiesKHR*)malloc(sizeof(VkDisplayModePropertiesKHR) * modeCount);
        vkGetDisplayModePropertiesKHR(physDevice, display, &amp;modeCount, pModes);

        myMode = VK_NULL_HANDLE;
        for (j = 0; j &lt; modeCount; ++j)
        {
            const VkDisplayModePropertiesKHR* mode = &amp;pModes[i];

            if (ModeMatchesMyCriteria(mode))
            {
                myMode = mode-&gt;displayMode;
                break;
            }
        }

        free(pModes);

        // If there are no usable pModes found then check the next display.
        if (myMode == VK_NULL_HANDLE)
            continue;

        // Find a plane that matches these criteria, in order of preference:
        // -Is compatible with the chosen display + mode.
        // -Is not currently bound to another display.
        // -Supports per-pixel alpha, if possible.
        for (j = 0; j &lt; planeCount; ++j)
        {
            uint32_t supportedCount = 0;
            VkDisplayKHR* pSupportedDisplays;
            VkDisplayPlaneCapabilitiesKHR planeCaps;
            // See if the plane is compatible with the current display.
            pfnGetDisplayPlaneSupportedDisplaysKHR(physDevice, j, &amp;supportedCount, NULL);

            // Plane does not support any displays.  This might happen on a card
            // that has a fixed mapping between planes and connectors when no
            // displays are currently attached to this plane's connector, for
            // example.
            if (supportedCount == 0)
                continue;

            pSupportedDisplays = (VkDisplayKHR*)malloc(sizeof(VkDisplayKHR) * supportedCount);
            pfnGetDisplayPlaneSupportedDisplaysKHR(physDevice, j, &amp;supportedCount, pSupportedDisplays);

            for (k = 0; k &lt; supportedCount; ++k)
                if (pSupportedDisplays[k] == display) {
                    // If no supported plane has yet been found, this is
                    // currently the best available plane.
                    if (bestPlane == UINT32_MAX)
                        bestPlane = j;
                    break;
                }

            // If the plane cannot be used with the chosen display, keep looking.
            // Each display must have at least one compatible plane.
            if (k == supportedCount)
                continue;

            // If the plane passed the above test and is currently bound to the
            // desired display, or is not in use, it is the best plane found so
            // far.
            if ((pPlaneProps[j].currentDisplay == VK_NULL_HANDLE) &amp;&amp;
                (pPlaneProps[j].currentDisplay == display))
                bestPlane = j;
            else
                continue;

            pfnGetDisplayPlaneCapabilitiesKHR(physDevice, myMode, j, &amp;planeCaps);

            // Prefer a plane that supports per-pixel alpha.
            if (planeCaps.supportedAlpha &amp; VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR)
            {
                // This is the perfect plane for the given criteria.  Use it.
                bestPlane = j;
                alphaMode = VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR;
                break;
            }
        }
    }

    free(pDisplayProps);

    if (myDisplay == VK_NULL_HANDLE || myMode == VK_NULL_HANDLE) {
        // No suitable display + mode could be found.  Abort.
        abort();
    } else {
        // Success.  Create a VkSurfaceKHR object for this plane.
        const VkDisplaySurfaceCreateInfoKHR createInfo =
        {
            VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR,  // sType
            NULL,                                               // pNext
            0,                                                  // flags
            myMode,                                             // displayMode
            bestPlane,                                          // planeIndex
            pPlaneProps[bestPlane].currentStackIndex,           // planeStackIndex
            VK_SURFACE_TRANSFORM_IDENTITY_KHR,                  // transform
            1.0f,                                               // globalAlpha
            alphaMode,                                          // alphaMode
            ...
        }

        pfnCreateDisplayPlaneSurfaceKHR(instance, &amp;createInfo, NULL, &amp;surface);
    }</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_version_history_4"></a>Version History</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Revision 1, 2015-02-24 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Initial draft
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 2, 2015-03-12 (Norbert Nopper)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added overlay enumeration for a display.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 3, 2015-03-17 (Norbert Nopper)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Fixed typos and namings as discussed in Bugzilla.
</li><li class="listitem">
Reordered and grouped functions.
</li><li class="listitem">
Added functions to query count of display, mode and overlay.
</li><li class="listitem">
Added native display handle, which is maybe needed on some platforms to
     create a native Window.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 4, 2015-03-18 (Norbert Nopper)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Removed primary and virtualPostion members (see comment of James Jones
     in Bugzilla).
</li><li class="listitem">
Added native overlay handle to info structure.
</li><li class="listitem">
Replaced , with ; in struct.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 6, 2015-03-18 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added WSI extension suffix to all items.
</li><li class="listitem">
Made the whole API more "Vulkanish".
</li><li class="listitem">
Replaced all functions with a single vkGetDisplayInfoKHR function to
     better match the rest of the API.
</li><li class="listitem">
Made the display, display mode, and overlay objects be first class
     objects, not subclasses of VkBaseObject as they do not support the
     common functions anyways.
</li><li class="listitem">
Renamed *Info structures to *Properties.
</li><li class="listitem">
Removed overlayIndex field from VkOverlayProperties as there is an
     implicit index already as a result of moving to a "Vulkanish" API.
</li><li class="listitem">
Displays are not get through device, but through physical GPU to match
     the rest of the Vulkan API.
     Also this is something ISVs explicitly requested.
</li><li class="listitem">
Added issue (6) and (7).
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 7, 2015-03-25 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added an issues section
</li><li class="listitem">
Added rotation and mirroring flags
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 8, 2015-03-25 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Combined the duplicate issues sections introduced in last change.
</li><li class="listitem">
Added proposed resolutions to several issues.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 9, 2015-04-01 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Rebased extension against Vulkan 0.82.0
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 10, 2015-04-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added issues (10) and (11).
</li><li class="listitem">
Added more straw-man issue resolutions, and cleaned up the proposed
     resolution for issue (4).
</li><li class="listitem">
Updated the rotation and mirroring enums to have proper bitmask
     semantics.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 11, 2015-04-15 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added proposed resolution for issues (1) and (2).
</li><li class="listitem">
Added issues (12), (13), (14), and (15)
</li><li class="listitem">
Removed pNativeHandle field from overlay structure.
</li><li class="listitem">
Fixed small compilation errors in example code.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 12, 2015-07-29 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Rewrote the guts of the extension against the latest WSI swapchain
     specifications and the latest Vulkan API.
</li><li class="listitem">
Address overlay planes by their index rather than an object handle and
     refer to them as "planes" rather than "overlays" to make it slightly
     clearer that even a display with no "overlays" still has at least one
     base "plane" that images can be displayed on.
</li><li class="listitem">
Updated most of the issues.
</li><li class="listitem">
Added an "extension type" section to the specification header.
</li><li class="listitem">
Re-used the VK_EXT_KHR_surface surface transform enumerations rather
     than redefining them here.
</li><li class="listitem">
Updated the example code to use the new semantics.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 13, 2015-08-21 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed this extension and all of its enumerations, types, functions,
     etc.
     This makes it compliant with the proposed standard for Vulkan
     extensions.
</li><li class="listitem">
Switched from "revision" to "version", including use of the
     VK_MAKE_VERSION macro in the header file.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 14, 2015-09-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Restore single-field revision number.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 15, 2015-09-08 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added alpha flags enum.
</li><li class="listitem">
Added premultiplied alpha support.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 16, 2015-09-08 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added description section to the spec.
</li><li class="listitem">
Added issues 16 - 18.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 17, 2015-10-02 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Planes are now a property of the entire device rather than individual
     displays.
     This allows planes to be moved between multiple displays on devices
     that support it.
</li><li class="listitem">
Added a function to create a VkSurfaceKHR object describing a display
     plane and mode to align with the new per-platform surface creation
     conventions.
</li><li class="listitem">
Removed detailed mode timing data.
     It was agreed that the mode extents and refresh rate are sufficient for
     current use cases.
     Other information could be added back2 in as an extension if it is
     needed in the future.
</li><li class="listitem">
Added support for smart/persistent/buffered display devices.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 18, 2015-10-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed from VK_EXT_KHR_display to VK_KHR_display.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 19, 2015-11-02 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated example code to match revision 17 changes.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 20, 2015-11-03 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added allocation callbacks to creation functions.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 21, 2015-11-10 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR, and use
     VkDisplayPlaneAlphaFlagBitsKHR for
     VkDisplayPlanePropertiesKHR::alphaMode instead of
     VkDisplayPlaneAlphaFlagsKHR, since it only represents one mode.
</li><li class="listitem">
Added reserved flags bitmask to VkDisplayPlanePropertiesKHR.
</li><li class="listitem">
Use VkSurfaceTransformFlagBitsKHR instead of obsolete
     VkSurfaceTransformKHR.
</li><li class="listitem">
Renamed vkGetDisplayPlaneSupportedDisplaysKHR parameters for clarity.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 22, 2015-12-18 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added missing "planeIndex" parameter to
     vkGetDisplayPlaneSupportedDisplaysKHR()
</li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="VK_KHR_display_swapchain"></a>C.2.5. VK_KHR_display_swapchain</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>Name String</strong></span>
</span></dt><dd>
    <code class="literal">VK_KHR_display_swapchain</code>
</dd><dt><span class="term">
<span class="strong"><strong>Extension Type</strong></span>
</span></dt><dd>
    Device extension
</dd><dt><span class="term">
<span class="strong"><strong>Registered Extension Number</strong></span>
</span></dt><dd>
    4
</dd><dt><span class="term">
<span class="strong"><strong>Status</strong></span>
</span></dt><dd>
    Draft.
</dd><dt><span class="term">
<span class="strong"><strong>Last Modified Date</strong></span>
</span></dt><dd>
    2015-11-10
</dd><dt><span class="term">
<span class="strong"><strong>Revision</strong></span>
</span></dt><dd>
    9
</dd><dt><span class="term">
<span class="strong"><strong>IP Status</strong></span>
</span></dt><dd>
    No known IP claims.
</dd><dt><span class="term">
<span class="strong"><strong>Dependencies</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
This extension is written against version 1.0 of the Vulkan API.
</li><li class="listitem">
This extension requires <code class="literal">VK_KHR_swapchain</code> and <code class="literal">VK_KHR_display</code>
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contributors</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
Jeff Vigil, Qualcomm
</li><li class="listitem">
Jesse Hall, Google
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contacts</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
James Jones (jajones <span class="emphasis"><em>at</em></span> nvidia.com)
</li></ul></div></dd></dl></div><p>This extension provides an API to create a swapchain directly on a device’s
display without any underlying window system.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_object_types_4"></a>New Object Types</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enum_constants_5"></a>New Enum Constants</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Extending <code class="code">VkStructureType</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR</code>
</li></ul></div></li><li class="listitem"><p class="simpara">
Extending <code class="code">VkResult</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code>
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enums_4"></a>New Enums</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_structures_4"></a>New Structures</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#VkDisplayPresentInfoKHR">VkDisplayPresentInfoKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_functions_4"></a>New Functions</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#vkCreateSharedSwapchainsKHR">vkCreateSharedSwapchainsKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_issues_4"></a>Issues</h4></div></div></div><p>1) Should swapchains sharing images each hold a reference to the images, or
    should it be up to the application to destroy the swapchains and images
    in an order that avoids the need for reference counting?</p><pre class="literallayout">PROPOSED RESOLUTION: Take a reference.
The lifetime of presentable images is already complex enough.</pre><p>2) Should the srcRect/dstRect parameters be specified as part of the present
    command, or at swapchain creation time?</p><pre class="literallayout">PROPOSED RESOLUTION: As part of the presentation command.
This allows moving and scaling the image on the screen without the need
to respecify the mode or create a new swapchain presentable images.</pre><p>3) Should srcRect/dstRect be specified as rects, or separate offset/extent
    values?</p><pre class="literallayout">PROPOSED RESOLUTION: As rects.
Specifying them separately might make it easier for hardware to expose
support for one but not the other, but in such cases applications must
just take care to obey the reported capabilities and not use non-zero
offsets or extents that require scaling, as appropriate.</pre><p>4) How can applications create multiple swapchains that use the same images?</p><pre class="literallayout">RESOLUTION: By calling vkCreateSharedSwapchainsKHR().</pre><pre class="literallayout">An earlier resolution used vkCreateSwapchainKHR(), chaining multiple
VkSwapchainCreateInfoKHR structures through pNext.
In order to allow each swapchain to also allow other extension structs,
a level of indirection was used: VkSwapchainCreateInfoKHR::pNext pointed
to a different structure, which had both an sType/pNext for additional
extensions, and also had a pointer to the next VkSwapchainCreateInfoKHR
structure.
The number of swapchains to be created could only be found by walking
this linked list of alternating structures, and the pSwapchains out
parameter was reinterpreted to be an array of VkSwapchainKHR handles.</pre><pre class="literallayout">Another option considered was a method to specify a "shared" swapchain
when creating a new swapchain, such that groups of swapchains using the
same images could be built up one at a time.
This was deemed unusable because drivers need to know all of the
displays an image will be used on when determining which internal
formats and layouts to use for that image.</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_examples_4"></a>Examples</h4></div></div></div><p><span class="strong"><strong>Example 1</strong></span></p><p>Create a swapchain on a display mode and plane</p><pre class="programlisting">    // See VK_KHR_display for an example of how to pick a display,
    // display mode, plane, and how to create a VkSurfaceKHR for
    // that plane.
    extern VkPhysicalDevice physDevice;
    extern VkDisplayModePropertiesKHR myModeProps;
    extern VkSurfaceKHR mySurface;
    extern VkDevice device;

    uint32_t queueCount, i;
    uint32_t presentQueueFamilyIndex = UINT32_MAX;
    VkBool32 supportsPresent;

    // Find a queue family that supports presenting to this surface
    uint32_t familyCount;
    vkGetPhysicalDeviceQueueFamilyProperties(physDevice, &amp;familyCount, NULL);

    for (i = 0; i &lt; familyCount; ++i)
    {
        vkGetPhysicalDeviceSurfaceSupportKHR(physDevice, i, mySurface, &amp;supportsPresent);

        if (supportsPresent) {
            // Found a queue family that supports present.  See
            // VK_KHR_surface for an example of how to find a queue that
            // supports both presentation and graphics
            presentQueueFamilyIndex = i;
            break;
        }
    }

    // Figure out which formats and present modes this surface supports.
    uint32_t formatCount;
    vkGetPhysicalDeviceSurfaceFormatsKHR(physDevice, mySurface, &amp;formatCount, NULL);

    VkSurfaceFormatKHR* formats = (VkSurfaceFormatKHR*)malloc(sizeof(VkSurfaceFormatKHR) * formatCount);
    vkGetPhysicalDeviceSurfaceFormatsKHR(physDevice, mySurface, &amp;formatCount, formats);

    const VkSwapchainCreateInfoKHR createInfo =
    {
        VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR,    // sType
        NULL,                                           // pNext
        0,                                              // flags
        mySurface,                                      // surface
        3,                                              // minImageCount
        formats[0].format,                              // imageFormat
        formats[0].colorSpace,                          // imageColorSpace
        myModeProps.parameters.visibleRegion,           // imageExtent
        1,                                              // imageArrayLayers
        VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT,            // imageUsage
        VK_SHARING_MODE_EXCLUSIVE,                      // imageSharingMode
        0,                                              // queueFamilyIndexCount
        NULL,                                           // pQueueFamilyIndices
        VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR,          // preTransform
        VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR,              // compositeAlpha
        VK_PRESENT_MODE_FIFO_KHR,                       // presentMode
        VK_TRUE,                                        // clipped
        VK_NULL_HANDLE                                  // oldSwapchain
    };

    VkSwapchainKHR swapchain;
    // This is equivalent to vkCreateSwapchainKHR.
    vkCreateSharedSwapchainsKHR(device, 1, &amp;createInfo, NULL, &amp;swapchain);</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_version_history_5"></a>Version History</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Revision 1, 2015-07-29 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Initial draft
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 2, 2015-08-21 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed this extension and all of its enumerations, types, functions,
     etc.
     This makes it compliant with the proposed standard for Vulkan
     extensions.
</li><li class="listitem">
Switched from "revision" to "version", including use of the
     VK_MAKE_VERSION macro in the header file.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 3, 2015-09-01 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Restore single-field revision number.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 4, 2015-09-08 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Allow creating multiple swap chains that share the same images using a
     single call to vkCreateSwapChainKHR().
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 5, 2015-09-10 (Alon Or-bach)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Removed underscores from SWAP_CHAIN in two enums.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 6, 2015-10-02 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added support for smart panels/buffered displays.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 7, 2015-10-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed from VK_EXT_KHR_display_swapchain to VK_KHR_display_swapchain.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 8, 2015-11-03 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated sample code based on the changes to VK_KHR_swapchain.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 9, 2015-11-10 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Replaced <span class="strong"><strong><code class="code">VkDisplaySwapchainCreateInfoKHR</code></strong></span> with
     vkCreateSharedSwapchainsKHR, changing resolution of issue #4.
</li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="VK_KHR_android_surface"></a>C.2.6. VK_KHR_android_surface</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>Name String</strong></span>
</span></dt><dd>
    <code class="literal">VK_KHR_android_surface</code>
</dd><dt><span class="term">
<span class="strong"><strong>Extension Type</strong></span>
</span></dt><dd>
    Instance extension
</dd><dt><span class="term">
<span class="strong"><strong>Registered Extension Number</strong></span>
</span></dt><dd>
    9
</dd><dt><span class="term">
<span class="strong"><strong>Last Modified Date</strong></span>
</span></dt><dd>
    2016-14-01
</dd><dt><span class="term">
<span class="strong"><strong>Revision</strong></span>
</span></dt><dd>
    6
</dd><dt><span class="term">
<span class="strong"><strong>IP Status</strong></span>
</span></dt><dd>
    No known IP claims.
</dd><dt><span class="term">
<span class="strong"><strong>Dependencies</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
This extension is written against version 1.0 of the Vulkan API.
</li><li class="listitem">
This extension requires <code class="literal">VK_KHR_surface</code>.
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contributors</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Patrick Doane, Blizzard
</li><li class="listitem">
Jason Ekstrand, Intel
</li><li class="listitem">
Ian Elliott, LunarG
</li><li class="listitem">
Courtney Goeltzenleuchter, LunarG
</li><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
Antoine Labour, Google
</li><li class="listitem">
Jon Leech, Khronos
</li><li class="listitem">
David Mao, AMD
</li><li class="listitem">
Norbert Nopper, Freescale
</li><li class="listitem">
Alon Or-bach, Samsung
</li><li class="listitem">
Daniel Rakos, AMD
</li><li class="listitem">
Graham Sellers, AMD
</li><li class="listitem">
Ray Smith, ARM
</li><li class="listitem">
Jeff Vigil, Qualcomm
</li><li class="listitem">
Chia-I Wu, LunarG
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contacts</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Jesse Hall, Google
</li></ul></div></dd></dl></div><p>The <code class="literal">VK_KHR_android_surface</code> extension is an instance extension.
It provides a mechanism to create a <code class="code">VkSurfaceKHR</code> object (defined by
the <code class="literal">VK_KHR_surface</code> extension) that refers to an <span class="strong"><strong><code class="code">ANativeWindow</code></strong></span>, Android’s
native surface type.
The <span class="strong"><strong><code class="code">ANativeWindow</code></strong></span> represents the producer endpoint of any buffer queue,
regardless of consumer endpoint.
Common consumer endpoints for <span class="strong"><strong><code class="code">ANativeWindows</code></strong></span> are the system window
compositor, video encoders, and application-specific compositors importing
the images through a SurfaceTexture.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_object_types_5"></a>New Object Types</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enum_constants_6"></a>New Enum Constants</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Extending <code class="code">VkStructureType</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR</code>
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enums_5"></a>New Enums</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_structures_5"></a>New Structures</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#VkAndroidSurfaceCreateInfoKHR">VkAndroidSurfaceCreateInfoKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_functions_5"></a>New Functions</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#vkCreateAndroidSurfaceKHR">vkCreateAndroidSurfaceKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_issues_5"></a>Issues</h4></div></div></div><p>1) Does Android need a way to query for compatibility between a particular
   physical device (and queue family?) and a specific Android display?</p><pre class="literallayout">RESOLVED: No.
Currently on Android, any GPU is expected to be able to present to the
system compositor, and all queue families must support the necessary
image layout transitions and synchronization operations.</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_version_history_6"></a>Version History</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Revision 1, 2015-09-23 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Initial draft.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 2, 2015-10-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed from VK_EXT_KHR_android_surface to VK_KHR_android_surface.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 3, 2015-11-03 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added allocation callbacks to surface creation function.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 4, 2015-11-10 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Removed VK_ERROR_INVALID_ANDROID_WINDOW_KHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 5, 2015-11-28 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated the surface create function to take a pCreateInfo structure.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 6, 2016-01-14 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Moved VK_ERROR_NATIVE_WINDOW_IN_USE_KHR from the VK_KHR_android_surface
     to the VK_KHR_surface extension.
</li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="VK_KHR_mir_surface"></a>C.2.7. VK_KHR_mir_surface</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>Name String</strong></span>
</span></dt><dd>
    <code class="literal">VK_KHR_mir_surface</code>
</dd><dt><span class="term">
<span class="strong"><strong>Extension Type</strong></span>
</span></dt><dd>
    Instance extension
</dd><dt><span class="term">
<span class="strong"><strong>Registered Extension Number</strong></span>
</span></dt><dd>
    8
</dd><dt><span class="term">
<span class="strong"><strong>Last Modified Date</strong></span>
</span></dt><dd>
    2015-11-28
</dd><dt><span class="term">
<span class="strong"><strong>Revision</strong></span>
</span></dt><dd>
    4
</dd><dt><span class="term">
<span class="strong"><strong>IP Status</strong></span>
</span></dt><dd>
    No known IP claims.
</dd><dt><span class="term">
<span class="strong"><strong>Dependencies</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
This extension is written against version 1.0 of the Vulkan API.
</li><li class="listitem">
This extension requires <code class="literal">VK_KHR_surface</code>.
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contributors</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Patrick Doane, Blizzard
</li><li class="listitem">
Jason Ekstrand, Intel
</li><li class="listitem">
Ian Elliott, LunarG
</li><li class="listitem">
Courtney Goeltzenleuchter, LunarG
</li><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
Antoine Labour, Google
</li><li class="listitem">
Jon Leech, Khronos
</li><li class="listitem">
David Mao, AMD
</li><li class="listitem">
Norbert Nopper, Freescale
</li><li class="listitem">
Alon Or-bach, Samsung
</li><li class="listitem">
Daniel Rakos, AMD
</li><li class="listitem">
Graham Sellers, AMD
</li><li class="listitem">
Ray Smith, ARM
</li><li class="listitem">
Jeff Vigil, Qualcomm
</li><li class="listitem">
Chia-I Wu, LunarG
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contacts</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
Ian Elliott, LunarG
</li></ul></div></dd></dl></div><p>The <code class="literal">VK_KHR_mir_surface</code> extension is an instance extension.
It provides a mechanism to create a <code class="code">VkSurfaceKHR</code> object (defined by
the <code class="literal">VK_KHR_surface extension</code>) that refers to a Mir surface, as well as a
query to determine support for rendering to the windows desktop.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_object_types_6"></a>New Object Types</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enum_constants_7"></a>New Enum Constants</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Extending <code class="code">VkStructureType</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_STRUCTURE_TYPE_MIR_SURFACE_CREATE_INFO_KHR</code>
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enums_6"></a>New Enums</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_structures_6"></a>New Structures</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#VkMirSurfaceCreateInfoKHR">VkMirSurfaceCreateInfoKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_functions_6"></a>New Functions</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#vkCreateMirSurfaceKHR">vkCreateMirSurfaceKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetPhysicalDeviceMirPresentationSupportKHR">vkGetPhysicalDeviceMirPresentationSupportKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_issues_6"></a>Issues</h4></div></div></div><p>1) Does Mir need a way to query for compatibility between a particular
   physical device (and queue family?) and a specific Mir connection,
   screen, window, etc.?</p><pre class="literallayout">RESOLVED: Yes, vkGetPhysicalDeviceMirPresentationSupportKHR() was added
to address this.</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_version_history_7"></a>Version History</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Revision 1, 2015-09-23 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
     (later renamed VK_EXT_KHR_surface).
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 2, 2015-10-02 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added vkGetPhysicalDeviceMirPresentationSupportKHR() to resolve issue
     #1.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 3, 2015-10-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed from VK_EXT_KHR_mir_surface to VK_KHR_mir_surface.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 4, 2015-11-28 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated the surface create function to take a pCreateInfo structure.
</li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="VK_KHR_wayland_surface"></a>C.2.8. VK_KHR_wayland_surface</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>Name String</strong></span>
</span></dt><dd>
    <code class="literal">VK_KHR_wayland_surface</code>
</dd><dt><span class="term">
<span class="strong"><strong>Extension Type</strong></span>
</span></dt><dd>
    Instance extension
</dd><dt><span class="term">
<span class="strong"><strong>Registered Extension Number</strong></span>
</span></dt><dd>
    7
</dd><dt><span class="term">
<span class="strong"><strong>Last Modified Date</strong></span>
</span></dt><dd>
    2015-11-28
</dd><dt><span class="term">
<span class="strong"><strong>Revision</strong></span>
</span></dt><dd>
    5
</dd><dt><span class="term">
<span class="strong"><strong>IP Status</strong></span>
</span></dt><dd>
    No known IP claims.
</dd><dt><span class="term">
<span class="strong"><strong>Dependencies</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
This extension is written against version 1.0 of the Vulkan API.
</li><li class="listitem">
This extension requires <code class="literal">VK_KHR_surface</code>.
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contributors</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Patrick Doane, Blizzard
</li><li class="listitem">
Jason Ekstrand, Intel
</li><li class="listitem">
Ian Elliott, LunarG
</li><li class="listitem">
Courtney Goeltzenleuchter, LunarG
</li><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
Antoine Labour, Google
</li><li class="listitem">
Jon Leech, Khronos
</li><li class="listitem">
David Mao, AMD
</li><li class="listitem">
Norbert Nopper, Freescale
</li><li class="listitem">
Alon Or-bach, Samsung
</li><li class="listitem">
Daniel Rakos, AMD
</li><li class="listitem">
Graham Sellers, AMD
</li><li class="listitem">
Ray Smith, ARM
</li><li class="listitem">
Jeff Vigil, Qualcomm
</li><li class="listitem">
Chia-I Wu, LunarG
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contacts</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
Ian Elliott, LunarG
</li></ul></div></dd></dl></div><p>The <code class="literal">VK_KHR_wayland_surface</code> extension is an instance extension.
It provides a mechanism to create a <code class="code">VkSurfaceKHR</code> object (defined by
the <code class="literal">VK_KHR_surface</code> extension) that refers to a Wayland <span class="strong"><strong><code class="code">wl_surface</code></strong></span>, as well
as a query to determine support for rendering to the windows desktop.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_object_types_7"></a>New Object Types</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enum_constants_8"></a>New Enum Constants</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Extending <code class="code">VkStructureType</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_STRUCTURE_TYPE_WAYLAND_SURFACE_CREATE_INFO_KHR</code>
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enums_7"></a>New Enums</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_structures_7"></a>New Structures</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#VkWaylandSurfaceCreateInfoKHR">VkWaylandSurfaceCreateInfoKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_functions_7"></a>New Functions</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#vkCreateWaylandSurfaceKHR">vkCreateWaylandSurfaceKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetPhysicalDeviceWaylandPresentationSupportKHR">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_issues_7"></a>Issues</h4></div></div></div><p>1) Does Wayland need a way to query for compatibility between a particular
   physical device and a specific Wayland display? This would be a more
   general query than vkGetPhysicalDeviceSurfaceSupportKHR: if the Wayland-
   specific query returned true for a (VkPhysicalDevice, struct wl_display*)
   pair, then the physical device could be assumed to support presentation
   to any VkSurface for surfaces on the display.</p><pre class="literallayout">RESOLVED: Yes.
vkGetPhysicalDeviceWaylandPresentationSupportKHR() was added to address
this issue.</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_version_history_8"></a>Version History</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Revision 1, 2015-09-23 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
     (later renamed VK_EXT_KHR_surface).
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 2, 2015-10-02 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added vkGetPhysicalDeviceWaylandPresentationSupportKHR() to resolve
     issue #1.
</li><li class="listitem">
Adjusted wording of issue #1 to match the agreed-upon solution.
</li><li class="listitem">
Renamed "window" parameters to "surface" to match Wayland conventions.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 3, 2015-10-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed from VK_EXT_KHR_wayland_surface to VK_KHR_wayland_surface.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 4, 2015-11-03 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added allocation callbacks to vkCreateWaylandSurfaceKHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 5, 2015-11-28 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated the surface create function to take a pCreateInfo structure.
</li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="VK_KHR_win32_surface"></a>C.2.9. VK_KHR_win32_surface</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>Name String</strong></span>
</span></dt><dd>
    <code class="literal">VK_KHR_win32_surface</code>
</dd><dt><span class="term">
<span class="strong"><strong>Extension Type</strong></span>
</span></dt><dd>
    Instance extension
</dd><dt><span class="term">
<span class="strong"><strong>Registered Extension Number</strong></span>
</span></dt><dd>
    10
</dd><dt><span class="term">
<span class="strong"><strong>Last Modified Date</strong></span>
</span></dt><dd>
    2015-11-28
</dd><dt><span class="term">
<span class="strong"><strong>Revision</strong></span>
</span></dt><dd>
    5
</dd><dt><span class="term">
<span class="strong"><strong>IP Status</strong></span>
</span></dt><dd>
    No known IP claims.
</dd><dt><span class="term">
<span class="strong"><strong>Dependencies</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
This extension is written against version 1.0 of the Vulkan API.
</li><li class="listitem">
This extension requires <code class="literal">VK_KHR_surface</code>.
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contributors</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Patrick Doane, Blizzard
</li><li class="listitem">
Jason Ekstrand, Intel
</li><li class="listitem">
Ian Elliott, LunarG
</li><li class="listitem">
Courtney Goeltzenleuchter, LunarG
</li><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
Antoine Labour, Google
</li><li class="listitem">
Jon Leech, Khronos
</li><li class="listitem">
David Mao, AMD
</li><li class="listitem">
Norbert Nopper, Freescale
</li><li class="listitem">
Alon Or-bach, Samsung
</li><li class="listitem">
Daniel Rakos, AMD
</li><li class="listitem">
Graham Sellers, AMD
</li><li class="listitem">
Ray Smith, ARM
</li><li class="listitem">
Jeff Vigil, Qualcomm
</li><li class="listitem">
Chia-I Wu, LunarG
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contacts</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
Ian Elliott, LunarG
</li></ul></div></dd></dl></div><p>The <code class="literal">VK_KHR_win32_surface</code> extension is an instance extension.
It provides a mechanism to create a <code class="code">VkSurfaceKHR</code> object (defined by
the <code class="literal">VK_KHR_surface</code> extension) that refers to a Win32 <span class="strong"><strong><code class="code">HWND</code></strong></span>, as well as a
query to determine support for rendering to the windows desktop.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_object_types_8"></a>New Object Types</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enum_constants_9"></a>New Enum Constants</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Extending <code class="code">VkStructureType</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR</code>
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enums_8"></a>New Enums</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_structures_8"></a>New Structures</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#VkWin32SurfaceCreateInfoKHR">VkWin32SurfaceCreateInfoKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_functions_8"></a>New Functions</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#vkCreateWin32SurfaceKHR">vkCreateWin32SurfaceKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetPhysicalDeviceWin32PresentationSupportKHR">vkGetPhysicalDeviceWin32PresentationSupportKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_issues_8"></a>Issues</h4></div></div></div><p>1) Does Win32 need a way to query for compatibility between a particular
   physical device and a specific screen? Compatibility between a physical
   device and a window generally only depends on what screen the window is
   on.
   However, there is not an obvious way to identify a screen without already
   having a window on the screen.</p><pre class="literallayout">RESOLVED: No.
While it may be useful, there is not a clear way to do this on Win32.
However, a method was added to query support for presenting to the
windows desktop as a whole.</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_version_history_9"></a>Version History</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Revision 1, 2015-09-23 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
     (later renamed VK_EXT_KHR_surface).
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 2, 2015-10-02 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added presentation support query for win32 desktops.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 3, 2015-10-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed from VK_EXT_KHR_win32_surface to VK_KHR_win32_surface.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 4, 2015-11-03 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added allocation callbacks to vkCreateWin32SurfaceKHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 5, 2015-11-28 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated the surface create function to take a pCreateInfo structure.
</li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="VK_KHR_xcb_surface"></a>C.2.10. VK_KHR_xcb_surface</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>Name String</strong></span>
</span></dt><dd>
    <code class="literal">VK_KHR_xcb_surface</code>
</dd><dt><span class="term">
<span class="strong"><strong>Extension Type</strong></span>
</span></dt><dd>
    Instance extension
</dd><dt><span class="term">
<span class="strong"><strong>Registered Extension Number</strong></span>
</span></dt><dd>
    6
</dd><dt><span class="term">
<span class="strong"><strong>Last Modified Date</strong></span>
</span></dt><dd>
    2015-11-28
</dd><dt><span class="term">
<span class="strong"><strong>Revision</strong></span>
</span></dt><dd>
    6
</dd><dt><span class="term">
<span class="strong"><strong>IP Status</strong></span>
</span></dt><dd>
    No known IP claims.
</dd><dt><span class="term">
<span class="strong"><strong>Dependencies</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
This extension is written against version 1.0 of the Vulkan API.
</li><li class="listitem">
This extension requires <code class="literal">VK_KHR_surface</code>.
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contributors</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Patrick Doane, Blizzard
</li><li class="listitem">
Jason Ekstrand, Intel
</li><li class="listitem">
Ian Elliott, LunarG
</li><li class="listitem">
Courtney Goeltzenleuchter, LunarG
</li><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
Antoine Labour, Google
</li><li class="listitem">
Jon Leech, Khronos
</li><li class="listitem">
David Mao, AMD
</li><li class="listitem">
Norbert Nopper, Freescale
</li><li class="listitem">
Alon Or-bach, Samsung
</li><li class="listitem">
Daniel Rakos, AMD
</li><li class="listitem">
Graham Sellers, AMD
</li><li class="listitem">
Ray Smith, ARM
</li><li class="listitem">
Jeff Vigil, Qualcomm
</li><li class="listitem">
Chia-I Wu, LunarG
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contacts</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
Ian Elliott, LunarG
</li></ul></div></dd></dl></div><p>The <code class="literal">VK_KHR_xcb_surface</code> extension is an instance extension.
It provides a mechanism to create a <code class="code">VkSurfaceKHR</code> object (defined by
the <code class="literal">VK_KHR_surface extension</code>) that refers to an X11 <span class="strong"><strong><code class="code">Window</code></strong></span>, using the XCB
client-side library, as well as a query to determine support for rendering
via XCB.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_object_types_9"></a>New Object Types</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enum_constants_10"></a>New Enum Constants</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Extending <code class="code">VkStructureType</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_STRUCTURE_TYPE_XCB_SURFACE_CREATE_INFO_KHR</code>
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enums_9"></a>New Enums</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_structures_9"></a>New Structures</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#VkXcbSurfaceCreateInfoKHR">VkXcbSurfaceCreateInfoKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_functions_9"></a>New Functions</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#vkCreateXcbSurfaceKHR">vkCreateXcbSurfaceKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetPhysicalDeviceXcbPresentationSupportKHR">vkGetPhysicalDeviceXcbPresentationSupportKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_issues_9"></a>Issues</h4></div></div></div><p>1) Does XCB need a way to query for compatibility between a particular
   physical device and a specific screen? This would be a more general query
   than vkGetPhysicalDeviceSurfaceSupportKHR: If it returned true, then the
   physical device could be assumed to support presentation to any window on
   that screen.</p><pre class="literallayout">RESOLVED: Yes, this is needed for toolkits that want to create a VkDevice
before creating a window.
To ensure the query is reliable, it must be made against a particular X
visual rather than the screen in general.</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_version_history_10"></a>Version History</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Revision 1, 2015-09-23 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
     (later renamed VK_EXT_KHR_surface).
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 2, 2015-10-02 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added presentation support query for an (xcb_connection_t*,
     xcb_visualid_t) pair.
</li><li class="listitem">
Removed "root" parameter from CreateXcbSurfaceKHR(), as it is redundant
     when a window on the same screen is specified as well.
</li><li class="listitem">
Adjusted wording of issue #1 and added agreed upon resolution.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 3, 2015-10-14 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Removed "root" parameter from CreateXcbSurfaceKHR() in one more place.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 4, 2015-10-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed from VK_EXT_KHR_xcb_surface to VK_KHR_xcb_surface.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 5, 2015-10-23 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added allocation callbacks to vkCreateXcbSurfaceKHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 6, 2015-11-28 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated the surface create function to take a pCreateInfo structure.
</li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="VK_KHR_xlib_surface"></a>C.2.11. VK_KHR_xlib_surface</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>Name String</strong></span>
</span></dt><dd>
    <code class="literal">VK_KHR_xlib_surface</code>
</dd><dt><span class="term">
<span class="strong"><strong>Extension Type</strong></span>
</span></dt><dd>
    Instance extension
</dd><dt><span class="term">
<span class="strong"><strong>Registered Extension Number</strong></span>
</span></dt><dd>
    5
</dd><dt><span class="term">
<span class="strong"><strong>Last Modified Date</strong></span>
</span></dt><dd>
    2015-11-28
</dd><dt><span class="term">
<span class="strong"><strong>Revision</strong></span>
</span></dt><dd>
    6
</dd><dt><span class="term">
<span class="strong"><strong>IP Status</strong></span>
</span></dt><dd>
    No known IP claims.
</dd><dt><span class="term">
<span class="strong"><strong>Dependencies</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
This extension is written against version 1.0 of the Vulkan API.
</li><li class="listitem">
This extension requires <code class="literal">VK_KHR_surface</code>.
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contributors</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Patrick Doane, Blizzard
</li><li class="listitem">
Jason Ekstrand, Intel
</li><li class="listitem">
Ian Elliott, LunarG
</li><li class="listitem">
Courtney Goeltzenleuchter, LunarG
</li><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
Antoine Labour, Google
</li><li class="listitem">
Jon Leech, Khronos
</li><li class="listitem">
David Mao, AMD
</li><li class="listitem">
Norbert Nopper, Freescale
</li><li class="listitem">
Alon Or-bach, Samsung
</li><li class="listitem">
Daniel Rakos, AMD
</li><li class="listitem">
Graham Sellers, AMD
</li><li class="listitem">
Ray Smith, ARM
</li><li class="listitem">
Jeff Vigil, Qualcomm
</li><li class="listitem">
Chia-I Wu, LunarG
</li></ul></div></dd><dt><span class="term">
<span class="strong"><strong>Contacts</strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
Ian Elliott, LunarG
</li></ul></div></dd></dl></div><p>The <code class="literal">VK_KHR_xlib_surface</code> extension is an instance extension.
It provides a mechanism to create a <code class="code">VkSurfaceKHR</code> object (defined by
the <code class="literal">VK_KHR_surface</code> extension) that refers to an X11 <span class="strong"><strong><code class="code">Window</code></strong></span>, using the Xlib
client-side library, as well as a query to determine support for rendering
via Xlib.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_object_types_10"></a>New Object Types</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enum_constants_11"></a>New Enum Constants</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Extending <code class="code">VkStructureType</code>:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_STRUCTURE_TYPE_XLIB_SURFACE_CREATE_INFO_KHR</code>
</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_enums_10"></a>New Enums</h4></div></div></div><p>None</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_structures_10"></a>New Structures</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#VkXlibSurfaceCreateInfoKHR">VkXlibSurfaceCreateInfoKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_new_functions_10"></a>New Functions</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code"><a class="link" href="#vkCreateXlibSurfaceKHR">vkCreateXlibSurfaceKHR</a></code>
</li><li class="listitem">
<code class="code"><a class="link" href="#vkGetPhysicalDeviceXlibPresentationSupportKHR">vkGetPhysicalDeviceXlibPresentationSupportKHR</a></code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_issues_10"></a>Issues</h4></div></div></div><p>1) Does X11 need a way to query for compatibility between a particular
   physical device and a specific screen? This would be a more general query
   than vkGetPhysicalDeviceSurfaceSupportKHR: If it returned true, then the
   physical device could be assumed to support presentation to any window on
   that screen.</p><pre class="literallayout">RESOLVED: Yes, this is needed for toolkits that want to create a VkDevice
before creating a window.
To ensure the query is reliable, it must be made against a particular X
visual rather than the screen in general.</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_version_history_11"></a>Version History</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Revision 1, 2015-09-23 (Jesse Hall)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
     (later renamed VK_EXT_KHR_surface).
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 2, 2015-10-02 (James Jones)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added presentation support query for (Display*, VisualID) pair.
</li><li class="listitem">
Removed "root" parameter from CreateXlibSurfaceKHR(), as it is
     redundant when a window on the same screen is specified as well.
</li><li class="listitem">
Added appropriate X errors.
</li><li class="listitem">
Adjusted wording of issue #1 and added agreed upon resolution.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 3, 2015-10-14 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed this extension from VK_EXT_KHR_x11_surface to
     VK_EXT_KHR_xlib_surface.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 4, 2015-10-26 (Ian Elliott)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Renamed from VK_EXT_KHR_xlib_surface to VK_KHR_xlib_surface.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 5, 2015-11-03 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Added allocation callbacks to vkCreateXlibSurfaceKHR.
</li></ul></div></li><li class="listitem"><p class="simpara">
Revision 6, 2015-11-28 (Daniel Rakos)
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Updated the surface create function to take a pCreateInfo structure.
</li></ul></div></li></ul></div></div></div></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="boilerplate"></a>Appendix D. API Boilerplate</h1></div></div></div><p>This appendix defines Vulkan API features that are infrastructure required
for a complete functional description of Vulkan, but do not logically belong
elsewhere in the Specification.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="boilerplate-sType"></a>D.1. Structure Types</h2></div></div></div><p>Vulkan structures containing <em class="parameter"><code>sType</code></em> members <span class="normative">must</span> have a value of
<em class="parameter"><code>sType</code></em> matching the type of the structure, as described more fully in
<a class="link" href="#fundamentals-validusage-sType" title="Valid Usage for Structure Types">Valid Usage for Structure Types</a>.
Structure types supported by the Vulkan API include:</p><p><a id="VkStructureType"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkStructureType {
    VK_STRUCTURE_TYPE_APPLICATION_INFO = 0,
    VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO = 1,
    VK_STRUCTURE_TYPE_DEVICE_QUEUE_CREATE_INFO = 2,
    VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO = 3,
    VK_STRUCTURE_TYPE_SUBMIT_INFO = 4,
    VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO = 5,
    VK_STRUCTURE_TYPE_MAPPED_MEMORY_RANGE = 6,
    VK_STRUCTURE_TYPE_BIND_SPARSE_INFO = 7,
    VK_STRUCTURE_TYPE_FENCE_CREATE_INFO = 8,
    VK_STRUCTURE_TYPE_SEMAPHORE_CREATE_INFO = 9,
    VK_STRUCTURE_TYPE_EVENT_CREATE_INFO = 10,
    VK_STRUCTURE_TYPE_QUERY_POOL_CREATE_INFO = 11,
    VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO = 12,
    VK_STRUCTURE_TYPE_BUFFER_VIEW_CREATE_INFO = 13,
    VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO = 14,
    VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO = 15,
    VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO = 16,
    VK_STRUCTURE_TYPE_PIPELINE_CACHE_CREATE_INFO = 17,
    VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO = 18,
    VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO = 19,
    VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO = 20,
    VK_STRUCTURE_TYPE_PIPELINE_TESSELLATION_STATE_CREATE_INFO = 21,
    VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO = 22,
    VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO = 23,
    VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO = 24,
    VK_STRUCTURE_TYPE_PIPELINE_DEPTH_STENCIL_STATE_CREATE_INFO = 25,
    VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO = 26,
    VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO = 27,
    VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO = 28,
    VK_STRUCTURE_TYPE_COMPUTE_PIPELINE_CREATE_INFO = 29,
    VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO = 30,
    VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO = 31,
    VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO = 32,
    VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_CREATE_INFO = 33,
    VK_STRUCTURE_TYPE_DESCRIPTOR_SET_ALLOCATE_INFO = 34,
    VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET = 35,
    VK_STRUCTURE_TYPE_COPY_DESCRIPTOR_SET = 36,
    VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO = 37,
    VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO = 38,
    VK_STRUCTURE_TYPE_COMMAND_POOL_CREATE_INFO = 39,
    VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO = 40,
    VK_STRUCTURE_TYPE_COMMAND_BUFFER_INHERITANCE_INFO = 41,
    VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO = 42,
    VK_STRUCTURE_TYPE_RENDER_PASS_BEGIN_INFO = 43,
    VK_STRUCTURE_TYPE_BUFFER_MEMORY_BARRIER = 44,
    VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER = 45,
    VK_STRUCTURE_TYPE_MEMORY_BARRIER = 46,
    VK_STRUCTURE_TYPE_LOADER_INSTANCE_CREATE_INFO = 47,
    VK_STRUCTURE_TYPE_LOADER_DEVICE_CREATE_INFO = 48,
    VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR = 1000001000,
    VK_STRUCTURE_TYPE_PRESENT_INFO_KHR = 1000001001,
    VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR = 1000002000,
    VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR = 1000002001,
    VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR = 1000003000,
    VK_STRUCTURE_TYPE_XLIB_SURFACE_CREATE_INFO_KHR = 1000004000,
    VK_STRUCTURE_TYPE_XCB_SURFACE_CREATE_INFO_KHR = 1000005000,
    VK_STRUCTURE_TYPE_WAYLAND_SURFACE_CREATE_INFO_KHR = 1000006000,
    VK_STRUCTURE_TYPE_MIR_SURFACE_CREATE_INFO_KHR = 1000007000,
    VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR = 1000008000,
    VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR = 1000009000,
} VkStructureType;</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="boilerplate-flags"></a>D.2. Flag Types</h2></div></div></div><p>Vulkan flag types are all bitmasks aliasing the base type <code class="code">VkFlags</code>
and with corresponding bit flag types defining the valid bits for that flag,
as described in <a class="link" href="#fundamentals-validusage-flags" title="Valid Usage for Flags">Valid Usage for Flags</a>.
Flag types supported by the Vulkan API include:</p><p><a id="VkAccessFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkAccessFlags;</pre><p>
</p><p><a id="VkAttachmentDescriptionFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkAttachmentDescriptionFlags;</pre><p>
</p><p><a id="VkBufferCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkBufferCreateFlags;</pre><p>
</p><p><a id="VkBufferUsageFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkBufferUsageFlags;</pre><p>
</p><p><a id="VkBufferViewCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkBufferViewCreateFlags;</pre><p>
</p><p><a id="VkColorComponentFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkColorComponentFlags;</pre><p>
</p><p><a id="VkCommandBufferResetFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkCommandBufferResetFlags;</pre><p>
</p><p><a id="VkCommandBufferUsageFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkCommandBufferUsageFlags;</pre><p>
</p><p><a id="VkCommandPoolCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkCommandPoolCreateFlags;</pre><p>
</p><p><a id="VkCommandPoolResetFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkCommandPoolResetFlags;</pre><p>
</p><p><a id="VkCullModeFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkCullModeFlags;</pre><p>
</p><p><a id="VkDependencyFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkDependencyFlags;</pre><p>
</p><p><a id="VkDescriptorPoolCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkDescriptorPoolCreateFlags;</pre><p>
</p><p><a id="VkDescriptorPoolResetFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkDescriptorPoolResetFlags;</pre><p>
</p><p><a id="VkDescriptorSetLayoutCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkDescriptorSetLayoutCreateFlags;</pre><p>
</p><p><a id="VkDeviceCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkDeviceCreateFlags;</pre><p>
</p><p><a id="VkDeviceQueueCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkDeviceQueueCreateFlags;</pre><p>
</p><p><a id="VkEventCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkEventCreateFlags;</pre><p>
</p><p><a id="VkFenceCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkFenceCreateFlags;</pre><p>
</p><p><a id="VkFormatFeatureFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkFormatFeatureFlags;</pre><p>
</p><p><a id="VkFramebufferCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkFramebufferCreateFlags;</pre><p>
</p><p><a id="VkImageAspectFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkImageAspectFlags;</pre><p>
</p><p><a id="VkImageCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkImageCreateFlags;</pre><p>
</p><p><a id="VkImageUsageFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkImageUsageFlags;</pre><p>
</p><p><a id="VkImageViewCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkImageViewCreateFlags;</pre><p>
</p><p><a id="VkInstanceCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkInstanceCreateFlags;</pre><p>
</p><p><a id="VkMemoryHeapFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkMemoryHeapFlags;</pre><p>
</p><p><a id="VkMemoryMapFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkMemoryMapFlags;</pre><p>
</p><p><a id="VkMemoryPropertyFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkMemoryPropertyFlags;</pre><p>
</p><p><a id="VkPipelineCacheCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineCacheCreateFlags;</pre><p>
</p><p><a id="VkPipelineColorBlendStateCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineColorBlendStateCreateFlags;</pre><p>
</p><p><a id="VkPipelineCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineCreateFlags;</pre><p>
</p><p><a id="VkPipelineDepthStencilStateCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineDepthStencilStateCreateFlags;</pre><p>
</p><p><a id="VkPipelineDynamicStateCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineDynamicStateCreateFlags;</pre><p>
</p><p><a id="VkPipelineInputAssemblyStateCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineInputAssemblyStateCreateFlags;</pre><p>
</p><p><a id="VkPipelineLayoutCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineLayoutCreateFlags;</pre><p>
</p><p><a id="VkPipelineMultisampleStateCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineMultisampleStateCreateFlags;</pre><p>
</p><p><a id="VkPipelineRasterizationStateCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineRasterizationStateCreateFlags;</pre><p>
</p><p><a id="VkPipelineShaderStageCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineShaderStageCreateFlags;</pre><p>
</p><p><a id="VkPipelineStageFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineStageFlags;</pre><p>
</p><p><a id="VkPipelineTessellationStateCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineTessellationStateCreateFlags;</pre><p>
</p><p><a id="VkPipelineVertexInputStateCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineVertexInputStateCreateFlags;</pre><p>
</p><p><a id="VkPipelineViewportStateCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkPipelineViewportStateCreateFlags;</pre><p>
</p><p><a id="VkQueryControlFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkQueryControlFlags;</pre><p>
</p><p><a id="VkQueryPipelineStatisticFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkQueryPipelineStatisticFlags;</pre><p>
</p><p><a id="VkQueryPoolCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkQueryPoolCreateFlags;</pre><p>
</p><p><a id="VkQueryResultFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkQueryResultFlags;</pre><p>
</p><p><a id="VkQueueFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkQueueFlags;</pre><p>
</p><p><a id="VkRenderPassCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkRenderPassCreateFlags;</pre><p>
</p><p><a id="VkSampleCountFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkSampleCountFlags;</pre><p>
</p><p><a id="VkSamplerCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkSamplerCreateFlags;</pre><p>
</p><p><a id="VkSemaphoreCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkSemaphoreCreateFlags;</pre><p>
</p><p><a id="VkShaderModuleCreateFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkShaderModuleCreateFlags;</pre><p>
</p><p><a id="VkShaderStageFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkShaderStageFlags;</pre><p>
</p><p><a id="VkSparseImageFormatFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkSparseImageFormatFlags;</pre><p>
</p><p><a id="VkSparseMemoryBindFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkSparseMemoryBindFlags;</pre><p>
</p><p><a id="VkStencilFaceFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkStencilFaceFlags;</pre><p>
</p><p><a id="VkSubpassDescriptionFlags"></a><strong> </strong>
</p><pre class="programlisting">typedef VkFlags VkSubpassDescriptionFlags;</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="boilerplate-macros"></a>D.3. Macro Definitions in <code class="literal">vulkan.h</code></h2></div></div></div><p>Vulkan is defined as a C API.
The supplied <code class="literal">vulkan.h</code> header defines a small number of C preprocessor
macros that are described below.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="boilerplate-versions"></a>D.3.1. Vulkan Version Number Macros</h3></div></div></div><p><a class="link" href="#fundamentals-versionnum" title="2.9. API Version Numbers and Semantics">API Version Numbers</a> are packed into integers.
These macros manipulate version numbers in useful ways.</p><p><code class="code">VK_VERSION_MAJOR</code> extracts the API major version number from a packed
version number:</p><p><a id="VK_VERSION_MAJOR"></a><strong> </strong>
</p><pre class="programlisting">#define VK_VERSION_MAJOR(version) ((uint32_t)(version) &gt;&gt; 22)</pre><p>
</p><p><code class="code">VK_VERSION_MINOR</code> extracts the API minor version number from a packed
version number:</p><p><a id="VK_VERSION_MINOR"></a><strong> </strong>
</p><pre class="programlisting">#define VK_VERSION_MINOR(version) (((uint32_t)(version) &gt;&gt; 12) &amp; 0x3ff)</pre><p>
</p><p><code class="code">VK_VERSION_PATCH</code> extracts the API patch version number from a packed
version number:</p><p><a id="VK_VERSION_PATCH"></a><strong> </strong>
</p><pre class="programlisting">#define VK_VERSION_PATCH(version) ((uint32_t)(version) &amp; 0xfff)</pre><p>
</p><p><code class="code">VK_API_VERSION_1_0</code> returns the API version number for Vulkan 1.0.
The patch version number in this macro will always be zero.
The supported patch version for a physical device <span class="normative">can</span> be queried with
<code class="code"><a class="link" href="#vkGetPhysicalDeviceProperties">vkGetPhysicalDeviceProperties</a></code>.</p><p><a id="VK_API_VERSION_1_0"></a><strong> </strong>
</p><pre class="programlisting">// Vulkan 1.0 version number
#define VK_API_VERSION_1_0 VK_MAKE_VERSION(1, 0, 0)</pre><p>
</p><p><code class="code">VK_API_VERSION</code> is now commented out of <code class="literal">vulkan.h</code> and <span class="normative">cannot</span> be used.</p><p><a id="VK_API_VERSION"></a><strong> </strong>
</p><pre class="programlisting">// DEPRECATED: This define has been removed. Specific version defines (e.g. VK_API_VERSION_1_0), or the VK_MAKE_VERSION macro, should be used instead.
//#define VK_API_VERSION VK_MAKE_VERSION(1, 0, 0)</pre><p>
</p><p><code class="code">VK_MAKE_VERSION</code> constructs an API version number.</p><p><a id="VK_MAKE_VERSION"></a><strong> </strong>
</p><pre class="programlisting">#define VK_MAKE_VERSION(major, minor, patch) \
    (((major) &lt;&lt; 22) | ((minor) &lt;&lt; 12) | (patch))</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>major</code></em> is the major version number.
</li><li class="listitem">
<em class="parameter"><code>minor</code></em> is the minor version number.
</li><li class="listitem">
<em class="parameter"><code>patch</code></em> is the patch version number.
</li></ul></div><p>This macro <span class="normative">can</span> be used when constructing the
<code class="code"><a class="link" href="#VkApplicationInfo">VkApplicationInfo</a></code>::<em class="parameter"><code>apiVersion</code></em> parameter passed to
<code class="code"><a class="link" href="#vkCreateInstance">vkCreateInstance</a></code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_vulkan_header_file_version_number"></a>D.3.2. Vulkan Header File Version Number</h3></div></div></div><p><code class="code">VK_HEADER_VERSION</code> is the version number of the <code class="literal">vulkan.h</code> header.
This value is currently kept synchronized with the release number of the
Specification.
However, it is not guaranteed to remain synchronized, since most
Specification updates have no effect on <code class="literal">vulkan.h</code>.</p><p><a id="VK_HEADER_VERSION"></a><strong> </strong>
</p><pre class="programlisting">// Version of this file
#define VK_HEADER_VERSION 28</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_vulkan_handle_macros"></a>D.3.3. Vulkan Handle Macros</h3></div></div></div><p><code class="code">VK_DEFINE_HANDLE</code> defines a <a class="link" href="#fundamentals-objectmodel-overview" title="2.3. Object Model">dispatchable handle</a> type.</p><p><a id="VK_DEFINE_HANDLE"></a><strong> </strong>
</p><pre class="programlisting">#define VK_DEFINE_HANDLE(object) typedef struct object##_T* object;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>object</code></em> is the name of the resulting C type.
</li></ul></div><p>The only dispatchable handle types are those related to device and instance
management, such as <code class="code"><a class="link" href="#VkDevice">VkDevice</a></code>.</p><p><code class="code">VK_DEFINE_NON_DISPATCHABLE_HANDLE</code> defines a
<a class="link" href="#fundamentals-objectmodel-overview" title="2.3. Object Model">non-dispatchable handle</a> type.</p><p><a id="VK_DEFINE_NON_DISPATCHABLE_HANDLE"></a><strong> </strong>
</p><pre class="programlisting">#if !defined(VK_DEFINE_NON_DISPATCHABLE_HANDLE)
#if defined(__LP64__) || defined(_WIN64) || (defined(__x86_64__) &amp;&amp; !defined(__ILP32__) ) || defined(_M_X64) || defined(__ia64) || defined (_M_IA64) || defined(__aarch64__) || defined(__powerpc64__)
        #define VK_DEFINE_NON_DISPATCHABLE_HANDLE(object) typedef struct object##_T *object;
#else
        #define VK_DEFINE_NON_DISPATCHABLE_HANDLE(object) typedef uint64_t object;
#endif
#endif</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>object</code></em> is the name of the resulting C type.
</li></ul></div><p>Most Vulkan handle types, such as <code class="code"><a class="link" href="#VkBuffer">VkBuffer</a></code>, are non-dispatchable.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The <code class="literal">vulkan.h</code> header allows the <code class="code">VK_DEFINE_NON_DISPATCHABLE_HANDLE</code>
definition to be overridden by the application.
If <code class="code">VK_DEFINE_NON_DISPATCHABLE_HANDLE</code> is already defined when the
<code class="literal">vulkan.h</code> header is compiled the default definition is skipped.
This allows the application to define a binary-compatible custom handle
which <span class="normative">may</span> provide more type-safety or other features needed by the
application.
Behavior is undefined if the application defines a non-binary-compatible
handle and <span class="normative">may</span> result in memory corruption or application termination.
Binary compatibility is platform dependent so the application <span class="normative">must</span> be
careful if it overrides the default <code class="code">VK_DEFINE_NON_DISPATCHABLE_HANDLE</code>
definition.</p></td></tr></table></div><p><code class="code">VK_NULL_HANDLE</code> is a reserved value representing a non-valid object
handle.
It may be passed to and returned from Vulkan commands only when
<a class="link" href="#fundamentals-validusage-handles" title="Valid Usage for Object Handles">specifically allowed</a>.</p><p><a id="VK_NULL_HANDLE"></a><strong> </strong>
</p><pre class="programlisting">#define VK_NULL_HANDLE 0</pre><p>
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="boilerplate-platform-macros"></a>D.4. Platform-Specific Macro Definitions in <code class="literal">vk_platform.h</code></h2></div></div></div><p>Additional platform-specific macros and interfaces are defined using the
included <code class="literal">vk_platform.h</code> file.
These macros are used to control platform-dependent behavior, and their
exact definitions are under the control of specific platforms and Vulkan
implementations.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_platform_specific_calling_conventions"></a>D.4.1. Platform-Specific Calling Conventions</h3></div></div></div><p>On many platforms the following macros are empty strings, causing platform-
and compiler-specific default calling conventions to be used.</p><p><code class="code">VKAPI_ATTR</code> is a macro placed before the return type in Vulkan API
function declarations.
This macro controls calling conventions for C++11 and GCC/Clang-style
compilers.</p><p><code class="code">VKAPI_CALL</code> is a macro placed after the return type in Vulkan API
function declarations.
This macro controls calling conventions for MSVC-style compilers.</p><p><code class="code">VKAPI_PTR</code> is a macro placed between the <span class="emphasis"><em>(</em></span> and <span class="emphasis"><em>*</em></span> in Vulkan API
function pointer declarations.
This macro also controls calling conventions, and typically has the same
definition as <code class="code">VKAPI_ATTR</code> or <code class="code">VKAPI_CALL</code>, depending on the
compiler.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_platform_specific_header_control"></a>D.4.2. Platform-Specific Header Control</h3></div></div></div><p>If the <code class="literal">VK_NO_STDINT_H</code> macro is defined by the application at compile time,
extended integer types used by <code class="literal">vulkan.h</code>, such as <span class="strong"><strong><code class="code">uint8_t</code></strong></span>, <span class="normative">must</span> also be
defined by the application.
Otherwise, <code class="literal">vulkan.h</code> will not compile.
If <code class="literal">VK_NO_STDINT_H</code> is not defined, the system <code class="literal">&lt;stdint.h&gt;</code> is used to
define these types, or there is a fallback path when Microsoft Visual Studio
version 2008 and earlier versions are detected at compile time.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="boilerplate-wsi-header"></a>D.4.3. Window System-Specific Header Control</h3></div></div></div><p>To use a Vulkan extension supporting a platform-specific window system,
header files for that window systems <span class="normative">must</span> be included at compile time.
The Vulkan header files cannot determine whether or not an external header
is available at compile time, so applications wishing to use such an
extension <span class="normative">must</span> #define a macro causing such headers to be included.
If this is not done, the corresponding extension interfaces will not be
defined and they will be unusable.</p><p>The extensions, <span class="normative">required</span> compile time symbols to enable them, window
systems they correspond to, and external header files that are included when
the macro is #defined are shown in the
<a class="link" href="#boilerplate-wsi-header-table" title="Table D.1. Window System Extensions and Required Compile Time Symbol Definitions">following table</a>.</p><div class="table"><a id="boilerplate-wsi-header-table"></a><p class="title"><strong>Table D.1. Window System Extensions and Required Compile Time Symbol Definitions</strong></p><div class="table-contents"><table summary="Window System Extensions and Required Compile Time Symbol Definitions" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Extension Name           </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Required Compile Time Symbol  </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Window System Name           </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> External Header Files Used</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">VK_KHR_android_surface</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">VK_USE_PLATFORM_ANDROID_KHR</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Android Native</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">&lt;android/native_window.h&gt;</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">VK_KHR_mir_surface</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">VK_USE_PLATFORM_MIR_KHR</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Mir</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">&lt;mir_toolkit/client_types.h&gt;</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">VK_KHR_wayland_surface</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">VK_USE_PLATFORM_WAYLAND_KHR</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Wayland</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">&lt;wayland-client.h&gt;</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">VK_KHR_win32_surface</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">VK_USE_PLATFORM_WIN32_KHR</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Microsoft Windows</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">&lt;windows.h&gt;</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">VK_KHR_xcb_surface</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">VK_USE_PLATFORM_XCB_KHR</code></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>X Window System Xcb library</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">&lt;xcb/xcb.h&gt;</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">VK_KHR_xlib_surface</code></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">VK_USE_PLATFORM_XLIB_KHR</code></p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>X Window System Xlib library</p></td><td style="" align="left" valign="top"><p><code class="literal">&lt;X11/Xlib.h&gt;</code></p></td></tr></tbody></table></div></div><br class="table-break" /></div></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="_invariance"></a>Appendix E. Invariance</h1></div></div></div><p>The Vulkan specification is not pixel exact.
It therefore does not guarantee an exact match between images produced by
different Vulkan implementations.
However, the specification does specify exact matches, in some cases, for
images produced by the same implementation.
The purpose of this appendix is to identify and provide justification for
those cases that require exact matches.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_repeatability"></a>E.1. Repeatability</h2></div></div></div><p>The obvious and most fundamental case is repeated issuance of a series of
Vulkan commands.
For any given Vulkan and framebuffer state vector, and for any Vulkan
command, the resulting Vulkan and framebuffer state <span class="normative">must</span> be identical
whenever the command is executed on that initial Vulkan and framebuffer
state.
This repeatability requirement does not apply when using shaders containing
side effects (image and buffer variable stores and atomic operations),
because these memory operations are not guaranteed to be processed in a
defined order.</p><p>One purpose of repeatability is avoidance of visual artifacts when a
double-buffered scene is redrawn.
If rendering is not repeatable, swapping between two buffers rendered with
the same command sequence <span class="normative">may</span> result in visible changes in the image.
Such false motion is distracting to the viewer.
Another reason for repeatability is testability.</p><p>Repeatability, while important, is a weak requirement.
Given only repeatability as a requirement, two scenes rendered with one
(small) polygon changed in position might differ at every pixel.
Such a difference, while within the law of repeatability, is certainly not
within its spirit.
Additional invariance rules are desirable to ensure useful operation.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_multi_pass_algorithms"></a>E.2. Multi-pass Algorithms</h2></div></div></div><p>Invariance is necessary for a whole set of useful multi-pass algorithms.
Such algorithms render multiple times, each time with a different Vulkan
mode vector, to eventually produce a result in the framebuffer.
Examples of these algorithms include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
“Erasing” a primitive from the framebuffer by redrawing it, either in
    a different color or using the XOR logical operation.
</li><li class="listitem">
Using stencil operations to compute capping planes.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_invariance_rules"></a>E.3. Invariance Rules</h2></div></div></div><p>For a given instantiation of an Vulkan rendering context:</p><p><span class="strong"><strong>Rule 1</strong></span> <span class="emphasis"><em>For any given Vulkan and framebuffer state vector, and for any
given Vulkan command, the resulting Vulkan and framebuffer state <span class="normative">must</span> be
identical each time the command is executed on that initial Vulkan and
framebuffer state.</em></span></p><p><span class="strong"><strong>Rule 2</strong></span> <span class="emphasis"><em>Changes to the following state values have no side effects (the
use of any other state value is not affected by the change):</em></span></p><p><span class="strong"><strong>Required:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="emphasis"><em>Framebuffer contents (all bit planes)</em></span>
</li><li class="listitem">
<span class="emphasis"><em>The color buffers enabled for writing</em></span>
</li><li class="listitem">
<span class="emphasis"><em>Scissor parameters (other than enable)</em></span>
</li><li class="listitem">
<span class="emphasis"><em>Writemasks (color, depth, stencil)</em></span>
</li><li class="listitem">
<span class="emphasis"><em>Clear values (color, depth, stencil)</em></span>
</li></ul></div><p><span class="strong"><strong>Strongly suggested:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="emphasis"><em>Stencil Parameters (other than enable)</em></span>
</li><li class="listitem">
<span class="emphasis"><em>Depth test parameters (other than enable)</em></span>
</li><li class="listitem">
<span class="emphasis"><em>Blend parameters (other than enable)</em></span>
</li><li class="listitem">
<span class="emphasis"><em>Logical operation parameters (other than enable)</em></span>
</li><li class="listitem">
<span class="emphasis"><em>Pixel storage state</em></span>
</li></ul></div><p><span class="strong"><strong>Corollary 1</strong></span> <span class="emphasis"><em>Fragment generation is invariant with respect to the state
values listed in Rule 2.</em></span></p><p><span class="strong"><strong>Rule 3</strong></span> <span class="emphasis"><em>The arithmetic of each per-fragment operation is invariant except
with respect to parameters that directly control it.</em></span></p><p><span class="strong"><strong>Corollary 2</strong></span> <span class="emphasis"><em>Images rendered into different color buffers sharing the same
framebuffer, either simultaneously or separately using the same command
sequence, are pixel identical.</em></span></p><p><span class="strong"><strong>Rule 4</strong></span> <span class="emphasis"><em>The same vertex or fragment shader will produce the same result
when run multiple times with the same input.
The wording “the same shader” means a program object that is populated
with the same SPIR-V binary, which is used to create pipelines, possibly
multiple times, and which program object is then executed using the same
Vulkan state vector.
Invariance is relaxed for shaders with side effects, such as performing
stores or atomics.</em></span></p><p><span class="strong"><strong>Rule 5</strong></span> <span class="emphasis"><em>All fragment shaders that either conditionally or unconditionally
assign</em></span> <span class="strong"><strong><code class="code">FragCoord</code></strong></span>.z <span class="emphasis"><em>to</em></span> <span class="strong"><strong><code class="code">FragDepth</code></strong></span> <span class="emphasis"><em>are depth-invariant with
respect to each other, for those fragments where the assignment to</em></span>
<span class="strong"><strong><code class="code">FragDepth</code></strong></span> <span class="emphasis"><em>actually is done.</em></span></p><p>If a sequence of Vulkan commands specifies primitives to be rendered with
shaders containing side effects (image and buffer variable stores and atomic
operations), invariance rules are relaxed.
In particular, rule 1, corollary 2, and rule 4 do not apply in the presence
of shader side effects.</p><p>The following weaker versions of rules 1 and 4 apply to Vulkan commands
involving shader side effects:</p><p><span class="strong"><strong>Rule 6</strong></span> <span class="emphasis"><em>For any given Vulkan and framebuffer state vector, and for any
given Vulkan command, the contents of any framebuffer state not directly or
indirectly affected by results of shader image or buffer variable stores or
atomic operations <span class="normative">must</span> be identical each time the command is executed on
that initial Vulkan and framebuffer state.</em></span></p><p><span class="strong"><strong>Rule 7</strong></span> <span class="emphasis"><em>The same vertex or fragment shader will produce the same result
when run multiple times with the same input as long as:</em></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="emphasis"><em>shader invocations do not use image atomic operations;</em></span>
</li><li class="listitem">
<span class="emphasis"><em>no framebuffer memory is written to more than once by image stores,
    unless all such stores write the same value; and</em></span>
</li><li class="listitem">
<span class="emphasis"><em>no shader invocation, or other operation performed to process the
    sequence of commands, reads memory written to by an image store.</em></span>
</li></ul></div><p>When any sequence of Vulkan commands triggers shader invocations that
perform image stores or atomic operations, and subsequent Vulkan commands
read the memory written by those shader invocations, these operations <span class="normative">must</span>
be explicitly synchronized.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_tessellation_invariance"></a>E.4. Tessellation Invariance</h2></div></div></div><p>When using a program containing tessellation evaluation shaders, the
fixed-function tessellation primitive generator consumes the input patch
specified by an application and emits a new set of primitives.
The following invariance rules are intended to provide repeatability
guarantees.
Additionally, they are intended to allow an application with a carefully
crafted tessellation evaluation shader to ensure that the sets of triangles
generated for two adjacent patches have identical vertices along shared
patch edges, avoiding “cracks” caused by minor differences in the
positions of vertices along shared edges.</p><p><span class="strong"><strong>Rule 1</strong></span> <span class="emphasis"><em>When processing two patches with identical outer and inner
tessellation levels, the tessellation primitive generator will emit an
identical set of point, line, or triangle primitives as long as the active
program used to process the patch primitives has tessellation evaluation
shaders specifying the same tessellation mode, spacing, vertex order, and
point mode decorations.
Two sets of primitives are considered identical if and only if they contain
the same number and type of primitives and the generated tessellation
coordinates for the vertex numbered m of the primitive numbered n are
identical for all values of m and n.</em></span></p><p><span class="strong"><strong>Rule 2</strong></span> <span class="emphasis"><em>The set of vertices generated along the outer edge of the
subdivided primitive in triangle and quad tessellation, and the tessellation
coordinates of each, depends only on the corresponding outer tessellation
level and the spacing decorations in the tessellation shaders of the
pipeline.</em></span></p><p><span class="strong"><strong>Rule 3</strong></span> <span class="emphasis"><em>The set of vertices generated when subdividing any outer primitive
edge is always symmetric.
For triangle tessellation, if the subdivision generates a vertex with
tessellation coordinates of the form (0, x, 1-x), (x, 0, 1-x), or (x, 1-x,
0), it will also generate a vertex with coordinates of exactly (0, 1-x, x),
(1-x, 0, x), or (1-x, x, 0), respectively.
For quad tessellation, if the subdivision generates a vertex with
coordinates of (x, 0) or (0, x), it will also generate a vertex with
coordinates of exactly (1-x, 0) or (0, 1-x), respectively.
For isoline tessellation, if it generates vertices at (0, x) and (1, x)
where x is not zero, it will also generate vertices at exactly (0, 1-x) and
(1, 1-x), respectively.</em></span></p><p><span class="strong"><strong>Rule 4</strong></span> <span class="emphasis"><em>The set of vertices generated when subdividing outer edges in
triangular and quad tessellation <span class="normative">must</span> be independent of the specific edge
subdivided, given identical outer tessellation levels and spacing.
For example, if vertices at (x, 1 - x, 0) and (1-x, x, 0) are generated when
subdividing the w = 0 edge in triangular tessellation, vertices <span class="normative">must</span> be
generated at (x, 0, 1-x) and (1-x, 0, x) when subdividing an otherwise
identical v = 0 edge.
For quad tessellation, if vertices at (x, 0) and (1-x, 0) are generated when
subdividing the v = 0 edge, vertices <span class="normative">must</span> be generated at (0, x) and (0,
1-x) when subdividing an otherwise identical u = 0 edge.</em></span></p><p><span class="strong"><strong>Rule 5</strong></span> <span class="emphasis"><em>When processing two patches that are identical in all respects
enumerated in rule 1 except for vertex order, the set of triangles generated
for triangle and quad tessellation <span class="normative">must</span> be identical except for vertex and
triangle order.
For each triangle n1 produced by processing the first patch, there <span class="normative">must</span> be
a triangle n2 produced when processing the second patch each of whose
vertices has the same tessellation coordinates as one of the vertices in
n1.</em></span></p><p><span class="strong"><strong>Rule 6</strong></span> <span class="emphasis"><em>When processing two patches that are identical in all respects
enumerated in rule 1 other than matching outer tessellation levels and/or
vertex order, the set of interior triangles generated for triangle and quad
tessellation <span class="normative">must</span> be identical in all respects except for vertex and
triangle order.
For each interior triangle n1 produced by processing the first patch, there
<span class="normative">must</span> be a triangle n2 produced when processing the second patch each of
whose vertices has the same tessellation coordinates as one of the vertices
in n1.
A triangle produced by the tessellator is considered an interior triangle if
none of its vertices lie on an outer edge of the subdivided primitive.</em></span></p><p><span class="strong"><strong>Rule 7</strong></span> <span class="emphasis"><em>For quad and triangle tessellation, the set of triangles
connecting an inner and outer edge depends only on the inner and outer
tessellation levels corresponding to that edge and the spacing decorations.</em></span></p><p><span class="strong"><strong>Rule 8</strong></span> <span class="emphasis"><em>The value of all defined components of</em></span> <span class="strong"><strong><code class="code">TessCoord</code></strong></span> <span class="emphasis"><em>will be in
the range [0, 1].
Additionally, for any defined component x of</em></span> <span class="strong"><strong><code class="code">TessCoord</code></strong></span>, <span class="emphasis"><em>the results
of computing 1.0-x in a tessellation evaluation shader will be exact.
If any floating-point values in the range [0, 1] fail to satisfy this
property, such values <span class="normative">must</span> not be used as tessellation coordinate
components.</em></span></p></div></div><div class="glossary"><div class="titlepage"><div><div><h1 class="title"><a id="_glossary"></a>Glossary</h1></div></div></div><p>The terms defined in this section are used consistently throughout this
Specification and may be used with or without capitalization.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Accessible (Descriptor Binding)
</span></dt><dd>
    A descriptor binding is accessible to a shader stage if that stage is
    included in the <em class="parameter"><code>stageFlags</code></em> of the descriptor binding.
    Descriptors using that binding <span class="normative">can</span> only be used by stages in which they
    are accessible.
</dd><dt><span class="term">
Adjacent Vertex
</span></dt><dd>
    A vertex in an adjacency primitive topology that is not part of a given
    primitive, but is accessible in geometry shaders.
</dd><dt><span class="term">
Aliased Range (Memory)
</span></dt><dd>
    A range of a device memory allocation that is bound to multiple
    resources simultaneously.
</dd><dt><span class="term">
API Order
</span></dt><dd>
    A set of ordering rules that govern how primitives in draw commands
    affect the framebuffer.
</dd><dt><span class="term">
Aspect (Image)
</span></dt><dd>
    An image <span class="normative">may</span> contain multiple kinds, or aspects, of data for each
    pixel, where each aspect is used in a particular way by the pipeline and
    <span class="normative">may</span> be stored differently or separately from other aspects.
    For example, the color components of an image format make up the color
    aspect of the image, and <span class="normative">may</span> be used as a framebuffer color attachment.
    Some operations, like depth testing, operate only on specific aspects of
    an image.
    Others operations, like image/buffer copies, only operate on one aspect
    at a time.
</dd><dt><span class="term">
Attachment (Render Pass)
</span></dt><dd>
    A zero-based integer index name used in render pass creation to refer to
    a framebuffer attachment that is accessed by one or more subpasses.
    The index also refers to an attachment description which includes
    information about the properties of the image view that will later be
    attached.
</dd><dt><span class="term">
Available
</span></dt><dd>
    See Memory Dependency.
</dd><dt><span class="term">
Back-Facing
</span></dt><dd>
    See Facingness.
</dd><dt><span class="term">
Batch
</span></dt><dd>
    A single structure submitted to a queue as part of a
    <a class="link" href="#devsandqueues-submission" title="4.3.5. Queue Submission">queue submission command</a>, describing a set
    of queue operations to execute.
</dd><dt><span class="term">
Backwards Compatibility
</span></dt><dd>
    A given version of the API is backwards compatible with an earlier
    version if an application, relying only on valid behavior and
    functionality defined by the earlier specification, is able to correctly
    run against each version without any modification.
    This assumes no active attempt by that application to not run when it
    detects a different version.
</dd><dt><span class="term">
Full Compatibility
</span></dt><dd>
    A given version of the API is fully compatible with another version if
    an application, relying only on valid behavior and functionality defined
    by either of those specifications, is able to correctly run against each
    version without any modification.
    This assumes no active attempt by that application to not run when it
    detects a different version.
</dd><dt><span class="term">
Binding (Memory)
</span></dt><dd>
    An association established between a range of a resource object and a
    range of a memory object.
    These associations determine the memory locations affected by operations
    performed on elements of a resource object.
    Memory bindings are established using the <code class="code"><a class="link" href="#vkBindBufferMemory">vkBindBufferMemory</a></code>
    command for non-sparse buffer objects, using the <code class="code"><a class="link" href="#vkBindImageMemory">vkBindImageMemory</a></code>
    command for non-sparse image objects, and using the
    <code class="code"><a class="link" href="#vkQueueBindSparse">vkQueueBindSparse</a></code> command for sparse resources.
</dd><dt><span class="term">
Blend Constant
</span></dt><dd>
    Four floating point (RGBA) values used as an input to blending.
</dd><dt><span class="term">
Blending
</span></dt><dd>
    Arithmetic operations between a fragment color value and a value in a
    color attachment that produce a final color value to be written to the
    attachment.
</dd><dt><span class="term">
Buffer
</span></dt><dd>
    A resource that represents a linear array of data in device memory.
    Represented by a <code class="code">VkBuffer</code> object.
</dd><dt><span class="term">
Buffer View
</span></dt><dd>
    An object that represents a range of a specific buffer, and state that
    controls how the contents are interpreted.
    Represented by a <code class="code">VkBufferView</code> object.
</dd><dt><span class="term">
Built-In Variable
</span></dt><dd>
    A variable decorated in a shader, where the decoration makes the
    variable take values provided by the execution environment or values
    that are generated by fixed-function pipeline stages.
</dd><dt><span class="term">
Built-In Interface Block
</span></dt><dd>
    A block defined in a shader that contains only variables decorated with
    built-in decorations, and is used to match against other shader stages.
</dd><dt><span class="term">
Clip Coordinates
</span></dt><dd>
    The homogeneous coordinate space that vertex positions (<span class="strong"><strong><code class="code">Position</code></strong></span>
    decoration) are written in by vertex processing stages.
</dd><dt><span class="term">
Clip Distance
</span></dt><dd>
    A built-in output from vertex processing stages that defines a clip
    half-space against which the primitive is clipped.
</dd><dt><span class="term">
Clip Volume
</span></dt><dd>
    The intersection of the view volume with all clip half-spaces.
</dd><dt><span class="term">
Color Attachment
</span></dt><dd>
    A subpass attachment point, or image view, that is the target of
    fragment color outputs and blending.
</dd><dt><span class="term">
Combined Image Sampler
</span></dt><dd>
    A descriptor type that includes both a sampled image and a sampler.
</dd><dt><span class="term">
Command Buffer
</span></dt><dd>
    An object that records commands to be submitted to a queue.
    Represented by a <code class="code">VkCommandBuffer</code> object.
</dd><dt><span class="term">
Command Pool
</span></dt><dd>
    An object that command buffer memory is allocated from, and that owns
    that memory.
    Command pools aid multithreaded performance by enabling different
    threads to use different allocators, without internal synchronization on
    each use.
    Represented by a <code class="code">VkCommandPool</code> object.
</dd><dt><span class="term">
Compatible Allocator
</span></dt><dd>
    When allocators are compatible, allocations from each allocator <span class="normative">can</span> be
    freed by the other allocator.
</dd><dt><span class="term">
Compatible Image Formats
</span></dt><dd>
    When formats are compatible, images created with one of the formats <span class="normative">can</span>
    have image views created from it using any of the compatible formats.
</dd><dt><span class="term">
Compatible Queues
</span></dt><dd>
    Queues within a queue family.
    Compatible queues have identical properties.
</dd><dt><span class="term">
Component (Format)
</span></dt><dd>
    A distinct part of a format.
    Depth, stencil, and color channels (e.g.
    R, G, B, A), are all separate components.
</dd><dt><span class="term">
Compressed Texel Block
</span></dt><dd>
    An element of an image having a block-compressed format, comprising a
    rectangular block of texel values that are encoded as a single value in
    memory.
    Compressed texel blocks of a particular block-compressed format have a
    corresponding width, height, and depth that define the dimensions of
    these elements in units of texels, and a size in bytes of the encoding
    in memory.
</dd><dt><span class="term">
Cull Distance
</span></dt><dd>
    A built-in output from vertex processing stages that defines a cull
    half-space where the primitive is rejected if all vertices have a
    negative value for the same cull distance.
</dd><dt><span class="term">
Cull Volume
</span></dt><dd>
    The intersection of the view volume with all cull half-spaces.
</dd><dt><span class="term">
Decoration (SPIR-V)
</span></dt><dd>
     Auxiliary information such as built-in variables, stream numbers,
     invariance, interpolation type, relaxed precision, etc., added to
     variables or structure-type members through decorations.
</dd><dt><span class="term">
Depth/Stencil Attachment
</span></dt><dd>
    A subpass attachment point, or image view, that is the target of depth
    and/or stencil test operations and writes.
</dd><dt><span class="term">
Depth/Stencil Format
</span></dt><dd>
    A <code class="code"><a class="link" href="#VkFormat">VkFormat</a></code> that includes depth and/or stencil components.
</dd><dt><span class="term">
Depth/Stencil Image (or ImageView)
</span></dt><dd>
    A <code class="code">VkImage</code> (or <code class="code">VkImageView</code>) with a depth/stencil format.
</dd><dt><span class="term">
Derivative Group
</span></dt><dd>
    A set of fragment shader invocations that cooperate to compute
    derivatives, including implicit derivatives for sampled image
    operations.
</dd><dt><span class="term">
Descriptor
</span></dt><dd>
    Information about a resource or resource view written into a descriptor
    set that is used to access the resource or view from a shader.
</dd><dt><span class="term">
Descriptor Binding
</span></dt><dd>
    An entry in a descriptor set layout corresponding to zero or more
    descriptors of a single descriptor type in a set.
    Defined by a <code class="code"><a class="link" href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a></code> structure.
</dd><dt><span class="term">
Descriptor Pool
</span></dt><dd>
    An object that descriptor sets are allocated from, and that owns the
    storage of those descriptor sets.
    Descriptor pools aid multithreaded performance by enabling different
    threads to use different allocators, without internal synchronization on
    each use.
    Represented by a <code class="code">VkDescriptorPool</code> object.
</dd><dt><span class="term">
Descriptor Set
</span></dt><dd>
    An object that resource descriptors are written into via the API, and
    that <span class="normative">can</span> be bound to a command buffer such that the descriptors
    contained within it <span class="normative">can</span> be accessed from shaders.
    Represented by a <code class="code">VkDescriptorSet</code> object.
</dd><dt><span class="term">
Descriptor Set Layout
</span></dt><dd>
    An object that defines the set of resources (types and counts) and their
    relative arrangement (in the binding namespace) within a descriptor set.
    Used when allocating descriptor sets and when creating pipeline layouts.
    Represented by a <code class="code">VkDescriptorSetLayout</code> object.
</dd><dt><span class="term">
Device
</span></dt><dd>
    The processor(s) and execution environment that perform tasks requested
    by the application via the Vulkan API.
</dd><dt><span class="term">
Device Memory
</span></dt><dd>
    Memory accessible to the device.
    Represented by a <code class="code">VkDeviceMemory</code> object.
</dd><dt><span class="term">
Device-Level Object
</span></dt><dd>
    Logical device objects and their child objects For example,
    <code class="code">VkDevice</code>, <code class="code">VkQueue</code>, and <code class="code">VkCommandBuffer</code> objects are
    device-level objects.
</dd><dt><span class="term">
Device-Local Memory
</span></dt><dd>
    Memory that is connected to the device, and <span class="normative">may</span> be more performant for
    device access than host-local memory.
</dd><dt><span class="term">
Dispatchable Handle
</span></dt><dd>
    A handle of a pointer handle type which <span class="normative">may</span> be used by layers as part
    of intercepting API commands.
    The first argument to each Vulkan command is a dispatchable handle type.
</dd><dt><span class="term">
Dispatching Commands
</span></dt><dd>
    Commands that provoke work using a compute pipeline.
    Includes <code class="code"><a class="link" href="#vkCmdDispatch">vkCmdDispatch</a></code> and <code class="code"><a class="link" href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>.
</dd><dt><span class="term">
Drawing Commands
</span></dt><dd>
    Commands that provoke work using a graphics pipeline.
    Includes <code class="code"><a class="link" href="#vkCmdDraw">vkCmdDraw</a></code>, <code class="code"><a class="link" href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code>,
    <code class="code"><a class="link" href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>, and <code class="code"><a class="link" href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>.
</dd><dt><span class="term">
Duration (Command)
</span></dt><dd>
    The <span class="emphasis"><em>duration</em></span> of a Vulkan command refers to the interval between
    calling the command and its return to the caller.
</dd><dt><span class="term">
Dynamic Storage Buffer
</span></dt><dd>
    A storage buffer whose offset is specified each time the storage buffer
    is bound to a command buffer via a descriptor set.
</dd><dt><span class="term">
Dynamic Uniform Buffer
</span></dt><dd>
    A uniform buffer whose offset is specified each time the uniform buffer
    is bound to a command buffer via a descriptor set.
</dd><dt><span class="term">
Explicitly-Enabled Layer
</span></dt><dd>
    A layer enabled by the application by adding it to the enabled layer
    list in <code class="code"><a class="link" href="#vkCreateInstance">vkCreateInstance</a></code> or <code class="code"><a class="link" href="#vkCreateDevice">vkCreateDevice</a></code>.
</dd><dt><span class="term">
Event
</span></dt><dd>
    A synchronization primitive that is signaled when execution of previous
    commands complete through a specified set of pipeline stages.
    Events can be waited on by the device and polled by the host.
    Represented by a <code class="code">VkEvent</code> object.
</dd><dt><span class="term">
Executable State (Command Buffer)
</span></dt><dd>
    A command buffer that has ended recording commands and <span class="normative">can</span> be executed.
    See also Initial State and Recording State.
</dd><dt><span class="term">
Execution Dependency
</span></dt><dd>
    A dependency that guarantees that certain pipeline stages' work for a
    first set of commands has completed execution before certain pipeline
    stages' work for a second set of commands begins execution.
    This is accomplished via pipeline barriers, subpass dependencies,
    events, or implicit ordering operations.
</dd><dt><span class="term">
Execution Dependency Chain
</span></dt><dd>
    A sequence of execution dependencies that transitively act as an
    execution dependency.
</dd><dt><span class="term">
External synchronization
</span></dt><dd>
    A type of synchronization <span class="normative">required</span> of the application, where parameters
    defined to be externally synchronized <span class="normative">must</span> not be used simultaneously
    in multiple threads.
</dd><dt><span class="term">
Facingness (Polygon)
</span></dt><dd>
    A classification of a polygon as either front-facing or back-facing,
    depending on the orientation (winding order) of its vertices.
</dd><dt><span class="term">
Fence
</span></dt><dd>
    A synchronization primitive that is signaled when a set of batches or
    sparse binding operations complete execution on a queue.
    Fences <span class="normative">can</span> be waited on by the host.
    Represented by a <code class="code">VkFence</code> object.
</dd><dt><span class="term">
Flat Shading
</span></dt><dd>
    A property of a vertex attribute that causes the value from a single
    vertex (the provoking vertex) to be used for all vertices in a
    primitive, and for interpolation of that attribute to return that single
    value unaltered.
</dd><dt><span class="term">
Fragment Input Attachment Interface
</span></dt><dd>
    A fragment shader entry point’s variables with <span class="strong"><strong><code class="code">UniformConstant</code></strong></span>
    storage class and a decoration of <span class="strong"><strong><code class="code">InputAttachmentIndex</code></strong></span>, which
    receive values from input attachments.
</dd><dt><span class="term">
Fragment Output Interface
</span></dt><dd>
    A fragment shader entry point’s variables with <span class="strong"><strong><code class="code">Output</code></strong></span> storage
    class, which output to color and/or depth/stencil attachments.
</dd><dt><span class="term">
Framebuffer
</span></dt><dd>
    A collection of image views and a set of dimensions that, in conjunction
    with a render pass, define the inputs and outputs used by drawing
    commands.
    Represented by a <code class="code">VkFramebuffer</code> object.
</dd><dt><span class="term">
Framebuffer Attachment
</span></dt><dd>
    One of the image views used in a framebuffer.
</dd><dt><span class="term">
Framebuffer Coordinates
</span></dt><dd>
    A coordinate system in which adjacent pixels' coordinates differ by 1 in
    x and/or y, with <span class="inlinemediaobject"><span class="phrase">
$(0,0)$
</span></span> in the upper left corner and pixel
    centers at half-integers.
</dd><dt><span class="term">
Front-Facing
</span></dt><dd>
    See Facingness.
</dd><dt><span class="term">
Global Workgroup
</span></dt><dd>
    A collection of local workgroups dispatched by a single dispatch
    command.
</dd><dt><span class="term">
Handle
</span></dt><dd>
    An opaque integer or pointer value used to refer to a Vulkan object.
    Each object type has a unique handle type.
</dd><dt><span class="term">
Happen-after
</span></dt><dd>
    A command happens-after a dependency if they are separated by an
    execution dependency chain, with the command included in the destination
    of the last dependency of the chain.
    A memory barrier makes visible memory writes to commands that
    happen-after it.
</dd><dt><span class="term">
Happen-before
</span></dt><dd>
    A command happens-before a dependency if they are separated by an
    execution dependency chain, with the command included in the source of
    the first dependency of the chain.
    A memory barrier makes available memory writes of commands that
    happen-before it.
</dd><dt><span class="term">
Helper Invocation
</span></dt><dd>
    A fragment shader invocation that is created solely for the purposes of
    evaluating derivatives for use in non-helper fragment shader
    invocations, and which does not have side effects.
</dd><dt><span class="term">
Host
</span></dt><dd>
    The processor(s) and execution environment that the application runs on,
    and that the Vulkan API is exposed on.
</dd><dt><span class="term">
Host Memory
</span></dt><dd>
    Memory not accessible to the device, used to store implementation data
    structures.
</dd><dt><span class="term">
Host-Accessible Subresource
</span></dt><dd>
    A buffer, or a linear image subresource in either the
    <code class="code">VK_IMAGE_LAYOUT_PREINITIALIZED</code> or <code class="code">VK_IMAGE_LAYOUT_GENERAL</code>
    layout.
    Host-accessible subresources have a well-defined addressing scheme which
    can be used by the host.
</dd><dt><span class="term">
Host-Local Memory
</span></dt><dd>
    Memory that is not local to the device, and <span class="normative">may</span> be less performant for
    device access than device-local memory.
</dd><dt><span class="term">
Host-Visible Memory
</span></dt><dd>
    Device memory that <span class="normative">can</span> be mapped on the host and <span class="normative">can</span> be read and
    written by the host.
</dd><dt><span class="term">
Image
</span></dt><dd>
    A resource that represents a multi-dimensional formatted interpretation
    of device memory.
    Represented by a <code class="code">VkImage</code> object.
</dd><dt><span class="term">
Image Subresource
</span></dt><dd>
    A specific mipmap level and layer of an image.
</dd><dt><span class="term">
Image Subresource Range
</span></dt><dd>
    A set of image subresources that are contiguous mipmap levels and
    layers.
</dd><dt><span class="term">
Image View
</span></dt><dd>
    An object that represents an image subresource range of a specific
    image, and state that controls how the contents are interpreted.
    Represented by a <code class="code">VkImageView</code> object.
</dd><dt><span class="term">
Immutable Sampler
</span></dt><dd>
    A sampler descriptor provided at descriptor set layout creation time,
    and that is used for that binding in all descriptor sets allocated from
    the layout, and cannot be changed.
</dd><dt><span class="term">
Implicitly-Enabled Layer
</span></dt><dd>
    A layer enabled by a loader-defined mechanism outside the Vulkan API,
    rather than explicitly by the application during instance or device
    creation.
</dd><dt><span class="term">
Index Buffer
</span></dt><dd>
    A buffer bound via <code class="code"><a class="link" href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a></code> which is the source of
    index values used to fetch vertex attributes for a
    <code class="code"><a class="link" href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></code> or <code class="code"><a class="link" href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code> command.
</dd><dt><span class="term">
Indirect Commands
</span></dt><dd>
    Drawing or dispatching commands that source some of their parameters
    from structures in buffer memory.
    Includes <code class="code"><a class="link" href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></code>, <code class="code"><a class="link" href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></code>, and
    <code class="code"><a class="link" href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></code>.
</dd><dt><span class="term">
Initial State (Command Buffer)
</span></dt><dd>
    A command buffer that has not begun recording commands.
    See also Recorded State and Executable State.
</dd><dt><span class="term">
Input Attachment
</span></dt><dd>
    A descriptor type that represents an image view, and supports unfiltered
    read-only access in a shader, only at the fragment’s location in the
    view.
</dd><dt><span class="term">
Instance
</span></dt><dd>
    The top-level Vulkan object, which represents the application’s
    connection to the implementation.
    Represented by a <code class="code">VkInstance</code> object.
</dd><dt><span class="term">
Instance-Level Object
</span></dt><dd>
    High-level Vulkan objects, which are not logical devices, nor children
    of logical devices.
    For example, <code class="code">VkInstance</code> and <code class="code">VkPhysicalDevice</code> objects are
    instance-level objects.
</dd><dt><span class="term">
Internal Synchronization
</span></dt><dd>
    A type of synchronization <span class="normative">required</span> of the implementation, where
    parameters not defined to be externally synchronized <span class="normative">may</span> require
    internal mutexing to avoid multithreaded race conditions.
</dd><dt><span class="term">
Invocation (Shader)
</span></dt><dd>
    A single execution of an entry point in a SPIR-V module.
    For example, a single vertex’s execution of a vertex shader or a single
    fragment’s execution of a fragment shader.
</dd><dt><span class="term">
Invocation Group
</span></dt><dd>
    A set of shader invocations that are executed in parallel and that <span class="normative">must</span>
    execute the same control flow path in order for control flow to be
    considered dynamically uniform.
</dd><dt><span class="term">
Local Workgroup
</span></dt><dd>
    A collection of compute shader invocations invoked by a single dispatch
    command, which share shared memory and can synchronize with each other.
</dd><dt><span class="term">
Logical Device
</span></dt><dd>
    An object that represents the application’s interface to the physical
    device.
    The logical device is the parent of most Vulkan objects.
    Represented by a <code class="code">VkDevice</code> object.
</dd><dt><span class="term">
Logical Operation
</span></dt><dd>
    Bitwise operations between a fragment color value and a value in a color
    attachment, that produce a final color value to be written to the
    attachment.
</dd><dt><span class="term">
Lost Device
</span></dt><dd>
    A state that a logical device <span class="normative">may</span> be in as a result of hardware errors
    or other exceptional conditions.
</dd><dt><span class="term">
Mappable
</span></dt><dd>
    See Host-Visible Memory.
</dd><dt><span class="term">
Memory Dependency
</span></dt><dd>
    A sequence of operations that makes writes available, performs an
    execution dependency between the writes and subsequent accesses, and
    makes available writes visible to later accesses.
    In order for the effects of a write to be coherent with later accesses,
    it <span class="normative">must</span> be made available from the old access type and then made
    visible to the new access type.
</dd><dt><span class="term">
Memory Heap
</span></dt><dd>
    A region of memory from which device memory allocations <span class="normative">can</span> be made.
</dd><dt><span class="term">
Memory Type
</span></dt><dd>
    An index used to select a set of memory properties (e.g.
    mappable, cached) for a device memory allocation.
</dd><dt><span class="term">
Mip Tail Region
</span></dt><dd>
    The set of mipmap levels of a sparse residency texture that are too
    small to fill a sparse block, and that <span class="normative">must</span> all be bound to memory
    collectively and opaquely.
</dd><dt><span class="term">
Non-Dispatchable Handle
</span></dt><dd>
    A handle of an integer handle type.
    Handle values <span class="normative">may</span> not be unique, even for two objects of the same type.
</dd><dt><span class="term">
Normalized
</span></dt><dd>
    A value that is interpreted as being in the range <span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span>
    as a result of being implicitly divided by some other value.
</dd><dt><span class="term">
Normalized Device Coordinates
</span></dt><dd>
    A coordinate space after perspective division is applied to clip
    coordinates, and before the viewport transformation converts to
    framebuffer coordinates.
</dd><dt><span class="term">
Overlapped Range (Aliased Range)
</span></dt><dd>
    The aliased range of a device memory allocation that intersects a given
    image subresource of an image or range of a buffer.
</dd><dt><span class="term">
Packed Format
</span></dt><dd>
    A format whose components are stored as a single data element in memory,
    with their relative locations defined within that element.
</dd><dt><span class="term">
Physical Device
</span></dt><dd>
    An object that represents a single device in the system.
    Represented by a <code class="code">VkPhysicalDevice</code> object.
</dd><dt><span class="term">
Pipeline
</span></dt><dd>
    An object that controls how graphics or compute work is executed on the
    device.
    A pipeline includes one or more shaders, as well as state controlling
    any non-programmable stages of the pipeline.
    Represented by a <code class="code">VkPipeline</code> object.
</dd><dt><span class="term">
Pipeline Barrier
</span></dt><dd>
    An execution and/or memory dependency recorded as an explicit command in
    a command buffer, that forms a dependency between the previous and
    subsequent commands.
</dd><dt><span class="term">
Pipeline Cache
</span></dt><dd>
    An object that <span class="normative">can</span> be used to collect and retrieve information from
    pipelines as they are created, and <span class="normative">can</span> be populated with previously
    retrieved information in order to accelerate pipeline creation.
    Represented by a <code class="code">VkPipelineCache</code> object.
</dd><dt><span class="term">
Pipeline Layout
</span></dt><dd>
    An object that defines the set of resources (via a collection of
    descriptor set layouts) and push constants used by pipelines that are
    created using the layout.
    Used when creating a pipeline and when binding descriptor sets and
    setting push constant values.
    Represented by a <code class="code">VkPipelineLayout</code> object.
</dd><dt><span class="term">
Point Sampling (Rasterization)
</span></dt><dd>
    A rule that determines whether a fragment sample location is covered by
    a polygon primitive by testing whether the sample location is in the
    interior of the polygon in framebuffer-space, or on the boundary of the
    polygon according to the tie-breaking rules.
</dd><dt><span class="term">
Preserve Attachment
</span></dt><dd>
    One of a list of attachments in a subpass description that is not read
    or written by the subpass, but that is read or written on earlier and
    later subpasses and whose contents must be preserved through this
    subpass.
</dd><dt><span class="term">
Primary Command Buffer
</span></dt><dd>
    A command buffer that <span class="normative">can</span> execute secondary command buffers, and <span class="normative">can</span>
    be submitted directly to a queue.
</dd><dt><span class="term">
Primitive Topology
</span></dt><dd>
    State that controls how vertices are assembled into primitives, e.g.
    as lists of triangles, strips of lines, etc..
</dd><dt><span class="term">
Provoking Vertex
</span></dt><dd>
    The vertex in a primitive from which flat shaded attribute values are
    taken.
    This is generally the “first” vertex in the primitive, and depends on
    the primitive topology.
</dd><dt><span class="term">
Push Constants
</span></dt><dd>
    A small bank of values writable via the API and accessible in shaders.
    Push constants allow the application to set values used in shaders
    without creating buffers or modifying and binding descriptor sets for
    each update.
</dd><dt><span class="term">
Push Constant Interface
</span></dt><dd>
    The set of variables with <span class="strong"><strong><code class="code">PushConstant</code></strong></span> storage class that are
    statically used by a shader entry point, and which receive values from
    push constant commands.
</dd><dt><span class="term">
Query Pool
</span></dt><dd>
    An object that contains a number of query entries and their associated
    state and results.
    Represented by a <code class="code">VkQueryPool</code> object.
</dd><dt><span class="term">
Queue
</span></dt><dd>
    An object that executes command buffers and sparse binding operations on
    a device.
    Represented by a <code class="code">VkQueue</code> object.
</dd><dt><span class="term">
Queue Family
</span></dt><dd>
    A set of queues that have common properties and support the same
    functionality, as advertised in <code class="code"><a class="link" href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a></code>.
</dd><dt><span class="term">
Queue Operation
</span></dt><dd>
    A unit of work to be executed by a specific queue on a device, submitted
    via a <a class="link" href="#devsandqueues-submission" title="4.3.5. Queue Submission">queue submission command</a>.
    Each queue submission command details the specific queue operations that
    occur as a result of calling that command.
    Queue operations typically include work that is specific to each
    command, and synchronization tasks.
</dd><dt><span class="term">
Queue Submission
</span></dt><dd>
    Zero or more batches and an optional fence to be signaled, passed to a
    command for execution on a queue.
    See the <a class="link" href="#devsandqueues-submission" title="4.3.5. Queue Submission">Devices and Queues chapter</a> for
    more information.
</dd><dt><span class="term">
Recording State (Command Buffer)
</span></dt><dd>
    A command buffer that is ready to record commands.
    See also Initial State and Executable State.
</dd><dt><span class="term">
Render Pass
</span></dt><dd>
    An object that represents a set of framebuffer attachments and phases of
    rendering using those attachments.
    Represented by a <code class="code">VkRenderPass</code> object.
</dd><dt><span class="term">
Render Pass Instance
</span></dt><dd>
    A use of a render pass in a command buffer.
</dd><dt><span class="term">
Reset (Command Buffer)
</span></dt><dd>
    Resetting a command buffer discards any previously recorded commands and
    puts a command buffer in the initial state.
</dd><dt><span class="term">
Residency Code
</span></dt><dd>
    An integer value returned by sparse image instructions, indicating
    whether any sparse unbound texels were accessed.
</dd><dt><span class="term">
Resolve Attachment
</span></dt><dd>
    A subpass attachment point, or image view, that is the target of a
    multisample resolve operation from the corresponding color attachment at
    the end of the subpass.
</dd><dt><span class="term">
Sampled Image
</span></dt><dd>
    A descriptor type that represents an image view, and supports filtered
    (sampled) and unfiltered read-only acccess in a shader.
</dd><dt><span class="term">
Sampler
</span></dt><dd>
    An object that contains state that controls how sampled image data is
    sampled (or filtered) when accessed in a shader.
    Also a descriptor type describing the object.
    Represented by a <code class="code">VkSampler</code> object.
</dd><dt><span class="term">
Secondary Command Buffer
</span></dt><dd>
    A command buffer that <span class="normative">can</span> be executed by a primary command buffer, and
    <span class="normative">must</span> not be submitted directly to a queue.
</dd><dt><span class="term">
Self-Dependency
</span></dt><dd>
    A subpass dependency from a subpass to itself, i.e.
    with <em class="parameter"><code>srcSubpass</code></em> equal to <em class="parameter"><code>dstSubpass</code></em>.
    A self-dependency is not automatically performed during a render pass
    instance, rather a subset of it <span class="normative">can</span> be performed via
    <code class="code"><a class="link" href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></code> during the subpass.
</dd><dt><span class="term">
Semaphore
</span></dt><dd>
    A synchronization primitive that supports signal and wait operations,
    and <span class="normative">can</span> be used to synchronize operations within a queue or across
    queues.
    Represented by a <code class="code">VkSemaphore</code> object.
</dd><dt><span class="term">
Shader
</span></dt><dd>
    Instructions selected (via an entry point) from a shader module, which
    are executed in a shader stage.
</dd><dt><span class="term">
Shader Code
</span></dt><dd>
    A stream of instructions used to describe the operation of a shader.
</dd><dt><span class="term">
Shader Module
</span></dt><dd>
    A collection of shader code, potentially including several functions and
    entry points, that is used to create shaders in pipelines.
    Represented by a <code class="code">VkShaderModule</code> object.
</dd><dt><span class="term">
Shader Stage
</span></dt><dd>
    A stage of the graphics or compute pipeline that executes shader code.
</dd><dt><span class="term">
Side Effect
</span></dt><dd>
    A store to memory or atomic operation on memory from a shader
    invocation.
</dd><dt><span class="term">
Sparse Block
</span></dt><dd>
    An element of a sparse resource that can be independently bound to
    memory.
    Sparse blocks of a particular sparse resource have a corresponding size
    in bytes that they use in the bound memory.
</dd><dt><span class="term">
Sparse Image Block
</span></dt><dd>
    A sparse block in a sparse partially-resident image.
    In addition to the sparse block size in bytes, sparse image blocks have
    a corresponding width, height, and depth that define the dimensions of
    these elements in units of texels or compressed texel blocks, the latter
    being used in case of sparse images having a block-compressed format.
</dd><dt><span class="term">
Sparse Unbound Texel
</span></dt><dd>
    A texel read from a region of a sparse texture that does not have memory
    bound to it.
</dd><dt><span class="term">
Static Use
</span></dt><dd>
    An object in a shader is statically used by a shader entry point if any
    function in the entry point’s call tree contains an instruction using
    the object.
    Static use is used to constrain the set of descriptors used by a shader
    entry point.
</dd><dt><span class="term">
Storage Buffer
</span></dt><dd>
    A descriptor type that represents a buffer, and supports reads, writes,
    and atomics in a shader.
</dd><dt><span class="term">
Storage Image
</span></dt><dd>
    A descriptor type that represents an image view, and supports unfiltered
    loads, stores, and atomics in a shader.
</dd><dt><span class="term">
Storage Texel Buffer
</span></dt><dd>
    A descriptor type that represents a buffer view, and supports
    unfiltered, formatted reads, writes, and atomics in a shader.
</dd><dt><span class="term">
Subpass
</span></dt><dd>
    A phase of rendering within a render pass, that reads and writes a
    subset of the attachments.
</dd><dt><span class="term">
Subpass Dependency
</span></dt><dd>
    An execution and/or memory dependency between two subpasses described as
    part of render pass creation, and automatically performed between
    subpasses in a render pass instance.
    A subpass dependency limits the overlap of execution of the pair of
    subpasses, and <span class="normative">can</span> provide guarantees of memory coherence between
    accesses in the subpasses.
</dd><dt><span class="term">
Subpass Description
</span></dt><dd>
    Lists of attachment indices for input attachments, color attachments,
    depth/stencil attachment, resolve attachments, and preserve attachments
    used by the subpass in a render pass.
</dd><dt><span class="term">
Subset (Self-Dependency)
</span></dt><dd>
    A subset of a self-dependency is a pipeline barrier performed during the
    subpass of the self-dependency, and whose stage masks and access masks
    each contain a subset of the bits set in the identically named mask in
    the self-dependency.
</dd><dt><span class="term">
Texel Coordinate System
</span></dt><dd>
    One of three coordinate systems (normalized, unnormalized, integer) that
    define how texel coordinates are interpreted in an image or a specific
    mipmap level of an image.
</dd><dt><span class="term">
Uniform Texel Buffer
</span></dt><dd>
    A descriptor type that represents a buffer view, and supports
    unfiltered, formatted, read-only access in a shader.
</dd><dt><span class="term">
Uniform Buffer
</span></dt><dd>
    A descriptor type that represents a buffer, and supports read-only
    access in a shader.
</dd><dt><span class="term">
Unnormalized
</span></dt><dd>
    A value that is interpreted according to its conventional
    interpretation, and is not normalized.
</dd><dt><span class="term">
User-Defined Variable Interface
</span></dt><dd>
    A shader entry point’s variables with <span class="strong"><strong><code class="code">Input</code></strong></span> or <span class="strong"><strong><code class="code">Output</code></strong></span> storage
    class that are not built-in variables.
</dd><dt><span class="term">
Vertex Input Attribute
</span></dt><dd>
    A graphics pipeline resource that produces input values for the vertex
    shader by reading data from a vertex input binding and converting it to
    the attribute’s format.
</dd><dt><span class="term">
Vertex Input Binding
</span></dt><dd>
    A graphics pipeline resource that is bound to a buffer and includes
    state that affects addressing calculations within that buffer.
</dd><dt><span class="term">
Vertex Input Interface
</span></dt><dd>
    A vertex shader entry point’s variables with <span class="strong"><strong><code class="code">Input</code></strong></span> storage class,
    which receive values from vertex input attributes.
</dd><dt><span class="term">
Vertex Processing Stages
</span></dt><dd>
    A set of shader stages that comprises the vertex shader, tessellation
    control shader, tessellation evaluation shader, and geometry shader
    stages.
</dd><dt><span class="term">
View Volume
</span></dt><dd>
    A subspace in homogeneous coordinates, corresponding to post-projection
    x and y values between -1 and +1, and z values between 0 and +1.
</dd><dt><span class="term">
Viewport Transformation
</span></dt><dd>
    A transformation from normalized device coordinates to framebuffer
    coordinates, based on a viewport rectangle and depth range.
</dd><dt><span class="term">
Visible
</span></dt><dd>
    See Memory Dependency.
</dd></dl></div></div><div class="glossary"><div class="titlepage"><div><div><h1 class="title"><a id="_common_abbreviations"></a>Common Abbreviations</h1></div></div></div><p>Abbreviations and acronyms are sometimes used in the Specification and the
API where they are considered clear and commonplace, and are defined here:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Src
</span></dt><dd>
    Source
</dd><dt><span class="term">
Dst
</span></dt><dd>
    Destination
</dd><dt><span class="term">
Min
</span></dt><dd>
    Minimum
</dd><dt><span class="term">
Max
</span></dt><dd>
    Maximum
</dd><dt><span class="term">
Rect
</span></dt><dd>
    Rectangle
</dd><dt><span class="term">
Info
</span></dt><dd>
    Information
</dd><dt><span class="term">
LOD
</span></dt><dd>
    Level of Detail
</dd><dt><span class="term">
ID
</span></dt><dd>
    Identifier
</dd><dt><span class="term">
UUID
</span></dt><dd>
    Universally Unique Identifier
</dd><dt><span class="term">
Op
</span></dt><dd>
    Operation
</dd><dt><span class="term">
R
</span></dt><dd>
    Red color component
</dd><dt><span class="term">
G
</span></dt><dd>
    Green color component
</dd><dt><span class="term">
B
</span></dt><dd>
    Blue color component
</dd><dt><span class="term">
A
</span></dt><dd>
    Alpha color component
</dd></dl></div></div><div class="glossary"><div class="titlepage"><div><div><h1 class="title"><a id="_prefixes"></a>Prefixes</h1></div></div></div><p>Prefixes are used in the API to denote specific semantic meaning of Vulkan
names, or as a label to avoid name clashes, and are explained here:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
VK/Vk/vk
</span></dt><dd>
    Vulkan namespace
    All types, commands, enumerants and defines in this specification are
    prefixed with these two characters.
</dd><dt><span class="term">
PFN/pfn
</span></dt><dd>
    Function Pointer
    Denotes that a type is a function pointer, or that a variable is of a
    pointer type.
</dd><dt><span class="term">
p
</span></dt><dd>
    Pointer
    Variable is a pointer.
</dd><dt><span class="term">
vkCmd
</span></dt><dd>
    Commands that record commands in command buffers
    These API commands do not result in immediate processing on the device.
    Instead, they record the requested action in a command buffer for
    execution when the command buffer is submitted to a queue.
</dd><dt><span class="term">
s
</span></dt><dd>
    Structure
    Used to denote the <code class="code">VK_STRUCTURE_TYPE*</code> member of each structure in
    <em class="parameter"><code>sType</code></em>
</dd></dl></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="credits"></a>Appendix F. Credits</h1></div></div></div><p>Vulkan 1.0 is the result of contributions from many people and companies
participating in the Khronos Vulkan Working Group, as well as input from the
Vulkan Advisory Panel.</p><p>Members of the Working Group, including the company that they represented at
the time of their contributions, are listed below.
Some specific contributions made by individuals are listed together with
their name.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Adam Jackson, Red Hat
</li><li class="listitem">
Adam Śmigielski, Mobica
</li><li class="listitem">
Alex Bourd, Qualcomm Technologies, Inc.
</li><li class="listitem">
Alexander Galazin, ARM
</li><li class="listitem">
Allen Hux, Intel
</li><li class="listitem">
Alon Or-bach, Samsung Electronics (WSI technical sub-group chair)
</li><li class="listitem">
Andrew Cox, Samsung Electronics
</li><li class="listitem">
Andrew Garrard, Samsung Electronics (format wrangler)
</li><li class="listitem">
Andrew Poole, Samsung Electronics
</li><li class="listitem">
Andrew Rafter, Samsung Electronics
</li><li class="listitem">
Andrew Richards, Codeplay Software Ltd.
</li><li class="listitem">
Andrew Woloszyn, Google
</li><li class="listitem">
Antoine Labour, Google
</li><li class="listitem">
Aras Pranckevičius, Unity
</li><li class="listitem">
Ashwin Kolhe, NVIDIA
</li><li class="listitem">
Ben Bowman, Imagination Technologies
</li><li class="listitem">
Benj Lipchak
</li><li class="listitem">
Bill Hollings, The Brenwill Workshop
</li><li class="listitem">
Bill Licea-Kane, Qualcomm Technologies, Inc.
</li><li class="listitem">
Brent E.
    Insko, Intel
</li><li class="listitem">
Brian Ellis, Qualcomm Technologies, Inc.
</li><li class="listitem">
Cass Everitt, Oculus VR
</li><li class="listitem">
Cemil Azizoglu, Canonical
</li><li class="listitem">
Chad Versace, Intel
</li><li class="listitem">
Chang-Hyo Yu, Samsung Electronics
</li><li class="listitem">
Chia-I Wu, LunarG
</li><li class="listitem">
Chris Frascati, Qualcomm Technologies, Inc.
</li><li class="listitem">
Christophe Riccio, Unity
</li><li class="listitem">
Cody Northrop, LunarG
</li><li class="listitem">
Courtney Goeltzenleuchter, LunarG
</li><li class="listitem">
Damien Leone, NVIDIA
</li><li class="listitem">
Dan Baker, Oxide Games
</li><li class="listitem">
Dan Ginsburg, Valve
</li><li class="listitem">
Daniel Johnston, Intel
</li><li class="listitem">
Daniel Koch, NVIDIA (<a class="link" href="#interfaces" title="Chapter 14. Shader Interfaces">Shader Interfaces</a>;
    <a class="link" href="#features" title="Chapter 31. Features, Limits, and Formats">Features</a>)
</li><li class="listitem">
Daniel Rakos, AMD
</li><li class="listitem">
David Airlie, Red Hat
</li><li class="listitem">
David Neto, Google
</li><li class="listitem">
David Mao, AMD
</li><li class="listitem">
David Yu, Pixar
</li><li class="listitem">
Dominik Witczak, AMD
</li><li class="listitem">
Frank (LingJun) Chen, Qualcomm Technologies, Inc.
</li><li class="listitem">
Fred Liao, Mediatek
</li><li class="listitem">
Gabe Dagani, Freescale
</li><li class="listitem">
Graeme Leese, Broadcom
</li><li class="listitem">
Graham Connor, Imagination Technologies
</li><li class="listitem">
Graham Sellers, AMD
</li><li class="listitem">
Hwanyong Lee, Kyungpook National University
</li><li class="listitem">
Ian Elliott, LunarG
</li><li class="listitem">
Ian Romanick, Intel
</li><li class="listitem">
James Jones, NVIDIA
</li><li class="listitem">
James Hughes, Oculus VR
</li><li class="listitem">
Jan Hermes, Continental Corporation
</li><li class="listitem">
Jan-Harald Fredriksen, ARM
</li><li class="listitem">
Jason Ekstrand, Intel
</li><li class="listitem">
Jeff Bolz, NVIDIA (extensive contributions, exhaustive review and
    rewrites for technical correctness)
</li><li class="listitem">
Jeff Juliano, NVIDIA
</li><li class="listitem">
Jeff Vigil, Qualcomm Technologies, Inc.
</li><li class="listitem">
Jens Owen, LunarG
</li><li class="listitem">
Jeremy Hayes, LunarG
</li><li class="listitem">
Jesse Barker, ARM
</li><li class="listitem">
Jesse Hall, Google
</li><li class="listitem">
Johannes van Waveren, Oculus VR
</li><li class="listitem">
John Kessenich, Google (SPIR-V and GLSL for Vulkan spec author)
</li><li class="listitem">
John McDonald, Valve
</li><li class="listitem">
Jon Ashburn, LunarG
</li><li class="listitem">
Jon Leech, Independent (XML toolchain, normative language, release
    wrangler)
</li><li class="listitem">
Jonas Gustavsson, Sony Mobile
</li><li class="listitem">
Jonathan Hamilton, Imagination Technologies
</li><li class="listitem">
Jungwoo Kim, Samsung Electronics
</li><li class="listitem">
Kenneth Benzie, Codeplay Software Ltd.
</li><li class="listitem">
Kerch Holt, NVIDIA (SPIR-V technical sub-group chair)
</li><li class="listitem">
Kristian Kristensen, Intel
</li><li class="listitem">
Krzysztof Iwanicki, Samsung Electronics
</li><li class="listitem">
Larry Seiler, Intel
</li><li class="listitem">
Lutz Latta, Lucasfilm
</li><li class="listitem">
Maria Rovatsou, Codeplay Software Ltd.
</li><li class="listitem">
Mark Callow
</li><li class="listitem">
Mark Lobodzinski, LunarG
</li><li class="listitem">
Mateusz Przybylski, Intel
</li><li class="listitem">
Mathias Heyer, NVIDIA
</li><li class="listitem">
Mathias Schott, NVIDIA
</li><li class="listitem">
Maxim Lukyanov, Samsung Electronics
</li><li class="listitem">
Maurice Ribble, Qualcomm Technologies, Inc.
</li><li class="listitem">
Michael Lentine, Google
</li><li class="listitem">
Michael Worcester, Imagination Technologies
</li><li class="listitem">
Michal Pietrasiuk, Intel
</li><li class="listitem">
Mika Isojarvi, Google
</li><li class="listitem">
Mike Stroyan, LunarG
</li><li class="listitem">
Minyoung Son, Samsung Electronics
</li><li class="listitem">
Mitch Singer, AMD
</li><li class="listitem">
Mythri Venugopal, Samsung Electronics
</li><li class="listitem">
Naveen Leekha, Google
</li><li class="listitem">
Neil Henning, Codeplay Software Ltd.
</li><li class="listitem">
Neil Trevett, NVIDIA
</li><li class="listitem">
Nick Penwarden, Epic Games
</li><li class="listitem">
Niklas Smedberg, Epic Games
</li><li class="listitem">
Norbert Nopper, Freescale
</li><li class="listitem">
Pat Brown, NVIDIA
</li><li class="listitem">
Patrick Doane, Blizzard Entertainment
</li><li class="listitem">
Peter Lohrmann, Valve
</li><li class="listitem">
Pierre Boudier, NVIDIA
</li><li class="listitem">
Pierre-Loup A.
    Griffais, Valve
</li><li class="listitem">
Piers Daniell, NVIDIA (dynamic state, copy commands, memory types)
</li><li class="listitem">
Piotr Bialecki, Intel
</li><li class="listitem">
Prabindh Sundareson, Samsung Electronics
</li><li class="listitem">
Pyry Haulos, Google (Vulkan conformance test subcommittee chair)
</li><li class="listitem">
Ray Smith, ARM
</li><li class="listitem">
Rob Stepinski, Transgaming
</li><li class="listitem">
Robert J.
    Simpson, Qualcomm Technologies, Inc.
</li><li class="listitem">
Rolando Caloca Olivares, Epic Games
</li><li class="listitem">
Roy Ju, Mediatek
</li><li class="listitem">
Rufus Hamede, Imagination Technologies
</li><li class="listitem">
Sean Ellis, ARM
</li><li class="listitem">
Sean Harmer, KDAB
</li><li class="listitem">
Shannon Woods, Google
</li><li class="listitem">
Slawomir Cygan, Intel
</li><li class="listitem">
Slawomir Grajewski, Intel
</li><li class="listitem">
Stefanus Du Toit, Google
</li><li class="listitem">
Steve Hill, Broadcom
</li><li class="listitem">
Steve Viggers, Core Avionics &amp; Industrial Inc.
</li><li class="listitem">
Stuart Smith, Imagination Technologies
</li><li class="listitem">
Tim Foley, Intel
</li><li class="listitem">
Timo Suoranta, AMD
</li><li class="listitem">
Timothy Lottes, AMD
</li><li class="listitem">
Tobias Hector, Imagination Technologies (validity language and
    toolchain)
</li><li class="listitem">
Tobin Ehlis, LunarG
</li><li class="listitem">
Tom Olson, ARM (working group chair)
</li><li class="listitem">
Tomasz Kubale, Intel
</li><li class="listitem">
Tony Barbour, LunarG
</li><li class="listitem">
Wayne Lister, Imagination Technologies
</li><li class="listitem">
Yanjun Zhang, Vivante
</li><li class="listitem">
Zhenghong Wang, Mediatek
</li></ul></div><p>In addition to the Working Group, the Vulkan Advisory Panel members provided
important real-world usage information and advice that helped guide design
decisions.</p><p>Administrative support to the Working Group was provided by members of Gold
Standard Group, including Andrew Riegel, Elizabeth Riegel, Glenn Fredericks,
Kathleen Mattson and Michelle Clark.
Technical support was provided by James Riordon, webmaster of Khronos.org
and OpenGL.org.</p></div></div></body></html>