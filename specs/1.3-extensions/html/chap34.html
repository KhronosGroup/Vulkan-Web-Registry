<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="The Khronos® Vulkan Working Group">
<title>Vulkan® 1.3.240 - A Specification (with all registered Vulkan extensions)</title>
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style1.css" type="text/css">
<link rel="stylesheet" href="style2.css" type="text/css">

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin="" even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="../katex/katex.min.css">
<!--ChunkedSearchJSMarker-->
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<link rel="stylesheet" href="style3.css" type="text/css">
<script>
    function hideElement(e){
        e.setAttribute("hidden", "");
        e.classList.add("hidden");
    }

    function unhideElement(e){
        e.classList.remove("hidden");
        e.removeAttribute("hidden");
    }

    function hideLoadableContent(){
        unhideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) hideElement(loadable);
    }

    function unhideLoadableContent(){
        hideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) unhideElement(loadable);
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div style="text-align: center;">
    <span class="image"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgdmlld0JveD0iMCAwIDExNTAgMzI2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTsiPgogICAgPGcgaWQ9IkFydGJvYXJkMSIgdHJhbnNmb3JtPSJtYXRyaXgoMC45NTUxNSwwLDAsMC44ODgyODMsLTQwLjExNjMsLTMwLjIwMTYpIj4KICAgICAgICA8cmVjdCB4PSI0MiIgeT0iMzQiIHdpZHRoPSIxMjA0IiBoZWlnaHQ9IjM2NyIgc3R5bGU9ImZpbGw6bm9uZTsiLz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLjA0Njk2LDAsMCwxLjEyNTc3LC00Ni45OTEzLC01MC40MzI1KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik03MjQuMSwzODUuMDZMNjgzLjUzLDM4NS4wNkM2ODMuNTMsMzg1LjA2IDY4My41MywyODYuMDkgNjgzLjUzLDI1NS40QzY5Ni40OSwyNjIuNjIgNzEzLjYyLDI3NS45NCA3MjQuMSwyODguNzJMNzI0LjEsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxnPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM4MS43NSwzODUuMDZMMzMxLjE3LDM4NS4wNkwyNjUuMTYsMTgxLjAzTDMxMS4xNywxODEuMDNMMzU2LjYxLDMyNC40OEwzNTcuMTgsMzI0LjQ4TDQwMy4xOCwxODEuMDNMNDQ5LjQ3LDE4MS4wM0wzODEuNzUsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTg1LjUxLDM4NS4wNkw1NDYuOTMsMzg1LjA2TDU0Ni45MywzNjQuNDlMNTQ2LjA4LDM2NC40OUM1NDAuOTMsMzczLjA3IDUzNC4yNywzNzkuMjYgNTI2LjA3LDM4My4wN0M1MTcuODgsMzg2Ljg4IDUwOS41LDM4OC43OCA1MDAuOTIsMzg4Ljc4QzQ5MC4wNiwzODguNzggNDgxLjE2LDM4Ny4zNSA0NzQuMiwzODQuNUM0NjcuMjUsMzgxLjY1IDQ2MS43NywzNzcuNTkgNDU3Ljc3LDM3Mi4zNkM0NTMuNzYsMzY3LjEyIDQ1MC45NSwzNjAuNzQgNDQ5LjMzLDM1My4yMUM0NDcuNzIsMzQ1LjY5IDQ0Ni45MSwzMzcuMzUgNDQ2LjkxLDMyOC4yMUw0NDYuOTEsMjM3LjMzTDQ4Ny40OSwyMzcuMzNMNDg3LjQ5LDMyMC43N0M0ODcuNDksMzMyLjk2IDQ4OS40LDM0Mi4wNiA0OTMuMjEsMzQ4LjA2QzQ5Ny4wMiwzNTQuMDcgNTAzLjc4LDM1Ny4wNiA1MTMuNSwzNTcuMDZDNTI0LjU1LDM1Ny4wNiA1MzIuNTUsMzUzLjc4IDUzNy41LDM0Ny4yQzU0Mi40NiwzNDAuNjIgNTQ0LjkzLDMyOS44MSA1NDQuOTMsMzE0Ljc2TDU0NC45MywyMzcuMzJMNTg1LjUyLDIzNy4zMkw1ODUuNTIsMzg1LjA2TDU4NS41MSwzODUuMDZaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNNzMwLjg0LDI5Ni4xOUw3MzAuNzQsMjkwLjQ3TDc4MS44OSwyMzcuMzNMODI5LjkxLDIzNy4zM0w3NzQuMTgsMjkxLjYyTDgzNi4xOSwzODUuMDZMNzg3LjA0LDM4NS4wNkw3MzAuODQsMjk2LjE5WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik04NDMuNjIsMjgyLjc2Qzg0NC4xOSwyNzMuMjQgODQ2LjU4LDI2NS4zMyA4NTAuNzcsMjU5LjA0Qzg1NC45NiwyNTIuNzUgODYwLjI5LDI0Ny43MSA4NjYuNzcsMjQzLjlDODczLjI1LDI0MC4wOSA4ODAuNTQsMjM3LjM3IDg4OC42NCwyMzUuNzZDODk2LjczLDIzNC4xNCA5MDQuODgsMjMzLjMzIDkxMy4wNywyMzMuMzNDOTIwLjUsMjMzLjMzIDkyOC4wMiwyMzMuODUgOTM1LjY0LDIzNC45Qzk0My4yNywyMzUuOTUgOTUwLjIxLDIzOCA5NTYuNSwyNDEuMDVDOTYyLjc4LDI0NC4xIDk2Ny45MywyNDguMzQgOTcxLjk0LDI1My43NkM5NzUuOTQsMjU5LjE5IDk3Ny45NCwyNjYuMzggOTc3Ljk0LDI3NS4zNEw5NzcuOTQsMzUyLjIxQzk3Ny45NCwzNTguODggOTc4LjMyLDM2NS4yNyA5NzkuMDgsMzcxLjM2Qzk3OS44NCwzNzcuNDYgOTgxLjE4LDM4Mi4wMyA5ODMuMDksMzg1LjA4TDk0MS45NCwzODUuMDhDOTQxLjE4LDM4Mi44IDk0MC41NiwzODAuNDYgOTQwLjA4LDM3OC4wOEM5MzkuNjEsMzc1LjcgOTM5LjI3LDM3My4yOCA5MzkuMDgsMzcwLjc5QzkzMi42LDM3Ny40NyA5MjQuOTcsMzgyLjEzIDkxNi4yMSwzODQuOEM5MDcuNDUsMzg3LjQ2IDg5OC40OSwzODguOCA4ODkuMzUsMzg4LjhDODgyLjMsMzg4LjggODc1LjcyLDM4Ny45NCA4NjkuNjQsMzg2LjIzQzg2My41NCwzODQuNTIgODU4LjIsMzgxLjg1IDg1My42NCwzNzguMjNDODQ5LjA2LDM3NC42MSA4NDUuNDgsMzcwLjA0IDg0Mi45MiwzNjQuNTFDODQwLjM1LDM1OC45OSA4MzkuMDYsMzUyLjQyIDgzOS4wNiwzNDQuOEM4MzkuMDYsMzM2LjQyIDg0MC41NCwzMjkuNTEgODQzLjQ5LDMyNC4wOEM4NDYuNDUsMzE4LjY1IDg1MC4yNSwzMTQuMzIgODU0LjkzLDMxMS4wOEM4NTkuNiwzMDcuODQgODY0LjkzLDMwNS40MSA4NzAuOTMsMzAzLjc5Qzg3Ni45MywzMDIuMTcgODgyLjk4LDMwMC44OCA4ODkuMDcsMjk5LjkzQzg5NS4xNywyOTguOTkgOTAxLjE3LDI5OC4yMiA5MDcuMDgsMjk3LjY1QzkxMi45OSwyOTcuMDggOTE4LjIyLDI5Ni4yMiA5MjIuNzksMjk1LjA4QzkyNy4zNywyOTMuOTMgOTMwLjk4LDI5Mi4yNyA5MzMuNjUsMjkwLjA3QzkzNi4zMiwyODcuODggOTM3LjU2LDI4NC42OSA5MzcuMzcsMjgwLjVDOTM3LjM3LDI3Ni4xMiA5MzYuNjUsMjcyLjY0IDkzNS4yMiwyNzAuMDdDOTMzLjc5LDI2Ny41IDkzMS44OSwyNjUuNSA5MjkuNTEsMjY0LjA3QzkyNy4xMywyNjIuNjQgOTI0LjM3LDI2MS42OSA5MjEuMjIsMjYxLjIxQzkxOC4wNywyNjAuNzMgOTE0LjcsMjYwLjQ5IDkxMS4wOCwyNjAuNDlDOTAzLjA4LDI2MC40OSA4OTYuNzksMjYyLjIgODkyLjIyLDI2NS42NEM4ODcuNjUsMjY5LjA3IDg4NC45OCwyNzQuNzggODg0LjIyLDI4Mi43OUw4NDMuNjIsMjgyLjc5TDg0My42MiwyODIuNzZaTTkzNy4zNSwzMTIuNzdDOTM1LjYzLDMxNC4zIDkzMy40OSwzMTUuNDggOTMwLjkyLDMxNi4zNEM5MjguMzUsMzE3LjIxIDkyNS41OSwzMTcuOTIgOTIyLjYzLDMxOC40OUM5MTkuNjgsMzE5LjA2IDkxNi41OCwzMTkuNTQgOTEzLjM1LDMxOS45MkM5MTAuMTEsMzIwLjMgOTA2Ljg3LDMyMC43NyA5MDMuNjMsMzIxLjM1QzkwMC41OCwzMjEuOTIgODk3LjU4LDMyMi42OSA4OTQuNjMsMzIzLjYzQzg5MS42OCwzMjQuNTkgODg5LjEsMzI1Ljg3IDg4Ni45MSwzMjcuNDlDODg0LjcyLDMyOS4xMSA4ODIuOTYsMzMxLjE2IDg4MS42MiwzMzMuNjNDODgwLjI5LDMzNi4xMSA4NzkuNjIsMzM5LjI1IDg3OS42MiwzNDMuMDZDODc5LjYyLDM0Ni42OCA4ODAuMjksMzQ5LjczIDg4MS42MiwzNTIuMkM4ODIuOTYsMzU0LjY4IDg4NC43NywzNTYuNjMgODg3LjA1LDM1OC4wNkM4ODkuMzQsMzU5LjQ5IDg5MiwzNjAuNDkgODk1LjA1LDM2MS4wNkM4OTguMSwzNjEuNjMgOTAxLjI0LDM2MS45MSA5MDQuNDgsMzYxLjkxQzkxMi40OCwzNjEuOTEgOTE4LjY4LDM2MC41OCA5MjMuMDYsMzU3LjkyQzkyNy40NCwzNTUuMjUgOTMwLjY5LDM1Mi4wNiA5MzIuNzcsMzQ4LjM0QzkzNC44NiwzNDQuNjMgOTM2LjE2LDM0MC44NyA5MzYuNjIsMzM3LjA2QzkzNy4xLDMzMy4yNSA5MzcuMzMsMzMwLjIgOTM3LjM0LDMyNy45Mkw5MzcuMzQsMzEyLjc3TDkzNy4zNSwzMTIuNzdaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTEwMDQuMjEsMjM3LjMzTDEwNDIuOCwyMzcuMzNMMTA0Mi44LDI1Ny45TDEwNDMuNjUsMjU3LjlDMTA0OC43OSwyNDkuMzMgMTA1NS40NiwyNDMuMDkgMTA2My42NSwyMzkuMTlDMTA3MS44NCwyMzUuMjggMTA4MC4yMywyMzMuMzMgMTA4OC43OSwyMzMuMzNDMTA5OS42NiwyMzMuMzMgMTEwOC41NiwyMzQuODEgMTExNS41MiwyMzcuNzZDMTEyMi40NywyNDAuNzIgMTEyNy45NCwyNDQuODEgMTEzMS45NSwyNTAuMDVDMTEzNS45NSwyNTUuMjkgMTEzOC43NiwyNjEuNjcgMTE0MC4zOCwyNjkuMTlDMTE0MiwyNzYuNzIgMTE0Mi44MSwyODUuMDUgMTE0Mi44MSwyOTQuMkwxMTQyLjgxLDM4NS4wN0wxMTAyLjI0LDM4NS4wN0wxMTAyLjI0LDMwMS42M0MxMTAyLjI0LDI4OS40MyAxMTAwLjMzLDI4MC4zNCAxMDk2LjUzLDI3NC4zNEMxMDkyLjcxLDI2OC4zNCAxMDg1Ljk1LDI2NS4zNCAxMDc2LjIzLDI2NS4zNEMxMDY1LjE4LDI2NS4zNCAxMDU3LjE5LDI2OC42MyAxMDUyLjIzLDI3NS4yQzEwNDcuMjcsMjgxLjc2IDEwNDQuOCwyOTIuNTggMTA0NC44LDMwNy42M0wxMDQ0LjgsMzg1LjA3TDEwMDQuMjIsMzg1LjA3TDEwMDQuMjIsMjM3LjMzTDEwMDQuMjEsMjM3LjMzWiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik02MTIuMzcsMjExLjg0TDYxMi4zNywzODUuMDdMNjUyLjk1LDM4NS4wN0w2NTIuOTUsMjM0LjIxQzYzOS45MywyMjYuMjMgNjI2LjM2LDIxOC43NCA2MTIuMzcsMjExLjg0WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOTguNDMsMjE5LjIxQzIyMS45NSwxNTAuMzIgMzYyLjU4LDEyNS4wNSA1MTIuNTgsMTYyLjc4QzYwMi41NSwxODUuNCA2NzYuMDcsMjI5LjI4IDcyNC4wOSwyNzIuNjdDNzAyLjMsMjE1LjEyIDU5Ni42NSwxMzMuMDggNDUxLjE4LDEwNC45NkMyODYuNyw3My4xNiAxMjQuNDcsMTAxLjExIDEwNC4zOSwxNzQuMUM4OS44OSwyMjYuODMgMTUzLjU3LDI4OC42IDI1Mi4wNSwzMzAuODRDMjA3LjgxLDI5NS4wMiAxODYuMjksMjU0Ljc4IDE5OC40MywyMTkuMjFaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTcyNC4xNiwyNDcuNjJMNzI0LjE2LDE4MS4wM0w2ODMuNTcsMTgxLjAzTDY4My41NywyMDEuMjVDNzAwLjg4LDIxNi43MSA3MTQuNjEsMjMyLjQ1IDcyNC4xNiwyNDcuNjJaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS4wNDY5NiwwLDAsMS4xMjU3NywtNDYuOTkxMywtNTAuNDMyNSkiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTIxNC45OCwzNjMuNDNDMTIxNC45OCwzNzUuNjkgMTIwNS4zNSwzODUuMzIgMTE5Mi44MywzODUuMzJDMTE4MC40MywzODUuMzIgMTE3MC41NCwzNzUuNjkgMTE3MC41NCwzNjMuNDNDMTE3MC41NCwzNTEuNDMgMTE4MC40MywzNDEuOCAxMTkyLjgzLDM0MS44QzEyMDUuMzUsMzQxLjggMTIxNC45OCwzNTEuNDMgMTIxNC45OCwzNjMuNDNaTTExNzYuMDgsMzYzLjQzQzExNzYuMDgsMzczLjA2IDExODMuMiwzODAuNyAxMTkyLjk2LDM4MC43QzEyMDIuNDUsMzgwLjcgMTIwOS40NCwzNzMuMDUgMTIwOS40NCwzNjMuNTZDMTIwOS40NCwzNTMuOTMgMTIwMi40NSwzNDYuMTUgMTE5Mi44MiwzNDYuMTVDMTE4My4yLDM0Ni4xNiAxMTc2LjA4LDM1My45NCAxMTc2LjA4LDM2My40M1pNMTE4OS4zOSwzNzQuNzdMMTE4NC4zOCwzNzQuNzdMMTE4NC4zOCwzNTMuMTRDMTE4Ni4zNiwzNTIuNzQgMTE4OS4xMywzNTIuNDggMTE5Mi42OSwzNTIuNDhDMTE5Ni43OCwzNTIuNDggMTE5OC42MiwzNTMuMTQgMTIwMC4yMSwzNTQuMDZDMTIwMS40LDM1NC45OCAxMjAyLjMyLDM1Ni43IDEyMDIuMzIsMzU4LjgxQzEyMDIuMzIsMzYxLjE4IDEyMDAuNDcsMzYzLjAzIDExOTcuODQsMzYzLjgyTDExOTcuODQsMzY0LjA4QzExOTkuOTUsMzY0Ljg3IDEyMDEuMTQsMzY2LjQ1IDEyMDEuOCwzNjkuMzVDMTIwMi40NiwzNzIuNjUgMTIwMi44NSwzNzMuOTcgMTIwMy4zOCwzNzQuNzZMMTE5Ny45NywzNzQuNzZDMTE5Ny4zMSwzNzMuOTcgMTE5Ni45MiwzNzEuOTkgMTE5Ni4yNiwzNjkuNDlDMTE5NS44NiwzNjcuMTIgMTE5NC41NSwzNjYuMDYgMTE5MS43OCwzNjYuMDZMMTE4OS40MSwzNjYuMDZMMTE4OS40MSwzNzQuNzdMMTE4OS4zOSwzNzQuNzdaTTExODkuNTMsMzYyLjUxTDExOTEuOSwzNjIuNTFDMTE5NC42NywzNjIuNTEgMTE5Ni45MSwzNjEuNTkgMTE5Ni45MSwzNTkuMzRDMTE5Ni45MSwzNTcuMzYgMTE5NS40NiwzNTYuMDQgMTE5Mi4yOSwzNTYuMDRDMTE5MC45NywzNTYuMDQgMTE5MC4wNSwzNTYuMTcgMTE4OS41MiwzNTYuM0wxMTg5LjUyLDM2Mi41MUwxMTg5LjUzLDM2Mi41MVoiIHN0eWxlPSJmaWxsOnJnYigxNzIsMjIsNDQpO2ZpbGwtcnVsZTpub256ZXJvOyIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg==" alt="Vulkan Logo" width="50%">
    </span>
</div>
<div id="header">
<h1>Vulkan<sup>®</sup> 1.3.240 - A Specification (with all registered Vulkan extensions)</h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan Working Group</span><br>
<span id="revnumber">version 1.3.240,</span>
<span id="revdate">2023-01-26 08:42:09Z</span>
<br><span id="revremark">from git branch: github-main commit: b33bd816a24012b0ac51e8b05567cc221171ccf1</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Titlepage</a></li><li><a href="chap1.html">1. Preamble</a></li>
<li><a href="chap2.html">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap2.html#introduction-conventions">2.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap3.html#fundamentals-host-environment">3.1. Host and Device Environment</a></li>
<li><a href="chap3.html#fundamentals-execmodel">3.2. Execution Model</a></li>
<li><a href="chap3.html#fundamentals-objectmodel-overview">3.3. Object Model</a></li>
<li><a href="chap3.html#fundamentals-abi">3.4. Application Binary Interface</a></li>
<li><a href="chap3.html#fundamentals-commandsyntax">3.5. Command Syntax and Duration</a></li>
<li><a href="chap3.html#fundamentals-threadingbehavior">3.6. Threading Behavior</a></li>
<li><a href="chap3.html#fundamentals-validusage">3.7. Valid Usage</a></li>
<li><a href="chap3.html#fundamentals-returncodes">3.8. <code>VkResult</code> Return Codes</a></li>
<li><a href="chap3.html#fundamentals-numerics">3.9. Numeric Representation and Computation</a></li>
<li><a href="chap3.html#fundamentals-fixedconv">3.10. Fixed-Point Data Conversions</a></li>
<li><a href="chap3.html#fundamentals-common-objects">3.11. Common Object Types</a></li>
<li><a href="chap3.html#fundamentals-api-name-aliases">3.12. API Name Aliases</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap4.html#initialization-functionpointers">4.1. Command Function Pointers</a></li>
<li><a href="chap4.html#initialization-instances">4.2. Instances</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap5.html#devsandqueues-physical-device-enumeration">5.1. Physical Devices</a></li>
<li><a href="chap5.html#devsandqueues-devices">5.2. Devices</a></li>
<li><a href="chap5.html#devsandqueues-queues">5.3. Queues</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap6.html#commandbuffers-lifecycle">6.1. Command Buffer Lifecycle</a></li>
<li><a href="chap6.html#commandbuffers-pools">6.2. Command Pools</a></li>
<li><a href="chap6.html#commandbuffer-allocation">6.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap6.html#commandbuffers-recording">6.4. Command Buffer Recording</a></li>
<li><a href="chap6.html#commandbuffers-submission">6.5. Command Buffer Submission</a></li>
<li><a href="chap6.html#commandbuffers-submission-progress">6.6. Queue Forward Progress</a></li>
<li><a href="chap6.html#commandbuffers-secondary">6.7. Secondary Command Buffer Execution</a></li>
<li><a href="chap6.html#commandbuffers-devicemask">6.8. Command Buffer Device Mask</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap7.html#synchronization-dependencies">7.1. Execution and Memory Dependencies</a></li>
<li><a href="chap7.html#synchronization-implicit">7.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap7.html#synchronization-fences">7.3. Fences</a></li>
<li><a href="chap7.html#synchronization-semaphores">7.4. Semaphores</a></li>
<li><a href="chap7.html#synchronization-events">7.5. Events</a></li>
<li><a href="chap7.html#synchronization-pipeline-barriers">7.6. Pipeline Barriers</a></li>
<li><a href="chap7.html#synchronization-memory-barriers">7.7. Memory Barriers</a></li>
<li><a href="chap7.html#synchronization-wait-idle">7.8. Wait Idle Operations</a></li>
<li><a href="chap7.html#synchronization-submission-host-writes">7.9. Host Write Ordering Guarantees</a></li>
<li><a href="chap7.html#synchronization-device-group">7.10. Synchronization and Multiple Physical Devices</a></li>
<li><a href="chap7.html#calibrated-timestamps">7.11. Calibrated timestamps</a></li>
</ul>
</li>
<li><a href="chap8.html">8. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap8.html#renderpass-creation">8.1. Render Pass Creation</a></li>
<li><a href="chap8.html#renderpass-compatibility">8.2. Render Pass Compatibility</a></li>
<li><a href="chap8.html#_framebuffers">8.3. Framebuffers</a></li>
<li><a href="chap8.html#renderpass-commands">8.4. Render Pass Commands</a></li>
<li><a href="chap8.html#renderpass-creation-feedback">8.5. Render Pass Creation Feedback</a></li>
</ul>
</li>
<li><a href="chap9.html">9. Shaders</a>
<ul class="sectlevel2">
<li><a href="chap9.html#shader-modules">9.1. Shader Modules</a></li>
<li><a href="chap9.html#shaders-identifiers">9.2. Shader Module Identifiers</a></li>
<li><a href="chap9.html#shaders-execution">9.3. Shader Execution</a></li>
<li><a href="chap9.html#shaders-execution-memory-ordering">9.4. Shader Memory Access Ordering</a></li>
<li><a href="chap9.html#shaders-inputs">9.5. Shader Inputs and Outputs</a></li>
<li><a href="chap9.html#shaders-task">9.6. Task Shaders</a></li>
<li><a href="chap9.html#shaders-mesh">9.7. Mesh Shaders</a></li>
<li><a href="chap9.html#shaders-cluster-culling">9.8. Cluster Culling Shaders</a></li>
<li><a href="chap9.html#shaders-vertex">9.9. Vertex Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-control">9.10. Tessellation Control Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-evaluation">9.11. Tessellation Evaluation Shaders</a></li>
<li><a href="chap9.html#shaders-geometry">9.12. Geometry Shaders</a></li>
<li><a href="chap9.html#shaders-fragment">9.13. Fragment Shaders</a></li>
<li><a href="chap9.html#shaders-compute">9.14. Compute Shaders</a></li>
<li><a href="chap9.html#shaders-ray-generation">9.15. Ray Generation Shaders</a></li>
<li><a href="chap9.html#shaders-intersection">9.16. Intersection Shaders</a></li>
<li><a href="chap9.html#shaders-any-hit">9.17. Any-Hit Shaders</a></li>
<li><a href="chap9.html#shaders-closest-hit">9.18. Closest Hit Shaders</a></li>
<li><a href="chap9.html#shaders-miss">9.19. Miss Shaders</a></li>
<li><a href="chap9.html#shaders-callable">9.20. Callable Shaders</a></li>
<li><a href="chap9.html#shaders-interpolation-decorations">9.21. Interpolation decorations</a></li>
<li><a href="chap9.html#shaders-staticuse">9.22. Static Use</a></li>
<li><a href="chap9.html#shaders-scope">9.23. Scope</a></li>
<li><a href="chap9.html#shaders-group-operations">9.24. Group Operations</a></li>
<li><a href="chap9.html#shaders-quad-operations">9.25. Quad Group Operations</a></li>
<li><a href="chap9.html#shaders-derivative-operations">9.26. Derivative Operations</a></li>
<li><a href="chap9.html#shaders-helper-invocations">9.27. Helper Invocations</a></li>
<li><a href="chap9.html#_cooperative_matrices">9.28. Cooperative Matrices</a></li>
<li><a href="chap9.html#shaders-validation-cache">9.29. Validation Cache</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap10.html#pipelines-compute">10.1. Compute Pipelines</a></li>
<li><a href="chap10.html#pipelines-graphics">10.2. Graphics Pipelines</a></li>
<li><a href="chap10.html#pipelines-ray-tracing">10.3. Ray Tracing Pipelines</a></li>
<li><a href="chap10.html#pipelines-destruction">10.4. Pipeline Destruction</a></li>
<li><a href="chap10.html#pipelines-multiple">10.5. Multiple Pipeline Creation</a></li>
<li><a href="chap10.html#pipelines-pipeline-derivatives">10.6. Pipeline Derivatives</a></li>
<li><a href="chap10.html#pipelines-cache">10.7. Pipeline Cache</a></li>
<li><a href="chap10.html#pipelines-specialization-constants">10.8. Specialization Constants</a></li>
<li><a href="chap10.html#pipelines-library">10.9. Pipeline Libraries</a></li>
<li><a href="chap10.html#pipelines-binding">10.10. Pipeline Binding</a></li>
<li><a href="chap10.html#pipelines-dynamic-state">10.11. Dynamic State</a></li>
<li><a href="chap10.html#pipelines-shader-information">10.12. Pipeline Properties and Shader Information</a></li>
<li><a href="chap10.html#pipelines-compiler-control">10.13. Pipeline Compiler Control</a></li>
<li><a href="chap10.html#pipelines-creation-feedback">10.14. Pipeline Creation Feedback</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#memory-host">11.1. Host Memory</a></li>
<li><a href="chap11.html#memory-device">11.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap12.html#resources-buffers">12.1. Buffers</a></li>
<li><a href="chap12.html#resources-buffer-views">12.2. Buffer Views</a></li>
<li><a href="chap12.html#resources-images">12.3. Images</a></li>
<li><a href="chap12.html#resources-image-layouts">12.4. Image Layouts</a></li>
<li><a href="chap12.html#resources-image-views">12.5. Image Views</a></li>
<li><a href="chap12.html#resources-acceleration-structures">12.6. Acceleration Structures</a></li>
<li><a href="chap12.html#resources-micromaps">12.7. Micromaps</a></li>
<li><a href="chap12.html#resources-association">12.8. Resource Memory Association</a></li>
<li><a href="chap12.html#resources-sharing">12.9. Resource Sharing Mode</a></li>
<li><a href="chap12.html#resources-memory-aliasing">12.10. Memory Aliasing</a></li>
<li><a href="chap12.html#resources-buffer-collection-fuchsia">12.11. Buffer Collections</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Samplers</a>
<ul class="sectlevel2">
<li><a href="chap13.html#samplers-YCbCr-conversion">13.1. Sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></li>
</ul>
</li>
<li><a href="chap14.html">14. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap14.html#descriptorsets-types">14.1. Descriptor Types</a></li>
<li><a href="chap14.html#descriptorsets-sets">14.2. Descriptor Sets</a></li>
<li><a href="chap14.html#descriptorsets-physical-storage-buffer">14.3. Physical Storage Buffer Access</a></li>
<li><a href="chap14.html#descriptorbuffers">14.4. Descriptor Buffers</a></li>
</ul>
</li>
<li><a href="chap15.html">15. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap15.html#interfaces-iointerfaces">15.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap15.html#interfaces-vertexinput">15.2. Vertex Input Interface</a></li>
<li><a href="chap15.html#interfaces-fragmentoutput">15.3. Fragment Output Interface</a></li>
<li><a href="chap15.html#interfaces-legacy-dithering">15.4. Legacy Dithering</a></li>
<li><a href="chap15.html#interfaces-inputattachment">15.5. Fragment Input Attachment Interface</a></li>
<li><a href="chap15.html#interfaces-raypipeline">15.6. Ray Tracing Pipeline Interface</a></li>
<li><a href="chap15.html#interfaces-resources">15.7. Shader Resource Interface</a></li>
<li><a href="chap15.html#interfaces-builtin-variables">15.8. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_image_operations_overview">16.1. Image Operations Overview</a></li>
<li><a href="chap16.html#_conversion_formulas">16.2. Conversion Formulas</a></li>
<li><a href="chap16.html#_texel_input_operations">16.3. Texel Input Operations</a></li>
<li><a href="chap16.html#_texel_output_operations">16.4. Texel Output Operations</a></li>
<li><a href="chap16.html#textures-normalized-operations">16.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#_unnormalized_texel_coordinate_operations">16.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-integer-coordinate-operations">16.7. Integer Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-sample-operations">16.8. Image Sample Operations</a></li>
<li><a href="chap16.html#textures-footprint">16.9. Texel Footprint Evaluation</a></li>
<li><a href="chap16.html#textures-weightimage">16.10. Weight Image Sampling</a></li>
<li><a href="chap16.html#textures-blockmatch">16.11. Block Matching</a></li>
<li><a href="chap16.html#textures-boxfilter">16.12. Box Filter Sampling</a></li>
<li><a href="chap16.html#textures-instructions">16.13. Image Operation Steps</a></li>
<li><a href="chap16.html#textures-queries">16.14. Image Query Instructions</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Fragment Density Map Operations</a>
<ul class="sectlevel2">
<li><a href="chap17.html#_fragment_density_map_operations_overview">17.1. Fragment Density Map Operations Overview</a></li>
<li><a href="chap17.html#fragmentdensitymap-fetch-density-value">17.2. Fetch Density Value</a></li>
<li><a href="chap17.html#fragmentdensitymap-conversion-to-fragment-area">17.3. Fragment Area Conversion</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Queries</a>
<ul class="sectlevel2">
<li><a href="chap18.html#queries-pools">18.1. Query Pools</a></li>
<li><a href="chap18.html#queries-operation">18.2. Query Operation</a></li>
<li><a href="chap18.html#queries-occlusion">18.3. Occlusion Queries</a></li>
<li><a href="chap18.html#queries-pipestats">18.4. Pipeline Statistics Queries</a></li>
<li><a href="chap18.html#queries-timestamps">18.5. Timestamp Queries</a></li>
<li><a href="chap18.html#queries-performance">18.6. Performance Queries</a></li>
<li><a href="chap18.html#queries-transform-feedback">18.7. Transform Feedback Queries</a></li>
<li><a href="chap18.html#queries-primitives-generated">18.8. Primitives Generated Queries</a></li>
<li><a href="chap18.html#queries-mesh-shader">18.9. Mesh Shader Queries</a></li>
<li><a href="chap18.html#queries-performance-intel">18.10. Intel performance queries</a></li>
<li><a href="chap18.html#queries-result-status-only">18.11. Result Status Queries</a></li>
<li><a href="chap18.html#queries-video-encode-bitstream-buffer-range">18.12. Video Encode Bitstream Buffer Range Queries</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#clears-outside">19.1. Clearing Images Outside A Render Pass Instance</a></li>
<li><a href="chap19.html#clears-inside">19.2. Clearing Images Inside A Render Pass Instance</a></li>
<li><a href="chap19.html#clears-values">19.3. Clear Values</a></li>
<li><a href="chap19.html#clears-filling-buffers">19.4. Filling Buffers</a></li>
<li><a href="chap19.html#clears-updating-buffers">19.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap20.html">20. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap20.html#copies-buffers">20.1. Copying Data Between Buffers</a></li>
<li><a href="chap20.html#copies-images">20.2. Copying Data Between Images</a></li>
<li><a href="chap20.html#copies-buffers-images">20.3. Copying Data Between Buffers and Images</a></li>
<li><a href="chap20.html#indirect-copies">20.4. Indirect Copies</a></li>
<li><a href="chap20.html#copies-imagescaling">20.5. Image Copies with Scaling</a></li>
<li><a href="chap20.html#copies-resolve">20.6. Resolving Multisample Images</a></li>
<li><a href="chap20.html#copies-buffer-markers">20.7. Buffer Markers</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap21.html#drawing-primitive-topologies">21.1. Primitive Topologies</a></li>
<li><a href="chap21.html#drawing-primitive-order">21.2. Primitive Order</a></li>
<li><a href="chap21.html#drawing-primitive-shading">21.3. Programmable Primitive Shading</a></li>
<li><a href="chap21.html#drawing-conditional-rendering">21.4. Conditional Rendering</a></li>
<li><a href="chap21.html#drawing-mesh-shading">21.5. Programmable Mesh Shading</a></li>
<li><a href="chap21.html#drawing-cluster-culling-shading">21.6. Programmable Cluster Culling Shading</a></li>
</ul>
</li>
<li><a href="chap22.html">22. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap22.html#fxvertex-attrib">22.1. Vertex Attributes</a></li>
<li><a href="chap22.html#fxvertex-input">22.2. Vertex Input Description</a></li>
<li><a href="chap22.html#fxvertex-attribute_divisor">22.3. Vertex Attribute Divisor in Instanced Rendering</a></li>
<li><a href="chap22.html#fxvertex-input-address-calculation">22.4. Vertex Input Address Calculation</a></li>
</ul>
</li>
<li><a href="chap23.html">23. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap23.html#_tessellator">23.1. Tessellator</a></li>
<li><a href="chap23.html#_tessellator_patch_discard">23.2. Tessellator Patch Discard</a></li>
<li><a href="chap23.html#tessellation-tessellator-spacing">23.3. Tessellator Spacing</a></li>
<li><a href="chap23.html#tessellation-primitive-order">23.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap23.html#tessellation-vertex-winding-order">23.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap23.html#tessellation-triangle-tessellation">23.6. Triangle Tessellation</a></li>
<li><a href="chap23.html#tessellation-quad-tessellation">23.7. Quad Tessellation</a></li>
<li><a href="chap23.html#tessellation-isoline-tessellation">23.8. Isoline Tessellation</a></li>
<li><a href="chap23.html#tessellation-point-mode">23.9. Tessellation Point Mode</a></li>
<li><a href="chap23.html#_tessellation_pipeline_state">23.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap24.html">24. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap24.html#geometry-input">24.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap24.html#geometry-output">24.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap24.html#geometry-invocations">24.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap24.html#geometry-ordering">24.4. Geometry Shader Primitive Ordering</a></li>
<li><a href="chap24.html#geometry-passthrough">24.5. Geometry Shader Passthrough</a></li>
</ul>
</li>
<li><a href="chap25.html">25. Mesh Shading</a>
<ul class="sectlevel2">
<li><a href="chap25.html#mesh-task-input">25.1. Task Shader Input</a></li>
<li><a href="chap25.html#mesh-task-output">25.2. Task Shader Output</a></li>
<li><a href="chap25.html#mesh-generation">25.3. Mesh Generation</a></li>
<li><a href="chap25.html#mesh-input">25.4. Mesh Shader Input</a></li>
<li><a href="chap25.html#mesh-output">25.5. Mesh Shader Output</a></li>
<li><a href="chap25.html#mesh-output-perview">25.6. Mesh Shader Per-View Outputs</a></li>
<li><a href="chap25.html#mesh-ordering">25.7. Mesh Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap26.html">26. Cluster Culling Shading</a>
<ul class="sectlevel2">
<li><a href="chap26.html#cluster-culling-input">26.1. Cluster Culling Shader Input</a></li>
<li><a href="chap26.html#cluster-culling-output">26.2. Cluster Culling Shader Output</a></li>
<li><a href="chap26.html#primitive-ordering">26.3. Cluster Culling Shader Cluster Ordering</a></li>
<li><a href="chap26.html#_cluster_culling_shader_primitive_ordering">26.4. Cluster Culling Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap27.html">27. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap27.html#vertexpostproc-transform-feedback">27.1. Transform Feedback</a></li>
<li><a href="chap27.html#vertexpostproc-viewport-swizzle">27.2. Viewport Swizzle</a></li>
<li><a href="chap27.html#vertexpostproc-flatshading">27.3. Flat Shading</a></li>
<li><a href="chap27.html#vertexpostproc-clipping">27.4. Primitive Clipping</a></li>
<li><a href="chap27.html#vertexpostproc-clipping-shader-outputs">27.5. Clipping Shader Outputs</a></li>
<li><a href="chap27.html#vertexpostproc-viewportwscaling">27.6. Controlling Viewport W Scaling</a></li>
<li><a href="chap27.html#vertexpostproc-coord-transform">27.7. Coordinate Transformations</a></li>
<li><a href="chap27.html#vertexpostproc-renderpass-transform">27.8. Render Pass Transform</a></li>
<li><a href="chap27.html#vertexpostproc-viewport">27.9. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap28.html">28. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap28.html#primsrast-discard">28.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap28.html#primsrast-stream">28.2. Controlling the Vertex Stream Used for Rasterization</a></li>
<li><a href="chap28.html#primsrast-order">28.3. Rasterization Order</a></li>
<li><a href="chap28.html#primsrast-multisampling">28.4. Multisampling</a></li>
<li><a href="chap28.html#primsrast-samplelocations">28.5. Custom Sample Locations</a></li>
<li><a href="chap28.html#primsrast-fragment-shading-rate">28.6. Fragment Shading Rates</a></li>
<li><a href="chap28.html#primsrast-shading-rate-image">28.7. Shading Rate Image</a></li>
<li><a href="chap28.html#primsrast-sampleshading">28.8. Sample Shading</a></li>
<li><a href="chap28.html#primsrast-barycentric">28.9. Barycentric Interpolation</a></li>
<li><a href="chap28.html#primsrast-points">28.10. Points</a></li>
<li><a href="chap28.html#primsrast-lines">28.11. Line Segments</a></li>
<li><a href="chap28.html#primsrast-polygons">28.12. Polygons</a></li>
</ul>
</li>
<li><a href="chap29.html">29. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap29.html#fragops-discard-rectangles">29.1. Discard Rectangles Test</a></li>
<li><a href="chap29.html#fragops-scissor">29.2. Scissor Test</a></li>
<li><a href="chap29.html#fragops-exclusive-scissor">29.3. Exclusive Scissor Test</a></li>
<li><a href="chap29.html#fragops-samplemask">29.4. Sample Mask Test</a></li>
<li><a href="chap29.html#fragops-shader">29.5. Fragment Shading</a></li>
<li><a href="chap29.html#fragops-covg">29.6. Multisample Coverage</a></li>
<li><a href="chap29.html#fragops-ds-state">29.7. Depth and Stencil Operations</a></li>
<li><a href="chap29.html#fragops-dbt">29.8. Depth Bounds Test</a></li>
<li><a href="chap29.html#fragops-stencil">29.9. Stencil Test</a></li>
<li><a href="chap29.html#fragops-depth">29.10. Depth Test</a></li>
<li><a href="chap29.html#fragops-rep-frag-test">29.11. Representative Fragment Test</a></li>
<li><a href="chap29.html#fragops-samplecount">29.12. Sample Counting</a></li>
<li><a href="chap29.html#fragops-coverage-to-color">29.13. Fragment Coverage To Color</a></li>
<li><a href="chap29.html#fragops-coverage-reduction">29.14. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap30.html">30. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap30.html#framebuffer-blending">30.1. Blending</a></li>
<li><a href="chap30.html#framebuffer-logicop">30.2. Logical Operations</a></li>
<li><a href="chap30.html#framebuffer-color-write-mask">30.3. Color Write Mask</a></li>
<li><a href="chap30.html#framebuffer-color-write-enable">30.4. Color Write Enable</a></li>
<li><a href="chap30.html#framebuffer-queries">30.5. Framebuffer Query Instructions</a></li>
</ul>
</li>
<li><a href="chap31.html">31. Dispatching Commands</a></li>
<li><a href="chap32.html">32. Device-Generated Commands</a>
<ul class="sectlevel2">
<li><a href="chap32.html#indirectmdslayout">32.1. Indirect Commands Layout</a></li>
<li><a href="chap32.html#_indirect_commands_generation_and_execution">32.2. Indirect Commands Generation And Execution</a></li>
</ul>
</li>
<li><a href="chap33.html">33. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap33.html#sparsememory-sparseresourcefeatures">33.1. Sparse Resource Features</a></li>
<li><a href="chap33.html#sparsememory-fully-resident">33.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap33.html#sparsememory-partially-resident-buffers">33.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap33.html#sparsememory-partially-resident-images">33.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap33.html#sparsememory-sparse-memory-aliasing">33.5. Sparse Memory Aliasing</a></li>
<li><a href="chap33.html#_sparse_resource_implementation_guidelines_informative">33.6. Sparse Resource Implementation Guidelines (Informative)</a></li>
<li><a href="chap33.html#sparsememory-resourceapi">33.7. Sparse Resource API</a></li>
</ul>
</li>
<li class="current"><a href="chap34.html">34. Window System Integration (WSI)</a>
<ul class="sectlevel2">
<li class="current"><a href="chap34.html#_wsi_platform">34.1. WSI Platform</a></li>
<li class="current"><a href="chap34.html#_wsi_surface">34.2. WSI Surface</a></li>
<li class="current"><a href="chap34.html#display">34.3. Presenting Directly to Display Devices</a></li>
<li class="current"><a href="chap34.html#_querying_for_wsi_support">34.4. Querying for WSI Support</a></li>
<li class="current"><a href="chap34.html#_surface_queries">34.5. Surface Queries</a></li>
<li class="current"><a href="chap34.html#_full_screen_exclusive_control">34.6. Full Screen Exclusive Control</a></li>
<li class="current"><a href="chap34.html#_device_group_queries">34.7. Device Group Queries</a></li>
<li class="current"><a href="chap34.html#_display_timing_queries">34.8. Display Timing Queries</a></li>
<li class="current"><a href="chap34.html#present-wait">34.9. Present Wait</a></li>
<li class="current"><a href="chap34.html#_wsi_swapchain">34.10. WSI Swapchain</a></li>
<li class="current"><a href="chap34.html#_hdr_metadata">34.11. Hdr Metadata</a></li>
<li class="current"><a href="chap34.html#present-barrier">34.12. Present Barrier</a></li>
</ul>
</li>
<li><a href="chap35.html">35. Deferred Host Operations</a>
<ul class="sectlevel2">
<li><a href="chap35.html#deferred-host-operations-requesting">35.1. Requesting Deferral</a></li>
<li><a href="chap35.html#_deferred_host_operations_api">35.2. Deferred Host Operations API</a></li>
</ul>
</li>
<li><a href="chap36.html">36. Private Data</a></li>
<li><a href="chap37.html">37. Acceleration Structures</a>
<ul class="sectlevel2">
<li><a href="chap37.html#acceleration-structure-def">37.1. Acceleration Structures</a></li>
<li><a href="chap37.html#host-acceleration-structure">37.2. Host Acceleration Structure Operations</a></li>
</ul>
</li>
<li><a href="chap38.html">38. Micromap</a>
<ul class="sectlevel2">
<li><a href="chap38.html#micromap-def">38.1. Micromaps</a></li>
<li><a href="chap38.html#host-micromap">38.2. Host Micromap Operations</a></li>
</ul>
</li>
<li><a href="chap39.html">39. Ray Traversal</a>
<ul class="sectlevel2">
<li><a href="chap39.html#ray-intersection-candidate-determination">39.1. Ray Intersection Candidate Determination</a></li>
<li><a href="chap39.html#ray-intersection-culling">39.2. Ray Intersection Culling</a></li>
<li><a href="chap39.html#ray-intersection-confirmation">39.3. Ray Intersection Confirmation</a></li>
<li><a href="chap39.html#ray-closest-hit-determination">39.4. Ray Closest Hit Determination</a></li>
<li><a href="chap39.html#ray-result-determination">39.5. Ray Result Determination</a></li>
</ul>
</li>
<li><a href="chap40.html">40. Ray Tracing</a>
<ul class="sectlevel2">
<li><a href="chap40.html#ray-tracing-shader-call">40.1. Shader Call Instructions</a></li>
<li><a href="chap40.html#ray-tracing-commands">40.2. Ray Tracing Commands</a></li>
<li><a href="chap40.html#shader-binding-table">40.3. Shader Binding Table</a></li>
<li><a href="chap40.html#ray-tracing-pipeline-stack">40.4. Ray Tracing Pipeline Stack</a></li>
<li><a href="chap40.html#ray-tracing-capture-replay">40.5. Ray Tracing Capture Replay</a></li>
</ul>
</li>
<li><a href="chap41.html">41. Memory Decompression</a></li>
<li><a href="chap42.html">42. Video Coding</a>
<ul class="sectlevel2">
<li><a href="chap42.html#video-picture-resources">42.1. Video Picture Resources</a></li>
<li><a href="chap42.html#dpb">42.2. Decoded Picture Buffer</a></li>
<li><a href="chap42.html#video-profiles">42.3. Video Profiles</a></li>
<li><a href="chap42.html#video-capabilities">42.4. Video Capabilities</a></li>
<li><a href="chap42.html#video-session">42.5. Video Sessions</a></li>
<li><a href="chap42.html#video-profile-compatibility">42.6. Video Profile Compatibility</a></li>
<li><a href="chap42.html#video-session-parameters">42.7. Video Session Parameters</a></li>
<li><a href="chap42.html#video-coding-scope">42.8. Video Coding Scope</a></li>
<li><a href="chap42.html#video-coding-control">42.9. Video Coding Control</a></li>
<li><a href="chap42.html#video-decode-operations">42.10. Video Decode Operations</a></li>
<li><a href="chap42.html#decode-h264">42.11. H.264 Decode Operations</a></li>
<li><a href="chap42.html#decode-h265">42.12. H.265 Decode Operations</a></li>
<li><a href="chap42.html#video-encode-operations">42.13. Video Encode Operations</a></li>
<li><a href="chap42.html#encode-h264">42.14. Encode H.264</a></li>
<li><a href="chap42.html#encode-h265">42.15. Encode H.265</a></li>
</ul>
</li>
<li><a href="chap43.html">43. Optical Flow</a>
<ul class="sectlevel2">
<li><a href="chap43.html#_optical_flow_queues">43.1. Optical Flow Queues</a></li>
<li><a href="chap43.html#opticalflow-formats">43.2. Optical Flow Image Formats</a></li>
<li><a href="chap43.html#opticalflow-session">43.3. Optical Flow Session</a></li>
</ul>
</li>
<li><a href="chap44.html">44. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap44.html#extendingvulkan-instanceanddevicefunctionality">44.1. Instance and Device Functionality</a></li>
<li><a href="chap44.html#extendingvulkan-coreversions">44.2. Core Versions</a></li>
<li><a href="chap44.html#extendingvulkan-layers">44.3. Layers</a></li>
<li><a href="chap44.html#extendingvulkan-extensions">44.4. Extensions</a></li>
<li><a href="chap44.html#extendingvulkan-extensions-extensiondependencies">44.5. Extension Dependencies</a></li>
<li><a href="chap44.html#_compatibility_guarantees_informative">44.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap45.html">45. Features</a>
<ul class="sectlevel2">
<li><a href="chap45.html#features-requirements">45.1. Feature Requirements</a></li>
<li><a href="chap45.html#profile-features">45.2. Profile Features</a></li>
</ul>
</li>
<li><a href="chap46.html">46. Limits</a>
<ul class="sectlevel2">
<li><a href="chap46.html#limits-minmax">46.1. Limit Requirements</a></li>
<li><a href="chap46.html#limits-multisample">46.2. Additional Multisampling Capabilities</a></li>
<li><a href="chap46.html#profile-limits">46.3. Profile Limits</a></li>
</ul>
</li>
<li><a href="chap47.html">47. Formats</a>
<ul class="sectlevel2">
<li><a href="chap47.html#formats-definition">47.1. Format Definition</a></li>
<li><a href="chap47.html#formats-properties">47.2. Format Properties</a></li>
<li><a href="chap47.html#features-required-format-support">47.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="chap48.html">48. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="chap48.html#capabilities-image">48.1. Additional Image Capabilities</a></li>
<li><a href="chap48.html#capabilities-buffer">48.2. Additional Buffer Capabilities</a></li>
<li><a href="chap48.html#capabilities-semaphore">48.3. Optional Semaphore Capabilities</a></li>
<li><a href="chap48.html#capabilities-fence">48.4. Optional Fence Capabilities</a></li>
<li><a href="chap48.html#features-timestamp-calibration">48.5. Timestamp Calibration Capabilities</a></li>
</ul>
</li>
<li><a href="chap49.html">49. Debugging</a>
<ul class="sectlevel2">
<li><a href="chap49.html#debugging-debug-utils">49.1. Debug Utilities</a></li>
<li><a href="chap49.html#debugging-debug-markers">49.2. Debug Markers</a></li>
<li><a href="chap49.html#debugging-debug-report-callbacks">49.3. Debug Report Callbacks</a></li>
<li><a href="chap49.html#_device_loss_debugging">49.4. Device Loss Debugging</a></li>
<li><a href="chap49.html#debugging-tooling-info">49.5. Active Tooling Information</a></li>
</ul>
</li>
<li><a href="chap50.html">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap50.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap50.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap50.html#spirvenv-module-validation">Validation Rules within a Module</a></li>
<li><a href="chap50.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap50.html#spirvenv-image-signedness">Signedness of SPIR-V Image Accesses</a></li>
<li><a href="chap50.html#spirvenv-format-type-matching">Image Format and Type Matching</a></li>
<li><a href="chap50.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats And Vulkan Formats</a></li>
</ul>
</li>
<li><a href="chap51.html">Appendix B: Memory Model</a>
<ul class="sectlevel2">
<li><a href="chap51.html#memory-model-agent">Agent</a></li>
<li><a href="chap51.html#memory-model-memory-location">Memory Location</a></li>
<li><a href="chap51.html#memory-model-allocation">Allocation</a></li>
<li><a href="chap51.html#memory-model-memory-operation">Memory Operation</a></li>
<li><a href="chap51.html#memory-model-references">Reference</a></li>
<li><a href="chap51.html#memory-model-program-order">Program-Order</a></li>
<li><a href="chap51.html#shader-call-related">Shader Call Related</a></li>
<li><a href="chap51.html#shader-call-order">Shader Call Order</a></li>
<li><a href="chap51.html#memory-model-scope">Scope</a></li>
<li><a href="chap51.html#memory-model-atomic-operation">Atomic Operation</a></li>
<li><a href="chap51.html#memory-model-scoped-modification-order">Scoped Modification Order</a></li>
<li><a href="chap51.html#memory-model-memory-semantics">Memory Semantics</a></li>
<li><a href="chap51.html#memory-model-release-sequence">Release Sequence</a></li>
<li><a href="chap51.html#memory-model-synchronizes-with">Synchronizes-With</a></li>
<li><a href="chap51.html#memory-model-system-synchronizes-with">System-Synchronizes-With</a></li>
<li><a href="chap51.html#memory-model-non-private">Private vs. Non-Private</a></li>
<li><a href="chap51.html#memory-model-inter-thread-happens-before">Inter-Thread-Happens-Before</a></li>
<li><a href="chap51.html#memory-model-happens-before">Happens-Before</a></li>
<li><a href="chap51.html#memory-model-availability-visibility">Availability and Visibility</a></li>
<li><a href="chap51.html#memory-model-vulkan-availability-visibility">Availability, Visibility, and Domain Operations</a></li>
<li><a href="chap51.html#memory-model-availability-visibility-semantics">Availability and Visibility Semantics</a></li>
<li><a href="chap51.html#memory-model-instruction-av-vis">Per-Instruction Availability and Visibility Semantics</a></li>
<li><a href="chap51.html#memory-model-location-ordered">Location-Ordered</a></li>
<li><a href="chap51.html#memory-model-access-data-race">Data Race</a></li>
<li><a href="chap51.html#memory-model-visible-to">Visible-To</a></li>
<li><a href="chap51.html#memory-model-acyclicity">Acyclicity</a></li>
<li><a href="chap51.html#memory-model-shader-io">Shader I/O</a></li>
<li><a href="chap51.html#memory-model-deallocation">Deallocation</a></li>
<li><a href="chap51.html#memory-model-informative-descriptions">Descriptions (Informative)</a></li>
<li><a href="chap51.html#memory-model-tessellation-output-ordering">Tessellation Output Ordering</a></li>
<li><a href="chap51.html#memory-model-cooperative-matrix">Cooperative Matrix Memory Access</a></li>
</ul>
</li>
<li><a href="chap52.html">Appendix C: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap52.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap52.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap52.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
<li><a href="chap52.html#appendix-compressedtex-pvrtc">PVRTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap53.html">Appendix D: Core Revisions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap53.html#versions-1.3">Version 1.3</a></li>
<li><a href="chap53.html#versions-1.2">Version 1.2</a></li>
<li><a href="chap53.html#versions-1.1">Version 1.1</a></li>
<li><a href="chap53.html#versions-1.0">Version 1.0</a></li>
</ul>
</li>
<li><a href="chap54.html">Appendix E: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap54.html#extension-appendices-list">List of Current Extensions</a></li>
<li><a href="chap54.html#provisional-extension-appendices-list">List of Provisional Extensions</a></li>
<li><a href="chap54.html#deprecated-extension-appendices-list">List of Deprecated Extensions</a></li>
</ul>
</li>
<li><a href="chap55.html">Appendix F: Vulkan Roadmap Milestones</a>
<ul class="sectlevel2">
<li><a href="chap55.html#roadmap-2022">Roadmap 2022</a></li>
</ul>
</li>
<li><a href="chap56.html">Appendix G: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap56.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap56.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="chap56.html#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
<li><a href="chap56.html#boilerplate-video-std-headers">Video Std Headers</a></li>
</ul>
</li>
<li><a href="chap57.html">Appendix H: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap57.html#_repeatability">Repeatability</a></li>
<li><a href="chap57.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap57.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap57.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap58.html">Appendix I: Lexicon</a>
<ul class="sectlevel2">
<li><a href="chap58.html#glossary">Glossary</a></li>
<li><a href="chap58.html#lexicon-common-abbreviations">Common Abbreviations</a></li>
<li><a href="chap58.html#lexicon-video-abbreviations">Video-Specific Abbreviations</a></li>
<li><a href="chap58.html#lexicon-prefixes">Prefixes</a></li>
</ul>
</li>
<li><a href="chap59.html">Appendix J: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap59.html#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="chap59.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="loading_msg" class="hidden" hidden=""><p>Loading… please wait.</p></div>
<!--ChunkedSearchboxMarker-->
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
<div id="content" class="loadable"><div class="sect1">
<h2 id="wsi"><a class="anchor" href="chap34.html"></a>34. Window System Integration (WSI)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter discusses the window system integration (WSI) between the
Vulkan API and the various forms of displaying the results of rendering to a
user.
Since the Vulkan API <strong class="purple">can</strong> be used without displaying results, WSI is
provided through the use of optional Vulkan extensions.
This chapter provides an overview of WSI.
See the appendix for additional details of each WSI extension, including
which extensions <strong class="purple">must</strong> be enabled in order to use each of the functions
described in this chapter.</p>
</div>
<div class="sect2">
<h3 id="_wsi_platform"><a class="anchor" href="chap34.html#_wsi_platform"></a>34.1. WSI Platform</h3>
<div class="paragraph">
<p>A platform is an abstraction for a window system, OS, etc.
Some examples include MS Windows, Android, and Wayland.
The Vulkan API <strong class="purple">may</strong> be integrated in a unique manner for each platform.</p>
</div>
<div class="paragraph">
<p>The Vulkan API does not define any type of platform object.
Platform-specific WSI extensions are defined, each containing
platform-specific functions for using WSI.
Use of these extensions is guarded by preprocessor symbols as defined in the
<a href="chap56.html#boilerplate-wsi-header">Window System-Specific Header Control</a> appendix.</p>
</div>
<div class="paragraph">
<p>In order for an application to be compiled to use WSI with a given platform,
it must either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>#define</code> the appropriate preprocessor symbol prior to including the
<code>vulkan.h</code> header file, or</p>
</li>
<li>
<p>include <code>vulkan_core.h</code> and any native platform headers, followed by the
appropriate platform-specific header.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The preprocessor symbols and platform-specific headers are defined in the
<a href="chap56.html#boilerplate-wsi-header-table">Window System Extensions and Headers</a>
table.</p>
</div>
<div class="paragraph">
<p>Each platform-specific extension is an instance extension.
The application <strong class="purple">must</strong> enable instance extensions with <code>vkCreateInstance</code>
before using them.</p>
</div>
</div>
<div class="sect2">
<h3 id="_wsi_surface"><a class="anchor" href="chap34.html#_wsi_surface"></a>34.2. WSI Surface</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Native platform surface or window objects are abstracted by surface objects,
which are represented by <code>VkSurfaceKHR</code> handles:</p>
</div>
<div id="VkSurfaceKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkSurfaceKHR</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code><a href="chap54.html#VK_KHR_surface">VK_KHR_surface</a></code> extension declares the <code>VkSurfaceKHR</code>
object, and provides a function for destroying <code>VkSurfaceKHR</code> objects.
Separate platform-specific extensions each provide a function for creating a
<code>VkSurfaceKHR</code> object for the respective platform.
From the application’s perspective this is an opaque handle, just like the
handles of other Vulkan objects.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>On certain platforms, the Vulkan loader and ICDs <strong class="purple">may</strong> have conventions that
treat the handle as a pointer to a structure containing the
platform-specific information about the surface.
This will be described in the documentation for the loader-ICD interface,
and in the <code>vk_icd.h</code> header file of the LoaderAndTools source-code
repository.
This does not affect the loader-layer interface; layers <strong class="purple">may</strong> wrap
<code>VkSurfaceKHR</code> objects.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_android"><a class="anchor" href="chap34.html#platformCreateSurface_android"></a>34.2.1. Android Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for an Android native window, call:</p>
</div>
<div id="vkCreateAndroidSurfaceKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_android_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateAndroidSurfaceKHR</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAndroidSurfaceCreateInfoKHR</span><span class="o">*</span>        <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkAndroidSurfaceCreateInfoKHR</code>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>During the lifetime of a surface created using a particular
<a href="chap34.html#ANativeWindow">ANativeWindow</a> handle any attempts to create another surface for the
same <a href="chap34.html#ANativeWindow">ANativeWindow</a> and any attempts to connect to the same
<a href="chap34.html#ANativeWindow">ANativeWindow</a> through other platform mechanisms will fail.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In particular, only one <code>VkSurfaceKHR</code> <strong class="purple">can</strong> exist at a time for a given
window.
Similarly, a native window <strong class="purple">cannot</strong> be used by both a <code>VkSurfaceKHR</code> and
<code>EGLSurface</code> simultaneously.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>If successful, <code>vkCreateAndroidSurfaceKHR</code> increments the
<a href="chap34.html#ANativeWindow">ANativeWindow</a>’s reference count, and <code>vkDestroySurfaceKHR</code> will
decrement it.</p>
</div>
<div class="paragraph">
<p>On Android, when a swapchain’s <code>imageExtent</code> does not match the
surface’s <code>currentExtent</code>, the presentable images will be scaled to the
surface’s dimensions during presentation.
<code>minImageExtent</code> is <span class="eq">(1,1)</span>, and <code>maxImageExtent</code> is the maximum
image size supported by the consumer.
For the system compositor, <code>currentExtent</code> is the window size (i.e. the
consumer’s preferred size).</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateAndroidSurfaceKHR-instance-parameter" href="chap34.html#VUID-vkCreateAndroidSurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkCreateAndroidSurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateAndroidSurfaceKHR-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateAndroidSurfaceKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateAndroidSurfaceKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkAndroidSurfaceCreateInfoKHR">VkAndroidSurfaceCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateAndroidSurfaceKHR-pAllocator-parameter" href="chap34.html#VUID-vkCreateAndroidSurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateAndroidSurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateAndroidSurfaceKHR-pSurface-parameter" href="chap34.html#VUID-vkCreateAndroidSurfaceKHR-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateAndroidSurfaceKHR-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkAndroidSurfaceCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkAndroidSurfaceCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_android_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkAndroidSurfaceCreateInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                   <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                       <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkAndroidSurfaceCreateFlagsKHR</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="k">struct</span> <span class="nc">ANativeWindow</span><span class="o">*</span>             <span class="n">window</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkAndroidSurfaceCreateInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>window</code> is a pointer to the <a href="chap34.html#ANativeWindow">ANativeWindow</a> to associate the
surface with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAndroidSurfaceCreateInfoKHR-window-01248" href="chap34.html#VUID-VkAndroidSurfaceCreateInfoKHR-window-01248"></a> <span class="vuid">VUID-VkAndroidSurfaceCreateInfoKHR-window-01248</span><br>

<code>window</code> <strong class="purple">must</strong> point to a valid Android <a href="chap34.html#ANativeWindow">ANativeWindow</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAndroidSurfaceCreateInfoKHR-sType-sType" href="chap34.html#VUID-VkAndroidSurfaceCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkAndroidSurfaceCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkAndroidSurfaceCreateInfoKHR-pNext-pNext" href="chap34.html#VUID-VkAndroidSurfaceCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkAndroidSurfaceCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkAndroidSurfaceCreateInfoKHR-flags-zerobitmask" href="chap34.html#VUID-VkAndroidSurfaceCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkAndroidSurfaceCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To remove an unnecessary compile-time dependency, an incomplete type
definition of <a href="chap34.html#ANativeWindow">ANativeWindow</a> is provided in the Vulkan headers:</p>
</div>
<div id="ANativeWindow" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_android_surface</span>
<span class="k">struct</span> <span class="nc">ANativeWindow</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The actual <a href="chap34.html#ANativeWindow">ANativeWindow</a> type is defined in Android NDK headers.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkAndroidSurfaceCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_android_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkAndroidSurfaceCreateFlagsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkAndroidSurfaceCreateFlagsKHR</code> is a bitmask type for setting a mask,
but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_wayland"><a class="anchor" href="chap34.html#platformCreateSurface_wayland"></a>34.2.2. Wayland Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a Wayland surface, call:</p>
</div>
<div id="vkCreateWaylandSurfaceKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_wayland_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateWaylandSurfaceKHR</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkWaylandSurfaceCreateInfoKHR</span><span class="o">*</span>        <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap34.html#VkWaylandSurfaceCreateInfoKHR">VkWaylandSurfaceCreateInfoKHR</a>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateWaylandSurfaceKHR-instance-parameter" href="chap34.html#VUID-vkCreateWaylandSurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkCreateWaylandSurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateWaylandSurfaceKHR-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateWaylandSurfaceKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateWaylandSurfaceKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkWaylandSurfaceCreateInfoKHR">VkWaylandSurfaceCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateWaylandSurfaceKHR-pAllocator-parameter" href="chap34.html#VUID-vkCreateWaylandSurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateWaylandSurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateWaylandSurfaceKHR-pSurface-parameter" href="chap34.html#VUID-vkCreateWaylandSurfaceKHR-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateWaylandSurfaceKHR-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkWaylandSurfaceCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkWaylandSurfaceCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_wayland_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkWaylandSurfaceCreateInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                   <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                       <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkWaylandSurfaceCreateFlagsKHR</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="k">struct</span> <span class="nc">wl_display</span><span class="o">*</span>                <span class="n">display</span><span class="p">;</span>
    <span class="k">struct</span> <span class="nc">wl_surface</span><span class="o">*</span>                <span class="n">surface</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkWaylandSurfaceCreateInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>display</code> and <code>surface</code> are pointers to the Wayland
<code>wl_display</code> and <code>wl_surface</code> to associate the surface with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWaylandSurfaceCreateInfoKHR-display-01304" href="chap34.html#VUID-VkWaylandSurfaceCreateInfoKHR-display-01304"></a> <span class="vuid">VUID-VkWaylandSurfaceCreateInfoKHR-display-01304</span><br>

<code>display</code> <strong class="purple">must</strong> point to a valid Wayland <code>wl_display</code></p>
</li>
<li>
<p><a id="VUID-VkWaylandSurfaceCreateInfoKHR-surface-01305" href="chap34.html#VUID-VkWaylandSurfaceCreateInfoKHR-surface-01305"></a> <span class="vuid">VUID-VkWaylandSurfaceCreateInfoKHR-surface-01305</span><br>

<code>surface</code> <strong class="purple">must</strong> point to a valid Wayland <code>wl_surface</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWaylandSurfaceCreateInfoKHR-sType-sType" href="chap34.html#VUID-VkWaylandSurfaceCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkWaylandSurfaceCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_WAYLAND_SURFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkWaylandSurfaceCreateInfoKHR-pNext-pNext" href="chap34.html#VUID-VkWaylandSurfaceCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkWaylandSurfaceCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkWaylandSurfaceCreateInfoKHR-flags-zerobitmask" href="chap34.html#VUID-VkWaylandSurfaceCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkWaylandSurfaceCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>On Wayland, <code>currentExtent</code> is the special value <span class="eq">(0xFFFFFFFF,
0xFFFFFFFF)</span>, indicating that the surface size will be determined by the
extent of a swapchain targeting the surface.
Whatever the application sets a swapchain’s <code>imageExtent</code> to will be the
size of the window, after the first image is presented.
<code>minImageExtent</code> is <span class="eq">(1,1)</span>, and <code>maxImageExtent</code> is the maximum
supported surface size.
Any calls to <a href="chap34.html#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a> on a surface
created with <code>vkCreateWaylandSurfaceKHR</code> are <strong class="purple">required</strong> to return
<code>VK_PRESENT_MODE_MAILBOX_KHR</code> as one of the valid present modes.</p>
</div>
<div class="paragraph">
<p>Some Vulkan functions <strong class="purple">may</strong> send protocol over the specified <code>wl_display</code>
connection when using a swapchain or presentable images created from a
<code>VkSurfaceKHR</code> referring to a <code>wl_surface</code>.
Applications <strong class="purple">must</strong> therefore ensure that both the <code>wl_display</code> and the
<code>wl_surface</code> remain valid for the lifetime of any <code>VkSwapchainKHR</code>
objects created from a particular <code>wl_display</code> and <code>wl_surface</code>.
Also, calling <a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a> will result in Vulkan sending
<code>wl_surface.commit</code> requests to the underlying <code>wl_surface</code> of each
The <code>wl_surface.attach</code>, <code>wl_surface.damage</code>, and
<code>wl_surface.commit</code> requests <strong class="purple">must</strong> be issued by the implementation during
the call to <a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a> and <strong class="purple">must</strong> not be issued by the
implementation outside of <a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a>.
This ensures that any Wayland requests sent by the client after the call to
<a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a> returns will be received by the compositor after the
<code>wl_surface.commit</code>.
Regardless of the mode of swapchain creation, a new <code>wl_event_queue</code>
<strong class="purple">must</strong> be created for each successful <a href="chap34.html#vkCreateWaylandSurfaceKHR">vkCreateWaylandSurfaceKHR</a> call,
and every Wayland object created by the implementation <strong class="purple">must</strong> be assigned to
this event queue.
If the platform provides Wayland 1.11 or greater, this <strong class="purple">must</strong> be implemented
by the use of Wayland proxy object wrappers, to avoid race conditions.</p>
</div>
<div class="paragraph">
<p>If the application wishes to synchronize any window changes with a
particular frame, such requests <strong class="purple">must</strong> be sent to the Wayland display server
prior to calling <a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div id="VkWaylandSurfaceCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_wayland_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkWaylandSurfaceCreateFlagsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkWaylandSurfaceCreateFlagsKHR</code> is a bitmask type for setting a mask,
but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_win32"><a class="anchor" href="chap34.html#platformCreateSurface_win32"></a>34.2.3. Win32 Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a Win32 window, call:</p>
</div>
<div id="vkCreateWin32SurfaceKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_win32_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateWin32SurfaceKHR</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkWin32SurfaceCreateInfoKHR</span><span class="o">*</span>          <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkWin32SurfaceCreateInfoKHR</code>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateWin32SurfaceKHR-instance-parameter" href="chap34.html#VUID-vkCreateWin32SurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkCreateWin32SurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateWin32SurfaceKHR-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateWin32SurfaceKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateWin32SurfaceKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkWin32SurfaceCreateInfoKHR">VkWin32SurfaceCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateWin32SurfaceKHR-pAllocator-parameter" href="chap34.html#VUID-vkCreateWin32SurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateWin32SurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateWin32SurfaceKHR-pSurface-parameter" href="chap34.html#VUID-vkCreateWin32SurfaceKHR-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateWin32SurfaceKHR-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkWin32SurfaceCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkWin32SurfaceCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_win32_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkWin32SurfaceCreateInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                 <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                     <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkWin32SurfaceCreateFlagsKHR</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="n">HINSTANCE</span>                       <span class="n">hinstance</span><span class="p">;</span>
    <span class="n">HWND</span>                            <span class="n">hwnd</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkWin32SurfaceCreateInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>hinstance</code> is the Win32 <code>HINSTANCE</code> for the window to associate
the surface with.</p>
</li>
<li>
<p><code>hwnd</code> is the Win32 <code>HWND</code> for the window to associate the
surface with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWin32SurfaceCreateInfoKHR-hinstance-01307" href="chap34.html#VUID-VkWin32SurfaceCreateInfoKHR-hinstance-01307"></a> <span class="vuid">VUID-VkWin32SurfaceCreateInfoKHR-hinstance-01307</span><br>

<code>hinstance</code> <strong class="purple">must</strong> be a valid Win32 <code>HINSTANCE</code></p>
</li>
<li>
<p><a id="VUID-VkWin32SurfaceCreateInfoKHR-hwnd-01308" href="chap34.html#VUID-VkWin32SurfaceCreateInfoKHR-hwnd-01308"></a> <span class="vuid">VUID-VkWin32SurfaceCreateInfoKHR-hwnd-01308</span><br>

<code>hwnd</code> <strong class="purple">must</strong> be a valid Win32 <code>HWND</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWin32SurfaceCreateInfoKHR-sType-sType" href="chap34.html#VUID-VkWin32SurfaceCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkWin32SurfaceCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkWin32SurfaceCreateInfoKHR-pNext-pNext" href="chap34.html#VUID-VkWin32SurfaceCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkWin32SurfaceCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkWin32SurfaceCreateInfoKHR-flags-zerobitmask" href="chap34.html#VUID-VkWin32SurfaceCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkWin32SurfaceCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>With Win32, <code>minImageExtent</code>, <code>maxImageExtent</code>, and
<code>currentExtent</code> <strong class="purple">must</strong> always equal the window size.</p>
</div>
<div class="paragraph">
<p>The <code>currentExtent</code> of a Win32 surface <strong class="purple">must</strong> have both <code>width</code> and
<code>height</code> greater than 0, or both of them 0.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Due to above restrictions,
unless <a href="chap34.html#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a> is used to specify
handling of disparities between surface and swapchain dimensions,
it is only possible to create a new swapchain on this platform with
<code>imageExtent</code> being equal to the current size of the window, as reported
in <a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentExtent</code>.</p>
</div>
<div class="paragraph">
<p>The window size <strong class="purple">may</strong> become <span class="eq">(0, 0)</span> on this platform (e.g. when the
window is minimized), and so a swapchain <strong class="purple">cannot</strong> be created until the size
changes.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="openblock">
<div class="content">
<div id="VkWin32SurfaceCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_win32_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkWin32SurfaceCreateFlagsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkWin32SurfaceCreateFlagsKHR</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_xcb"><a class="anchor" href="chap34.html#platformCreateSurface_xcb"></a>34.2.4. XCB Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for an X11 window, using the XCB
client-side library, call:</p>
</div>
<div id="vkCreateXcbSurfaceKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_xcb_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateXcbSurfaceKHR</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkXcbSurfaceCreateInfoKHR</span><span class="o">*</span>            <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkXcbSurfaceCreateInfoKHR</code>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateXcbSurfaceKHR-instance-parameter" href="chap34.html#VUID-vkCreateXcbSurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkCreateXcbSurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateXcbSurfaceKHR-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateXcbSurfaceKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateXcbSurfaceKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkXcbSurfaceCreateInfoKHR">VkXcbSurfaceCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateXcbSurfaceKHR-pAllocator-parameter" href="chap34.html#VUID-vkCreateXcbSurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateXcbSurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateXcbSurfaceKHR-pSurface-parameter" href="chap34.html#VUID-vkCreateXcbSurfaceKHR-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateXcbSurfaceKHR-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkXcbSurfaceCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkXcbSurfaceCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_xcb_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkXcbSurfaceCreateInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>               <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                   <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkXcbSurfaceCreateFlagsKHR</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="n">xcb_connection_t</span><span class="o">*</span>             <span class="n">connection</span><span class="p">;</span>
    <span class="n">xcb_window_t</span>                  <span class="n">window</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkXcbSurfaceCreateInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>connection</code> is a pointer to an <code>xcb_connection_t</code> to the X
server.</p>
</li>
<li>
<p><code>window</code> is the <code>xcb_window_t</code> for the X11 window to associate
the surface with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkXcbSurfaceCreateInfoKHR-connection-01310" href="chap34.html#VUID-VkXcbSurfaceCreateInfoKHR-connection-01310"></a> <span class="vuid">VUID-VkXcbSurfaceCreateInfoKHR-connection-01310</span><br>

<code>connection</code> <strong class="purple">must</strong> point to a valid X11 <code>xcb_connection_t</code></p>
</li>
<li>
<p><a id="VUID-VkXcbSurfaceCreateInfoKHR-window-01311" href="chap34.html#VUID-VkXcbSurfaceCreateInfoKHR-window-01311"></a> <span class="vuid">VUID-VkXcbSurfaceCreateInfoKHR-window-01311</span><br>

<code>window</code> <strong class="purple">must</strong> be a valid X11 <code>xcb_window_t</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkXcbSurfaceCreateInfoKHR-sType-sType" href="chap34.html#VUID-VkXcbSurfaceCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkXcbSurfaceCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_XCB_SURFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkXcbSurfaceCreateInfoKHR-pNext-pNext" href="chap34.html#VUID-VkXcbSurfaceCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkXcbSurfaceCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkXcbSurfaceCreateInfoKHR-flags-zerobitmask" href="chap34.html#VUID-VkXcbSurfaceCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkXcbSurfaceCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>With Xcb, <code>minImageExtent</code>, <code>maxImageExtent</code>, and
<code>currentExtent</code> <strong class="purple">must</strong> always equal the window size.</p>
</div>
<div class="paragraph">
<p>The <code>currentExtent</code> of an Xcb surface <strong class="purple">must</strong> have both <code>width</code> and
<code>height</code> greater than 0, or both of them 0.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Due to above restrictions,
unless <a href="chap34.html#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a> is used to specify
handling of disparities between surface and swapchain dimensions,
it is only possible to create a new swapchain on this platform with
<code>imageExtent</code> being equal to the current size of the window, as reported
in <a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentExtent</code>.</p>
</div>
<div class="paragraph">
<p>The window size <strong class="purple">may</strong> become <span class="eq">(0, 0)</span> on this platform (e.g. when the
window is minimized), and so a swapchain <strong class="purple">cannot</strong> be created until the size
changes.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Some Vulkan functions <strong class="purple">may</strong> send protocol over the specified xcb connection
when using a swapchain or presentable images created from a
<a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> referring to an xcb window.
Applications <strong class="purple">must</strong> therefore ensure the xcb connection is available to
Vulkan for the duration of any functions that manipulate such swapchains or
their presentable images, and any functions that build or queue command
buffers that operate on such presentable images.
Specifically, applications using Vulkan with xcb-based swapchains <strong class="purple">must</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Avoid holding a server grab on an xcb connection while waiting for
Vulkan operations to complete using a swapchain derived from a different
xcb connection referring to the same X server instance.
Failing to do so <strong class="purple">may</strong> result in deadlock.</p>
</li>
</ul>
</div>
<div class="openblock">
<div class="content">
<div id="VkXcbSurfaceCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_xcb_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkXcbSurfaceCreateFlagsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkXcbSurfaceCreateFlagsKHR</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_xlib"><a class="anchor" href="chap34.html#platformCreateSurface_xlib"></a>34.2.5. Xlib Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for an X11 window, using the Xlib
client-side library, call:</p>
</div>
<div id="vkCreateXlibSurfaceKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_xlib_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateXlibSurfaceKHR</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkXlibSurfaceCreateInfoKHR</span><span class="o">*</span>           <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkXlibSurfaceCreateInfoKHR</code>
structure containing the parameters affecting the creation of the
surface object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateXlibSurfaceKHR-instance-parameter" href="chap34.html#VUID-vkCreateXlibSurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkCreateXlibSurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateXlibSurfaceKHR-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateXlibSurfaceKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateXlibSurfaceKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkXlibSurfaceCreateInfoKHR">VkXlibSurfaceCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateXlibSurfaceKHR-pAllocator-parameter" href="chap34.html#VUID-vkCreateXlibSurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateXlibSurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateXlibSurfaceKHR-pSurface-parameter" href="chap34.html#VUID-vkCreateXlibSurfaceKHR-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateXlibSurfaceKHR-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkXlibSurfaceCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkXlibSurfaceCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_xlib_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkXlibSurfaceCreateInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                    <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkXlibSurfaceCreateFlagsKHR</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="n">Display</span><span class="o">*</span>                       <span class="n">dpy</span><span class="p">;</span>
    <span class="n">Window</span>                         <span class="n">window</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkXlibSurfaceCreateInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>dpy</code> is a pointer to an Xlib <code>Display</code> connection to the X
server.</p>
</li>
<li>
<p><code>window</code> is an Xlib <code>Window</code> to associate the surface with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkXlibSurfaceCreateInfoKHR-dpy-01313" href="chap34.html#VUID-VkXlibSurfaceCreateInfoKHR-dpy-01313"></a> <span class="vuid">VUID-VkXlibSurfaceCreateInfoKHR-dpy-01313</span><br>

<code>dpy</code> <strong class="purple">must</strong> point to a valid Xlib <code>Display</code></p>
</li>
<li>
<p><a id="VUID-VkXlibSurfaceCreateInfoKHR-window-01314" href="chap34.html#VUID-VkXlibSurfaceCreateInfoKHR-window-01314"></a> <span class="vuid">VUID-VkXlibSurfaceCreateInfoKHR-window-01314</span><br>

<code>window</code> <strong class="purple">must</strong> be a valid Xlib <code>Window</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkXlibSurfaceCreateInfoKHR-sType-sType" href="chap34.html#VUID-VkXlibSurfaceCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkXlibSurfaceCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_XLIB_SURFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkXlibSurfaceCreateInfoKHR-pNext-pNext" href="chap34.html#VUID-VkXlibSurfaceCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkXlibSurfaceCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkXlibSurfaceCreateInfoKHR-flags-zerobitmask" href="chap34.html#VUID-VkXlibSurfaceCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkXlibSurfaceCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>With Xlib, <code>minImageExtent</code>, <code>maxImageExtent</code>, and
<code>currentExtent</code> <strong class="purple">must</strong> always equal the window size.</p>
</div>
<div class="paragraph">
<p>The <code>currentExtent</code> of an Xlib surface <strong class="purple">must</strong> have both <code>width</code> and
<code>height</code> greater than 0, or both of them 0.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Due to above restrictions,
unless <a href="chap34.html#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a> is used to specify
handling of disparities between surface and swapchain dimensions,
it is only possible to create a new swapchain on this platform with
<code>imageExtent</code> being equal to the current size of the window, as reported
in <a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentExtent</code>.</p>
</div>
<div class="paragraph">
<p>The window size <strong class="purple">may</strong> become <span class="eq">(0, 0)</span> on this platform (e.g. when the
window is minimized), and so a swapchain <strong class="purple">cannot</strong> be created until the size
changes.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Some Vulkan functions <strong class="purple">may</strong> send protocol over the specified Xlib
<code>Display</code> connection when using a swapchain or presentable images created
from a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> referring to an Xlib window.
Applications <strong class="purple">must</strong> therefore ensure the display connection is available to
Vulkan for the duration of any functions that manipulate such swapchains or
their presentable images, and any functions that build or queue command
buffers that operate on such presentable images.
Specifically, applications using Vulkan with Xlib-based swapchains <strong class="purple">must</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Avoid holding a server grab on a display connection while waiting for
Vulkan operations to complete using a swapchain derived from a different
display connection referring to the same X server instance.
Failing to do so <strong class="purple">may</strong> result in deadlock.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some implementations may require threads to implement some presentation
modes so applications <strong class="purple">must</strong> call <code>XInitThreads</code>() before calling any
other Xlib functions.</p>
</div>
<div class="openblock">
<div class="content">
<div id="VkXlibSurfaceCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_xlib_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkXlibSurfaceCreateFlagsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkXlibSurfaceCreateFlagsKHR</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_directfb"><a class="anchor" href="chap34.html#platformCreateSurface_directfb"></a>34.2.6. DirectFB Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a DirectFB surface, call:</p>
</div>
<div id="vkCreateDirectFBSurfaceEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_directfb_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateDirectFBSurfaceEXT</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDirectFBSurfaceCreateInfoEXT</span><span class="o">*</span>       <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkDirectFBSurfaceCreateInfoEXT</code>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDirectFBSurfaceEXT-instance-parameter" href="chap34.html#VUID-vkCreateDirectFBSurfaceEXT-instance-parameter"></a> <span class="vuid">VUID-vkCreateDirectFBSurfaceEXT-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDirectFBSurfaceEXT-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateDirectFBSurfaceEXT-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateDirectFBSurfaceEXT-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkDirectFBSurfaceCreateInfoEXT">VkDirectFBSurfaceCreateInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDirectFBSurfaceEXT-pAllocator-parameter" href="chap34.html#VUID-vkCreateDirectFBSurfaceEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateDirectFBSurfaceEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDirectFBSurfaceEXT-pSurface-parameter" href="chap34.html#VUID-vkCreateDirectFBSurfaceEXT-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateDirectFBSurfaceEXT-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDirectFBSurfaceCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkDirectFBSurfaceCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_directfb_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDirectFBSurfaceCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDirectFBSurfaceCreateFlagsEXT</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="n">IDirectFB</span><span class="o">*</span>                         <span class="n">dfb</span><span class="p">;</span>
    <span class="n">IDirectFBSurface</span><span class="o">*</span>                  <span class="n">surface</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDirectFBSurfaceCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>dfb</code> is a pointer to the <code>IDirectFB</code> main interface of DirectFB.</p>
</li>
<li>
<p><code>surface</code> is a pointer to a <code>IDirectFBSurface</code> surface interface.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDirectFBSurfaceCreateInfoEXT-dfb-04117" href="chap34.html#VUID-VkDirectFBSurfaceCreateInfoEXT-dfb-04117"></a> <span class="vuid">VUID-VkDirectFBSurfaceCreateInfoEXT-dfb-04117</span><br>

<code>dfb</code> <strong class="purple">must</strong> point to a valid DirectFB <code>IDirectFB</code></p>
</li>
<li>
<p><a id="VUID-VkDirectFBSurfaceCreateInfoEXT-surface-04118" href="chap34.html#VUID-VkDirectFBSurfaceCreateInfoEXT-surface-04118"></a> <span class="vuid">VUID-VkDirectFBSurfaceCreateInfoEXT-surface-04118</span><br>

<code>surface</code> <strong class="purple">must</strong> point to a valid DirectFB <code>IDirectFBSurface</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDirectFBSurfaceCreateInfoEXT-sType-sType" href="chap34.html#VUID-VkDirectFBSurfaceCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkDirectFBSurfaceCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DIRECTFB_SURFACE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDirectFBSurfaceCreateInfoEXT-pNext-pNext" href="chap34.html#VUID-VkDirectFBSurfaceCreateInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkDirectFBSurfaceCreateInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDirectFBSurfaceCreateInfoEXT-flags-zerobitmask" href="chap34.html#VUID-VkDirectFBSurfaceCreateInfoEXT-flags-zerobitmask"></a> <span class="vuid">VUID-VkDirectFBSurfaceCreateInfoEXT-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>With DirectFB, <code>minImageExtent</code>, <code>maxImageExtent</code>, and
<code>currentExtent</code> <strong class="purple">must</strong> always equal the surface size.</p>
</div>
<div class="openblock">
<div class="content">
<div id="VkDirectFBSurfaceCreateFlagsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_directfb_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkDirectFBSurfaceCreateFlagsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDirectFBSurfaceCreateFlagsEXT</code> is a bitmask type for setting a mask,
but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_imagepipe"><a class="anchor" href="chap34.html#platformCreateSurface_imagepipe"></a>34.2.7. Fuchsia Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a Fuchsia ImagePipe, call:</p>
</div>
<div id="vkCreateImagePipeSurfaceFUCHSIA" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_FUCHSIA_imagepipe_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateImagePipeSurfaceFUCHSIA</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkImagePipeSurfaceCreateInfoFUCHSIA</span><span class="o">*</span>  <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate with the surface.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a
<a href="chap34.html#VkImagePipeSurfaceCreateInfoFUCHSIA">VkImagePipeSurfaceCreateInfoFUCHSIA</a> structure containing
parameters affecting the creation of the surface object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateImagePipeSurfaceFUCHSIA-instance-parameter" href="chap34.html#VUID-vkCreateImagePipeSurfaceFUCHSIA-instance-parameter"></a> <span class="vuid">VUID-vkCreateImagePipeSurfaceFUCHSIA-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateImagePipeSurfaceFUCHSIA-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateImagePipeSurfaceFUCHSIA-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateImagePipeSurfaceFUCHSIA-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkImagePipeSurfaceCreateInfoFUCHSIA">VkImagePipeSurfaceCreateInfoFUCHSIA</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateImagePipeSurfaceFUCHSIA-pAllocator-parameter" href="chap34.html#VUID-vkCreateImagePipeSurfaceFUCHSIA-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateImagePipeSurfaceFUCHSIA-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateImagePipeSurfaceFUCHSIA-pSurface-parameter" href="chap34.html#VUID-vkCreateImagePipeSurfaceFUCHSIA-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateImagePipeSurfaceFUCHSIA-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImagePipeSurfaceCreateInfoFUCHSIA</code> structure is defined as:</p>
</div>
<div id="VkImagePipeSurfaceCreateInfoFUCHSIA" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_FUCHSIA_imagepipe_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkImagePipeSurfaceCreateInfoFUCHSIA</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                         <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                             <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkImagePipeSurfaceCreateFlagsFUCHSIA</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="n">zx_handle_t</span>                             <span class="n">imagePipeHandle</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkImagePipeSurfaceCreateInfoFUCHSIA</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>imagePipeHandle</code> is a <code>zx_handle_t</code> referring to the ImagePipe
to associate with the surface.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-imagePipeHandle-04863" href="chap34.html#VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-imagePipeHandle-04863"></a> <span class="vuid">VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-imagePipeHandle-04863</span><br>

<code>imagePipeHandle</code> <strong class="purple">must</strong> be a valid <code>zx_handle_t</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-sType-sType" href="chap34.html#VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-sType-sType"></a> <span class="vuid">VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_IMAGEPIPE_SURFACE_CREATE_INFO_FUCHSIA</code></p>
</li>
<li>
<p><a id="VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-pNext-pNext" href="chap34.html#VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-pNext-pNext"></a> <span class="vuid">VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-flags-zerobitmask" href="chap34.html#VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-flags-zerobitmask"></a> <span class="vuid">VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>On Fuchsia, the surface <code>currentExtent</code> is the special value
<span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span>, indicating that the surface size will be
determined by the extent of a swapchain targeting the surface.</p>
</div>
<div class="openblock">
<div class="content">
<div id="VkImagePipeSurfaceCreateFlagsFUCHSIA" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_FUCHSIA_imagepipe_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkImagePipeSurfaceCreateFlagsFUCHSIA</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkImagePipeSurfaceCreateFlagsFUCHSIA</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_streamdescriptor"><a class="anchor" href="chap34.html#platformCreateSurface_streamdescriptor"></a>34.2.8. Google Games Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a Google Games Platform stream
descriptor, call:</p>
</div>
<div id="vkCreateStreamDescriptorSurfaceGGP" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_GGP_stream_descriptor_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateStreamDescriptorSurfaceGGP</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkStreamDescriptorSurfaceCreateInfoGGP</span><span class="o">*</span> <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate with the surface.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a
<code>VkStreamDescriptorSurfaceCreateInfoGGP</code> structure containing
parameters that affect the creation of the surface object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateStreamDescriptorSurfaceGGP-instance-parameter" href="chap34.html#VUID-vkCreateStreamDescriptorSurfaceGGP-instance-parameter"></a> <span class="vuid">VUID-vkCreateStreamDescriptorSurfaceGGP-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateStreamDescriptorSurfaceGGP-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateStreamDescriptorSurfaceGGP-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateStreamDescriptorSurfaceGGP-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkStreamDescriptorSurfaceCreateInfoGGP">VkStreamDescriptorSurfaceCreateInfoGGP</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateStreamDescriptorSurfaceGGP-pAllocator-parameter" href="chap34.html#VUID-vkCreateStreamDescriptorSurfaceGGP-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateStreamDescriptorSurfaceGGP-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateStreamDescriptorSurfaceGGP-pSurface-parameter" href="chap34.html#VUID-vkCreateStreamDescriptorSurfaceGGP-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateStreamDescriptorSurfaceGGP-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkStreamDescriptorSurfaceCreateInfoGGP</code> structure is defined as:</p>
</div>
<div id="VkStreamDescriptorSurfaceCreateInfoGGP" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_GGP_stream_descriptor_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkStreamDescriptorSurfaceCreateInfoGGP</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                            <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkStreamDescriptorSurfaceCreateFlagsGGP</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="n">GgpStreamDescriptor</span>                        <span class="n">streamDescriptor</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkStreamDescriptorSurfaceCreateInfoGGP</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>streamDescriptor</code> is a <code>GgpStreamDescriptor</code> referring to the
GGP stream descriptor to associate with the surface.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkStreamDescriptorSurfaceCreateInfoGGP-streamDescriptor-02681" href="chap34.html#VUID-VkStreamDescriptorSurfaceCreateInfoGGP-streamDescriptor-02681"></a> <span class="vuid">VUID-VkStreamDescriptorSurfaceCreateInfoGGP-streamDescriptor-02681</span><br>

<code>streamDescriptor</code> <strong class="purple">must</strong> be a valid <code>GgpStreamDescriptor</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkStreamDescriptorSurfaceCreateInfoGGP-sType-sType" href="chap34.html#VUID-VkStreamDescriptorSurfaceCreateInfoGGP-sType-sType"></a> <span class="vuid">VUID-VkStreamDescriptorSurfaceCreateInfoGGP-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_STREAM_DESCRIPTOR_SURFACE_CREATE_INFO_GGP</code></p>
</li>
<li>
<p><a id="VUID-VkStreamDescriptorSurfaceCreateInfoGGP-pNext-pNext" href="chap34.html#VUID-VkStreamDescriptorSurfaceCreateInfoGGP-pNext-pNext"></a> <span class="vuid">VUID-VkStreamDescriptorSurfaceCreateInfoGGP-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkStreamDescriptorSurfaceCreateInfoGGP-flags-zerobitmask" href="chap34.html#VUID-VkStreamDescriptorSurfaceCreateInfoGGP-flags-zerobitmask"></a> <span class="vuid">VUID-VkStreamDescriptorSurfaceCreateInfoGGP-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>On Google Games Platform, the surface extents are dynamic.
The <code>minImageExtent</code> will never be greater than 1080p and the
<code>maxImageExtent</code> will never be less than 1080p.
The <code>currentExtent</code> will reflect the current optimal resolution.</p>
</div>
<div class="paragraph">
<p>Applications are expected to choose an appropriate size for the swapchain’s
<code>imageExtent</code>, within the bounds of the surface.
Using the surface’s <code>currentExtent</code> will offer the best performance and
quality.
When a swapchain’s <code>imageExtent</code> does not match the surface’s
<code>currentExtent</code>, the presentable images are scaled to the surface’s
dimensions during presentation if possible and <code>VK_SUBOPTIMAL_KHR</code> is
returned, otherwise presentation fails with <code>VK_ERROR_OUT_OF_DATE_KHR</code>.</p>
</div>
<div class="openblock">
<div class="content">
<div id="VkStreamDescriptorSurfaceCreateFlagsGGP" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_GGP_stream_descriptor_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkStreamDescriptorSurfaceCreateFlagsGGP</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkStreamDescriptorSurfaceCreateFlagsGGP</code> is a bitmask type for setting
a mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_ios"><a class="anchor" href="chap34.html#platformCreateSurface_ios"></a>34.2.9. iOS Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for an iOS <code>UIView</code> or
<a href="chap34.html#CAMetalLayer">CAMetalLayer</a>, call:</p>
</div>
<div id="vkCreateIOSSurfaceMVK" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_MVK_ios_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateIOSSurfaceMVK</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkIOSSurfaceCreateInfoMVK</span><span class="o">*</span>            <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code>vkCreateIOSSurfaceMVK</code> function is considered deprecated and has been
superseded by <a href="chap34.html#vkCreateMetalSurfaceEXT">vkCreateMetalSurfaceEXT</a> from the
<code><a href="chap54.html#VK_EXT_metal_surface">VK_EXT_metal_surface</a></code> extension.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance with which to associate the surface.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap34.html#VkIOSSurfaceCreateInfoMVK">VkIOSSurfaceCreateInfoMVK</a>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateIOSSurfaceMVK-instance-parameter" href="chap34.html#VUID-vkCreateIOSSurfaceMVK-instance-parameter"></a> <span class="vuid">VUID-vkCreateIOSSurfaceMVK-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateIOSSurfaceMVK-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateIOSSurfaceMVK-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateIOSSurfaceMVK-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkIOSSurfaceCreateInfoMVK">VkIOSSurfaceCreateInfoMVK</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateIOSSurfaceMVK-pAllocator-parameter" href="chap34.html#VUID-vkCreateIOSSurfaceMVK-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateIOSSurfaceMVK-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateIOSSurfaceMVK-pSurface-parameter" href="chap34.html#VUID-vkCreateIOSSurfaceMVK-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateIOSSurfaceMVK-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="chap34.html#VkIOSSurfaceCreateInfoMVK">VkIOSSurfaceCreateInfoMVK</a> structure is defined as:</p>
</div>
<div id="VkIOSSurfaceCreateInfoMVK" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_MVK_ios_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkIOSSurfaceCreateInfoMVK</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>               <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                   <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkIOSSurfaceCreateFlagsMVK</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                   <span class="n">pView</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkIOSSurfaceCreateInfoMVK</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>pView</code> is a reference to either a <a href="chap34.html#CAMetalLayer">CAMetalLayer</a> object or a
<code>UIView</code> object.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIOSSurfaceCreateInfoMVK-pView-04143" href="chap34.html#VUID-VkIOSSurfaceCreateInfoMVK-pView-04143"></a> <span class="vuid">VUID-VkIOSSurfaceCreateInfoMVK-pView-04143</span><br>

If <code>pView</code> is a <a href="chap34.html#CAMetalLayer">CAMetalLayer</a> object, it <strong class="purple">must</strong> be a valid
<a href="chap34.html#CAMetalLayer">CAMetalLayer</a></p>
</li>
<li>
<p><a id="VUID-VkIOSSurfaceCreateInfoMVK-pView-01316" href="chap34.html#VUID-VkIOSSurfaceCreateInfoMVK-pView-01316"></a> <span class="vuid">VUID-VkIOSSurfaceCreateInfoMVK-pView-01316</span><br>

If <code>pView</code> is a <code>UIView</code> object, it <strong class="purple">must</strong> be a valid <code>UIView</code>,
<strong class="purple">must</strong> be backed by a <code>CALayer</code> object of type <a href="chap34.html#CAMetalLayer">CAMetalLayer</a>,
and <a href="chap34.html#vkCreateIOSSurfaceMVK">vkCreateIOSSurfaceMVK</a> <strong class="purple">must</strong> be called on the main thread</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIOSSurfaceCreateInfoMVK-sType-sType" href="chap34.html#VUID-VkIOSSurfaceCreateInfoMVK-sType-sType"></a> <span class="vuid">VUID-VkIOSSurfaceCreateInfoMVK-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_IOS_SURFACE_CREATE_INFO_MVK</code></p>
</li>
<li>
<p><a id="VUID-VkIOSSurfaceCreateInfoMVK-pNext-pNext" href="chap34.html#VUID-VkIOSSurfaceCreateInfoMVK-pNext-pNext"></a> <span class="vuid">VUID-VkIOSSurfaceCreateInfoMVK-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkIOSSurfaceCreateInfoMVK-flags-zerobitmask" href="chap34.html#VUID-VkIOSSurfaceCreateInfoMVK-flags-zerobitmask"></a> <span class="vuid">VUID-VkIOSSurfaceCreateInfoMVK-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkIOSSurfaceCreateFlagsMVK" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_MVK_ios_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkIOSSurfaceCreateFlagsMVK</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkIOSSurfaceCreateFlagsMVK</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_macos"><a class="anchor" href="chap34.html#platformCreateSurface_macos"></a>34.2.10. macOS Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a macOS <code>NSView</code> or
<a href="chap34.html#CAMetalLayer">CAMetalLayer</a>, call:</p>
</div>
<div id="vkCreateMacOSSurfaceMVK" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_MVK_macos_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateMacOSSurfaceMVK</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkMacOSSurfaceCreateInfoMVK</span><span class="o">*</span>          <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code>vkCreateMacOSSurfaceMVK</code> function is considered deprecated and has been
superseded by <a href="chap34.html#vkCreateMetalSurfaceEXT">vkCreateMetalSurfaceEXT</a> from the
<code><a href="chap54.html#VK_EXT_metal_surface">VK_EXT_metal_surface</a></code> extension.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance with which to associate the surface.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap34.html#VkMacOSSurfaceCreateInfoMVK">VkMacOSSurfaceCreateInfoMVK</a>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateMacOSSurfaceMVK-instance-parameter" href="chap34.html#VUID-vkCreateMacOSSurfaceMVK-instance-parameter"></a> <span class="vuid">VUID-vkCreateMacOSSurfaceMVK-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateMacOSSurfaceMVK-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateMacOSSurfaceMVK-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateMacOSSurfaceMVK-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkMacOSSurfaceCreateInfoMVK">VkMacOSSurfaceCreateInfoMVK</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateMacOSSurfaceMVK-pAllocator-parameter" href="chap34.html#VUID-vkCreateMacOSSurfaceMVK-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateMacOSSurfaceMVK-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateMacOSSurfaceMVK-pSurface-parameter" href="chap34.html#VUID-vkCreateMacOSSurfaceMVK-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateMacOSSurfaceMVK-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="chap34.html#VkMacOSSurfaceCreateInfoMVK">VkMacOSSurfaceCreateInfoMVK</a> structure is defined as:</p>
</div>
<div id="VkMacOSSurfaceCreateInfoMVK" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_MVK_macos_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkMacOSSurfaceCreateInfoMVK</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                 <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                     <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkMacOSSurfaceCreateFlagsMVK</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                     <span class="n">pView</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkMacOSSurfaceCreateInfoMVK</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>pView</code> is a reference to either a <a href="chap34.html#CAMetalLayer">CAMetalLayer</a> object or
an <code>NSView</code> object.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMacOSSurfaceCreateInfoMVK-pView-04144" href="chap34.html#VUID-VkMacOSSurfaceCreateInfoMVK-pView-04144"></a> <span class="vuid">VUID-VkMacOSSurfaceCreateInfoMVK-pView-04144</span><br>

If <code>pView</code> is a <a href="chap34.html#CAMetalLayer">CAMetalLayer</a> object, it <strong class="purple">must</strong> be a valid
<a href="chap34.html#CAMetalLayer">CAMetalLayer</a></p>
</li>
<li>
<p><a id="VUID-VkMacOSSurfaceCreateInfoMVK-pView-01317" href="chap34.html#VUID-VkMacOSSurfaceCreateInfoMVK-pView-01317"></a> <span class="vuid">VUID-VkMacOSSurfaceCreateInfoMVK-pView-01317</span><br>

If <code>pView</code> is an <code>NSView</code> object, it <strong class="purple">must</strong> be a valid
<code>NSView</code>, <strong class="purple">must</strong> be backed by a <code>CALayer</code> object of type
<a href="chap34.html#CAMetalLayer">CAMetalLayer</a>, and <a href="chap34.html#vkCreateMacOSSurfaceMVK">vkCreateMacOSSurfaceMVK</a> <strong class="purple">must</strong> be called
on the main thread</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMacOSSurfaceCreateInfoMVK-sType-sType" href="chap34.html#VUID-VkMacOSSurfaceCreateInfoMVK-sType-sType"></a> <span class="vuid">VUID-VkMacOSSurfaceCreateInfoMVK-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_MACOS_SURFACE_CREATE_INFO_MVK</code></p>
</li>
<li>
<p><a id="VUID-VkMacOSSurfaceCreateInfoMVK-pNext-pNext" href="chap34.html#VUID-VkMacOSSurfaceCreateInfoMVK-pNext-pNext"></a> <span class="vuid">VUID-VkMacOSSurfaceCreateInfoMVK-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkMacOSSurfaceCreateInfoMVK-flags-zerobitmask" href="chap34.html#VUID-VkMacOSSurfaceCreateInfoMVK-flags-zerobitmask"></a> <span class="vuid">VUID-VkMacOSSurfaceCreateInfoMVK-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkMacOSSurfaceCreateFlagsMVK" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_MVK_macos_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkMacOSSurfaceCreateFlagsMVK</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkMacOSSurfaceCreateFlagsMVK</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_vi"><a class="anchor" href="chap34.html#platformCreateSurface_vi"></a>34.2.11. VI Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for an <code>nn</code>::<code>vi</code>::<code>Layer</code>,
query the layer’s native handle using
<code>nn</code>::<code>vi</code>::<code>GetNativeWindow</code>, and then call:</p>
</div>
<div id="vkCreateViSurfaceNN" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NN_vi_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateViSurfaceNN</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkViSurfaceCreateInfoNN</span><span class="o">*</span>              <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance with which to associate the surface.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkViSurfaceCreateInfoNN</code>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>During the lifetime of a surface created using a particular
<code>nn</code>::<code>vi</code>::<code>NativeWindowHandle</code>, applications <strong class="purple">must</strong> not attempt to
create another surface for the same <code>nn</code>::<code>vi</code>::<code>Layer</code> or attempt
to connect to the same <code>nn</code>::<code>vi</code>::<code>Layer</code> through other platform
mechanisms.</p>
</div>
<div class="paragraph">
<p>If the native window is created with a specified size, <code>currentExtent</code>
will reflect that size.
In this case, applications should use the same size for the swapchain’s
<code>imageExtent</code>.
Otherwise, the <code>currentExtent</code> will have the special value
<span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span>, indicating that applications are expected to
choose an appropriate size for the swapchain’s <code>imageExtent</code> (e.g., by
matching the result of a call to
<code>nn</code>::<code>vi</code>::<code>GetDisplayResolution</code>).</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateViSurfaceNN-instance-parameter" href="chap34.html#VUID-vkCreateViSurfaceNN-instance-parameter"></a> <span class="vuid">VUID-vkCreateViSurfaceNN-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateViSurfaceNN-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateViSurfaceNN-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateViSurfaceNN-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkViSurfaceCreateInfoNN">VkViSurfaceCreateInfoNN</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateViSurfaceNN-pAllocator-parameter" href="chap34.html#VUID-vkCreateViSurfaceNN-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateViSurfaceNN-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateViSurfaceNN-pSurface-parameter" href="chap34.html#VUID-vkCreateViSurfaceNN-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateViSurfaceNN-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkViSurfaceCreateInfoNN</code> structure is defined as:</p>
</div>
<div id="VkViSurfaceCreateInfoNN" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NN_vi_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkViSurfaceCreateInfoNN</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>             <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                 <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkViSurfaceCreateFlagsNN</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                       <span class="n">window</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkViSurfaceCreateInfoNN</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>window</code> is the <code>nn</code>::<code>vi</code>::<code>NativeWindowHandle</code> for the
<code>nn</code>::<code>vi</code>::<code>Layer</code> with which to associate the surface.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkViSurfaceCreateInfoNN-window-01318" href="chap34.html#VUID-VkViSurfaceCreateInfoNN-window-01318"></a> <span class="vuid">VUID-VkViSurfaceCreateInfoNN-window-01318</span><br>

<code>window</code> <strong class="purple">must</strong> be a valid <code>nn</code>::<code>vi</code>::<code>NativeWindowHandle</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkViSurfaceCreateInfoNN-sType-sType" href="chap34.html#VUID-VkViSurfaceCreateInfoNN-sType-sType"></a> <span class="vuid">VUID-VkViSurfaceCreateInfoNN-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_VI_SURFACE_CREATE_INFO_NN</code></p>
</li>
<li>
<p><a id="VUID-VkViSurfaceCreateInfoNN-pNext-pNext" href="chap34.html#VUID-VkViSurfaceCreateInfoNN-pNext-pNext"></a> <span class="vuid">VUID-VkViSurfaceCreateInfoNN-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkViSurfaceCreateInfoNN-flags-zerobitmask" href="chap34.html#VUID-VkViSurfaceCreateInfoNN-flags-zerobitmask"></a> <span class="vuid">VUID-VkViSurfaceCreateInfoNN-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkViSurfaceCreateFlagsNN" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NN_vi_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkViSurfaceCreateFlagsNN</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkViSurfaceCreateFlagsNN</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_metal"><a class="anchor" href="chap34.html#platformCreateSurface_metal"></a>34.2.12. Metal Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a <a href="chap34.html#CAMetalLayer">CAMetalLayer</a>, call:</p>
</div>
<div id="vkCreateMetalSurfaceEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_metal_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateMetalSurfaceEXT</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkMetalSurfaceCreateInfoEXT</span><span class="o">*</span>          <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance with which to associate the surface.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap34.html#VkMetalSurfaceCreateInfoEXT">VkMetalSurfaceCreateInfoEXT</a>
structure specifying parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <code>VkSurfaceKHR</code> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateMetalSurfaceEXT-instance-parameter" href="chap34.html#VUID-vkCreateMetalSurfaceEXT-instance-parameter"></a> <span class="vuid">VUID-vkCreateMetalSurfaceEXT-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateMetalSurfaceEXT-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateMetalSurfaceEXT-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateMetalSurfaceEXT-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkMetalSurfaceCreateInfoEXT">VkMetalSurfaceCreateInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateMetalSurfaceEXT-pAllocator-parameter" href="chap34.html#VUID-vkCreateMetalSurfaceEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateMetalSurfaceEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateMetalSurfaceEXT-pSurface-parameter" href="chap34.html#VUID-vkCreateMetalSurfaceEXT-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateMetalSurfaceEXT-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="chap34.html#VkMetalSurfaceCreateInfoEXT">VkMetalSurfaceCreateInfoEXT</a> structure is defined as:</p>
</div>
<div id="VkMetalSurfaceCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_metal_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkMetalSurfaceCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                 <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                     <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkMetalSurfaceCreateFlagsEXT</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">CAMetalLayer</span><span class="o">*</span>             <span class="n">pLayer</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkMetalSurfaceCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>pLayer</code> is a reference to a <a href="chap34.html#CAMetalLayer">CAMetalLayer</a> object
representing a renderable surface.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMetalSurfaceCreateInfoEXT-sType-sType" href="chap34.html#VUID-VkMetalSurfaceCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkMetalSurfaceCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_METAL_SURFACE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkMetalSurfaceCreateInfoEXT-pNext-pNext" href="chap34.html#VUID-VkMetalSurfaceCreateInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkMetalSurfaceCreateInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkMetalSurfaceCreateInfoEXT-flags-zerobitmask" href="chap34.html#VUID-VkMetalSurfaceCreateInfoEXT-flags-zerobitmask"></a> <span class="vuid">VUID-VkMetalSurfaceCreateInfoEXT-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To remove an unnecessary compile-time dependency, an incomplete type
definition of <a href="chap34.html#CAMetalLayer">CAMetalLayer</a> is provided in the Vulkan headers:</p>
</div>
<div id="CAMetalLayer" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_metal_surface</span>
<span class="cp">#ifdef __OBJC__
</span><span class="err">@</span><span class="k">class</span> <span class="nc">CAMetalLayer</span><span class="p">;</span>
<span class="cp">#else
</span><span class="k">typedef</span> <span class="kt">void</span> <span class="n">CAMetalLayer</span><span class="p">;</span>
<span class="cp">#endif
</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The actual <a href="chap34.html#CAMetalLayer">CAMetalLayer</a> type is defined in the QuartzCore
framework.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkMetalSurfaceCreateFlagsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_metal_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkMetalSurfaceCreateFlagsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkMetalSurfaceCreateFlagsEXT</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformCreateSurface_screen"><a class="anchor" href="chap34.html#platformCreateSurface_screen"></a>34.2.13. QNX Screen Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a QNX Screen surface, call:</p>
</div>
<div id="vkCreateScreenSurfaceQNX" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_QNX_screen_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateScreenSurfaceQNX</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkScreenSurfaceCreateInfoQNX</span><span class="o">*</span>         <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap34.html#VkScreenSurfaceCreateInfoQNX">VkScreenSurfaceCreateInfoQNX</a>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateScreenSurfaceQNX-instance-parameter" href="chap34.html#VUID-vkCreateScreenSurfaceQNX-instance-parameter"></a> <span class="vuid">VUID-vkCreateScreenSurfaceQNX-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateScreenSurfaceQNX-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateScreenSurfaceQNX-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateScreenSurfaceQNX-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkScreenSurfaceCreateInfoQNX">VkScreenSurfaceCreateInfoQNX</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateScreenSurfaceQNX-pAllocator-parameter" href="chap34.html#VUID-vkCreateScreenSurfaceQNX-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateScreenSurfaceQNX-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateScreenSurfaceQNX-pSurface-parameter" href="chap34.html#VUID-vkCreateScreenSurfaceQNX-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateScreenSurfaceQNX-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkScreenSurfaceCreateInfoQNX</code> structure is defined as:</p>
</div>
<div id="VkScreenSurfaceCreateInfoQNX" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_QNX_screen_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkScreenSurfaceCreateInfoQNX</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                  <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                      <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkScreenSurfaceCreateFlagsQNX</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="k">struct</span> <span class="nc">_screen_context</span><span class="o">*</span>          <span class="n">context</span><span class="p">;</span>
    <span class="k">struct</span> <span class="nc">_screen_window</span><span class="o">*</span>           <span class="n">window</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkScreenSurfaceCreateInfoQNX</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>context</code> and <code>window</code> are QNX Screen <code>context</code> and
<code>window</code> to associate the surface with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkScreenSurfaceCreateInfoQNX-context-04741" href="chap34.html#VUID-VkScreenSurfaceCreateInfoQNX-context-04741"></a> <span class="vuid">VUID-VkScreenSurfaceCreateInfoQNX-context-04741</span><br>

<code>context</code> <strong class="purple">must</strong> point to a valid QNX Screen <code>struct</code>
_screen_context</p>
</li>
<li>
<p><a id="VUID-VkScreenSurfaceCreateInfoQNX-window-04742" href="chap34.html#VUID-VkScreenSurfaceCreateInfoQNX-window-04742"></a> <span class="vuid">VUID-VkScreenSurfaceCreateInfoQNX-window-04742</span><br>

<code>window</code> <strong class="purple">must</strong> point to a valid QNX Screen <code>struct</code>
_screen_window</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkScreenSurfaceCreateInfoQNX-sType-sType" href="chap34.html#VUID-VkScreenSurfaceCreateInfoQNX-sType-sType"></a> <span class="vuid">VUID-VkScreenSurfaceCreateInfoQNX-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SCREEN_SURFACE_CREATE_INFO_QNX</code></p>
</li>
<li>
<p><a id="VUID-VkScreenSurfaceCreateInfoQNX-pNext-pNext" href="chap34.html#VUID-VkScreenSurfaceCreateInfoQNX-pNext-pNext"></a> <span class="vuid">VUID-VkScreenSurfaceCreateInfoQNX-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkScreenSurfaceCreateInfoQNX-flags-zerobitmask" href="chap34.html#VUID-VkScreenSurfaceCreateInfoQNX-flags-zerobitmask"></a> <span class="vuid">VUID-VkScreenSurfaceCreateInfoQNX-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkScreenSurfaceCreateFlagsQNX" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_QNX_screen_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkScreenSurfaceCreateFlagsQNX</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkScreenSurfaceCreateFlagsQNX</code> is a bitmask type for setting a mask,
but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_platform_independent_information"><a class="anchor" href="chap34.html#_platform_independent_information"></a>34.2.14. Platform-Independent Information</h4>
<div class="paragraph">
<p>Once created, <code>VkSurfaceKHR</code> objects <strong class="purple">can</strong> be used in this and other
extensions, in particular the <code><a href="chap54.html#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension.</p>
</div>
<div class="paragraph">
<p>Several WSI functions return <code>VK_ERROR_SURFACE_LOST_KHR</code> if the surface
becomes no longer available.
After such an error, the surface (and any child swapchain, if one exists)
<strong class="purple">should</strong> be destroyed, as there is no way to restore them to a not-lost
state.
Applications <strong class="purple">may</strong> attempt to create a new <code>VkSurfaceKHR</code> using the same
native platform window object, but whether such re-creation will succeed is
platform-dependent and <strong class="purple">may</strong> depend on the reason the surface became
unavailable.
A lost surface does not otherwise cause devices to be
<a href="chap5.html#devsandqueues-lost-device">lost</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a <code>VkSurfaceKHR</code> object, call:</p>
</div>
<div id="vkDestroySurfaceKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface</span>
<span class="kt">void</span> <span class="nf">vkDestroySurfaceKHR</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span>                                <span class="n">surface</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance used to create the surface.</p>
</li>
<li>
<p><code>surface</code> is the surface to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Destroying a <code>VkSurfaceKHR</code> merely severs the connection between Vulkan
and the native surface, and does not imply destroying the native surface,
closing a window, or similar behavior.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-surface-01266" href="chap34.html#VUID-vkDestroySurfaceKHR-surface-01266"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-surface-01266</span><br>

All <code>VkSwapchainKHR</code> objects created for <code>surface</code> <strong class="purple">must</strong> have
been destroyed prior to destroying <code>surface</code></p>
</li>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-surface-01267" href="chap34.html#VUID-vkDestroySurfaceKHR-surface-01267"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-surface-01267</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>surface</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-surface-01268" href="chap34.html#VUID-vkDestroySurfaceKHR-surface-01268"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-surface-01268</span><br>

If no <code>VkAllocationCallbacks</code> were provided when <code>surface</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-instance-parameter" href="chap34.html#VUID-vkDestroySurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-surface-parameter" href="chap34.html#VUID-vkDestroySurfaceKHR-surface-parameter"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-surface-parameter</span><br>
 If <code>surface</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-pAllocator-parameter" href="chap34.html#VUID-vkDestroySurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-surface-parent" href="chap34.html#VUID-vkDestroySurfaceKHR-surface-parent"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-surface-parent</span><br>
 If <code>surface</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>instance</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>surface</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="display"><a class="anchor" href="chap34.html#display"></a>34.3. Presenting Directly to Display Devices</h3>
<div class="paragraph">
<p>In some environments applications <strong class="purple">can</strong> also present Vulkan rendering
directly to display devices without using an intermediate windowing system.
This <strong class="purple">can</strong> be useful for embedded applications, or implementing the
rendering/presentation backend of a windowing system using Vulkan.
The <code><a href="chap54.html#VK_KHR_display">VK_KHR_display</a></code> extension provides the functionality necessary
to enumerate display devices and create <code>VkSurfaceKHR</code> objects that
target displays.</p>
</div>
<div class="sect3">
<h4 id="_display_enumeration"><a class="anchor" href="chap34.html#_display_enumeration"></a>34.3.1. Display Enumeration</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Displays are represented by <code>VkDisplayKHR</code> handles:</p>
</div>
<div id="VkDisplayKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkDisplayKHR</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Various functions are provided for enumerating the available display devices
present on a Vulkan physical device.
To query information about the available displays, call:</p>
</div>
<div id="vkGetPhysicalDeviceDisplayPropertiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceDisplayPropertiesKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pPropertyCount</span><span class="p">,</span>
    <span class="n">VkDisplayPropertiesKHR</span><span class="o">*</span>                     <span class="n">pProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is a physical device.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
display devices available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<code>VkDisplayPropertiesKHR</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pProperties</code> is <code>NULL</code>, then the number of display devices available
for <code>physicalDevice</code> is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <strong class="purple">must</strong> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If the value of <code>pPropertyCount</code> is less than the number of display
devices for <code>physicalDevice</code>, at most <code>pPropertyCount</code> structures
will be written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available properties were
returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-pPropertyCount-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-pProperties-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="chap34.html#VkDisplayPropertiesKHR">VkDisplayPropertiesKHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPropertiesKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPropertiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayPropertiesKHR</span> <span class="p">{</span>
    <span class="n">VkDisplayKHR</span>                  <span class="n">display</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span>                   <span class="n">displayName</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                    <span class="n">physicalDimensions</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                    <span class="n">physicalResolution</span><span class="p">;</span>
    <span class="n">VkSurfaceTransformFlagsKHR</span>    <span class="n">supportedTransforms</span><span class="p">;</span>
    <span class="n">VkBool32</span>                      <span class="n">planeReorderPossible</span><span class="p">;</span>
    <span class="n">VkBool32</span>                      <span class="n">persistentContent</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayPropertiesKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>display</code> is a handle that is used to refer to the display described
here.
This handle will be valid for the lifetime of the Vulkan instance.</p>
</li>
<li>
<p><code>displayName</code> is <code>NULL</code> or a pointer to a null-terminated UTF-8
string containing the name of the display.
Generally, this will be the name provided by the display’s EDID.
If <code>NULL</code>, no suitable name is available.
If not <code>NULL</code>, the string pointed to <strong class="purple">must</strong> remain accessible and
unmodified as long as <code>display</code> is valid.</p>
</li>
<li>
<p><code>physicalDimensions</code> describes the physical width and height of the
visible portion of the display, in millimeters.</p>
</li>
<li>
<p><code>physicalResolution</code> describes the physical, native, or preferred
resolution of the display.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For devices which have no natural value to return here, implementations
<strong class="purple">should</strong> return the maximum resolution supported.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>supportedTransforms</code> is a bitmask of
<a href="chap34.html#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> describing which transforms are
supported by this display.</p>
</li>
<li>
<p><code>planeReorderPossible</code> tells whether the planes on this display <strong class="purple">can</strong>
have their z order changed.
If this is <code>VK_TRUE</code>, the application <strong class="purple">can</strong> re-arrange the planes on
this display in any order relative to each other.</p>
</li>
<li>
<p><code>persistentContent</code> tells whether the display supports
self-refresh/internal buffering.
If this is true, the application <strong class="purple">can</strong> submit persistent present
operations on swapchains created against this display.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Persistent presents <strong class="purple">may</strong> have higher latency, and <strong class="purple">may</strong> use less power when
the screen content is updated infrequently, or when only a portion of the
screen needs to be updated in most frames.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query information about the available displays, call:</p>
</div>
<div id="vkGetPhysicalDeviceDisplayProperties2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_display_properties2</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceDisplayProperties2KHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pPropertyCount</span><span class="p">,</span>
    <span class="n">VkDisplayProperties2KHR</span><span class="o">*</span>                    <span class="n">pProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is a physical device.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
display devices available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<code>VkDisplayProperties2KHR</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceDisplayProperties2KHR</code> behaves similarly to
<a href="chap34.html#vkGetPhysicalDeviceDisplayPropertiesKHR">vkGetPhysicalDeviceDisplayPropertiesKHR</a>, with the ability to return
extended information via chained output structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayProperties2KHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDisplayProperties2KHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayProperties2KHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayProperties2KHR-pPropertyCount-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDisplayProperties2KHR-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayProperties2KHR-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayProperties2KHR-pProperties-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDisplayProperties2KHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayProperties2KHR-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="chap34.html#VkDisplayProperties2KHR">VkDisplayProperties2KHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayProperties2KHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayProperties2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_display_properties2</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayProperties2KHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>           <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                     <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDisplayPropertiesKHR</span>    <span class="n">displayProperties</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayProperties2KHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>displayProperties</code> is a <a href="chap34.html#VkDisplayPropertiesKHR">VkDisplayPropertiesKHR</a> structure.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayProperties2KHR-sType-sType" href="chap34.html#VUID-VkDisplayProperties2KHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayProperties2KHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayProperties2KHR-pNext-pNext" href="chap34.html#VUID-VkDisplayProperties2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayProperties2KHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_acquiring_and_releasing_displays"><a class="anchor" href="chap34.html#_acquiring_and_releasing_displays"></a>Acquiring and Releasing Displays</h5>
<div class="paragraph">
<p>On some platforms, access to displays is limited to a single process or
native driver instance.
On such platforms, some or all of the displays may not be available to
Vulkan if they are already in use by a native windowing system or other
application.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To acquire permission to directly access a display in Vulkan from an X11
server, call:</p>
</div>
<div id="vkAcquireXlibDisplayEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_acquire_xlib_display</span>
<span class="n">VkResult</span> <span class="nf">vkAcquireXlibDisplayEXT</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">Display</span><span class="o">*</span>                                    <span class="n">dpy</span><span class="p">,</span>
    <span class="n">VkDisplayKHR</span>                                <span class="n">display</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device the display is on.</p>
</li>
<li>
<p><code>dpy</code> A connection to the X11 server that currently owns
<code>display</code>.</p>
</li>
<li>
<p><code>display</code> The display the caller wishes to control in Vulkan.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All permissions necessary to control the display are granted to the Vulkan
instance associated with <code>physicalDevice</code> until the display is released
or the X11 connection specified by <code>dpy</code> is terminated.
Permission to access the display <strong class="purple">may</strong> be temporarily revoked during periods
when the X11 server from which control was acquired itself loses access to
<code>display</code>.
During such periods, operations which require access to the display <strong class="purple">must</strong>
fail with an appropriate error code.
If the X11 server associated with <code>dpy</code> does not own <code>display</code>, or
if permission to access it has already been acquired by another entity, the
call <strong class="purple">must</strong> return the error code <code>VK_ERROR_INITIALIZATION_FAILED</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>One example of when an X11 server loses access to a display is when it loses
ownership of its virtual terminal.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireXlibDisplayEXT-physicalDevice-parameter" href="chap34.html#VUID-vkAcquireXlibDisplayEXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkAcquireXlibDisplayEXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireXlibDisplayEXT-dpy-parameter" href="chap34.html#VUID-vkAcquireXlibDisplayEXT-dpy-parameter"></a> <span class="vuid">VUID-vkAcquireXlibDisplayEXT-dpy-parameter</span><br>
 <code>dpy</code> <strong class="purple">must</strong> be a valid pointer to a <code>Display</code> value</p>
</li>
<li>
<p><a id="VUID-vkAcquireXlibDisplayEXT-display-parameter" href="chap34.html#VUID-vkAcquireXlibDisplayEXT-display-parameter"></a> <span class="vuid">VUID-vkAcquireXlibDisplayEXT-display-parameter</span><br>
 <code>display</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireXlibDisplayEXT-display-parent" href="chap34.html#VUID-vkAcquireXlibDisplayEXT-display-parent"></a> <span class="vuid">VUID-vkAcquireXlibDisplayEXT-display-parent</span><br>
 <code>display</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When acquiring displays from an X11 server, an application may also wish to
enumerate and identify them using a native handle rather than a
<code>VkDisplayKHR</code> handle.
To determine the <code>VkDisplayKHR</code> handle corresponding to an X11 RandR
Output, call:</p>
</div>
<div id="vkGetRandROutputDisplayEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_acquire_xlib_display</span>
<span class="n">VkResult</span> <span class="nf">vkGetRandROutputDisplayEXT</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">Display</span><span class="o">*</span>                                    <span class="n">dpy</span><span class="p">,</span>
    <span class="n">RROutput</span>                                    <span class="n">rrOutput</span><span class="p">,</span>
    <span class="n">VkDisplayKHR</span><span class="o">*</span>                               <span class="n">pDisplay</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device to query the display handle on.</p>
</li>
<li>
<p><code>dpy</code> A connection to the X11 server from which <code>rrOutput</code> was
queried.</p>
</li>
<li>
<p><code>rrOutput</code> An X11 RandR output ID.</p>
</li>
<li>
<p><code>pDisplay</code> The corresponding <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle will be
returned here.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If there is no <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> corresponding to <code>rrOutput</code> on
<code>physicalDevice</code>, <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> <strong class="purple">must</strong> be returned in
<code>pDisplay</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetRandROutputDisplayEXT-physicalDevice-parameter" href="chap34.html#VUID-vkGetRandROutputDisplayEXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetRandROutputDisplayEXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRandROutputDisplayEXT-dpy-parameter" href="chap34.html#VUID-vkGetRandROutputDisplayEXT-dpy-parameter"></a> <span class="vuid">VUID-vkGetRandROutputDisplayEXT-dpy-parameter</span><br>
 <code>dpy</code> <strong class="purple">must</strong> be a valid pointer to a <code>Display</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetRandROutputDisplayEXT-pDisplay-parameter" href="chap34.html#VUID-vkGetRandROutputDisplayEXT-pDisplay-parameter"></a> <span class="vuid">VUID-vkGetRandROutputDisplayEXT-pDisplay-parameter</span><br>
 <code>pDisplay</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To acquire permission to directly access a display in Vulkan on Windows 10,
call:</p>
</div>
<div id="vkAcquireWinrtDisplayNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_acquire_winrt_display</span>
<span class="n">VkResult</span> <span class="nf">vkAcquireWinrtDisplayNV</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">VkDisplayKHR</span>                                <span class="n">display</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device the display is on.</p>
</li>
<li>
<p><code>display</code> The display the caller wishes to control in Vulkan.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All permissions necessary to control the display are granted to the Vulkan
instance associated with <code>physicalDevice</code> until the display is released
or the application is terminated.
Permission to access the display <strong class="purple">may</strong> be revoked by events that cause
Windows 10 itself to lose access to <code>display</code>.
If this has happened, operations which require access to the display <strong class="purple">must</strong>
fail with an appropriate error code.
If permission to access <code>display</code> has already been acquired by another
entity, the call <strong class="purple">must</strong> return the error code
<code>VK_ERROR_INITIALIZATION_FAILED</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The Vulkan instance acquires control of a
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displaytarget">“winrt::Windows::Devices::Display::Core::DisplayTarget”</a>
by performing an operation equivalent to
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displaymanager.tryacquiretarget">“winrt::Windows::Devices::Display::Core::DisplayManager.TryAcquireTarget()”</a>
on the “DisplayTarget”.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>One example of when Windows 10 loses access to a display is when the display
is hot-unplugged.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>One example of when a display has already been acquired by another entity is
when the Windows desktop compositor (DWM) is in control of the display.
Beginning with Windows 10 version 2004 it is possible to cause DWM to
release a display by using the “Advanced display settings” sub-page of the
“Display settings” control panel.
<a href="chap34.html#vkAcquireWinrtDisplayNV">vkAcquireWinrtDisplayNV</a> does not itself cause DWM to release a
display; this action must be performed outside of Vulkan.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireWinrtDisplayNV-physicalDevice-parameter" href="chap34.html#VUID-vkAcquireWinrtDisplayNV-physicalDevice-parameter"></a> <span class="vuid">VUID-vkAcquireWinrtDisplayNV-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireWinrtDisplayNV-display-parameter" href="chap34.html#VUID-vkAcquireWinrtDisplayNV-display-parameter"></a> <span class="vuid">VUID-vkAcquireWinrtDisplayNV-display-parameter</span><br>
 <code>display</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireWinrtDisplayNV-display-parent" href="chap34.html#VUID-vkAcquireWinrtDisplayNV-display-parent"></a> <span class="vuid">VUID-vkAcquireWinrtDisplayNV-display-parent</span><br>
 <code>display</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When acquiring displays on Windows 10, an application may also wish to
enumerate and identify them using a native handle rather than a
<code>VkDisplayKHR</code> handle.</p>
</div>
<div class="paragraph">
<p>To determine the <code>VkDisplayKHR</code> handle corresponding to a
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displaytarget">“winrt::Windows::Devices::Display::Core::DisplayTarget”</a>,
call:</p>
</div>
<div id="vkGetWinrtDisplayNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_acquire_winrt_display</span>
<span class="n">VkResult</span> <span class="nf">vkGetWinrtDisplayNV</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">deviceRelativeId</span><span class="p">,</span>
    <span class="n">VkDisplayKHR</span><span class="o">*</span>                               <span class="n">pDisplay</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device on which to query the display
handle.</p>
</li>
<li>
<p><code>deviceRelativeId</code> The value of the
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displaytarget.adapterrelativeid">“AdapterRelativeId”</a>
property of a
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displaytarget">“DisplayTarget”</a>
that is enumerated by a
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displayadapter">“DisplayAdapter”</a>
with an
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displayadapter.id">“Id”</a>
property matching the <code>deviceLUID</code> property of a
<a href="chap5.html#VkPhysicalDeviceIDProperties">VkPhysicalDeviceIDProperties</a> for <code>physicalDevice</code>.</p>
</li>
<li>
<p><code>pDisplay</code> The corresponding <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle will be
returned here.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If there is no <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> corresponding to <code>deviceRelativeId</code> on
<code>physicalDevice</code>, <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> <strong class="purple">must</strong> be returned in
<code>pDisplay</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetWinrtDisplayNV-physicalDevice-parameter" href="chap34.html#VUID-vkGetWinrtDisplayNV-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetWinrtDisplayNV-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetWinrtDisplayNV-pDisplay-parameter" href="chap34.html#VUID-vkGetWinrtDisplayNV-pDisplay-parameter"></a> <span class="vuid">VUID-vkGetWinrtDisplayNV-pDisplay-parameter</span><br>
 <code>pDisplay</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To acquire permission to directly a display in Vulkan from the Direct
Rendering Manager (DRM) interface, call:</p>
</div>
<div id="vkAcquireDrmDisplayEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_acquire_drm_display</span>
<span class="n">VkResult</span> <span class="nf">vkAcquireDrmDisplayEXT</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">int32_t</span>                                     <span class="n">drmFd</span><span class="p">,</span>
    <span class="n">VkDisplayKHR</span>                                <span class="n">display</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device the display is on.</p>
</li>
<li>
<p><code>drmFd</code> DRM primary file descriptor.</p>
</li>
<li>
<p><code>display</code> The display the caller wishes Vulkan to control.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All permissions necessary to control the display are granted to the Vulkan
instance associated with the provided <code>physicalDevice</code> until the display
is either released or the connector is unplugged.
The provided <code>drmFd</code> must correspond to the one owned by the
<code>physicalDevice</code>.
If not, the error code <code>VK_ERROR_UNKNOWN</code> must be returned.
The DRM FD must have DRM master permissions.
If any error is encountered during the acquisition of the display, the call
must return the error code <code>VK_ERROR_INITIALIZATION_FAILED</code>.</p>
</div>
<div class="paragraph">
<p>The provided DRM fd should not be closed before the display is released,
attempting to do it may result in undefined behaviour.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireDrmDisplayEXT-physicalDevice-parameter" href="chap34.html#VUID-vkAcquireDrmDisplayEXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkAcquireDrmDisplayEXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireDrmDisplayEXT-display-parameter" href="chap34.html#VUID-vkAcquireDrmDisplayEXT-display-parameter"></a> <span class="vuid">VUID-vkAcquireDrmDisplayEXT-display-parameter</span><br>
 <code>display</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireDrmDisplayEXT-display-parent" href="chap34.html#VUID-vkAcquireDrmDisplayEXT-display-parent"></a> <span class="vuid">VUID-vkAcquireDrmDisplayEXT-display-parent</span><br>
 <code>display</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Before acquiring a display from the DRM interface, the caller may want to
select a specific <code>VkDisplayKHR</code> handle by identifying it using a
<code>connectorId</code>.
To do so, call:</p>
</div>
<div id="vkGetDrmDisplayEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_acquire_drm_display</span>
<span class="n">VkResult</span> <span class="nf">vkGetDrmDisplayEXT</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">int32_t</span>                                     <span class="n">drmFd</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">connectorId</span><span class="p">,</span>
    <span class="n">VkDisplayKHR</span><span class="o">*</span>                               <span class="n">display</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device to query the display from.</p>
</li>
<li>
<p><code>drmFd</code> DRM primary file descriptor.</p>
</li>
<li>
<p><code>connectorId</code> Identifier of the specified DRM connector.</p>
</li>
<li>
<p><code>display</code> The corresponding <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle will be
returned here.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If there is no <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> corresponding to the <code>connectorId</code> on
the <code>physicalDevice</code>, the returning <code>display</code> must be set to
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>.
The provided <code>drmFd</code> must correspond to the one owned by the
<code>physicalDevice</code>.
If not, the error code <code>VK_ERROR_UNKNOWN</code> must be returned.
Master permissions are not required, because the file descriptor is just
used for information gathering purposes.
The given <code>connectorId</code> must be a resource owned by the provided
<code>drmFd</code>.
If not, the error code <code>VK_ERROR_UNKNOWN</code> must be returned.
If any error is encountered during the identification of the display, the
call must return the error code <code>VK_ERROR_INITIALIZATION_FAILED</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDrmDisplayEXT-physicalDevice-parameter" href="chap34.html#VUID-vkGetDrmDisplayEXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetDrmDisplayEXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDrmDisplayEXT-display-parameter" href="chap34.html#VUID-vkGetDrmDisplayEXT-display-parameter"></a> <span class="vuid">VUID-vkGetDrmDisplayEXT-display-parameter</span><br>
 <code>display</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To release a previously acquired display, call:</p>
</div>
<div id="vkReleaseDisplayEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_direct_mode_display</span>
<span class="n">VkResult</span> <span class="nf">vkReleaseDisplayEXT</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">VkDisplayKHR</span>                                <span class="n">display</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device the display is on.</p>
</li>
<li>
<p><code>display</code> The display to release control of.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkReleaseDisplayEXT-physicalDevice-parameter" href="chap34.html#VUID-vkReleaseDisplayEXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkReleaseDisplayEXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkReleaseDisplayEXT-display-parameter" href="chap34.html#VUID-vkReleaseDisplayEXT-display-parameter"></a> <span class="vuid">VUID-vkReleaseDisplayEXT-display-parameter</span><br>
 <code>display</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkReleaseDisplayEXT-display-parent" href="chap34.html#VUID-vkReleaseDisplayEXT-display-parent"></a> <span class="vuid">VUID-vkReleaseDisplayEXT-display-parent</span><br>
 <code>display</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_display_planes"><a class="anchor" href="chap34.html#_display_planes"></a>Display Planes</h5>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Images are presented to individual planes on a display.
Devices <strong class="purple">must</strong> support at least one plane on each display.
Planes <strong class="purple">can</strong> be stacked and blended to composite multiple images on one
display.
Devices <strong class="purple">may</strong> support only a fixed stacking order and fixed mapping between
planes and displays, or they <strong class="purple">may</strong> allow arbitrary application specified
stacking orders and mappings between planes and displays.
To query the properties of device display planes, call:</p>
</div>
<div id="vkGetPhysicalDeviceDisplayPlanePropertiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pPropertyCount</span><span class="p">,</span>
    <span class="n">VkDisplayPlanePropertiesKHR</span><span class="o">*</span>                <span class="n">pProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is a physical device.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
display planes available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<code>VkDisplayPlanePropertiesKHR</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pProperties</code> is <code>NULL</code>, then the number of display planes available
for <code>physicalDevice</code> is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <strong class="purple">must</strong> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If the value of <code>pPropertyCount</code> is less than the number of display
planes for <code>physicalDevice</code>, at most <code>pPropertyCount</code> structures
will be written.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-pPropertyCount-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-pProperties-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="chap34.html#VkDisplayPlanePropertiesKHR">VkDisplayPlanePropertiesKHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPlanePropertiesKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPlanePropertiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayPlanePropertiesKHR</span> <span class="p">{</span>
    <span class="n">VkDisplayKHR</span>    <span class="n">currentDisplay</span><span class="p">;</span>
    <span class="kt">uint32_t</span>        <span class="n">currentStackIndex</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayPlanePropertiesKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>currentDisplay</code> is the handle of the display the plane is currently
associated with.
If the plane is not currently attached to any displays, this will be
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>.</p>
</li>
<li>
<p><code>currentStackIndex</code> is the current z-order of the plane.
This will be between 0 and the value returned by
<code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code> in
<code>pPropertyCount</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the properties of a device’s display planes, call:</p>
</div>
<div id="vkGetPhysicalDeviceDisplayPlaneProperties2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_display_properties2</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceDisplayPlaneProperties2KHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pPropertyCount</span><span class="p">,</span>
    <span class="n">VkDisplayPlaneProperties2KHR</span><span class="o">*</span>               <span class="n">pProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is a physical device.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
display planes available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<code>VkDisplayPlaneProperties2KHR</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceDisplayPlaneProperties2KHR</code> behaves similarly to
<a href="chap34.html#vkGetPhysicalDeviceDisplayPlanePropertiesKHR">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</a>, with the ability to
return extended information via chained output structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-pPropertyCount-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-pProperties-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="chap34.html#VkDisplayPlaneProperties2KHR">VkDisplayPlaneProperties2KHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPlaneProperties2KHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPlaneProperties2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_display_properties2</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayPlaneProperties2KHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                          <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDisplayPlanePropertiesKHR</span>    <span class="n">displayPlaneProperties</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayPlaneProperties2KHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>displayPlaneProperties</code> is a <a href="chap34.html#VkDisplayPlanePropertiesKHR">VkDisplayPlanePropertiesKHR</a>
structure.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayPlaneProperties2KHR-sType-sType" href="chap34.html#VUID-VkDisplayPlaneProperties2KHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayPlaneProperties2KHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayPlaneProperties2KHR-pNext-pNext" href="chap34.html#VUID-VkDisplayPlaneProperties2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayPlaneProperties2KHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine which displays a plane is usable with, call</p>
</div>
<div id="vkGetDisplayPlaneSupportedDisplaysKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="n">VkResult</span> <span class="nf">vkGetDisplayPlaneSupportedDisplaysKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">planeIndex</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pDisplayCount</span><span class="p">,</span>
    <span class="n">VkDisplayKHR</span><span class="o">*</span>                               <span class="n">pDisplays</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is a physical device.</p>
</li>
<li>
<p><code>planeIndex</code> is the plane which the application wishes to use, and
<strong class="purple">must</strong> be in the range <span class="eq">[0, physical device plane count - 1]</span>.</p>
</li>
<li>
<p><code>pDisplayCount</code> is a pointer to an integer related to the number of
displays available or queried, as described below.</p>
</li>
<li>
<p><code>pDisplays</code> is either <code>NULL</code> or a pointer to an array of
<code>VkDisplayKHR</code> handles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pDisplays</code> is <code>NULL</code>, then the number of displays usable with the
specified <code>planeIndex</code> for <code>physicalDevice</code> is returned in
<code>pDisplayCount</code>.
Otherwise, <code>pDisplayCount</code> <strong class="purple">must</strong> point to a variable set by the user to
the number of elements in the <code>pDisplays</code> array, and on return the
variable is overwritten with the number of handles actually written to
<code>pDisplays</code>.
If the value of <code>pDisplayCount</code> is less than the number of usable
display-plane pairs for <code>physicalDevice</code>, at most <code>pDisplayCount</code>
handles will be written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available pairs were
returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDisplayPlaneSupportedDisplaysKHR-planeIndex-01249" href="chap34.html#VUID-vkGetDisplayPlaneSupportedDisplaysKHR-planeIndex-01249"></a> <span class="vuid">VUID-vkGetDisplayPlaneSupportedDisplaysKHR-planeIndex-01249</span><br>

<code>planeIndex</code> <strong class="purple">must</strong> be less than the number of display planes
supported by the device as determined by calling
<code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDisplayPlaneSupportedDisplaysKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetDisplayPlaneSupportedDisplaysKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneSupportedDisplaysKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayPlaneSupportedDisplaysKHR-pDisplayCount-parameter" href="chap34.html#VUID-vkGetDisplayPlaneSupportedDisplaysKHR-pDisplayCount-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneSupportedDisplaysKHR-pDisplayCount-parameter</span><br>
 <code>pDisplayCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayPlaneSupportedDisplaysKHR-pDisplays-parameter" href="chap34.html#VUID-vkGetDisplayPlaneSupportedDisplaysKHR-pDisplays-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneSupportedDisplaysKHR-pDisplays-parameter</span><br>
 If the value referenced by <code>pDisplayCount</code> is not <code>0</code>, and <code>pDisplays</code> is not <code>NULL</code>, <code>pDisplays</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pDisplayCount</code> <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handles</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Additional properties of displays are queried using specialized query
functions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_display_modes"><a class="anchor" href="chap34.html#_display_modes"></a>Display Modes</h5>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Display modes are represented by <code>VkDisplayModeKHR</code> handles:</p>
</div>
<div id="VkDisplayModeKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkDisplayModeKHR</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Each display has one or more supported modes associated with it by default.
These built-in modes are queried by calling:</p>
</div>
<div id="vkGetDisplayModePropertiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="n">VkResult</span> <span class="nf">vkGetDisplayModePropertiesKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">VkDisplayKHR</span>                                <span class="n">display</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pPropertyCount</span><span class="p">,</span>
    <span class="n">VkDisplayModePropertiesKHR</span><span class="o">*</span>                 <span class="n">pProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device associated with
<code>display</code>.</p>
</li>
<li>
<p><code>display</code> is the display to query.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
display modes available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<code>VkDisplayModePropertiesKHR</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pProperties</code> is <code>NULL</code>, then the number of display modes available
on the specified <code>display</code> for <code>physicalDevice</code> is returned in
<code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <strong class="purple">must</strong> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If the value of <code>pPropertyCount</code> is less than the number of display
modes for <code>physicalDevice</code>, at most <code>pPropertyCount</code> structures will
be written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available display modes were
returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDisplayModePropertiesKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetDisplayModePropertiesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetDisplayModePropertiesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModePropertiesKHR-display-parameter" href="chap34.html#VUID-vkGetDisplayModePropertiesKHR-display-parameter"></a> <span class="vuid">VUID-vkGetDisplayModePropertiesKHR-display-parameter</span><br>
 <code>display</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModePropertiesKHR-pPropertyCount-parameter" href="chap34.html#VUID-vkGetDisplayModePropertiesKHR-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetDisplayModePropertiesKHR-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModePropertiesKHR-pProperties-parameter" href="chap34.html#VUID-vkGetDisplayModePropertiesKHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetDisplayModePropertiesKHR-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="chap34.html#VkDisplayModePropertiesKHR">VkDisplayModePropertiesKHR</a> structures</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModePropertiesKHR-display-parent" href="chap34.html#VUID-vkGetDisplayModePropertiesKHR-display-parent"></a> <span class="vuid">VUID-vkGetDisplayModePropertiesKHR-display-parent</span><br>
 <code>display</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayModePropertiesKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayModePropertiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayModePropertiesKHR</span> <span class="p">{</span>
    <span class="n">VkDisplayModeKHR</span>              <span class="n">displayMode</span><span class="p">;</span>
    <span class="n">VkDisplayModeParametersKHR</span>    <span class="n">parameters</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayModePropertiesKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>displayMode</code> is a handle to the display mode described in this
structure.
This handle will be valid for the lifetime of the Vulkan instance.</p>
</li>
<li>
<p><code>parameters</code> is a <a href="chap34.html#VkDisplayModeParametersKHR">VkDisplayModeParametersKHR</a> structure
describing the display parameters associated with <code>displayMode</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDisplayModeCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkDisplayModeCreateFlagsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDisplayModeCreateFlagsKHR</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the properties of a device’s built-in display modes, call:</p>
</div>
<div id="vkGetDisplayModeProperties2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_display_properties2</span>
<span class="n">VkResult</span> <span class="nf">vkGetDisplayModeProperties2KHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">VkDisplayKHR</span>                                <span class="n">display</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pPropertyCount</span><span class="p">,</span>
    <span class="n">VkDisplayModeProperties2KHR</span><span class="o">*</span>                <span class="n">pProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device associated with
<code>display</code>.</p>
</li>
<li>
<p><code>display</code> is the display to query.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
display modes available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<code>VkDisplayModeProperties2KHR</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetDisplayModeProperties2KHR</code> behaves similarly to
<a href="chap34.html#vkGetDisplayModePropertiesKHR">vkGetDisplayModePropertiesKHR</a>, with the ability to return extended
information via chained output structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDisplayModeProperties2KHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetDisplayModeProperties2KHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetDisplayModeProperties2KHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModeProperties2KHR-display-parameter" href="chap34.html#VUID-vkGetDisplayModeProperties2KHR-display-parameter"></a> <span class="vuid">VUID-vkGetDisplayModeProperties2KHR-display-parameter</span><br>
 <code>display</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModeProperties2KHR-pPropertyCount-parameter" href="chap34.html#VUID-vkGetDisplayModeProperties2KHR-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetDisplayModeProperties2KHR-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModeProperties2KHR-pProperties-parameter" href="chap34.html#VUID-vkGetDisplayModeProperties2KHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetDisplayModeProperties2KHR-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="chap34.html#VkDisplayModeProperties2KHR">VkDisplayModeProperties2KHR</a> structures</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModeProperties2KHR-display-parent" href="chap34.html#VUID-vkGetDisplayModeProperties2KHR-display-parent"></a> <span class="vuid">VUID-vkGetDisplayModeProperties2KHR-display-parent</span><br>
 <code>display</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayModeProperties2KHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayModeProperties2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_display_properties2</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayModeProperties2KHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>               <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                         <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDisplayModePropertiesKHR</span>    <span class="n">displayModeProperties</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayModeProperties2KHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>displayModeProperties</code> is a <a href="chap34.html#VkDisplayModePropertiesKHR">VkDisplayModePropertiesKHR</a>
structure.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayModeProperties2KHR-sType-sType" href="chap34.html#VUID-VkDisplayModeProperties2KHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayModeProperties2KHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_MODE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayModeProperties2KHR-pNext-pNext" href="chap34.html#VUID-VkDisplayModeProperties2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayModeProperties2KHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayModeParametersKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayModeParametersKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayModeParametersKHR</span> <span class="p">{</span>
    <span class="n">VkExtent2D</span>    <span class="n">visibleRegion</span><span class="p">;</span>
    <span class="kt">uint32_t</span>      <span class="n">refreshRate</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayModeParametersKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>visibleRegion</code> is the 2D extents of the visible region.</p>
</li>
<li>
<p><code>refreshRate</code> is a <code>uint32_t</code> that is the number of times the
display is refreshed each second multiplied by 1000.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For example, a 60Hz display mode would report a <code>refreshRate</code> of 60,000.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayModeParametersKHR-width-01990" href="chap34.html#VUID-VkDisplayModeParametersKHR-width-01990"></a> <span class="vuid">VUID-VkDisplayModeParametersKHR-width-01990</span><br>

The <code>width</code> member of <code>visibleRegion</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayModeParametersKHR-height-01991" href="chap34.html#VUID-VkDisplayModeParametersKHR-height-01991"></a> <span class="vuid">VUID-VkDisplayModeParametersKHR-height-01991</span><br>

The <code>height</code> member of <code>visibleRegion</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayModeParametersKHR-refreshRate-01992" href="chap34.html#VUID-VkDisplayModeParametersKHR-refreshRate-01992"></a> <span class="vuid">VUID-VkDisplayModeParametersKHR-refreshRate-01992</span><br>

<code>refreshRate</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Additional modes <strong class="purple">may</strong> also be created by calling:</p>
</div>
<div id="vkCreateDisplayModeKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="n">VkResult</span> <span class="nf">vkCreateDisplayModeKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">VkDisplayKHR</span>                                <span class="n">display</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDisplayModeCreateInfoKHR</span><span class="o">*</span>           <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkDisplayModeKHR</span><span class="o">*</span>                           <span class="n">pMode</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device associated with
<code>display</code>.</p>
</li>
<li>
<p><code>display</code> is the display to create an additional mode for.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap34.html#VkDisplayModeCreateInfoKHR">VkDisplayModeCreateInfoKHR</a>
structure describing the new mode to create.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
display mode object when there is no more specific allocator available
(see <a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pMode</code> is a pointer to a <a href="chap34.html#VkDisplayModeKHR">VkDisplayModeKHR</a> handle in which the
mode created is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDisplayModeKHR-physicalDevice-parameter" href="chap34.html#VUID-vkCreateDisplayModeKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkCreateDisplayModeKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayModeKHR-display-parameter" href="chap34.html#VUID-vkCreateDisplayModeKHR-display-parameter"></a> <span class="vuid">VUID-vkCreateDisplayModeKHR-display-parameter</span><br>
 <code>display</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayModeKHR-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateDisplayModeKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateDisplayModeKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkDisplayModeCreateInfoKHR">VkDisplayModeCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayModeKHR-pAllocator-parameter" href="chap34.html#VUID-vkCreateDisplayModeKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateDisplayModeKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayModeKHR-pMode-parameter" href="chap34.html#VUID-vkCreateDisplayModeKHR-pMode-parameter"></a> <span class="vuid">VUID-vkCreateDisplayModeKHR-pMode-parameter</span><br>
 <code>pMode</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkDisplayModeKHR">VkDisplayModeKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayModeKHR-display-parent" href="chap34.html#VUID-vkCreateDisplayModeKHR-display-parent"></a> <span class="vuid">VUID-vkCreateDisplayModeKHR-display-parent</span><br>
 <code>display</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>display</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayModeCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayModeCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayModeCreateInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                    <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDisplayModeCreateFlagsKHR</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="n">VkDisplayModeParametersKHR</span>     <span class="n">parameters</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayModeCreateInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use, and <strong class="purple">must</strong> be zero.</p>
</li>
<li>
<p><code>parameters</code> is a <a href="chap34.html#VkDisplayModeParametersKHR">VkDisplayModeParametersKHR</a> structure
describing the display parameters to use in creating the new mode.
If the parameters are not compatible with the specified display, the
implementation <strong class="purple">must</strong> return <code>VK_ERROR_INITIALIZATION_FAILED</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayModeCreateInfoKHR-sType-sType" href="chap34.html#VUID-VkDisplayModeCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayModeCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayModeCreateInfoKHR-pNext-pNext" href="chap34.html#VUID-VkDisplayModeCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayModeCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayModeCreateInfoKHR-flags-zerobitmask" href="chap34.html#VUID-VkDisplayModeCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkDisplayModeCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayModeCreateInfoKHR-parameters-parameter" href="chap34.html#VUID-VkDisplayModeCreateInfoKHR-parameters-parameter"></a> <span class="vuid">VUID-VkDisplayModeCreateInfoKHR-parameters-parameter</span><br>
 <code>parameters</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayModeParametersKHR">VkDisplayModeParametersKHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Applications that wish to present directly to a display <strong class="purple">must</strong> select which
layer, or “plane” of the display they wish to target, and a mode to use
with the display.
Each display supports at least one plane.
The capabilities of a given mode and plane combination are determined by
calling:</p>
</div>
<div id="vkGetDisplayPlaneCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="n">VkResult</span> <span class="nf">vkGetDisplayPlaneCapabilitiesKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">VkDisplayModeKHR</span>                            <span class="n">mode</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">planeIndex</span><span class="p">,</span>
    <span class="n">VkDisplayPlaneCapabilitiesKHR</span><span class="o">*</span>              <span class="n">pCapabilities</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device associated with the display
specified by <code>mode</code></p>
</li>
<li>
<p><code>mode</code> is the display mode the application intends to program when
using the specified plane.
Note this parameter also implicitly specifies a display.</p>
</li>
<li>
<p><code>planeIndex</code> is the plane which the application intends to use with
the display, and is less than the number of display planes supported by
the device.</p>
</li>
<li>
<p><code>pCapabilities</code> is a pointer to a
<a href="chap34.html#VkDisplayPlaneCapabilitiesKHR">VkDisplayPlaneCapabilitiesKHR</a> structure in which the capabilities
are returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDisplayPlaneCapabilitiesKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetDisplayPlaneCapabilitiesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneCapabilitiesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayPlaneCapabilitiesKHR-mode-parameter" href="chap34.html#VUID-vkGetDisplayPlaneCapabilitiesKHR-mode-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneCapabilitiesKHR-mode-parameter</span><br>
 <code>mode</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayModeKHR">VkDisplayModeKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayPlaneCapabilitiesKHR-pCapabilities-parameter" href="chap34.html#VUID-vkGetDisplayPlaneCapabilitiesKHR-pCapabilities-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneCapabilitiesKHR-pCapabilities-parameter</span><br>
 <code>pCapabilities</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkDisplayPlaneCapabilitiesKHR">VkDisplayPlaneCapabilitiesKHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>mode</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPlaneCapabilitiesKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPlaneCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayPlaneCapabilitiesKHR</span> <span class="p">{</span>
    <span class="n">VkDisplayPlaneAlphaFlagsKHR</span>    <span class="n">supportedAlpha</span><span class="p">;</span>
    <span class="n">VkOffset2D</span>                     <span class="n">minSrcPosition</span><span class="p">;</span>
    <span class="n">VkOffset2D</span>                     <span class="n">maxSrcPosition</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                     <span class="n">minSrcExtent</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                     <span class="n">maxSrcExtent</span><span class="p">;</span>
    <span class="n">VkOffset2D</span>                     <span class="n">minDstPosition</span><span class="p">;</span>
    <span class="n">VkOffset2D</span>                     <span class="n">maxDstPosition</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                     <span class="n">minDstExtent</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                     <span class="n">maxDstExtent</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayPlaneCapabilitiesKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>supportedAlpha</code> is a bitmask of
<a href="chap34.html#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a> describing the supported alpha
blending modes.</p>
</li>
<li>
<p><code>minSrcPosition</code> is the minimum source rectangle offset supported by
this plane using the specified mode.</p>
</li>
<li>
<p><code>maxSrcPosition</code> is the maximum source rectangle offset supported by
this plane using the specified mode.
The <code>x</code> and <code>y</code> components of <code>maxSrcPosition</code> <strong class="purple">must</strong> each be
greater than or equal to the <code>x</code> and <code>y</code> components of
<code>minSrcPosition</code>, respectively.</p>
</li>
<li>
<p><code>minSrcExtent</code> is the minimum source rectangle size supported by
this plane using the specified mode.</p>
</li>
<li>
<p><code>maxSrcExtent</code> is the maximum source rectangle size supported by
this plane using the specified mode.</p>
</li>
<li>
<p><code>minDstPosition</code>, <code>maxDstPosition</code>, <code>minDstExtent</code>,
<code>maxDstExtent</code> all have similar semantics to their corresponding
<code>*Src*</code> equivalents, but apply to the output region within the mode
rather than the input region within the source image.
Unlike the <code>*Src*</code> offsets, <code>minDstPosition</code> and
<code>maxDstPosition</code> <strong class="purple">may</strong> contain negative values.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The minimum and maximum position and extent fields describe the
implementation limits, if any, as they apply to the specified display mode
and plane.
Vendors <strong class="purple">may</strong> support displaying a subset of a swapchain’s presentable images
on the specified display plane.
This is expressed by returning <code>minSrcPosition</code>, <code>maxSrcPosition</code>,
<code>minSrcExtent</code>, and <code>maxSrcExtent</code> values that indicate a range of
possible positions and sizes which <strong class="purple">may</strong> be used to specify the region within
the presentable images that source pixels will be read from when creating a
swapchain on the specified display mode and plane.</p>
</div>
<div class="paragraph">
<p>Vendors <strong class="purple">may</strong> also support mapping the presentable images’ content to a
subset or superset of the visible region in the specified display mode.
This is expressed by returning <code>minDstPosition</code>, <code>maxDstPosition</code>,
<code>minDstExtent</code> and <code>maxDstExtent</code> values that indicate a range of
possible positions and sizes which <strong class="purple">may</strong> be used to describe the region
within the display mode that the source pixels will be mapped to.</p>
</div>
<div class="paragraph">
<p>Other vendors <strong class="purple">may</strong> support only a 1-1 mapping between pixels in the
presentable images and the display mode.
This <strong class="purple">may</strong> be indicated by returning <span class="eq">(0,0)</span> for <code>minSrcPosition</code>,
<code>maxSrcPosition</code>, <code>minDstPosition</code>, and <code>maxDstPosition</code>, and
(display mode width, display mode height) for <code>minSrcExtent</code>,
<code>maxSrcExtent</code>, <code>minDstExtent</code>, and <code>maxDstExtent</code>.</p>
</div>
<div class="paragraph">
<p>The value <code>supportedAlpha</code> <strong class="purple">must</strong> contain at least one valid
<a href="chap34.html#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a> bit.</p>
</div>
<div class="paragraph">
<p>These values indicate the limits of the implementation’s individual fields.
Not all combinations of values within the offset and extent ranges returned
in <code>VkDisplayPlaneCapabilitiesKHR</code> are guaranteed to be supported.
Presentation requests specifying unsupported combinations <strong class="purple">may</strong> fail.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the capabilities of a given mode and plane combination, call:</p>
</div>
<div id="vkGetDisplayPlaneCapabilities2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_display_properties2</span>
<span class="n">VkResult</span> <span class="nf">vkGetDisplayPlaneCapabilities2KHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDisplayPlaneInfo2KHR</span><span class="o">*</span>               <span class="n">pDisplayPlaneInfo</span><span class="p">,</span>
    <span class="n">VkDisplayPlaneCapabilities2KHR</span><span class="o">*</span>             <span class="n">pCapabilities</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device associated with
<code>pDisplayPlaneInfo</code>.</p>
</li>
<li>
<p><code>pDisplayPlaneInfo</code> is a pointer to a <a href="chap34.html#VkDisplayPlaneInfo2KHR">VkDisplayPlaneInfo2KHR</a>
structure describing the plane and mode.</p>
</li>
<li>
<p><code>pCapabilities</code> is a pointer to a
<a href="chap34.html#VkDisplayPlaneCapabilities2KHR">VkDisplayPlaneCapabilities2KHR</a> structure in which the capabilities
are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetDisplayPlaneCapabilities2KHR</code> behaves similarly to
<a href="chap34.html#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a>, with the ability to specify extended
inputs via chained input structures, and to return extended information via
chained output structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDisplayPlaneCapabilities2KHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetDisplayPlaneCapabilities2KHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneCapabilities2KHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayPlaneCapabilities2KHR-pDisplayPlaneInfo-parameter" href="chap34.html#VUID-vkGetDisplayPlaneCapabilities2KHR-pDisplayPlaneInfo-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneCapabilities2KHR-pDisplayPlaneInfo-parameter</span><br>
 <code>pDisplayPlaneInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkDisplayPlaneInfo2KHR">VkDisplayPlaneInfo2KHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayPlaneCapabilities2KHR-pCapabilities-parameter" href="chap34.html#VUID-vkGetDisplayPlaneCapabilities2KHR-pCapabilities-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneCapabilities2KHR-pCapabilities-parameter</span><br>
 <code>pCapabilities</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkDisplayPlaneCapabilities2KHR">VkDisplayPlaneCapabilities2KHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPlaneInfo2KHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPlaneInfo2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_display_properties2</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayPlaneInfo2KHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>     <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>         <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDisplayModeKHR</span>    <span class="n">mode</span><span class="p">;</span>
    <span class="kt">uint32_t</span>            <span class="n">planeIndex</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayPlaneInfo2KHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>mode</code> is the display mode the application intends to program when
using the specified plane.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This parameter also implicitly specifies a display.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>planeIndex</code> is the plane which the application intends to use with
the display.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The members of <code>VkDisplayPlaneInfo2KHR</code> correspond to the arguments to
<a href="chap34.html#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a>, with <code>sType</code> and <code>pNext</code>
added for extensibility.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayPlaneInfo2KHR-sType-sType" href="chap34.html#VUID-VkDisplayPlaneInfo2KHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayPlaneInfo2KHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_INFO_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayPlaneInfo2KHR-pNext-pNext" href="chap34.html#VUID-VkDisplayPlaneInfo2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayPlaneInfo2KHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayPlaneInfo2KHR-mode-parameter" href="chap34.html#VUID-VkDisplayPlaneInfo2KHR-mode-parameter"></a> <span class="vuid">VUID-VkDisplayPlaneInfo2KHR-mode-parameter</span><br>
 <code>mode</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayModeKHR">VkDisplayModeKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>mode</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPlaneCapabilities2KHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPlaneCapabilities2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_display_properties2</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayPlaneCapabilities2KHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                  <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                            <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDisplayPlaneCapabilitiesKHR</span>    <span class="n">capabilities</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayPlaneCapabilities2KHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>capabilities</code> is a <a href="chap34.html#VkDisplayPlaneCapabilitiesKHR">VkDisplayPlaneCapabilitiesKHR</a> structure.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayPlaneCapabilities2KHR-sType-sType" href="chap34.html#VUID-VkDisplayPlaneCapabilities2KHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayPlaneCapabilities2KHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_CAPABILITIES_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayPlaneCapabilities2KHR-pNext-pNext" href="chap34.html#VUID-VkDisplayPlaneCapabilities2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayPlaneCapabilities2KHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_display_control"><a class="anchor" href="chap34.html#_display_control"></a>34.3.2. Display Control</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To set the power state of a display, call:</p>
</div>
<div id="vkDisplayPowerControlEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_display_control</span>
<span class="n">VkResult</span> <span class="nf">vkDisplayPowerControlEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkDisplayKHR</span>                                <span class="n">display</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDisplayPowerInfoEXT</span><span class="o">*</span>                <span class="n">pDisplayPowerInfo</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is a logical device associated with <code>display</code>.</p>
</li>
<li>
<p><code>display</code> is the display whose power state is modified.</p>
</li>
<li>
<p><code>pDisplayPowerInfo</code> is a pointer to a <a href="chap34.html#VkDisplayPowerInfoEXT">VkDisplayPowerInfoEXT</a>
structure specifying the new power state of <code>display</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDisplayPowerControlEXT-device-parameter" href="chap34.html#VUID-vkDisplayPowerControlEXT-device-parameter"></a> <span class="vuid">VUID-vkDisplayPowerControlEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDisplayPowerControlEXT-display-parameter" href="chap34.html#VUID-vkDisplayPowerControlEXT-display-parameter"></a> <span class="vuid">VUID-vkDisplayPowerControlEXT-display-parameter</span><br>
 <code>display</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDisplayPowerControlEXT-pDisplayPowerInfo-parameter" href="chap34.html#VUID-vkDisplayPowerControlEXT-pDisplayPowerInfo-parameter"></a> <span class="vuid">VUID-vkDisplayPowerControlEXT-pDisplayPowerInfo-parameter</span><br>
 <code>pDisplayPowerInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkDisplayPowerInfoEXT">VkDisplayPowerInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDisplayPowerControlEXT-commonparent" href="chap34.html#VUID-vkDisplayPowerControlEXT-commonparent"></a> <span class="vuid">VUID-vkDisplayPowerControlEXT-commonparent</span><br>
 Both of <code>device</code>, and <code>display</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPowerInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkDisplayPowerInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_display_control</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayPowerInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>           <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>               <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDisplayPowerStateEXT</span>    <span class="n">powerState</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayPowerInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>powerState</code> is a <a href="chap34.html#VkDisplayPowerStateEXT">VkDisplayPowerStateEXT</a> value specifying the
new power state of the display.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayPowerInfoEXT-sType-sType" href="chap34.html#VUID-VkDisplayPowerInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkDisplayPowerInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_POWER_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayPowerInfoEXT-pNext-pNext" href="chap34.html#VUID-VkDisplayPowerInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayPowerInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayPowerInfoEXT-powerState-parameter" href="chap34.html#VUID-VkDisplayPowerInfoEXT-powerState-parameter"></a> <span class="vuid">VUID-VkDisplayPowerInfoEXT-powerState-parameter</span><br>
 <code>powerState</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayPowerStateEXT">VkDisplayPowerStateEXT</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="chap34.html#VkDisplayPowerInfoEXT">VkDisplayPowerInfoEXT</a>::<code>powerState</code>, specifying
the new power state of a display, are:</p>
</div>
<div id="VkDisplayPowerStateEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_display_control</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkDisplayPowerStateEXT</span> <span class="p">{</span>
    <span class="n">VK_DISPLAY_POWER_STATE_OFF_EXT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_DISPLAY_POWER_STATE_SUSPEND_EXT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_DISPLAY_POWER_STATE_ON_EXT</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkDisplayPowerStateEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DISPLAY_POWER_STATE_OFF_EXT</code> specifies that the display is
powered down.</p>
</li>
<li>
<p><code>VK_DISPLAY_POWER_STATE_SUSPEND_EXT</code> specifies that the display is
put into a low power mode, from which it <strong class="purple">may</strong> be able to transition back
to <code>VK_DISPLAY_POWER_STATE_ON_EXT</code> more quickly than if it were in
<code>VK_DISPLAY_POWER_STATE_OFF_EXT</code>.
This state <strong class="purple">may</strong> be the same as <code>VK_DISPLAY_POWER_STATE_OFF_EXT</code>.</p>
</li>
<li>
<p><code>VK_DISPLAY_POWER_STATE_ON_EXT</code> specifies that the display is
powered on.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="wsi-display-surfaces"><a class="anchor" href="chap34.html#wsi-display-surfaces"></a>34.3.3. Display Surfaces</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A complete display configuration includes a mode, one or more display planes
and any parameters describing their behavior, and parameters describing some
aspects of the images associated with those planes.
Display surfaces describe the configuration of a single plane within a
complete display configuration.
To create a <code>VkSurfaceKHR</code> object for a display plane, call:</p>
</div>
<div id="vkCreateDisplayPlaneSurfaceKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="n">VkResult</span> <span class="nf">vkCreateDisplayPlaneSurfaceKHR</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDisplaySurfaceCreateInfoKHR</span><span class="o">*</span>        <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance corresponding to the physical device the
targeted display is on.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap34.html#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a>
structure specifying which mode, plane, and other parameters to use, as
described below.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDisplayPlaneSurfaceKHR-instance-parameter" href="chap34.html#VUID-vkCreateDisplayPlaneSurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkCreateDisplayPlaneSurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayPlaneSurfaceKHR-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateDisplayPlaneSurfaceKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateDisplayPlaneSurfaceKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayPlaneSurfaceKHR-pAllocator-parameter" href="chap34.html#VUID-vkCreateDisplayPlaneSurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateDisplayPlaneSurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayPlaneSurfaceKHR-pSurface-parameter" href="chap34.html#VUID-vkCreateDisplayPlaneSurfaceKHR-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateDisplayPlaneSurfaceKHR-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplaySurfaceCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplaySurfaceCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplaySurfaceCreateInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                   <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                       <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDisplaySurfaceCreateFlagsKHR</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="n">VkDisplayModeKHR</span>                  <span class="n">displayMode</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                          <span class="n">planeIndex</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                          <span class="n">planeStackIndex</span><span class="p">;</span>
    <span class="n">VkSurfaceTransformFlagBitsKHR</span>     <span class="n">transform</span><span class="p">;</span>
    <span class="kt">float</span>                             <span class="n">globalAlpha</span><span class="p">;</span>
    <span class="n">VkDisplayPlaneAlphaFlagBitsKHR</span>    <span class="n">alphaMode</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                        <span class="n">imageExtent</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplaySurfaceCreateInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use, and <strong class="purple">must</strong> be zero.</p>
</li>
<li>
<p><code>displayMode</code> is a <a href="chap34.html#VkDisplayModeKHR">VkDisplayModeKHR</a> handle specifying the mode
to use when displaying this surface.</p>
</li>
<li>
<p><code>planeIndex</code> is the plane on which this surface appears.</p>
</li>
<li>
<p><code>planeStackIndex</code> is the z-order of the plane.</p>
</li>
<li>
<p><code>transform</code> is a <a href="chap34.html#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> value
specifying the transformation to apply to images as part of the scanout
operation.</p>
</li>
<li>
<p><code>globalAlpha</code> is the global alpha value.
This value is ignored if <code>alphaMode</code> is not
<code>VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR</code>.</p>
</li>
<li>
<p><code>alphaMode</code> is a <a href="chap34.html#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a> value
specifying the type of alpha blending to use.</p>
</li>
<li>
<p><code>imageExtent</code> is the size of the presentable images to use with the
surface.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Creating a display surface <strong class="purple">must</strong> not modify the state of the displays,
planes, or other resources it names.
For example, it <strong class="purple">must</strong> not apply the specified mode to be set on the
associated display.
Application of display configuration occurs as a side effect of presenting
to a display surface.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-planeIndex-01252" href="chap34.html#VUID-VkDisplaySurfaceCreateInfoKHR-planeIndex-01252"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-planeIndex-01252</span><br>

<code>planeIndex</code> <strong class="purple">must</strong> be less than the number of display planes
supported by the device as determined by calling
<code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-planeReorderPossible-01253" href="chap34.html#VUID-VkDisplaySurfaceCreateInfoKHR-planeReorderPossible-01253"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-planeReorderPossible-01253</span><br>

If the <code>planeReorderPossible</code> member of the
<code>VkDisplayPropertiesKHR</code> structure returned by
<code>vkGetPhysicalDeviceDisplayPropertiesKHR</code> for the display
corresponding to <code>displayMode</code> is <code>VK_TRUE</code> then
<code>planeStackIndex</code> <strong class="purple">must</strong> be less than the number of display planes
supported by the device as determined by calling
<code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code>; otherwise
<code>planeStackIndex</code> <strong class="purple">must</strong> equal the <code>currentStackIndex</code> member of
<code>VkDisplayPlanePropertiesKHR</code> returned by
<code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code> for the display plane
corresponding to <code>displayMode</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-01254" href="chap34.html#VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-01254"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-01254</span><br>

If <code>alphaMode</code> is <code>VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR</code> then
<code>globalAlpha</code> <strong class="purple">must</strong> be between <code>0</code> and <code>1</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-01255" href="chap34.html#VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-01255"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-01255</span><br>

<code>alphaMode</code> <strong class="purple">must</strong> be one of the bits present in the
<code>supportedAlpha</code> member of <code>VkDisplayPlaneCapabilitiesKHR</code> for
the display plane corresponding to <code>displayMode</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-transform-06740" href="chap34.html#VUID-VkDisplaySurfaceCreateInfoKHR-transform-06740"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-transform-06740</span><br>

<code>transform</code> <strong class="purple">must</strong> be one of the bits present in the
<code>supportedTransforms</code> member of <code>VkDisplayPropertiesKHR</code> for the
display corresponding to <code>displayMode</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-width-01256" href="chap34.html#VUID-VkDisplaySurfaceCreateInfoKHR-width-01256"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-width-01256</span><br>

The <code>width</code> and <code>height</code> members of <code>imageExtent</code> <strong class="purple">must</strong> be
less than or equal to
<a href="chap46.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>maxImageDimension2D</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-sType-sType" href="chap34.html#VUID-VkDisplaySurfaceCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-pNext-pNext" href="chap34.html#VUID-VkDisplaySurfaceCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-flags-zerobitmask" href="chap34.html#VUID-VkDisplaySurfaceCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-displayMode-parameter" href="chap34.html#VUID-VkDisplaySurfaceCreateInfoKHR-displayMode-parameter"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-displayMode-parameter</span><br>
 <code>displayMode</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayModeKHR">VkDisplayModeKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-transform-parameter" href="chap34.html#VUID-VkDisplaySurfaceCreateInfoKHR-transform-parameter"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-transform-parameter</span><br>
 <code>transform</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-parameter" href="chap34.html#VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-parameter"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-parameter</span><br>
 <code>alphaMode</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDisplaySurfaceCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkDisplaySurfaceCreateFlagsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDisplaySurfaceCreateFlagsKHR</code> is a bitmask type for setting a mask,
but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in
<a href="chap34.html#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a>::<code>alphaMode</code>, specifying the type of
alpha blending to use on a display, are:</p>
</div>
<div id="VkDisplayPlaneAlphaFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkDisplayPlaneAlphaFlagBitsKHR</span> <span class="p">{</span>
    <span class="n">VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
    <span class="n">VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
    <span class="n">VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_PREMULTIPLIED_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkDisplayPlaneAlphaFlagBitsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR</code> specifies that the source
image will be treated as opaque.</p>
</li>
<li>
<p><code>VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR</code> specifies that a global
alpha value <strong class="purple">must</strong> be specified that will be applied to all pixels in the
source image.</p>
</li>
<li>
<p><code>VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR</code> specifies that the alpha
value will be determined by the alpha component of the source image’s
pixels.
If the source format contains no alpha values, no blending will be
applied.
The source alpha values are not premultiplied into the source image’s
other color components.</p>
</li>
<li>
<p><code>VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_PREMULTIPLIED_BIT_KHR</code> is
equivalent to <code>VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR</code>, except the
source alpha values are assumed to be premultiplied into the source
image’s other color components.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDisplayPlaneAlphaFlagsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkDisplayPlaneAlphaFlagsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDisplayPlaneAlphaFlagsKHR</code> is a bitmask type for setting a mask of
zero or more <a href="chap34.html#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="headless"><a class="anchor" href="chap34.html#headless"></a>34.3.4. Presenting to headless surfaces</h4>
<div class="paragraph">
<p>Vulkan rendering can be presented to a headless surface, where the
presentation operation is a no-op producing no externally-visible result.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Because there is no real presentation target, the headless presentation
engine may be extended to impose an arbitrary or customisable set of
restrictions and features.
This makes it a useful portable test target for applications targeting a
wide range of presentation engines where the actual target presentation
engines might be scarce, unavailable or otherwise undesirable or
inconvenient to use for general Vulkan application development.</p>
</div>
<div class="paragraph">
<p>The usual surface query mechanisms must be used to determine the actual
restrictions and features of the implementation.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a headless <code>VkSurfaceKHR</code> object, call:</p>
</div>
<div id="vkCreateHeadlessSurfaceEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_headless_surface</span>
<span class="n">VkResult</span> <span class="nf">vkCreateHeadlessSurfaceEXT</span><span class="p">(</span>
    <span class="n">VkInstance</span>                                  <span class="n">instance</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkHeadlessSurfaceCreateInfoEXT</span><span class="o">*</span>       <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span><span class="o">*</span>                               <span class="n">pSurface</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap34.html#VkHeadlessSurfaceCreateInfoEXT">VkHeadlessSurfaceCreateInfoEXT</a>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <code>VkSurfaceKHR</code> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateHeadlessSurfaceEXT-instance-parameter" href="chap34.html#VUID-vkCreateHeadlessSurfaceEXT-instance-parameter"></a> <span class="vuid">VUID-vkCreateHeadlessSurfaceEXT-instance-parameter</span><br>
 <code>instance</code> <strong class="purple">must</strong> be a valid <a href="chap4.html#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateHeadlessSurfaceEXT-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateHeadlessSurfaceEXT-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateHeadlessSurfaceEXT-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkHeadlessSurfaceCreateInfoEXT">VkHeadlessSurfaceCreateInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateHeadlessSurfaceEXT-pAllocator-parameter" href="chap34.html#VUID-vkCreateHeadlessSurfaceEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateHeadlessSurfaceEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateHeadlessSurfaceEXT-pSurface-parameter" href="chap34.html#VUID-vkCreateHeadlessSurfaceEXT-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateHeadlessSurfaceEXT-pSurface-parameter</span><br>
 <code>pSurface</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkHeadlessSurfaceCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkHeadlessSurfaceCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_headless_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkHeadlessSurfaceCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkHeadlessSurfaceCreateFlagsEXT</span>    <span class="n">flags</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkHeadlessSurfaceCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkHeadlessSurfaceCreateInfoEXT-sType-sType" href="chap34.html#VUID-VkHeadlessSurfaceCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkHeadlessSurfaceCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_HEADLESS_SURFACE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkHeadlessSurfaceCreateInfoEXT-pNext-pNext" href="chap34.html#VUID-VkHeadlessSurfaceCreateInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkHeadlessSurfaceCreateInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkHeadlessSurfaceCreateInfoEXT-flags-zerobitmask" href="chap34.html#VUID-VkHeadlessSurfaceCreateInfoEXT-flags-zerobitmask"></a> <span class="vuid">VUID-VkHeadlessSurfaceCreateInfoEXT-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>For headless surfaces, <code>currentExtent</code> is the reserved value
<span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span>.
Whatever the application sets a swapchain’s <code>imageExtent</code> to will be the
size of the surface, after the first image is presented.</p>
</div>
<div class="openblock">
<div class="content">
<div id="VkHeadlessSurfaceCreateFlagsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_headless_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkHeadlessSurfaceCreateFlagsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkHeadlessSurfaceCreateFlagsEXT</code> is a bitmask type for setting a mask,
but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_querying_for_wsi_support"><a class="anchor" href="chap34.html#_querying_for_wsi_support"></a>34.4. Querying for WSI Support</h3>
<div class="paragraph">
<p>Not all physical devices will include WSI support.
Within a physical device, not all queue families will support presentation.
WSI support and compatibility <strong class="purple">can</strong> be determined in a platform-neutral
manner (which determines support for presentation to a particular surface
object) and additionally <strong class="purple">may</strong> be determined in platform-specific manners
(which determine support for presentation on the specified physical device
but do not guarantee support for presentation to a particular surface
object).</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation to a given surface, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfaceSupportKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceSurfaceSupportKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">queueFamilyIndex</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span>                                <span class="n">surface</span><span class="p">,</span>
    <span class="n">VkBool32</span><span class="o">*</span>                                   <span class="n">pSupported</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family.</p>
</li>
<li>
<p><code>surface</code> is the surface.</p>
</li>
<li>
<p><code>pSupported</code> is a pointer to a <a href="chap3.html#VkBool32">VkBool32</a>, which is set to
<code>VK_TRUE</code> to indicate support, and <code>VK_FALSE</code> otherwise.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceSupportKHR-queueFamilyIndex-01269" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceSupportKHR-queueFamilyIndex-01269"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceSupportKHR-queueFamilyIndex-01269</span><br>

<code>queueFamilyIndex</code> <strong class="purple">must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceSupportKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceSupportKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceSupportKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceSupportKHR-surface-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceSupportKHR-surface-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceSupportKHR-surface-parameter</span><br>
 <code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceSupportKHR-pSupported-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceSupportKHR-pSupported-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceSupportKHR-pSupported-parameter</span><br>
 <code>pSupported</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap3.html#VkBool32">VkBool32</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceSupportKHR-commonparent" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceSupportKHR-commonparent"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceSupportKHR-commonparent</span><br>
 Both of <code>physicalDevice</code>, and <code>surface</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap4.html#VkInstance">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_android"><a class="anchor" href="chap34.html#platformQuerySupport_android"></a>34.4.1. Android Platform</h4>
<div class="paragraph">
<p>On Android, all physical devices and queue families <strong class="purple">must</strong> be capable of
presentation with any native window.
As a result there is no Android-specific query for these capabilities.</p>
</div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_walyand"><a class="anchor" href="chap34.html#platformQuerySupport_walyand"></a>34.4.2. Wayland Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation to a Wayland compositor, call:</p>
</div>
<div id="vkGetPhysicalDeviceWaylandPresentationSupportKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_wayland_surface</span>
<span class="n">VkBool32</span> <span class="nf">vkGetPhysicalDeviceWaylandPresentationSupportKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">queueFamilyIndex</span><span class="p">,</span>
    <span class="k">struct</span> <span class="nc">wl_display</span><span class="o">*</span>                          <span class="n">display</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family index.</p>
</li>
<li>
<p><code>display</code> is a pointer to the <code>wl_display</code> associated with a
Wayland compositor.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This platform-specific function <strong class="purple">can</strong> be called prior to creating a surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-queueFamilyIndex-01306" href="chap34.html#VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-queueFamilyIndex-01306"></a> <span class="vuid">VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-queueFamilyIndex-01306</span><br>

<code>queueFamilyIndex</code> <strong class="purple">must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-display-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-display-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-display-parameter</span><br>
 <code>display</code> <strong class="purple">must</strong> be a valid pointer to a <code>wl_display</code> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_win32"><a class="anchor" href="chap34.html#platformQuerySupport_win32"></a>34.4.3. Win32 Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation to the Microsoft Windows desktop, call:</p>
</div>
<div id="vkGetPhysicalDeviceWin32PresentationSupportKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_win32_surface</span>
<span class="n">VkBool32</span> <span class="nf">vkGetPhysicalDeviceWin32PresentationSupportKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">queueFamilyIndex</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family index.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This platform-specific function <strong class="purple">can</strong> be called prior to creating a surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceWin32PresentationSupportKHR-queueFamilyIndex-01309" href="chap34.html#VUID-vkGetPhysicalDeviceWin32PresentationSupportKHR-queueFamilyIndex-01309"></a> <span class="vuid">VUID-vkGetPhysicalDeviceWin32PresentationSupportKHR-queueFamilyIndex-01309</span><br>

<code>queueFamilyIndex</code> <strong class="purple">must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceWin32PresentationSupportKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceWin32PresentationSupportKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceWin32PresentationSupportKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_xcb"><a class="anchor" href="chap34.html#platformQuerySupport_xcb"></a>34.4.4. XCB Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation to an X11 server, using the XCB client-side library, call:</p>
</div>
<div id="vkGetPhysicalDeviceXcbPresentationSupportKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_xcb_surface</span>
<span class="n">VkBool32</span> <span class="nf">vkGetPhysicalDeviceXcbPresentationSupportKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">queueFamilyIndex</span><span class="p">,</span>
    <span class="n">xcb_connection_t</span><span class="o">*</span>                           <span class="n">connection</span><span class="p">,</span>
    <span class="n">xcb_visualid_t</span>                              <span class="n">visual_id</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family index.</p>
</li>
<li>
<p><code>connection</code> is a pointer to an <code>xcb_connection_t</code> to the X
server.</p>
</li>
<li>
<p><code>visual_id</code> is an X11 visual (<code>xcb_visualid_t</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This platform-specific function <strong class="purple">can</strong> be called prior to creating a surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-queueFamilyIndex-01312" href="chap34.html#VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-queueFamilyIndex-01312"></a> <span class="vuid">VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-queueFamilyIndex-01312</span><br>

<code>queueFamilyIndex</code> <strong class="purple">must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-connection-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-connection-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-connection-parameter</span><br>
 <code>connection</code> <strong class="purple">must</strong> be a valid pointer to an <code>xcb_connection_t</code> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_xlib"><a class="anchor" href="chap34.html#platformQuerySupport_xlib"></a>34.4.5. Xlib Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation to an X11 server, using the Xlib client-side library, call:</p>
</div>
<div id="vkGetPhysicalDeviceXlibPresentationSupportKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_xlib_surface</span>
<span class="n">VkBool32</span> <span class="nf">vkGetPhysicalDeviceXlibPresentationSupportKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">queueFamilyIndex</span><span class="p">,</span>
    <span class="n">Display</span><span class="o">*</span>                                    <span class="n">dpy</span><span class="p">,</span>
    <span class="n">VisualID</span>                                    <span class="n">visualID</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family index.</p>
</li>
<li>
<p><code>dpy</code> is a pointer to an Xlib <code>Display</code> connection to the server.</p>
</li>
<li>
<p><code>visualId</code> is an X11 visual (<code>VisualID</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This platform-specific function <strong class="purple">can</strong> be called prior to creating a surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-queueFamilyIndex-01315" href="chap34.html#VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-queueFamilyIndex-01315"></a> <span class="vuid">VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-queueFamilyIndex-01315</span><br>

<code>queueFamilyIndex</code> <strong class="purple">must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-dpy-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-dpy-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-dpy-parameter</span><br>
 <code>dpy</code> <strong class="purple">must</strong> be a valid pointer to a <code>Display</code> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_directfb"><a class="anchor" href="chap34.html#platformQuerySupport_directfb"></a>34.4.6. DirectFB Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation with DirectFB library, call:</p>
</div>
<div id="vkGetPhysicalDeviceDirectFBPresentationSupportEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_directfb_surface</span>
<span class="n">VkBool32</span> <span class="nf">vkGetPhysicalDeviceDirectFBPresentationSupportEXT</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">queueFamilyIndex</span><span class="p">,</span>
    <span class="n">IDirectFB</span><span class="o">*</span>                                  <span class="n">dfb</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family index.</p>
</li>
<li>
<p><code>dfb</code> is a pointer to the <code>IDirectFB</code> main interface of DirectFB.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This platform-specific function <strong class="purple">can</strong> be called prior to creating a surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-queueFamilyIndex-04119" href="chap34.html#VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-queueFamilyIndex-04119"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-queueFamilyIndex-04119</span><br>

<code>queueFamilyIndex</code> <strong class="purple">must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-dfb-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-dfb-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-dfb-parameter</span><br>
 <code>dfb</code> <strong class="purple">must</strong> be a valid pointer to an <code>IDirectFB</code> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_fuchsia"><a class="anchor" href="chap34.html#platformQuerySupport_fuchsia"></a>34.4.7. Fuchsia Platform</h4>
<div class="paragraph">
<p>On Fuchsia, all physical devices and queue families <strong class="purple">must</strong> be capable of
presentation with any ImagePipe.
As a result there is no Fuchsia-specific query for these capabilities.</p>
</div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_streamdescriptor"><a class="anchor" href="chap34.html#platformQuerySupport_streamdescriptor"></a>34.4.8. Google Games Platform</h4>
<div class="paragraph">
<p>On Google Games Platform, all physical devices and queue families with the
<code>VK_QUEUE_GRAPHICS_BIT</code> or <code>VK_QUEUE_COMPUTE_BIT</code> capabilities <strong class="purple">must</strong>
be capable of presentation with any Google Games Platform stream descriptor.
As a result, there is no query specific to Google Games Platform for these
capabilities.</p>
</div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_ios"><a class="anchor" href="chap34.html#platformQuerySupport_ios"></a>34.4.9. iOS Platform</h4>
<div class="paragraph">
<p>On iOS, all physical devices and queue families <strong class="purple">must</strong> be capable of
presentation with any layer.
As a result there is no iOS-specific query for these capabilities.</p>
</div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_macos"><a class="anchor" href="chap34.html#platformQuerySupport_macos"></a>34.4.10. macOS Platform</h4>
<div class="paragraph">
<p>On macOS, all physical devices and queue families <strong class="purple">must</strong> be capable of
presentation with any layer.
As a result there is no macOS-specific query for these capabilities.</p>
</div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_vi"><a class="anchor" href="chap34.html#platformQuerySupport_vi"></a>34.4.11. VI Platform</h4>
<div class="paragraph">
<p>On VI, all physical devices and queue families <strong class="purple">must</strong> be capable of
presentation with any layer.
As a result there is no VI-specific query for these capabilities.</p>
</div>
</div>
<div class="sect3">
<h4 id="platformQuerySupport_screen"><a class="anchor" href="chap34.html#platformQuerySupport_screen"></a>34.4.12. QNX Screen Platform</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation to a QNX Screen compositor, call:</p>
</div>
<div id="vkGetPhysicalDeviceScreenPresentationSupportQNX" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_QNX_screen_surface</span>
<span class="n">VkBool32</span> <span class="nf">vkGetPhysicalDeviceScreenPresentationSupportQNX</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">queueFamilyIndex</span><span class="p">,</span>
    <span class="k">struct</span> <span class="nc">_screen_window</span><span class="o">*</span>                      <span class="n">window</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family index.</p>
</li>
<li>
<p><code>window</code> is the QNX Screen <code>window</code> object.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This platform-specific function <strong class="purple">can</strong> be called prior to creating a surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-queueFamilyIndex-04743" href="chap34.html#VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-queueFamilyIndex-04743"></a> <span class="vuid">VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-queueFamilyIndex-04743</span><br>

<code>queueFamilyIndex</code> <strong class="purple">must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-window-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-window-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-window-parameter</span><br>
 <code>window</code> <strong class="purple">must</strong> be a valid pointer to a <code>_screen_window</code> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_surface_queries"><a class="anchor" href="chap34.html#_surface_queries"></a>34.5. Surface Queries</h3>
<div class="paragraph">
<p>The capabilities of a swapchain targeting a surface are the intersection of
the capabilities of the WSI platform, the native window or display, and the
physical device.
The resulting capabilities <strong class="purple">can</strong> be obtained with the queries listed below in
this section.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In addition to the surface capabilities as obtained by surface queries
below, swapchain images are also subject to ordinary image creation limits
as reported by <a href="chap48.html#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a>.
As an application is instructed by the appropriate Valid Usage sections,
both the surface capabilities and the image creation limits have to be
satisfied whenever swapchain images are created.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="_surface_capabilities"><a class="anchor" href="chap34.html#_surface_capabilities"></a>34.5.1. Surface Capabilities</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the basic capabilities of a surface, needed in order to create a
swapchain, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfaceCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span>                                <span class="n">surface</span><span class="p">,</span>
    <span class="n">VkSurfaceCapabilitiesKHR</span><span class="o">*</span>                   <span class="n">pSurfaceCapabilities</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>surface</code> is the surface that will be associated with the swapchain.</p>
</li>
<li>
<p><code>pSurfaceCapabilities</code> is a pointer to a
<a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a> structure in which the capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-06523" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-06523"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-06523</span><br>

<code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-06211" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-06211"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-06211</span><br>

<code>surface</code> <strong class="purple">must</strong> be supported by <code>physicalDevice</code>, as reported by
<a href="chap34.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-parameter</span><br>
 <code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-pSurfaceCapabilities-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-pSurfaceCapabilities-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-pSurfaceCapabilities-parameter</span><br>
 <code>pSurfaceCapabilities</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-commonparent" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-commonparent"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-commonparent</span><br>
 Both of <code>physicalDevice</code>, and <code>surface</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap4.html#VkInstance">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceCapabilitiesKHR</code> structure is defined as:</p>
</div>
<div id="VkSurfaceCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSurfaceCapabilitiesKHR</span> <span class="p">{</span>
    <span class="kt">uint32_t</span>                         <span class="n">minImageCount</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                         <span class="n">maxImageCount</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                       <span class="n">currentExtent</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                       <span class="n">minImageExtent</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                       <span class="n">maxImageExtent</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                         <span class="n">maxImageArrayLayers</span><span class="p">;</span>
    <span class="n">VkSurfaceTransformFlagsKHR</span>       <span class="n">supportedTransforms</span><span class="p">;</span>
    <span class="n">VkSurfaceTransformFlagBitsKHR</span>    <span class="n">currentTransform</span><span class="p">;</span>
    <span class="n">VkCompositeAlphaFlagsKHR</span>         <span class="n">supportedCompositeAlpha</span><span class="p">;</span>
    <span class="n">VkImageUsageFlags</span>                <span class="n">supportedUsageFlags</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSurfaceCapabilitiesKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>minImageCount</code> is the minimum number of images the specified device
supports for a swapchain created for the surface, and will be at least
one.</p>
</li>
<li>
<p><code>maxImageCount</code> is the maximum number of images the specified device
supports for a swapchain created for the surface, and will be either 0,
or greater than or equal to <code>minImageCount</code>.
A value of 0 means that there is no limit on the number of images,
though there <strong class="purple">may</strong> be limits related to the total amount of memory used
by presentable images.</p>
</li>
<li>
<p><code>currentExtent</code> is the current width and height of the surface, or
the special value <span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span> indicating that the
surface size will be determined by the extent of a swapchain targeting
the surface.</p>
</li>
<li>
<p><code>minImageExtent</code> contains the smallest valid swapchain extent for
the surface on the specified device.
The <code>width</code> and <code>height</code> of the extent will each be less than or
equal to the corresponding <code>width</code> and <code>height</code> of
<code>currentExtent</code>, unless <code>currentExtent</code> has the special value
described above.</p>
</li>
<li>
<p><code>maxImageExtent</code> contains the largest valid swapchain extent for the
surface on the specified device.
The <code>width</code> and <code>height</code> of the extent will each be greater than
or equal to the corresponding <code>width</code> and <code>height</code> of
<code>minImageExtent</code>.
The <code>width</code> and <code>height</code> of the extent will each be greater than
or equal to the corresponding <code>width</code> and <code>height</code> of
<code>currentExtent</code>, unless <code>currentExtent</code> has the special value
described above.</p>
</li>
<li>
<p><code>maxImageArrayLayers</code> is the maximum number of layers presentable
images <strong class="purple">can</strong> have for a swapchain created for this device and surface,
and will be at least one.</p>
</li>
<li>
<p><code>supportedTransforms</code> is a bitmask of
<a href="chap34.html#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> indicating the presentation
transforms supported for the surface on the specified device.
At least one bit will be set.</p>
</li>
<li>
<p><code>currentTransform</code> is <a href="chap34.html#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> value
indicating the surface’s current transform relative to the presentation
engine’s natural orientation.</p>
</li>
<li>
<p><code>supportedCompositeAlpha</code> is a bitmask of
<a href="chap34.html#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a>, representing the alpha compositing
modes supported by the presentation engine for the surface on the
specified device, and at least one bit will be set.
Opaque composition <strong class="purple">can</strong> be achieved in any alpha compositing mode by
either using an image format that has no alpha component, or by ensuring
that all pixels in the presentable images have an alpha value of 1.0.</p>
</li>
<li>
<p><code>supportedUsageFlags</code> is a bitmask of <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a>
representing the ways the application <strong class="purple">can</strong> use the presentable images of
a swapchain created
with <a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> set to <code>VK_PRESENT_MODE_IMMEDIATE_KHR</code>,
<code>VK_PRESENT_MODE_MAILBOX_KHR</code>, <code>VK_PRESENT_MODE_FIFO_KHR</code> or
<code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>
for the surface on the specified device.
<code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> <strong class="purple">must</strong> be included in the set.
Implementations <strong class="purple">may</strong> support additional usages.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Supported usage flags of a presentable image when using
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code> presentation mode are
provided by
<a href="chap34.html#VkSharedPresentSurfaceCapabilitiesKHR">VkSharedPresentSurfaceCapabilitiesKHR</a>::<code>sharedPresentSupportedUsageFlags</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Formulas such as <span class="eq">min(N, <code>maxImageCount</code>)</span> are not correct, since
<code>maxImageCount</code> <strong class="purple">may</strong> be zero.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the basic capabilities of a surface defined by the core or
extensions, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfaceCapabilities2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_surface_capabilities2</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceSurfaceCapabilities2KHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkPhysicalDeviceSurfaceInfo2KHR</span><span class="o">*</span>      <span class="n">pSurfaceInfo</span><span class="p">,</span>
    <span class="n">VkSurfaceCapabilities2KHR</span><span class="o">*</span>                  <span class="n">pSurfaceCapabilities</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pSurfaceInfo</code> is a pointer to a
<a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure describing the surface
and other fixed parameters that would be consumed by
<a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pSurfaceCapabilities</code> is a pointer to a
<a href="chap34.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a> structure in which the capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceSurfaceCapabilities2KHR</code> behaves similarly to
<a href="chap34.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>, with the ability to specify
extended inputs via chained input structures, and to return extended
information via chained output structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-06521" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-06521"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-06521</span><br>

If the <code><a href="chap54.html#VK_GOOGLE_surfaceless_query">VK_GOOGLE_surfaceless_query</a></code> extension is not enabled,
<code>pSurfaceInfo-&gt;surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-06522" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-06522"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-06522</span><br>

If <code>pSurfaceInfo-&gt;surface</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, it <strong class="purple">must</strong> be
supported by <code>physicalDevice</code>, as reported by
<a href="chap34.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-02671" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-02671"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-02671</span><br>

If a <a href="chap34.html#VkSurfaceCapabilitiesFullScreenExclusiveEXT">VkSurfaceCapabilitiesFullScreenExclusiveEXT</a> structure is
included in the <code>pNext</code> chain of <code>pSurfaceCapabilities</code>, a
<a href="chap34.html#VkSurfaceFullScreenExclusiveWin32InfoEXT">VkSurfaceFullScreenExclusiveWin32InfoEXT</a> structure <strong class="purple">must</strong> be
included in the <code>pNext</code> chain of <code>pSurfaceInfo</code></p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07776" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07776"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07776</span><br>

If a <a href="chap34.html#VkSurfacePresentModeCompatibilityEXT">VkSurfacePresentModeCompatibilityEXT</a> structure is included in
the <code>pNext</code> chain of <code>pSurfaceCapabilities</code>, a
<a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a> structure <strong class="purple">must</strong> be included in the
<code>pNext</code> chain of <code>pSurfaceInfo</code></p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07777" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07777"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07777</span><br>

If a <a href="chap34.html#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a> structure is included
in the <code>pNext</code> chain of <code>pSurfaceCapabilities</code>, a
<a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a> structure <strong class="purple">must</strong> be included in the
<code>pNext</code> chain of <code>pSurfaceInfo</code></p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07778" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07778"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07778</span><br>

If a <a href="chap34.html#VkSurfacePresentModeCompatibilityEXT">VkSurfacePresentModeCompatibilityEXT</a> structure is included in
the <code>pNext</code> chain of <code>pSurfaceCapabilities</code>,
<code>pSurfaceInfo-&gt;surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07779" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07779"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07779</span><br>

If a <a href="chap34.html#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a> structure is included
in the <code>pNext</code> chain of <code>pSurfaceCapabilities</code>,
<code>pSurfaceInfo-&gt;surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-parameter</span><br>
 <code>pSurfaceInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceCapabilities-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceCapabilities-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceCapabilities-parameter</span><br>
 <code>pSurfaceCapabilities</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceSurfaceInfo2KHR</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceSurfaceInfo2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_surface_capabilities2</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPhysicalDeviceSurfaceInfo2KHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkSurfaceKHR</span>       <span class="n">surface</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPhysicalDeviceSurfaceInfo2KHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>surface</code> is the surface that will be associated with the swapchain.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The members of <code>VkPhysicalDeviceSurfaceInfo2KHR</code> correspond to the
arguments to <a href="chap34.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>, with
<code>sType</code> and <code>pNext</code> added for extensibility.</p>
</div>
<div class="paragraph">
<p>Additional capabilities of a surface <strong class="purple">may</strong> be available to swapchains created
with different full-screen exclusive settings - particularly if exclusive
full-screen access is application controlled.
These additional capabilities <strong class="purple">can</strong> be queried by adding a
<a href="chap34.html#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a> structure to the <code>pNext</code> chain
of this structure when used to query surface properties.
Additionally, for Win32 surfaces with application controlled exclusive
full-screen access, chaining a
<a href="chap34.html#VkSurfaceFullScreenExclusiveWin32InfoEXT">VkSurfaceFullScreenExclusiveWin32InfoEXT</a> structure <strong class="purple">may</strong> also report
additional surface capabilities.
These additional capabilities only apply to swapchains created with the same
parameters included in the <code>pNext</code> chain of
<a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceSurfaceInfo2KHR-pNext-02672" href="chap34.html#VUID-VkPhysicalDeviceSurfaceInfo2KHR-pNext-02672"></a> <span class="vuid">VUID-VkPhysicalDeviceSurfaceInfo2KHR-pNext-02672</span><br>

If the <code>pNext</code> chain includes a
<a href="chap34.html#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a> structure with its
<code>fullScreenExclusive</code> member set to
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code>, and
<code>surface</code> was created using <a href="chap34.html#vkCreateWin32SurfaceKHR">vkCreateWin32SurfaceKHR</a>, a
<a href="chap34.html#VkSurfaceFullScreenExclusiveWin32InfoEXT">VkSurfaceFullScreenExclusiveWin32InfoEXT</a> structure <strong class="purple">must</strong> be
included in the <code>pNext</code> chain</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceSurfaceInfo2KHR-pSurfaceInfo-06526" href="chap34.html#VUID-VkPhysicalDeviceSurfaceInfo2KHR-pSurfaceInfo-06526"></a> <span class="vuid">VUID-VkPhysicalDeviceSurfaceInfo2KHR-pSurfaceInfo-06526</span><br>

When passed as the <code>pSurfaceInfo</code> parameter of
<a href="chap34.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>, if the
<code><a href="chap54.html#VK_GOOGLE_surfaceless_query">VK_GOOGLE_surfaceless_query</a></code> extension is enabled and the
<code>pNext</code> chain of the <code>pSurfaceCapabilities</code> parameter includes
<code>VkSurfaceProtectedCapabilitiesKHR</code>, then <code>surface</code> <strong class="purple">can</strong> be
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>.
Otherwise, <code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceSurfaceInfo2KHR-pSurfaceInfo-06527" href="chap34.html#VUID-VkPhysicalDeviceSurfaceInfo2KHR-pSurfaceInfo-06527"></a> <span class="vuid">VUID-VkPhysicalDeviceSurfaceInfo2KHR-pSurfaceInfo-06527</span><br>

When passed as the <code>pSurfaceInfo</code> parameter of
<a href="chap34.html#vkGetPhysicalDeviceSurfaceFormats2KHR">vkGetPhysicalDeviceSurfaceFormats2KHR</a>, if the
<code><a href="chap54.html#VK_GOOGLE_surfaceless_query">VK_GOOGLE_surfaceless_query</a></code> extension is enabled, then
<code>surface</code> <strong class="purple">can</strong> be <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>.
Otherwise, <code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceSurfaceInfo2KHR-pSurfaceInfo-06528" href="chap34.html#VUID-VkPhysicalDeviceSurfaceInfo2KHR-pSurfaceInfo-06528"></a> <span class="vuid">VUID-VkPhysicalDeviceSurfaceInfo2KHR-pSurfaceInfo-06528</span><br>

When passed as the <code>pSurfaceInfo</code> parameter of
<a href="chap34.html#vkGetPhysicalDeviceSurfacePresentModes2EXT">vkGetPhysicalDeviceSurfacePresentModes2EXT</a>, if the
<code><a href="chap54.html#VK_GOOGLE_surfaceless_query">VK_GOOGLE_surfaceless_query</a></code> extension is enabled, then
<code>surface</code> <strong class="purple">can</strong> be <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>.
Otherwise, <code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceSurfaceInfo2KHR-sType-sType" href="chap34.html#VUID-VkPhysicalDeviceSurfaceInfo2KHR-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceSurfaceInfo2KHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SURFACE_INFO_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceSurfaceInfo2KHR-pNext-pNext" href="chap34.html#VUID-VkPhysicalDeviceSurfaceInfo2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceSurfaceInfo2KHR-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong class="purple">must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="chap34.html#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a>, <a href="chap34.html#VkSurfaceFullScreenExclusiveWin32InfoEXT">VkSurfaceFullScreenExclusiveWin32InfoEXT</a>, or <a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceSurfaceInfo2KHR-sType-unique" href="chap34.html#VUID-VkPhysicalDeviceSurfaceInfo2KHR-sType-unique"></a> <span class="vuid">VUID-VkPhysicalDeviceSurfaceInfo2KHR-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceSurfaceInfo2KHR-surface-parameter" href="chap34.html#VUID-VkPhysicalDeviceSurfaceInfo2KHR-surface-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceSurfaceInfo2KHR-surface-parameter</span><br>
 If <code>surface</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> includes a
<code>VkSurfaceFullScreenExclusiveInfoEXT</code> structure, then that structure
specifies the application’s preferred full-screen transition behavior.</p>
</div>
<div class="paragraph">
<p>The <code>VkSurfaceFullScreenExclusiveInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkSurfaceFullScreenExclusiveInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_full_screen_exclusive</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSurfaceFullScreenExclusiveInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>             <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                       <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkFullScreenExclusiveEXT</span>    <span class="n">fullScreenExclusive</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSurfaceFullScreenExclusiveInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>fullScreenExclusive</code> is a <a href="chap34.html#VkFullScreenExclusiveEXT">VkFullScreenExclusiveEXT</a> value
specifying the preferred full-screen transition behavior.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this structure is not present, <code>fullScreenExclusive</code> is considered to
be <code>VK_FULL_SCREEN_EXCLUSIVE_DEFAULT_EXT</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceFullScreenExclusiveInfoEXT-sType-sType" href="chap34.html#VUID-VkSurfaceFullScreenExclusiveInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSurfaceFullScreenExclusiveInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_FULL_SCREEN_EXCLUSIVE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSurfaceFullScreenExclusiveInfoEXT-fullScreenExclusive-parameter" href="chap34.html#VUID-VkSurfaceFullScreenExclusiveInfoEXT-fullScreenExclusive-parameter"></a> <span class="vuid">VUID-VkSurfaceFullScreenExclusiveInfoEXT-fullScreenExclusive-parameter</span><br>
 <code>fullScreenExclusive</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkFullScreenExclusiveEXT">VkFullScreenExclusiveEXT</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<code>VkSurfaceFullScreenExclusiveInfoEXT</code>::<code>fullScreenExclusive</code> are:</p>
</div>
<div id="VkFullScreenExclusiveEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_full_screen_exclusive</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkFullScreenExclusiveEXT</span> <span class="p">{</span>
    <span class="n">VK_FULL_SCREEN_EXCLUSIVE_DEFAULT_EXT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_FULL_SCREEN_EXCLUSIVE_ALLOWED_EXT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_FULL_SCREEN_EXCLUSIVE_DISALLOWED_EXT</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkFullScreenExclusiveEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FULL_SCREEN_EXCLUSIVE_DEFAULT_EXT</code> indicates the implementation
<strong class="purple">should</strong> determine the appropriate full-screen method by whatever means
it deems appropriate.</p>
</li>
<li>
<p><code>VK_FULL_SCREEN_EXCLUSIVE_ALLOWED_EXT</code> indicates the implementation
<strong class="purple">may</strong> use full-screen exclusive mechanisms when available.
Such mechanisms <strong class="purple">may</strong> result in better performance and/or the
availability of different presentation capabilities, but <strong class="purple">may</strong> require a
more disruptive transition during swapchain initialization, first
presentation and/or destruction.</p>
</li>
<li>
<p><code>VK_FULL_SCREEN_EXCLUSIVE_DISALLOWED_EXT</code> indicates the
implementation <strong class="purple">should</strong> avoid using full-screen mechanisms which rely on
disruptive transitions.</p>
</li>
<li>
<p><code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code> indicates the
application will manage full-screen exclusive mode by using the
<a href="chap34.html#vkAcquireFullScreenExclusiveModeEXT">vkAcquireFullScreenExclusiveModeEXT</a> and
<a href="chap34.html#vkReleaseFullScreenExclusiveModeEXT">vkReleaseFullScreenExclusiveModeEXT</a> commands.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceFullScreenExclusiveWin32InfoEXT</code> structure is defined as:</p>
</div>
<div id="VkSurfaceFullScreenExclusiveWin32InfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_win32_surface with VK_EXT_full_screen_exclusive</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSurfaceFullScreenExclusiveWin32InfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">HMONITOR</span>           <span class="n">hmonitor</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSurfaceFullScreenExclusiveWin32InfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>hmonitor</code> is the Win32 <code>HMONITOR</code> handle identifying the display
to create the surface with.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If <code>hmonitor</code> is invalidated (e.g. the monitor is unplugged) during the
lifetime of a swapchain created with this structure, operations on that
swapchain will return <code>VK_ERROR_OUT_OF_DATE_KHR</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is the responsibility of the application to change the display settings
of the targeted Win32 display using the appropriate platform APIs.
Such changes <strong class="purple">may</strong> alter the surface capabilities reported for the created
surface.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceFullScreenExclusiveWin32InfoEXT-hmonitor-02673" href="chap34.html#VUID-VkSurfaceFullScreenExclusiveWin32InfoEXT-hmonitor-02673"></a> <span class="vuid">VUID-VkSurfaceFullScreenExclusiveWin32InfoEXT-hmonitor-02673</span><br>

<code>hmonitor</code> <strong class="purple">must</strong> be a valid <code>HMONITOR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceFullScreenExclusiveWin32InfoEXT-sType-sType" href="chap34.html#VUID-VkSurfaceFullScreenExclusiveWin32InfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSurfaceFullScreenExclusiveWin32InfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_FULL_SCREEN_EXCLUSIVE_WIN32_INFO_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceCapabilities2KHR</code> structure is defined as:</p>
</div>
<div id="VkSurfaceCapabilities2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_surface_capabilities2</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSurfaceCapabilities2KHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>             <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                       <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkSurfaceCapabilitiesKHR</span>    <span class="n">surfaceCapabilities</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSurfaceCapabilities2KHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>surfaceCapabilities</code> is a <a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a> structure
describing the capabilities of the specified surface.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code><a href="chap54.html#VK_GOOGLE_surfaceless_query">VK_GOOGLE_surfaceless_query</a></code> extension is enabled and
<a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a>::<code>surface</code> in the
<a href="chap34.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a> call is
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the values returned in <code>minImageCount</code>,
<code>maxImageCount</code>, <code>currentExtent</code>, and <code>currentTransform</code> will
not reflect that of any surface and will instead be as such:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>minImageCount</code> and <code>maxImageCount</code> will be <span class="eq">0xFFFFFFFF</span></p>
</li>
<li>
<p><code>currentExtent</code> will be <span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span></p>
</li>
<li>
<p><code>currentTransform</code> will be
<code>VK_SURFACE_TRANSFORM_INHERIT_BIT_KHR</code></p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceCapabilities2KHR-sType-sType" href="chap34.html#VUID-VkSurfaceCapabilities2KHR-sType-sType"></a> <span class="vuid">VUID-VkSurfaceCapabilities2KHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkSurfaceCapabilities2KHR-pNext-pNext" href="chap34.html#VUID-VkSurfaceCapabilities2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkSurfaceCapabilities2KHR-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong class="purple">must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="chap34.html#VkDisplayNativeHdrSurfaceCapabilitiesAMD">VkDisplayNativeHdrSurfaceCapabilitiesAMD</a>, <a href="chap34.html#VkSharedPresentSurfaceCapabilitiesKHR">VkSharedPresentSurfaceCapabilitiesKHR</a>, <a href="chap34.html#VkSurfaceCapabilitiesFullScreenExclusiveEXT">VkSurfaceCapabilitiesFullScreenExclusiveEXT</a>, <a href="chap34.html#VkSurfaceCapabilitiesPresentBarrierNV">VkSurfaceCapabilitiesPresentBarrierNV</a>, <a href="chap34.html#VkSurfacePresentModeCompatibilityEXT">VkSurfacePresentModeCompatibilityEXT</a>, <a href="chap34.html#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>, or <a href="chap34.html#VkSurfaceProtectedCapabilitiesKHR">VkSurfaceProtectedCapabilitiesKHR</a></p>
</li>
<li>
<p><a id="VUID-VkSurfaceCapabilities2KHR-sType-unique" href="chap34.html#VUID-VkSurfaceCapabilities2KHR-sType-unique"></a> <span class="vuid">VUID-VkSurfaceCapabilities2KHR-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>An application queries if a protected <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> is displayable on a
specific windowing system using <code>VkSurfaceProtectedCapabilitiesKHR</code>,
which <strong class="purple">can</strong> be passed in <code>pNext</code> parameter of
<code>VkSurfaceCapabilities2KHR</code>.</p>
</div>
<div class="paragraph">
<p>The <code>VkSurfaceProtectedCapabilitiesKHR</code> structure is defined as:</p>
</div>
<div id="VkSurfaceProtectedCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface_protected_capabilities</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSurfaceProtectedCapabilitiesKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkBool32</span>           <span class="n">supportsProtected</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSurfaceProtectedCapabilitiesKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>supportsProtected</code> specifies whether a protected swapchain created
from <a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a>::<code>surface</code> for a
particular windowing system <strong class="purple">can</strong> be displayed on screen or not.
If <code>supportsProtected</code> is <code>VK_TRUE</code>, then creation of swapchains
with the <code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code> flag set <strong class="purple">must</strong> be
supported for <code>surface</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code><a href="chap54.html#VK_GOOGLE_surfaceless_query">VK_GOOGLE_surfaceless_query</a></code> extension is enabled, the value
returned in <code>supportsProtected</code> will be identical for every valid
surface created on this physical device, and so in the
<a href="chap34.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a> call,
<a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a>::<code>surface</code> <strong class="purple">can</strong> be
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>.
In that case, the contents of
<a href="chap34.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a>::<code>surfaceCapabilities</code> as well as any
other struct chained to it will be undefined.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceProtectedCapabilitiesKHR-sType-sType" href="chap34.html#VUID-VkSurfaceProtectedCapabilitiesKHR-sType-sType"></a> <span class="vuid">VUID-VkSurfaceProtectedCapabilitiesKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_PROTECTED_CAPABILITIES_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfacePresentScalingCapabilitiesEXT</code> structure is defined as:</p>
</div>
<div id="VkSurfacePresentScalingCapabilitiesEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_surface_maintenance1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSurfacePresentScalingCapabilitiesEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>             <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                       <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkPresentScalingFlagsEXT</span>    <span class="n">supportedPresentScaling</span><span class="p">;</span>
    <span class="n">VkPresentGravityFlagsEXT</span>    <span class="n">supportedPresentGravityX</span><span class="p">;</span>
    <span class="n">VkPresentGravityFlagsEXT</span>    <span class="n">supportedPresentGravityY</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                  <span class="n">minScaledImageExtent</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                  <span class="n">maxScaledImageExtent</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSurfacePresentScalingCapabilitiesEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>supportedPresentScaling</code> is a bitmask of
<a href="chap34.html#VkPresentScalingFlagBitsEXT">VkPresentScalingFlagBitsEXT</a> representing the scaling methods
supported by the surface, or <code>0</code> if application-defined scaling is not
supported.</p>
</li>
<li>
<p><code>supportedPresentGravityX</code> is a bitmask of
<a href="chap34.html#VkPresentGravityFlagBitsEXT">VkPresentGravityFlagBitsEXT</a> representing the X-axis pixel gravity
supported by the surface, or <code>0</code> if Vulkan-defined pixel gravity is not
supported for the X axis.</p>
</li>
<li>
<p><code>supportedPresentGravityY</code> is a bitmask of
<a href="chap34.html#VkPresentGravityFlagBitsEXT">VkPresentGravityFlagBitsEXT</a> representing the Y-axis pixel gravity
supported by the surface, or <code>0</code> if Vulkan-defined pixel gravity is not
supported for the Y axis.</p>
</li>
<li>
<p><code>minScaledImageExtent</code> contains the smallest valid swapchain extent
for the surface on the specified device when one of the scaling methods
specified in <code>supportedPresentScaling</code> is used, or the special value
<span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span> indicating that the surface size will be
determined by the extent of a swapchain targeting the surface.
The <code>width</code> and <code>height</code> of the extent will each be smaller than
or equal to the corresponding <code>width</code> and <code>height</code> of
<a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>minImageExtent</code>.</p>
</li>
<li>
<p><code>maxScaledImageExtent</code> contains the largest valid swapchain extent
for the surface on the specified device when one of the scaling methods
specified in <code>supportedPresentScaling</code> is used, or the special value
described above for <code>minScaledImageExtent</code>.
The <code>width</code> and <code>height</code> of the extent will each be greater than
or equal to the corresponding <code>width</code> and <code>height</code> of
<a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>maxImageExtent</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Before creating a swapchain whose scaling mode <strong class="purple">can</strong> be specified through the
use of <a href="chap34.html#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a>, obtain the set of
supported scaling modes by including a <a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a>
structure in the <code>pNext</code> chain of <a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a>
when calling <a href="chap34.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.
The implementation <strong class="purple">must</strong> return the same values in
<code>VkSurfacePresentScalingCapabilitiesEXT</code> for any of the compatible
present modes as obtained through
<a href="chap34.html#VkSurfacePresentModeCompatibilityEXT">VkSurfacePresentModeCompatibilityEXT</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfacePresentScalingCapabilitiesEXT-sType-sType" href="chap34.html#VUID-VkSurfacePresentScalingCapabilitiesEXT-sType-sType"></a> <span class="vuid">VUID-VkSurfacePresentScalingCapabilitiesEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_PRESENT_SCALING_CAPABILITIES_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSurfacePresentScalingCapabilitiesEXT-supportedPresentScaling-parameter" href="chap34.html#VUID-VkSurfacePresentScalingCapabilitiesEXT-supportedPresentScaling-parameter"></a> <span class="vuid">VUID-VkSurfacePresentScalingCapabilitiesEXT-supportedPresentScaling-parameter</span><br>
 <code>supportedPresentScaling</code> <strong class="purple">must</strong> be a valid combination of <a href="chap34.html#VkPresentScalingFlagBitsEXT">VkPresentScalingFlagBitsEXT</a> values</p>
</li>
<li>
<p><a id="VUID-VkSurfacePresentScalingCapabilitiesEXT-supportedPresentGravityX-parameter" href="chap34.html#VUID-VkSurfacePresentScalingCapabilitiesEXT-supportedPresentGravityX-parameter"></a> <span class="vuid">VUID-VkSurfacePresentScalingCapabilitiesEXT-supportedPresentGravityX-parameter</span><br>
 <code>supportedPresentGravityX</code> <strong class="purple">must</strong> be a valid combination of <a href="chap34.html#VkPresentGravityFlagBitsEXT">VkPresentGravityFlagBitsEXT</a> values</p>
</li>
<li>
<p><a id="VUID-VkSurfacePresentScalingCapabilitiesEXT-supportedPresentGravityY-parameter" href="chap34.html#VUID-VkSurfacePresentScalingCapabilitiesEXT-supportedPresentGravityY-parameter"></a> <span class="vuid">VUID-VkSurfacePresentScalingCapabilitiesEXT-supportedPresentGravityY-parameter</span><br>
 <code>supportedPresentGravityY</code> <strong class="purple">must</strong> be a valid combination of <a href="chap34.html#VkPresentGravityFlagBitsEXT">VkPresentGravityFlagBitsEXT</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in
<a href="chap34.html#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentScaling</code>,
specifying scaling modes supported by the surface, are:</p>
</div>
<div id="VkPresentScalingFlagBitsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_surface_maintenance1</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkPresentScalingFlagBitsEXT</span> <span class="p">{</span>
    <span class="n">VK_PRESENT_SCALING_ONE_TO_ONE_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_PRESENT_SCALING_ASPECT_RATIO_STRETCH_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
    <span class="n">VK_PRESENT_SCALING_STRETCH_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkPresentScalingFlagBitsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PRESENT_SCALING_ONE_TO_ONE_BIT_EXT</code> specifies that no scaling
occurs, and pixels in the swapchain image are mapped to one and only one
pixel in the surface.
The mapping between pixels is defined by the chosen presentation
gravity.</p>
</li>
<li>
<p><code>VK_PRESENT_SCALING_ASPECT_RATIO_STRETCH_BIT_EXT</code> specifies that the
swapchain image will be minified or magnified such that at least one of
the resulting width or height is equal to the corresponding surface
dimension, and the other resulting dimension is less than or equal to
the corresponding surface dimension, with the aspect ratio of the
resulting image being identical to that of the original swapchain image.</p>
</li>
<li>
<p><code>VK_PRESENT_SCALING_STRETCH_BIT_EXT</code> specifies that the swapchain
image will be minified or magnified such that the resulting image
dimensions are equal to those of the surface.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPresentScalingFlagsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_surface_maintenance1</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkPresentScalingFlagsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPresentScalingFlagsEXT</code> is a bitmask type for setting a mask of zero
or more <a href="chap34.html#VkPresentScalingFlagBitsEXT">VkPresentScalingFlagBitsEXT</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in the
<a href="chap34.html#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentGravityX</code>
or <code>supportedPresentGravityY</code> fields, specifying the gravity of
presented pixels supported by the surface, are:</p>
</div>
<div id="VkPresentGravityFlagBitsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_surface_maintenance1</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkPresentGravityFlagBitsEXT</span> <span class="p">{</span>
    <span class="n">VK_PRESENT_GRAVITY_MIN_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_PRESENT_GRAVITY_MAX_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
    <span class="n">VK_PRESENT_GRAVITY_CENTERED_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkPresentGravityFlagBitsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PRESENT_GRAVITY_MIN_BIT_EXT</code> means that the pixels will
gravitate towards the top or left side of the surface.</p>
</li>
<li>
<p><code>VK_PRESENT_GRAVITY_MAX_BIT_EXT</code> means that the pixels will
gravitate towards the bottom or right side of the surface.</p>
</li>
<li>
<p><code>VK_PRESENT_GRAVITY_CENTERED_BIT_EXT</code> means that the pixels will be
centered in the surface.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the value in <a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentTransform</code> is
not <code>VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</code>, it is
implementation-defined whether the gravity configuration applies to the
presented image before or after transformation.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPresentGravityFlagsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_surface_maintenance1</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkPresentGravityFlagsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPresentGravityFlagsEXT</code> is a bitmask type for setting a mask of zero
or more <a href="chap34.html#VkPresentGravityFlagBitsEXT">VkPresentGravityFlagBitsEXT</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfacePresentModeEXT</code> structure is defined as:</p>
</div>
<div id="VkSurfacePresentModeEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_surface_maintenance1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSurfacePresentModeEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>     <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>               <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkPresentModeKHR</span>    <span class="n">presentMode</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSurfacePresentModeEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentMode</code> is the presentation mode the swapchain will use.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>VkSurfacePresentModeEXT</code> structure is included in the
<code>pNext</code> chain of <a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a>, the values
returned in <a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>minImageCount</code>,
<a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>maxImageCount</code>,
<a href="chap34.html#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>minScaledImageExtent</code>,
and <a href="chap34.html#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>maxScaledImageExtent</code>
are valid only for the specified <code>presentMode</code>.
If <code>presentMode</code> is <code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>, the per-present mode
image counts <strong class="purple">must</strong> both be one.
The per-present mode image counts <strong class="purple">may</strong> be less-than or greater-than the
image counts returned when <code>VkSurfacePresentModeEXT</code> is not provided.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If <a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a> is provided to swapchain
creation, the requirements for forward progress may be less strict.
For example, a FIFO swapchain might only require 2 images to guarantee
forward progress, but a MAILBOX one might require 4.
Without the per-present image counts, such an implementation would have to
return 4 in <a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>minImageCount</code>, which
pessimizes FIFO.
Conversely, an implementation may return a low number for minImageCount, but
internally bump the image count when application queries
<a href="chap34.html#vkGetSwapchainImagesKHR">vkGetSwapchainImagesKHR</a>, which can surprise applications, and is not
discoverable until swapchain creation.
Using <code>VkSurfacePresentModeEXT</code> and
<a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a> together effectively removes this
problem.</p>
</div>
<div class="paragraph">
<p><a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a> is required for the specification
to be backwards compatible with applications that do not know about, or make
use of this feature.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfacePresentModeEXT-presentMode-07780" href="chap34.html#VUID-VkSurfacePresentModeEXT-presentMode-07780"></a> <span class="vuid">VUID-VkSurfacePresentModeEXT-presentMode-07780</span><br>

<code>presentMode</code> <strong class="purple">must</strong> be a value reported by
<a href="chap34.html#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a> for the specified
surface.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfacePresentModeEXT-sType-sType" href="chap34.html#VUID-VkSurfacePresentModeEXT-sType-sType"></a> <span class="vuid">VUID-VkSurfacePresentModeEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_PRESENT_MODE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSurfacePresentModeEXT-presentMode-parameter" href="chap34.html#VUID-VkSurfacePresentModeEXT-presentMode-parameter"></a> <span class="vuid">VUID-VkSurfacePresentModeEXT-presentMode-parameter</span><br>
 <code>presentMode</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfacePresentModeCompatibilityEXT</code> structure is defined as:</p>
</div>
<div id="VkSurfacePresentModeCompatibilityEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_surface_maintenance1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSurfacePresentModeCompatibilityEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>      <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>             <span class="n">presentModeCount</span><span class="p">;</span>
    <span class="n">VkPresentModeKHR</span><span class="o">*</span>    <span class="n">pPresentModes</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSurfacePresentModeCompatibilityEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentModeCount</code> is an integer related to the number of present
modes available or queried, as described below.</p>
</li>
<li>
<p><code>pPresentModes</code> is a pointer to an array of <a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a>
in which present modes compatible with a given present mode are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pPresentModes</code> is <code>NULL</code>, then the number of present modes that are
compatible with the one specified in <a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a> is
returned in <code>presentModeCount</code>.
Otherwise, <code>presentModeCount</code> must be set by the user to the number of
elements in the <code>pPresentModes</code> array, and on return the variable is
overwritten with the number of values actually written to
<code>pPresentModes</code>.
If the value of <code>presentModeCount</code> is less than the number of compatible
present modes that are supported, at most <code>presentModeCount</code> values will
be written to <code>pPresentModes</code>.
The implementation <strong class="purple">must</strong> include the present mode passed to
<a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a> in <code>pPresentModes</code>, unless
<code>presentModeCount</code> is zero.</p>
</div>
<div class="paragraph">
<p>Before creating a swapchain whose present modes <strong class="purple">can</strong> be modified through the
use of <a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>, obtain the set of present
modes compatible with a given initial present mode by including a
<a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a> structure in the <code>pNext</code> chain of
<a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> when calling
<a href="chap34.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfacePresentModeCompatibilityEXT-sType-sType" href="chap34.html#VUID-VkSurfacePresentModeCompatibilityEXT-sType-sType"></a> <span class="vuid">VUID-VkSurfacePresentModeCompatibilityEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_PRESENT_MODE_COMPATIBILITY_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSurfacePresentModeCompatibilityEXT-pPresentModes-parameter" href="chap34.html#VUID-VkSurfacePresentModeCompatibilityEXT-pPresentModes-parameter"></a> <span class="vuid">VUID-VkSurfacePresentModeCompatibilityEXT-pPresentModes-parameter</span><br>
 If <code>presentModeCount</code> is not <code>0</code>, and <code>pPresentModes</code> is not <code>NULL</code>, <code>pPresentModes</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>presentModeCount</code> <a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSharedPresentSurfaceCapabilitiesKHR</code> structure is defined as:</p>
</div>
<div id="VkSharedPresentSurfaceCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_shared_presentable_image</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSharedPresentSurfaceCapabilitiesKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>      <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkImageUsageFlags</span>    <span class="n">sharedPresentSupportedUsageFlags</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSharedPresentSurfaceCapabilitiesKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>sharedPresentSupportedUsageFlags</code> is a bitmask of
<a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a> representing the ways the application <strong class="purple">can</strong>
use the shared presentable image from a swapchain created with
<a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> set to
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code> for the surface on
the specified device.
<code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> <strong class="purple">must</strong> be included in the set
but implementations <strong class="purple">may</strong> support additional usages.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSharedPresentSurfaceCapabilitiesKHR-sType-sType" href="chap34.html#VUID-VkSharedPresentSurfaceCapabilitiesKHR-sType-sType"></a> <span class="vuid">VUID-VkSharedPresentSurfaceCapabilitiesKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SHARED_PRESENT_SURFACE_CAPABILITIES_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayNativeHdrSurfaceCapabilitiesAMD</code> structure is defined as:</p>
</div>
<div id="VkDisplayNativeHdrSurfaceCapabilitiesAMD" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_AMD_display_native_hdr</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayNativeHdrSurfaceCapabilitiesAMD</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>              <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkBool32</span>           <span class="n">localDimmingSupport</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayNativeHdrSurfaceCapabilitiesAMD</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>localDimmingSupport</code> specifies whether the surface supports local
dimming.
If this is <code>VK_TRUE</code>, <a href="chap34.html#VkSwapchainDisplayNativeHdrCreateInfoAMD">VkSwapchainDisplayNativeHdrCreateInfoAMD</a>
<strong class="purple">can</strong> be used to explicitly enable or disable local dimming for the
surface.
Local dimming may also be overridden by <a href="chap34.html#vkSetLocalDimmingAMD">vkSetLocalDimmingAMD</a>
during the lifetime of the swapchain.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayNativeHdrSurfaceCapabilitiesAMD-sType-sType" href="chap34.html#VUID-VkDisplayNativeHdrSurfaceCapabilitiesAMD-sType-sType"></a> <span class="vuid">VUID-VkDisplayNativeHdrSurfaceCapabilitiesAMD-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_NATIVE_HDR_SURFACE_CAPABILITIES_AMD</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceCapabilitiesFullScreenExclusiveEXT</code> structure is defined
as:</p>
</div>
<div id="VkSurfaceCapabilitiesFullScreenExclusiveEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_full_screen_exclusive</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSurfaceCapabilitiesFullScreenExclusiveEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>              <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkBool32</span>           <span class="n">fullScreenExclusiveSupported</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSurfaceCapabilitiesFullScreenExclusiveEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>fullScreenExclusiveControlSupported</code> is a boolean describing
whether the surface is able to make use of exclusive full-screen access.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This structure <strong class="purple">can</strong> be included in the <code>pNext</code> chain of
<a href="chap34.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a> to determine support for exclusive
full-screen access.
If <code>fullScreenExclusiveSupported</code> is <code>VK_FALSE</code>, it indicates that
exclusive full-screen access is not obtainable for this surface.</p>
</div>
<div class="paragraph">
<p>Applications <strong class="purple">must</strong> not attempt to create swapchains with
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code> set if
<code>fullScreenExclusiveSupported</code> is <code>VK_FALSE</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceCapabilitiesFullScreenExclusiveEXT-sType-sType" href="chap34.html#VUID-VkSurfaceCapabilitiesFullScreenExclusiveEXT-sType-sType"></a> <span class="vuid">VUID-VkSurfaceCapabilitiesFullScreenExclusiveEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_FULL_SCREEN_EXCLUSIVE_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceCapabilitiesPresentBarrierNV</code> structure is defined as:</p>
</div>
<div id="VkSurfaceCapabilitiesPresentBarrierNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_present_barrier</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSurfaceCapabilitiesPresentBarrierNV</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>              <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkBool32</span>           <span class="n">presentBarrierSupported</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSurfaceCapabilitiesPresentBarrierNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentBarrierSupported</code> is a boolean describing whether the
surface is able to make use of the present barrier feature.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This structure <strong class="purple">can</strong> be included in the <code>pNext</code> chain of
<a href="chap34.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a> to determine support for present barrier
access.
If <code>presentBarrierSupported</code> is <code>VK_FALSE</code>, it indicates that the
present barrier feature is not obtainable for this surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceCapabilitiesPresentBarrierNV-sType-sType" href="chap34.html#VUID-VkSurfaceCapabilitiesPresentBarrierNV-sType-sType"></a> <span class="vuid">VUID-VkSurfaceCapabilitiesPresentBarrierNV-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_PRESENT_BARRIER_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the basic capabilities of a surface, needed in order to create a
swapchain, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfaceCapabilities2EXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_display_surface_counter</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceSurfaceCapabilities2EXT</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span>                                <span class="n">surface</span><span class="p">,</span>
    <span class="n">VkSurfaceCapabilities2EXT</span><span class="o">*</span>                  <span class="n">pSurfaceCapabilities</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>surface</code> is the surface that will be associated with the swapchain.</p>
</li>
<li>
<p><code>pSurfaceCapabilities</code> is a pointer to a
<a href="chap34.html#VkSurfaceCapabilities2EXT">VkSurfaceCapabilities2EXT</a> structure in which the capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceSurfaceCapabilities2EXT</code> behaves similarly to
<a href="chap34.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>, with the ability to return
extended information by adding extending structures to the <code>pNext</code> chain
of its <code>pSurfaceCapabilities</code> parameter.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-surface-06523" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-surface-06523"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-surface-06523</span><br>

<code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-surface-06211" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-surface-06211"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-surface-06211</span><br>

<code>surface</code> <strong class="purple">must</strong> be supported by <code>physicalDevice</code>, as reported by
<a href="chap34.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-surface-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-surface-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-surface-parameter</span><br>
 <code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-pSurfaceCapabilities-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-pSurfaceCapabilities-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-pSurfaceCapabilities-parameter</span><br>
 <code>pSurfaceCapabilities</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSurfaceCapabilities2EXT">VkSurfaceCapabilities2EXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-commonparent" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-commonparent"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-commonparent</span><br>
 Both of <code>physicalDevice</code>, and <code>surface</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap4.html#VkInstance">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceCapabilities2EXT</code> structure is defined as:</p>
</div>
<div id="VkSurfaceCapabilities2EXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_display_surface_counter</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSurfaceCapabilities2EXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                  <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                            <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                         <span class="n">minImageCount</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                         <span class="n">maxImageCount</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                       <span class="n">currentExtent</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                       <span class="n">minImageExtent</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                       <span class="n">maxImageExtent</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                         <span class="n">maxImageArrayLayers</span><span class="p">;</span>
    <span class="n">VkSurfaceTransformFlagsKHR</span>       <span class="n">supportedTransforms</span><span class="p">;</span>
    <span class="n">VkSurfaceTransformFlagBitsKHR</span>    <span class="n">currentTransform</span><span class="p">;</span>
    <span class="n">VkCompositeAlphaFlagsKHR</span>         <span class="n">supportedCompositeAlpha</span><span class="p">;</span>
    <span class="n">VkImageUsageFlags</span>                <span class="n">supportedUsageFlags</span><span class="p">;</span>
    <span class="n">VkSurfaceCounterFlagsEXT</span>         <span class="n">supportedSurfaceCounters</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSurfaceCapabilities2EXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>minImageCount</code> is the minimum number of images the specified device
supports for a swapchain created for the surface, and will be at least
one.</p>
</li>
<li>
<p><code>maxImageCount</code> is the maximum number of images the specified device
supports for a swapchain created for the surface, and will be either 0,
or greater than or equal to <code>minImageCount</code>.
A value of 0 means that there is no limit on the number of images,
though there <strong class="purple">may</strong> be limits related to the total amount of memory used
by presentable images.</p>
</li>
<li>
<p><code>currentExtent</code> is the current width and height of the surface, or
the special value <span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span> indicating that the
surface size will be determined by the extent of a swapchain targeting
the surface.</p>
</li>
<li>
<p><code>minImageExtent</code> contains the smallest valid swapchain extent for
the surface on the specified device.
The <code>width</code> and <code>height</code> of the extent will each be less than or
equal to the corresponding <code>width</code> and <code>height</code> of
<code>currentExtent</code>, unless <code>currentExtent</code> has the special value
described above.</p>
</li>
<li>
<p><code>maxImageExtent</code> contains the largest valid swapchain extent for the
surface on the specified device.
The <code>width</code> and <code>height</code> of the extent will each be greater than
or equal to the corresponding <code>width</code> and <code>height</code> of
<code>minImageExtent</code>.
The <code>width</code> and <code>height</code> of the extent will each be greater than
or equal to the corresponding <code>width</code> and <code>height</code> of
<code>currentExtent</code>, unless <code>currentExtent</code> has the special value
described above.</p>
</li>
<li>
<p><code>maxImageArrayLayers</code> is the maximum number of layers presentable
images <strong class="purple">can</strong> have for a swapchain created for this device and surface,
and will be at least one.</p>
</li>
<li>
<p><code>supportedTransforms</code> is a bitmask of
<a href="chap34.html#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> indicating the presentation
transforms supported for the surface on the specified device.
At least one bit will be set.</p>
</li>
<li>
<p><code>currentTransform</code> is <a href="chap34.html#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> value
indicating the surface’s current transform relative to the presentation
engine’s natural orientation.</p>
</li>
<li>
<p><code>supportedCompositeAlpha</code> is a bitmask of
<a href="chap34.html#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a>, representing the alpha compositing
modes supported by the presentation engine for the surface on the
specified device, and at least one bit will be set.
Opaque composition <strong class="purple">can</strong> be achieved in any alpha compositing mode by
either using an image format that has no alpha component, or by ensuring
that all pixels in the presentable images have an alpha value of 1.0.</p>
</li>
<li>
<p><code>supportedUsageFlags</code> is a bitmask of <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a>
representing the ways the application <strong class="purple">can</strong> use the presentable images of
a swapchain created
with <a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> set to <code>VK_PRESENT_MODE_IMMEDIATE_KHR</code>,
<code>VK_PRESENT_MODE_MAILBOX_KHR</code>, <code>VK_PRESENT_MODE_FIFO_KHR</code> or
<code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>
for the surface on the specified device.
<code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> <strong class="purple">must</strong> be included in the set.
Implementations <strong class="purple">may</strong> support additional usages.</p>
</li>
<li>
<p><code>supportedSurfaceCounters</code> is a bitmask of
<a href="chap34.html#VkSurfaceCounterFlagBitsEXT">VkSurfaceCounterFlagBitsEXT</a> indicating the supported surface
counter types.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceCapabilities2EXT-supportedSurfaceCounters-01246" href="chap34.html#VUID-VkSurfaceCapabilities2EXT-supportedSurfaceCounters-01246"></a> <span class="vuid">VUID-VkSurfaceCapabilities2EXT-supportedSurfaceCounters-01246</span><br>

<code>supportedSurfaceCounters</code> <strong class="purple">must</strong> not include
<code>VK_SURFACE_COUNTER_VBLANK_BIT_EXT</code> unless the surface queried is a
<a href="chap34.html#wsi-display-surfaces">display surface</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceCapabilities2EXT-sType-sType" href="chap34.html#VUID-VkSurfaceCapabilities2EXT-sType-sType"></a> <span class="vuid">VUID-VkSurfaceCapabilities2EXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_2_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSurfaceCapabilities2EXT-pNext-pNext" href="chap34.html#VUID-VkSurfaceCapabilities2EXT-pNext-pNext"></a> <span class="vuid">VUID-VkSurfaceCapabilities2EXT-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in
<a href="chap34.html#VkSurfaceCapabilities2EXT">VkSurfaceCapabilities2EXT</a>::<code>supportedSurfaceCounters</code>, indicating
supported surface counter types, are:</p>
</div>
<div id="VkSurfaceCounterFlagBitsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_display_surface_counter</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkSurfaceCounterFlagBitsEXT</span> <span class="p">{</span>
    <span class="n">VK_SURFACE_COUNTER_VBLANK_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_SURFACE_COUNTER_VBLANK_EXT</span> <span class="o">=</span> <span class="n">VK_SURFACE_COUNTER_VBLANK_BIT_EXT</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkSurfaceCounterFlagBitsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SURFACE_COUNTER_VBLANK_BIT_EXT</code> specifies a counter incrementing
once every time a vertical blanking period occurs on the display
associated with the surface.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkSurfaceCounterFlagsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_display_surface_counter</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkSurfaceCounterFlagsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkSurfaceCounterFlagsEXT</code> is a bitmask type for setting a mask of zero
or more <a href="chap34.html#VkSurfaceCounterFlagBitsEXT">VkSurfaceCounterFlagBitsEXT</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in
<a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>supportedTransforms</code> indicating the
presentation transforms supported for the surface on the specified device,
and possible values of
<a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentTransform</code> indicating the
surface’s current transform relative to the presentation engine’s natural
orientation, are:</p>
</div>
<div id="VkSurfaceTransformFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkSurfaceTransformFlagBitsKHR</span> <span class="p">{</span>
    <span class="n">VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
    <span class="n">VK_SURFACE_TRANSFORM_ROTATE_180_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
    <span class="n">VK_SURFACE_TRANSFORM_ROTATE_270_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
    <span class="n">VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000010</span><span class="p">,</span>
    <span class="n">VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_90_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000020</span><span class="p">,</span>
    <span class="n">VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_180_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000040</span><span class="p">,</span>
    <span class="n">VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_270_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000080</span><span class="p">,</span>
    <span class="n">VK_SURFACE_TRANSFORM_INHERIT_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000100</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkSurfaceTransformFlagBitsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</code> specifies that image content
is presented without being transformed.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR</code> specifies that image
content is rotated 90 degrees clockwise.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_ROTATE_180_BIT_KHR</code> specifies that image
content is rotated 180 degrees clockwise.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_ROTATE_270_BIT_KHR</code> specifies that image
content is rotated 270 degrees clockwise.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_BIT_KHR</code> specifies that
image content is mirrored horizontally.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_90_BIT_KHR</code> specifies
that image content is mirrored horizontally, then rotated 90 degrees
clockwise.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_180_BIT_KHR</code>
specifies that image content is mirrored horizontally, then rotated 180
degrees clockwise.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_270_BIT_KHR</code>
specifies that image content is mirrored horizontally, then rotated 270
degrees clockwise.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_INHERIT_BIT_KHR</code> specifies that the
presentation transform is not specified, and is instead determined by
platform-specific considerations and mechanisms outside Vulkan.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkSurfaceTransformFlagsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkSurfaceTransformFlagsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkSurfaceTransformFlagsKHR</code> is a bitmask type for setting a mask of
zero or more <a href="chap34.html#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>supportedCompositeAlpha</code> member is of type
<a href="chap34.html#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a>, containing the following values:</p>
</div>
<div id="VkCompositeAlphaFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkCompositeAlphaFlagBitsKHR</span> <span class="p">{</span>
    <span class="n">VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_COMPOSITE_ALPHA_PRE_MULTIPLIED_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
    <span class="n">VK_COMPOSITE_ALPHA_POST_MULTIPLIED_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
    <span class="n">VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkCompositeAlphaFlagBitsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These values are described as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR</code>: The alpha component, if it
exists, of the images is ignored in the compositing process.
Instead, the image is treated as if it has a constant alpha of 1.0.</p>
</li>
<li>
<p><code>VK_COMPOSITE_ALPHA_PRE_MULTIPLIED_BIT_KHR</code>: The alpha component, if
it exists, of the images is respected in the compositing process.
The non-alpha components of the image are expected to already be
multiplied by the alpha component by the application.</p>
</li>
<li>
<p><code>VK_COMPOSITE_ALPHA_POST_MULTIPLIED_BIT_KHR</code>: The alpha component,
if it exists, of the images is respected in the compositing process.
The non-alpha components of the image are not expected to already be
multiplied by the alpha component by the application; instead, the
compositor will multiply the non-alpha components of the image by the
alpha component during compositing.</p>
</li>
<li>
<p><code>VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR</code>: The way in which the
presentation engine treats the alpha component in the images is unknown
to the Vulkan API.
Instead, the application is responsible for setting the composite alpha
blending mode using native window system commands.
If the application does not set the blending mode using native window
system commands, then a platform-specific default will be used.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkCompositeAlphaFlagsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkCompositeAlphaFlagsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkCompositeAlphaFlagsKHR</code> is a bitmask type for setting a mask of zero
or more <a href="chap34.html#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_surface_format_support"><a class="anchor" href="chap34.html#_surface_format_support"></a>34.5.2. Surface Format Support</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the supported swapchain format-color space pairs for a surface,
call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfaceFormatsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceSurfaceFormatsKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span>                                <span class="n">surface</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pSurfaceFormatCount</span><span class="p">,</span>
    <span class="n">VkSurfaceFormatKHR</span><span class="o">*</span>                         <span class="n">pSurfaceFormats</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>surface</code> is the surface that will be associated with the swapchain.</p>
</li>
<li>
<p><code>pSurfaceFormatCount</code> is a pointer to an integer related to the
number of format pairs available or queried, as described below.</p>
</li>
<li>
<p><code>pSurfaceFormats</code> is either <code>NULL</code> or a pointer to an array of
<code>VkSurfaceFormatKHR</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pSurfaceFormats</code> is <code>NULL</code>, then the number of format pairs
supported for the given <code>surface</code> is returned in
<code>pSurfaceFormatCount</code>.
Otherwise, <code>pSurfaceFormatCount</code> <strong class="purple">must</strong> point to a variable set by the
user to the number of elements in the <code>pSurfaceFormats</code> array, and on
return the variable is overwritten with the number of structures actually
written to <code>pSurfaceFormats</code>.
If the value of <code>pSurfaceFormatCount</code> is less than the number of format
pairs supported, at most <code>pSurfaceFormatCount</code> structures will be
written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available format pairs were
returned.</p>
</div>
<div class="paragraph">
<p>The number of format pairs supported <strong class="purple">must</strong> be greater than or equal to 1.
<code>pSurfaceFormats</code> <strong class="purple">must</strong> not contain an entry whose value for
<code>format</code> is <code>VK_FORMAT_UNDEFINED</code>.</p>
</div>
<div class="paragraph">
<p>If <code>pSurfaceFormats</code> includes an entry whose value for <code>colorSpace</code>
is <code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code> and whose value for <code>format</code>
is a UNORM (or SRGB) format and the corresponding SRGB (or UNORM) format is
a color renderable format for <code>VK_IMAGE_TILING_OPTIMAL</code>, then
<code>pSurfaceFormats</code> <strong class="purple">must</strong> also contain an entry with the same value for
<code>colorSpace</code> and <code>format</code> equal to the corresponding SRGB (or UNORM)
format.</p>
</div>
<div class="paragraph">
<p>If the <code><a href="chap54.html#VK_GOOGLE_surfaceless_query">VK_GOOGLE_surfaceless_query</a></code> extension is enabled, the values
returned in <code>pSurfaceFormats</code> will be identical for every valid surface
created on this physical device, and so <code>surface</code> <strong class="purple">can</strong> be
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-06524" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-06524"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-06524</span><br>

If the <code><a href="chap54.html#VK_GOOGLE_surfaceless_query">VK_GOOGLE_surfaceless_query</a></code> extension is not enabled,
<code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-06525" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-06525"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-06525</span><br>

If <code>surface</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, it <strong class="purple">must</strong> be supported by
<code>physicalDevice</code>, as reported by
<a href="chap34.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-parameter</span><br>
 If <code>surface</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-pSurfaceFormatCount-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-pSurfaceFormatCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-pSurfaceFormatCount-parameter</span><br>
 <code>pSurfaceFormatCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-pSurfaceFormats-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-pSurfaceFormats-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-pSurfaceFormats-parameter</span><br>
 If the value referenced by <code>pSurfaceFormatCount</code> is not <code>0</code>, and <code>pSurfaceFormats</code> is not <code>NULL</code>, <code>pSurfaceFormats</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pSurfaceFormatCount</code> <a href="chap34.html#VkSurfaceFormatKHR">VkSurfaceFormatKHR</a> structures</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-commonparent" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-commonparent"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-commonparent</span><br>
 Both of <code>physicalDevice</code>, and <code>surface</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap4.html#VkInstance">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceFormatKHR</code> structure is defined as:</p>
</div>
<div id="VkSurfaceFormatKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSurfaceFormatKHR</span> <span class="p">{</span>
    <span class="n">VkFormat</span>           <span class="n">format</span><span class="p">;</span>
    <span class="n">VkColorSpaceKHR</span>    <span class="n">colorSpace</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSurfaceFormatKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>format</code> is a <a href="chap47.html#VkFormat">VkFormat</a> that is compatible with the specified
surface.</p>
</li>
<li>
<p><code>colorSpace</code> is a presentation <a href="chap34.html#VkColorSpaceKHR">VkColorSpaceKHR</a> that is
compatible with the surface.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the supported swapchain format tuples for a surface, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfaceFormats2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_surface_capabilities2</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceSurfaceFormats2KHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkPhysicalDeviceSurfaceInfo2KHR</span><span class="o">*</span>      <span class="n">pSurfaceInfo</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pSurfaceFormatCount</span><span class="p">,</span>
    <span class="n">VkSurfaceFormat2KHR</span><span class="o">*</span>                        <span class="n">pSurfaceFormats</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pSurfaceInfo</code> is a pointer to a
<a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure describing the surface
and other fixed parameters that would be consumed by
<a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pSurfaceFormatCount</code> is a pointer to an integer related to the
number of format tuples available or queried, as described below.</p>
</li>
<li>
<p><code>pSurfaceFormats</code> is either <code>NULL</code> or a pointer to an array of
<a href="chap34.html#VkSurfaceFormat2KHR">VkSurfaceFormat2KHR</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="chap34.html#vkGetPhysicalDeviceSurfaceFormats2KHR">vkGetPhysicalDeviceSurfaceFormats2KHR</a> behaves similarly to
<a href="chap34.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a>, with the ability to be extended
via <code>pNext</code> chains.</p>
</div>
<div class="paragraph">
<p>If <code>pSurfaceFormats</code> is <code>NULL</code>, then the number of format tuples
supported for the given <code>surface</code> is returned in
<code>pSurfaceFormatCount</code>.
Otherwise, <code>pSurfaceFormatCount</code> <strong class="purple">must</strong> point to a variable set by the
user to the number of elements in the <code>pSurfaceFormats</code> array, and on
return the variable is overwritten with the number of structures actually
written to <code>pSurfaceFormats</code>.
If the value of <code>pSurfaceFormatCount</code> is less than the number of format
tuples supported, at most <code>pSurfaceFormatCount</code> structures will be
written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available values were
returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-06521" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-06521"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-06521</span><br>

If the <code><a href="chap54.html#VK_GOOGLE_surfaceless_query">VK_GOOGLE_surfaceless_query</a></code> extension is not enabled,
<code>pSurfaceInfo-&gt;surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-06522" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-06522"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-06522</span><br>

If <code>pSurfaceInfo-&gt;surface</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, it <strong class="purple">must</strong> be
supported by <code>physicalDevice</code>, as reported by
<a href="chap34.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-parameter</span><br>
 <code>pSurfaceInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceFormatCount-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceFormatCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceFormatCount-parameter</span><br>
 <code>pSurfaceFormatCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceFormats-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceFormats-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceFormats-parameter</span><br>
 If the value referenced by <code>pSurfaceFormatCount</code> is not <code>0</code>, and <code>pSurfaceFormats</code> is not <code>NULL</code>, <code>pSurfaceFormats</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pSurfaceFormatCount</code> <a href="chap34.html#VkSurfaceFormat2KHR">VkSurfaceFormat2KHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceFormat2KHR</code> structure is defined as:</p>
</div>
<div id="VkSurfaceFormat2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_get_surface_capabilities2</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSurfaceFormat2KHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>       <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                 <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkSurfaceFormatKHR</span>    <span class="n">surfaceFormat</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSurfaceFormat2KHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>surfaceFormat</code> is a <a href="chap34.html#VkSurfaceFormatKHR">VkSurfaceFormatKHR</a> structure describing a
format-color space pair that is compatible with the specified surface.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceFormat2KHR-pNext-06750" href="chap34.html#VUID-VkSurfaceFormat2KHR-pNext-06750"></a> <span class="vuid">VUID-VkSurfaceFormat2KHR-pNext-06750</span><br>

If the <a href="chap45.html#features-imageCompressionControlSwapchain"><code>imageCompressionControlSwapchain</code></a> feature is not enabled, the
<code>pNext</code> chain <strong class="purple">must</strong> not include an
<a href="chap12.html#VkImageCompressionPropertiesEXT">VkImageCompressionPropertiesEXT</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceFormat2KHR-sType-sType" href="chap34.html#VUID-VkSurfaceFormat2KHR-sType-sType"></a> <span class="vuid">VUID-VkSurfaceFormat2KHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_FORMAT_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkSurfaceFormat2KHR-pNext-pNext" href="chap34.html#VUID-VkSurfaceFormat2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkSurfaceFormat2KHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="chap12.html#VkImageCompressionPropertiesEXT">VkImageCompressionPropertiesEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSurfaceFormat2KHR-sType-unique" href="chap34.html#VUID-VkSurfaceFormat2KHR-sType-unique"></a> <span class="vuid">VUID-VkSurfaceFormat2KHR-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-imageCompressionControlSwapchain"><code>imageCompressionControlSwapchain</code></a> feature is supported and a
<a href="chap12.html#VkImageCompressionPropertiesEXT">VkImageCompressionPropertiesEXT</a> structure is included in the
<code>pNext</code> chain of this structure, then it will be filled with the
compression properties that are supported for the <code>surfaceFormat</code>.</p>
</div>
<div class="paragraph">
<p>While the <code>format</code> of a presentable image refers to the encoding of each
pixel, the <code>colorSpace</code> determines how the presentation engine
interprets the pixel values.
A color space in this document refers to a specific color space (defined by
the chromaticities of its primaries and a white point in CIE Lab), and a
transfer function that is applied before storing or transmitting color data
in the given color space.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="chap34.html#VkSurfaceFormatKHR">VkSurfaceFormatKHR</a>::<code>colorSpace</code>, specifying
supported color spaces of a presentation engine, are:</p>
</div>
<div id="VkColorSpaceKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkColorSpaceKHR</span> <span class="p">{</span>
    <span class="n">VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_DISPLAY_P3_NONLINEAR_EXT</span> <span class="o">=</span> <span class="mi">1000104001</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_EXTENDED_SRGB_LINEAR_EXT</span> <span class="o">=</span> <span class="mi">1000104002</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_DISPLAY_P3_LINEAR_EXT</span> <span class="o">=</span> <span class="mi">1000104003</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_DCI_P3_NONLINEAR_EXT</span> <span class="o">=</span> <span class="mi">1000104004</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_BT709_LINEAR_EXT</span> <span class="o">=</span> <span class="mi">1000104005</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_BT709_NONLINEAR_EXT</span> <span class="o">=</span> <span class="mi">1000104006</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_BT2020_LINEAR_EXT</span> <span class="o">=</span> <span class="mi">1000104007</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_HDR10_ST2084_EXT</span> <span class="o">=</span> <span class="mi">1000104008</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_DOLBYVISION_EXT</span> <span class="o">=</span> <span class="mi">1000104009</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_HDR10_HLG_EXT</span> <span class="o">=</span> <span class="mi">1000104010</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_ADOBERGB_LINEAR_EXT</span> <span class="o">=</span> <span class="mi">1000104011</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_ADOBERGB_NONLINEAR_EXT</span> <span class="o">=</span> <span class="mi">1000104012</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_PASS_THROUGH_EXT</span> <span class="o">=</span> <span class="mi">1000104013</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_EXTENDED_SRGB_NONLINEAR_EXT</span> <span class="o">=</span> <span class="mi">1000104014</span><span class="p">,</span>
  <span class="c1">// Provided by VK_AMD_display_native_hdr</span>
    <span class="n">VK_COLOR_SPACE_DISPLAY_NATIVE_AMD</span> <span class="o">=</span> <span class="mi">1000213000</span><span class="p">,</span>
    <span class="n">VK_COLORSPACE_SRGB_NONLINEAR_KHR</span> <span class="o">=</span> <span class="n">VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_colorspace</span>
    <span class="n">VK_COLOR_SPACE_DCI_P3_LINEAR_EXT</span> <span class="o">=</span> <span class="n">VK_COLOR_SPACE_DISPLAY_P3_LINEAR_EXT</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkColorSpaceKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code> specifies support for the sRGB
color space.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DISPLAY_P3_NONLINEAR_EXT</code> specifies support for the
Display-P3 color space to be displayed using an sRGB-like EOTF (defined
below).</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_EXTENDED_SRGB_LINEAR_EXT</code> specifies support for the
extended sRGB color space to be displayed using a linear EOTF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_EXTENDED_SRGB_NONLINEAR_EXT</code> specifies support for
the extended sRGB color space to be displayed using an sRGB EOTF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DISPLAY_P3_LINEAR_EXT</code> specifies support for the
Display-P3 color space to be displayed using a linear EOTF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DCI_P3_NONLINEAR_EXT</code> specifies support for the
DCI-P3 color space to be displayed using the DCI-P3 EOTF.
Note that values in such an image are interpreted as XYZ encoded color
data by the presentation engine.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_BT709_LINEAR_EXT</code> specifies support for the BT709
color space to be displayed using a linear EOTF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_BT709_NONLINEAR_EXT</code> specifies support for the BT709
color space to be displayed using the SMPTE 170M EOTF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_BT2020_LINEAR_EXT</code> specifies support for the BT2020
color space to be displayed using a linear EOTF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_HDR10_ST2084_EXT</code> specifies support for the HDR10
(BT2020 color) space to be displayed using the SMPTE ST2084 Perceptual
Quantizer (PQ) EOTF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DOLBYVISION_EXT</code> specifies support for the Dolby
Vision (BT2020 color space), proprietary encoding, to be displayed using
the SMPTE ST2084 EOTF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_HDR10_HLG_EXT</code> specifies support for the HDR10
(BT2020 color space) to be displayed using the Hybrid Log Gamma (HLG)
EOTF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_ADOBERGB_LINEAR_EXT</code> specifies support for the
AdobeRGB color space to be displayed using a linear EOTF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_ADOBERGB_NONLINEAR_EXT</code> specifies support for the
AdobeRGB color space to be displayed using the Gamma 2.2 EOTF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_PASS_THROUGH_EXT</code> specifies that color components
are used “as is”.
This is intended to allow applications to supply data for color spaces
not described here.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DISPLAY_NATIVE_AMD</code> specifies support for the
display’s native color space.
This matches the color space expectations of AMD’s FreeSync2 standard,
for displays supporting it.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In the initial release of the <code><a href="chap54.html#VK_KHR_surface">VK_KHR_surface</a></code> and
<code><a href="chap54.html#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extensions, the token
<code>VK_COLORSPACE_SRGB_NONLINEAR_KHR</code> was used.
Starting in the 2016-05-13 updates to the extension branches, matching
release 1.0.13 of the core API specification,
<code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code> is used instead for consistency with
Vulkan naming rules.
The older enum is still available for backwards compatibility.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In older versions of this extension
<code>VK_COLOR_SPACE_DISPLAY_P3_LINEAR_EXT</code> was misnamed
<code>VK_COLOR_SPACE_DCI_P3_LINEAR_EXT</code>.
This has been updated to indicate that it uses RGB color encoding, not XYZ.
The old name is deprecated but is maintained for backwards compatibility.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For a traditional “Linear” or non-gamma transfer function color space use
<code>VK_COLOR_SPACE_PASS_THROUGH_EXT</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The color components of non-linear color space swap chain images <strong class="purple">must</strong> have
had the appropriate transfer function applied.
The color space selected for the swap chain image will not affect the
processing of data written into the image by the implementation.
Vulkan requires that all implementations support the sRGB transfer function
by use of an SRGB pixel format.
Other transfer functions, such as SMPTE 170M or SMPTE2084, <strong class="purple">can</strong> be performed
by the application shader.
This extension defines enums for <a href="chap34.html#VkColorSpaceKHR">VkColorSpaceKHR</a> that correspond to
the following color spaces:</p>
</div>
<table id="VK_EXT_swapchain_colorspace-table" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 48. Color Spaces and Attributes</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Red Primary</th>
<th class="tableblock halign-left valign-top">Green Primary</th>
<th class="tableblock halign-left valign-top">Blue Primary</th>
<th class="tableblock halign-left valign-top">White-point</th>
<th class="tableblock halign-left valign-top">Transfer function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DCI-P3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.000, 0.000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.000, 1.000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.000, 0.000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3333, 0.3333</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DCI P3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display-P3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.680, 0.320</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.265, 0.690</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.150, 0.060</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display-P3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BT709</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.640, 0.330</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.300, 0.600</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.150, 0.060</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ITU (SMPTE 170M)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sRGB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.640, 0.330</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.300, 0.600</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.150, 0.060</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sRGB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extended sRGB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.640, 0.330</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.300, 0.600</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.150, 0.060</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extended sRGB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HDR10_ST2084</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.708, 0.292</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.170, 0.797</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.131, 0.046</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ST2084 PQ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOLBYVISION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.708, 0.292</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.170, 0.797</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.131, 0.046</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ST2084 PQ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HDR10_HLG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.708, 0.292</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.170, 0.797</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.131, 0.046</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HLG</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AdobeRGB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.640, 0.330</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.210, 0.710</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.150, 0.060</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AdobeRGB</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The transfer functions are described in the “Transfer Functions” chapter
of the <a href="chap2.html#data-format">Khronos Data Format Specification</a>.</p>
</div>
<div class="paragraph">
<p>Except Display-P3 OETF, which is:</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.30003em;vertical-align:-1.400015em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.900015em;"><span style="top:-3.9000150000000002em;"><span class="pstrut" style="height:3.75em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.400015em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.900015em;"><span style="top:-3.9000150000000002em;"><span class="pstrut" style="height:3.75em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mord">5</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9540200000000001em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142858em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">.</span><span class="mord mtight">4</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">5</span><span class="mord">5</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span><span class="mord">.</span><span class="mord">9</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">for</span></span><span class="mspace">&nbsp;</span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">0</span><span class="mord">3</span><span class="mord">0</span><span class="mord">1</span><span class="mord">8</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">for</span></span><span class="mspace">&nbsp;</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">0</span><span class="mord">3</span><span class="mord">0</span><span class="mord">1</span><span class="mord">8</span><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.400015em;"><span></span></span></span></span></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>where <span class="eq">L</span> is the linear value of a color component and <span class="eq">E</span> is the
encoded value (as stored in the image in memory).</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For most uses, the sRGB OETF is equivalent.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_surface_presentation_mode_support"><a class="anchor" href="chap34.html#_surface_presentation_mode_support"></a>34.5.3. Surface Presentation Mode Support</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the supported presentation modes for a surface, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfacePresentModesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceSurfacePresentModesKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span>                                <span class="n">surface</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pPresentModeCount</span><span class="p">,</span>
    <span class="n">VkPresentModeKHR</span><span class="o">*</span>                           <span class="n">pPresentModes</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>surface</code> is the surface that will be associated with the swapchain.</p>
</li>
<li>
<p><code>pPresentModeCount</code> is a pointer to an integer related to the number
of presentation modes available or queried, as described below.</p>
</li>
<li>
<p><code>pPresentModes</code> is either <code>NULL</code> or a pointer to an array of
<a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> values, indicating the supported presentation
modes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pPresentModes</code> is <code>NULL</code>, then the number of presentation modes
supported for the given <code>surface</code> is returned in
<code>pPresentModeCount</code>.
Otherwise, <code>pPresentModeCount</code> <strong class="purple">must</strong> point to a variable set by the user
to the number of elements in the <code>pPresentModes</code> array, and on return
the variable is overwritten with the number of values actually written to
<code>pPresentModes</code>.
If the value of <code>pPresentModeCount</code> is less than the number of
presentation modes supported, at most <code>pPresentModeCount</code> values will be
written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available modes were
returned.</p>
</div>
<div class="paragraph">
<p>If the <code><a href="chap54.html#VK_GOOGLE_surfaceless_query">VK_GOOGLE_surfaceless_query</a></code> extension is enabled and
<code>surface</code> is <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the values returned in
<code>pPresentModes</code> will only indicate support for
<code>VK_PRESENT_MODE_FIFO_KHR</code>,
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code>, and
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>.
To query support for any other present mode, a valid handle <strong class="purple">must</strong> be
provided in <code>surface</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-06524" href="chap34.html#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-06524"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-06524</span><br>

If the <code><a href="chap54.html#VK_GOOGLE_surfaceless_query">VK_GOOGLE_surfaceless_query</a></code> extension is not enabled,
<code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-06525" href="chap34.html#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-06525"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-06525</span><br>

If <code>surface</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, it <strong class="purple">must</strong> be supported by
<code>physicalDevice</code>, as reported by
<a href="chap34.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-parameter</span><br>
 If <code>surface</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-pPresentModeCount-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-pPresentModeCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-pPresentModeCount-parameter</span><br>
 <code>pPresentModeCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-pPresentModes-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-pPresentModes-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-pPresentModes-parameter</span><br>
 If the value referenced by <code>pPresentModeCount</code> is not <code>0</code>, and <code>pPresentModes</code> is not <code>NULL</code>, <code>pPresentModes</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPresentModeCount</code> <a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-commonparent" href="chap34.html#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-commonparent"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-commonparent</span><br>
 Both of <code>physicalDevice</code>, and <code>surface</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap4.html#VkInstance">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Alternatively, to query the supported presentation modes for a surface
combined with select other fixed swapchain creation parameters, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfacePresentModes2EXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_full_screen_exclusive</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceSurfacePresentModes2EXT</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkPhysicalDeviceSurfaceInfo2KHR</span><span class="o">*</span>      <span class="n">pSurfaceInfo</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pPresentModeCount</span><span class="p">,</span>
    <span class="n">VkPresentModeKHR</span><span class="o">*</span>                           <span class="n">pPresentModes</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pSurfaceInfo</code> is a pointer to a
<a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure describing the surface
and other fixed parameters that would be consumed by
<a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pPresentModeCount</code> is a pointer to an integer related to the number
of presentation modes available or queried, as described below.</p>
</li>
<li>
<p><code>pPresentModes</code> is either <code>NULL</code> or a pointer to an array of
<a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> values, indicating the supported presentation
modes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceSurfacePresentModes2EXT</code> behaves similarly to
<a href="chap34.html#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a>, with the ability to specify
extended inputs via chained input structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-06521" href="chap34.html#VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-06521"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-06521</span><br>

If the <code><a href="chap54.html#VK_GOOGLE_surfaceless_query">VK_GOOGLE_surfaceless_query</a></code> extension is not enabled,
<code>pSurfaceInfo-&gt;surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-06522" href="chap34.html#VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-06522"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-06522</span><br>

If <code>pSurfaceInfo-&gt;surface</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, it <strong class="purple">must</strong> be
supported by <code>physicalDevice</code>, as reported by
<a href="chap34.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-parameter</span><br>
 <code>pSurfaceInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pPresentModeCount-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pPresentModeCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pPresentModeCount-parameter</span><br>
 <code>pPresentModeCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pPresentModes-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pPresentModes-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pPresentModes-parameter</span><br>
 If the value referenced by <code>pPresentModeCount</code> is not <code>0</code>, and <code>pPresentModes</code> is not <code>NULL</code>, <code>pPresentModes</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPresentModeCount</code> <a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> values</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of elements of the
<a href="chap34.html#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a>::<code>pPresentModes</code> array,
indicating the supported presentation modes for a surface, are:</p>
</div>
<div id="VkPresentModeKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_surface</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkPresentModeKHR</span> <span class="p">{</span>
    <span class="n">VK_PRESENT_MODE_IMMEDIATE_KHR</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_PRESENT_MODE_MAILBOX_KHR</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_PRESENT_MODE_FIFO_KHR</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">VK_PRESENT_MODE_FIFO_RELAXED_KHR</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
  <span class="c1">// Provided by VK_KHR_shared_presentable_image</span>
    <span class="n">VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</span> <span class="o">=</span> <span class="mi">1000111000</span><span class="p">,</span>
  <span class="c1">// Provided by VK_KHR_shared_presentable_image</span>
    <span class="n">VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</span> <span class="o">=</span> <span class="mi">1000111001</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkPresentModeKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PRESENT_MODE_IMMEDIATE_KHR</code> specifies that the presentation
engine does not wait for a vertical blanking period to update the
current image, meaning this mode <strong class="purple">may</strong> result in visible tearing.
No internal queuing of presentation requests is needed, as the requests
are applied immediately.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_MAILBOX_KHR</code> specifies that the presentation engine
waits for the next vertical blanking period to update the current image.
Tearing <strong class="purple">cannot</strong> be observed.
An internal single-entry queue is used to hold pending presentation
requests.
If the queue is full when a new presentation request is received, the
new request replaces the existing entry, and any images associated with
the prior entry become available for re-use by the application.
One request is removed from the queue and processed during each vertical
blanking period in which the queue is non-empty.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_FIFO_KHR</code> specifies that the presentation engine
waits for the next vertical blanking period to update the current image.
Tearing <strong class="purple">cannot</strong> be observed.
An internal queue is used to hold pending presentation requests.
New requests are appended to the end of the queue, and one request is
removed from the beginning of the queue and processed during each
vertical blanking period in which the queue is non-empty.
This is the only value of <code>presentMode</code> that is <strong class="purple">required</strong> to be
supported.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code> specifies that the presentation
engine generally waits for the next vertical blanking period to update
the current image.
If a vertical blanking period has already passed since the last update
of the current image then the presentation engine does not wait for
another vertical blanking period for the update, meaning this mode <strong class="purple">may</strong>
result in visible tearing in this case.
This mode is useful for reducing visual stutter with an application that
will mostly present a new image before the next vertical blanking
period, but may occasionally be late, and present a new image just after
the next vertical blanking period.
An internal queue is used to hold pending presentation requests.
New requests are appended to the end of the queue, and one request is
removed from the beginning of the queue and processed during or after
each vertical blanking period in which the queue is non-empty.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> specifies that the
presentation engine and application have concurrent access to a single
image, which is referred to as a <em>shared presentable image</em>.
The presentation engine is only required to update the current image
after a new presentation request is received.
Therefore the application <strong class="purple">must</strong> make a presentation request whenever an
update is required.
However, the presentation engine <strong class="purple">may</strong> update the current image at any
point, meaning this mode <strong class="purple">may</strong> result in visible tearing.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code> specifies that the
presentation engine and application have concurrent access to a single
image, which is referred to as a <em>shared presentable image</em>.
The presentation engine periodically updates the current image on its
regular refresh cycle.
The application is only required to make one initial presentation
request, after which the presentation engine <strong class="purple">must</strong> update the current
image without any need for further presentation requests.
The application <strong class="purple">can</strong> indicate the image contents have been updated by
making a presentation request, but this does not guarantee the timing of
when it will be updated.
This mode <strong class="purple">may</strong> result in visible tearing if rendering to the image is
not timed correctly.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The supported <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a> of the presentable images of a
swapchain created for a surface <strong class="purple">may</strong> differ depending on the presentation
mode, and can be determined as per the table below:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 49. Presentable image usage queries</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Presentation mode</th>
<th class="tableblock halign-left valign-top">Image usage flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRESENT_MODE_IMMEDIATE_KHR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>supportedUsageFlags</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRESENT_MODE_MAILBOX_KHR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>supportedUsageFlags</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRESENT_MODE_FIFO_KHR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>supportedUsageFlags</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>supportedUsageFlags</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap34.html#VkSharedPresentSurfaceCapabilitiesKHR">VkSharedPresentSurfaceCapabilitiesKHR</a>::<code>sharedPresentSupportedUsageFlags</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap34.html#VkSharedPresentSurfaceCapabilitiesKHR">VkSharedPresentSurfaceCapabilitiesKHR</a>::<code>sharedPresentSupportedUsageFlags</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For reference, the mode indicated by <code>VK_PRESENT_MODE_FIFO_KHR</code> is
equivalent to the behavior of {wgl|glX|egl}SwapBuffers with a swap interval
of 1, while the mode indicated by <code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code> is
equivalent to the behavior of {wgl|glX}SwapBuffers with a swap interval of
-1 (from the {WGL|GLX}_EXT_swap_control_tear extensions).</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_full_screen_exclusive_control"><a class="anchor" href="chap34.html#_full_screen_exclusive_control"></a>34.6. Full Screen Exclusive Control</h3>
<div class="paragraph">
<p>Swapchains created with <code>fullScreenExclusive</code> set to
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code> <strong class="purple">must</strong> acquire and
release exclusive full-screen access explicitly, using the following
commands.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To acquire exclusive full-screen access for a swapchain, call:</p>
</div>
<div id="vkAcquireFullScreenExclusiveModeEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_full_screen_exclusive</span>
<span class="n">VkResult</span> <span class="nf">vkAcquireFullScreenExclusiveModeEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span>                              <span class="n">swapchain</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to acquire exclusive full-screen access
for.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02674" href="chap34.html#VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02674"></a> <span class="vuid">VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02674</span><br>

<code>swapchain</code> <strong class="purple">must</strong> not be in the retired state</p>
</li>
<li>
<p><a id="VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02675" href="chap34.html#VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02675"></a> <span class="vuid">VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02675</span><br>

<code>swapchain</code> <strong class="purple">must</strong> be a swapchain created with a
<a href="chap34.html#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a> structure, with
<code>fullScreenExclusive</code> set to
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02676" href="chap34.html#VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02676"></a> <span class="vuid">VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02676</span><br>

<code>swapchain</code> <strong class="purple">must</strong> not currently have exclusive full-screen access</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>A return value of <code>VK_SUCCESS</code> indicates that the <code>swapchain</code>
successfully acquired exclusive full-screen access.
The swapchain will retain this exclusivity until either the application
releases exclusive full-screen access with
<a href="chap34.html#vkReleaseFullScreenExclusiveModeEXT">vkReleaseFullScreenExclusiveModeEXT</a>, destroys the swapchain, or if any
of the swapchain commands return
<code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code> indicating that the mode
was lost because of platform-specific changes.</p>
</div>
<div class="paragraph">
<p>If the swapchain was unable to acquire exclusive full-screen access to the
display then <code>VK_ERROR_INITIALIZATION_FAILED</code> is returned.
An application <strong class="purple">can</strong> attempt to acquire exclusive full-screen access again
for the same swapchain even if this command fails, or if
<code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code> has been returned by a
swapchain command.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireFullScreenExclusiveModeEXT-device-parameter" href="chap34.html#VUID-vkAcquireFullScreenExclusiveModeEXT-device-parameter"></a> <span class="vuid">VUID-vkAcquireFullScreenExclusiveModeEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-parameter" href="chap34.html#VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-parameter"></a> <span class="vuid">VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-parameter</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-parent" href="chap34.html#VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-parent"></a> <span class="vuid">VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-parent</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To release exclusive full-screen access from a swapchain, call:</p>
</div>
<div id="vkReleaseFullScreenExclusiveModeEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_full_screen_exclusive</span>
<span class="n">VkResult</span> <span class="nf">vkReleaseFullScreenExclusiveModeEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span>                              <span class="n">swapchain</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to release exclusive full-screen access
from.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Applications will not be able to present to <code>swapchain</code> after this call
until exclusive full-screen access is reacquired.
This is usually useful to handle when an application is minimised or
otherwise intends to stop presenting for a time.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-02677" href="chap34.html#VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-02677"></a> <span class="vuid">VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-02677</span><br>

<code>swapchain</code> <strong class="purple">must</strong> not be in the retired state</p>
</li>
<li>
<p><a id="VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-02678" href="chap34.html#VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-02678"></a> <span class="vuid">VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-02678</span><br>

<code>swapchain</code> <strong class="purple">must</strong> be a swapchain created with a
<a href="chap34.html#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a> structure, with
<code>fullScreenExclusive</code> set to
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_device_group_queries"><a class="anchor" href="chap34.html#_device_group_queries"></a>34.7. Device Group Queries</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A logical device that represents multiple physical devices <strong class="purple">may</strong> support
presenting from images on more than one physical device, or combining images
from multiple physical devices.</p>
</div>
<div class="paragraph">
<p>To query these capabilities, call:</p>
</div>
<div id="vkGetDeviceGroupPresentCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_surface</span>
<span class="n">VkResult</span> <span class="nf">vkGetDeviceGroupPresentCapabilitiesKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkDeviceGroupPresentCapabilitiesKHR</span><span class="o">*</span>        <span class="n">pDeviceGroupPresentCapabilities</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device.</p>
</li>
<li>
<p><code>pDeviceGroupPresentCapabilities</code> is a pointer to a
<a href="chap34.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a> structure in which the
device’s capabilities are returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceGroupPresentCapabilitiesKHR-device-parameter" href="chap34.html#VUID-vkGetDeviceGroupPresentCapabilitiesKHR-device-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupPresentCapabilitiesKHR-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceGroupPresentCapabilitiesKHR-pDeviceGroupPresentCapabilities-parameter" href="chap34.html#VUID-vkGetDeviceGroupPresentCapabilitiesKHR-pDeviceGroupPresentCapabilities-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupPresentCapabilitiesKHR-pDeviceGroupPresentCapabilities-parameter</span><br>
 <code>pDeviceGroupPresentCapabilities</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDeviceGroupPresentCapabilitiesKHR</code> structure is defined as:</p>
</div>
<div id="VkDeviceGroupPresentCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_surface</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDeviceGroupPresentCapabilitiesKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                     <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                               <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                            <span class="n">presentMask</span><span class="p">[</span><span class="n">VK_MAX_DEVICE_GROUP_SIZE</span><span class="p">];</span>
    <span class="n">VkDeviceGroupPresentModeFlagsKHR</span>    <span class="n">modes</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDeviceGroupPresentCapabilitiesKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentMask</code> is an array of <code>VK_MAX_DEVICE_GROUP_SIZE</code>
<code>uint32_t</code> masks, where the mask at element <span class="eq">i</span> is non-zero if
physical device <span class="eq">i</span> has a presentation engine, and where bit <span class="eq">j</span>
is set in element <span class="eq">i</span> if physical device <span class="eq">i</span> <strong class="purple">can</strong> present
swapchain images from physical device <span class="eq">j</span>.
If element <span class="eq">i</span> is non-zero, then bit <span class="eq">i</span> <strong class="purple">must</strong> be set.</p>
</li>
<li>
<p><code>modes</code> is a bitmask of <a href="chap34.html#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a>
indicating which device group presentation modes are supported.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>modes</code> always has <code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code> set.</p>
</div>
<div class="paragraph">
<p>The present mode flags are also used when presenting an image, in
<a href="chap34.html#VkDeviceGroupPresentInfoKHR">VkDeviceGroupPresentInfoKHR</a>::<code>mode</code>.</p>
</div>
<div class="paragraph">
<p>If a device group only includes a single physical device, then <code>modes</code>
<strong class="purple">must</strong> equal <code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDeviceGroupPresentCapabilitiesKHR-sType-sType" href="chap34.html#VUID-VkDeviceGroupPresentCapabilitiesKHR-sType-sType"></a> <span class="vuid">VUID-VkDeviceGroupPresentCapabilitiesKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentCapabilitiesKHR-pNext-pNext" href="chap34.html#VUID-VkDeviceGroupPresentCapabilitiesKHR-pNext-pNext"></a> <span class="vuid">VUID-VkDeviceGroupPresentCapabilitiesKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in
<a href="chap34.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>modes</code>, indicating which
device group presentation modes are supported, are:</p>
</div>
<div id="VkDeviceGroupPresentModeFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_surface</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkDeviceGroupPresentModeFlagBitsKHR</span> <span class="p">{</span>
    <span class="n">VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_DEVICE_GROUP_PRESENT_MODE_REMOTE_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
    <span class="n">VK_DEVICE_GROUP_PRESENT_MODE_SUM_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
    <span class="n">VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_MULTI_DEVICE_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkDeviceGroupPresentModeFlagBitsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code> specifies that any
physical device with a presentation engine <strong class="purple">can</strong> present its own
swapchain images.</p>
</li>
<li>
<p><code>VK_DEVICE_GROUP_PRESENT_MODE_REMOTE_BIT_KHR</code> specifies that any
physical device with a presentation engine <strong class="purple">can</strong> present swapchain images
from any physical device in its <code>presentMask</code>.</p>
</li>
<li>
<p><code>VK_DEVICE_GROUP_PRESENT_MODE_SUM_BIT_KHR</code> specifies that any
physical device with a presentation engine <strong class="purple">can</strong> present the sum of
swapchain images from any physical devices in its <code>presentMask</code>.</p>
</li>
<li>
<p><code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_MULTI_DEVICE_BIT_KHR</code> specifies
that multiple physical devices with a presentation engine <strong class="purple">can</strong> each
present their own swapchain images.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDeviceGroupPresentModeFlagsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_surface</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkDeviceGroupPresentModeFlagsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDeviceGroupPresentModeFlagsKHR</code> is a bitmask type for setting a mask
of zero or more <a href="chap34.html#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Some surfaces <strong class="purple">may</strong> not be capable of using all the device group present
modes.</p>
</div>
<div class="paragraph">
<p>To query the supported device group present modes for a particular surface,
call:</p>
</div>
<div id="vkGetDeviceGroupSurfacePresentModesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_surface</span>
<span class="n">VkResult</span> <span class="nf">vkGetDeviceGroupSurfacePresentModesKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span>                                <span class="n">surface</span><span class="p">,</span>
    <span class="n">VkDeviceGroupPresentModeFlagsKHR</span><span class="o">*</span>           <span class="n">pModes</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device.</p>
</li>
<li>
<p><code>surface</code> is the surface.</p>
</li>
<li>
<p><code>pModes</code> is a pointer to a <a href="chap34.html#VkDeviceGroupPresentModeFlagsKHR">VkDeviceGroupPresentModeFlagsKHR</a> in
which the supported device group present modes for the surface are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The modes returned by this command are not invariant, and <strong class="purple">may</strong> change in
response to the surface being moved, resized, or occluded.
These modes <strong class="purple">must</strong> be a subset of the modes returned by
<a href="chap34.html#vkGetDeviceGroupPresentCapabilitiesKHR">vkGetDeviceGroupPresentCapabilitiesKHR</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModesKHR-surface-06212" href="chap34.html#VUID-vkGetDeviceGroupSurfacePresentModesKHR-surface-06212"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModesKHR-surface-06212</span><br>

<code>surface</code> <strong class="purple">must</strong> be supported by all physical devices associated with
<code>device</code>, as reported by <a href="chap34.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a>
or an equivalent platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModesKHR-device-parameter" href="chap34.html#VUID-vkGetDeviceGroupSurfacePresentModesKHR-device-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModesKHR-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModesKHR-surface-parameter" href="chap34.html#VUID-vkGetDeviceGroupSurfacePresentModesKHR-surface-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModesKHR-surface-parameter</span><br>
 <code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModesKHR-pModes-parameter" href="chap34.html#VUID-vkGetDeviceGroupSurfacePresentModesKHR-pModes-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModesKHR-pModes-parameter</span><br>
 <code>pModes</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkDeviceGroupPresentModeFlagsKHR">VkDeviceGroupPresentModeFlagsKHR</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModesKHR-commonparent" href="chap34.html#VUID-vkGetDeviceGroupSurfacePresentModesKHR-commonparent"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModesKHR-commonparent</span><br>
 Both of <code>device</code>, and <code>surface</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap4.html#VkInstance">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>surface</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Alternatively, to query the supported device group presentation modes for a
surface combined with select other fixed swapchain creation parameters,
call:</p>
</div>
<div id="vkGetDeviceGroupSurfacePresentModes2EXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1 with VK_EXT_full_screen_exclusive, VK_KHR_device_group with VK_EXT_full_screen_exclusive</span>
<span class="n">VkResult</span> <span class="nf">vkGetDeviceGroupSurfacePresentModes2EXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkPhysicalDeviceSurfaceInfo2KHR</span><span class="o">*</span>      <span class="n">pSurfaceInfo</span><span class="p">,</span>
    <span class="n">VkDeviceGroupPresentModeFlagsKHR</span><span class="o">*</span>           <span class="n">pModes</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device.</p>
</li>
<li>
<p><code>pSurfaceInfo</code> is a pointer to a
<a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure describing the surface
and other fixed parameters that would be consumed by
<a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pModes</code> is a pointer to a <a href="chap34.html#VkDeviceGroupPresentModeFlagsKHR">VkDeviceGroupPresentModeFlagsKHR</a> in
which the supported device group present modes for the surface are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetDeviceGroupSurfacePresentModes2EXT</code> behaves similarly to
<a href="chap34.html#vkGetDeviceGroupSurfacePresentModesKHR">vkGetDeviceGroupSurfacePresentModesKHR</a>, with the ability to specify
extended inputs via chained input structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pSurfaceInfo-06213" href="chap34.html#VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pSurfaceInfo-06213"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pSurfaceInfo-06213</span><br>

<code>pSurfaceInfo-&gt;surface</code> <strong class="purple">must</strong> be supported by all physical devices
associated with <code>device</code>, as reported by
<a href="chap34.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModes2EXT-device-parameter" href="chap34.html#VUID-vkGetDeviceGroupSurfacePresentModes2EXT-device-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModes2EXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pSurfaceInfo-parameter" href="chap34.html#VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pSurfaceInfo-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pSurfaceInfo-parameter</span><br>
 <code>pSurfaceInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pModes-parameter" href="chap34.html#VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pModes-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pModes-parameter</span><br>
 <code>pModes</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkDeviceGroupPresentModeFlagsKHR">VkDeviceGroupPresentModeFlagsKHR</a> value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When using <code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_MULTI_DEVICE_BIT_KHR</code>,
the application <strong class="purple">may</strong> need to know which regions of the surface are used when
presenting locally on each physical device.
Presentation of swapchain images to this surface need only have valid
contents in the regions returned by this command.</p>
</div>
<div class="paragraph">
<p>To query a set of rectangles used in presentation on the physical device,
call:</p>
</div>
<div id="vkGetPhysicalDevicePresentRectanglesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_surface</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDevicePresentRectanglesKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">VkSurfaceKHR</span>                                <span class="n">surface</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pRectCount</span><span class="p">,</span>
    <span class="n">VkRect2D</span><span class="o">*</span>                                   <span class="n">pRects</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>surface</code> is the surface.</p>
</li>
<li>
<p><code>pRectCount</code> is a pointer to an integer related to the number of
rectangles available or queried, as described below.</p>
</li>
<li>
<p><code>pRects</code> is either <code>NULL</code> or a pointer to an array of <a href="chap3.html#VkRect2D">VkRect2D</a>
structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pRects</code> is <code>NULL</code>, then the number of rectangles used when
presenting the given <code>surface</code> is returned in <code>pRectCount</code>.
Otherwise, <code>pRectCount</code> <strong class="purple">must</strong> point to a variable set by the user to the
number of elements in the <code>pRects</code> array, and on return the variable is
overwritten with the number of structures actually written to <code>pRects</code>.
If the value of <code>pRectCount</code> is less than the number of rectangles, at
most <code>pRectCount</code> structures will be written, and <code>VK_INCOMPLETE</code>
will be returned instead of <code>VK_SUCCESS</code>, to indicate that not all the
available rectangles were returned.</p>
</div>
<div class="paragraph">
<p>The values returned by this command are not invariant, and <strong class="purple">may</strong> change in
response to the surface being moved, resized, or occluded.</p>
</div>
<div class="paragraph">
<p>The rectangles returned by this command <strong class="purple">must</strong> not overlap.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-06523" href="chap34.html#VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-06523"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-06523</span><br>

<code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-06211" href="chap34.html#VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-06211"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-06211</span><br>

<code>surface</code> <strong class="purple">must</strong> be supported by <code>physicalDevice</code>, as reported by
<a href="chap34.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDevicePresentRectanglesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-parameter" href="chap34.html#VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-parameter</span><br>
 <code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-pRectCount-parameter" href="chap34.html#VUID-vkGetPhysicalDevicePresentRectanglesKHR-pRectCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-pRectCount-parameter</span><br>
 <code>pRectCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-pRects-parameter" href="chap34.html#VUID-vkGetPhysicalDevicePresentRectanglesKHR-pRects-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-pRects-parameter</span><br>
 If the value referenced by <code>pRectCount</code> is not <code>0</code>, and <code>pRects</code> is not <code>NULL</code>, <code>pRects</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pRectCount</code> <a href="chap3.html#VkRect2D">VkRect2D</a> structures</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-commonparent" href="chap34.html#VUID-vkGetPhysicalDevicePresentRectanglesKHR-commonparent"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-commonparent</span><br>
 Both of <code>physicalDevice</code>, and <code>surface</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap4.html#VkInstance">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>surface</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_display_timing_queries"><a class="anchor" href="chap34.html#_display_timing_queries"></a>34.8. Display Timing Queries</h3>
<div class="paragraph">
<p>Traditional game and real-time-animation applications frequently use
<code>VK_PRESENT_MODE_FIFO_KHR</code> so that presentable images are updated during
the vertical blanking period of a given refresh cycle (RC) of the
presentation engine’s display.
This avoids the visual anomaly known as tearing.</p>
</div>
<div class="paragraph">
<p>However, synchronizing the presentation of images with the RC does not
prevent all forms of visual anomalies.
Stuttering occurs when the geometry for each presentable image is not
accurately positioned for when that image will be displayed.
The geometry may appear to move too little some RCs, and too much for
others.
Sometimes the animation appears to freeze, when the same image is used for
more than one RC.</p>
</div>
<div class="paragraph">
<p>In order to minimize stuttering, an application needs to correctly position
their geometry for when the presentable image will be displayed to the user.
To accomplish this, applications need various timing information about the
presentation engine’s display.
They need to know when presentable images were actually presented, and when
they could have been presented.
Applications also need to tell the presentation engine to display an image
no sooner than a given time.
This can allow the application’s animation to look smooth to the user, with
no stuttering.
The <code><a href="chap54.html#VK_GOOGLE_display_timing">VK_GOOGLE_display_timing</a></code> extension allows an application to
satisfy these needs.</p>
</div>
<div class="paragraph">
<p>The presentation engine’s display typically refreshes the pixels that are
displayed to the user on a periodic basis.
The period may be fixed or variable.
In many cases, the presentation engine is associated with fixed refresh rate
(FRR) display technology, with a fixed refresh rate (RR, e.g. 60Hz).
In some cases, the presentation engine is associated with variable refresh
rate (VRR) display technology, where each refresh cycle (RC) can vary in
length.
This extension treats VRR displays as if they are FRR.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the duration of a refresh cycle (RC) for the presentation engine’s
display, call:</p>
</div>
<div id="vkGetRefreshCycleDurationGOOGLE" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_GOOGLE_display_timing</span>
<span class="n">VkResult</span> <span class="nf">vkGetRefreshCycleDurationGOOGLE</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span>                              <span class="n">swapchain</span><span class="p">,</span>
    <span class="n">VkRefreshCycleDurationGOOGLE</span><span class="o">*</span>               <span class="n">pDisplayTimingProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to obtain the refresh duration for.</p>
</li>
<li>
<p><code>pDisplayTimingProperties</code> is a pointer to a
<code>VkRefreshCycleDurationGOOGLE</code> structure.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetRefreshCycleDurationGOOGLE-device-parameter" href="chap34.html#VUID-vkGetRefreshCycleDurationGOOGLE-device-parameter"></a> <span class="vuid">VUID-vkGetRefreshCycleDurationGOOGLE-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRefreshCycleDurationGOOGLE-swapchain-parameter" href="chap34.html#VUID-vkGetRefreshCycleDurationGOOGLE-swapchain-parameter"></a> <span class="vuid">VUID-vkGetRefreshCycleDurationGOOGLE-swapchain-parameter</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRefreshCycleDurationGOOGLE-pDisplayTimingProperties-parameter" href="chap34.html#VUID-vkGetRefreshCycleDurationGOOGLE-pDisplayTimingProperties-parameter"></a> <span class="vuid">VUID-vkGetRefreshCycleDurationGOOGLE-pDisplayTimingProperties-parameter</span><br>
 <code>pDisplayTimingProperties</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkRefreshCycleDurationGOOGLE">VkRefreshCycleDurationGOOGLE</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetRefreshCycleDurationGOOGLE-swapchain-parent" href="chap34.html#VUID-vkGetRefreshCycleDurationGOOGLE-swapchain-parent"></a> <span class="vuid">VUID-vkGetRefreshCycleDurationGOOGLE-swapchain-parent</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkRefreshCycleDurationGOOGLE</code> structure is defined as:</p>
</div>
<div id="VkRefreshCycleDurationGOOGLE" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_GOOGLE_display_timing</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkRefreshCycleDurationGOOGLE</span> <span class="p">{</span>
    <span class="kt">uint64_t</span>    <span class="n">refreshDuration</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkRefreshCycleDurationGOOGLE</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>refreshDuration</code> is the number of nanoseconds from the start of one
refresh cycle to the next.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The rate at which an application renders and presents new images is known as
the image present rate (IPR, aka frame rate).
The inverse of IPR, or the duration between each image present, is the image
present duration (IPD).
In order to provide a smooth, stutter-free animation, an application will
want its IPD to be a multiple of <code>refreshDuration</code>.
For example, if a display has a 60Hz refresh rate, <code>refreshDuration</code>
will be a value in nanoseconds that is approximately equal to 16.67ms.
In such a case, an application will want an IPD of 16.67ms (1X multiplier of
<code>refreshDuration</code>), or 33.33ms (2X multiplier of <code>refreshDuration</code>),
or 50.0ms (3X multiplier of <code>refreshDuration</code>), etc.</p>
</div>
<div class="paragraph">
<p>In order to determine a target IPD for a display (i.e. a multiple of
<code>refreshDuration</code>), an application needs to determine when its images
are actually displayed.
Suppose an application has an initial target IPD of 16.67ms (1X multiplier
of <code>refreshDuration</code>).
It will therefore position the geometry of a new image 16.67ms later than
the previous image.
But suppose this application is running on slower hardware, so that it
actually takes 20ms to render each new image.
This will create visual anomalies, because the images will not be displayed
to the user every 16.67ms, nor every 20ms.
In this case, it is better for the application to adjust its target IPD to
33.33ms (i.e. a 2X multiplier of <code>refreshDuration</code>), and tell the
presentation engine to not present images any sooner than every 33.33ms.
This will allow the geometry to be correctly positioned for each presentable
image.</p>
</div>
<div class="paragraph">
<p>Adjustments to an application’s IPD may be needed because different views of
an application’s geometry can take different amounts of time to render.
For example, looking at the sky may take less time to render than looking at
multiple, complex items in a room.
In general, it is good to not frequently change IPD, as that can cause
visual anomalies.
Adjustments to a larger IPD because of late images should happen quickly,
but adjustments to a smaller IPD should only happen if the
<code>actualPresentTime</code> and <code>earliestPresentTime</code> members of the
<a href="chap34.html#VkPastPresentationTimingGOOGLE">VkPastPresentationTimingGOOGLE</a> structure are consistently different,
and if <code>presentMargin</code> is consistently large, over multiple images.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The implementation will maintain a limited amount of history of timing
information about previous presents.
Because of the asynchronous nature of the presentation engine, the timing
information for a given <a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a> command will become
available some time later.
These time values can be asynchronously queried, and will be returned if
available.
All time values are in nanoseconds, relative to a monotonically-increasing
clock (e.g. <code>CLOCK_MONOTONIC</code> (see clock_gettime(2)) on Android and Linux).</p>
</div>
<div class="paragraph">
<p>To asynchronously query the presentation engine, for newly-available timing
information about one or more previous presents to a given swapchain, call:</p>
</div>
<div id="vkGetPastPresentationTimingGOOGLE" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_GOOGLE_display_timing</span>
<span class="n">VkResult</span> <span class="nf">vkGetPastPresentationTimingGOOGLE</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span>                              <span class="n">swapchain</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pPresentationTimingCount</span><span class="p">,</span>
    <span class="n">VkPastPresentationTimingGOOGLE</span><span class="o">*</span>             <span class="n">pPresentationTimings</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to obtain presentation timing
information duration for.</p>
</li>
<li>
<p><code>pPresentationTimingCount</code> is a pointer to an integer related to the
number of <code>VkPastPresentationTimingGOOGLE</code> structures to query, as
described below.</p>
</li>
<li>
<p><code>pPresentationTimings</code> is either <code>NULL</code> or a pointer to an array of
<code>VkPastPresentationTimingGOOGLE</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pPresentationTimings</code> is <code>NULL</code>, then the number of newly-available
timing records for the given <code>swapchain</code> is returned in
<code>pPresentationTimingCount</code>.
Otherwise, <code>pPresentationTimingCount</code> <strong class="purple">must</strong> point to a variable set by
the user to the number of elements in the <code>pPresentationTimings</code> array,
and on return the variable is overwritten with the number of structures
actually written to <code>pPresentationTimings</code>.
If the value of <code>pPresentationTimingCount</code> is less than the number of
newly-available timing records, at most <code>pPresentationTimingCount</code>
structures will be written, and <code>VK_INCOMPLETE</code> will be returned instead
of <code>VK_SUCCESS</code>, to indicate that not all the available timing records
were returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPastPresentationTimingGOOGLE-device-parameter" href="chap34.html#VUID-vkGetPastPresentationTimingGOOGLE-device-parameter"></a> <span class="vuid">VUID-vkGetPastPresentationTimingGOOGLE-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPastPresentationTimingGOOGLE-swapchain-parameter" href="chap34.html#VUID-vkGetPastPresentationTimingGOOGLE-swapchain-parameter"></a> <span class="vuid">VUID-vkGetPastPresentationTimingGOOGLE-swapchain-parameter</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPastPresentationTimingGOOGLE-pPresentationTimingCount-parameter" href="chap34.html#VUID-vkGetPastPresentationTimingGOOGLE-pPresentationTimingCount-parameter"></a> <span class="vuid">VUID-vkGetPastPresentationTimingGOOGLE-pPresentationTimingCount-parameter</span><br>
 <code>pPresentationTimingCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPastPresentationTimingGOOGLE-pPresentationTimings-parameter" href="chap34.html#VUID-vkGetPastPresentationTimingGOOGLE-pPresentationTimings-parameter"></a> <span class="vuid">VUID-vkGetPastPresentationTimingGOOGLE-pPresentationTimings-parameter</span><br>
 If the value referenced by <code>pPresentationTimingCount</code> is not <code>0</code>, and <code>pPresentationTimings</code> is not <code>NULL</code>, <code>pPresentationTimings</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPresentationTimingCount</code> <a href="chap34.html#VkPastPresentationTimingGOOGLE">VkPastPresentationTimingGOOGLE</a> structures</p>
</li>
<li>
<p><a id="VUID-vkGetPastPresentationTimingGOOGLE-swapchain-parent" href="chap34.html#VUID-vkGetPastPresentationTimingGOOGLE-swapchain-parent"></a> <span class="vuid">VUID-vkGetPastPresentationTimingGOOGLE-swapchain-parent</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPastPresentationTimingGOOGLE</code> structure is defined as:</p>
</div>
<div id="VkPastPresentationTimingGOOGLE" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_GOOGLE_display_timing</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPastPresentationTimingGOOGLE</span> <span class="p">{</span>
    <span class="kt">uint32_t</span>    <span class="n">presentID</span><span class="p">;</span>
    <span class="kt">uint64_t</span>    <span class="n">desiredPresentTime</span><span class="p">;</span>
    <span class="kt">uint64_t</span>    <span class="n">actualPresentTime</span><span class="p">;</span>
    <span class="kt">uint64_t</span>    <span class="n">earliestPresentTime</span><span class="p">;</span>
    <span class="kt">uint64_t</span>    <span class="n">presentMargin</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPastPresentationTimingGOOGLE</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>presentID</code> is an application-provided value that was given to a
previous <code>vkQueuePresentKHR</code> command via
<a href="chap34.html#VkPresentTimeGOOGLE">VkPresentTimeGOOGLE</a>::<code>presentID</code> (see below).
It <strong class="purple">can</strong> be used to uniquely identify a previous present with the
<a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a> command.</p>
</li>
<li>
<p><code>desiredPresentTime</code> is an application-provided value that was given
to a previous <a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a> command via
<a href="chap34.html#VkPresentTimeGOOGLE">VkPresentTimeGOOGLE</a>::<code>desiredPresentTime</code>.
If non-zero, it was used by the application to indicate that an image
not be presented any sooner than <code>desiredPresentTime</code>.</p>
</li>
<li>
<p><code>actualPresentTime</code> is the time when the image of the
<code>swapchain</code> was actually displayed.</p>
</li>
<li>
<p><code>earliestPresentTime</code> is the time when the image of the
<code>swapchain</code> could have been displayed.
This <strong class="purple">may</strong> differ from <code>actualPresentTime</code> if the application
requested that the image be presented no sooner than
<a href="chap34.html#VkPresentTimeGOOGLE">VkPresentTimeGOOGLE</a>::<code>desiredPresentTime</code>.</p>
</li>
<li>
<p><code>presentMargin</code> is an indication of how early the
<code>vkQueuePresentKHR</code> command was processed compared to how soon it
needed to be processed, and still be presented at
<code>earliestPresentTime</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The results for a given <code>swapchain</code> and <code>presentID</code> are only
returned once from <code>vkGetPastPresentationTimingGOOGLE</code>.</p>
</div>
<div class="paragraph">
<p>The application <strong class="purple">can</strong> use the <code>VkPastPresentationTimingGOOGLE</code> values to
occasionally adjust its timing.
For example, if <code>actualPresentTime</code> is later than expected (e.g. one
<code>refreshDuration</code> late), the application may increase its target IPD to
a higher multiple of <code>refreshDuration</code> (e.g. decrease its frame rate
from 60Hz to 30Hz).
If <code>actualPresentTime</code> and <code>earliestPresentTime</code> are consistently
different, and if <code>presentMargin</code> is consistently large enough, the
application may decrease its target IPD to a smaller multiple of
<code>refreshDuration</code> (e.g. increase its frame rate from 30Hz to 60Hz).
If <code>actualPresentTime</code> and <code>earliestPresentTime</code> are same, and if
<code>presentMargin</code> is consistently high, the application may delay the
start of its input-render-present loop in order to decrease the latency
between user input and the corresponding present (always leaving some margin
in case a new image takes longer to render than the previous image).
An application that desires its target IPD to always be the same as
<code>refreshDuration</code>, can also adjust features until
<code>actualPresentTime</code> is never late and <code>presentMargin</code> is
satisfactory.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The full <code><a href="chap54.html#VK_GOOGLE_display_timing">VK_GOOGLE_display_timing</a></code> extension semantics are described
for swapchains created with <code>VK_PRESENT_MODE_FIFO_KHR</code>.
For example, non-zero values of
<code>VkPresentTimeGOOGLE</code>::<code>desiredPresentTime</code> <strong class="purple">must</strong> be honored, and
<code>vkGetPastPresentationTimingGOOGLE</code> <strong class="purple">should</strong> return a
<code>VkPastPresentationTimingGOOGLE</code> structure with valid values for all
images presented with <code>vkQueuePresentKHR</code>.
The semantics for other present modes are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PRESENT_MODE_IMMEDIATE_KHR</code>.
The presentation engine <strong class="purple">may</strong> ignore non-zero values of
<code>VkPresentTimeGOOGLE</code>::<code>desiredPresentTime</code> in favor of
presenting immediately.
The value of
<code>VkPastPresentationTimingGOOGLE</code>::<code>earliestPresentTime</code> <strong class="purple">must</strong> be
the same as
<code>VkPastPresentationTimingGOOGLE</code>::<code>actualPresentTime</code>, which
<strong class="purple">should</strong> be when the presentation engine displayed the image.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_MAILBOX_KHR</code>.
The intention of using this present mode with this extension is to
handle cases where an image is presented late, and the next image is
presented soon enough to replace it at the next vertical blanking
period.
For images that are displayed to the user, the value of
<code>VkPastPresentationTimingGOOGLE</code>::<code>actualPresentTime</code> <strong class="purple">must</strong> be
when the image was displayed.
For images that are not displayed to the user,
<code>vkGetPastPresentationTimingGOOGLE</code> <strong class="purple">may</strong> not return a
<code>VkPastPresentationTimingGOOGLE</code> structure, or it <strong class="purple">may</strong> return a
<code>VkPastPresentationTimingGOOGLE</code> structure with the value of zero
for both <code>VkPastPresentationTimingGOOGLE</code>::<code>actualPresentTime</code>
and <code>VkPastPresentationTimingGOOGLE</code>::<code>earliestPresentTime</code>.
It is possible that an application <strong class="purple">can</strong> submit images with
<code>VkPresentTimeGOOGLE</code>::<code>desiredPresentTime</code> values such that new
images <strong class="purple">may</strong> not be displayed.
For example, if <code>VkPresentTimeGOOGLE</code>::<code>desiredPresentTime</code> is
far enough in the future that an image is not presented before
<code>vkQueuePresentKHR</code> is called to present another image, the first
image will not be displayed to the user.
If the application continues to do that, the presentation <strong class="purple">may</strong> not
display new images.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>.
For images that are presented in time to be displayed at the next
vertical blanking period, the semantics are identical as for
<code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>.
For images that are presented late, and are displayed after the start of
the vertical blanking period (i.e. with tearing), the values of
<code>VkPastPresentationTimingGOOGLE</code> <strong class="purple">may</strong> be treated as if the image was
displayed at the start of the vertical blanking period, or <strong class="purple">may</strong> be
treated the same as for <code>VK_PRESENT_MODE_IMMEDIATE_KHR</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="present-wait"><a class="anchor" href="chap34.html#present-wait"></a>34.9. Present Wait</h3>
<div class="paragraph">
<p>Applications wanting to control the pacing of the application by monitoring
when presentation processes have completed to limit the number of
outstanding images queued for presentation, need to have a method of being
signaled during the presentation process.</p>
</div>
<div class="paragraph">
<p>Using
the <code><a href="chap54.html#VK_GOOGLE_display_timing">VK_GOOGLE_display_timing</a></code> extension
applications can discover when images were presented, but only
asynchronously.</p>
</div>
<div class="paragraph">
<p>Providing a mechanism which allows applications to block, waiting for a
specific step of the presentation process to complete allows them to control
the amount of outstanding work (and hence the potential lag in responding to
user input or changes in the rendering environment).</p>
</div>
<div class="paragraph">
<p>The <code><a href="chap54.html#VK_KHR_present_wait">VK_KHR_present_wait</a></code> extension allows applications to tell the
presentation engine at the <a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a> call that it plans on
waiting for presentation by passing a <a href="chap34.html#VkPresentIdKHR">VkPresentIdKHR</a> structure.
The <code>presentId</code> passed in that structure may then be passed to a future
<a href="chap34.html#vkWaitForPresentKHR">vkWaitForPresentKHR</a> call to cause the application to block until that
presentation is finished.</p>
</div>
</div>
<div class="sect2">
<h3 id="_wsi_swapchain"><a class="anchor" href="chap34.html#_wsi_swapchain"></a>34.10. WSI Swapchain</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A swapchain object (a.k.a.
swapchain) provides the ability to present rendering results to a surface.
Swapchain objects are represented by <code>VkSwapchainKHR</code> handles:</p>
</div>
<div id="VkSwapchainKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_swapchain</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkSwapchainKHR</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A swapchain is an abstraction for an array of presentable images that are
associated with a surface.
The presentable images are represented by <code>VkImage</code> objects created by
the platform.
One image (which <strong class="purple">can</strong> be an array image for multiview/stereoscopic-3D
surfaces) is displayed at a time, but multiple images <strong class="purple">can</strong> be queued for
presentation.
An application renders to the image, and then queues the image for
presentation to the surface.</p>
</div>
<div class="paragraph">
<p>A native window <strong class="purple">cannot</strong> be associated with more than one non-retired
swapchain at a time.
Further, swapchains <strong class="purple">cannot</strong> be created for native windows that have a
non-Vulkan graphics API surface associated with them.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The presentation engine is an abstraction for the platform’s compositor or
display engine.</p>
</div>
<div class="paragraph">
<p>The presentation engine <strong class="purple">may</strong> be synchronous or asynchronous with respect to
the application and/or logical device.</p>
</div>
<div class="paragraph">
<p>Some implementations <strong class="purple">may</strong> use the device’s graphics queue or dedicated
presentation hardware to perform presentation.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The presentable images of a swapchain are owned by the presentation engine.
An application <strong class="purple">can</strong> acquire use of a presentable image from the presentation
engine.
Use of a presentable image <strong class="purple">must</strong> occur only after the image is returned by
<a href="chap34.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>, and before it is released by
<a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a>.
This includes transitioning the image layout and rendering commands.</p>
</div>
<div class="paragraph">
<p>An application <strong class="purple">can</strong> acquire use of a presentable image with
<a href="chap34.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>.
After acquiring a presentable image and before modifying it, the application
<strong class="purple">must</strong> use a synchronization primitive to ensure that the presentation engine
has finished reading from the image.
The application <strong class="purple">can</strong> then transition the image’s layout, queue rendering
commands to it, etc.
Finally, the application presents the image with <a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a>,
which releases the acquisition of the image.
The application <strong class="purple">can</strong> also release the acquisition of the image through
<a href="chap34.html#vkReleaseSwapchainImagesEXT">vkReleaseSwapchainImagesEXT</a>, if the image is not in use by the device,
and skip the present operation.</p>
</div>
<div class="paragraph">
<p>The presentation engine controls the order in which presentable images are
acquired for use by the application.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This allows the platform to handle situations which require out-of-order
return of images after presentation.
At the same time, it allows the application to generate command buffers
referencing all of the images in the swapchain at initialization time,
rather than in its main loop.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="paragraph">
<p>How this all works is described below.</p>
</div>
<div class="paragraph">
<p>If a swapchain is created with <code>presentMode</code> set to either
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>, a single presentable
image <strong class="purple">can</strong> be acquired, referred to as a shared presentable image.
A shared presentable image <strong class="purple">may</strong> be concurrently accessed by the application
and the presentation engine, without transitioning the image’s layout after
it is initially presented.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>With <code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code>, the presentation
engine is only required to update to the latest contents of a shared
presentable image after a present.
The application <strong class="purple">must</strong> call <code>vkQueuePresentKHR</code> to guarantee an
update.
However, the presentation engine <strong class="purple">may</strong> update from it at any time.</p>
</li>
<li>
<p>With <code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>, the
presentation engine will automatically present the latest contents of a
shared presentable image during every refresh cycle.
The application is only required to make one initial call to
<code>vkQueuePresentKHR</code>, after which the presentation engine will update
from it without any need for further present calls.
The application <strong class="purple">can</strong> indicate the image contents have been updated by
calling <code>vkQueuePresentKHR</code>, but this does not guarantee the timing
of when updates will occur.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The presentation engine <strong class="purple">may</strong> access a shared presentable image at any time
after it is first presented.
To avoid tearing, an application <strong class="purple">should</strong> coordinate access with the
presentation engine.
This requires presentation engine timing information through
platform-specific mechanisms and ensuring that color attachment writes are
made available during the portion of the presentation engine’s refresh cycle
they are intended for.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code><a href="chap54.html#VK_KHR_shared_presentable_image">VK_KHR_shared_presentable_image</a></code> extension does not provide
functionality for determining the timing of the presentation engine’s
refresh cycles.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>In order to query a swapchain’s status when rendering to a shared
presentable image, call:</p>
</div>
<div id="vkGetSwapchainStatusKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_shared_presentable_image</span>
<span class="n">VkResult</span> <span class="nf">vkGetSwapchainStatusKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span>                              <span class="n">swapchain</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to query.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetSwapchainStatusKHR-device-parameter" href="chap34.html#VUID-vkGetSwapchainStatusKHR-device-parameter"></a> <span class="vuid">VUID-vkGetSwapchainStatusKHR-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainStatusKHR-swapchain-parameter" href="chap34.html#VUID-vkGetSwapchainStatusKHR-swapchain-parameter"></a> <span class="vuid">VUID-vkGetSwapchainStatusKHR-swapchain-parameter</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainStatusKHR-swapchain-parent" href="chap34.html#VUID-vkGetSwapchainStatusKHR-swapchain-parent"></a> <span class="vuid">VUID-vkGetSwapchainStatusKHR-swapchain-parent</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The possible return values for <code>vkGetSwapchainStatusKHR</code> <strong class="purple">should</strong> be
interpreted as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code> specifies the presentation engine is presenting the
contents of the shared presentable image, as per the swapchain’s
<a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a>.</p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code> the swapchain no longer matches the surface
properties exactly, but the presentation engine is presenting the
contents of the shared presentable image, as per the swapchain’s
<a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a>.</p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code> the surface has changed in such a way
that it is no longer compatible with the swapchain.</p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code> the surface is no longer available.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The swapchain state <strong class="purple">may</strong> be cached by implementations, so applications
<strong class="purple">should</strong> regularly call <code>vkGetSwapchainStatusKHR</code> when using a swapchain
with <a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> set to
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a swapchain, call:</p>
</div>
<div id="vkCreateSwapchainKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_swapchain</span>
<span class="n">VkResult</span> <span class="nf">vkCreateSwapchainKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkSwapchainCreateInfoKHR</span><span class="o">*</span>             <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span><span class="o">*</span>                             <span class="n">pSwapchain</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device to create the swapchain for.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>
structure specifying the parameters of the created swapchain.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
swapchain object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSwapchain</code> is a pointer to a <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle in which
the created swapchain object will be returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As mentioned above, if <code>vkCreateSwapchainKHR</code> succeeds, it will return a
handle to a swapchain containing an array of at least
<code>pCreateInfo-&gt;minImageCount</code> presentable images.</p>
</div>
<div class="paragraph">
<p>While acquired by the application, presentable images <strong class="purple">can</strong> be used in any
way that equivalent non-presentable images <strong class="purple">can</strong> be used.
A presentable image is equivalent to a non-presentable image created with
the following <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a> parameters:</p>
</div>
<table id="swapchain-wsi-image-create-info" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>VkImageCreateInfo</code> Field</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flags</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_IMAGE_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT</code> is set if
<code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code> is set</p>
<p class="tableblock"><code>VK_IMAGE_CREATE_PROTECTED_BIT</code> is set if
<code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code> is set</p>
<p class="tableblock"><code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> and
<code>VK_IMAGE_CREATE_EXTENDED_USAGE_BIT_KHR</code> are both set if
<code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code> is set</p>
<p class="tableblock">all other bits are unset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_IMAGE_TYPE_2D</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>format</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pCreateInfo-&gt;imageFormat</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{<code>pCreateInfo-&gt;imageExtent.width</code>, <code>pCreateInfo-&gt;imageExtent.height</code>, <code>1</code>}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mipLevels</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>arrayLayers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pCreateInfo-&gt;imageArrayLayers</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>samples</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_1_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tiling</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_IMAGE_TILING_OPTIMAL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>usage</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pCreateInfo-&gt;imageUsage</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sharingMode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pCreateInfo-&gt;imageSharingMode</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>queueFamilyIndexCount</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pCreateInfo-&gt;queueFamilyIndexCount</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pQueueFamilyIndices</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pCreateInfo-&gt;pQueueFamilyIndices</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>initialLayout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_IMAGE_LAYOUT_UNDEFINED</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>pCreateInfo-&gt;surface</code> <strong class="purple">must</strong> not be destroyed until after the
swapchain is destroyed.</p>
</div>
<div class="paragraph">
<p>If <code>pCreateInfo-&gt;oldSwapchain</code> is <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, and the native
window referred to by <code>pCreateInfo-&gt;surface</code> is already associated with
a Vulkan swapchain, <code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code> <strong class="purple">must</strong> be
returned.</p>
</div>
<div class="paragraph">
<p>If the native window referred to by <code>pCreateInfo-&gt;surface</code> is already
associated with a non-Vulkan graphics API surface,
<code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code> <strong class="purple">must</strong> be returned.</p>
</div>
<div class="paragraph">
<p>The native window referred to by <code>pCreateInfo-&gt;surface</code> <strong class="purple">must</strong> not become
associated with a non-Vulkan graphics API surface before all associated
Vulkan swapchains have been destroyed.</p>
</div>
<div class="paragraph">
<p><code>vkCreateSwapchainKHR</code> will return <code>VK_ERROR_DEVICE_LOST</code> if the
logical device was lost.
The <code>VkSwapchainKHR</code> is a child of the <code>device</code>, and <strong class="purple">must</strong> be
destroyed before the <code>device</code>.
However, <code>VkSurfaceKHR</code> is not a child of any <code>VkDevice</code> and is not
affected by the lost device.
After successfully recreating a <code>VkDevice</code>, the same <code>VkSurfaceKHR</code>
<strong class="purple">can</strong> be used to create a new <code>VkSwapchainKHR</code>, provided the previous one
was destroyed.</p>
</div>
<div class="paragraph">
<p>If the <code>oldSwapchain</code> parameter of <code>pCreateInfo</code> is a valid
swapchain, which has exclusive full-screen access, that access is released
from <code>pCreateInfo-&gt;oldSwapchain</code>.
If the command succeeds in this case, the newly created swapchain will
automatically acquire exclusive full-screen access from
<code>pCreateInfo-&gt;oldSwapchain</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This implicit transfer is intended to avoid exiting and entering full-screen
exclusive mode, which may otherwise cause unwanted visual updates to the
display.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>In some cases, swapchain creation <strong class="purple">may</strong> fail if exclusive full-screen mode is
requested for application control, but for some implementation-specific
reason exclusive full-screen access is unavailable for the particular
combination of parameters provided.
If this occurs, <code>VK_ERROR_INITIALIZATION_FAILED</code> will be returned.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In particular, it will fail if the <code>imageExtent</code> member of
<code>pCreateInfo</code> does not match the extents of the monitor.
Other reasons for failure may include the app not being set as high-dpi
aware, or if the physical device and monitor are not compatible in this
mode.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> includes a
<a href="chap34.html#VkSwapchainPresentBarrierCreateInfoNV">VkSwapchainPresentBarrierCreateInfoNV</a> structure, then that structure
includes additional swapchain creation parameters specific to the present
barrier.
Swapchain creation <strong class="purple">may</strong> fail if the state of the current system restricts
the usage of the present barrier feature
<a href="chap34.html#VkSurfaceCapabilitiesPresentBarrierNV">VkSurfaceCapabilitiesPresentBarrierNV</a>, or a swapchain itself does not
satisfy all the required conditions.
In this scenario <code>VK_ERROR_INITIALIZATION_FAILED</code> is returned.</p>
</div>
<div class="paragraph">
<p>When the <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> in <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> is a display
surface, then the <a href="chap34.html#VkDisplayModeKHR">VkDisplayModeKHR</a> in display surface’s
<a href="chap34.html#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a> is associated with a particular
<a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a>.
Swapchain creation <strong class="purple">may</strong> fail if that <a href="chap34.html#VkDisplayKHR">VkDisplayKHR</a> is not acquired by
the application.
In this scenario <code>VK_ERROR_INITIALIZATION_FAILED</code> is returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateSwapchainKHR-device-parameter" href="chap34.html#VUID-vkCreateSwapchainKHR-device-parameter"></a> <span class="vuid">VUID-vkCreateSwapchainKHR-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateSwapchainKHR-pCreateInfo-parameter" href="chap34.html#VUID-vkCreateSwapchainKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateSwapchainKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateSwapchainKHR-pAllocator-parameter" href="chap34.html#VUID-vkCreateSwapchainKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateSwapchainKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateSwapchainKHR-pSwapchain-parameter" href="chap34.html#VUID-vkCreateSwapchainKHR-pSwapchain-parameter"></a> <span class="vuid">VUID-vkCreateSwapchainKHR-pSwapchain-parameter</span><br>
 <code>pSwapchain</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pCreateInfo-&gt;surface</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>pCreateInfo-&gt;oldSwapchain</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
<li>
<p><code>VK_ERROR_COMPRESSION_EXHAUSTED_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSwapchainCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkSwapchainCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_swapchain</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSwapchainCreateInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                  <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                      <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkSwapchainCreateFlagsKHR</span>        <span class="n">flags</span><span class="p">;</span>
    <span class="n">VkSurfaceKHR</span>                     <span class="n">surface</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                         <span class="n">minImageCount</span><span class="p">;</span>
    <span class="n">VkFormat</span>                         <span class="n">imageFormat</span><span class="p">;</span>
    <span class="n">VkColorSpaceKHR</span>                  <span class="n">imageColorSpace</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                       <span class="n">imageExtent</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                         <span class="n">imageArrayLayers</span><span class="p">;</span>
    <span class="n">VkImageUsageFlags</span>                <span class="n">imageUsage</span><span class="p">;</span>
    <span class="n">VkSharingMode</span>                    <span class="n">imageSharingMode</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                         <span class="n">queueFamilyIndexCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">uint32_t</span><span class="o">*</span>                  <span class="n">pQueueFamilyIndices</span><span class="p">;</span>
    <span class="n">VkSurfaceTransformFlagBitsKHR</span>    <span class="n">preTransform</span><span class="p">;</span>
    <span class="n">VkCompositeAlphaFlagBitsKHR</span>      <span class="n">compositeAlpha</span><span class="p">;</span>
    <span class="n">VkPresentModeKHR</span>                 <span class="n">presentMode</span><span class="p">;</span>
    <span class="n">VkBool32</span>                         <span class="n">clipped</span><span class="p">;</span>
    <span class="n">VkSwapchainKHR</span>                   <span class="n">oldSwapchain</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSwapchainCreateInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="chap34.html#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a>
indicating parameters of the swapchain creation.</p>
</li>
<li>
<p><code>surface</code> is the surface onto which the swapchain will present
images.
If the creation succeeds, the swapchain becomes associated with
<code>surface</code>.</p>
</li>
<li>
<p><code>minImageCount</code> is the minimum number of presentable images that the
application needs.
The implementation will either create the swapchain with at least that
many images, or it will fail to create the swapchain.</p>
</li>
<li>
<p><code>imageFormat</code> is a <a href="chap47.html#VkFormat">VkFormat</a> value specifying the format the
swapchain image(s) will be created with.</p>
</li>
<li>
<p><code>imageColorSpace</code> is a <a href="chap34.html#VkColorSpaceKHR">VkColorSpaceKHR</a> value specifying the
way the swapchain interprets image data.</p>
</li>
<li>
<p><code>imageExtent</code> is the size (in pixels) of the swapchain image(s).
The behavior is platform-dependent if the image extent does not match
the surface’s <code>currentExtent</code> as returned by
<code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>.</p>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>On some platforms, it is normal that <code>maxImageExtent</code> <strong class="purple">may</strong> become <code>(0,
0)</code>, for example when the window is minimized.
In such a case, it is not possible to create a swapchain due to the Valid
Usage requirements
, unless scaling is selected through
<a href="chap34.html#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a>, if supported
.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</li>
<li>
<p><code>imageArrayLayers</code> is the number of views in a multiview/stereo
surface.
For non-stereoscopic-3D applications, this value is 1.</p>
</li>
<li>
<p><code>imageUsage</code> is a bitmask of <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a> describing
the intended usage of the (acquired) swapchain images.</p>
</li>
<li>
<p><code>imageSharingMode</code> is the sharing mode used for the image(s) of the
swapchain.</p>
</li>
<li>
<p><code>queueFamilyIndexCount</code> is the number of queue families having
access to the image(s) of the swapchain when <code>imageSharingMode</code> is
<code>VK_SHARING_MODE_CONCURRENT</code>.</p>
</li>
<li>
<p><code>pQueueFamilyIndices</code> is a pointer to an array of queue family
indices having access to the images(s) of the swapchain when
<code>imageSharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>.</p>
</li>
<li>
<p><code>preTransform</code> is a <a href="chap34.html#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> value
describing the transform, relative to the presentation engine’s natural
orientation, applied to the image content prior to presentation.
If it does not match the <code>currentTransform</code> value returned by
<code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>, the presentation engine
will transform the image content as part of the presentation operation.</p>
</li>
<li>
<p><code>compositeAlpha</code> is a <a href="chap34.html#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a> value
indicating the alpha compositing mode to use when this surface is
composited together with other surfaces on certain window systems.</p>
</li>
<li>
<p><code>presentMode</code> is the presentation mode the swapchain will use.
A swapchain’s present mode determines how incoming present requests will
be processed and queued internally.</p>
</li>
<li>
<p><code>clipped</code> specifies whether the Vulkan implementation is allowed to
discard rendering operations that affect regions of the surface that are
not visible.</p>
<div class="ulist">
<ul>
<li>
<p>If set to <code>VK_TRUE</code>, the presentable images associated with the
swapchain <strong class="purple">may</strong> not own all of their pixels.
Pixels in the presentable images that correspond to regions of the
target surface obscured by another window on the desktop, or subject to
some other clipping mechanism will have undefined content when read
back.
Fragment shaders <strong class="purple">may</strong> not execute for these pixels, and thus any side
effects they would have had will not occur.
Setting <code>VK_TRUE</code> does not guarantee any clipping will occur, but
allows more efficient presentation methods to be used on some
platforms.</p>
</li>
<li>
<p>If set to <code>VK_FALSE</code>, presentable images associated with the
swapchain will own all of the pixels they contain.</p>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Applications <strong class="purple">should</strong> set this value to <code>VK_TRUE</code> if they do not expect
to read back the content of presentable images before presenting them or
after reacquiring them, and if their fragment shaders do not have any side
effects that require them to run for all pixels in the presentable image.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><code>oldSwapchain</code> is <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, or the existing non-retired
swapchain currently associated with <code>surface</code>.
Providing a valid <code>oldSwapchain</code> <strong class="purple">may</strong> aid in the resource reuse, and
also allows the application to still present any images that are already
acquired from it.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Upon calling <code>vkCreateSwapchainKHR</code> with an <code>oldSwapchain</code> that is
not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>oldSwapchain</code> is retired — even if creation
of the new swapchain fails.
The new swapchain is created in the non-retired state whether or not
<code>oldSwapchain</code> is <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>.</p>
</div>
<div class="paragraph">
<p>Upon calling <code>vkCreateSwapchainKHR</code> with an <code>oldSwapchain</code> that is
not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, any images from <code>oldSwapchain</code> that are not
acquired by the application <strong class="purple">may</strong> be freed by the implementation, which <strong class="purple">may</strong>
occur even if creation of the new swapchain fails.
The application <strong class="purple">can</strong> destroy <code>oldSwapchain</code> to free all memory
associated with <code>oldSwapchain</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Multiple retired swapchains <strong class="purple">can</strong> be associated with the same
<code>VkSurfaceKHR</code> through multiple uses of <code>oldSwapchain</code> that
outnumber calls to <a href="chap34.html#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a>.</p>
</div>
<div class="paragraph">
<p>After <code>oldSwapchain</code> is retired, the application <strong class="purple">can</strong> pass to
<a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a> any images it had already acquired from
<code>oldSwapchain</code>.
E.g., an application may present an image from the old swapchain before an
image from the new swapchain is ready to be presented.
As usual, <a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a> <strong class="purple">may</strong> fail if <code>oldSwapchain</code> has
entered a state that causes <code>VK_ERROR_OUT_OF_DATE_KHR</code> to be returned.</p>
</div>
<div class="paragraph">
<p>The application <strong class="purple">can</strong> continue to use a shared presentable image obtained
from <code>oldSwapchain</code> until a presentable image is acquired from the new
swapchain, as long as it has not entered a state that causes it to return
<code>VK_ERROR_OUT_OF_DATE_KHR</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-surface-01270" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-surface-01270"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-surface-01270</span><br>

<code>surface</code> <strong class="purple">must</strong> be a surface that is supported by the device as
determined using <a href="chap34.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-minImageCount-01272" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-minImageCount-01272"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-minImageCount-01272</span><br>

<code>minImageCount</code> <strong class="purple">must</strong> be less than or equal to the value returned in
the <code>maxImageCount</code> member of the <code>VkSurfaceCapabilitiesKHR</code>
structure returned by <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>
for the surface if the returned <code>maxImageCount</code> is not zero</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-presentMode-02839" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-presentMode-02839"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-presentMode-02839</span><br>

If <code>presentMode</code> is not
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> nor
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>, then
<code>minImageCount</code> <strong class="purple">must</strong> be greater than or equal to the value returned
in the <code>minImageCount</code> member of the <code>VkSurfaceCapabilitiesKHR</code>
structure returned by <a href="chap34.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>
for the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-minImageCount-01383" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-minImageCount-01383"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-minImageCount-01383</span><br>

<code>minImageCount</code> <strong class="purple">must</strong> be <code>1</code> if <code>presentMode</code> is either
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageFormat-01273" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-imageFormat-01273"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageFormat-01273</span><br>

<code>imageFormat</code> and <code>imageColorSpace</code> <strong class="purple">must</strong> match the <code>format</code>
and <code>colorSpace</code> members, respectively, of one of the
<code>VkSurfaceFormatKHR</code> structures returned by
<code>vkGetPhysicalDeviceSurfaceFormatsKHR</code> for the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-pNext-07781" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-pNext-07781"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-pNext-07781</span><br>

If a <a href="chap34.html#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a> structure was not
included in the <code>pNext</code> chain, or it is included and
<a href="chap34.html#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a>::<code>scalingBehavior</code> is
zero then <code>imageExtent</code> <strong class="purple">must</strong> be between <code>minImageExtent</code> and
<code>maxImageExtent</code>, inclusive, where <code>minImageExtent</code> and
<code>maxImageExtent</code> are members of the <code>VkSurfaceCapabilitiesKHR</code>
structure returned by <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>
for the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-pNext-07782" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-pNext-07782"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-pNext-07782</span><br>

If a <a href="chap34.html#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a> structure was included
in the <code>pNext</code> chain and
<a href="chap34.html#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a>::<code>scalingBehavior</code> is
not zero then <code>imageExtent</code> <strong class="purple">must</strong> be between
<code>minScaledImageExtent</code> and <code>maxScaledImageExtent</code>, inclusive,
where <code>minScaledImageExtent</code> and <code>maxScaledImageExtent</code> are
members of the <code>VkSurfacePresentScalingCapabilitiesEXT</code> structure
returned by <code>vkGetPhysicalDeviceSurfaceCapabilities2KHR</code> for the
surface and <code>presentMode</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageExtent-01689" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-imageExtent-01689"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageExtent-01689</span><br>

<code>imageExtent</code> members <code>width</code> and <code>height</code> <strong class="purple">must</strong> both be
non-zero</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageArrayLayers-01275" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-imageArrayLayers-01275"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageArrayLayers-01275</span><br>

<code>imageArrayLayers</code> <strong class="purple">must</strong> be greater than <code>0</code> and less than or equal
to the <code>maxImageArrayLayers</code> member of the
<code>VkSurfaceCapabilitiesKHR</code> structure returned by
<code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code> for the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-presentMode-01427" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-presentMode-01427"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-presentMode-01427</span><br>

If <code>presentMode</code> is <code>VK_PRESENT_MODE_IMMEDIATE_KHR</code>,
<code>VK_PRESENT_MODE_MAILBOX_KHR</code>, <code>VK_PRESENT_MODE_FIFO_KHR</code> or
<code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>, <code>imageUsage</code> <strong class="purple">must</strong> be a
subset of the supported usage flags present in the
<code>supportedUsageFlags</code> member of the <a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>
structure returned by <a href="chap34.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>
for <code>surface</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageUsage-01384" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-imageUsage-01384"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageUsage-01384</span><br>

If <code>presentMode</code> is <code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code>
or <code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>, <code>imageUsage</code>
<strong class="purple">must</strong> be a subset of the supported usage flags present in the
<code>sharedPresentSupportedUsageFlags</code> member of the
<a href="chap34.html#VkSharedPresentSurfaceCapabilitiesKHR">VkSharedPresentSurfaceCapabilitiesKHR</a> structure returned by
<a href="chap34.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a> for <code>surface</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01277" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01277"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01277</span><br>

If <code>imageSharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
<code>pQueueFamilyIndices</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>queueFamilyIndexCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01278" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01278"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01278</span><br>

If <code>imageSharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
<code>queueFamilyIndexCount</code> <strong class="purple">must</strong> be greater than <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01428" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01428"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01428</span><br>

If <code>imageSharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>, each
element of <code>pQueueFamilyIndices</code> <strong class="purple">must</strong> be unique and <strong class="purple">must</strong> be less
than <code>pQueueFamilyPropertyCount</code> returned by either
<a href="chap5.html#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a> or
<a href="chap5.html#vkGetPhysicalDeviceQueueFamilyProperties2">vkGetPhysicalDeviceQueueFamilyProperties2</a> for the
<code>physicalDevice</code> that was used to create <code>device</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-preTransform-01279" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-preTransform-01279"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-preTransform-01279</span><br>

<code>preTransform</code> <strong class="purple">must</strong> be one of the bits present in the
<code>supportedTransforms</code> member of the <code>VkSurfaceCapabilitiesKHR</code>
structure returned by <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>
for the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-compositeAlpha-01280" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-compositeAlpha-01280"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-compositeAlpha-01280</span><br>

<code>compositeAlpha</code> <strong class="purple">must</strong> be one of the bits present in the
<code>supportedCompositeAlpha</code> member of the
<code>VkSurfaceCapabilitiesKHR</code> structure returned by
<code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code> for the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-presentMode-01281" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-presentMode-01281"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-presentMode-01281</span><br>

<code>presentMode</code> <strong class="purple">must</strong> be one of the <a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> values
returned by <code>vkGetPhysicalDeviceSurfacePresentModesKHR</code> for the
surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-physicalDeviceCount-01429" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-physicalDeviceCount-01429"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-physicalDeviceCount-01429</span><br>

If the logical device was created with
<a href="chap5.html#VkDeviceGroupDeviceCreateInfo">VkDeviceGroupDeviceCreateInfo</a>::<code>physicalDeviceCount</code> equal to
1, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-oldSwapchain-01933" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-oldSwapchain-01933"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-oldSwapchain-01933</span><br>

If <code>oldSwapchain</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>oldSwapchain</code>
<strong class="purple">must</strong> be a non-retired swapchain associated with native window referred
to by <code>surface</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageFormat-01778" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-imageFormat-01778"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageFormat-01778</span><br>

The <a href="chap34.html#swapchain-wsi-image-create-info">implied image creation
parameters</a> of the swapchain <strong class="purple">must</strong> be supported as reported by
<a href="chap48.html#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-flags-03168" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-flags-03168"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-flags-03168</span><br>

If <code>flags</code> contains <code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code>
then the <code>pNext</code> chain <strong class="purple">must</strong> include a
<a href="chap12.html#VkImageFormatListCreateInfo">VkImageFormatListCreateInfo</a> structure with a <code>viewFormatCount</code>
greater than zero and <code>pViewFormats</code> <strong class="purple">must</strong> have an element equal to
<code>imageFormat</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-pNext-04099" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-pNext-04099"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-pNext-04099</span><br>

If a <a href="chap12.html#VkImageFormatListCreateInfo">VkImageFormatListCreateInfo</a> structure was included in the
<code>pNext</code> chain and
<a href="chap12.html#VkImageFormatListCreateInfo">VkImageFormatListCreateInfo</a>::<code>viewFormatCount</code> is not zero
then all of the formats in
<a href="chap12.html#VkImageFormatListCreateInfo">VkImageFormatListCreateInfo</a>::<code>pViewFormats</code> <strong class="purple">must</strong> be
compatible with the <code>format</code> as described in the
<a href="chap47.html#formats-compatibility">compatibility table</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-flags-04100" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-flags-04100"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-flags-04100</span><br>

If <code>flags</code> does not contain
<code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code> and the <code>pNext</code>
chain include a <a href="chap12.html#VkImageFormatListCreateInfo">VkImageFormatListCreateInfo</a> structure then
<a href="chap12.html#VkImageFormatListCreateInfo">VkImageFormatListCreateInfo</a>::<code>viewFormatCount</code> <strong class="purple">must</strong> be <code>0</code> or
<code>1</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-flags-03187" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-flags-03187"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-flags-03187</span><br>

If <code>flags</code> contains <code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code>,
then <code>VkSurfaceProtectedCapabilitiesKHR</code>::<code>supportsProtected</code>
<strong class="purple">must</strong> be <code>VK_TRUE</code> in the <a href="chap34.html#VkSurfaceProtectedCapabilitiesKHR">VkSurfaceProtectedCapabilitiesKHR</a>
structure returned by <a href="chap34.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>
for <code>surface</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-pNext-02679" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-pNext-02679"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-pNext-02679</span><br>

If the <code>pNext</code> chain includes a
<a href="chap34.html#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a> structure with its
<code>fullScreenExclusive</code> member set to
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code>, and
<code>surface</code> was created using <a href="chap34.html#vkCreateWin32SurfaceKHR">vkCreateWin32SurfaceKHR</a>, a
<a href="chap34.html#VkSurfaceFullScreenExclusiveWin32InfoEXT">VkSurfaceFullScreenExclusiveWin32InfoEXT</a> structure <strong class="purple">must</strong> be
included in the <code>pNext</code> chain</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-pNext-06752" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-pNext-06752"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-pNext-06752</span><br>

If the <a href="chap45.html#features-imageCompressionControlSwapchain"><code>imageCompressionControlSwapchain</code></a> feature is not enabled, the
<code>pNext</code> chain <strong class="purple">must</strong> not include an
<a href="chap12.html#VkImageCompressionControlEXT">VkImageCompressionControlEXT</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-sType-sType" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-pNext-pNext" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong class="purple">must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="chap34.html#VkDeviceGroupSwapchainCreateInfoKHR">VkDeviceGroupSwapchainCreateInfoKHR</a>, <a href="chap12.html#VkImageCompressionControlEXT">VkImageCompressionControlEXT</a>, <a href="chap12.html#VkImageFormatListCreateInfo">VkImageFormatListCreateInfo</a>, <a href="chap34.html#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a>, <a href="chap34.html#VkSurfaceFullScreenExclusiveWin32InfoEXT">VkSurfaceFullScreenExclusiveWin32InfoEXT</a>, <a href="chap34.html#VkSwapchainCounterCreateInfoEXT">VkSwapchainCounterCreateInfoEXT</a>, <a href="chap34.html#VkSwapchainDisplayNativeHdrCreateInfoAMD">VkSwapchainDisplayNativeHdrCreateInfoAMD</a>, <a href="chap34.html#VkSwapchainPresentBarrierCreateInfoNV">VkSwapchainPresentBarrierCreateInfoNV</a>, <a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>, or <a href="chap34.html#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-sType-unique" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-sType-unique"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-flags-parameter" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-flags-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-flags-parameter</span><br>
 <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="chap34.html#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-surface-parameter" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-surface-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-surface-parameter</span><br>
 <code>surface</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageFormat-parameter" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-imageFormat-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageFormat-parameter</span><br>
 <code>imageFormat</code> <strong class="purple">must</strong> be a valid <a href="chap47.html#VkFormat">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageColorSpace-parameter" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-imageColorSpace-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageColorSpace-parameter</span><br>
 <code>imageColorSpace</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkColorSpaceKHR">VkColorSpaceKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageUsage-parameter" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-imageUsage-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageUsage-parameter</span><br>
 <code>imageUsage</code> <strong class="purple">must</strong> be a valid combination of <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageUsage-requiredbitmask" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-imageUsage-requiredbitmask"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageUsage-requiredbitmask</span><br>
 <code>imageUsage</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageSharingMode-parameter" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-imageSharingMode-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageSharingMode-parameter</span><br>
 <code>imageSharingMode</code> <strong class="purple">must</strong> be a valid <a href="chap12.html#VkSharingMode">VkSharingMode</a> value</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-preTransform-parameter" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-preTransform-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-preTransform-parameter</span><br>
 <code>preTransform</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-compositeAlpha-parameter" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-compositeAlpha-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-compositeAlpha-parameter</span><br>
 <code>compositeAlpha</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-presentMode-parameter" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-presentMode-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-presentMode-parameter</span><br>
 <code>presentMode</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-oldSwapchain-parameter" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-oldSwapchain-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-oldSwapchain-parameter</span><br>
 If <code>oldSwapchain</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>oldSwapchain</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-commonparent" href="chap34.html#VUID-VkSwapchainCreateInfoKHR-commonparent"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-commonparent</span><br>
 Both of <code>oldSwapchain</code>, and <code>surface</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap4.html#VkInstance">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>flags</code>,
specifying parameters of swapchain creation, are:</p>
</div>
<div id="VkSwapchainCreateFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_swapchain</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkSwapchainCreateFlagBitsKHR</span> <span class="p">{</span>
  <span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_swapchain</span>
    <span class="n">VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
  <span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain</span>
    <span class="n">VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
  <span class="c1">// Provided by VK_KHR_swapchain_mutable_format</span>
    <span class="n">VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_swapchain_maintenance1</span>
    <span class="n">VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkSwapchainCreateFlagBitsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code> specifies
that images created from the swapchain (i.e. with the <code>swapchain</code>
member of <a href="chap12.html#VkImageSwapchainCreateInfoKHR">VkImageSwapchainCreateInfoKHR</a> set to this swapchain’s
handle) <strong class="purple">must</strong> use <code>VK_IMAGE_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT</code>.</p>
</li>
<li>
<p><code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code> specifies that images
created from the swapchain are protected images.</p>
</li>
<li>
<p><code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code> specifies that the
images of the swapchain <strong class="purple">can</strong> be used to create a <code>VkImageView</code> with
a different format than what the swapchain was created with.
The list of allowed image view formats is specified by adding a
<a href="chap12.html#VkImageFormatListCreateInfo">VkImageFormatListCreateInfo</a> structure to the <code>pNext</code> chain of
<a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>.
In addition, this flag also specifies that the swapchain <strong class="purple">can</strong> be created
with usage flags that are not supported for the format the swapchain is
created with but are supported for at least one of the allowed image
view formats.</p>
</li>
<li>
<p><code>VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT</code> specifies
    that the implementation <strong class="purple">may</strong> defer allocation of memory associated with
    each swapchain image until its index is to be returned from
    <a href="chap34.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>
or <a href="chap34.html#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a>
    for the first time.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkSwapchainCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_swapchain</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkSwapchainCreateFlagsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkSwapchainCreateFlagsKHR</code> is a bitmask type for setting a mask of zero
or more <a href="chap34.html#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> includes a
<code>VkDeviceGroupSwapchainCreateInfoKHR</code> structure, then that structure
includes a set of device group present modes that the swapchain <strong class="purple">can</strong> be used
with.</p>
</div>
<div class="paragraph">
<p>The <code>VkDeviceGroupSwapchainCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkDeviceGroupSwapchainCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_swapchain</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDeviceGroupSwapchainCreateInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                     <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                         <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDeviceGroupPresentModeFlagsKHR</span>    <span class="n">modes</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDeviceGroupSwapchainCreateInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>modes</code> is a bitfield of modes that the swapchain <strong class="purple">can</strong> be used with.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this structure is not present, <code>modes</code> is considered to be
<code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDeviceGroupSwapchainCreateInfoKHR-sType-sType" href="chap34.html#VUID-VkDeviceGroupSwapchainCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkDeviceGroupSwapchainCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupSwapchainCreateInfoKHR-modes-parameter" href="chap34.html#VUID-VkDeviceGroupSwapchainCreateInfoKHR-modes-parameter"></a> <span class="vuid">VUID-VkDeviceGroupSwapchainCreateInfoKHR-modes-parameter</span><br>
 <code>modes</code> <strong class="purple">must</strong> be a valid combination of <a href="chap34.html#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a> values</p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupSwapchainCreateInfoKHR-modes-requiredbitmask" href="chap34.html#VUID-VkDeviceGroupSwapchainCreateInfoKHR-modes-requiredbitmask"></a> <span class="vuid">VUID-VkDeviceGroupSwapchainCreateInfoKHR-modes-requiredbitmask</span><br>
 <code>modes</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> includes a
<code>VkSwapchainDisplayNativeHdrCreateInfoAMD</code> structure, then that
structure includes additional swapchain creation parameters specific to
display native HDR support.</p>
</div>
<div class="paragraph">
<p>The <code>VkSwapchainDisplayNativeHdrCreateInfoAMD</code> structure is defined as:</p>
</div>
<div id="VkSwapchainDisplayNativeHdrCreateInfoAMD" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_AMD_display_native_hdr</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSwapchainDisplayNativeHdrCreateInfoAMD</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkBool32</span>           <span class="n">localDimmingEnable</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSwapchainDisplayNativeHdrCreateInfoAMD</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>localDimmingEnable</code> specifies whether local dimming is enabled for
the swapchain.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> does not include
this structure, the default value for <code>localDimmingEnable</code> is
<code>VK_TRUE</code>, meaning local dimming is initially enabled for the swapchain.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainDisplayNativeHdrCreateInfoAMD-sType-sType" href="chap34.html#VUID-VkSwapchainDisplayNativeHdrCreateInfoAMD-sType-sType"></a> <span class="vuid">VUID-VkSwapchainDisplayNativeHdrCreateInfoAMD-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_DISPLAY_NATIVE_HDR_CREATE_INFO_AMD</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainDisplayNativeHdrCreateInfoAMD-localDimmingEnable-04449" href="chap34.html#VUID-VkSwapchainDisplayNativeHdrCreateInfoAMD-localDimmingEnable-04449"></a> <span class="vuid">VUID-VkSwapchainDisplayNativeHdrCreateInfoAMD-localDimmingEnable-04449</span><br>

It is only valid to set <code>localDimmingEnable</code> to <code>VK_TRUE</code> if
<a href="chap34.html#VkDisplayNativeHdrSurfaceCapabilitiesAMD">VkDisplayNativeHdrSurfaceCapabilitiesAMD</a>::<code>localDimmingSupport</code>
is supported</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The local dimming HDR setting may also be changed over the life of a
swapchain by calling:</p>
</div>
<div id="vkSetLocalDimmingAMD" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_AMD_display_native_hdr</span>
<span class="kt">void</span> <span class="nf">vkSetLocalDimmingAMD</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span>                              <span class="n">swapChain</span><span class="p">,</span>
    <span class="n">VkBool32</span>                                    <span class="n">localDimmingEnable</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapChain</code>.</p>
</li>
<li>
<p><code>swapChain</code> handle to enable local dimming.</p>
</li>
<li>
<p><code>localDimmingEnable</code> specifies whether local dimming is enabled for
the swapchain.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkSetLocalDimmingAMD-device-parameter" href="chap34.html#VUID-vkSetLocalDimmingAMD-device-parameter"></a> <span class="vuid">VUID-vkSetLocalDimmingAMD-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkSetLocalDimmingAMD-swapChain-parameter" href="chap34.html#VUID-vkSetLocalDimmingAMD-swapChain-parameter"></a> <span class="vuid">VUID-vkSetLocalDimmingAMD-swapChain-parameter</span><br>
 <code>swapChain</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkSetLocalDimmingAMD-swapChain-parent" href="chap34.html#VUID-vkSetLocalDimmingAMD-swapChain-parent"></a> <span class="vuid">VUID-vkSetLocalDimmingAMD-swapChain-parent</span><br>
 <code>swapChain</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkSetLocalDimmingAMD-localDimmingSupport-04618" href="chap34.html#VUID-vkSetLocalDimmingAMD-localDimmingSupport-04618"></a> <span class="vuid">VUID-vkSetLocalDimmingAMD-localDimmingSupport-04618</span><br>

<a href="chap34.html#VkDisplayNativeHdrSurfaceCapabilitiesAMD">VkDisplayNativeHdrSurfaceCapabilitiesAMD</a>::<code>localDimmingSupport</code>
<strong class="purple">must</strong> be supported</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> includes a
<a href="chap34.html#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a> structure, then that structure
specifies the application’s preferred full-screen presentation behavior.
If this structure is not present, <code>fullScreenExclusive</code> is considered to
be <code>VK_FULL_SCREEN_EXCLUSIVE_DEFAULT_EXT</code>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To enable surface counters when creating a swapchain, add a
<code>VkSwapchainCounterCreateInfoEXT</code> structure to the <code>pNext</code> chain of
<a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>.
<code>VkSwapchainCounterCreateInfoEXT</code> is defined as:</p>
</div>
<div id="VkSwapchainCounterCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_display_control</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSwapchainCounterCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>             <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                 <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkSurfaceCounterFlagsEXT</span>    <span class="n">surfaceCounters</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSwapchainCounterCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>surfaceCounters</code> is a bitmask of <a href="chap34.html#VkSurfaceCounterFlagBitsEXT">VkSurfaceCounterFlagBitsEXT</a>
specifying surface counters to enable for the swapchain.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainCounterCreateInfoEXT-surfaceCounters-01244" href="chap34.html#VUID-VkSwapchainCounterCreateInfoEXT-surfaceCounters-01244"></a> <span class="vuid">VUID-VkSwapchainCounterCreateInfoEXT-surfaceCounters-01244</span><br>

The bits in <code>surfaceCounters</code> <strong class="purple">must</strong> be supported by
<a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>surface</code>, as reported by
<a href="chap34.html#vkGetPhysicalDeviceSurfaceCapabilities2EXT">vkGetPhysicalDeviceSurfaceCapabilities2EXT</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainCounterCreateInfoEXT-sType-sType" href="chap34.html#VUID-VkSwapchainCounterCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSwapchainCounterCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_COUNTER_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCounterCreateInfoEXT-surfaceCounters-parameter" href="chap34.html#VUID-VkSwapchainCounterCreateInfoEXT-surfaceCounters-parameter"></a> <span class="vuid">VUID-VkSwapchainCounterCreateInfoEXT-surfaceCounters-parameter</span><br>
 <code>surfaceCounters</code> <strong class="purple">must</strong> be a valid combination of <a href="chap34.html#VkSurfaceCounterFlagBitsEXT">VkSurfaceCounterFlagBitsEXT</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The requested counters become active when the first presentation command for
the associated swapchain is processed by the presentation engine.
To query the value of an active counter, use:</p>
</div>
<div id="vkGetSwapchainCounterEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_display_control</span>
<span class="n">VkResult</span> <span class="nf">vkGetSwapchainCounterEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span>                              <span class="n">swapchain</span><span class="p">,</span>
    <span class="n">VkSurfaceCounterFlagBitsEXT</span>                 <span class="n">counter</span><span class="p">,</span>
    <span class="kt">uint64_t</span><span class="o">*</span>                                   <span class="n">pCounterValue</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the <a href="chap5.html#VkDevice">VkDevice</a> associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain from which to query the counter value.</p>
</li>
<li>
<p><code>counter</code> is a <a href="chap34.html#VkSurfaceCounterFlagBitsEXT">VkSurfaceCounterFlagBitsEXT</a> value specifying
the counter to query.</p>
</li>
<li>
<p><code>pCounterValue</code> will return the current value of the counter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a counter is not available because the swapchain is out of date, the
implementation <strong class="purple">may</strong> return <code>VK_ERROR_OUT_OF_DATE_KHR</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetSwapchainCounterEXT-swapchain-01245" href="chap34.html#VUID-vkGetSwapchainCounterEXT-swapchain-01245"></a> <span class="vuid">VUID-vkGetSwapchainCounterEXT-swapchain-01245</span><br>

One or more present commands on <code>swapchain</code> <strong class="purple">must</strong> have been
processed by the presentation engine</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetSwapchainCounterEXT-device-parameter" href="chap34.html#VUID-vkGetSwapchainCounterEXT-device-parameter"></a> <span class="vuid">VUID-vkGetSwapchainCounterEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainCounterEXT-swapchain-parameter" href="chap34.html#VUID-vkGetSwapchainCounterEXT-swapchain-parameter"></a> <span class="vuid">VUID-vkGetSwapchainCounterEXT-swapchain-parameter</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainCounterEXT-counter-parameter" href="chap34.html#VUID-vkGetSwapchainCounterEXT-counter-parameter"></a> <span class="vuid">VUID-vkGetSwapchainCounterEXT-counter-parameter</span><br>
 <code>counter</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSurfaceCounterFlagBitsEXT">VkSurfaceCounterFlagBitsEXT</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainCounterEXT-pCounterValue-parameter" href="chap34.html#VUID-vkGetSwapchainCounterEXT-pCounterValue-parameter"></a> <span class="vuid">VUID-vkGetSwapchainCounterEXT-pCounterValue-parameter</span><br>
 <code>pCounterValue</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint64_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainCounterEXT-swapchain-parent" href="chap34.html#VUID-vkGetSwapchainCounterEXT-swapchain-parent"></a> <span class="vuid">VUID-vkGetSwapchainCounterEXT-swapchain-parent</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>To specify compression properties for the swapchain images in this
swapchain, add a <a href="chap12.html#VkImageCompressionControlEXT">VkImageCompressionControlEXT</a> structure to the
<code>pNext</code> chain of the <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Applications <strong class="purple">can</strong> modify the presentation mode used by the swapchain on a
per-presentation basis.
However, all presentation modes the application intends to use with the
swapchain <strong class="purple">must</strong> be specified at swapchain creation time.
To specify more than one presentation mode when creating a swapchain,
include the <code>VkSwapchainPresentModesCreateInfoEXT</code> structure in the
<code>pNext</code> chain of the <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkSwapchainPresentModesCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkSwapchainPresentModesCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_swapchain_maintenance1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSwapchainPresentModesCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>            <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                      <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                   <span class="n">presentModeCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkPresentModeKHR</span><span class="o">*</span>    <span class="n">pPresentModes</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSwapchainPresentModesCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentModeCount</code> is the number of presentation modes provided.</p>
</li>
<li>
<p><code>pPresentModes</code> is a list of presentation modes with
<code>presentModeCount</code> entries</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentModesCreateInfoEXT-None-07762" href="chap34.html#VUID-VkSwapchainPresentModesCreateInfoEXT-None-07762"></a> <span class="vuid">VUID-VkSwapchainPresentModesCreateInfoEXT-None-07762</span><br>

Each entry in pPresentModes <strong class="purple">must</strong> be one of the <a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a>
values returned by <code>vkGetPhysicalDeviceSurfacePresentModesKHR</code> for
the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModesCreateInfoEXT-pPresentModes-07763" href="chap34.html#VUID-VkSwapchainPresentModesCreateInfoEXT-pPresentModes-07763"></a> <span class="vuid">VUID-VkSwapchainPresentModesCreateInfoEXT-pPresentModes-07763</span><br>

The entries in pPresentModes <strong class="purple">must</strong> be a subset of the present modes
returned in
<a href="chap34.html#VkSurfacePresentModeCompatibilityEXT">VkSurfacePresentModeCompatibilityEXT</a>::<code>pPresentModes</code>, given
<a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>presentMode</code> in
<a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModesCreateInfoEXT-presentMode-07764" href="chap34.html#VUID-VkSwapchainPresentModesCreateInfoEXT-presentMode-07764"></a> <span class="vuid">VUID-VkSwapchainPresentModesCreateInfoEXT-presentMode-07764</span><br>

<a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>presentMode</code> <strong class="purple">must</strong> be included in
<code>pPresentModes</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentModesCreateInfoEXT-sType-sType" href="chap34.html#VUID-VkSwapchainPresentModesCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSwapchainPresentModesCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_MODES_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModesCreateInfoEXT-pPresentModes-parameter" href="chap34.html#VUID-VkSwapchainPresentModesCreateInfoEXT-pPresentModes-parameter"></a> <span class="vuid">VUID-VkSwapchainPresentModesCreateInfoEXT-pPresentModes-parameter</span><br>
 <code>pPresentModes</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>presentModeCount</code> valid <a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModesCreateInfoEXT-presentModeCount-arraylength" href="chap34.html#VUID-VkSwapchainPresentModesCreateInfoEXT-presentModeCount-arraylength"></a> <span class="vuid">VUID-VkSwapchainPresentModesCreateInfoEXT-presentModeCount-arraylength</span><br>
 <code>presentModeCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When an application presents a swapchain image with dimensions different
than those of the target surface, different behavior is possible on
different platforms per their respective specifications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Presentation fails and <code>VK_ERROR_OUT_OF_DATE_KHR</code> is returned</p>
</li>
<li>
<p>Scaling is done and <code>VK_SUCCESS</code> or <code>VK_SUBOPTIMAL_KHR</code> is
returned</p>
</li>
<li>
<p>Unspecified scaling using an arbitrary combination of stretching,
centering and/or clipping.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Applications <strong class="purple">can</strong> define specific behavior when creating a swapchain by
including the <code>VkSwapchainPresentScalingCreateInfoEXT</code> structure in the
<code>pNext</code> chain of the <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkSwapchainPresentScalingCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkSwapchainPresentScalingCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_swapchain_maintenance1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSwapchainPresentScalingCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>             <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                 <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkPresentScalingFlagsEXT</span>    <span class="n">scalingBehavior</span><span class="p">;</span>
    <span class="n">VkPresentGravityFlagsEXT</span>    <span class="n">presentGravityX</span><span class="p">;</span>
    <span class="n">VkPresentGravityFlagsEXT</span>    <span class="n">presentGravityY</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSwapchainPresentScalingCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>scalingBehavior</code> is <code>0</code> or the scaling method to use when the
dimensions of the surface and swapchain images differ.</p>
</li>
<li>
<p><code>presentGravityX</code> is <code>0</code> or the x-axis direction in which swapchain
image pixels gravitate relative to the surface when
<code>scalingBehavior</code> does not result in a one-to-one pixel mapping
between the scaled swapchain image and the surface.</p>
</li>
<li>
<p><code>presentGravityY</code> is <code>0</code> or the y-axis direction in which swapchain
image pixels gravitate relative to the surface when
<code>scalingBehavior</code> does not result in a one-to-one pixel mapping
between the scaled swapchain image and the surface.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>scalingBehavior</code> is <code>0</code>, the result of presenting a swapchain image
with dimensions that do not match the surface dimensions is implementation
and platform-dependent.
If <code>presentGravityX</code> or <code>presentGravityY</code> are <code>0</code>, the presentation
gravity <strong class="purple">must</strong> match that defined by the native platform surface on platforms
which define surface gravity.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07765" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07765"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07765</span><br>

If <code>presentGravityX</code> is <code>0</code>, <code>presentGravityY</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07766" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07766"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07766</span><br>

If <code>presentGravityX</code> is not <code>0</code>, <code>presentGravityY</code> <strong class="purple">must</strong> not be
<code>0</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07767" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07767"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07767</span><br>

<code>scalingBehavior</code> <strong class="purple">must</strong> not have more than one bit set</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07768" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07768"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07768</span><br>

<code>presentGravityX</code> <strong class="purple">must</strong> not have more than one bit set</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07769" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07769"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07769</span><br>

<code>presentGravityY</code> <strong class="purple">must</strong> not have more than one bit set</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07770" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07770"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07770</span><br>

<code>scalingBehavior</code> <strong class="purple">must</strong> be a valid scaling method for the surface as
returned in
<a href="chap34.html#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentScaling</code>,
given <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>presentMode</code> in
<a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07771" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07771"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07771</span><br>

If the swapchain is created with
<a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>, <code>scalingBehavior</code> <strong class="purple">must</strong>
be a valid scaling method for the surface as returned in
<a href="chap34.html#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentScaling</code>,
given each present mode in
<a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>::<code>pPresentModes</code> in
<a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07772" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07772"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07772</span><br>

<code>presentGravityX</code> <strong class="purple">must</strong> be a valid x-axis present gravity for the
surface as returned in
<a href="chap34.html#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentGravityX</code>,
given <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>presentMode</code> in
<a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07773" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07773"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07773</span><br>

If the swapchain is created with
<a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>, <code>presentGravityX</code> <strong class="purple">must</strong>
be a valid x-axis present gravity for the surface as returned in
<a href="chap34.html#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentGravityX</code>,
given each present mode in
<a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>::<code>pPresentModes</code> in
<a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07774" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07774"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07774</span><br>

<code>presentGravityY</code> <strong class="purple">must</strong> be a valid y-axis present gravity for the
surface as returned in
<a href="chap34.html#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentGravityY</code>,
given <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>presentMode</code> in
<a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07775" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07775"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07775</span><br>

If the swapchain is created with
<a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>, <code>presentGravityY</code> <strong class="purple">must</strong>
be a valid y-axis present gravity for the surface as returned in
<a href="chap34.html#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentGravityY</code>,
given each present mode in
<a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>::<code>pPresentModes</code> in
<a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-sType-sType" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_SCALING_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-parameter" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-parameter"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-parameter</span><br>
 <code>scalingBehavior</code> <strong class="purple">must</strong> be a valid combination of <a href="chap34.html#VkPresentScalingFlagBitsEXT">VkPresentScalingFlagBitsEXT</a> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-parameter" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-parameter"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-parameter</span><br>
 <code>presentGravityX</code> <strong class="purple">must</strong> be a valid combination of <a href="chap34.html#VkPresentGravityFlagBitsEXT">VkPresentGravityFlagBitsEXT</a> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-parameter" href="chap34.html#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-parameter"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-parameter</span><br>
 <code>presentGravityY</code> <strong class="purple">must</strong> be a valid combination of <a href="chap34.html#VkPresentGravityFlagBitsEXT">VkPresentGravityFlagBitsEXT</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a swapchain object call:</p>
</div>
<div id="vkDestroySwapchainKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_swapchain</span>
<span class="kt">void</span> <span class="nf">vkDestroySwapchainKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span>                              <span class="n">swapchain</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the <a href="chap5.html#VkDevice">VkDevice</a> associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
swapchain object when there is no more specific allocator available (see
<a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The application <strong class="purple">must</strong> not destroy a swapchain until after completion of all
outstanding operations on images that were acquired from the swapchain.
<code>swapchain</code> and all associated <code>VkImage</code> handles are destroyed, and
<strong class="purple">must</strong> not be acquired or used any more by the application.
The memory of each <code>VkImage</code> will only be freed after that image is no
longer used by the presentation engine.
For example, if one image of the swapchain is being displayed in a window,
the memory for that image <strong class="purple">may</strong> not be freed until the window is destroyed,
or another swapchain is created for the window.
Destroying the swapchain does not invalidate the parent <code>VkSurfaceKHR</code>,
and a new swapchain <strong class="purple">can</strong> be created with it.</p>
</div>
<div class="paragraph">
<p>When a swapchain associated with a display surface is destroyed, if the
image most recently presented to the display surface is from the swapchain
being destroyed, then either any display resources modified by presenting
images from any swapchain associated with the display surface <strong class="purple">must</strong> be
reverted by the implementation to their state prior to the first present
performed on one of these swapchains, or such resources <strong class="purple">must</strong> be left in
their current state.</p>
</div>
<div class="paragraph">
<p>If <code>swapchain</code> has exclusive full-screen access, it is released before
the swapchain is destroyed.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-swapchain-01282" href="chap34.html#VUID-vkDestroySwapchainKHR-swapchain-01282"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-swapchain-01282</span><br>

All uses of presentable images acquired from <code>swapchain</code> <strong class="purple">must</strong> have
completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-swapchain-01283" href="chap34.html#VUID-vkDestroySwapchainKHR-swapchain-01283"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-swapchain-01283</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>swapchain</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-swapchain-01284" href="chap34.html#VUID-vkDestroySwapchainKHR-swapchain-01284"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-swapchain-01284</span><br>

If no <code>VkAllocationCallbacks</code> were provided when <code>swapchain</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-device-parameter" href="chap34.html#VUID-vkDestroySwapchainKHR-device-parameter"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-swapchain-parameter" href="chap34.html#VUID-vkDestroySwapchainKHR-swapchain-parameter"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-swapchain-parameter</span><br>
 If <code>swapchain</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>swapchain</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-pAllocator-parameter" href="chap34.html#VUID-vkDestroySwapchainKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-swapchain-parent" href="chap34.html#VUID-vkDestroySwapchainKHR-swapchain-parent"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-swapchain-parent</span><br>
 If <code>swapchain</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="create_shared_swapchains" class="openblock">
<div class="content">
<div class="paragraph">
<p>When the <code><a href="chap54.html#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code> extension is enabled, multiple
swapchains that share presentable images are created by calling:</p>
</div>
<div id="vkCreateSharedSwapchainsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display_swapchain</span>
<span class="n">VkResult</span> <span class="nf">vkCreateSharedSwapchainsKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">swapchainCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkSwapchainCreateInfoKHR</span><span class="o">*</span>             <span class="n">pCreateInfos</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span><span class="o">*</span>                             <span class="n">pSwapchains</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device to create the swapchains for.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains to create.</p>
</li>
<li>
<p><code>pCreateInfos</code> is a pointer to an array of
<a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structures specifying the parameters of
the created swapchains.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
swapchain objects when there is no more specific allocator available
(see <a href="chap11.html#memory-allocation">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSwapchains</code> is a pointer to an array of <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a>
handles in which the created swapchain objects will be returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCreateSharedSwapchainsKHR</code> is similar to <a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>,
except that it takes an array of <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structures,
and returns an array of swapchain objects.</p>
</div>
<div class="paragraph">
<p>The swapchain creation parameters that affect the properties and number of
presentable images <strong class="purple">must</strong> match between all the swapchains.
If the displays used by any of the swapchains do not use the same
presentable image layout or are incompatible in a way that prevents sharing
images, swapchain creation will fail with the result code
<code>VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code>.
If any error occurs, no swapchains will be created.
Images presented to multiple swapchains <strong class="purple">must</strong> be re-acquired from all of
them before being modified.
After destroying one or more of the swapchains, the remaining swapchains and
the presentable images <strong class="purple">can</strong> continue to be used.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateSharedSwapchainsKHR-device-parameter" href="chap34.html#VUID-vkCreateSharedSwapchainsKHR-device-parameter"></a> <span class="vuid">VUID-vkCreateSharedSwapchainsKHR-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateSharedSwapchainsKHR-pCreateInfos-parameter" href="chap34.html#VUID-vkCreateSharedSwapchainsKHR-pCreateInfos-parameter"></a> <span class="vuid">VUID-vkCreateSharedSwapchainsKHR-pCreateInfos-parameter</span><br>
 <code>pCreateInfos</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCreateSharedSwapchainsKHR-pAllocator-parameter" href="chap34.html#VUID-vkCreateSharedSwapchainsKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateSharedSwapchainsKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateSharedSwapchainsKHR-pSwapchains-parameter" href="chap34.html#VUID-vkCreateSharedSwapchainsKHR-pSwapchains-parameter"></a> <span class="vuid">VUID-vkCreateSharedSwapchainsKHR-pSwapchains-parameter</span><br>
 <code>pSwapchains</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>swapchainCount</code> <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCreateSharedSwapchainsKHR-swapchainCount-arraylength" href="chap34.html#VUID-vkCreateSharedSwapchainsKHR-swapchainCount-arraylength"></a> <span class="vuid">VUID-vkCreateSharedSwapchainsKHR-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pCreateInfos</code>[].surface <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>pCreateInfos</code>[].oldSwapchain <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To obtain the array of presentable images associated with a swapchain, call:</p>
</div>
<div id="vkGetSwapchainImagesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_swapchain</span>
<span class="n">VkResult</span> <span class="nf">vkGetSwapchainImagesKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span>                              <span class="n">swapchain</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pSwapchainImageCount</span><span class="p">,</span>
    <span class="n">VkImage</span><span class="o">*</span>                                    <span class="n">pSwapchainImages</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to query.</p>
</li>
<li>
<p><code>pSwapchainImageCount</code> is a pointer to an integer related to the
number of presentable images available or queried, as described below.</p>
</li>
<li>
<p><code>pSwapchainImages</code> is either <code>NULL</code> or a pointer to an array of
<code>VkImage</code> handles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pSwapchainImages</code> is <code>NULL</code>, then the number of presentable images
for <code>swapchain</code> is returned in <code>pSwapchainImageCount</code>.
Otherwise, <code>pSwapchainImageCount</code> <strong class="purple">must</strong> point to a variable set by the
user to the number of elements in the <code>pSwapchainImages</code> array, and on
return the variable is overwritten with the number of structures actually
written to <code>pSwapchainImages</code>.
If the value of <code>pSwapchainImageCount</code> is less than the number of
presentable images for <code>swapchain</code>, at most <code>pSwapchainImageCount</code>
structures will be written, and <code>VK_INCOMPLETE</code> will be returned instead
of <code>VK_SUCCESS</code>, to indicate that not all the available presentable
images were returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetSwapchainImagesKHR-device-parameter" href="chap34.html#VUID-vkGetSwapchainImagesKHR-device-parameter"></a> <span class="vuid">VUID-vkGetSwapchainImagesKHR-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainImagesKHR-swapchain-parameter" href="chap34.html#VUID-vkGetSwapchainImagesKHR-swapchain-parameter"></a> <span class="vuid">VUID-vkGetSwapchainImagesKHR-swapchain-parameter</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainImagesKHR-pSwapchainImageCount-parameter" href="chap34.html#VUID-vkGetSwapchainImagesKHR-pSwapchainImageCount-parameter"></a> <span class="vuid">VUID-vkGetSwapchainImagesKHR-pSwapchainImageCount-parameter</span><br>
 <code>pSwapchainImageCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainImagesKHR-pSwapchainImages-parameter" href="chap34.html#VUID-vkGetSwapchainImagesKHR-pSwapchainImages-parameter"></a> <span class="vuid">VUID-vkGetSwapchainImagesKHR-pSwapchainImages-parameter</span><br>
 If the value referenced by <code>pSwapchainImageCount</code> is not <code>0</code>, and <code>pSwapchainImages</code> is not <code>NULL</code>, <code>pSwapchainImages</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pSwapchainImageCount</code> <a href="chap12.html#VkImage">VkImage</a> handles</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainImagesKHR-swapchain-parent" href="chap34.html#VUID-vkGetSwapchainImagesKHR-swapchain-parent"></a> <span class="vuid">VUID-vkGetSwapchainImagesKHR-swapchain-parent</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>By knowing all presentable images used in the swapchain, the application can
create command buffers that reference these images prior to entering its
main rendering loop.
However, command buffers are not allowed to reference presentable images
created with <code>VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT</code>
until their indices have been returned from <a href="chap34.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> at
least once.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Images returned by <a href="chap34.html#vkGetSwapchainImagesKHR">vkGetSwapchainImagesKHR</a> are fully backed by memory
before they are passed to the application, as if they are each bound
completely and contiguously to a single <code>VkDeviceMemory</code> object
, unless the swapchain is created with the
<code>VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT</code> flag
.
All presentable images are initially in the <code>VK_IMAGE_LAYOUT_UNDEFINED</code>
layout, thus before using presentable images, the application <strong class="purple">must</strong>
transition them to a valid layout for the intended use.</p>
</div>
<div class="paragraph">
<p>Further, the lifetime of presentable images is controlled by the
implementation, so applications <strong class="purple">must</strong> not destroy a presentable image.
See <a href="chap34.html#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a> for further details on the lifetime of
presentable images.</p>
</div>
<div class="paragraph">
<p>Images <strong class="purple">can</strong> also be created by using <a href="chap12.html#vkCreateImage">vkCreateImage</a> with
<a href="chap12.html#VkImageSwapchainCreateInfoKHR">VkImageSwapchainCreateInfoKHR</a> and bound to swapchain memory using
<a href="chap12.html#vkBindImageMemory2">vkBindImageMemory2</a> with <a href="chap12.html#VkBindImageMemorySwapchainInfoKHR">VkBindImageMemorySwapchainInfoKHR</a>.
These images <strong class="purple">can</strong> be used anywhere swapchain images are used, and are useful
in logical devices with multiple physical devices to create peer memory
bindings of swapchain memory.
These images and bindings have no effect on what memory is presented.
Unlike images retrieved from <code>vkGetSwapchainImagesKHR</code>, these images
<strong class="purple">must</strong> be destroyed with <a href="chap12.html#vkDestroyImage">vkDestroyImage</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To acquire an available presentable image to use, and retrieve the index of
that image, call:</p>
</div>
<div id="vkAcquireNextImageKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_swapchain</span>
<span class="n">VkResult</span> <span class="nf">vkAcquireNextImageKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span>                              <span class="n">swapchain</span><span class="p">,</span>
    <span class="kt">uint64_t</span>                                    <span class="n">timeout</span><span class="p">,</span>
    <span class="n">VkSemaphore</span>                                 <span class="n">semaphore</span><span class="p">,</span>
    <span class="n">VkFence</span>                                     <span class="n">fence</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pImageIndex</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the non-retired swapchain from which an image is
being acquired.</p>
</li>
<li>
<p><code>timeout</code> specifies how long the function waits, in nanoseconds, if
no image is available.</p>
</li>
<li>
<p><code>semaphore</code> is <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> or a semaphore to signal.</p>
</li>
<li>
<p><code>fence</code> is <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> or a fence to signal.</p>
</li>
<li>
<p><code>pImageIndex</code> is a pointer to a <code>uint32_t</code> in which the index of
the next image to use (i.e. an index into the array of images returned
by <code>vkGetSwapchainImagesKHR</code>) is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>swapchain</code> has been created with the
<code>VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT</code> flag, the image
whose index is returned in <code>pImageIndex</code> will be fully backed by memory
before this call returns to the application, as if it is bound completely
and contiguously to a single <code>VkDeviceMemory</code> object.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-swapchain-01285" href="chap34.html#VUID-vkAcquireNextImageKHR-swapchain-01285"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-swapchain-01285</span><br>

<code>swapchain</code> <strong class="purple">must</strong> not be in the retired state</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-semaphore-01286" href="chap34.html#VUID-vkAcquireNextImageKHR-semaphore-01286"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-semaphore-01286</span><br>

If <code>semaphore</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> it <strong class="purple">must</strong> be unsignaled</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-semaphore-01779" href="chap34.html#VUID-vkAcquireNextImageKHR-semaphore-01779"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-semaphore-01779</span><br>

If <code>semaphore</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> it <strong class="purple">must</strong> not have any
uncompleted signal or wait operations pending</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-fence-01287" href="chap34.html#VUID-vkAcquireNextImageKHR-fence-01287"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-fence-01287</span><br>

If <code>fence</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> it <strong class="purple">must</strong> be unsignaled and
<strong class="purple">must</strong> not be associated with any other queue command that has not yet
completed execution on that queue</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-semaphore-01780" href="chap34.html#VUID-vkAcquireNextImageKHR-semaphore-01780"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-semaphore-01780</span><br>

<code>semaphore</code> and <code>fence</code> <strong class="purple">must</strong> not both be equal to
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-surface-07783" href="chap34.html#VUID-vkAcquireNextImageKHR-surface-07783"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-surface-07783</span><br>

If <a href="chap34.html#swapchain-acquire-forward-progress">forward progress</a> cannot be
guaranteed for the <code>surface</code> used to create the <code>swapchain</code>
member of <code>pAcquireInfo</code>, the <code>timeout</code> member of
<code>pAcquireInfo</code> <strong class="purple">must</strong> not be <code>UINT64_MAX</code></p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-semaphore-03265" href="chap34.html#VUID-vkAcquireNextImageKHR-semaphore-03265"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-semaphore-03265</span><br>

<code>semaphore</code> <strong class="purple">must</strong> have a <a href="chap7.html#VkSemaphoreType">VkSemaphoreType</a> of
<code>VK_SEMAPHORE_TYPE_BINARY</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-device-parameter" href="chap34.html#VUID-vkAcquireNextImageKHR-device-parameter"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-swapchain-parameter" href="chap34.html#VUID-vkAcquireNextImageKHR-swapchain-parameter"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-swapchain-parameter</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-semaphore-parameter" href="chap34.html#VUID-vkAcquireNextImageKHR-semaphore-parameter"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-semaphore-parameter</span><br>
 If <code>semaphore</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>semaphore</code> <strong class="purple">must</strong> be a valid <a href="chap7.html#VkSemaphore">VkSemaphore</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-fence-parameter" href="chap34.html#VUID-vkAcquireNextImageKHR-fence-parameter"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-fence-parameter</span><br>
 If <code>fence</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>fence</code> <strong class="purple">must</strong> be a valid <a href="chap7.html#VkFence">VkFence</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-pImageIndex-parameter" href="chap34.html#VUID-vkAcquireNextImageKHR-pImageIndex-parameter"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-pImageIndex-parameter</span><br>
 <code>pImageIndex</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-swapchain-parent" href="chap34.html#VUID-vkAcquireNextImageKHR-swapchain-parent"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-swapchain-parent</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-semaphore-parent" href="chap34.html#VUID-vkAcquireNextImageKHR-semaphore-parent"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-semaphore-parent</span><br>
 If <code>semaphore</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-fence-parent" href="chap34.html#VUID-vkAcquireNextImageKHR-fence-parent"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-fence-parent</span><br>
 If <code>fence</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>semaphore</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>fence</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_TIMEOUT</code></p>
</li>
<li>
<p><code>VK_NOT_READY</code></p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If an image is acquired successfully, <code>vkAcquireNextImageKHR</code> <strong class="purple">must</strong>
either return <code>VK_SUCCESS</code> or <code>VK_SUBOPTIMAL_KHR</code>.
The implementation <strong class="purple">may</strong> return <code>VK_SUBOPTIMAL_KHR</code> if the swapchain no
longer matches the surface properties exactly, but <strong class="purple">can</strong> still be used for
presentation.</p>
</div>
<div class="paragraph">
<p>When successful, <code>vkAcquireNextImageKHR</code> acquires a presentable image
from <code>swapchain</code> that an application <strong class="purple">can</strong> use, and sets
<code>pImageIndex</code> to the index of that image within the swapchain.
The presentation engine <strong class="purple">may</strong> not have finished reading from the image at the
time it is acquired, so the application <strong class="purple">must</strong> use <code>semaphore</code> and/or
<code>fence</code> to ensure that the image layout and contents are not modified
until the presentation engine reads have completed.
Once <code>vkAcquireNextImageKHR</code> successfully acquires an image, the
semaphore signal operation referenced by <code>semaphore</code>, if not
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, and the fence signal operation referenced by
<code>fence</code>, if not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, are submitted for execution.
If <code>vkAcquireNextImageKHR</code> does not successfully acquire an image,
<code>semaphore</code> and <code>fence</code> are unaffected.
The order in which images are acquired is implementation-dependent, and <strong class="purple">may</strong>
be different than the order the images were presented.</p>
</div>
<div class="paragraph">
<p>If <code>timeout</code> is zero, then <code>vkAcquireNextImageKHR</code> does not wait,
and will either successfully acquire an image, or fail and return
<code>VK_NOT_READY</code> if no image is available.</p>
</div>
<div class="paragraph">
<p>If the specified timeout period expires before an image is acquired,
<code>vkAcquireNextImageKHR</code> returns <code>VK_TIMEOUT</code>.
If <code>timeout</code> is <code>UINT64_MAX</code>, the timeout period is treated as
infinite, and <code>vkAcquireNextImageKHR</code> will block until an image is
acquired or an error occurs.</p>
</div>
<div id="swapchain-acquire-forward-progress" class="paragraph">
<p>Let <span class="eq">S</span> be the number of images in <code>swapchain</code>.
If <code>swapchain</code> is created with
<a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>, let <span class="eq">M</span> be the maximum of
the values in <a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>minImageCount</code> when
queried with each present mode in
<a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>::<code>pPresentModes</code> in
<a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a>.
Otherwise, let <span class="eq">M</span> be the value of
<a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>minImageCount</code> without a
<a href="chap34.html#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a> as part of the query input.</p>
</div>
<div class="paragraph">
<p><code>vkAcquireNextImageKHR</code> <strong class="purple">should</strong> not be called if the number of images
that the application has currently acquired is greater than <span class="eq">S-M</span>.
If <code>vkAcquireNextImageKHR</code> is called when the number of images that the
application has currently acquired is less than or equal to <span class="eq">S-M</span>,
<code>vkAcquireNextImageKHR</code> <strong class="purple">must</strong> return in finite time with an allowed
<code>VkResult</code> code.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Returning a result in finite time guarantees that the implementation cannot
deadlock an application, or suspend its execution indefinitely with correct
API usage.
Acquiring too many images at once may block indefinitely, which is covered
by valid usage when attempting to use <code>UINT64_MAX</code>.
For example, a scenario here is when a compositor holds on to images which
are currently being presented, and there are not any vacant images left to
be acquired.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><code>VK_SUBOPTIMAL_KHR</code> <strong class="purple">may</strong> happen, for example, if the platform surface
has been resized but the platform is able to scale the presented images to
the new size to produce valid surface updates.
It is up to the application to decide whether it prefers to continue using
the current swapchain in this state, or to re-create the swapchain to better
match the platform surface properties.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>If the swapchain images no longer match native surface properties, either
<code>VK_SUBOPTIMAL_KHR</code> or <code>VK_ERROR_OUT_OF_DATE_KHR</code> <strong class="purple">must</strong> be returned.
If <code>VK_ERROR_OUT_OF_DATE_KHR</code> is returned, no image is acquired and
attempts to present previously acquired images to the swapchain will also
fail with <code>VK_ERROR_OUT_OF_DATE_KHR</code>.
Applications need to create a new swapchain for the surface to continue
presenting if <code>VK_ERROR_OUT_OF_DATE_KHR</code> is returned.</p>
</div>
<div class="paragraph">
<p>If device loss occurs (see <a href="chap5.html#devsandqueues-lost-device">Lost Device</a>) before
the timeout has expired, <code>vkAcquireNextImageKHR</code> <strong class="purple">must</strong> return in finite
time with either one of the allowed success codes, or
<code>VK_ERROR_DEVICE_LOST</code>.</p>
</div>
<div class="paragraph">
<p>If <code>semaphore</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the semaphore <strong class="purple">must</strong> be
unsignaled, with no signal or wait operations pending.
It will become signaled when the application <strong class="purple">can</strong> use the image.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Use of <code>semaphore</code> allows rendering operations to be recorded and
submitted before the presentation engine has completed its use of the image.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>If <code>fence</code> is not equal to <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the fence <strong class="purple">must</strong> be
unsignaled, with no signal operations pending.
It will become signaled when the application <strong class="purple">can</strong> use the image.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Applications <strong class="purple">should</strong> not rely on <code>vkAcquireNextImageKHR</code> blocking in
order to meter their rendering speed.
The implementation <strong class="purple">may</strong> return from this function immediately regardless of
how many presentation requests are queued, and regardless of when queued
presentation requests will complete relative to the call.
Instead, applications <strong class="purple">can</strong> use <code>fence</code> to meter their frame generation
work to match the presentation rate.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>An application <strong class="purple">must</strong> wait until either the <code>semaphore</code> or <code>fence</code> is
signaled before accessing the image’s data.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When the presentable image will be accessed by some stage <span class="eq">S</span>, the
recommended idiom for ensuring correct synchronization is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="chap6.html#VkSubmitInfo">VkSubmitInfo</a> used to submit the image layout transition for
execution includes <code>vkAcquireNextImageKHR</code>::<code>semaphore</code> in its
<code>pWaitSemaphores</code> member, with the corresponding element of
<code>pWaitDstStageMask</code> including <span class="eq">S</span>.</p>
</li>
<li>
<p>The <a href="chap7.html">synchronization command</a> that performs any
necessary image layout transition includes <span class="eq">S</span> in both the
<code>srcStageMask</code> and <code>dstStageMask</code>.</p>
</li>
</ul>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>After a successful return, the image indicated by <code>pImageIndex</code> and its
data will be unmodified compared to when it was presented.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Exclusive ownership of presentable images corresponding to a swapchain
created with <code>VK_SHARING_MODE_EXCLUSIVE</code> as defined in
<a href="chap12.html#resources-sharing">Resource Sharing</a> is not altered by a call to
<code>vkAcquireNextImageKHR</code>.
That means upon the first acquisition from such a swapchain presentable
images are not owned by any queue family, while at subsequent acquisitions
the presentable images remain owned by the queue family the image was
previously presented on.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The possible return values for <code>vkAcquireNextImageKHR</code> depend on the
<code>timeout</code> provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code> is returned if an image became available.</p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code> is returned if the surface becomes no
longer available.</p>
</li>
<li>
<p><code>VK_NOT_READY</code> is returned if <code>timeout</code> is zero and no image was
available.</p>
</li>
<li>
<p><code>VK_TIMEOUT</code> is returned if <code>timeout</code> is greater than zero and
less than <code>UINT64_MAX</code>, and no image became available within the time
allowed.</p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code> is returned if an image became available, and
the swapchain no longer matches the surface properties exactly, but <strong class="purple">can</strong>
still be used to present to the surface successfully.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This <strong class="purple">may</strong> happen, for example, if the platform surface has been resized but
the platform is able to scale the presented images to the new size to
produce valid surface updates.
It is up to the application to decide whether it prefers to continue using
the current swapchain indefinitely or temporarily in this state, or to
re-create the swapchain to better match the platform surface properties.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code> is returned if the surface has changed in
such a way that it is no longer compatible with the swapchain, and
further presentation requests using the swapchain will fail.
Applications <strong class="purple">must</strong> query the new surface properties and recreate their
swapchain if they wish to continue presenting to the surface.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the native surface and presented image sizes no longer match,
presentation <strong class="purple">may</strong> fail
unless the swapchain is created with a non-zero value in
<a href="chap34.html#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a>::<code>scalingBehavior</code>
.
If presentation does succeed, the mapping from the presented image to the
native surface is
defined by the <a href="chap34.html#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a> structure if
provided.
Otherwise it is
implementation-defined.
It is the application’s responsibility to detect surface size changes and
react appropriately.
If presentation fails because of a mismatch in the surface and presented
image sizes, a <code>VK_ERROR_OUT_OF_DATE_KHR</code> error will be returned.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For example, consider a 4x3 window/surface that gets resized to be 3x4
(taller than wider).
On some window systems, the portion of the window/surface that was
previously and still is visible (the 3x3 part) will contain the same
contents as before, while the remaining parts of the window will have
undefined contents.
Other window systems <strong class="purple">may</strong> squash/stretch the image to fill the new window
size without any undefined contents, or apply some other mapping.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To acquire an available presentable image to use, and retrieve the index of
that image, call:</p>
</div>
<div id="vkAcquireNextImage2KHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_swapchain</span>
<span class="n">VkResult</span> <span class="nf">vkAcquireNextImage2KHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAcquireNextImageInfoKHR</span><span class="o">*</span>            <span class="n">pAcquireInfo</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pImageIndex</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>pAcquireInfo</code> is a pointer to a <a href="chap34.html#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a>
structure containing parameters of the acquire.</p>
</li>
<li>
<p><code>pImageIndex</code> is a pointer to a <code>uint32_t</code> that is set to the
index of the next image to use.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>swapchain</code> has been created with the
<code>VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT</code> flag, the image
whose index is returned in <code>pImageIndex</code> will be fully backed by memory
before this call returns to the application.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireNextImage2KHR-surface-07784" href="chap34.html#VUID-vkAcquireNextImage2KHR-surface-07784"></a> <span class="vuid">VUID-vkAcquireNextImage2KHR-surface-07784</span><br>

If <a href="chap34.html#swapchain-acquire-forward-progress">forward progress</a> cannot be
guaranteed for the <code>surface</code> used to create <code>swapchain</code>, the
<code>timeout</code> member of <code>pAcquireInfo</code> <strong class="purple">must</strong> not be <code>UINT64_MAX</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireNextImage2KHR-device-parameter" href="chap34.html#VUID-vkAcquireNextImage2KHR-device-parameter"></a> <span class="vuid">VUID-vkAcquireNextImage2KHR-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImage2KHR-pAcquireInfo-parameter" href="chap34.html#VUID-vkAcquireNextImage2KHR-pAcquireInfo-parameter"></a> <span class="vuid">VUID-vkAcquireNextImage2KHR-pAcquireInfo-parameter</span><br>
 <code>pAcquireInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImage2KHR-pImageIndex-parameter" href="chap34.html#VUID-vkAcquireNextImage2KHR-pImageIndex-parameter"></a> <span class="vuid">VUID-vkAcquireNextImage2KHR-pImageIndex-parameter</span><br>
 <code>pImageIndex</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_TIMEOUT</code></p>
</li>
<li>
<p><code>VK_NOT_READY</code></p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkAcquireNextImageInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkAcquireNextImageInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_swapchain</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkAcquireNextImageInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkSwapchainKHR</span>     <span class="n">swapchain</span><span class="p">;</span>
    <span class="kt">uint64_t</span>           <span class="n">timeout</span><span class="p">;</span>
    <span class="n">VkSemaphore</span>        <span class="n">semaphore</span><span class="p">;</span>
    <span class="n">VkFence</span>            <span class="n">fence</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">deviceMask</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkAcquireNextImageInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchain</code> is a non-retired swapchain from which an image is
acquired.</p>
</li>
<li>
<p><code>timeout</code> specifies how long the function waits, in nanoseconds, if
no image is available.</p>
</li>
<li>
<p><code>semaphore</code> is <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> or a semaphore to signal.</p>
</li>
<li>
<p><code>fence</code> is <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> or a fence to signal.</p>
</li>
<li>
<p><code>deviceMask</code> is a mask of physical devices for which the swapchain
image will be ready to use when the semaphore or fence is signaled.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap34.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> is used, the device mask is considered to
include all physical devices in the logical device.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><a href="chap34.html#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a> signals at most one semaphore, even if the
application requests waiting for multiple physical devices to be ready via
the <code>deviceMask</code>.
However, only a single physical device <strong class="purple">can</strong> wait on that semaphore, since
the semaphore becomes unsignaled when the wait succeeds.
For other physical devices to wait for the image to be ready, it is
necessary for the application to submit semaphore signal operation(s) to
that first physical device to signal additional semaphore(s) after the wait
succeeds, which the other physical device(s) <strong class="purple">can</strong> wait upon.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-swapchain-01675" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-swapchain-01675"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-swapchain-01675</span><br>

<code>swapchain</code> <strong class="purple">must</strong> not be in the retired state</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-semaphore-01288" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-semaphore-01288"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-semaphore-01288</span><br>

If <code>semaphore</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> it <strong class="purple">must</strong> be unsignaled</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-semaphore-01781" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-semaphore-01781"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-semaphore-01781</span><br>

If <code>semaphore</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> it <strong class="purple">must</strong> not have any
uncompleted signal or wait operations pending</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-fence-01289" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-fence-01289"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-fence-01289</span><br>

If <code>fence</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> it <strong class="purple">must</strong> be unsignaled and
<strong class="purple">must</strong> not be associated with any other queue command that has not yet
completed execution on that queue</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-semaphore-01782" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-semaphore-01782"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-semaphore-01782</span><br>

<code>semaphore</code> and <code>fence</code> <strong class="purple">must</strong> not both be equal to
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-deviceMask-01290" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-deviceMask-01290"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-deviceMask-01290</span><br>

<code>deviceMask</code> <strong class="purple">must</strong> be a valid device mask</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-deviceMask-01291" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-deviceMask-01291"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-deviceMask-01291</span><br>

<code>deviceMask</code> <strong class="purple">must</strong> not be zero</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-semaphore-03266" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-semaphore-03266"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-semaphore-03266</span><br>

<code>semaphore</code> <strong class="purple">must</strong> have a <a href="chap7.html#VkSemaphoreType">VkSemaphoreType</a> of
<code>VK_SEMAPHORE_TYPE_BINARY</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-sType-sType" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_ACQUIRE_NEXT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-pNext-pNext" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-swapchain-parameter" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-swapchain-parameter"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-swapchain-parameter</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-semaphore-parameter" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-semaphore-parameter"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-semaphore-parameter</span><br>
 If <code>semaphore</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>semaphore</code> <strong class="purple">must</strong> be a valid <a href="chap7.html#VkSemaphore">VkSemaphore</a> handle</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-fence-parameter" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-fence-parameter"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-fence-parameter</span><br>
 If <code>fence</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>fence</code> <strong class="purple">must</strong> be a valid <a href="chap7.html#VkFence">VkFence</a> handle</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-commonparent" href="chap34.html#VUID-VkAcquireNextImageInfoKHR-commonparent"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-commonparent</span><br>
 Each of <code>fence</code>, <code>semaphore</code>, and <code>swapchain</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>semaphore</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>fence</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>After queueing all rendering commands and transitioning the image to the
correct layout, to queue an image for presentation, call:</p>
</div>
<div id="vkQueuePresentKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_swapchain</span>
<span class="n">VkResult</span> <span class="nf">vkQueuePresentKHR</span><span class="p">(</span>
    <span class="n">VkQueue</span>                                     <span class="n">queue</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkPresentInfoKHR</span><span class="o">*</span>                     <span class="n">pPresentInfo</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>queue</code> is a queue that is capable of presentation to the target
surface’s platform on the same device as the image’s swapchain.</p>
</li>
<li>
<p><code>pPresentInfo</code> is a pointer to a <a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a> structure
specifying parameters of the presentation.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There is no requirement for an application to present images in the same
order that they were acquired - applications can arbitrarily present any
image that is currently acquired.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkQueuePresentKHR-pSwapchains-01292" href="chap34.html#VUID-vkQueuePresentKHR-pSwapchains-01292"></a> <span class="vuid">VUID-vkQueuePresentKHR-pSwapchains-01292</span><br>

Each element of <code>pSwapchains</code> member of <code>pPresentInfo</code> <strong class="purple">must</strong> be
a swapchain that is created for a surface for which presentation is
supported from <code>queue</code> as determined using a call to
<code>vkGetPhysicalDeviceSurfaceSupportKHR</code></p>
</li>
<li>
<p><a id="VUID-vkQueuePresentKHR-pSwapchains-01293" href="chap34.html#VUID-vkQueuePresentKHR-pSwapchains-01293"></a> <span class="vuid">VUID-vkQueuePresentKHR-pSwapchains-01293</span><br>

If more than one member of <code>pSwapchains</code> was created from a display
surface, all display surfaces referenced that refer to the same display
<strong class="purple">must</strong> use the same display mode</p>
</li>
<li>
<p><a id="VUID-vkQueuePresentKHR-pWaitSemaphores-01294" href="chap34.html#VUID-vkQueuePresentKHR-pWaitSemaphores-01294"></a> <span class="vuid">VUID-vkQueuePresentKHR-pWaitSemaphores-01294</span><br>

When a semaphore wait operation referring to a binary semaphore defined
by the elements of the <code>pWaitSemaphores</code> member of
<code>pPresentInfo</code> executes on <code>queue</code>, there <strong class="purple">must</strong> be no other
queues waiting on the same semaphore</p>
</li>
<li>
<p><a id="VUID-vkQueuePresentKHR-pWaitSemaphores-01295" href="chap34.html#VUID-vkQueuePresentKHR-pWaitSemaphores-01295"></a> <span class="vuid">VUID-vkQueuePresentKHR-pWaitSemaphores-01295</span><br>

All elements of the <code>pWaitSemaphores</code> member of <code>pPresentInfo</code>
<strong class="purple">must</strong> be semaphores that are signaled, or have
<a href="chap7.html#synchronization-semaphores-signaling">semaphore signal operations</a>
previously submitted for execution</p>
</li>
<li>
<p><a id="VUID-vkQueuePresentKHR-pWaitSemaphores-03267" href="chap34.html#VUID-vkQueuePresentKHR-pWaitSemaphores-03267"></a> <span class="vuid">VUID-vkQueuePresentKHR-pWaitSemaphores-03267</span><br>

All elements of the <code>pWaitSemaphores</code> member of <code>pPresentInfo</code>
<strong class="purple">must</strong> be created with a <a href="chap7.html#VkSemaphoreType">VkSemaphoreType</a> of
<code>VK_SEMAPHORE_TYPE_BINARY</code></p>
</li>
<li>
<p><a id="VUID-vkQueuePresentKHR-pWaitSemaphores-03268" href="chap34.html#VUID-vkQueuePresentKHR-pWaitSemaphores-03268"></a> <span class="vuid">VUID-vkQueuePresentKHR-pWaitSemaphores-03268</span><br>

All elements of the <code>pWaitSemaphores</code> member of <code>pPresentInfo</code>
<strong class="purple">must</strong> reference a semaphore signal operation that has been submitted for
execution and any semaphore signal operations on which it depends (if
any) <strong class="purple">must</strong> have also been submitted for execution</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Any writes to memory backing the images referenced by the
<code>pImageIndices</code> and <code>pSwapchains</code> members of <code>pPresentInfo</code>,
that are available before <a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a> is executed, are
automatically made visible to the read access performed by the presentation
engine.
This automatic visibility operation for an image happens-after the semaphore
signal operation, and happens-before the presentation engine accesses the
image.</p>
</div>
<div class="paragraph">
<p>Queueing an image for presentation defines a set of <em>queue operations</em>,
including waiting on the semaphores and submitting a presentation request to
the presentation engine.
However, the scope of this set of queue operations does not include the
actual processing of the image by the presentation engine.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The origin of the native orientation of the surface coordinate system is not
specified in the Vulkan specification; it depends on the platform.
For most platforms the origin is by default upper-left, meaning the pixel of
the presented <a href="chap12.html#VkImage">VkImage</a> at coordinates <span class="eq">(0,0)</span> would appear at the
upper left pixel of the platform surface (assuming
<code>VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</code>, and the display standing the
right way up).</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>If <code>vkQueuePresentKHR</code> fails to enqueue the corresponding set of queue
operations, it <strong class="purple">may</strong> return <code>VK_ERROR_OUT_OF_HOST_MEMORY</code> or
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>.
If it does, the implementation <strong class="purple">must</strong> ensure that the state and contents of
any resources or synchronization primitives referenced is unaffected by the
call or its failure.</p>
</div>
<div class="paragraph">
<p>If <code>vkQueuePresentKHR</code> fails in such a way that the implementation is
unable to make that guarantee, the implementation <strong class="purple">must</strong> return
<code>VK_ERROR_DEVICE_LOST</code>.</p>
</div>
<div class="paragraph">
<p>However, if the presentation request is rejected by the presentation engine
with an error <code>VK_ERROR_OUT_OF_DATE_KHR</code>,
<code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code>,
or <code>VK_ERROR_SURFACE_LOST_KHR</code>, the set of queue operations are still
considered to be enqueued and thus any semaphore wait operation specified in
<a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a> will execute when the corresponding queue operation
is complete.</p>
</div>
<div class="paragraph">
<p>Calls to <code>vkQueuePresentKHR</code> <strong class="purple">may</strong> block, but <strong class="purple">must</strong> return in finite
time.</p>
</div>
<div class="paragraph">
<p>If any <code>swapchain</code> member of <code>pPresentInfo</code> was created with
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code>,
<code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code> will be returned if that
swapchain does not have exclusive full-screen access, possibly for
implementation-specific reasons outside of the application’s control.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkQueuePresentKHR-queue-parameter" href="chap34.html#VUID-vkQueuePresentKHR-queue-parameter"></a> <span class="vuid">VUID-vkQueuePresentKHR-queue-parameter</span><br>
 <code>queue</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkQueue">VkQueue</a> handle</p>
</li>
<li>
<p><a id="VUID-vkQueuePresentKHR-pPresentInfo-parameter" href="chap34.html#VUID-vkQueuePresentKHR-pPresentInfo-parameter"></a> <span class="vuid">VUID-vkQueuePresentKHR-pPresentInfo-parameter</span><br>
 <code>pPresentInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>queue</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>pPresentInfo-&gt;pWaitSemaphores</code>[] <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>pPresentInfo-&gt;pSwapchains</code>[] <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
</table>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPresentInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkPresentInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_swapchain</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPresentInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>          <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>              <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                 <span class="n">waitSemaphoreCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkSemaphore</span><span class="o">*</span>       <span class="n">pWaitSemaphores</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                 <span class="n">swapchainCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkSwapchainKHR</span><span class="o">*</span>    <span class="n">pSwapchains</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">uint32_t</span><span class="o">*</span>          <span class="n">pImageIndices</span><span class="p">;</span>
    <span class="n">VkResult</span><span class="o">*</span>                <span class="n">pResults</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPresentInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>waitSemaphoreCount</code> is the number of semaphores to wait for before
issuing the present request.
The number <strong class="purple">may</strong> be zero.</p>
</li>
<li>
<p><code>pWaitSemaphores</code> is <code>NULL</code> or a pointer to an array of
<a href="chap7.html#VkSemaphore">VkSemaphore</a> objects with <code>waitSemaphoreCount</code> entries, and
specifies the semaphores to wait for before issuing the present request.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains being presented to by
this command.</p>
</li>
<li>
<p><code>pSwapchains</code> is a pointer to an array of <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a>
objects with <code>swapchainCount</code> entries.
A given swapchain <strong class="purple">must</strong> not appear in this list more than once.</p>
</li>
<li>
<p><code>pImageIndices</code> is a pointer to an array of indices into the array
of each swapchain’s presentable images, with <code>swapchainCount</code>
entries.
Each entry in this array identifies the image to present on the
corresponding entry in the <code>pSwapchains</code> array.</p>
</li>
<li>
<p><code>pResults</code> is a pointer to an array of <a href="chap3.html#VkResult">VkResult</a> typed elements
with <code>swapchainCount</code> entries.
Applications that do not need per-swapchain results <strong class="purple">can</strong> use <code>NULL</code> for
<code>pResults</code>.
If non-<code>NULL</code>, each entry in <code>pResults</code> will be set to the
<a href="chap3.html#VkResult">VkResult</a> for presenting the swapchain corresponding to the same
index in <code>pSwapchains</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Before an application <strong class="purple">can</strong> present an image, the image’s layout <strong class="purple">must</strong> be
transitioned to the <code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>
layout, or for a shared presentable image the
<code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code>
layout.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When transitioning the image to
<code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code> or
<code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>, there is no need to delay subsequent
processing, or perform any visibility operations (as <a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a>
performs automatic visibility operations).
To achieve this, the <code>dstAccessMask</code> member of the
<a href="chap7.html#VkImageMemoryBarrier">VkImageMemoryBarrier</a> <strong class="purple">should</strong> be set to <code>0</code>, and the <code>dstStageMask</code>
parameter <strong class="purple">should</strong> be set to <code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentInfoKHR-pImageIndices-01430" href="chap34.html#VUID-VkPresentInfoKHR-pImageIndices-01430"></a> <span class="vuid">VUID-VkPresentInfoKHR-pImageIndices-01430</span><br>

Each element of <code>pImageIndices</code> <strong class="purple">must</strong> be the index of a presentable
image acquired from the swapchain specified by the corresponding element
of the <code>pSwapchains</code> array, and the presented image subresource
<strong class="purple">must</strong> be in the <code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> or
<code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code> layout at the time the
operation is executed on a <code>VkDevice</code></p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pNext-06235" href="chap34.html#VUID-VkPresentInfoKHR-pNext-06235"></a> <span class="vuid">VUID-VkPresentInfoKHR-pNext-06235</span><br>

If a <a href="chap34.html#VkPresentIdKHR">VkPresentIdKHR</a> structure is included in the <code>pNext</code>
chain, and the <a href="chap45.html#features-presentId"><code>presentId</code></a> feature is not
enabled, each <code>presentIds</code> entry in that structure <strong class="purple">must</strong> be NULL</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentInfoKHR-sType-sType" href="chap34.html#VUID-VkPresentInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkPresentInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pNext-pNext" href="chap34.html#VUID-VkPresentInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkPresentInfoKHR-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong class="purple">must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="chap34.html#VkDeviceGroupPresentInfoKHR">VkDeviceGroupPresentInfoKHR</a>, <a href="chap34.html#VkDisplayPresentInfoKHR">VkDisplayPresentInfoKHR</a>, <a href="chap34.html#VkPresentFrameTokenGGP">VkPresentFrameTokenGGP</a>, <a href="chap34.html#VkPresentIdKHR">VkPresentIdKHR</a>, <a href="chap34.html#VkPresentRegionsKHR">VkPresentRegionsKHR</a>, <a href="chap34.html#VkPresentTimesInfoGOOGLE">VkPresentTimesInfoGOOGLE</a>, <a href="chap34.html#VkSwapchainPresentFenceInfoEXT">VkSwapchainPresentFenceInfoEXT</a>, or <a href="chap34.html#VkSwapchainPresentModeInfoEXT">VkSwapchainPresentModeInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-sType-unique" href="chap34.html#VUID-VkPresentInfoKHR-sType-unique"></a> <span class="vuid">VUID-VkPresentInfoKHR-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pWaitSemaphores-parameter" href="chap34.html#VUID-VkPresentInfoKHR-pWaitSemaphores-parameter"></a> <span class="vuid">VUID-VkPresentInfoKHR-pWaitSemaphores-parameter</span><br>
 If <code>waitSemaphoreCount</code> is not <code>0</code>, <code>pWaitSemaphores</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>waitSemaphoreCount</code> valid <a href="chap7.html#VkSemaphore">VkSemaphore</a> handles</p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pSwapchains-parameter" href="chap34.html#VUID-VkPresentInfoKHR-pSwapchains-parameter"></a> <span class="vuid">VUID-VkPresentInfoKHR-pSwapchains-parameter</span><br>
 <code>pSwapchains</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handles</p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pImageIndices-parameter" href="chap34.html#VUID-VkPresentInfoKHR-pImageIndices-parameter"></a> <span class="vuid">VUID-VkPresentInfoKHR-pImageIndices-parameter</span><br>
 <code>pImageIndices</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>swapchainCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pResults-parameter" href="chap34.html#VUID-VkPresentInfoKHR-pResults-parameter"></a> <span class="vuid">VUID-VkPresentInfoKHR-pResults-parameter</span><br>
 If <code>pResults</code> is not <code>NULL</code>, <code>pResults</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>swapchainCount</code> <a href="chap3.html#VkResult">VkResult</a> values</p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-swapchainCount-arraylength" href="chap34.html#VUID-VkPresentInfoKHR-swapchainCount-arraylength"></a> <span class="vuid">VUID-VkPresentInfoKHR-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-commonparent" href="chap34.html#VUID-VkPresentInfoKHR-commonparent"></a> <span class="vuid">VUID-VkPresentInfoKHR-commonparent</span><br>
 Both of the elements of <code>pSwapchains</code>, and the elements of <code>pWaitSemaphores</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When the <code><a href="chap54.html#VK_KHR_incremental_present">VK_KHR_incremental_present</a></code> extension is enabled,
additional fields <strong class="purple">can</strong> be specified that allow an application to specify
that only certain rectangular regions of the presentable images of a
swapchain are changed.
This is an optimization hint that a presentation engine <strong class="purple">may</strong> use to only
update the region of a surface that is actually changing.
The application still <strong class="purple">must</strong> ensure that all pixels of a presented image
contain the desired values, in case the presentation engine ignores this
hint.
An application <strong class="purple">can</strong> provide this hint by adding a <code>VkPresentRegionsKHR</code>
structure to the <code>pNext</code> chain of the <code>VkPresentInfoKHR</code> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPresentRegionsKHR</code> structure is defined as:</p>
</div>
<div id="VkPresentRegionsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_incremental_present</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPresentRegionsKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>              <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                  <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                     <span class="n">swapchainCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkPresentRegionKHR</span><span class="o">*</span>    <span class="n">pRegions</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPresentRegionsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains being presented to by
this command.</p>
</li>
<li>
<p><code>pRegions</code> is <code>NULL</code> or a pointer to an array of
<code>VkPresentRegionKHR</code> elements with <code>swapchainCount</code> entries.
If not <code>NULL</code>, each element of <code>pRegions</code> contains the region that
has changed since the last present to the swapchain in the corresponding
entry in the <code>VkPresentInfoKHR</code>::<code>pSwapchains</code> array.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentRegionsKHR-swapchainCount-01260" href="chap34.html#VUID-VkPresentRegionsKHR-swapchainCount-01260"></a> <span class="vuid">VUID-VkPresentRegionsKHR-swapchainCount-01260</span><br>

<code>swapchainCount</code> <strong class="purple">must</strong> be the same value as
<code>VkPresentInfoKHR</code>::<code>swapchainCount</code>, where
<code>VkPresentInfoKHR</code> is included in the <code>pNext</code> chain of this
<code>VkPresentRegionsKHR</code> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentRegionsKHR-sType-sType" href="chap34.html#VUID-VkPresentRegionsKHR-sType-sType"></a> <span class="vuid">VUID-VkPresentRegionsKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PRESENT_REGIONS_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPresentRegionsKHR-pRegions-parameter" href="chap34.html#VUID-VkPresentRegionsKHR-pRegions-parameter"></a> <span class="vuid">VUID-VkPresentRegionsKHR-pRegions-parameter</span><br>
 If <code>pRegions</code> is not <code>NULL</code>, <code>pRegions</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid <a href="chap34.html#VkPresentRegionKHR">VkPresentRegionKHR</a> structures</p>
</li>
<li>
<p><a id="VUID-VkPresentRegionsKHR-swapchainCount-arraylength" href="chap34.html#VUID-VkPresentRegionsKHR-swapchainCount-arraylength"></a> <span class="vuid">VUID-VkPresentRegionsKHR-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>For a given image and swapchain, the region to present is specified by the
<code>VkPresentRegionKHR</code> structure, which is defined as:</p>
</div>
<div id="VkPresentRegionKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_incremental_present</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPresentRegionKHR</span> <span class="p">{</span>
    <span class="kt">uint32_t</span>                 <span class="n">rectangleCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkRectLayerKHR</span><span class="o">*</span>    <span class="n">pRectangles</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPresentRegionKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rectangleCount</code> is the number of rectangles in <code>pRectangles</code>,
or zero if the entire image has changed and should be presented.</p>
</li>
<li>
<p><code>pRectangles</code> is either <code>NULL</code> or a pointer to an array of
<code>VkRectLayerKHR</code> structures.
The <code>VkRectLayerKHR</code> structure is the framebuffer coordinates, plus
layer, of a portion of a presentable image that has changed and <strong class="purple">must</strong> be
presented.
If non-<code>NULL</code>, each entry in <code>pRectangles</code> is a rectangle of the
given image that has changed since the last image was presented to the
given swapchain.
The rectangles <strong class="purple">must</strong> be specified relative to
<a href="chap34.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentTransform</code>, regardless of
the swapchain’s <code>preTransform</code>.
The presentation engine will apply the <code>preTransform</code> transformation
to the rectangles, along with any further transformation it applies to
the image content.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentRegionKHR-pRectangles-parameter" href="chap34.html#VUID-VkPresentRegionKHR-pRectangles-parameter"></a> <span class="vuid">VUID-VkPresentRegionKHR-pRectangles-parameter</span><br>
 If <code>rectangleCount</code> is not <code>0</code>, and <code>pRectangles</code> is not <code>NULL</code>, <code>pRectangles</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>rectangleCount</code> valid <a href="chap34.html#VkRectLayerKHR">VkRectLayerKHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkRectLayerKHR</code> structure is defined as:</p>
</div>
<div id="VkRectLayerKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_incremental_present</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkRectLayerKHR</span> <span class="p">{</span>
    <span class="n">VkOffset2D</span>    <span class="n">offset</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>    <span class="n">extent</span><span class="p">;</span>
    <span class="kt">uint32_t</span>      <span class="n">layer</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkRectLayerKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>offset</code> is the origin of the rectangle, in pixels.</p>
</li>
<li>
<p><code>extent</code> is the size of the rectangle, in pixels.</p>
</li>
<li>
<p><code>layer</code> is the layer of the image.
For images with only one layer, the value of <code>layer</code> <strong class="purple">must</strong> be 0.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some platforms allow the size of a surface to change, and then scale the
pixels of the image to fit the surface.
<code>VkRectLayerKHR</code> specifies pixels of the swapchain’s image(s), which
will be constant for the life of the swapchain.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRectLayerKHR-offset-04864" href="chap34.html#VUID-VkRectLayerKHR-offset-04864"></a> <span class="vuid">VUID-VkRectLayerKHR-offset-04864</span><br>

The sum of <code>offset</code> and <code>extent</code>, after being transformed
according to the <code>preTransform</code> member of the
<a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure, <strong class="purple">must</strong> be no greater than the
<code>imageExtent</code> member of the <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure
passed to <a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></p>
</li>
<li>
<p><a id="VUID-VkRectLayerKHR-layer-01262" href="chap34.html#VUID-VkRectLayerKHR-layer-01262"></a> <span class="vuid">VUID-VkRectLayerKHR-layer-01262</span><br>

<code>layer</code> <strong class="purple">must</strong> be less than the <code>imageArrayLayers</code> member of the
<a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure passed to
<a href="chap34.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="display_swapchain_present" class="paragraph">
<p>When the <code><a href="chap54.html#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code> extension is enabled, additional
fields <strong class="purple">can</strong> be specified when presenting an image to a swapchain by setting
<a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a>::<code>pNext</code> to point to a
<a href="chap34.html#VkDisplayPresentInfoKHR">VkDisplayPresentInfoKHR</a> structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPresentInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPresentInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_display_swapchain</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDisplayPresentInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkRect2D</span>           <span class="n">srcRect</span><span class="p">;</span>
    <span class="n">VkRect2D</span>           <span class="n">dstRect</span><span class="p">;</span>
    <span class="n">VkBool32</span>           <span class="n">persistent</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayPresentInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>srcRect</code> is a rectangular region of pixels to present.
It <strong class="purple">must</strong> be a subset of the image being presented.
If <code>VkDisplayPresentInfoKHR</code> is not specified, this region will be
assumed to be the entire presentable image.</p>
</li>
<li>
<p><code>dstRect</code> is a rectangular region within the visible region of the
swapchain’s display mode.
If <code>VkDisplayPresentInfoKHR</code> is not specified, this region will be
assumed to be the entire visible region of the swapchain’s mode.
If the specified rectangle is a subset of the display mode’s visible
region, content from display planes below the swapchain’s plane will be
visible outside the rectangle.
If there are no planes below the swapchain’s, the area outside the
specified rectangle will be black.
If portions of the specified rectangle are outside of the display’s
visible region, pixels mapping only to those portions of the rectangle
will be discarded.</p>
</li>
<li>
<p><code>persistent</code>: If this is <code>VK_TRUE</code>, the display engine will
enable buffered mode on displays that support it.
This allows the display engine to stop sending content to the display
until a new image is presented.
The display will instead maintain a copy of the last presented image.
This allows less power to be used, but <strong class="purple">may</strong> increase presentation
latency.
If <code>VkDisplayPresentInfoKHR</code> is not specified, persistent mode will
not be used.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the extent of the <code>srcRect</code> and <code>dstRect</code> are not equal, the
presented pixels will be scaled accordingly.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayPresentInfoKHR-srcRect-01257" href="chap34.html#VUID-VkDisplayPresentInfoKHR-srcRect-01257"></a> <span class="vuid">VUID-VkDisplayPresentInfoKHR-srcRect-01257</span><br>

<code>srcRect</code> <strong class="purple">must</strong> specify a rectangular region that is a subset of the
image being presented</p>
</li>
<li>
<p><a id="VUID-VkDisplayPresentInfoKHR-dstRect-01258" href="chap34.html#VUID-VkDisplayPresentInfoKHR-dstRect-01258"></a> <span class="vuid">VUID-VkDisplayPresentInfoKHR-dstRect-01258</span><br>

<code>dstRect</code> <strong class="purple">must</strong> specify a rectangular region that is a subset of the
<code>visibleRegion</code> parameter of the display mode the swapchain being
presented uses</p>
</li>
<li>
<p><a id="VUID-VkDisplayPresentInfoKHR-persistentContent-01259" href="chap34.html#VUID-VkDisplayPresentInfoKHR-persistentContent-01259"></a> <span class="vuid">VUID-VkDisplayPresentInfoKHR-persistentContent-01259</span><br>

If the <code>persistentContent</code> member of the
<code>VkDisplayPropertiesKHR</code> structure returned by
<code>vkGetPhysicalDeviceDisplayPropertiesKHR</code> for the display the
present operation targets is <code>VK_FALSE</code>, then <code>persistent</code> <strong class="purple">must</strong>
be <code>VK_FALSE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayPresentInfoKHR-sType-sType" href="chap34.html#VUID-VkDisplayPresentInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayPresentInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a> includes a
<code>VkDeviceGroupPresentInfoKHR</code> structure, then that structure includes an
array of device masks and a device group present mode.</p>
</div>
<div class="paragraph">
<p>The <code>VkDeviceGroupPresentInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkDeviceGroupPresentInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_swapchain</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDeviceGroupPresentInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                        <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                            <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                               <span class="n">swapchainCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">uint32_t</span><span class="o">*</span>                        <span class="n">pDeviceMasks</span><span class="p">;</span>
    <span class="n">VkDeviceGroupPresentModeFlagBitsKHR</span>    <span class="n">mode</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDeviceGroupPresentInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchainCount</code> is zero or the number of elements in
<code>pDeviceMasks</code>.</p>
</li>
<li>
<p><code>pDeviceMasks</code> is a pointer to an array of device masks, one for
each element of <a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a>::<code>pSwapchains</code>.</p>
</li>
<li>
<p><code>mode</code> is a <a href="chap34.html#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a> value
specifying the device group present mode that will be used for this
present.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>mode</code> is <code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code>, then each
element of <code>pDeviceMasks</code> selects which instance of the swapchain image
is presented.
Each element of <code>pDeviceMasks</code> <strong class="purple">must</strong> have exactly one bit set, and the
corresponding physical device <strong class="purple">must</strong> have a presentation engine as reported
by <a href="chap34.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>.</p>
</div>
<div class="paragraph">
<p>If <code>mode</code> is <code>VK_DEVICE_GROUP_PRESENT_MODE_REMOTE_BIT_KHR</code>, then
each element of <code>pDeviceMasks</code> selects which instance of the swapchain
image is presented.
Each element of <code>pDeviceMasks</code> <strong class="purple">must</strong> have exactly one bit set, and some
physical device in the logical device <strong class="purple">must</strong> include that bit in its
<a href="chap34.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>presentMask</code>.</p>
</div>
<div class="paragraph">
<p>If <code>mode</code> is <code>VK_DEVICE_GROUP_PRESENT_MODE_SUM_BIT_KHR</code>, then each
element of <code>pDeviceMasks</code> selects which instances of the swapchain image
are component-wise summed and the sum of those images is presented.
If the sum in any component is outside the representable range, the value of
that component is undefined.
Each element of <code>pDeviceMasks</code> <strong class="purple">must</strong> have a value for which all set bits
are set in one of the elements of
<a href="chap34.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>presentMask</code>.</p>
</div>
<div class="paragraph">
<p>If <code>mode</code> is
<code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_MULTI_DEVICE_BIT_KHR</code>, then each
element of <code>pDeviceMasks</code> selects which instance(s) of the swapchain
images are presented.
For each bit set in each element of <code>pDeviceMasks</code>, the corresponding
physical device <strong class="purple">must</strong> have a presentation engine as reported by
<a href="chap34.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>.</p>
</div>
<div class="paragraph">
<p>If <code>VkDeviceGroupPresentInfoKHR</code> is not provided or <code>swapchainCount</code>
is zero then the masks are considered to be <code>1</code>.
If <code>VkDeviceGroupPresentInfoKHR</code> is not provided, <code>mode</code> is
considered to be <code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-swapchainCount-01297" href="chap34.html#VUID-VkDeviceGroupPresentInfoKHR-swapchainCount-01297"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-swapchainCount-01297</span><br>

<code>swapchainCount</code> <strong class="purple">must</strong> equal <code>0</code> or
<a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a>::<code>swapchainCount</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-mode-01298" href="chap34.html#VUID-VkDeviceGroupPresentInfoKHR-mode-01298"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-mode-01298</span><br>

If <code>mode</code> is <code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code>, then
each element of <code>pDeviceMasks</code> <strong class="purple">must</strong> have exactly one bit set, and
the corresponding element of
<a href="chap34.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>presentMask</code> <strong class="purple">must</strong> be
non-zero</p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-mode-01299" href="chap34.html#VUID-VkDeviceGroupPresentInfoKHR-mode-01299"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-mode-01299</span><br>

If <code>mode</code> is <code>VK_DEVICE_GROUP_PRESENT_MODE_REMOTE_BIT_KHR</code>, then
each element of <code>pDeviceMasks</code> <strong class="purple">must</strong> have exactly one bit set, and
some physical device in the logical device <strong class="purple">must</strong> include that bit in its
<a href="chap34.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>presentMask</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-mode-01300" href="chap34.html#VUID-VkDeviceGroupPresentInfoKHR-mode-01300"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-mode-01300</span><br>

If <code>mode</code> is <code>VK_DEVICE_GROUP_PRESENT_MODE_SUM_BIT_KHR</code>, then
each element of <code>pDeviceMasks</code> <strong class="purple">must</strong> have a value for which all set
bits are set in one of the elements of
<a href="chap34.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>presentMask</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-mode-01301" href="chap34.html#VUID-VkDeviceGroupPresentInfoKHR-mode-01301"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-mode-01301</span><br>

If <code>mode</code> is
<code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_MULTI_DEVICE_BIT_KHR</code>, then for
each bit set in each element of <code>pDeviceMasks</code>, the corresponding
element of <a href="chap34.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>presentMask</code>
<strong class="purple">must</strong> be non-zero</p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-pDeviceMasks-01302" href="chap34.html#VUID-VkDeviceGroupPresentInfoKHR-pDeviceMasks-01302"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-pDeviceMasks-01302</span><br>

The value of each element of <code>pDeviceMasks</code> <strong class="purple">must</strong> be equal to the
device mask passed in <a href="chap34.html#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a>::<code>deviceMask</code>
when the image index was last acquired</p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-mode-01303" href="chap34.html#VUID-VkDeviceGroupPresentInfoKHR-mode-01303"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-mode-01303</span><br>

<code>mode</code> <strong class="purple">must</strong> have exactly one bit set, and that bit <strong class="purple">must</strong> have been
included in <a href="chap34.html#VkDeviceGroupSwapchainCreateInfoKHR">VkDeviceGroupSwapchainCreateInfoKHR</a>::<code>modes</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-sType-sType" href="chap34.html#VUID-VkDeviceGroupPresentInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-pDeviceMasks-parameter" href="chap34.html#VUID-VkDeviceGroupPresentInfoKHR-pDeviceMasks-parameter"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-pDeviceMasks-parameter</span><br>
 If <code>swapchainCount</code> is not <code>0</code>, <code>pDeviceMasks</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>swapchainCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-mode-parameter" href="chap34.html#VUID-VkDeviceGroupPresentInfoKHR-mode-parameter"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-mode-parameter</span><br>
 <code>mode</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When the <code><a href="chap54.html#VK_GOOGLE_display_timing">VK_GOOGLE_display_timing</a></code> extension is enabled, additional
fields <strong class="purple">can</strong> be specified that allow an application to specify the earliest
time that an image should be displayed.
This allows an application to avoid stutter that is caused by an image being
displayed earlier than planned.
Such stuttering can occur with both fixed and variable-refresh-rate
displays, because stuttering occurs when the geometry is not correctly
positioned for when the image is displayed.
An application <strong class="purple">can</strong> instruct the presentation engine that an image should
not be displayed earlier than a specified time by adding a
<code>VkPresentTimesInfoGOOGLE</code> structure to the <code>pNext</code> chain of the
<code>VkPresentInfoKHR</code> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPresentTimesInfoGOOGLE</code> structure is defined as:</p>
</div>
<div id="VkPresentTimesInfoGOOGLE" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_GOOGLE_display_timing</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPresentTimesInfoGOOGLE</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>               <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                   <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                      <span class="n">swapchainCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkPresentTimeGOOGLE</span><span class="o">*</span>    <span class="n">pTimes</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPresentTimesInfoGOOGLE</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains being presented to by
this command.</p>
</li>
<li>
<p><code>pTimes</code> is <code>NULL</code> or a pointer to an array of
<code>VkPresentTimeGOOGLE</code> elements with <code>swapchainCount</code> entries.
If not <code>NULL</code>, each element of <code>pTimes</code> contains the earliest time
to present the image corresponding to the entry in the
<code>VkPresentInfoKHR</code>::<code>pImageIndices</code> array.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentTimesInfoGOOGLE-swapchainCount-01247" href="chap34.html#VUID-VkPresentTimesInfoGOOGLE-swapchainCount-01247"></a> <span class="vuid">VUID-VkPresentTimesInfoGOOGLE-swapchainCount-01247</span><br>

<code>swapchainCount</code> <strong class="purple">must</strong> be the same value as
<code>VkPresentInfoKHR</code>::<code>swapchainCount</code>, where
<code>VkPresentInfoKHR</code> is included in the <code>pNext</code> chain of this
<code>VkPresentTimesInfoGOOGLE</code> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentTimesInfoGOOGLE-sType-sType" href="chap34.html#VUID-VkPresentTimesInfoGOOGLE-sType-sType"></a> <span class="vuid">VUID-VkPresentTimesInfoGOOGLE-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PRESENT_TIMES_INFO_GOOGLE</code></p>
</li>
<li>
<p><a id="VUID-VkPresentTimesInfoGOOGLE-pTimes-parameter" href="chap34.html#VUID-VkPresentTimesInfoGOOGLE-pTimes-parameter"></a> <span class="vuid">VUID-VkPresentTimesInfoGOOGLE-pTimes-parameter</span><br>
 If <code>pTimes</code> is not <code>NULL</code>, <code>pTimes</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>swapchainCount</code> <a href="chap34.html#VkPresentTimeGOOGLE">VkPresentTimeGOOGLE</a> structures</p>
</li>
<li>
<p><a id="VUID-VkPresentTimesInfoGOOGLE-swapchainCount-arraylength" href="chap34.html#VUID-VkPresentTimesInfoGOOGLE-swapchainCount-arraylength"></a> <span class="vuid">VUID-VkPresentTimesInfoGOOGLE-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPresentTimeGOOGLE</code> structure is defined as:</p>
</div>
<div id="VkPresentTimeGOOGLE" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_GOOGLE_display_timing</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPresentTimeGOOGLE</span> <span class="p">{</span>
    <span class="kt">uint32_t</span>    <span class="n">presentID</span><span class="p">;</span>
    <span class="kt">uint64_t</span>    <span class="n">desiredPresentTime</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPresentTimeGOOGLE</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>presentID</code> is an application-provided identification value, that
<strong class="purple">can</strong> be used with the results of
<a href="chap34.html#vkGetPastPresentationTimingGOOGLE">vkGetPastPresentationTimingGOOGLE</a>, in order to uniquely identify
this present.
In order to be useful to the application, it <strong class="purple">should</strong> be unique within
some period of time that is meaningful to the application.</p>
</li>
<li>
<p><code>desiredPresentTime</code> specifies that the image given <strong class="purple">should</strong> not be
displayed to the user any earlier than this time.
<code>desiredPresentTime</code> is a time in nanoseconds, relative to a
monotonically-increasing clock (e.g. <code>CLOCK_MONOTONIC</code> (see
clock_gettime(2)) on Android and Linux).
A value of zero specifies that the presentation engine <strong class="purple">may</strong> display the
image at any time.
This is useful when the application desires to provide <code>presentID</code>,
but does not need a specific <code>desiredPresentTime</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPresentIdKHR</code> structure is defined as:</p>
</div>
<div id="VkPresentIdKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_present_id</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPresentIdKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">swapchainCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">uint64_t</span><span class="o">*</span>    <span class="n">pPresentIds</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPresentIdKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains being presented to the
<code>vkQueuePresentKHR</code> command.</p>
</li>
<li>
<p><code>pPresentIds</code> is <code>NULL</code> or a pointer to an array of uint64_t with
<code>swapchainCount</code> entries.
If not <code>NULL</code>, each non-zero value in <code>pPresentIds</code> specifies the
present id to be associated with the presentation of the swapchain with
the same index in the <a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a> call.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For applications to be able to reference specific presentation events queued
by a call to <code>vkQueuePresentKHR</code>, an identifier needs to be associated
with them.
When the <a href="chap45.html#features-presentId"><code>presentId</code></a> feature is enabled,
applications <strong class="purple">can</strong> include the <code>VkPresentIdKHR</code> structure in the
<code>pNext</code> chain of the <a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a> structure to supply
identifiers.</p>
</div>
<div class="paragraph">
<p>Each <code>VkSwapchainKHR</code> has a presentId associated with it.
This value is initially set to zero when the <code>VkSwapchainKHR</code> is
created.</p>
</div>
<div class="paragraph">
<p>When a <code>VkPresentIdKHR</code> structure with a non-NULL <code>pPresentIds</code> is
included in the <code>pNext</code> chain of a <a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a> structure,
each <code>pSwapchains</code> entry has a presentId associated in the
<code>pPresentIds</code> array at the same index as the swapchain in the
<code>pSwapchains</code> array.
If this presentId is non-zero, then the application <strong class="purple">can</strong> later use this
value to refer to that image presentation.
A value of zero indicates that this presentation has no associated
presentId.
A non-zero presentId <strong class="purple">must</strong> be greater than any non-zero presentId passed
previously by the application for the same swapchain.</p>
</div>
<div class="paragraph">
<p>There is no requirement for any precise timing relationship between the
presentation of the image to the user and the update of the presentId value,
but implementations <strong class="purple">should</strong> make this as close as possible to the
presentation of the first pixel in the new image to the user.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentIdKHR-swapchainCount-04998" href="chap34.html#VUID-VkPresentIdKHR-swapchainCount-04998"></a> <span class="vuid">VUID-VkPresentIdKHR-swapchainCount-04998</span><br>

<code>swapchainCount</code> <strong class="purple">must</strong> be the same value as
<code>VkPresentInfoKHR</code>::<code>swapchainCount</code>, where this
<code>VkPresentIdKHR</code> is in the <code>pNext</code> chain of the
<code>VkPresentInfoKHR</code> structure</p>
</li>
<li>
<p><a id="VUID-VkPresentIdKHR-presentIds-04999" href="chap34.html#VUID-VkPresentIdKHR-presentIds-04999"></a> <span class="vuid">VUID-VkPresentIdKHR-presentIds-04999</span><br>

Each <code>presentIds</code> entry <strong class="purple">must</strong> be greater than any previous
<code>presentIds</code> entry passed for the associated <code>pSwapchains</code> entry</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentIdKHR-sType-sType" href="chap34.html#VUID-VkPresentIdKHR-sType-sType"></a> <span class="vuid">VUID-VkPresentIdKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PRESENT_ID_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPresentIdKHR-pPresentIds-parameter" href="chap34.html#VUID-VkPresentIdKHR-pPresentIds-parameter"></a> <span class="vuid">VUID-VkPresentIdKHR-pPresentIds-parameter</span><br>
 If <code>pPresentIds</code> is not <code>NULL</code>, <code>pPresentIds</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>swapchainCount</code> <code>uint64_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkPresentIdKHR-swapchainCount-arraylength" href="chap34.html#VUID-VkPresentIdKHR-swapchainCount-arraylength"></a> <span class="vuid">VUID-VkPresentIdKHR-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When the <a href="chap45.html#features-presentWait"><code>presentWait</code></a> feature is enabled, an
application <strong class="purple">can</strong> wait for an image to be presented to the user by first
specifying a presentId for the target presentation by adding a
<code>VkPresentIdKHR</code> structure to the <code>pNext</code> chain of the
<a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a> structure and then waiting for that presentation to
complete by calling:</p>
</div>
<div id="vkWaitForPresentKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_present_wait</span>
<span class="n">VkResult</span> <span class="nf">vkWaitForPresentKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span>                              <span class="n">swapchain</span><span class="p">,</span>
    <span class="kt">uint64_t</span>                                    <span class="n">presentId</span><span class="p">,</span>
    <span class="kt">uint64_t</span>                                    <span class="n">timeout</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the non-retired swapchain on which an image was
queued for presentation.</p>
</li>
<li>
<p><code>presentId</code> is the presentation presentId to wait for.</p>
</li>
<li>
<p><code>timeout</code> is the timeout period in units of nanoseconds.
<code>timeout</code> is adjusted to the closest value allowed by the
implementation-dependent timeout accuracy, which <strong class="purple">may</strong> be substantially
longer than one nanosecond, and <strong class="purple">may</strong> be longer than the requested
period.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkWaitForPresentKHR</code> waits for the presentId associated with
<code>swapchain</code> to be increased in value so that it is at least equal to
<code>presentId</code>.</p>
</div>
<div class="paragraph">
<p>For <code>VK_PRESENT_MODE_MAILBOX_KHR</code> (or other present mode where images
may be replaced in the presentation queue) any wait of this type associated
with such an image <strong class="purple">must</strong> be signaled no later than a wait associated with
the replacing image would be signaled.</p>
</div>
<div class="paragraph">
<p>When the presentation has completed, the presentId associated with the
related <code>pSwapchains</code> entry will be increased in value so that it is at
least equal to the value provided in the <code>VkPresentIdKHR</code> structure.</p>
</div>
<div class="paragraph">
<p>There is no requirement for any precise timing relationship between the
presentation of the image to the user and the update of the presentId value,
but implementations <strong class="purple">should</strong> make this as close as possible to the
presentation of the first pixel in the next image being presented to the
user.</p>
</div>
<div class="paragraph">
<p>The call to <code>vkWaitForPresentKHR</code> will block until either the presentId
associated with <code>swapchain</code> is greater than or equal to <code>presentId</code>,
or <code>timeout</code> nanoseconds passes.
When the swapchain becomes OUT_OF_DATE, the call will either return
<code>VK_SUCCESS</code> (if the image was delivered to the presentation engine and
may have been presented to the user) or will return early with status
<code>VK_ERROR_OUT_OF_DATE_KHR</code> (if the image was not presented to the user).</p>
</div>
<div class="paragraph">
<p>As an exception to the normal rules for objects which are externally
synchronized, the <code>swapchain</code> passed to <code>vkWaitForPresentKHR</code> <strong class="purple">may</strong>
be simultaneously used by other threads in calls to functions other than
<a href="chap34.html#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a>.
Access to the swapchain data associated with this extension <strong class="purple">must</strong> be atomic
within the implementation.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkWaitForPresentKHR-swapchain-04997" href="chap34.html#VUID-vkWaitForPresentKHR-swapchain-04997"></a> <span class="vuid">VUID-vkWaitForPresentKHR-swapchain-04997</span><br>

<code>swapchain</code> <strong class="purple">must</strong> not be in the retired state</p>
</li>
<li>
<p><a id="VUID-vkWaitForPresentKHR-presentWait-06234" href="chap34.html#VUID-vkWaitForPresentKHR-presentWait-06234"></a> <span class="vuid">VUID-vkWaitForPresentKHR-presentWait-06234</span><br>

The <a href="chap45.html#features-presentWait"><code>presentWait</code></a> feature <strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkWaitForPresentKHR-device-parameter" href="chap34.html#VUID-vkWaitForPresentKHR-device-parameter"></a> <span class="vuid">VUID-vkWaitForPresentKHR-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkWaitForPresentKHR-swapchain-parameter" href="chap34.html#VUID-vkWaitForPresentKHR-swapchain-parameter"></a> <span class="vuid">VUID-vkWaitForPresentKHR-swapchain-parameter</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkWaitForPresentKHR-swapchain-parent" href="chap34.html#VUID-vkWaitForPresentKHR-swapchain-parent"></a> <span class="vuid">VUID-vkWaitForPresentKHR-swapchain-parent</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_TIMEOUT</code></p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When the <code><a href="chap54.html#VK_GGP_frame_token">VK_GGP_frame_token</a></code> extension is enabled, a Google Games
Platform frame token <strong class="purple">can</strong> be specified when presenting an image to a
swapchain by adding a <code>VkPresentFrameTokenGGP</code> structure to the
<code>pNext</code> chain of the <code>VkPresentInfoKHR</code> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPresentFrameTokenGGP</code> structure is defined as:</p>
</div>
<div id="VkPresentFrameTokenGGP" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_GGP_frame_token</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPresentFrameTokenGGP</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">GgpFrameToken</span>      <span class="n">frameToken</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPresentFrameTokenGGP</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>frameToken</code> is the Google Games Platform frame token.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentFrameTokenGGP-frameToken-02680" href="chap34.html#VUID-VkPresentFrameTokenGGP-frameToken-02680"></a> <span class="vuid">VUID-VkPresentFrameTokenGGP-frameToken-02680</span><br>

<code>frameToken</code> <strong class="purple">must</strong> be a valid <code>GgpFrameToken</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentFrameTokenGGP-sType-sType" href="chap34.html#VUID-VkPresentFrameTokenGGP-sType-sType"></a> <span class="vuid">VUID-VkPresentFrameTokenGGP-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PRESENT_FRAME_TOKEN_GGP</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSwapchainPresentModeInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkSwapchainPresentModeInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_swapchain_maintenance1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSwapchainPresentModeInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>            <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                      <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                   <span class="n">swapchainCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkPresentModeKHR</span><span class="o">*</span>    <span class="n">pPresentModes</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSwapchainPresentModeInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains being presented to by
this command.</p>
</li>
<li>
<p><code>pPresentModes</code> is a list of presentation modes with
<code>swapchainCount</code> entries.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a> includes a
<code>VkSwapchainPresentModeInfoEXT</code> structure, then that structure defines
the presentation modes used for the current and subsequent presentation
operations.</p>
</div>
<div class="paragraph">
<p>When the application changes present modes with
<a href="chap34.html#VkSwapchainPresentModeInfoEXT">VkSwapchainPresentModeInfoEXT</a>, images that have already been queued
for presentation will continue to be presented according to the previous
present mode.
The current image being queued for presentation and subsequent images will
be presented according to the new present mode.
The behavior during the transition between the two modes is defined as
follows.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Transition from <code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code> to
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code>: the presentation engine
updates the shared presentable image according to the behavior of
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code>.</p>
</li>
<li>
<p>Transition from <code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> to
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>: the presentation
engine <strong class="purple">may</strong> update the shared presentable image or defer that to its
regular refresh cycle, according to the behavior of
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>.</p>
</li>
<li>
<p>Transition between <code>VK_PRESENT_MODE_FIFO_KHR</code> and
<code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>: Images continue to be appended
to the same FIFO queue, and the behavior with respect to waiting for
vertical blanking period will follow the new mode for current and
subsequent images.</p>
</li>
<li>
<p>Transition from <code>VK_PRESENT_MODE_IMMEDIATE_KHR</code> to
<code>VK_PRESENT_MODE_FIFO_KHR</code> or
<code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>: As all prior present requests in
the <code>VK_PRESENT_MODE_IMMEDIATE_KHR</code> mode are applied immediately,
there are no outstanding present operations in this mode, and current
and subsequent images are appended to the FIFO queue and presented
according to the new mode.</p>
</li>
<li>
<p>Transition from <code>VK_PRESENT_MODE_MAILBOX_KHR</code> to
<code>VK_PRESENT_MODE_FIFO_KHR</code> or
<code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>: Presentation in both modes
require waiting for the next vertical blanking period, with
<code>VK_PRESENT_MODE_MAILBOX_KHR</code> allowing the pending present operation
to be replaced by a new one.
In this case, the current present operation will replace the pending
present operation and is applied according to the new mode.</p>
</li>
<li>
<p>Transition from <code>VK_PRESENT_MODE_FIFO_KHR</code> or
<code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code> to
<code>VK_PRESENT_MODE_IMMEDIATE_KHR</code> or
<code>VK_PRESENT_MODE_MAILBOX_KHR</code>: If the FIFO queue is empty,
presentation is done according to the behavior of the new mode.
If there are present operations in the FIFO queue, once the last present
operation is performed based on the respective vertical blanking period,
the current and subsequent updates are applied according to the new
mode.</p>
</li>
<li>
<p>The behavior during transition between any other present modes, if
possible, is implementation defined.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentModeInfoEXT-swapchainCount-07760" href="chap34.html#VUID-VkSwapchainPresentModeInfoEXT-swapchainCount-07760"></a> <span class="vuid">VUID-VkSwapchainPresentModeInfoEXT-swapchainCount-07760</span><br>

<code>swapchainCount</code> <strong class="purple">must</strong> be equal to
<a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a>::<code>swapchainCount</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModeInfoEXT-pPresentModes-07761" href="chap34.html#VUID-VkSwapchainPresentModeInfoEXT-pPresentModes-07761"></a> <span class="vuid">VUID-VkSwapchainPresentModeInfoEXT-pPresentModes-07761</span><br>

Each entry in <code>pPresentModes</code> must be a presentation mode specified
in <a href="chap34.html#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>::pPresentModes when
creating the entry’s corresponding swapchain</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentModeInfoEXT-sType-sType" href="chap34.html#VUID-VkSwapchainPresentModeInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSwapchainPresentModeInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_MODE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModeInfoEXT-pPresentModes-parameter" href="chap34.html#VUID-VkSwapchainPresentModeInfoEXT-pPresentModes-parameter"></a> <span class="vuid">VUID-VkSwapchainPresentModeInfoEXT-pPresentModes-parameter</span><br>
 <code>pPresentModes</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid <a href="chap34.html#VkPresentModeKHR">VkPresentModeKHR</a> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModeInfoEXT-swapchainCount-arraylength" href="chap34.html#VUID-VkSwapchainPresentModeInfoEXT-swapchainCount-arraylength"></a> <span class="vuid">VUID-VkSwapchainPresentModeInfoEXT-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSwapchainPresentFenceInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkSwapchainPresentFenceInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_swapchain_maintenance1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSwapchainPresentFenceInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>              <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">swapchainCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkFence</span><span class="o">*</span>     <span class="n">pFences</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSwapchainPresentFenceInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains being presented to by
this command.</p>
</li>
<li>
<p><code>pFences</code> is a list of fences with <code>swapchainCount</code> entries.
Each entry <strong class="purple">must</strong> be <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> or the handle of a fence to
signal when the relevant operations on the associated swapchain have
completed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The set of <em>queue operations</em> defined by queuing an image for presentation,
as well as operations performed by the presentation engine access the
payloads of objects associated with the presentation operation.
The associated objects include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The swapchain image, its implicitly bound memory, and any other
resources bound to that memory.</p>
</li>
<li>
<p>The wait semaphores specified when queuing the image for presentation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The application <strong class="purple">can</strong> provide a fence that the implementation will signal
when all such queue operations have completed and the presentation engine
has taken a reference to the payload of any objects it accesses as part of
the present operation.
For all
binary
wait semaphores imported by the presentation engine using the equivalent of
reference transference, as described in
<a href="chap7.html#synchronization-semaphores-importing">Importing Semaphore Payloads</a>, this
fence <strong class="purple">must</strong> not signal until all such semaphore payloads have been reset by
the presentation engine.</p>
</div>
<div class="paragraph">
<p>The application <strong class="purple">can</strong> destroy the wait semaphores associated with a given
presentation operation when the associated fence is signaled, and <strong class="purple">can</strong>
destroy the swapchain when the fences associated with all past presentation
requests have signaled.</p>
</div>
<div class="paragraph">
<p>Fences associated with presentations to the same swapchain on the same
<a href="chap5.html#VkQueue">VkQueue</a> <strong class="purple">must</strong> be signaled in the same order as the present operations.</p>
</div>
<div class="paragraph">
<p>To specify a fence for each swapchain in a present operation, include the
<code>VkSwapchainPresentFenceInfoEXT</code> structure in the <code>pNext</code> chain of
the <a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a> structure.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentFenceInfoEXT-swapchainCount-07757" href="chap34.html#VUID-VkSwapchainPresentFenceInfoEXT-swapchainCount-07757"></a> <span class="vuid">VUID-VkSwapchainPresentFenceInfoEXT-swapchainCount-07757</span><br>

<code>swapchainCount</code> <strong class="purple">must</strong> be equal to
<a href="chap34.html#VkPresentInfoKHR">VkPresentInfoKHR</a>::<code>swapchainCount</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentFenceInfoEXT-pFences-07758" href="chap34.html#VUID-VkSwapchainPresentFenceInfoEXT-pFences-07758"></a> <span class="vuid">VUID-VkSwapchainPresentFenceInfoEXT-pFences-07758</span><br>

Each element of <code>pFences</code> <strong class="purple">must</strong> be unsignaled</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentFenceInfoEXT-pFences-07759" href="chap34.html#VUID-VkSwapchainPresentFenceInfoEXT-pFences-07759"></a> <span class="vuid">VUID-VkSwapchainPresentFenceInfoEXT-pFences-07759</span><br>

Each element of <code>pFences</code> <strong class="purple">must</strong> not be associated with any other
queue command that has not yet completed execution on that queue</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentFenceInfoEXT-sType-sType" href="chap34.html#VUID-VkSwapchainPresentFenceInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSwapchainPresentFenceInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_FENCE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentFenceInfoEXT-pFences-parameter" href="chap34.html#VUID-VkSwapchainPresentFenceInfoEXT-pFences-parameter"></a> <span class="vuid">VUID-VkSwapchainPresentFenceInfoEXT-pFences-parameter</span><br>
 <code>pFences</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid <a href="chap7.html#VkFence">VkFence</a> handles</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentFenceInfoEXT-swapchainCount-arraylength" href="chap34.html#VUID-VkSwapchainPresentFenceInfoEXT-swapchainCount-arraylength"></a> <span class="vuid">VUID-VkSwapchainPresentFenceInfoEXT-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><code>vkQueuePresentKHR</code>, releases the acquisition of the images referenced
by <code>imageIndices</code>.
The queue family corresponding to the queue <code>vkQueuePresentKHR</code> is
executed on <strong class="purple">must</strong> have ownership of the presented images as defined in
<a href="chap12.html#resources-sharing">Resource Sharing</a>.
<code>vkQueuePresentKHR</code> does not alter the queue family ownership, but the
presented images <strong class="purple">must</strong> not be used again before they have been reacquired
using <code>vkAcquireNextImageKHR</code>.</p>
</div>
<div class="paragraph">
<p>The processing of the presentation happens in issue order with other queue
operations, but semaphores have to be used to ensure that prior rendering
and other commands in the specified queue complete before the presentation
begins.
The presentation command itself does not delay processing of subsequent
commands on the queue, however, presentation requests sent to a particular
queue are always performed in order.
Exact presentation timing is controlled by the semantics of the presentation
engine and native platform in use.</p>
</div>
<div class="paragraph">
<p>If an image is presented to a swapchain created from a display surface, the
mode of the associated display will be updated, if necessary, to match the
mode specified when creating the display surface.
The mode switch and presentation of the specified image will be performed as
one atomic operation.</p>
</div>
<div class="paragraph">
<p>The result codes <code>VK_ERROR_OUT_OF_DATE_KHR</code> and <code>VK_SUBOPTIMAL_KHR</code>
have the same meaning when returned by <code>vkQueuePresentKHR</code> as they do
when returned by <code>vkAcquireNextImageKHR</code>.
If multiple swapchains are presented, the result code is determined applying
the following rules in order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the device is lost, <code>VK_ERROR_DEVICE_LOST</code> is returned.</p>
</li>
<li>
<p>If any of the target surfaces are no longer available the error
<code>VK_ERROR_SURFACE_LOST_KHR</code> is returned.</p>
</li>
<li>
<p>If any of the presents would have a result of
<code>VK_ERROR_OUT_OF_DATE_KHR</code> if issued separately then
<code>VK_ERROR_OUT_OF_DATE_KHR</code> is returned.</p>
</li>
<li>
<p>If any of the presents would have a result of
<code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code> if issued separately
then <code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code> is returned.</p>
</li>
<li>
<p>If any of the presents would have a result of <code>VK_SUBOPTIMAL_KHR</code> if
issued separately then <code>VK_SUBOPTIMAL_KHR</code> is returned.</p>
</li>
<li>
<p>Otherwise <code>VK_SUCCESS</code> is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Presentation is a read-only operation that will not affect the content of
the presentable images.
Upon reacquiring the image and transitioning it away from the
<code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> layout, the contents will be the same
as they were prior to transitioning the image to the present source layout
and presenting it.
However, if a mechanism other than Vulkan is used to modify the platform
window associated with the swapchain, the content of all presentable images
in the swapchain becomes undefined.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The application <strong class="purple">can</strong> continue to present any acquired images from a retired
swapchain as long as the swapchain has not entered a state that causes
<a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a> to return <code>VK_ERROR_OUT_OF_DATE_KHR</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To release images previously acquired through
<a href="chap34.html#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a> or
<a href="chap34.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>, call:</p>
</div>
<div id="vkReleaseSwapchainImagesEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_swapchain_maintenance1</span>
<span class="n">VkResult</span> <span class="nf">vkReleaseSwapchainImagesEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkReleaseSwapchainImagesInfoEXT</span><span class="o">*</span>      <span class="n">pReleaseInfo</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with
<a href="chap34.html#VkReleaseSwapchainImagesInfoEXT">VkReleaseSwapchainImagesInfoEXT</a>::<code>swapchain</code>.</p>
</li>
<li>
<p><code>pReleaseInfo</code> is a pointer to a
<a href="chap34.html#VkReleaseSwapchainImagesInfoEXT">VkReleaseSwapchainImagesInfoEXT</a> structure containing parameters of
the release.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only images that are not in use by the device <strong class="purple">can</strong> be released.</p>
</div>
<div class="paragraph">
<p>Releasing images is a read-only operation that will not affect the content
of the released images.
Upon reacquiring the image, the image contents and its layout will be the
same as they were prior to releasing it.
However, if a mechanism other than Vulkan is used to modify the platform
window associated with the swapchain, the content of all presentable images
in the swapchain becomes undefined.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This functionality is useful during swapchain recreation, where acquired
images from the old swapchain can be released instead of presented.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkReleaseSwapchainImagesEXT-device-parameter" href="chap34.html#VUID-vkReleaseSwapchainImagesEXT-device-parameter"></a> <span class="vuid">VUID-vkReleaseSwapchainImagesEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkReleaseSwapchainImagesEXT-pReleaseInfo-parameter" href="chap34.html#VUID-vkReleaseSwapchainImagesEXT-pReleaseInfo-parameter"></a> <span class="vuid">VUID-vkReleaseSwapchainImagesEXT-pReleaseInfo-parameter</span><br>
 <code>pReleaseInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkReleaseSwapchainImagesInfoEXT">VkReleaseSwapchainImagesInfoEXT</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkReleaseSwapchainImagesInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkReleaseSwapchainImagesInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_swapchain_maintenance1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkReleaseSwapchainImagesInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkSwapchainKHR</span>     <span class="n">swapchain</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">imageIndexCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">uint32_t</span><span class="o">*</span>    <span class="n">pImageIndices</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkReleaseSwapchainImagesInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchain</code> is a swapchain to which images are being released.</p>
</li>
<li>
<p><code>imageIndexCount</code> is the number of image indices to be released.</p>
</li>
<li>
<p><code>pImageIndices</code> is a pointer to an array of indices into the array
of <code>swapchain</code>’s presentable images, with <code>imageIndexCount</code>
entries.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-07785" href="chap34.html#VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-07785"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-07785</span><br>

Each element of <code>pImageIndices</code> <strong class="purple">must</strong> be the index of a presentable
image acquired from the swapchain specified by <code>swapchain</code></p>
</li>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-07786" href="chap34.html#VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-07786"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-07786</span><br>

All uses of presentable images identified by elements of
<code>pImageIndices</code> <strong class="purple">must</strong> have completed execution</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-sType-sType" href="chap34.html#VUID-VkReleaseSwapchainImagesInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_RELEASE_SWAPCHAIN_IMAGES_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-pNext-pNext" href="chap34.html#VUID-VkReleaseSwapchainImagesInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-swapchain-parameter" href="chap34.html#VUID-VkReleaseSwapchainImagesInfoEXT-swapchain-parameter"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-swapchain-parameter</span><br>
 <code>swapchain</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-parameter" href="chap34.html#VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-parameter"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-parameter</span><br>
 <code>pImageIndices</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>imageIndexCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-imageIndexCount-arraylength" href="chap34.html#VUID-VkReleaseSwapchainImagesInfoEXT-imageIndexCount-arraylength"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-imageIndexCount-arraylength</span><br>
 <code>imageIndexCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hdr_metadata"><a class="anchor" href="chap34.html#_hdr_metadata"></a>34.11. Hdr Metadata</h3>
<div class="paragraph">
<p>This section describes how to improve color reproduction of content to
better reproduce colors as seen on the reference monitor.
Definitions below are from the associated SMPTE 2086, CTA 861.3 and CIE
15:2004 specifications.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To provide Hdr metadata to an implementation, call:</p>
</div>
<div id="vkSetHdrMetadataEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_hdr_metadata</span>
<span class="kt">void</span> <span class="nf">vkSetHdrMetadataEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">swapchainCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkSwapchainKHR</span><span class="o">*</span>                       <span class="n">pSwapchains</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkHdrMetadataEXT</span><span class="o">*</span>                     <span class="n">pMetadata</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device where the swapchain(s) were created.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains included in
<code>pSwapchains</code>.</p>
</li>
<li>
<p><code>pSwapchains</code> is a pointer to an array of <code>swapchainCount</code>
<a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handles.</p>
</li>
<li>
<p><code>pMetadata</code> is a pointer to an array of <code>swapchainCount</code>
<a href="chap34.html#VkHdrMetadataEXT">VkHdrMetadataEXT</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The metadata will be applied to the specified <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> objects
at the next <code>vkQueuePresentKHR</code> call using that <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a>
object.
The metadata will persist until a subsequent <code>vkSetHdrMetadataEXT</code>
changes it.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkSetHdrMetadataEXT-device-parameter" href="chap34.html#VUID-vkSetHdrMetadataEXT-device-parameter"></a> <span class="vuid">VUID-vkSetHdrMetadataEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkSetHdrMetadataEXT-pSwapchains-parameter" href="chap34.html#VUID-vkSetHdrMetadataEXT-pSwapchains-parameter"></a> <span class="vuid">VUID-vkSetHdrMetadataEXT-pSwapchains-parameter</span><br>
 <code>pSwapchains</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid <a href="chap34.html#VkSwapchainKHR">VkSwapchainKHR</a> handles</p>
</li>
<li>
<p><a id="VUID-vkSetHdrMetadataEXT-pMetadata-parameter" href="chap34.html#VUID-vkSetHdrMetadataEXT-pMetadata-parameter"></a> <span class="vuid">VUID-vkSetHdrMetadataEXT-pMetadata-parameter</span><br>
 <code>pMetadata</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid <a href="chap34.html#VkHdrMetadataEXT">VkHdrMetadataEXT</a> structures</p>
</li>
<li>
<p><a id="VUID-vkSetHdrMetadataEXT-swapchainCount-arraylength" href="chap34.html#VUID-vkSetHdrMetadataEXT-swapchainCount-arraylength"></a> <span class="vuid">VUID-vkSetHdrMetadataEXT-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkSetHdrMetadataEXT-pSwapchains-parent" href="chap34.html#VUID-vkSetHdrMetadataEXT-pSwapchains-parent"></a> <span class="vuid">VUID-vkSetHdrMetadataEXT-pSwapchains-parent</span><br>
 Each element of <code>pSwapchains</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkHdrMetadataEXT</code> structure is defined as:</p>
</div>
<div id="VkHdrMetadataEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_hdr_metadata</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkHdrMetadataEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkXYColorEXT</span>       <span class="n">displayPrimaryRed</span><span class="p">;</span>
    <span class="n">VkXYColorEXT</span>       <span class="n">displayPrimaryGreen</span><span class="p">;</span>
    <span class="n">VkXYColorEXT</span>       <span class="n">displayPrimaryBlue</span><span class="p">;</span>
    <span class="n">VkXYColorEXT</span>       <span class="n">whitePoint</span><span class="p">;</span>
    <span class="kt">float</span>              <span class="n">maxLuminance</span><span class="p">;</span>
    <span class="kt">float</span>              <span class="n">minLuminance</span><span class="p">;</span>
    <span class="kt">float</span>              <span class="n">maxContentLightLevel</span><span class="p">;</span>
    <span class="kt">float</span>              <span class="n">maxFrameAverageLightLevel</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkHdrMetadataEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>displayPrimaryRed</code> is a <a href="chap34.html#VkXYColorEXT">VkXYColorEXT</a> structure specifying the
reference monitor’s red primary in chromaticity coordinates</p>
</li>
<li>
<p><code>displayPrimaryGreen</code> is a <a href="chap34.html#VkXYColorEXT">VkXYColorEXT</a> structure specifying
the reference monitor’s green primary in chromaticity coordinates</p>
</li>
<li>
<p><code>displayPrimaryBlue</code> is a <a href="chap34.html#VkXYColorEXT">VkXYColorEXT</a> structure specifying
the reference monitor’s blue primary in chromaticity coordinates</p>
</li>
<li>
<p><code>whitePoint</code> is a <a href="chap34.html#VkXYColorEXT">VkXYColorEXT</a> structure specifying the
reference monitor’s white-point in chromaticity coordinates</p>
</li>
<li>
<p><code>maxLuminance</code> is the maximum luminance of the reference monitor in
nits</p>
</li>
<li>
<p><code>minLuminance</code> is the minimum luminance of the reference monitor in
nits</p>
</li>
<li>
<p><code>maxContentLightLevel</code> is content’s maximum luminance in nits</p>
</li>
<li>
<p><code>maxFrameAverageLightLevel</code> is the maximum frame average light level
in nits</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkHdrMetadataEXT-sType-sType" href="chap34.html#VUID-VkHdrMetadataEXT-sType-sType"></a> <span class="vuid">VUID-VkHdrMetadataEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_HDR_METADATA_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkHdrMetadataEXT-pNext-pNext" href="chap34.html#VUID-VkHdrMetadataEXT-pNext-pNext"></a> <span class="vuid">VUID-VkHdrMetadataEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The validity and use of this data is outside the scope of Vulkan.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkXYColorEXT</code> structure is defined as:</p>
</div>
<div id="VkXYColorEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_hdr_metadata</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkXYColorEXT</span> <span class="p">{</span>
    <span class="kt">float</span>    <span class="n">x</span><span class="p">;</span>
    <span class="kt">float</span>    <span class="n">y</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkXYColorEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>x</code> is the <span class="eq">x</span> chromaticity coordinate.</p>
</li>
<li>
<p><code>y</code> is the <span class="eq">y</span> chromaticity coordinate.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Chromaticity coordinates are as specified in CIE 15:2004 “Calculation of
chromaticity coordinates” (Section 7.3) and are limited to between 0 and 1
for real colors for the reference monitor.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="present-barrier"><a class="anchor" href="chap34.html#present-barrier"></a>34.12. Present Barrier</h3>
<div class="paragraph">
<p>The <code><a href="chap54.html#VK_NV_present_barrier">VK_NV_present_barrier</a></code> extension allows applications to
synchronize corresponding presentation requests across multiple swapchains
using the <em>present barrier</em>.
A swapchain is said to be using the <em>present barrier</em> if the swapchain is
created by adding a <a href="chap34.html#VkSwapchainPresentBarrierCreateInfoNV">VkSwapchainPresentBarrierCreateInfoNV</a> structure to
the <code>pNext</code> chain of the <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure, and
setting
<a href="chap34.html#VkSwapchainPresentBarrierCreateInfoNV">VkSwapchainPresentBarrierCreateInfoNV</a>::<code>presentBarrierEnable</code> to
true.</p>
</div>
<div class="paragraph">
<p>A set of corresponding presentation requests is defined as exactly one
queued presentation request associated with each swapchain using the present
barrier, whether or not that queued request has executed.
A given presentation request is added, when created by calling
<a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a> and specifying a swapchain using the present
barrier, either to the oldest existing set of corresponding requests for
which there is no existing member associated with the request’s swapcahin,
or to a new set of corresponding requests if no such set exists.</p>
</div>
<div class="paragraph">
<p>A set of corresponding requests is said to be <em>full</em> when it contains one
request from each swapchain using the present barrier.
Queued presentation of an image to a swapchain using the <em>present barrier</em>
is <em>deferred</em> by the implementation until the set of corresponding requests
is full, and the visibility operations associated with all requests in that
set, as described by <a href="chap34.html#vkQueuePresentKHR">vkQueuePresentKHR</a>, have completed.</p>
</div>
<div class="paragraph">
<p>Additionally, the set of swapchains using the present barrier can be in the
same process, or different processes running under the same operating
system.
And if the required synchronization hardware is connected and correctly
configured, this extension also supports applications to synchronize
corresponding presentation requests using the <em>present barrier</em> across
distributed systems.
However, the configuration mechanism of the required hardware is outside the
scope of the Vulkan specification and this extension.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="chap34.html#VkSwapchainPresentBarrierCreateInfoNV">VkSwapchainPresentBarrierCreateInfoNV</a> structure is defined as:</p>
</div>
<div id="VkSwapchainPresentBarrierCreateInfoNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_present_barrier</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSwapchainPresentBarrierCreateInfoNV</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>              <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkBool32</span>           <span class="n">presentBarrierEnable</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSwapchainPresentBarrierCreateInfoNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentBarrierEnable</code> is a boolean value indicating a request for
using the <em>present barrier</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> does not include
this structure, the default value for <code>presentBarrierEnable</code> is
<code>VK_FALSE</code>, meaning the swapchain does not request to use the present
barrier.
Additionally, when recreating a swapchain that was using the present
barrier, and the <code>pNext</code> chain of <a href="chap34.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> does
not include this structure, it means the swapchain will stop using the
present barrier.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentBarrierCreateInfoNV-sType-sType" href="chap34.html#VUID-VkSwapchainPresentBarrierCreateInfoNV-sType-sType"></a> <span class="vuid">VUID-VkSwapchainPresentBarrierCreateInfoNV-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_BARRIER_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>

<nav>
  <a rel="prev" href="chap33.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap35.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>
<div id="footer">
<div id="footer-text">
Version 1.3.240<br>
Last updated 2023-01-19 03:02:03 -0800
</div>
</div>



</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>