<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="The Khronos® Vulkan  Working Group">
<title>Vulkan® 1.3.258 - A Specification (with all registered Vulkan extensions)</title>
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style1.css" type="text/css">
<link rel="stylesheet" href="style2.css" type="text/css">

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin="" even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="../katex/katex.min.css">
<!--ChunkedSearchJSMarker-->
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<link rel="stylesheet" href="style3.css" type="text/css">
<script>
    function hideElement(e){
        e.setAttribute("hidden", "");
        e.classList.add("hidden");
    }

    function unhideElement(e){
        e.classList.remove("hidden");
        e.removeAttribute("hidden");
    }

    function hideLoadableContent(){
        unhideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) hideElement(loadable);
    }

    function unhideLoadableContent(){
        hideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) unhideElement(loadable);
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div style="text-align: center;">
    <span class="image"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgdmlld0JveD0iMCAwIDExNTAgMzI2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTsiPgogICAgPGcgaWQ9IkFydGJvYXJkMSIgdHJhbnNmb3JtPSJtYXRyaXgoMC45NTUxNSwwLDAsMC44ODgyODMsLTQwLjExNjMsLTMwLjIwMTYpIj4KICAgICAgICA8cmVjdCB4PSI0MiIgeT0iMzQiIHdpZHRoPSIxMjA0IiBoZWlnaHQ9IjM2NyIgc3R5bGU9ImZpbGw6bm9uZTsiLz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLjA0Njk2LDAsMCwxLjEyNTc3LC00Ni45OTEzLC01MC40MzI1KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik03MjQuMSwzODUuMDZMNjgzLjUzLDM4NS4wNkM2ODMuNTMsMzg1LjA2IDY4My41MywyODYuMDkgNjgzLjUzLDI1NS40QzY5Ni40OSwyNjIuNjIgNzEzLjYyLDI3NS45NCA3MjQuMSwyODguNzJMNzI0LjEsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxnPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM4MS43NSwzODUuMDZMMzMxLjE3LDM4NS4wNkwyNjUuMTYsMTgxLjAzTDMxMS4xNywxODEuMDNMMzU2LjYxLDMyNC40OEwzNTcuMTgsMzI0LjQ4TDQwMy4xOCwxODEuMDNMNDQ5LjQ3LDE4MS4wM0wzODEuNzUsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTg1LjUxLDM4NS4wNkw1NDYuOTMsMzg1LjA2TDU0Ni45MywzNjQuNDlMNTQ2LjA4LDM2NC40OUM1NDAuOTMsMzczLjA3IDUzNC4yNywzNzkuMjYgNTI2LjA3LDM4My4wN0M1MTcuODgsMzg2Ljg4IDUwOS41LDM4OC43OCA1MDAuOTIsMzg4Ljc4QzQ5MC4wNiwzODguNzggNDgxLjE2LDM4Ny4zNSA0NzQuMiwzODQuNUM0NjcuMjUsMzgxLjY1IDQ2MS43NywzNzcuNTkgNDU3Ljc3LDM3Mi4zNkM0NTMuNzYsMzY3LjEyIDQ1MC45NSwzNjAuNzQgNDQ5LjMzLDM1My4yMUM0NDcuNzIsMzQ1LjY5IDQ0Ni45MSwzMzcuMzUgNDQ2LjkxLDMyOC4yMUw0NDYuOTEsMjM3LjMzTDQ4Ny40OSwyMzcuMzNMNDg3LjQ5LDMyMC43N0M0ODcuNDksMzMyLjk2IDQ4OS40LDM0Mi4wNiA0OTMuMjEsMzQ4LjA2QzQ5Ny4wMiwzNTQuMDcgNTAzLjc4LDM1Ny4wNiA1MTMuNSwzNTcuMDZDNTI0LjU1LDM1Ny4wNiA1MzIuNTUsMzUzLjc4IDUzNy41LDM0Ny4yQzU0Mi40NiwzNDAuNjIgNTQ0LjkzLDMyOS44MSA1NDQuOTMsMzE0Ljc2TDU0NC45MywyMzcuMzJMNTg1LjUyLDIzNy4zMkw1ODUuNTIsMzg1LjA2TDU4NS41MSwzODUuMDZaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNNzMwLjg0LDI5Ni4xOUw3MzAuNzQsMjkwLjQ3TDc4MS44OSwyMzcuMzNMODI5LjkxLDIzNy4zM0w3NzQuMTgsMjkxLjYyTDgzNi4xOSwzODUuMDZMNzg3LjA0LDM4NS4wNkw3MzAuODQsMjk2LjE5WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik04NDMuNjIsMjgyLjc2Qzg0NC4xOSwyNzMuMjQgODQ2LjU4LDI2NS4zMyA4NTAuNzcsMjU5LjA0Qzg1NC45NiwyNTIuNzUgODYwLjI5LDI0Ny43MSA4NjYuNzcsMjQzLjlDODczLjI1LDI0MC4wOSA4ODAuNTQsMjM3LjM3IDg4OC42NCwyMzUuNzZDODk2LjczLDIzNC4xNCA5MDQuODgsMjMzLjMzIDkxMy4wNywyMzMuMzNDOTIwLjUsMjMzLjMzIDkyOC4wMiwyMzMuODUgOTM1LjY0LDIzNC45Qzk0My4yNywyMzUuOTUgOTUwLjIxLDIzOCA5NTYuNSwyNDEuMDVDOTYyLjc4LDI0NC4xIDk2Ny45MywyNDguMzQgOTcxLjk0LDI1My43NkM5NzUuOTQsMjU5LjE5IDk3Ny45NCwyNjYuMzggOTc3Ljk0LDI3NS4zNEw5NzcuOTQsMzUyLjIxQzk3Ny45NCwzNTguODggOTc4LjMyLDM2NS4yNyA5NzkuMDgsMzcxLjM2Qzk3OS44NCwzNzcuNDYgOTgxLjE4LDM4Mi4wMyA5ODMuMDksMzg1LjA4TDk0MS45NCwzODUuMDhDOTQxLjE4LDM4Mi44IDk0MC41NiwzODAuNDYgOTQwLjA4LDM3OC4wOEM5MzkuNjEsMzc1LjcgOTM5LjI3LDM3My4yOCA5MzkuMDgsMzcwLjc5QzkzMi42LDM3Ny40NyA5MjQuOTcsMzgyLjEzIDkxNi4yMSwzODQuOEM5MDcuNDUsMzg3LjQ2IDg5OC40OSwzODguOCA4ODkuMzUsMzg4LjhDODgyLjMsMzg4LjggODc1LjcyLDM4Ny45NCA4NjkuNjQsMzg2LjIzQzg2My41NCwzODQuNTIgODU4LjIsMzgxLjg1IDg1My42NCwzNzguMjNDODQ5LjA2LDM3NC42MSA4NDUuNDgsMzcwLjA0IDg0Mi45MiwzNjQuNTFDODQwLjM1LDM1OC45OSA4MzkuMDYsMzUyLjQyIDgzOS4wNiwzNDQuOEM4MzkuMDYsMzM2LjQyIDg0MC41NCwzMjkuNTEgODQzLjQ5LDMyNC4wOEM4NDYuNDUsMzE4LjY1IDg1MC4yNSwzMTQuMzIgODU0LjkzLDMxMS4wOEM4NTkuNiwzMDcuODQgODY0LjkzLDMwNS40MSA4NzAuOTMsMzAzLjc5Qzg3Ni45MywzMDIuMTcgODgyLjk4LDMwMC44OCA4ODkuMDcsMjk5LjkzQzg5NS4xNywyOTguOTkgOTAxLjE3LDI5OC4yMiA5MDcuMDgsMjk3LjY1QzkxMi45OSwyOTcuMDggOTE4LjIyLDI5Ni4yMiA5MjIuNzksMjk1LjA4QzkyNy4zNywyOTMuOTMgOTMwLjk4LDI5Mi4yNyA5MzMuNjUsMjkwLjA3QzkzNi4zMiwyODcuODggOTM3LjU2LDI4NC42OSA5MzcuMzcsMjgwLjVDOTM3LjM3LDI3Ni4xMiA5MzYuNjUsMjcyLjY0IDkzNS4yMiwyNzAuMDdDOTMzLjc5LDI2Ny41IDkzMS44OSwyNjUuNSA5MjkuNTEsMjY0LjA3QzkyNy4xMywyNjIuNjQgOTI0LjM3LDI2MS42OSA5MjEuMjIsMjYxLjIxQzkxOC4wNywyNjAuNzMgOTE0LjcsMjYwLjQ5IDkxMS4wOCwyNjAuNDlDOTAzLjA4LDI2MC40OSA4OTYuNzksMjYyLjIgODkyLjIyLDI2NS42NEM4ODcuNjUsMjY5LjA3IDg4NC45OCwyNzQuNzggODg0LjIyLDI4Mi43OUw4NDMuNjIsMjgyLjc5TDg0My42MiwyODIuNzZaTTkzNy4zNSwzMTIuNzdDOTM1LjYzLDMxNC4zIDkzMy40OSwzMTUuNDggOTMwLjkyLDMxNi4zNEM5MjguMzUsMzE3LjIxIDkyNS41OSwzMTcuOTIgOTIyLjYzLDMxOC40OUM5MTkuNjgsMzE5LjA2IDkxNi41OCwzMTkuNTQgOTEzLjM1LDMxOS45MkM5MTAuMTEsMzIwLjMgOTA2Ljg3LDMyMC43NyA5MDMuNjMsMzIxLjM1QzkwMC41OCwzMjEuOTIgODk3LjU4LDMyMi42OSA4OTQuNjMsMzIzLjYzQzg5MS42OCwzMjQuNTkgODg5LjEsMzI1Ljg3IDg4Ni45MSwzMjcuNDlDODg0LjcyLDMyOS4xMSA4ODIuOTYsMzMxLjE2IDg4MS42MiwzMzMuNjNDODgwLjI5LDMzNi4xMSA4NzkuNjIsMzM5LjI1IDg3OS42MiwzNDMuMDZDODc5LjYyLDM0Ni42OCA4ODAuMjksMzQ5LjczIDg4MS42MiwzNTIuMkM4ODIuOTYsMzU0LjY4IDg4NC43NywzNTYuNjMgODg3LjA1LDM1OC4wNkM4ODkuMzQsMzU5LjQ5IDg5MiwzNjAuNDkgODk1LjA1LDM2MS4wNkM4OTguMSwzNjEuNjMgOTAxLjI0LDM2MS45MSA5MDQuNDgsMzYxLjkxQzkxMi40OCwzNjEuOTEgOTE4LjY4LDM2MC41OCA5MjMuMDYsMzU3LjkyQzkyNy40NCwzNTUuMjUgOTMwLjY5LDM1Mi4wNiA5MzIuNzcsMzQ4LjM0QzkzNC44NiwzNDQuNjMgOTM2LjE2LDM0MC44NyA5MzYuNjIsMzM3LjA2QzkzNy4xLDMzMy4yNSA5MzcuMzMsMzMwLjIgOTM3LjM0LDMyNy45Mkw5MzcuMzQsMzEyLjc3TDkzNy4zNSwzMTIuNzdaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTEwMDQuMjEsMjM3LjMzTDEwNDIuOCwyMzcuMzNMMTA0Mi44LDI1Ny45TDEwNDMuNjUsMjU3LjlDMTA0OC43OSwyNDkuMzMgMTA1NS40NiwyNDMuMDkgMTA2My42NSwyMzkuMTlDMTA3MS44NCwyMzUuMjggMTA4MC4yMywyMzMuMzMgMTA4OC43OSwyMzMuMzNDMTA5OS42NiwyMzMuMzMgMTEwOC41NiwyMzQuODEgMTExNS41MiwyMzcuNzZDMTEyMi40NywyNDAuNzIgMTEyNy45NCwyNDQuODEgMTEzMS45NSwyNTAuMDVDMTEzNS45NSwyNTUuMjkgMTEzOC43NiwyNjEuNjcgMTE0MC4zOCwyNjkuMTlDMTE0MiwyNzYuNzIgMTE0Mi44MSwyODUuMDUgMTE0Mi44MSwyOTQuMkwxMTQyLjgxLDM4NS4wN0wxMTAyLjI0LDM4NS4wN0wxMTAyLjI0LDMwMS42M0MxMTAyLjI0LDI4OS40MyAxMTAwLjMzLDI4MC4zNCAxMDk2LjUzLDI3NC4zNEMxMDkyLjcxLDI2OC4zNCAxMDg1Ljk1LDI2NS4zNCAxMDc2LjIzLDI2NS4zNEMxMDY1LjE4LDI2NS4zNCAxMDU3LjE5LDI2OC42MyAxMDUyLjIzLDI3NS4yQzEwNDcuMjcsMjgxLjc2IDEwNDQuOCwyOTIuNTggMTA0NC44LDMwNy42M0wxMDQ0LjgsMzg1LjA3TDEwMDQuMjIsMzg1LjA3TDEwMDQuMjIsMjM3LjMzTDEwMDQuMjEsMjM3LjMzWiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik02MTIuMzcsMjExLjg0TDYxMi4zNywzODUuMDdMNjUyLjk1LDM4NS4wN0w2NTIuOTUsMjM0LjIxQzYzOS45MywyMjYuMjMgNjI2LjM2LDIxOC43NCA2MTIuMzcsMjExLjg0WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOTguNDMsMjE5LjIxQzIyMS45NSwxNTAuMzIgMzYyLjU4LDEyNS4wNSA1MTIuNTgsMTYyLjc4QzYwMi41NSwxODUuNCA2NzYuMDcsMjI5LjI4IDcyNC4wOSwyNzIuNjdDNzAyLjMsMjE1LjEyIDU5Ni42NSwxMzMuMDggNDUxLjE4LDEwNC45NkMyODYuNyw3My4xNiAxMjQuNDcsMTAxLjExIDEwNC4zOSwxNzQuMUM4OS44OSwyMjYuODMgMTUzLjU3LDI4OC42IDI1Mi4wNSwzMzAuODRDMjA3LjgxLDI5NS4wMiAxODYuMjksMjU0Ljc4IDE5OC40MywyMTkuMjFaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTcyNC4xNiwyNDcuNjJMNzI0LjE2LDE4MS4wM0w2ODMuNTcsMTgxLjAzTDY4My41NywyMDEuMjVDNzAwLjg4LDIxNi43MSA3MTQuNjEsMjMyLjQ1IDcyNC4xNiwyNDcuNjJaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS4wNDY5NiwwLDAsMS4xMjU3NywtNDYuOTkxMywtNTAuNDMyNSkiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTIxNC45OCwzNjMuNDNDMTIxNC45OCwzNzUuNjkgMTIwNS4zNSwzODUuMzIgMTE5Mi44MywzODUuMzJDMTE4MC40MywzODUuMzIgMTE3MC41NCwzNzUuNjkgMTE3MC41NCwzNjMuNDNDMTE3MC41NCwzNTEuNDMgMTE4MC40MywzNDEuOCAxMTkyLjgzLDM0MS44QzEyMDUuMzUsMzQxLjggMTIxNC45OCwzNTEuNDMgMTIxNC45OCwzNjMuNDNaTTExNzYuMDgsMzYzLjQzQzExNzYuMDgsMzczLjA2IDExODMuMiwzODAuNyAxMTkyLjk2LDM4MC43QzEyMDIuNDUsMzgwLjcgMTIwOS40NCwzNzMuMDUgMTIwOS40NCwzNjMuNTZDMTIwOS40NCwzNTMuOTMgMTIwMi40NSwzNDYuMTUgMTE5Mi44MiwzNDYuMTVDMTE4My4yLDM0Ni4xNiAxMTc2LjA4LDM1My45NCAxMTc2LjA4LDM2My40M1pNMTE4OS4zOSwzNzQuNzdMMTE4NC4zOCwzNzQuNzdMMTE4NC4zOCwzNTMuMTRDMTE4Ni4zNiwzNTIuNzQgMTE4OS4xMywzNTIuNDggMTE5Mi42OSwzNTIuNDhDMTE5Ni43OCwzNTIuNDggMTE5OC42MiwzNTMuMTQgMTIwMC4yMSwzNTQuMDZDMTIwMS40LDM1NC45OCAxMjAyLjMyLDM1Ni43IDEyMDIuMzIsMzU4LjgxQzEyMDIuMzIsMzYxLjE4IDEyMDAuNDcsMzYzLjAzIDExOTcuODQsMzYzLjgyTDExOTcuODQsMzY0LjA4QzExOTkuOTUsMzY0Ljg3IDEyMDEuMTQsMzY2LjQ1IDEyMDEuOCwzNjkuMzVDMTIwMi40NiwzNzIuNjUgMTIwMi44NSwzNzMuOTcgMTIwMy4zOCwzNzQuNzZMMTE5Ny45NywzNzQuNzZDMTE5Ny4zMSwzNzMuOTcgMTE5Ni45MiwzNzEuOTkgMTE5Ni4yNiwzNjkuNDlDMTE5NS44NiwzNjcuMTIgMTE5NC41NSwzNjYuMDYgMTE5MS43OCwzNjYuMDZMMTE4OS40MSwzNjYuMDZMMTE4OS40MSwzNzQuNzdMMTE4OS4zOSwzNzQuNzdaTTExODkuNTMsMzYyLjUxTDExOTEuOSwzNjIuNTFDMTE5NC42NywzNjIuNTEgMTE5Ni45MSwzNjEuNTkgMTE5Ni45MSwzNTkuMzRDMTE5Ni45MSwzNTcuMzYgMTE5NS40NiwzNTYuMDQgMTE5Mi4yOSwzNTYuMDRDMTE5MC45NywzNTYuMDQgMTE5MC4wNSwzNTYuMTcgMTE4OS41MiwzNTYuM0wxMTg5LjUyLDM2Mi41MUwxMTg5LjUzLDM2Mi41MVoiIHN0eWxlPSJmaWxsOnJnYigxNzIsMjIsNDQpO2ZpbGwtcnVsZTpub256ZXJvOyIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg==" alt="Vulkan Logo" width="50%">
    </span>
</div>
<div id="header">
<h1>Vulkan<sup>®</sup> 1.3.258 - A Specification (with all registered Vulkan extensions)</h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan  Working Group</span><br>
<span id="revnumber">version 1.3.258,</span>
<span id="revdate">2023-07-21 09:57:58Z</span>
<br><span id="revremark">from git branch: github-main commit: 2c1e07a72b43f53cc7866c55ae32afe97d933621</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Titlepage</a></li><li><a href="chap1.html">1. Preamble</a></li>
<li><a href="chap2.html">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap2.html#introduction-conventions">2.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap3.html#fundamentals-host-environment">3.1. Host and Device Environment</a></li>
<li><a href="chap3.html#fundamentals-execmodel">3.2. Execution Model</a></li>
<li><a href="chap3.html#fundamentals-objectmodel-overview">3.3. Object Model</a></li>
<li><a href="chap3.html#fundamentals-abi">3.4. Application Binary Interface</a></li>
<li><a href="chap3.html#fundamentals-commandsyntax">3.5. Command Syntax and Duration</a></li>
<li><a href="chap3.html#fundamentals-threadingbehavior">3.6. Threading Behavior</a></li>
<li><a href="chap3.html#fundamentals-validusage">3.7. Valid Usage</a></li>
<li><a href="chap3.html#fundamentals-returncodes">3.8. <code>VkResult</code> Return Codes</a></li>
<li><a href="chap3.html#fundamentals-numerics">3.9. Numeric Representation and Computation</a></li>
<li><a href="chap3.html#fundamentals-fixedconv">3.10. Fixed-Point Data Conversions</a></li>
<li><a href="chap3.html#fundamentals-common-objects">3.11. Common Object Types</a></li>
<li><a href="chap3.html#fundamentals-api-name-aliases">3.12. API Name Aliases</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap4.html#initialization-functionpointers">4.1. Command Function Pointers</a></li>
<li><a href="chap4.html#initialization-instances">4.2. Instances</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap5.html#devsandqueues-physical-device-enumeration">5.1. Physical Devices</a></li>
<li><a href="chap5.html#devsandqueues-devices">5.2. Devices</a></li>
<li><a href="chap5.html#devsandqueues-queues">5.3. Queues</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap6.html#commandbuffers-lifecycle">6.1. Command Buffer Lifecycle</a></li>
<li><a href="chap6.html#commandbuffers-pools">6.2. Command Pools</a></li>
<li><a href="chap6.html#commandbuffer-allocation">6.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap6.html#commandbuffers-recording">6.4. Command Buffer Recording</a></li>
<li><a href="chap6.html#commandbuffers-submission">6.5. Command Buffer Submission</a></li>
<li><a href="chap6.html#commandbuffers-submission-progress">6.6. Queue Forward Progress</a></li>
<li><a href="chap6.html#commandbuffers-secondary">6.7. Secondary Command Buffer Execution</a></li>
<li><a href="chap6.html#commandbuffers-devicemask">6.8. Command Buffer Device Mask</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap7.html#synchronization-dependencies">7.1. Execution and Memory Dependencies</a></li>
<li><a href="chap7.html#synchronization-implicit">7.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap7.html#synchronization-fences">7.3. Fences</a></li>
<li><a href="chap7.html#synchronization-semaphores">7.4. Semaphores</a></li>
<li><a href="chap7.html#synchronization-events">7.5. Events</a></li>
<li><a href="chap7.html#synchronization-pipeline-barriers">7.6. Pipeline Barriers</a></li>
<li><a href="chap7.html#synchronization-memory-barriers">7.7. Memory Barriers</a></li>
<li><a href="chap7.html#synchronization-wait-idle">7.8. Wait Idle Operations</a></li>
<li><a href="chap7.html#synchronization-submission-host-writes">7.9. Host Write Ordering Guarantees</a></li>
<li><a href="chap7.html#synchronization-device-group">7.10. Synchronization and Multiple Physical Devices</a></li>
<li><a href="chap7.html#calibrated-timestamps">7.11. Calibrated timestamps</a></li>
</ul>
</li>
<li><a href="chap8.html">8. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap8.html#_render_pass_objects">8.1. Render Pass Objects</a></li>
<li><a href="chap8.html#renderpass-creation">8.2. Render Pass Creation</a></li>
<li><a href="chap8.html#renderpass-compatibility">8.3. Render Pass Compatibility</a></li>
<li><a href="chap8.html#_framebuffers">8.4. Framebuffers</a></li>
<li><a href="chap8.html#renderpass-load-operations">8.5. Render Pass Load Operations</a></li>
<li><a href="chap8.html#renderpass-store-operations">8.6. Render Pass Store Operations</a></li>
<li><a href="chap8.html#renderpass-resolve-operations">8.7. Render Pass Multisample Resolve Operations</a></li>
<li><a href="chap8.html#renderpass-commands">8.8. Render Pass Commands</a></li>
<li><a href="chap8.html#renderpass-creation-feedback">8.9. Render Pass Creation Feedback</a></li>
<li><a href="chap8.html#_common_render_pass_data_races_informative">8.10. Common Render Pass Data Races (Informative)</a></li>
</ul>
</li>
<li class="current"><a href="chap9.html">9. Shaders</a>
<ul class="sectlevel2">
<li class="current"><a href="chap9.html#shaders-objects">9.1. Shader Objects</a></li>
<li class="current"><a href="chap9.html#shader-modules">9.2. Shader Modules</a></li>
<li class="current"><a href="chap9.html#shaders-identifiers">9.3. Shader Module Identifiers</a></li>
<li class="current"><a href="chap9.html#shaders-binding">9.4. Binding Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-execution">9.5. Shader Execution</a></li>
<li class="current"><a href="chap9.html#shaders-execution-memory-ordering">9.6. Shader Memory Access Ordering</a></li>
<li class="current"><a href="chap9.html#shaders-inputs">9.7. Shader Inputs and Outputs</a></li>
<li class="current"><a href="chap9.html#shaders-task">9.8. Task Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-mesh">9.9. Mesh Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-cluster-culling">9.10. Cluster Culling Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-vertex">9.11. Vertex Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-tessellation-control">9.12. Tessellation Control Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-tessellation-evaluation">9.13. Tessellation Evaluation Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-geometry">9.14. Geometry Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-fragment">9.15. Fragment Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-compute">9.16. Compute Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-ray-generation">9.17. Ray Generation Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-intersection">9.18. Intersection Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-any-hit">9.19. Any-Hit Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-closest-hit">9.20. Closest Hit Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-miss">9.21. Miss Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-callable">9.22. Callable Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-interpolation-decorations">9.23. Interpolation decorations</a></li>
<li class="current"><a href="chap9.html#shaders-staticuse">9.24. Static Use</a></li>
<li class="current"><a href="chap9.html#shaders-scope">9.25. Scope</a></li>
<li class="current"><a href="chap9.html#shaders-group-operations">9.26. Group Operations</a></li>
<li class="current"><a href="chap9.html#shaders-quad-operations">9.27. Quad Group Operations</a></li>
<li class="current"><a href="chap9.html#shaders-derivative-operations">9.28. Derivative Operations</a></li>
<li class="current"><a href="chap9.html#shaders-helper-invocations">9.29. Helper Invocations</a></li>
<li class="current"><a href="chap9.html#_cooperative_matrices">9.30. Cooperative Matrices</a></li>
<li class="current"><a href="chap9.html#shaders-validation-cache">9.31. Validation Cache</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap10.html#pipelines-compute">10.1. Compute Pipelines</a></li>
<li><a href="chap10.html#pipelines-graphics">10.2. Graphics Pipelines</a></li>
<li><a href="chap10.html#pipelines-ray-tracing">10.3. Ray Tracing Pipelines</a></li>
<li><a href="chap10.html#pipelines-destruction">10.4. Pipeline Destruction</a></li>
<li><a href="chap10.html#pipelines-multiple">10.5. Multiple Pipeline Creation</a></li>
<li><a href="chap10.html#pipelines-pipeline-derivatives">10.6. Pipeline Derivatives</a></li>
<li><a href="chap10.html#pipelines-cache">10.7. Pipeline Cache</a></li>
<li><a href="chap10.html#pipelines-specialization-constants">10.8. Specialization Constants</a></li>
<li><a href="chap10.html#pipelines-library">10.9. Pipeline Libraries</a></li>
<li><a href="chap10.html#pipelines-binding">10.10. Pipeline Binding</a></li>
<li><a href="chap10.html#pipelines-dynamic-state">10.11. Dynamic State</a></li>
<li><a href="chap10.html#pipelines-shader-information">10.12. Pipeline Properties and Shader Information</a></li>
<li><a href="chap10.html#pipelines-compiler-control">10.13. Pipeline Compiler Control</a></li>
<li><a href="chap10.html#pipelines-creation-feedback">10.14. Pipeline Creation Feedback</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#memory-host">11.1. Host Memory</a></li>
<li><a href="chap11.html#memory-device">11.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap12.html#resources-buffers">12.1. Buffers</a></li>
<li><a href="chap12.html#resources-buffer-views">12.2. Buffer Views</a></li>
<li><a href="chap12.html#resources-images">12.3. Images</a></li>
<li><a href="chap12.html#resources-image-layouts">12.4. Image Layouts</a></li>
<li><a href="chap12.html#resources-image-views">12.5. Image Views</a></li>
<li><a href="chap12.html#resources-acceleration-structures">12.6. Acceleration Structures</a></li>
<li><a href="chap12.html#resources-micromaps">12.7. Micromaps</a></li>
<li><a href="chap12.html#resources-association">12.8. Resource Memory Association</a></li>
<li><a href="chap12.html#resources-sharing">12.9. Resource Sharing Mode</a></li>
<li><a href="chap12.html#resources-memory-aliasing">12.10. Memory Aliasing</a></li>
<li><a href="chap12.html#resources-buffer-collection-fuchsia">12.11. Buffer Collections</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Samplers</a>
<ul class="sectlevel2">
<li><a href="chap13.html#samplers-YCbCr-conversion">13.1. Sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></li>
</ul>
</li>
<li><a href="chap14.html">14. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap14.html#descriptorsets-types">14.1. Descriptor Types</a></li>
<li><a href="chap14.html#descriptorsets-sets">14.2. Descriptor Sets</a></li>
<li><a href="chap14.html#descriptorsets-physical-storage-buffer">14.3. Physical Storage Buffer Access</a></li>
<li><a href="chap14.html#descriptorbuffers">14.4. Descriptor Buffers</a></li>
</ul>
</li>
<li><a href="chap15.html">15. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap15.html#interfaces-iointerfaces">15.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap15.html#interfaces-vertexinput">15.2. Vertex Input Interface</a></li>
<li><a href="chap15.html#interfaces-fragmentoutput">15.3. Fragment Output Interface</a></li>
<li><a href="chap15.html#interfaces-legacy-dithering">15.4. Legacy Dithering</a></li>
<li><a href="chap15.html#interfaces-fragmenttileimage">15.5. Fragment Tile Image Interface</a></li>
<li><a href="chap15.html#interfaces-inputattachment">15.6. Fragment Input Attachment Interface</a></li>
<li><a href="chap15.html#interfaces-raypipeline">15.7. Ray Tracing Pipeline Interface</a></li>
<li><a href="chap15.html#interfaces-resources">15.8. Shader Resource Interface</a></li>
<li><a href="chap15.html#interfaces-builtin-variables">15.9. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_image_operations_overview">16.1. Image Operations Overview</a></li>
<li><a href="chap16.html#_conversion_formulas">16.2. Conversion Formulas</a></li>
<li><a href="chap16.html#_texel_input_operations">16.3. Texel Input Operations</a></li>
<li><a href="chap16.html#_texel_output_operations">16.4. Texel Output Operations</a></li>
<li><a href="chap16.html#textures-normalized-operations">16.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#_unnormalized_texel_coordinate_operations">16.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-integer-coordinate-operations">16.7. Integer Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-sample-operations">16.8. Image Sample Operations</a></li>
<li><a href="chap16.html#textures-footprint">16.9. Texel Footprint Evaluation</a></li>
<li><a href="chap16.html#textures-weightimage">16.10. Weight Image Sampling</a></li>
<li><a href="chap16.html#textures-blockmatch">16.11. Block Matching</a></li>
<li><a href="chap16.html#textures-boxfilter">16.12. Box Filter Sampling</a></li>
<li><a href="chap16.html#textures-instructions">16.13. Image Operation Steps</a></li>
<li><a href="chap16.html#textures-queries">16.14. Image Query Instructions</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Fragment Density Map Operations</a>
<ul class="sectlevel2">
<li><a href="chap17.html#_fragment_density_map_operations_overview">17.1. Fragment Density Map Operations Overview</a></li>
<li><a href="chap17.html#fragmentdensitymap-fetch-density-value">17.2. Fetch Density Value</a></li>
<li><a href="chap17.html#fragmentdensitymap-conversion-to-fragment-area">17.3. Fragment Area Conversion</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Queries</a>
<ul class="sectlevel2">
<li><a href="chap18.html#queries-pools">18.1. Query Pools</a></li>
<li><a href="chap18.html#queries-operation">18.2. Query Operation</a></li>
<li><a href="chap18.html#queries-occlusion">18.3. Occlusion Queries</a></li>
<li><a href="chap18.html#queries-pipestats">18.4. Pipeline Statistics Queries</a></li>
<li><a href="chap18.html#queries-timestamps">18.5. Timestamp Queries</a></li>
<li><a href="chap18.html#queries-performance">18.6. Performance Queries</a></li>
<li><a href="chap18.html#queries-transform-feedback">18.7. Transform Feedback Queries</a></li>
<li><a href="chap18.html#queries-primitives-generated">18.8. Primitives Generated Queries</a></li>
<li><a href="chap18.html#queries-mesh-shader">18.9. Mesh Shader Queries</a></li>
<li><a href="chap18.html#queries-performance-intel">18.10. Intel performance queries</a></li>
<li><a href="chap18.html#queries-result-status-only">18.11. Result Status Queries</a></li>
<li><a href="chap18.html#queries-video-encode-feedback">18.12. Video Encode Feedback Queries</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#clears-outside">19.1. Clearing Images Outside A Render Pass Instance</a></li>
<li><a href="chap19.html#clears-inside">19.2. Clearing Images Inside A Render Pass Instance</a></li>
<li><a href="chap19.html#clears-values">19.3. Clear Values</a></li>
<li><a href="chap19.html#clears-filling-buffers">19.4. Filling Buffers</a></li>
<li><a href="chap19.html#clears-updating-buffers">19.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap20.html">20. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap20.html#copies-buffers">20.1. Copying Data Between Buffers</a></li>
<li><a href="chap20.html#copies-images">20.2. Copying Data Between Images</a></li>
<li><a href="chap20.html#copies-buffers-images">20.3. Copying Data Between Buffers and Images</a></li>
<li><a href="chap20.html#indirect-copies">20.4. Indirect Copies</a></li>
<li><a href="chap20.html#copies-imagescaling">20.5. Image Copies with Scaling</a></li>
<li><a href="chap20.html#copies-resolve">20.6. Resolving Multisample Images</a></li>
<li><a href="chap20.html#copies-buffer-markers">20.7. Buffer Markers</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap21.html#drawing-primitive-topologies">21.1. Primitive Topologies</a></li>
<li><a href="chap21.html#drawing-primitive-order">21.2. Primitive Order</a></li>
<li><a href="chap21.html#drawing-primitive-shading">21.3. Programmable Primitive Shading</a></li>
<li><a href="chap21.html#drawing-conditional-rendering">21.4. Conditional Rendering</a></li>
<li><a href="chap21.html#drawing-mesh-shading">21.5. Programmable Mesh Shading</a></li>
<li><a href="chap21.html#drawing-cluster-culling-shading">21.6. Programmable Cluster Culling Shading</a></li>
</ul>
</li>
<li><a href="chap22.html">22. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap22.html#fxvertex-attrib">22.1. Vertex Attributes</a></li>
<li><a href="chap22.html#fxvertex-input">22.2. Vertex Input Description</a></li>
<li><a href="chap22.html#fxvertex-attribute_divisor">22.3. Vertex Attribute Divisor in Instanced Rendering</a></li>
<li><a href="chap22.html#fxvertex-input-address-calculation">22.4. Vertex Input Address Calculation</a></li>
</ul>
</li>
<li><a href="chap23.html">23. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap23.html#_tessellator">23.1. Tessellator</a></li>
<li><a href="chap23.html#_tessellator_patch_discard">23.2. Tessellator Patch Discard</a></li>
<li><a href="chap23.html#tessellation-tessellator-spacing">23.3. Tessellator Spacing</a></li>
<li><a href="chap23.html#tessellation-primitive-order">23.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap23.html#tessellation-vertex-winding-order">23.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap23.html#tessellation-triangle-tessellation">23.6. Triangle Tessellation</a></li>
<li><a href="chap23.html#tessellation-quad-tessellation">23.7. Quad Tessellation</a></li>
<li><a href="chap23.html#tessellation-isoline-tessellation">23.8. Isoline Tessellation</a></li>
<li><a href="chap23.html#tessellation-point-mode">23.9. Tessellation Point Mode</a></li>
<li><a href="chap23.html#_tessellation_pipeline_state">23.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap24.html">24. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap24.html#geometry-input">24.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap24.html#geometry-output">24.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap24.html#geometry-invocations">24.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap24.html#geometry-ordering">24.4. Geometry Shader Primitive Ordering</a></li>
<li><a href="chap24.html#geometry-passthrough">24.5. Geometry Shader Passthrough</a></li>
</ul>
</li>
<li><a href="chap25.html">25. Mesh Shading</a>
<ul class="sectlevel2">
<li><a href="chap25.html#mesh-task-input">25.1. Task Shader Input</a></li>
<li><a href="chap25.html#mesh-task-output">25.2. Task Shader Output</a></li>
<li><a href="chap25.html#mesh-generation">25.3. Mesh Generation</a></li>
<li><a href="chap25.html#mesh-input">25.4. Mesh Shader Input</a></li>
<li><a href="chap25.html#mesh-output">25.5. Mesh Shader Output</a></li>
<li><a href="chap25.html#mesh-output-perview">25.6. Mesh Shader Per-View Outputs</a></li>
<li><a href="chap25.html#mesh-ordering">25.7. Mesh Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap26.html">26. Cluster Culling Shading</a>
<ul class="sectlevel2">
<li><a href="chap26.html#cluster-culling-input">26.1. Cluster Culling Shader Input</a></li>
<li><a href="chap26.html#cluster-culling-output">26.2. Cluster Culling Shader Output</a></li>
<li><a href="chap26.html#cluster-culling-cluster-ordering">26.3. Cluster Culling Shader Cluster Ordering</a></li>
<li><a href="chap26.html#cluster-culling-primitive-ordering">26.4. Cluster Culling Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap27.html">27. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap27.html#vertexpostproc-transform-feedback">27.1. Transform Feedback</a></li>
<li><a href="chap27.html#vertexpostproc-viewport-swizzle">27.2. Viewport Swizzle</a></li>
<li><a href="chap27.html#vertexpostproc-flatshading">27.3. Flat Shading</a></li>
<li><a href="chap27.html#vertexpostproc-clipping">27.4. Primitive Clipping</a></li>
<li><a href="chap27.html#vertexpostproc-clipping-shader-outputs">27.5. Clipping Shader Outputs</a></li>
<li><a href="chap27.html#vertexpostproc-viewportwscaling">27.6. Controlling Viewport W Scaling</a></li>
<li><a href="chap27.html#vertexpostproc-coord-transform">27.7. Coordinate Transformations</a></li>
<li><a href="chap27.html#vertexpostproc-renderpass-transform">27.8. Render Pass Transform</a></li>
<li><a href="chap27.html#vertexpostproc-viewport">27.9. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap28.html">28. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap28.html#primsrast-discard">28.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap28.html#primsrast-stream">28.2. Controlling the Vertex Stream Used for Rasterization</a></li>
<li><a href="chap28.html#primsrast-order">28.3. Rasterization Order</a></li>
<li><a href="chap28.html#primsrast-multisampling">28.4. Multisampling</a></li>
<li><a href="chap28.html#primsrast-samplelocations">28.5. Custom Sample Locations</a></li>
<li><a href="chap28.html#primsrast-fragment-shading-rate">28.6. Fragment Shading Rates</a></li>
<li><a href="chap28.html#primsrast-shading-rate-image">28.7. Shading Rate Image</a></li>
<li><a href="chap28.html#primsrast-sampleshading">28.8. Sample Shading</a></li>
<li><a href="chap28.html#primsrast-barycentric">28.9. Barycentric Interpolation</a></li>
<li><a href="chap28.html#primsrast-points">28.10. Points</a></li>
<li><a href="chap28.html#primsrast-lines">28.11. Line Segments</a></li>
<li><a href="chap28.html#primsrast-polygons">28.12. Polygons</a></li>
</ul>
</li>
<li><a href="chap29.html">29. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap29.html#fragops-discard-rectangles">29.1. Discard Rectangles Test</a></li>
<li><a href="chap29.html#fragops-scissor">29.2. Scissor Test</a></li>
<li><a href="chap29.html#fragops-exclusive-scissor">29.3. Exclusive Scissor Test</a></li>
<li><a href="chap29.html#fragops-samplemask">29.4. Sample Mask Test</a></li>
<li><a href="chap29.html#fragops-shader">29.5. Fragment Shading</a></li>
<li><a href="chap29.html#fragops-covg">29.6. Multisample Coverage</a></li>
<li><a href="chap29.html#fragops-ds-state">29.7. Depth and Stencil Operations</a></li>
<li><a href="chap29.html#fragops-dbt">29.8. Depth Bounds Test</a></li>
<li><a href="chap29.html#fragops-stencil">29.9. Stencil Test</a></li>
<li><a href="chap29.html#fragops-depth">29.10. Depth Test</a></li>
<li><a href="chap29.html#fragops-rep-frag-test">29.11. Representative Fragment Test</a></li>
<li><a href="chap29.html#fragops-samplecount">29.12. Sample Counting</a></li>
<li><a href="chap29.html#fragops-coverage-to-color">29.13. Fragment Coverage To Color</a></li>
<li><a href="chap29.html#fragops-coverage-reduction">29.14. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap30.html">30. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap30.html#framebuffer-blending">30.1. Blending</a></li>
<li><a href="chap30.html#framebuffer-logicop">30.2. Logical Operations</a></li>
<li><a href="chap30.html#framebuffer-color-write-mask">30.3. Color Write Mask</a></li>
<li><a href="chap30.html#framebuffer-color-write-enable">30.4. Color Write Enable</a></li>
<li><a href="chap30.html#framebuffer-queries">30.5. Framebuffer Query Instructions</a></li>
</ul>
</li>
<li><a href="chap31.html">31. Dispatching Commands</a></li>
<li><a href="chap32.html">32. Device-Generated Commands</a>
<ul class="sectlevel2">
<li><a href="chap32.html#indirectmdslayout">32.1. Indirect Commands Layout</a></li>
<li><a href="chap32.html#_indirect_commands_generation_and_execution">32.2. Indirect Commands Generation And Execution</a></li>
</ul>
</li>
<li><a href="chap33.html">33. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap33.html#sparsememory-sparseresourcefeatures">33.1. Sparse Resource Features</a></li>
<li><a href="chap33.html#sparsememory-fully-resident">33.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap33.html#sparsememory-partially-resident-buffers">33.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap33.html#sparsememory-partially-resident-images">33.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap33.html#sparsememory-sparse-memory-aliasing">33.5. Sparse Memory Aliasing</a></li>
<li><a href="chap33.html#_sparse_resource_implementation_guidelines_informative">33.6. Sparse Resource Implementation Guidelines (Informative)</a></li>
<li><a href="chap33.html#sparsememory-resourceapi">33.7. Sparse Resource API</a></li>
</ul>
</li>
<li><a href="chap34.html">34. Window System Integration (WSI)</a>
<ul class="sectlevel2">
<li><a href="chap34.html#_wsi_platform">34.1. WSI Platform</a></li>
<li><a href="chap34.html#_wsi_surface">34.2. WSI Surface</a></li>
<li><a href="chap34.html#display">34.3. Presenting Directly to Display Devices</a></li>
<li><a href="chap34.html#_querying_for_wsi_support">34.4. Querying for WSI Support</a></li>
<li><a href="chap34.html#_surface_queries">34.5. Surface Queries</a></li>
<li><a href="chap34.html#_full_screen_exclusive_control">34.6. Full Screen Exclusive Control</a></li>
<li><a href="chap34.html#_device_group_queries">34.7. Device Group Queries</a></li>
<li><a href="chap34.html#_display_timing_queries">34.8. Display Timing Queries</a></li>
<li><a href="chap34.html#present-wait">34.9. Present Wait</a></li>
<li><a href="chap34.html#_wsi_swapchain">34.10. WSI Swapchain</a></li>
<li><a href="chap34.html#_hdr_metadata">34.11. Hdr Metadata</a></li>
<li><a href="chap34.html#present-barrier">34.12. Present Barrier</a></li>
</ul>
</li>
<li><a href="chap35.html">35. Deferred Host Operations</a>
<ul class="sectlevel2">
<li><a href="chap35.html#deferred-host-operations-requesting">35.1. Requesting Deferral</a></li>
<li><a href="chap35.html#_deferred_host_operations_api">35.2. Deferred Host Operations API</a></li>
</ul>
</li>
<li><a href="chap36.html">36. Private Data</a></li>
<li><a href="chap37.html">37. Acceleration Structures</a>
<ul class="sectlevel2">
<li><a href="chap37.html#acceleration-structure-def">37.1. Acceleration Structures</a></li>
<li><a href="chap37.html#host-acceleration-structure">37.2. Host Acceleration Structure Operations</a></li>
</ul>
</li>
<li><a href="chap38.html">38. Micromap</a>
<ul class="sectlevel2">
<li><a href="chap38.html#micromap-def">38.1. Micromaps</a></li>
<li><a href="chap38.html#host-micromap">38.2. Host Micromap Operations</a></li>
</ul>
</li>
<li><a href="chap39.html">39. Ray Traversal</a>
<ul class="sectlevel2">
<li><a href="chap39.html#ray-intersection-candidate-determination">39.1. Ray Intersection Candidate Determination</a></li>
<li><a href="chap39.html#ray-intersection-culling">39.2. Ray Intersection Culling</a></li>
<li><a href="chap39.html#ray-intersection-confirmation">39.3. Ray Intersection Confirmation</a></li>
<li><a href="chap39.html#ray-closest-hit-determination">39.4. Ray Closest Hit Determination</a></li>
<li><a href="chap39.html#ray-result-determination">39.5. Ray Result Determination</a></li>
</ul>
</li>
<li><a href="chap40.html">40. Ray Tracing</a>
<ul class="sectlevel2">
<li><a href="chap40.html#ray-tracing-shader-call">40.1. Shader Call Instructions</a></li>
<li><a href="chap40.html#ray-tracing-commands">40.2. Ray Tracing Commands</a></li>
<li><a href="chap40.html#shader-binding-table">40.3. Shader Binding Table</a></li>
<li><a href="chap40.html#ray-tracing-pipeline-stack">40.4. Ray Tracing Pipeline Stack</a></li>
<li><a href="chap40.html#ray-tracing-capture-replay">40.5. Ray Tracing Capture Replay</a></li>
</ul>
</li>
<li><a href="chap41.html">41. Memory Decompression</a></li>
<li><a href="chap42.html">42. Video Coding</a>
<ul class="sectlevel2">
<li><a href="chap42.html#video-picture-resources">42.1. Video Picture Resources</a></li>
<li><a href="chap42.html#dpb">42.2. Decoded Picture Buffer</a></li>
<li><a href="chap42.html#video-profiles">42.3. Video Profiles</a></li>
<li><a href="chap42.html#video-capabilities">42.4. Video Capabilities</a></li>
<li><a href="chap42.html#video-session">42.5. Video Sessions</a></li>
<li><a href="chap42.html#video-profile-compatibility">42.6. Video Profile Compatibility</a></li>
<li><a href="chap42.html#video-session-parameters">42.7. Video Session Parameters</a></li>
<li><a href="chap42.html#video-coding-scope">42.8. Video Coding Scope</a></li>
<li><a href="chap42.html#video-coding-control">42.9. Video Coding Control</a></li>
<li><a href="chap42.html#video-decode-operations">42.10. Video Decode Operations</a></li>
<li><a href="chap42.html#decode-h264">42.11. H.264 Decode Operations</a></li>
<li><a href="chap42.html#decode-h265">42.12. H.265 Decode Operations</a></li>
<li><a href="chap42.html#video-encode-operations">42.13. Video Encode Operations</a></li>
<li><a href="chap42.html#encode-h264">42.14. Encode H.264</a></li>
<li><a href="chap42.html#encode-h265">42.15. Encode H.265</a></li>
</ul>
</li>
<li><a href="chap43.html">43. Optical Flow</a>
<ul class="sectlevel2">
<li><a href="chap43.html#_optical_flow_queues">43.1. Optical Flow Queues</a></li>
<li><a href="chap43.html#opticalflow-formats">43.2. Optical Flow Image Formats</a></li>
<li><a href="chap43.html#opticalflow-session">43.3. Optical Flow Session</a></li>
</ul>
</li>
<li><a href="chap44.html">44. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap44.html#extendingvulkan-instanceanddevicefunctionality">44.1. Instance and Device Functionality</a></li>
<li><a href="chap44.html#extendingvulkan-coreversions">44.2. Core Versions</a></li>
<li><a href="chap44.html#extendingvulkan-layers">44.3. Layers</a></li>
<li><a href="chap44.html#extendingvulkan-extensions">44.4. Extensions</a></li>
<li><a href="chap44.html#extendingvulkan-extensions-extensiondependencies">44.5. Extension Dependencies</a></li>
<li><a href="chap44.html#_compatibility_guarantees_informative">44.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap45.html">45. Features</a>
<ul class="sectlevel2">
<li><a href="chap45.html#features-requirements">45.1. Feature Requirements</a></li>
<li><a href="chap45.html#profile-features">45.2. Profile Features</a></li>
</ul>
</li>
<li><a href="chap46.html">46. Limits</a>
<ul class="sectlevel2">
<li><a href="chap46.html#limits-minmax">46.1. Limit Requirements</a></li>
<li><a href="chap46.html#limits-multisample">46.2. Additional Multisampling Capabilities</a></li>
<li><a href="chap46.html#profile-limits">46.3. Profile Limits</a></li>
</ul>
</li>
<li><a href="chap47.html">47. Formats</a>
<ul class="sectlevel2">
<li><a href="chap47.html#formats-definition">47.1. Format Definition</a></li>
<li><a href="chap47.html#formats-properties">47.2. Format Properties</a></li>
<li><a href="chap47.html#features-required-format-support">47.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="chap48.html">48. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="chap48.html#capabilities-image">48.1. Additional Image Capabilities</a></li>
<li><a href="chap48.html#capabilities-buffer">48.2. Additional Buffer Capabilities</a></li>
<li><a href="chap48.html#capabilities-semaphore">48.3. Optional Semaphore Capabilities</a></li>
<li><a href="chap48.html#capabilities-fence">48.4. Optional Fence Capabilities</a></li>
<li><a href="chap48.html#features-timestamp-calibration">48.5. Timestamp Calibration Capabilities</a></li>
</ul>
</li>
<li><a href="chap49.html">49. Debugging</a>
<ul class="sectlevel2">
<li><a href="chap49.html#debugging-debug-utils">49.1. Debug Utilities</a></li>
<li><a href="chap49.html#debugging-debug-markers">49.2. Debug Markers</a></li>
<li><a href="chap49.html#debugging-debug-report-callbacks">49.3. Debug Report Callbacks</a></li>
<li><a href="chap49.html#_device_loss_debugging">49.4. Device Loss Debugging</a></li>
<li><a href="chap49.html#debugging-tooling-info">49.5. Active Tooling Information</a></li>
</ul>
</li>
<li><a href="chap50.html">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap50.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap50.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap50.html#spirvenv-module-validation">Validation Rules within a Module</a></li>
<li><a href="chap50.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap50.html#spirvenv-image-signedness">Signedness of SPIR-V Image Accesses</a></li>
<li><a href="chap50.html#spirvenv-format-type-matching">Image Format and Type Matching</a></li>
<li><a href="chap50.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats And Vulkan Formats</a></li>
<li><a href="chap50.html#spirenv-ray-query-precision-operation">Ray Query Precision and Operation</a></li>
</ul>
</li>
<li><a href="chap51.html">Appendix B: Memory Model</a>
<ul class="sectlevel2">
<li><a href="chap51.html#memory-model-agent">Agent</a></li>
<li><a href="chap51.html#memory-model-memory-location">Memory Location</a></li>
<li><a href="chap51.html#memory-model-allocation">Allocation</a></li>
<li><a href="chap51.html#memory-model-memory-operation">Memory Operation</a></li>
<li><a href="chap51.html#memory-model-references">Reference</a></li>
<li><a href="chap51.html#memory-model-program-order">Program-Order</a></li>
<li><a href="chap51.html#shader-call-related">Shader Call Related</a></li>
<li><a href="chap51.html#shader-call-order">Shader Call Order</a></li>
<li><a href="chap51.html#memory-model-scope">Scope</a></li>
<li><a href="chap51.html#memory-model-atomic-operation">Atomic Operation</a></li>
<li><a href="chap51.html#memory-model-scoped-modification-order">Scoped Modification Order</a></li>
<li><a href="chap51.html#memory-model-memory-semantics">Memory Semantics</a></li>
<li><a href="chap51.html#memory-model-release-sequence">Release Sequence</a></li>
<li><a href="chap51.html#memory-model-synchronizes-with">Synchronizes-With</a></li>
<li><a href="chap51.html#memory-model-system-synchronizes-with">System-Synchronizes-With</a></li>
<li><a href="chap51.html#memory-model-non-private">Private vs. Non-Private</a></li>
<li><a href="chap51.html#memory-model-inter-thread-happens-before">Inter-Thread-Happens-Before</a></li>
<li><a href="chap51.html#memory-model-happens-before">Happens-Before</a></li>
<li><a href="chap51.html#memory-model-availability-visibility">Availability and Visibility</a></li>
<li><a href="chap51.html#memory-model-vulkan-availability-visibility">Availability, Visibility, and Domain Operations</a></li>
<li><a href="chap51.html#memory-model-availability-visibility-semantics">Availability and Visibility Semantics</a></li>
<li><a href="chap51.html#memory-model-instruction-av-vis">Per-Instruction Availability and Visibility Semantics</a></li>
<li><a href="chap51.html#memory-model-location-ordered">Location-Ordered</a></li>
<li><a href="chap51.html#memory-model-access-data-race">Data Race</a></li>
<li><a href="chap51.html#memory-model-visible-to">Visible-To</a></li>
<li><a href="chap51.html#memory-model-acyclicity">Acyclicity</a></li>
<li><a href="chap51.html#memory-model-shader-io">Shader I/O</a></li>
<li><a href="chap51.html#memory-model-deallocation">Deallocation</a></li>
<li><a href="chap51.html#memory-model-informative-descriptions">Descriptions (Informative)</a></li>
<li><a href="chap51.html#memory-model-tessellation-output-ordering">Tessellation Output Ordering</a></li>
<li><a href="chap51.html#memory-model-cooperative-matrix">Cooperative Matrix Memory Access</a></li>
</ul>
</li>
<li><a href="chap52.html">Appendix C: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap52.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap52.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap52.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
<li><a href="chap52.html#appendix-compressedtex-pvrtc">PVRTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap53.html">Appendix D: Core Revisions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap53.html#versions-1.3">Version 1.3</a></li>
<li><a href="chap53.html#versions-1.2">Version 1.2</a></li>
<li><a href="chap53.html#versions-1.1">Version 1.1</a></li>
<li><a href="chap53.html#versions-1.0">Version 1.0</a></li>
</ul>
</li>
<li><a href="chap54.html">Appendix E: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap54.html#_extension_dependencies">Extension Dependencies</a></li>
<li><a href="chap54.html#extension-appendices-list">List of Current Extensions</a></li>
<li><a href="chap54.html#provisional-extension-appendices-list">List of Provisional Extensions</a></li>
<li><a href="chap54.html#deprecated-extension-appendices-list">List of Deprecated Extensions</a></li>
</ul>
</li>
<li><a href="chap55.html">Appendix F: Vulkan Roadmap Milestones</a>
<ul class="sectlevel2">
<li><a href="chap55.html#roadmap-2022">Roadmap 2022</a></li>
</ul>
</li>
<li><a href="chap56.html">Appendix G: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap56.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap56.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="chap56.html#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
<li><a href="chap56.html#boilerplate-video-std-headers">Video Std Headers</a></li>
</ul>
</li>
<li><a href="chap57.html">Appendix H: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap57.html#_repeatability">Repeatability</a></li>
<li><a href="chap57.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap57.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap57.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap58.html">Appendix I: Lexicon</a>
<ul class="sectlevel2">
<li><a href="chap58.html#glossary">Glossary</a></li>
<li><a href="chap58.html#lexicon-common-abbreviations">Common Abbreviations</a></li>
<li><a href="chap58.html#lexicon-video-abbreviations">Video-Specific Abbreviations</a></li>
<li><a href="chap58.html#lexicon-prefixes">Prefixes</a></li>
</ul>
</li>
<li><a href="chap59.html">Appendix J: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap59.html#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="chap59.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="loading_msg" class="hidden" hidden=""><p>Loading… please wait.</p></div>
<!--ChunkedSearchboxMarker-->
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
<div id="content" class="loadable"><div class="sect1">
<h2 id="shaders"><a class="anchor" href="chap9.html"></a>9. Shaders</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A shader specifies programmable operations that execute for each vertex,
control point, tessellated vertex, primitive, fragment, or workgroup in the
corresponding stage(s) of the graphics and compute pipelines.</p>
</div>
<div class="paragraph">
<p>Graphics pipelines include vertex shader execution as a result of
<a href="chap21.html">primitive assembly</a>, followed, if enabled, by tessellation
control and evaluation shaders operating on <a href="chap21.html#drawing-patch-lists">patches</a>,
geometry shaders, if enabled, operating on primitives, and fragment shaders,
if present, operating on fragments generated by <a href="chap28.html">Rasterization</a>.
In this specification, vertex, tessellation control, tessellation evaluation
and geometry shaders are collectively referred to as
<a href="chap10.html#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a>s and occur in the logical pipeline before rasterization.
The fragment shader occurs logically after rasterization.</p>
</div>
<div class="paragraph">
<p>Only the compute shader stage is included in a compute pipeline.
Compute shaders operate on compute invocations in a workgroup.</p>
</div>
<div class="paragraph">
<p>Shaders <strong class="purple">can</strong> read from input variables, and read from and write to output
variables.
Input and output variables <strong class="purple">can</strong> be used to transfer data between shader
stages, or to allow the shader to interact with values that exist in the
execution environment.
Similarly, the execution environment provides constants describing
capabilities.</p>
</div>
<div class="paragraph">
<p>Shader variables are associated with execution environment-provided inputs
and outputs using <em>built-in</em> decorations in the shader.
The available decorations for each stage are documented in the following
subsections.</p>
</div>
<div class="sect2">
<h3 id="shaders-objects"><a class="anchor" href="chap9.html#shaders-objects"></a>9.1. Shader Objects</h3>
<div class="paragraph">
<p>Shaders <strong class="purple">may</strong> be compiled and linked into pipeline objects as described in
<a href="chap10.html">Pipelines</a> chapter, or if the <a href="chap45.html#features-shaderObject"><code>shaderObject</code></a> feature is enabled they <strong class="purple">may</strong> be compiled into
individual per-stage <em>shader objects</em> which <strong class="purple">can</strong> be bound on a command
buffer independently from one another.
Unlike pipelines, shader objects are not intrinsically tied to any specific
set of state.
Instead, state is specified dynamically in the command buffer.</p>
</div>
<div class="paragraph">
<p>Each shader object represents a single compiled shader stage, which <strong class="purple">may</strong>
<strong class="purple">optionally</strong> be linked with one or more other stages.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Shader objects are represented by <code>VkShaderEXT</code> handles:</p>
</div>
<div id="VkShaderEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_shader_object</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkShaderEXT</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="shaders-objects-creation"><a class="anchor" href="chap9.html#shaders-objects-creation"></a>9.1.1. Shader Object Creation</h4>
<div class="paragraph">
<p>Shader objects <strong class="purple">may</strong> be created from shader code provided as SPIR-V, or in an
opaque, implementation-defined binary format specific to the physical
device.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create one or more shader objects, call:</p>
</div>
<div id="vkCreateShadersEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_shader_object</span>
<span class="n">VkResult</span> <span class="nf">vkCreateShadersEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">createInfoCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkShaderCreateInfoEXT</span><span class="o">*</span>                <span class="n">pCreateInfos</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkShaderEXT</span><span class="o">*</span>                                <span class="n">pShaders</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the shader objects.</p>
</li>
<li>
<p><code>createInfoCount</code> is the length of the <code>pCreateInfos</code> and
<code>pShaders</code> arrays.</p>
</li>
<li>
<p><code>pCreateInfos</code> is a pointer to an array of
<a href="chap9.html#VkShaderCreateInfoEXT">VkShaderCreateInfoEXT</a> structures.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pShaders</code> is a pointer to an array of <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> handles in
which the resulting shader objects are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When this function returns, whether or not it succeeds, it is guaranteed
that every element of <code>pShaders</code> will have been overwritten by either
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> or a valid <code>VkShaderEXT</code> handle.</p>
</div>
<div class="paragraph">
<p>This means that whenever shader creation fails, the application <strong class="purple">can</strong>
determine which shader the returned error pertains to by locating the first
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> element in <code>pShaders</code>.
It also means that an application <strong class="purple">can</strong> reliably clean up from a failed call
by iterating over the <code>pShaders</code> array and destroying every element that
is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateShadersEXT-None-08400" href="chap9.html#VUID-vkCreateShadersEXT-None-08400"></a> <span class="vuid">VUID-vkCreateShadersEXT-None-08400</span><br>

The <a href="chap45.html#features-shaderObject"><code>shaderObject</code></a> feature <strong class="purple">must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-08401" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-08401"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-08401</span><br>

If <code>createInfoCount</code> is 1, there <strong class="purple">must</strong> be no element of
<code>pCreateInfos</code> whose <code>flags</code> member includes
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-08402" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-08402"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-08402</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> includes
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code>, the <code>flags</code> member of all
other elements of <code>pCreateInfos</code> whose <code>stage</code> is
<code>VK_SHADER_STAGE_VERTEX_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>,
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, or
<code>VK_SHADER_STAGE_FRAGMENT_BIT</code> <strong class="purple">must</strong> also include
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-08403" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-08403"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-08403</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> includes
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code>, the <code>flags</code> member of all
other elements of <code>pCreateInfos</code> whose <code>stage</code> is
<code>VK_SHADER_STAGE_TASK_BIT_EXT</code> or <code>VK_SHADER_STAGE_MESH_BIT_EXT</code>
<strong class="purple">must</strong> also include <code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-08404" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-08404"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-08404</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> whose
<code>stage</code> is <code>VK_SHADER_STAGE_TASK_BIT_EXT</code> or
<code>VK_SHADER_STAGE_MESH_BIT_EXT</code> includes
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code>, there <strong class="purple">must</strong> be no member of
<code>pCreateInfos</code> whose <code>stage</code> is <code>VK_SHADER_STAGE_VERTEX_BIT</code>
and whose <code>flags</code> member includes
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-08405" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-08405"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-08405</span><br>

If there is any element of <code>pCreateInfos</code> whose <code>stage</code> is
<code>VK_SHADER_STAGE_MESH_BIT_EXT</code> and whose <code>flags</code> member includes
both <code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code> and
<code>VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT</code>, there <strong class="purple">must</strong> be no element
of <code>pCreateInfos</code> whose <code>stage</code> is
<code>VK_SHADER_STAGE_TASK_BIT_EXT</code> and whose <code>flags</code> member includes
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-08409" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-08409"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-08409</span><br>

For each element of <code>pCreateInfos</code> whose <code>flags</code> member includes
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code>, if there is any other element
of <code>pCreateInfos</code> whose <code>stage</code> is logically later than the
<code>stage</code> of the former and whose <code>flags</code> member also includes
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code>, the <code>nextStage</code> of the
former <strong class="purple">must</strong> be equal to the <code>stage</code> of the element with the
logically earliest <code>stage</code> following the <code>stage</code> of the former
whose <code>flags</code> member also includes
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-08410" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-08410"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-08410</span><br>

The <code>stage</code> member of each element of <code>pCreateInfos</code> whose
<code>flags</code> member includes <code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code>
<strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-08411" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-08411"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-08411</span><br>

The <code>codeType</code> member of all elements of <code>pCreateInfos</code> whose
<code>flags</code> member includes <code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code>
<strong class="purple">must</strong> be the same</p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-08867" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-08867"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-08867</span><br>

If <code>pCreateInfos</code> contains elements with both
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> and
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, both elements'
<code>flags</code> include <code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code>, both
elements' <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and the
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> stage’s <code>pCode</code>
contains an <code>OpExecutionMode</code> instruction specifying the type of
subdivision, it <strong class="purple">must</strong> match the subdivision type specified in the
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> stage</p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-08868" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-08868"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-08868</span><br>

If <code>pCreateInfos</code> contains elements with both
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> and
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, both elements'
<code>flags</code> include <code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code>, both
elements' <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and the
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> stage’s <code>pCode</code>
contains an <code>OpExecutionMode</code> instruction specifying the orientation
of triangles, it <strong class="purple">must</strong> match the triangle orientation specified in the
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> stage</p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-08869" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-08869"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-08869</span><br>

If <code>pCreateInfos</code> contains elements with both
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> and
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, both elements'
<code>flags</code> include <code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code>, both
elements' <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and the
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> stage’s <code>pCode</code>
contains an <code>OpExecutionMode</code> instruction specifying <code>PointMode</code>,
the <code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> stage <strong class="purple">must</strong> also
contain an <code>OpExecutionMode</code> instruction specifying <code>PointMode</code></p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-08870" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-08870"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-08870</span><br>

If <code>pCreateInfos</code> contains elements with both
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> and
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, both elements'
<code>flags</code> include <code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code>, both
elements' <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and the
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> stage’s <code>pCode</code>
contains an <code>OpExecutionMode</code> instruction specifying the spacing of
segments on the edges of tessellated primitives, it <strong class="purple">must</strong> match the
segment spacing specified in the
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> stage</p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-08871" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-08871"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-08871</span><br>

If <code>pCreateInfos</code> contains elements with both
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> and
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, both elements'
<code>flags</code> include <code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code>, both
elements' <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and the
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> stage’s <code>pCode</code>
contains an <code>OpExecutionMode</code> instruction specifying the output patch
size, it <strong class="purple">must</strong> match the output patch size specified in the
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> stage</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateShadersEXT-device-parameter" href="chap9.html#VUID-vkCreateShadersEXT-device-parameter"></a> <span class="vuid">VUID-vkCreateShadersEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pCreateInfos-parameter" href="chap9.html#VUID-vkCreateShadersEXT-pCreateInfos-parameter"></a> <span class="vuid">VUID-vkCreateShadersEXT-pCreateInfos-parameter</span><br>
 <code>pCreateInfos</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>createInfoCount</code> valid <a href="chap9.html#VkShaderCreateInfoEXT">VkShaderCreateInfoEXT</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pAllocator-parameter" href="chap9.html#VUID-vkCreateShadersEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateShadersEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-pShaders-parameter" href="chap9.html#VUID-vkCreateShadersEXT-pShaders-parameter"></a> <span class="vuid">VUID-vkCreateShadersEXT-pShaders-parameter</span><br>
 <code>pShaders</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>createInfoCount</code> <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCreateShadersEXT-createInfoCount-arraylength" href="chap9.html#VUID-vkCreateShadersEXT-createInfoCount-arraylength"></a> <span class="vuid">VUID-vkCreateShadersEXT-createInfoCount-arraylength</span><br>
 <code>createInfoCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
<li>
<p><code>VK_ERROR_INCOMPATIBLE_SHADER_BINARY_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkShaderCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkShaderCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_shader_object</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkShaderCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                 <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                     <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkShaderCreateFlagsEXT</span>          <span class="n">flags</span><span class="p">;</span>
    <span class="n">VkShaderStageFlagBits</span>           <span class="n">stage</span><span class="p">;</span>
    <span class="n">VkShaderStageFlags</span>              <span class="n">nextStage</span><span class="p">;</span>
    <span class="n">VkShaderCodeTypeEXT</span>             <span class="n">codeType</span><span class="p">;</span>
    <span class="kt">size_t</span>                          <span class="n">codeSize</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                     <span class="n">pCode</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span>                     <span class="n">pName</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                        <span class="n">setLayoutCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkDescriptorSetLayout</span><span class="o">*</span>    <span class="n">pSetLayouts</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                        <span class="n">pushConstantRangeCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkPushConstantRange</span><span class="o">*</span>      <span class="n">pPushConstantRanges</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkSpecializationInfo</span><span class="o">*</span>     <span class="n">pSpecializationInfo</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkShaderCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="chap9.html#VkShaderCreateFlagBitsEXT">VkShaderCreateFlagBitsEXT</a> describing
additional parameters of the shader.</p>
</li>
<li>
<p><code>stage</code> is a <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> value specifying a single
shader stage.</p>
</li>
<li>
<p><code>nextStage</code> is a bitmask of <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> specifying
zero or stages which <strong class="purple">may</strong> be used as a logically next bound stage when
drawing with the shader bound.</p>
</li>
<li>
<p><code>codeType</code> is a <a href="chap9.html#VkShaderCodeTypeEXT">VkShaderCodeTypeEXT</a> value specifying the type
of the shader code pointed to be <code>pCode</code>.</p>
</li>
<li>
<p><code>codeSize</code> is the size in bytes of the shader code pointed to be
<code>pCode</code>.</p>
</li>
<li>
<p><code>pCode</code> is a pointer to the shader code to use to create the shader.</p>
</li>
<li>
<p><code>pName</code> is a pointer to a null-terminated UTF-8 string specifying
the entry point name of the shader for this stage.</p>
</li>
<li>
<p><code>setLayoutCount</code> is the number of descriptor set layouts pointed to
by <code>pSetLayouts</code>.</p>
</li>
<li>
<p><code>pSetLayouts</code> is a pointer to an array of
<a href="chap14.html#VkDescriptorSetLayout">VkDescriptorSetLayout</a> objects used by the shader stage.</p>
</li>
<li>
<p><code>pushConstantRangeCount</code> is the number of push constant ranges
pointed to by <code>pPushConstantRanges</code>.</p>
</li>
<li>
<p><code>pPushConstantRanges</code> is a pointer to an array of
<a href="chap14.html#VkPushConstantRange">VkPushConstantRange</a> structures used by the shader stage.</p>
</li>
<li>
<p><code>pSpecializationInfo</code> is a pointer to a <a href="chap10.html#VkSpecializationInfo">VkSpecializationInfo</a>
structure, as described in
<a href="chap10.html#pipelines-specialization-constants">Specialization Constants</a>, or
<code>NULL</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-codeSize-08735" href="chap9.html#VUID-VkShaderCreateInfoEXT-codeSize-08735"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-codeSize-08735</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, <code>codeSize</code> <strong class="purple">must</strong> be a multiple of 4</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08736" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08736"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08736</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, <code>pCode</code> <strong class="purple">must</strong> point to valid SPIR-V code,
formatted and packed as described by the <a href="chap2.html#spirv-spec">Khronos SPIR-V
Specification</a></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08737" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08737"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08737</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, <code>pCode</code> <strong class="purple">must</strong> adhere to the validation rules
described by the <a href="chap50.html#spirvenv-module-validation">Validation Rules within a
Module</a> section of the <a href="chap50.html#spirvenv-capabilities">SPIR-V Environment</a>
appendix</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08738" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08738"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08738</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, <code>pCode</code> <strong class="purple">must</strong> declare the <code>Shader</code> capability
for SPIR-V code</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08739" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08739"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08739</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, <code>pCode</code> <strong class="purple">must</strong> not declare any capability that is
not supported by the API, as described by the
<a href="chap50.html#spirvenv-module-validation">Capabilities</a> section of the
<a href="chap50.html#spirvenv-capabilities">SPIR-V Environment</a> appendix</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08740" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08740"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08740</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and <code>pCode</code> declares any of the capabilities
listed in the <a href="chap50.html#spirvenv-capabilities-table">SPIR-V Environment</a>
appendix, one of the corresponding requirements <strong class="purple">must</strong> be satisfied</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08741" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08741"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08741</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, <code>pCode</code> <strong class="purple">must</strong> not declare any SPIR-V extension
that is not supported by the API, as described by the
<a href="chap50.html#spirvenv-extensions">Extension</a> section of the
<a href="chap50.html#spirvenv-capabilities">SPIR-V Environment</a> appendix</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08742" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08742"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08742</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and <code>pCode</code> declares any of the SPIR-V extensions
listed in the <a href="chap50.html#spirvenv-extensions-table">SPIR-V Environment</a>
appendix, one of the corresponding requirements <strong class="purple">must</strong> be satisfied</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-flags-08412" href="chap9.html#VUID-VkShaderCreateInfoEXT-flags-08412"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-flags-08412</span><br>

If <code>stage</code> is not <code>VK_SHADER_STAGE_TASK_BIT_EXT</code>,
<code>VK_SHADER_STAGE_MESH_BIT_EXT</code>, <code>VK_SHADER_STAGE_VERTEX_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>,
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, or
<code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, <code>flags</code> <strong class="purple">must</strong> not include
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-flags-08486" href="chap9.html#VUID-VkShaderCreateInfoEXT-flags-08486"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-flags-08486</span><br>

If <code>stage</code> is not <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, <code>flags</code>
<strong class="purple">must</strong> not include
<code>VK_SHADER_CREATE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-flags-08487" href="chap9.html#VUID-VkShaderCreateInfoEXT-flags-08487"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-flags-08487</span><br>

If the <a href="chap45.html#features-attachmentFragmentShadingRate"><code>attachmentFragmentShadingRate</code></a> feature is not enabled,
<code>flags</code> <strong class="purple">must</strong> not include
<code>VK_SHADER_CREATE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-flags-08488" href="chap9.html#VUID-VkShaderCreateInfoEXT-flags-08488"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-flags-08488</span><br>

If <code>stage</code> is not <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, <code>flags</code>
<strong class="purple">must</strong> not include
<code>VK_SHADER_CREATE_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-flags-08489" href="chap9.html#VUID-VkShaderCreateInfoEXT-flags-08489"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-flags-08489</span><br>

If the <a href="chap45.html#features-fragmentDensityMap"><code>fragmentDensityMap</code></a> feature
is not enabled, <code>flags</code> <strong class="purple">must</strong> not include
<code>VK_SHADER_CREATE_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-flags-08992" href="chap9.html#VUID-VkShaderCreateInfoEXT-flags-08992"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-flags-08992</span><br>

If <code>flags</code> includes
<code>VK_SHADER_CREATE_REQUIRE_FULL_SUBGROUPS_BIT_EXT</code>, <code>stage</code> <strong class="purple">must</strong>
be one of <code>VK_SHADER_STAGE_MESH_BIT_EXT</code>,
<code>VK_SHADER_STAGE_TASK_BIT_EXT</code>, or <code>VK_SHADER_STAGE_COMPUTE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-flags-08485" href="chap9.html#VUID-VkShaderCreateInfoEXT-flags-08485"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-flags-08485</span><br>

If <code>stage</code> is not <code>VK_SHADER_STAGE_COMPUTE_BIT</code>, <code>flags</code>
<strong class="purple">must</strong> not include <code>VK_SHADER_CREATE_DISPATCH_BASE_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-flags-08414" href="chap9.html#VUID-VkShaderCreateInfoEXT-flags-08414"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-flags-08414</span><br>

If <code>stage</code> is not <code>VK_SHADER_STAGE_MESH_BIT_EXT</code>, <code>flags</code>
<strong class="purple">must</strong> not include <code>VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-flags-08416" href="chap9.html#VUID-VkShaderCreateInfoEXT-flags-08416"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-flags-08416</span><br>

If <code>flags</code> includes both
<code>VK_SHADER_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT_EXT</code> and
<code>VK_SHADER_CREATE_REQUIRE_FULL_SUBGROUPS_BIT_EXT</code>, the local
workgroup size in the X dimension of the shader <strong class="purple">must</strong> be a multiple of
<a href="chap5.html#limits-maxSubgroupSize"><code>maxSubgroupSize</code></a></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-flags-08417" href="chap9.html#VUID-VkShaderCreateInfoEXT-flags-08417"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-flags-08417</span><br>

If <code>flags</code> includes
<code>VK_SHADER_CREATE_REQUIRE_FULL_SUBGROUPS_BIT_EXT</code> but not
<code>VK_SHADER_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT_EXT</code> and no
<a href="chap10.html#VkShaderRequiredSubgroupSizeCreateInfoEXT">VkShaderRequiredSubgroupSizeCreateInfoEXT</a> structure is included in
the <code>pNext</code> chain, the local workgroup size in the X dimension of
the shader <strong class="purple">must</strong> be a multiple of
<a href="chap5.html#limits-subgroup-size"><code>subgroupSize</code></a></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-stage-08418" href="chap9.html#VUID-VkShaderCreateInfoEXT-stage-08418"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-stage-08418</span><br>

<code>stage</code> <strong class="purple">must</strong> not be <code>VK_SHADER_STAGE_ALL_GRAPHICS</code> or
<code>VK_SHADER_STAGE_ALL</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-stage-08419" href="chap9.html#VUID-VkShaderCreateInfoEXT-stage-08419"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-stage-08419</span><br>

If the <a href="chap45.html#features-tessellationShader"><code>tessellationShader</code></a> feature
is not enabled, <code>stage</code> <strong class="purple">must</strong> not be
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-stage-08420" href="chap9.html#VUID-VkShaderCreateInfoEXT-stage-08420"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-stage-08420</span><br>

If the <a href="chap45.html#features-geometryShader"><code>geometryShader</code></a> feature is not
enabled, <code>stage</code> <strong class="purple">must</strong> not be <code>VK_SHADER_STAGE_GEOMETRY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-stage-08421" href="chap9.html#VUID-VkShaderCreateInfoEXT-stage-08421"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-stage-08421</span><br>

If the <a href="chap45.html#features-taskShader"><code>taskShader</code></a> feature is not enabled,
<code>stage</code> <strong class="purple">must</strong> not be <code>VK_SHADER_STAGE_TASK_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-stage-08422" href="chap9.html#VUID-VkShaderCreateInfoEXT-stage-08422"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-stage-08422</span><br>

If the <a href="chap45.html#features-meshShader"><code>meshShader</code></a> feature is not enabled,
<code>stage</code> <strong class="purple">must</strong> not be <code>VK_SHADER_STAGE_MESH_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-stage-08425" href="chap9.html#VUID-VkShaderCreateInfoEXT-stage-08425"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-stage-08425</span><br>

<code>stage</code> <strong class="purple">must</strong> not be
<code>VK_SHADER_STAGE_SUBPASS_SHADING_BIT_HUAWEI</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-stage-08426" href="chap9.html#VUID-VkShaderCreateInfoEXT-stage-08426"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-stage-08426</span><br>

<code>stage</code> <strong class="purple">must</strong> not be
<code>VK_SHADER_STAGE_CLUSTER_CULLING_BIT_HUAWEI</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-nextStage-08427" href="chap9.html#VUID-VkShaderCreateInfoEXT-nextStage-08427"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-nextStage-08427</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_VERTEX_BIT</code>, <code>nextStage</code>
<strong class="purple">must</strong> not include any bits other than
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code>,
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, and
<code>VK_SHADER_STAGE_FRAGMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-nextStage-08428" href="chap9.html#VUID-VkShaderCreateInfoEXT-nextStage-08428"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-nextStage-08428</span><br>

If the <a href="chap45.html#features-tessellationShader"><code>tessellationShader</code></a> feature
is not enabled, <code>nextStage</code> <strong class="purple">must</strong> not include
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-nextStage-08429" href="chap9.html#VUID-VkShaderCreateInfoEXT-nextStage-08429"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-nextStage-08429</span><br>

If the <a href="chap45.html#features-geometryShader"><code>geometryShader</code></a> feature is not
enabled, <code>nextStage</code> <strong class="purple">must</strong> not include
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-nextStage-08430" href="chap9.html#VUID-VkShaderCreateInfoEXT-nextStage-08430"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-nextStage-08430</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code>,
<code>nextStage</code> <strong class="purple">must</strong> not include any bits other than
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-nextStage-08431" href="chap9.html#VUID-VkShaderCreateInfoEXT-nextStage-08431"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-nextStage-08431</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>,
<code>nextStage</code> <strong class="purple">must</strong> not include any bits other than
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code> and
<code>VK_SHADER_STAGE_FRAGMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-nextStage-08433" href="chap9.html#VUID-VkShaderCreateInfoEXT-nextStage-08433"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-nextStage-08433</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, <code>nextStage</code>
<strong class="purple">must</strong> not include any bits other than <code>VK_SHADER_STAGE_FRAGMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-nextStage-08434" href="chap9.html#VUID-VkShaderCreateInfoEXT-nextStage-08434"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-nextStage-08434</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_FRAGMENT_BIT</code> or
<code>VK_SHADER_STAGE_COMPUTE_BIT</code>, <code>nextStage</code> <strong class="purple">must</strong> be 0</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-nextStage-08435" href="chap9.html#VUID-VkShaderCreateInfoEXT-nextStage-08435"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-nextStage-08435</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_TASK_BIT_EXT</code>, <code>nextStage</code>
<strong class="purple">must</strong> not include any bits other than <code>VK_SHADER_STAGE_MESH_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-nextStage-08436" href="chap9.html#VUID-VkShaderCreateInfoEXT-nextStage-08436"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-nextStage-08436</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_MESH_BIT_EXT</code>, <code>nextStage</code>
<strong class="purple">must</strong> not include any bits other than <code>VK_SHADER_STAGE_FRAGMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pName-08440" href="chap9.html#VUID-VkShaderCreateInfoEXT-pName-08440"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pName-08440</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, <code>pName</code>
<strong class="purple">must</strong> be the name of an <code>OpEntryPoint</code> in <code>pCode</code> with an
execution model that matches <code>stage</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08492" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08492"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08492</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_BINARY_EXT</code>, <code>pCode</code>
<strong class="purple">must</strong> be aligned to <code>16</code> bytes</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08493" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08493"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08493</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, <code>pCode</code>
<strong class="purple">must</strong> be aligned to <code>4</code> bytes</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08448" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08448"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08448</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and the
identified entry point includes any variable in its interface that is
declared with the <code>ClipDistance</code> <code>BuiltIn</code> decoration, that
variable <strong class="purple">must</strong> not have an array size greater than
<code>VkPhysicalDeviceLimits</code>::<code>maxClipDistances</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08449" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08449"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08449</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and the
identified entry point includes any variable in its interface that is
declared with the <code>CullDistance</code> <code>BuiltIn</code> decoration, that
variable <strong class="purple">must</strong> not have an array size greater than
<code>VkPhysicalDeviceLimits</code>::<code>maxCullDistances</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08450" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08450"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08450</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and the
identified entry point includes any variables in its interface that are
declared with the <code>ClipDistance</code> or <code>CullDistance</code> <code>BuiltIn</code>
decoration, those variables <strong class="purple">must</strong> not have array sizes which sum to more
than <code>VkPhysicalDeviceLimits</code>::<code>maxCombinedClipAndCullDistances</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08451" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08451"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08451</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and the
identified entry point includes any variable in its interface that is
declared with the <code>SampleMask</code> <code>BuiltIn</code> decoration, that variable
<strong class="purple">must</strong> not have an array size greater than
<code>VkPhysicalDeviceLimits</code>::<code>maxSampleMaskWords</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08452" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08452"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08452</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and
<code>stage</code> is <code>VK_SHADER_STAGE_VERTEX_BIT</code>, the identified entry
point <strong class="purple">must</strong> not include any input variable in its interface that is
decorated with <code>CullDistance</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08453" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08453"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08453</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and
<code>stage</code> is <code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, and the identified
entry point has an <code>OpExecutionMode</code> instruction specifying a patch
size with <code>OutputVertices</code>, the patch size <strong class="purple">must</strong> be greater than <code>0</code>
and less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxTessellationPatchSize</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08454" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08454"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08454</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and
<code>stage</code> is <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, the identified entry
point <strong class="purple">must</strong> have an <code>OpExecutionMode</code> instruction specifying a
maximum output vertex count that is greater than <code>0</code> and less than or
equal to <code>VkPhysicalDeviceLimits</code>::<code>maxGeometryOutputVertices</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08455" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08455"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08455</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and
<code>stage</code> is <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, the identified entry
point <strong class="purple">must</strong> have an <code>OpExecutionMode</code> instruction specifying an
invocation count that is greater than <code>0</code> and less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxGeometryShaderInvocations</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08456" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08456"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08456</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and
<code>stage</code> is a
<a href="chap10.html#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a>, and the identified entry point writes to <code>Layer</code> for any
primitive, it <strong class="purple">must</strong> write the same value to <code>Layer</code> for all vertices
of a given primitive</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08457" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08457"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08457</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and
<code>stage</code> is a
<a href="chap10.html#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a>, and the identified entry point writes to <code>ViewportIndex</code> for
any primitive, it <strong class="purple">must</strong> write the same value to <code>ViewportIndex</code> for
all vertices of a given primitive</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08458" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08458"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08458</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and
<code>stage</code> is <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, the identified entry
point <strong class="purple">must</strong> not include any output variables in its interface decorated
with <code>CullDistance</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08459" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08459"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08459</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and
<code>stage</code> is <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, and the identified
entry point writes to <code>FragDepth</code> in any execution path, all
execution paths that are not exclusive to helper invocations <strong class="purple">must</strong>
either discard the fragment, or write or initialize the value of
<code>FragDepth</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-08460" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-08460"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-08460</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, the shader
code in <code>pCode</code> <strong class="purple">must</strong> be valid as described by the
<a href="chap2.html#spirv-spec">Khronos SPIR-V Specification</a> after applying the
specializations provided in <code>pSpecializationInfo</code>, if any, and then
converting all specialization constants into fixed constants</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-codeType-08872" href="chap9.html#VUID-VkShaderCreateInfoEXT-codeType-08872"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-codeType-08872</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and
<code>stage</code> is <code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>,
<code>pCode</code> <strong class="purple">must</strong> contain an <code>OpExecutionMode</code> instruction specifying
the type of subdivision</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-codeType-08873" href="chap9.html#VUID-VkShaderCreateInfoEXT-codeType-08873"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-codeType-08873</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and
<code>stage</code> is <code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>,
<code>pCode</code> <strong class="purple">must</strong> contain an <code>OpExecutionMode</code> instruction specifying
the orientation of triangles generated by the tessellator</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-codeType-08874" href="chap9.html#VUID-VkShaderCreateInfoEXT-codeType-08874"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-codeType-08874</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and
<code>stage</code> is <code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>,
<code>pCode</code> <strong class="purple">must</strong> contain an <code>OpExecutionMode</code> instruction specifying
the spacing of segments on the edges of tessellated primitives</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-codeType-08875" href="chap9.html#VUID-VkShaderCreateInfoEXT-codeType-08875"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-codeType-08875</span><br>

If <code>codeType</code> is <code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code>, and
<code>stage</code> is <code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>,
<code>pCode</code> <strong class="purple">must</strong> contain an <code>OpExecutionMode</code> instruction specifying
the output patch size</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-sType-sType" href="chap9.html#VUID-VkShaderCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pNext-pNext" href="chap9.html#VUID-VkShaderCreateInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="chap10.html#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-sType-unique" href="chap9.html#VUID-VkShaderCreateInfoEXT-sType-unique"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-flags-parameter" href="chap9.html#VUID-VkShaderCreateInfoEXT-flags-parameter"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-flags-parameter</span><br>
 <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="chap9.html#VkShaderCreateFlagBitsEXT">VkShaderCreateFlagBitsEXT</a> values</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-stage-parameter" href="chap9.html#VUID-VkShaderCreateInfoEXT-stage-parameter"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-stage-parameter</span><br>
 <code>stage</code> <strong class="purple">must</strong> be a valid <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-nextStage-parameter" href="chap9.html#VUID-VkShaderCreateInfoEXT-nextStage-parameter"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-nextStage-parameter</span><br>
 <code>nextStage</code> <strong class="purple">must</strong> be a valid combination of <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-codeType-parameter" href="chap9.html#VUID-VkShaderCreateInfoEXT-codeType-parameter"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-codeType-parameter</span><br>
 <code>codeType</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkShaderCodeTypeEXT">VkShaderCodeTypeEXT</a> value</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pCode-parameter" href="chap9.html#VUID-VkShaderCreateInfoEXT-pCode-parameter"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pCode-parameter</span><br>
 <code>pCode</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>codeSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pName-parameter" href="chap9.html#VUID-VkShaderCreateInfoEXT-pName-parameter"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pName-parameter</span><br>
 If <code>pName</code> is not <code>NULL</code>, <code>pName</code> <strong class="purple">must</strong> be a null-terminated UTF-8 string</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pSetLayouts-parameter" href="chap9.html#VUID-VkShaderCreateInfoEXT-pSetLayouts-parameter"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pSetLayouts-parameter</span><br>
 If <code>setLayoutCount</code> is not <code>0</code>, and <code>pSetLayouts</code> is not <code>NULL</code>, <code>pSetLayouts</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>setLayoutCount</code> valid <a href="chap14.html#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handles</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pPushConstantRanges-parameter" href="chap9.html#VUID-VkShaderCreateInfoEXT-pPushConstantRanges-parameter"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pPushConstantRanges-parameter</span><br>
 If <code>pushConstantRangeCount</code> is not <code>0</code>, and <code>pPushConstantRanges</code> is not <code>NULL</code>, <code>pPushConstantRanges</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pushConstantRangeCount</code> valid <a href="chap14.html#VkPushConstantRange">VkPushConstantRange</a> structures</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-pSpecializationInfo-parameter" href="chap9.html#VUID-VkShaderCreateInfoEXT-pSpecializationInfo-parameter"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-pSpecializationInfo-parameter</span><br>
 If <code>pSpecializationInfo</code> is not <code>NULL</code>, <code>pSpecializationInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap10.html#VkSpecializationInfo">VkSpecializationInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkShaderCreateInfoEXT-codeSize-arraylength" href="chap9.html#VUID-VkShaderCreateInfoEXT-codeSize-arraylength"></a> <span class="vuid">VUID-VkShaderCreateInfoEXT-codeSize-arraylength</span><br>
 <code>codeSize</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkShaderCreateFlagsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_shader_object</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkShaderCreateFlagsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkShaderCreateFlagsEXT</code> is a bitmask type for setting a mask of zero or
more <a href="chap9.html#VkShaderCreateFlagBitsEXT">VkShaderCreateFlagBitsEXT</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>flags</code> member of <a href="chap9.html#VkShaderCreateInfoEXT">VkShaderCreateInfoEXT</a>
specifying how a shader object is created, are:</p>
</div>
<div id="VkShaderCreateFlagBitsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_shader_object</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkShaderCreateFlagBitsEXT</span> <span class="p">{</span>
    <span class="n">VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_shader_object with VK_EXT_subgroup_size_control or VK_VERSION_1_3</span>
    <span class="n">VK_SHADER_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_shader_object with VK_EXT_subgroup_size_control or VK_VERSION_1_3</span>
    <span class="n">VK_SHADER_CREATE_REQUIRE_FULL_SUBGROUPS_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_shader_object with VK_EXT_mesh_shader or VK_NV_mesh_shader</span>
    <span class="n">VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_shader_object with VK_KHR_device_group or VK_VERSION_1_1</span>
    <span class="n">VK_SHADER_CREATE_DISPATCH_BASE_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000010</span><span class="p">,</span>
  <span class="c1">// Provided by VK_KHR_fragment_shading_rate with VK_EXT_shader_object</span>
    <span class="n">VK_SHADER_CREATE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000020</span><span class="p">,</span>
  <span class="c1">// Provided by VK_EXT_fragment_density_map with VK_EXT_shader_object</span>
    <span class="n">VK_SHADER_CREATE_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</span> <span class="o">=</span> <span class="mh">0x00000040</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkShaderCreateFlagBitsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code> specifies that a shader is
linked to all other shaders created in the same <a href="chap9.html#vkCreateShadersEXT">vkCreateShadersEXT</a>
call whose <a href="chap9.html#VkShaderCreateInfoEXT">VkShaderCreateInfoEXT</a> structures' <code>flags</code> include
<code>VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</code>.</p>
</li>
<li>
<p><code>VK_SHADER_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT_EXT</code> specifies
    that the <a href="chap15.html#interfaces-builtin-variables-sgs"><code>SubgroupSize</code></a> <strong class="purple">may</strong>
    vary in a
task, mesh, or
    compute shader.</p>
</li>
<li>
<p><code>VK_SHADER_CREATE_REQUIRE_FULL_SUBGROUPS_BIT_EXT</code> specifies that the
    subgroup sizes <strong class="purple">must</strong> be launched with all invocations active in a
task, mesh, or
    compute shader.</p>
</li>
<li>
<p><code>VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT</code> specifies that a mesh
shader <strong class="purple">must</strong> only be used without a task shader.
Otherwise, the mesh shader <strong class="purple">must</strong> only be used with a task shader.</p>
</li>
<li>
<p><code>VK_SHADER_CREATE_DISPATCH_BASE_BIT_EXT</code> specifies that a compute
shader <strong class="purple">can</strong> be used with <a href="chap31.html#vkCmdDispatchBase">vkCmdDispatchBase</a> with a non-zero base
workgroup.</p>
</li>
<li>
<p><code>VK_SHADER_CREATE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_EXT</code>
specifies that a fragment shader <strong class="purple">can</strong> be used with a fragment shading
rate attachment.</p>
</li>
<li>
<p><code>VK_SHADER_CREATE_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</code> specifies
that a fragment shader <strong class="purple">can</strong> be used with a fragment density map
attachment.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The behavior of
<code>VK_SHADER_CREATE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_EXT</code>
and
<code>VK_SHADER_CREATE_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</code>
differs subtly from the behavior of
<code>VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code>
and
<code>VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</code>
in that the shader bit allows, but does not require the shader to be used
with that type of attachment.
This means that the application need not create multiple shaders when it
does not know in advance whether the shader will be used with or without the
attachment type, or when it needs the same shader to be compatible with
usage both with and without.
This <strong class="purple">may</strong> come at some performance cost on some implementations, so
applications <strong class="purple">should</strong> still only set bits that are actually necessary.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Shader objects <strong class="purple">can</strong> be created using different types of shader code.
Possible values of <a href="chap9.html#VkShaderCreateInfoEXT">VkShaderCreateInfoEXT</a>::<code>codeType</code>, are:</p>
</div>
<div id="VkShaderCodeTypeEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_shader_object</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkShaderCodeTypeEXT</span> <span class="p">{</span>
    <span class="n">VK_SHADER_CODE_TYPE_BINARY_EXT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_SHADER_CODE_TYPE_SPIRV_EXT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkShaderCodeTypeEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_CODE_TYPE_BINARY_EXT</code> specifies shader code in an opaque,
implementation-defined binary format specific to the physical device.</p>
</li>
<li>
<p><code>VK_SHADER_CODE_TYPE_SPIRV_EXT</code> specifies shader code in SPIR-V
format.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="shaders-objects-binary-code"><a class="anchor" href="chap9.html#shaders-objects-binary-code"></a>9.1.2. Binary Shader Code</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Binary shader code <strong class="purple">can</strong> be retrieved from a shader object using the command:</p>
</div>
<div id="vkGetShaderBinaryDataEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_shader_object</span>
<span class="n">VkResult</span> <span class="nf">vkGetShaderBinaryDataEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkShaderEXT</span>                                 <span class="n">shader</span><span class="p">,</span>
    <span class="kt">size_t</span><span class="o">*</span>                                     <span class="n">pDataSize</span><span class="p">,</span>
    <span class="kt">void</span><span class="o">*</span>                                       <span class="n">pData</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that shader object was created from.</p>
</li>
<li>
<p><code>shader</code> is the shader object to retrieve binary shader code from.</p>
</li>
<li>
<p><code>pDataSize</code> is a pointer to a <code>size_t</code> value related to the size
of the binary shader code, as described below.</p>
</li>
<li>
<p><code>pData</code> is either <code>NULL</code> or a pointer to a buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pData</code> is <code>NULL</code>, then the size of the binary shader code of the
shader object, in bytes, is returned in <code>pDataSize</code>.
Otherwise, <code>pDataSize</code> <strong class="purple">must</strong> point to a variable set by the user to the
size of the buffer, in bytes, pointed to by <code>pData</code>, and on return the
variable is overwritten with the amount of data actually written to
<code>pData</code>.
If <code>pDataSize</code> is less than the size of the binary shader code, nothing
is written to <code>pData</code>, and <code>VK_INCOMPLETE</code> will be returned instead
of <code>VK_SUCCESS</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The behavior of this command when <code>pDataSize</code> is too small differs from
how some other getter-type commands work in Vulkan.
Because shader binary data is only usable in its entirety, it would never be
useful for the implementation to return partial data.
Because of this, nothing is written to <code>pData</code> unless <code>pDataSize</code> is
large enough to fit the data it its entirety.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Binary shader code retrieved using <code>vkGetShaderBinaryDataEXT</code> <strong class="purple">can</strong> be
passed to a subsequent call to <a href="chap9.html#vkCreateShadersEXT">vkCreateShadersEXT</a> on a compatible
physical device by specifying <code>VK_SHADER_CODE_TYPE_BINARY_EXT</code> in the
<code>codeType</code> member of <code>VkShaderCreateInfoEXT</code>.</p>
</div>
<div class="paragraph">
<p>The shader code returned by repeated calls to this function with the same
<code>VkShaderEXT</code> is guaranteed to be invariant for the lifetime of the
<code>VkShaderEXT</code> object.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetShaderBinaryDataEXT-None-08461" href="chap9.html#VUID-vkGetShaderBinaryDataEXT-None-08461"></a> <span class="vuid">VUID-vkGetShaderBinaryDataEXT-None-08461</span><br>

The <a href="chap45.html#features-shaderObject"><code>shaderObject</code></a> feature <strong class="purple">must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-vkGetShaderBinaryDataEXT-None-08499" href="chap9.html#VUID-vkGetShaderBinaryDataEXT-None-08499"></a> <span class="vuid">VUID-vkGetShaderBinaryDataEXT-None-08499</span><br>

If <code>pData</code> is not <code>NULL</code>, it <strong class="purple">must</strong> be aligned to <code>16</code> bytes</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetShaderBinaryDataEXT-device-parameter" href="chap9.html#VUID-vkGetShaderBinaryDataEXT-device-parameter"></a> <span class="vuid">VUID-vkGetShaderBinaryDataEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetShaderBinaryDataEXT-shader-parameter" href="chap9.html#VUID-vkGetShaderBinaryDataEXT-shader-parameter"></a> <span class="vuid">VUID-vkGetShaderBinaryDataEXT-shader-parameter</span><br>
 <code>shader</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetShaderBinaryDataEXT-pDataSize-parameter" href="chap9.html#VUID-vkGetShaderBinaryDataEXT-pDataSize-parameter"></a> <span class="vuid">VUID-vkGetShaderBinaryDataEXT-pDataSize-parameter</span><br>
 <code>pDataSize</code> <strong class="purple">must</strong> be a valid pointer to a <code>size_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetShaderBinaryDataEXT-pData-parameter" href="chap9.html#VUID-vkGetShaderBinaryDataEXT-pData-parameter"></a> <span class="vuid">VUID-vkGetShaderBinaryDataEXT-pData-parameter</span><br>
 If the value referenced by <code>pDataSize</code> is not <code>0</code>, and <code>pData</code> is not <code>NULL</code>, <code>pData</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pDataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkGetShaderBinaryDataEXT-shader-parent" href="chap9.html#VUID-vkGetShaderBinaryDataEXT-shader-parent"></a> <span class="vuid">VUID-vkGetShaderBinaryDataEXT-shader-parent</span><br>
 <code>shader</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="shaders-objects-binary-compatibility"><a class="anchor" href="chap9.html#shaders-objects-binary-compatibility"></a>9.1.3. Binary Shader Compatibility</h4>
<div class="paragraph">
<p>Binary shader compatibility means that binary shader code returned from a
call to <a href="chap9.html#vkGetShaderBinaryDataEXT">vkGetShaderBinaryDataEXT</a> <strong class="purple">can</strong> be passed to a later call to
<a href="chap9.html#vkCreateShadersEXT">vkCreateShadersEXT</a>, potentially on a different logical and/or physical
device, and that this will result in the successful creation of a shader
object functionally equivalent to the shader object that the code was
originally queried from.</p>
</div>
<div class="paragraph">
<p>Binary shader code queried from <a href="chap9.html#vkGetShaderBinaryDataEXT">vkGetShaderBinaryDataEXT</a> is not
guaranteed to be compatible across all devices, but implementations are
required to provide some compatibility guarantees.
Applications <strong class="purple">may</strong> determine binary shader compatibility using either (or
both) of two mechanisms.</p>
</div>
<div class="paragraph">
<p>Guaranteed compatibility of shader binaries is expressed through a
combination of the <code>shaderBinaryUUID</code> and <code>shaderBinaryVersion</code>
members of the <a href="chap46.html#VkPhysicalDeviceShaderObjectPropertiesEXT">VkPhysicalDeviceShaderObjectPropertiesEXT</a> structure
queried from a physical device.
Binary shaders retrieved from a physical device with a certain
<code>shaderBinaryUUID</code> are guaranteed to be compatible with all other
physical devices reporting the same <code>shaderBinaryUUID</code> and the same or
higher <code>shaderBinaryVersion</code>.</p>
</div>
<div class="paragraph">
<p>Whenever a new version of an implementation incorporates any changes that
affect the output of <a href="chap9.html#vkGetShaderBinaryDataEXT">vkGetShaderBinaryDataEXT</a>, the implementation
<strong class="purple">should</strong> either increment <code>shaderBinaryVersion</code> if binary shader code
retrieved from older versions remains compatible with the new
implementation, or else replace <code>shaderBinaryUUID</code> with a new value if
backward compatibility has been broken.
Binary shader code queried from a device with a matching
<code>shaderBinaryUUID</code> and lower <code>shaderBinaryVersion</code> relative to the
device on which <a href="chap9.html#vkCreateShadersEXT">vkCreateShadersEXT</a> is being called <strong class="purple">may</strong> be suboptimal
for the new device in ways that do not change shader functionality, but it
is still guaranteed to be usable to successfully create the shader
object(s).</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Implementations are encouraged to share <code>shaderBinaryUUID</code> between
devices and driver versions to the maximum extent their hardware naturally
allows, and are <strong>strongly</strong> discouraged from ever changing the
<code>shaderBinaryUUID</code> for the same hardware except unless absolutely
necessary.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>In addition to the shader compatibility guarantees described above, it is
valid for an application to call <a href="chap9.html#vkCreateShadersEXT">vkCreateShadersEXT</a> with binary shader
code created on a device with a different or unknown <code>shaderBinaryUUID</code>
and/or higher <code>shaderBinaryVersion</code>.
In this case, the implementation <strong class="purple">may</strong> use any unspecified means of its
choosing to determine whether the provided binary shader code is usable.
If it is, the <a href="chap9.html#vkCreateShadersEXT">vkCreateShadersEXT</a> call <strong class="purple">must</strong> return <code>VK_SUCCESS</code>,
and the created shader object is guaranteed to be valid.
Otherwise, in the absence of some other error, the <a href="chap9.html#vkCreateShadersEXT">vkCreateShadersEXT</a>
call <strong class="purple">must</strong> return <code>VK_ERROR_INCOMPATIBLE_SHADER_BINARY_EXT</code> to indicate
that the provided binary shader code is not compatible with the device.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-objects-binding"><a class="anchor" href="chap9.html#shaders-objects-binding"></a>9.1.4. Binding Shader Objects</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Once shader objects have been created, they <strong class="purple">can</strong> be bound to the command
buffer using the command:</p>
</div>
<div id="vkCmdBindShadersEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdBindShadersEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">stageCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkShaderStageFlagBits</span><span class="o">*</span>                <span class="n">pStages</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkShaderEXT</span><span class="o">*</span>                          <span class="n">pShaders</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the shader object will be
bound to.</p>
</li>
<li>
<p><code>stageCount</code> is the length of the <code>pStages</code> and <code>pShaders</code>
arrays.</p>
</li>
<li>
<p><code>pStages</code> is a pointer to an array of <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a>
values specifying one stage per array index that is affected by the
corresponding value in the <code>pShaders</code> array.</p>
</li>
<li>
<p><code>pShaders</code> is a pointer to an array of <code>VkShaderEXT</code> handles
and/or <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> values describing the shader binding
operations to be performed on each stage in <code>pStages</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When binding linked shaders, an application <strong class="purple">may</strong> bind them in any
combination of one or more calls to <code>vkCmdBindShadersEXT</code> (i.e., shaders
that were created linked together do not need to be bound in the same
<code>vkCmdBindShadersEXT</code> call).</p>
</div>
<div class="paragraph">
<p>Any shader object bound to a particular stage <strong class="purple">may</strong> be unbound by setting its
value in <code>pShaders</code> to <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>.
If <code>pShaders</code> is <code>NULL</code>, <code>vkCmdBindShadersEXT</code> behaves as if
<code>pShaders</code> was an array of <code>stageCount</code> <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> values
(i.e., any shaders bound to the stages specified in <code>pStages</code> are
unbound).</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-None-08462" href="chap9.html#VUID-vkCmdBindShadersEXT-None-08462"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-None-08462</span><br>

The <a href="chap45.html#features-shaderObject"><code>shaderObject</code></a> feature <strong class="purple">must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pStages-08463" href="chap9.html#VUID-vkCmdBindShadersEXT-pStages-08463"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pStages-08463</span><br>

Every element of <code>pStages</code> <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pStages-08464" href="chap9.html#VUID-vkCmdBindShadersEXT-pStages-08464"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pStages-08464</span><br>

<code>pStages</code> <strong class="purple">must</strong> not contain <code>VK_SHADER_STAGE_ALL_GRAPHICS</code> or
<code>VK_SHADER_STAGE_ALL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pStages-08465" href="chap9.html#VUID-vkCmdBindShadersEXT-pStages-08465"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pStages-08465</span><br>

<code>pStages</code> <strong class="purple">must</strong> not contain <code>VK_SHADER_STAGE_RAYGEN_BIT_KHR</code>,
<code>VK_SHADER_STAGE_ANY_HIT_BIT_KHR</code>,
<code>VK_SHADER_STAGE_CLOSEST_HIT_BIT_KHR</code>,
<code>VK_SHADER_STAGE_MISS_BIT_KHR</code>,
<code>VK_SHADER_STAGE_INTERSECTION_BIT_KHR</code>, or
<code>VK_SHADER_STAGE_CALLABLE_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pStages-08467" href="chap9.html#VUID-vkCmdBindShadersEXT-pStages-08467"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pStages-08467</span><br>

<code>pStages</code> <strong class="purple">must</strong> not contain
<code>VK_SHADER_STAGE_SUBPASS_SHADING_BIT_HUAWEI</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pStages-08468" href="chap9.html#VUID-vkCmdBindShadersEXT-pStages-08468"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pStages-08468</span><br>

<code>pStages</code> <strong class="purple">must</strong> not contain
<code>VK_SHADER_STAGE_CLUSTER_CULLING_BIT_HUAWEI</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pShaders-08469" href="chap9.html#VUID-vkCmdBindShadersEXT-pShaders-08469"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pShaders-08469</span><br>

For each element of <code>pStages</code>, if <code>pShaders</code> is not <code>NULL</code>, and
the element of the <code>pShaders</code> array with the same index is not
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, it <strong class="purple">must</strong> have been created with a <code>stage</code>
equal to the corresponding element of <code>pStages</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pShaders-08470" href="chap9.html#VUID-vkCmdBindShadersEXT-pShaders-08470"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pShaders-08470</span><br>

If <code>pStages</code> contains both <code>VK_SHADER_STAGE_TASK_BIT_EXT</code> and
<code>VK_SHADER_STAGE_VERTEX_BIT</code>, and <code>pShaders</code> is not <code>NULL</code>, and
the same index in <code>pShaders</code> as <code>VK_SHADER_STAGE_TASK_BIT_EXT</code>
in <code>pStages</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the same index in
<code>pShaders</code> as <code>VK_SHADER_STAGE_VERTEX_BIT</code> in <code>pStages</code>
<strong class="purple">must</strong> be <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pShaders-08471" href="chap9.html#VUID-vkCmdBindShadersEXT-pShaders-08471"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pShaders-08471</span><br>

If <code>pStages</code> contains both <code>VK_SHADER_STAGE_MESH_BIT_EXT</code> and
<code>VK_SHADER_STAGE_VERTEX_BIT</code>, and <code>pShaders</code> is not <code>NULL</code>, and
the same index in <code>pShaders</code> as <code>VK_SHADER_STAGE_MESH_BIT_EXT</code>
in <code>pStages</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the same index in
<code>pShaders</code> as <code>VK_SHADER_STAGE_VERTEX_BIT</code> in <code>pStages</code>
<strong class="purple">must</strong> be <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pShaders-08474" href="chap9.html#VUID-vkCmdBindShadersEXT-pShaders-08474"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pShaders-08474</span><br>

If the <a href="chap45.html#features-tessellationShader"><code>tessellationShader</code></a> feature
is not enabled, and <code>pStages</code> contains
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, and <code>pShaders</code> is
not <code>NULL</code>, the same index or indices in <code>pShaders</code> <strong class="purple">must</strong> be
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pShaders-08475" href="chap9.html#VUID-vkCmdBindShadersEXT-pShaders-08475"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pShaders-08475</span><br>

If the <a href="chap45.html#features-geometryShader"><code>geometryShader</code></a> feature is not
enabled, and <code>pStages</code> contains <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>,
and <code>pShaders</code> is not <code>NULL</code>, the same index in <code>pShaders</code> <strong class="purple">must</strong>
be <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pShaders-08490" href="chap9.html#VUID-vkCmdBindShadersEXT-pShaders-08490"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pShaders-08490</span><br>

If the <a href="chap45.html#features-taskShader"><code>taskShader</code></a> feature is not enabled,
and <code>pStages</code> contains <code>VK_SHADER_STAGE_TASK_BIT_EXT</code>, and
<code>pShaders</code> is not <code>NULL</code>, the same index in <code>pShaders</code> <strong class="purple">must</strong> be
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pShaders-08491" href="chap9.html#VUID-vkCmdBindShadersEXT-pShaders-08491"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pShaders-08491</span><br>

If the <a href="chap45.html#features-meshShader"><code>meshShader</code></a> feature is not enabled,
and <code>pStages</code> contains <code>VK_SHADER_STAGE_MESH_BIT_EXT</code>, and
<code>pShaders</code> is not <code>NULL</code>, the same index in <code>pShaders</code> <strong class="purple">must</strong> be
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pShaders-08476" href="chap9.html#VUID-vkCmdBindShadersEXT-pShaders-08476"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pShaders-08476</span><br>

If <code>pStages</code> contains <code>VK_SHADER_STAGE_COMPUTE_BIT</code>, the
<code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong>
support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pShaders-08477" href="chap9.html#VUID-vkCmdBindShadersEXT-pShaders-08477"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pShaders-08477</span><br>

If <code>pStages</code> contains <code>VK_SHADER_STAGE_VERTEX_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>,
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, or
<code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, the <code>VkCommandPool</code> that
<code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pShaders-08478" href="chap9.html#VUID-vkCmdBindShadersEXT-pShaders-08478"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pShaders-08478</span><br>

If <code>pStages</code> contains <code>VK_SHADER_STAGE_MESH_BIT_EXT</code> or
<code>VK_SHADER_STAGE_TASK_BIT_EXT</code>, the <code>VkCommandPool</code> that
<code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-commandBuffer-parameter" href="chap9.html#VUID-vkCmdBindShadersEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pStages-parameter" href="chap9.html#VUID-vkCmdBindShadersEXT-pStages-parameter"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pStages-parameter</span><br>
 <code>pStages</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>stageCount</code> valid <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-pShaders-parameter" href="chap9.html#VUID-vkCmdBindShadersEXT-pShaders-parameter"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-pShaders-parameter</span><br>
 If <code>pShaders</code> is not <code>NULL</code>, <code>pShaders</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>stageCount</code> valid or <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-commandBuffer-recording" href="chap9.html#VUID-vkCmdBindShadersEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-commandBuffer-cmdpool" href="chap9.html#VUID-vkCmdBindShadersEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-videocoding" href="chap9.html#VUID-vkCmdBindShadersEXT-videocoding"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-stageCount-arraylength" href="chap9.html#VUID-vkCmdBindShadersEXT-stageCount-arraylength"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-stageCount-arraylength</span><br>
 <code>stageCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadersEXT-commonparent" href="chap9.html#VUID-vkCmdBindShadersEXT-commonparent"></a> <span class="vuid">VUID-vkCmdBindShadersEXT-commonparent</span><br>
 Both of <code>commandBuffer</code>, and the elements of <code>pShaders</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="shaders-objects-state"><a class="anchor" href="chap9.html#shaders-objects-state"></a>9.1.5. Setting State</h4>
<div class="paragraph">
<p>Whenever shader objects are used to issue drawing commands, the appropriate
<a href="chap10.html#pipelines-dynamic-state">dynamic state</a> setting commands <strong class="purple">must</strong> have been
called to set the relevant state in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap27.html#vkCmdSetViewportWithCount">vkCmdSetViewportWithCount</a></p>
</li>
<li>
<p><a href="chap27.html#vkCmdSetScissorWithCount">vkCmdSetScissorWithCount</a></p>
</li>
<li>
<p><a href="chap28.html#vkCmdSetRasterizerDiscardEnable">vkCmdSetRasterizerDiscardEnable</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a shader is bound to the <code>VK_SHADER_STAGE_VERTEX_BIT</code> stage, the
following commands <strong class="purple">must</strong> have been called in the command buffer prior to
drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap22.html#vkCmdSetVertexInputEXT">vkCmdSetVertexInputEXT</a></p>
</li>
<li>
<p><a href="chap21.html#vkCmdSetPrimitiveTopology">vkCmdSetPrimitiveTopology</a></p>
</li>
<li>
<p><a href="chap9.html#vkCmdSetPatchControlPointsEXT">vkCmdSetPatchControlPointsEXT</a>, if <code>primitiveTopology</code> is
<code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code></p>
</li>
<li>
<p><a href="chap21.html#vkCmdSetPrimitiveRestartEnable">vkCmdSetPrimitiveRestartEnable</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a shader is bound to the
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> stage, the following
command <strong class="purple">must</strong> have been called in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap23.html#vkCmdSetTessellationDomainOriginEXT">vkCmdSetTessellationDomainOriginEXT</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, the following commands
<strong class="purple">must</strong> have been called in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap28.html#vkCmdSetRasterizationSamplesEXT">vkCmdSetRasterizationSamplesEXT</a></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetSampleMaskEXT">vkCmdSetSampleMaskEXT</a></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetAlphaToCoverageEnableEXT">vkCmdSetAlphaToCoverageEnableEXT</a></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetAlphaToOneEnableEXT">vkCmdSetAlphaToOneEnableEXT</a>, if the <a href="chap45.html#features-alphaToOne">alphaToOne</a> feature is enabled on the device</p>
</li>
<li>
<p><a href="chap28.html#vkCmdSetPolygonModeEXT">vkCmdSetPolygonModeEXT</a></p>
</li>
<li>
<p><a href="chap28.html#vkCmdSetLineWidth">vkCmdSetLineWidth</a>, if <code>polygonMode</code> is
<code>VK_POLYGON_MODE_LINE</code>, or if
a shader is bound to the <code>VK_SHADER_STAGE_VERTEX_BIT</code> stage and
<code>primitiveTopology</code> is a line topology, or if a shader which outputs
line primitives is bound to the
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> or
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code> stage</p>
</li>
<li>
<p><a href="chap28.html#vkCmdSetCullMode">vkCmdSetCullMode</a></p>
</li>
<li>
<p><a href="chap28.html#vkCmdSetFrontFace">vkCmdSetFrontFace</a>, if <code>cullMode</code> is not
<code>VK_CULL_MODE_NONE</code>, or if <code>stencilTestEnable</code> is <code>VK_TRUE</code>,
or if the fragment shader uses a variable decorated with
<code>FrontFacing</code></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetDepthTestEnable">vkCmdSetDepthTestEnable</a></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetDepthWriteEnable">vkCmdSetDepthWriteEnable</a></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetDepthCompareOp">vkCmdSetDepthCompareOp</a>, if <code>depthTestEnable</code> is <code>VK_TRUE</code></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetDepthBoundsTestEnable">vkCmdSetDepthBoundsTestEnable</a>, if the <a href="chap45.html#features-depthBounds">depthBounds</a> feature is enabled on the device</p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetDepthBounds">vkCmdSetDepthBounds</a>, if <code>depthBoundsTestEnable</code> is
<code>VK_TRUE</code></p>
</li>
<li>
<p><a href="chap28.html#vkCmdSetDepthBiasEnable">vkCmdSetDepthBiasEnable</a></p>
</li>
<li>
<p><a href="chap28.html#vkCmdSetDepthBias">vkCmdSetDepthBias</a>
or <a href="chap28.html#vkCmdSetDepthBias2EXT">vkCmdSetDepthBias2EXT</a>
    , if <code>depthBiasEnable</code> is <code>VK_TRUE</code></p>
</li>
<li>
<p><a href="chap27.html#vkCmdSetDepthClampEnableEXT">vkCmdSetDepthClampEnableEXT</a>, if the <a href="chap45.html#features-depthClamp">depthClamp</a> feature is enabled on the device</p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetStencilTestEnable">vkCmdSetStencilTestEnable</a></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetStencilOp">vkCmdSetStencilOp</a>, if <code>stencilTestEnable</code> is <code>VK_TRUE</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a shader is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code> stage, and
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, the following commands
<strong class="purple">must</strong> have been called in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkCmdSetLogicOpEnableEXT">vkCmdSetLogicOpEnableEXT</a>, if the <a href="chap45.html#features-logicOp"><code>logicOp</code></a> feature is enabled on the device</p>
</li>
<li>
<p><a href="chap30.html#vkCmdSetLogicOpEXT">vkCmdSetLogicOpEXT</a>, if <code>logicOpEnable</code> is <code>VK_TRUE</code></p>
</li>
<li>
<p><a href="chap30.html#vkCmdSetColorBlendEnableEXT">vkCmdSetColorBlendEnableEXT</a>, with values set for every color
attachment in the render pass instance active at draw time</p>
</li>
<li>
<p><a href="chap30.html#vkCmdSetColorBlendEquationEXT">vkCmdSetColorBlendEquationEXT</a> or
<a href="chap30.html#vkCmdSetColorBlendAdvancedEXT">vkCmdSetColorBlendAdvancedEXT</a>,
for every attachment whose index in <code>pColorBlendEnables</code> is a
pointer to a value of <code>VK_TRUE</code></p>
</li>
<li>
<p><a href="chap30.html#vkCmdSetBlendConstants">vkCmdSetBlendConstants</a>, if any index in <code>pColorBlendEnables</code>
is <code>VK_TRUE</code>, and the same index in <code>pColorBlendEquations</code> is a
<code>VkColorBlendEquationEXT</code> structure with any <a href="chap30.html#VkBlendFactor">VkBlendFactor</a>
member with a value of <code>VK_BLEND_FACTOR_CONSTANT_COLOR</code>,
<code>VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR</code>,
<code>VK_BLEND_FACTOR_CONSTANT_ALPHA</code>, or
<code>VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA</code></p>
</li>
<li>
<p><a href="chap30.html#vkCmdSetColorWriteMaskEXT">vkCmdSetColorWriteMaskEXT</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-pipelineFragmentShadingRate"><code>pipelineFragmentShadingRate</code></a> feature is enabled on the device, and a
shader is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code> stage, and
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, the following command <strong class="purple">must</strong>
have been called in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap28.html#vkCmdSetFragmentShadingRateKHR">vkCmdSetFragmentShadingRateKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-geometryStreams"><code>geometryStreams</code></a> feature is
enabled on the device, and a shader is bound to the
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code> stage, the following command <strong class="purple">must</strong> have
been called in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap28.html#vkCmdSetRasterizationStreamEXT">vkCmdSetRasterizationStreamEXT</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code><a href="chap54.html#VK_EXT_discard_rectangles">VK_EXT_discard_rectangles</a></code> extension is enabled on the
device, the following commands <strong class="purple">must</strong> have been called in the command buffer
prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkCmdSetDiscardRectangleEnableEXT">vkCmdSetDiscardRectangleEnableEXT</a></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetDiscardRectangleModeEXT">vkCmdSetDiscardRectangleModeEXT</a>, if <code>discardRectangleEnable</code> is
<code>VK_TRUE</code></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetDiscardRectangleEXT">vkCmdSetDiscardRectangleEXT</a>, if <code>discardRectangleEnable</code> is
<code>VK_TRUE</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code><a href="chap54.html#VK_EXT_conservative_rasterization">VK_EXT_conservative_rasterization</a></code> extension is enabled on the
device, and <code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, the following
commands <strong class="purple">must</strong> have been called in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap28.html#vkCmdSetConservativeRasterizationModeEXT">vkCmdSetConservativeRasterizationModeEXT</a></p>
</li>
<li>
<p><a href="chap28.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT">vkCmdSetExtraPrimitiveOverestimationSizeEXT</a>, if
<code>conservativeRasterizationMode</code> is
<code>VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-depthClipEnable"><code>depthClipEnable</code></a> feature is
enabled on the device, the following command <strong class="purple">must</strong> have been called in the
command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap27.html#vkCmdSetDepthClipEnableEXT">vkCmdSetDepthClipEnableEXT</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code><a href="chap54.html#VK_EXT_sample_locations">VK_EXT_sample_locations</a></code> extension is enabled on the device,
and <code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, the following commands
<strong class="purple">must</strong> have been called in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap28.html#vkCmdSetSampleLocationsEnableEXT">vkCmdSetSampleLocationsEnableEXT</a></p>
</li>
<li>
<p><a href="chap28.html#vkCmdSetSampleLocationsEXT">vkCmdSetSampleLocationsEXT</a>, if <code>sampleLocationsEnable</code> is
<code>VK_TRUE</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code><a href="chap54.html#VK_EXT_provoking_vertex">VK_EXT_provoking_vertex</a></code> extension is enabled on the device,
and <code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, the following command
<strong class="purple">must</strong> have been called in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap27.html#vkCmdSetProvokingVertexModeEXT">vkCmdSetProvokingVertexModeEXT</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code><a href="chap54.html#VK_EXT_line_rasterization">VK_EXT_line_rasterization</a></code> extension is enabled on the
device, and <code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, and if
<code>polygonMode</code> is <code>VK_POLYGON_MODE_LINE</code> or a shader is bound to the
<code>VK_SHADER_STAGE_VERTEX_BIT</code> stage and <code>primitiveTopology</code> is a line
topology or a shader which outputs line primitives is bound to the
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> or
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code> stage, the following commands <strong class="purple">must</strong> have
been called in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap28.html#vkCmdSetLineRasterizationModeEXT">vkCmdSetLineRasterizationModeEXT</a></p>
</li>
<li>
<p><a href="chap28.html#vkCmdSetLineStippleEnableEXT">vkCmdSetLineStippleEnableEXT</a></p>
</li>
<li>
<p><a href="chap28.html#vkCmdSetLineStippleEXT">vkCmdSetLineStippleEXT</a>, if <code>stippledLineEnable</code> is
<code>VK_TRUE</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-depthClipControl"><code>depthClipControl</code></a> feature is
enabled on the device, the following command <strong class="purple">must</strong> have been called in the
command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap27.html#vkCmdSetDepthClipNegativeOneToOneEXT">vkCmdSetDepthClipNegativeOneToOneEXT</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-colorWriteEnable"><code>colorWriteEnable</code></a> feature is
enabled on the device, a shader is bound to the
<code>VK_SHADER_STAGE_FRAGMENT_BIT</code> stage, and <code>rasterizerDiscardEnable</code>
is <code>VK_FALSE</code>, the following command <strong class="purple">must</strong> have been called in the
command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkCmdSetColorWriteEnableEXT">vkCmdSetColorWriteEnableEXT</a>, with values set for every color
attachment in the render pass instance active at draw time</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-attachmentFeedbackLoopDynamicState">attachmentFeedbackLoopDynamicState</a> feature is enabled on the device, a
shader is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code> stage, and
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, the following command <strong class="purple">must</strong>
have been called in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#vkCmdSetAttachmentFeedbackLoopEnableEXT">vkCmdSetAttachmentFeedbackLoopEnableEXT</a>, for each image aspect
corresponding to an attachment type used by the render pass instance
which <strong class="purple">can</strong> use feedback loops</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code><a href="chap54.html#VK_NV_clip_space_w_scaling">VK_NV_clip_space_w_scaling</a></code> extension is enabled on the
device, the following commands <strong class="purple">must</strong> have been called in the command buffer
prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap27.html#vkCmdSetViewportWScalingEnableNV">vkCmdSetViewportWScalingEnableNV</a></p>
</li>
<li>
<p><a href="chap27.html#vkCmdSetViewportWScalingNV">vkCmdSetViewportWScalingNV</a>, if <code>viewportWScalingEnable</code> is
<code>VK_TRUE</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code><a href="chap54.html#VK_NV_viewport_swizzle">VK_NV_viewport_swizzle</a></code> extension is enabled on the device,
the following command <strong class="purple">must</strong> have been called in the command buffer prior to
drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap27.html#vkCmdSetViewportSwizzleNV">vkCmdSetViewportSwizzleNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code><a href="chap54.html#VK_NV_fragment_coverage_to_color">VK_NV_fragment_coverage_to_color</a></code> extension is enabled on the
device, and a shader is bound to the <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>
stage, and <code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, the following
commands <strong class="purple">must</strong> have been called in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkCmdSetCoverageToColorEnableNV">vkCmdSetCoverageToColorEnableNV</a></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetCoverageToColorLocationNV">vkCmdSetCoverageToColorLocationNV</a>, if <code>coverageToColorEnable</code>
is <code>VK_TRUE</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code><a href="chap54.html#VK_NV_framebuffer_mixed_samples">VK_NV_framebuffer_mixed_samples</a></code> extension is enabled on the
device, and <code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, the following
commands <strong class="purple">must</strong> have been called in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkCmdSetCoverageModulationModeNV">vkCmdSetCoverageModulationModeNV</a></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetCoverageModulationTableEnableNV">vkCmdSetCoverageModulationTableEnableNV</a>, if
<code>coverageModulationMode</code> is not
<code>VK_COVERAGE_MODULATION_MODE_NONE_NV</code></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetCoverageModulationTableNV">vkCmdSetCoverageModulationTableNV</a>, if
<code>coverageModulationTableEnable</code> is <code>VK_TRUE</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-coverageReductionMode"><code>coverageReductionMode</code></a>
feature is enabled on the device, and <code>rasterizerDiscardEnable</code> is
<code>VK_FALSE</code>, the following command <strong class="purple">must</strong> have been called in the command
buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkCmdSetCoverageReductionModeNV">vkCmdSetCoverageReductionModeNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-representativeFragmentTest"><code>representativeFragmentTest</code></a> feature is enabled on the device, and
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>, the following command <strong class="purple">must</strong>
have been called in the command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkCmdSetRepresentativeFragmentTestEnableNV">vkCmdSetRepresentativeFragmentTestEnableNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-shadingRateImage"><code>shadingRateImage</code></a> feature is
enabled on the device, and <code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>,
the following commands <strong class="purple">must</strong> have been called in the command buffer prior to
drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap28.html#vkCmdSetCoarseSampleOrderNV">vkCmdSetCoarseSampleOrderNV</a></p>
</li>
<li>
<p><a href="chap28.html#vkCmdSetShadingRateImageEnableNV">vkCmdSetShadingRateImageEnableNV</a></p>
</li>
<li>
<p><a href="chap28.html#vkCmdSetViewportShadingRatePaletteNV">vkCmdSetViewportShadingRatePaletteNV</a>, if
<code>shadingRateImageEnable</code> is <code>VK_TRUE</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-exclusiveScissor"><code>exclusiveScissor</code></a> feature is
enabled on the device, the following commands <strong class="purple">must</strong> have been called in the
command buffer prior to drawing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkCmdSetExclusiveScissorEnableNV">vkCmdSetExclusiveScissorEnableNV</a></p>
</li>
<li>
<p><a href="chap29.html#vkCmdSetExclusiveScissorNV">vkCmdSetExclusiveScissorNV</a>, if any value in
<code>pExclusiveScissorEnables</code> is <code>VK_TRUE</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>State <strong class="purple">can</strong> be set either at any time before or after shader objects are
bound, but all required state <strong class="purple">must</strong> be set prior to issuing drawing
commands.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-objects-pipeline-interaction"><a class="anchor" href="chap9.html#shaders-objects-pipeline-interaction"></a>9.1.6. Interaction with Pipelines</h4>
<div class="paragraph">
<p>Calling <a href="chap9.html#vkCmdBindShadersEXT">vkCmdBindShadersEXT</a> causes the pipeline bind points
<a href="chap9.html#shaders-binding">corresponding to each stage</a> in <code>pStages</code> to be
disturbed, meaning that any <a href="chap10.html">pipelines</a> that had previously
been bound to those pipeline bind points are no longer bound.</p>
</div>
<div class="paragraph">
<p>If <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> is disturbed (i.e., if
<code>pStages</code> contains any graphics stage), any graphics pipeline state that
the previously bound pipeline did not specify as <a href="chap10.html#pipelines-dynamic-state">dynamic</a> becomes undefined, and <strong class="purple">must</strong> be set in the command buffer before
issuing drawing commands using shader objects.</p>
</div>
<div class="paragraph">
<p>Calls to <a href="chap10.html#vkCmdBindPipeline">vkCmdBindPipeline</a> likewise disturb the shader stage(s)
corresponding to <code>pipelineBindPoint</code>, meaning that any shaders that had
previously been bound to any of those stages are no longer bound, even if
the pipeline was created without shaders for some of those stages.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-objects-destruction"><a class="anchor" href="chap9.html#shaders-objects-destruction"></a>9.1.7. Shader Object Destruction</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a shader object, call:</p>
</div>
<div id="vkDestroyShaderEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkDestroyShaderEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkShaderEXT</span>                                 <span class="n">shader</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the shader object.</p>
</li>
<li>
<p><code>shader</code> is the handle of the shader object to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Destroying a shader object used by one or more command buffers in the
<a href="chap6.html#commandbuffers-lifecycle">recording or executable state</a> causes those
command buffers to move into the <em>invalid state</em>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyShaderEXT-None-08481" href="chap9.html#VUID-vkDestroyShaderEXT-None-08481"></a> <span class="vuid">VUID-vkDestroyShaderEXT-None-08481</span><br>

The <a href="chap45.html#features-shaderObject"><code>shaderObject</code></a> feature <strong class="purple">must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderEXT-shader-08482" href="chap9.html#VUID-vkDestroyShaderEXT-shader-08482"></a> <span class="vuid">VUID-vkDestroyShaderEXT-shader-08482</span><br>

All submitted commands that refer to <code>shader</code> <strong class="purple">must</strong> have completed
execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderEXT-pAllocator-08483" href="chap9.html#VUID-vkDestroyShaderEXT-pAllocator-08483"></a> <span class="vuid">VUID-vkDestroyShaderEXT-pAllocator-08483</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>shader</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderEXT-pAllocator-08484" href="chap9.html#VUID-vkDestroyShaderEXT-pAllocator-08484"></a> <span class="vuid">VUID-vkDestroyShaderEXT-pAllocator-08484</span><br>

If no <code>VkAllocationCallbacks</code> were provided when <code>shader</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyShaderEXT-device-parameter" href="chap9.html#VUID-vkDestroyShaderEXT-device-parameter"></a> <span class="vuid">VUID-vkDestroyShaderEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderEXT-shader-parameter" href="chap9.html#VUID-vkDestroyShaderEXT-shader-parameter"></a> <span class="vuid">VUID-vkDestroyShaderEXT-shader-parameter</span><br>
 <code>shader</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderEXT-pAllocator-parameter" href="chap9.html#VUID-vkDestroyShaderEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyShaderEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderEXT-shader-parent" href="chap9.html#VUID-vkDestroyShaderEXT-shader-parent"></a> <span class="vuid">VUID-vkDestroyShaderEXT-shader-parent</span><br>
 <code>shader</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>shader</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shader-modules"><a class="anchor" href="chap9.html#shader-modules"></a>9.2. Shader Modules</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><em>Shader modules</em> contain <em>shader code</em> and one or more entry points.
Shaders are selected from a shader module by specifying an entry point as
part of <a href="chap10.html">pipeline</a> creation.
The stages of a pipeline <strong class="purple">can</strong> use shaders that come from different modules.
The shader code defining a shader module <strong class="purple">must</strong> be in the SPIR-V format, as
described by the <a href="chap50.html">Vulkan Environment for SPIR-V</a> appendix.</p>
</div>
<div class="paragraph">
<p>Shader modules are represented by <code>VkShaderModule</code> handles:</p>
</div>
<div id="VkShaderModule" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkShaderModule</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a shader module, call:</p>
</div>
<div id="vkCreateShaderModule" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VkResult</span> <span class="nf">vkCreateShaderModule</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkShaderModuleCreateInfo</span><span class="o">*</span>             <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkShaderModule</span><span class="o">*</span>                             <span class="n">pShaderModule</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the shader module.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a>
structure.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pShaderModule</code> is a pointer to a <a href="chap9.html#VkShaderModule">VkShaderModule</a> handle in
which the resulting shader module object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once a shader module has been created, any entry points it contains <strong class="purple">can</strong> be
used in pipeline shader stages as described in <a href="chap10.html#pipelines-compute">Compute
Pipelines</a> and <a href="chap10.html#pipelines-graphics">Graphics Pipelines</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateShaderModule-pCreateInfo-06904" href="chap9.html#VUID-vkCreateShaderModule-pCreateInfo-06904"></a> <span class="vuid">VUID-vkCreateShaderModule-pCreateInfo-06904</span><br>

If <code>pCreateInfo</code> is not <code>NULL</code>, <code>pCreateInfo-&gt;pNext</code> <strong class="purple">must</strong> be
<code>NULL</code> or a pointer to a
<a href="chap9.html#VkShaderModuleValidationCacheCreateInfoEXT">VkShaderModuleValidationCacheCreateInfoEXT</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateShaderModule-device-parameter" href="chap9.html#VUID-vkCreateShaderModule-device-parameter"></a> <span class="vuid">VUID-vkCreateShaderModule-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateShaderModule-pCreateInfo-parameter" href="chap9.html#VUID-vkCreateShaderModule-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateShaderModule-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateShaderModule-pAllocator-parameter" href="chap9.html#VUID-vkCreateShaderModule-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateShaderModule-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateShaderModule-pShaderModule-parameter" href="chap9.html#VUID-vkCreateShaderModule-pShaderModule-parameter"></a> <span class="vuid">VUID-vkCreateShaderModule-pShaderModule-parameter</span><br>
 <code>pShaderModule</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap9.html#VkShaderModule">VkShaderModule</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INVALID_SHADER_NV</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkShaderModuleCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkShaderModuleCreateInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkShaderModuleCreateInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>              <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                  <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkShaderModuleCreateFlags</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="kt">size_t</span>                       <span class="n">codeSize</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">uint32_t</span><span class="o">*</span>              <span class="n">pCode</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkShaderModuleCreateInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>codeSize</code> is the size, in bytes, of the code pointed to by
<code>pCode</code>.</p>
</li>
<li>
<p><code>pCode</code> is a pointer to code that is used to create the shader
module.
The type and format of the code is determined from the content of the
memory addressed by <code>pCode</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-codeSize-08735" href="chap9.html#VUID-VkShaderModuleCreateInfo-codeSize-08735"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-codeSize-08735</span><br>

If pCode is a pointer to SPIR-V code, <code>codeSize</code> <strong class="purple">must</strong> be a multiple of 4</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08736" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08736"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08736</span><br>

If pCode is a pointer to SPIR-V code, <code>pCode</code> <strong class="purple">must</strong> point to valid SPIR-V code,
formatted and packed as described by the <a href="chap2.html#spirv-spec">Khronos SPIR-V
Specification</a></p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08737" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08737"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08737</span><br>

If pCode is a pointer to SPIR-V code, <code>pCode</code> <strong class="purple">must</strong> adhere to the validation rules
described by the <a href="chap50.html#spirvenv-module-validation">Validation Rules within a
Module</a> section of the <a href="chap50.html#spirvenv-capabilities">SPIR-V Environment</a>
appendix</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08738" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08738"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08738</span><br>

If pCode is a pointer to SPIR-V code, <code>pCode</code> <strong class="purple">must</strong> declare the <code>Shader</code> capability
for SPIR-V code</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08739" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08739"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08739</span><br>

If pCode is a pointer to SPIR-V code, <code>pCode</code> <strong class="purple">must</strong> not declare any capability that is
not supported by the API, as described by the
<a href="chap50.html#spirvenv-module-validation">Capabilities</a> section of the
<a href="chap50.html#spirvenv-capabilities">SPIR-V Environment</a> appendix</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08740" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08740"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08740</span><br>

If pCode is a pointer to SPIR-V code, and <code>pCode</code> declares any of the capabilities
listed in the <a href="chap50.html#spirvenv-capabilities-table">SPIR-V Environment</a>
appendix, one of the corresponding requirements <strong class="purple">must</strong> be satisfied</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08741" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08741"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08741</span><br>

If pCode is a pointer to SPIR-V code, <code>pCode</code> <strong class="purple">must</strong> not declare any SPIR-V extension
that is not supported by the API, as described by the
<a href="chap50.html#spirvenv-extensions">Extension</a> section of the
<a href="chap50.html#spirvenv-capabilities">SPIR-V Environment</a> appendix</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08742" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08742"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08742</span><br>

If pCode is a pointer to SPIR-V code, and <code>pCode</code> declares any of the SPIR-V extensions
listed in the <a href="chap50.html#spirvenv-extensions-table">SPIR-V Environment</a>
appendix, one of the corresponding requirements <strong class="purple">must</strong> be satisfied</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-07912" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-07912"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-07912</span><br>

If the <a href="chap54.html#VK_NV_glsl_shader">VK_NV_glsl_shader</a> extension is not enabled, <code>pCode</code>
<strong class="purple">must</strong> be a pointer to SPIR-V code</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-01379" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-01379"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-01379</span><br>

If <code>pCode</code> is a pointer to GLSL code, it <strong class="purple">must</strong> be valid GLSL code
written to the <code>GL_KHR_vulkan_glsl</code> GLSL extension specification</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-codeSize-01085" href="chap9.html#VUID-VkShaderModuleCreateInfo-codeSize-01085"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-codeSize-01085</span><br>

<code>codeSize</code> <strong class="purple">must</strong> be greater than 0</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-sType-sType" href="chap9.html#VUID-VkShaderModuleCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-flags-zerobitmask" href="chap9.html#VUID-VkShaderModuleCreateInfo-flags-zerobitmask"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-parameter" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-parameter"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-parameter</span><br>
 <code>pCode</code> <strong class="purple">must</strong> be a valid pointer to an array of <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textrm mtight">codeSize</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> <code>uint32_t</code> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkShaderModuleCreateFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkShaderModuleCreateFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkShaderModuleCreateFlags</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To use a <a href="chap9.html#VkValidationCacheEXT">VkValidationCacheEXT</a> to cache shader validation results, add
a <a href="chap9.html#VkShaderModuleValidationCacheCreateInfoEXT">VkShaderModuleValidationCacheCreateInfoEXT</a> structure to the
<code>pNext</code> chain of the <a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a> structure,
specifying the cache object to use.</p>
</div>
<div class="paragraph">
<p>The <code>VkShaderModuleValidationCacheCreateInfoEXT</code> struct is defined as:</p>
</div>
<div id="VkShaderModuleValidationCacheCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_validation_cache</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkShaderModuleValidationCacheCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>         <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>             <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkValidationCacheEXT</span>    <span class="n">validationCache</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkShaderModuleValidationCacheCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>validationCache</code> is the validation cache object from which the
results of prior validation attempts will be written, and to which new
validation results for this <a href="chap9.html#VkShaderModule">VkShaderModule</a> will be written (if not
already present).</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkShaderModuleValidationCacheCreateInfoEXT-sType-sType" href="chap9.html#VUID-VkShaderModuleValidationCacheCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkShaderModuleValidationCacheCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SHADER_MODULE_VALIDATION_CACHE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderModuleValidationCacheCreateInfoEXT-validationCache-parameter" href="chap9.html#VUID-VkShaderModuleValidationCacheCreateInfoEXT-validationCache-parameter"></a> <span class="vuid">VUID-VkShaderModuleValidationCacheCreateInfoEXT-validationCache-parameter</span><br>
 <code>validationCache</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkValidationCacheEXT">VkValidationCacheEXT</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a shader module, call:</p>
</div>
<div id="vkDestroyShaderModule" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="kt">void</span> <span class="nf">vkDestroyShaderModule</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkShaderModule</span>                              <span class="n">shaderModule</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the shader module.</p>
</li>
<li>
<p><code>shaderModule</code> is the handle of the shader module to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A shader module <strong class="purple">can</strong> be destroyed while pipelines created using its shaders
are still in use.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyShaderModule-shaderModule-01092" href="chap9.html#VUID-vkDestroyShaderModule-shaderModule-01092"></a> <span class="vuid">VUID-vkDestroyShaderModule-shaderModule-01092</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>shaderModule</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderModule-shaderModule-01093" href="chap9.html#VUID-vkDestroyShaderModule-shaderModule-01093"></a> <span class="vuid">VUID-vkDestroyShaderModule-shaderModule-01093</span><br>

If no <code>VkAllocationCallbacks</code> were provided when <code>shaderModule</code>
was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyShaderModule-device-parameter" href="chap9.html#VUID-vkDestroyShaderModule-device-parameter"></a> <span class="vuid">VUID-vkDestroyShaderModule-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderModule-shaderModule-parameter" href="chap9.html#VUID-vkDestroyShaderModule-shaderModule-parameter"></a> <span class="vuid">VUID-vkDestroyShaderModule-shaderModule-parameter</span><br>
 If <code>shaderModule</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>shaderModule</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkShaderModule">VkShaderModule</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderModule-pAllocator-parameter" href="chap9.html#VUID-vkDestroyShaderModule-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyShaderModule-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderModule-shaderModule-parent" href="chap9.html#VUID-vkDestroyShaderModule-shaderModule-parent"></a> <span class="vuid">VUID-vkDestroyShaderModule-shaderModule-parent</span><br>
 If <code>shaderModule</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>shaderModule</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-identifiers"><a class="anchor" href="chap9.html#shaders-identifiers"></a>9.3. Shader Module Identifiers</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Shader modules have unique identifiers associated with them.
To query an implementation provided identifier, call:</p>
</div>
<div id="vkGetShaderModuleIdentifierEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_shader_module_identifier</span>
<span class="kt">void</span> <span class="nf">vkGetShaderModuleIdentifierEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkShaderModule</span>                              <span class="n">shaderModule</span><span class="p">,</span>
    <span class="n">VkShaderModuleIdentifierEXT</span><span class="o">*</span>                <span class="n">pIdentifier</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that created the shader module.</p>
</li>
<li>
<p><code>shaderModule</code> is the handle of the shader module.</p>
</li>
<li>
<p><code>pIdentifier</code> is a pointer to the returned
<a href="chap9.html#VkShaderModuleIdentifierEXT">VkShaderModuleIdentifierEXT</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The identifier returned by the implementation <strong class="purple">must</strong> only depend on
<code>shaderIdentifierAlgorithmUUID</code> and information provided in the
<a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a> which created <code>shaderModule</code>.
The implementation <strong class="purple">may</strong> return equal identifiers for two different
<a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a> structures if the difference does not affect
pipeline compilation.
Identifiers are only meaningful on different <a href="chap5.html#VkDevice">VkDevice</a> objects if the
device the identifier was queried from had the same
<a href="chap46.html#limits-shaderModuleIdentifierAlgorithmUUID"><code>shaderModuleIdentifierAlgorithmUUID</code></a> as the device consuming the
identifier.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetShaderModuleIdentifierEXT-shaderModuleIdentifier-06884" href="chap9.html#VUID-vkGetShaderModuleIdentifierEXT-shaderModuleIdentifier-06884"></a> <span class="vuid">VUID-vkGetShaderModuleIdentifierEXT-shaderModuleIdentifier-06884</span><br>

<a href="chap45.html#features-shaderModuleIdentifier"><code>shaderModuleIdentifier</code></a>
feature <strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetShaderModuleIdentifierEXT-device-parameter" href="chap9.html#VUID-vkGetShaderModuleIdentifierEXT-device-parameter"></a> <span class="vuid">VUID-vkGetShaderModuleIdentifierEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetShaderModuleIdentifierEXT-shaderModule-parameter" href="chap9.html#VUID-vkGetShaderModuleIdentifierEXT-shaderModule-parameter"></a> <span class="vuid">VUID-vkGetShaderModuleIdentifierEXT-shaderModule-parameter</span><br>
 <code>shaderModule</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkShaderModule">VkShaderModule</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetShaderModuleIdentifierEXT-pIdentifier-parameter" href="chap9.html#VUID-vkGetShaderModuleIdentifierEXT-pIdentifier-parameter"></a> <span class="vuid">VUID-vkGetShaderModuleIdentifierEXT-pIdentifier-parameter</span><br>
 <code>pIdentifier</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap9.html#VkShaderModuleIdentifierEXT">VkShaderModuleIdentifierEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetShaderModuleIdentifierEXT-shaderModule-parent" href="chap9.html#VUID-vkGetShaderModuleIdentifierEXT-shaderModule-parent"></a> <span class="vuid">VUID-vkGetShaderModuleIdentifierEXT-shaderModule-parent</span><br>
 <code>shaderModule</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a> structures have unique identifiers associated
with them.
To query an implementation provided identifier, call:</p>
</div>
<div id="vkGetShaderModuleCreateInfoIdentifierEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_shader_module_identifier</span>
<span class="kt">void</span> <span class="nf">vkGetShaderModuleCreateInfoIdentifierEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkShaderModuleCreateInfo</span><span class="o">*</span>             <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="n">VkShaderModuleIdentifierEXT</span><span class="o">*</span>                <span class="n">pIdentifier</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that <strong class="purple">can</strong> create a
<a href="chap9.html#VkShaderModule">VkShaderModule</a> from <code>pCreateInfo</code>.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a>
structure.</p>
</li>
<li>
<p><code>pIdentifier</code> is a pointer to the returned
<a href="chap9.html#VkShaderModuleIdentifierEXT">VkShaderModuleIdentifierEXT</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The identifier returned by implementation <strong class="purple">must</strong> only depend on
<code>shaderIdentifierAlgorithmUUID</code> and information provided in the
<a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a>.
The implementation <strong class="purple">may</strong> return equal identifiers for two different
<a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a> structures if the difference does not affect
pipeline compilation.
Identifiers are only meaningful on different <a href="chap5.html#VkDevice">VkDevice</a> objects if the
device the identifier was queried from had the same
<a href="chap46.html#limits-shaderModuleIdentifierAlgorithmUUID"><code>shaderModuleIdentifierAlgorithmUUID</code></a> as the device consuming the
identifier.</p>
</div>
<div class="paragraph">
<p>The identifier returned by the implementation in
<a href="chap9.html#vkGetShaderModuleCreateInfoIdentifierEXT">vkGetShaderModuleCreateInfoIdentifierEXT</a> <strong class="purple">must</strong> be equal to the
identifier returned by <a href="chap9.html#vkGetShaderModuleIdentifierEXT">vkGetShaderModuleIdentifierEXT</a> given equivalent
definitions of <a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a> and any chained <code>pNext</code>
structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetShaderModuleCreateInfoIdentifierEXT-shaderModuleIdentifier-06885" href="chap9.html#VUID-vkGetShaderModuleCreateInfoIdentifierEXT-shaderModuleIdentifier-06885"></a> <span class="vuid">VUID-vkGetShaderModuleCreateInfoIdentifierEXT-shaderModuleIdentifier-06885</span><br>

<a href="chap45.html#features-shaderModuleIdentifier"><code>shaderModuleIdentifier</code></a>
feature <strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetShaderModuleCreateInfoIdentifierEXT-device-parameter" href="chap9.html#VUID-vkGetShaderModuleCreateInfoIdentifierEXT-device-parameter"></a> <span class="vuid">VUID-vkGetShaderModuleCreateInfoIdentifierEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetShaderModuleCreateInfoIdentifierEXT-pCreateInfo-parameter" href="chap9.html#VUID-vkGetShaderModuleCreateInfoIdentifierEXT-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkGetShaderModuleCreateInfoIdentifierEXT-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetShaderModuleCreateInfoIdentifierEXT-pIdentifier-parameter" href="chap9.html#VUID-vkGetShaderModuleCreateInfoIdentifierEXT-pIdentifier-parameter"></a> <span class="vuid">VUID-vkGetShaderModuleCreateInfoIdentifierEXT-pIdentifier-parameter</span><br>
 <code>pIdentifier</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap9.html#VkShaderModuleIdentifierEXT">VkShaderModuleIdentifierEXT</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap9.html#VkShaderModuleIdentifierEXT">VkShaderModuleIdentifierEXT</a> represents a shader module identifier
returned by the implementation.</p>
</div>
<div id="VkShaderModuleIdentifierEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_shader_module_identifier</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkShaderModuleIdentifierEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>              <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">identifierSize</span><span class="p">;</span>
    <span class="kt">uint8_t</span>            <span class="n">identifier</span><span class="p">[</span><span class="n">VK_MAX_SHADER_MODULE_IDENTIFIER_SIZE_EXT</span><span class="p">];</span>
<span class="p">}</span> <span class="n">VkShaderModuleIdentifierEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>identifierSize</code> is the size, in bytes, of valid data returned in
<code>identifier</code>.</p>
</li>
<li>
<p><code>identifier</code> is a buffer of opaque data specifying an identifier.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any returned values beyond the first <code>identifierSize</code> bytes are
undefined.
Implementations <strong class="purple">must</strong> return an <code>identifierSize</code> greater than 0, and
less-or-equal to <code>VK_MAX_SHADER_MODULE_IDENTIFIER_SIZE_EXT</code>.</p>
</div>
<div class="paragraph">
<p>Two identifiers are considered equal if <code>identifierSize</code> is equal and
the first <code>identifierSize</code> bytes of <code>identifier</code> compare equal.</p>
</div>
<div class="paragraph">
<p>Implementations <strong class="purple">may</strong> return a different <code>identifierSize</code> for different
modules.
Implementations <strong class="purple">should</strong> ensure that <code>identifierSize</code> is large enough to
uniquely define a shader module.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkShaderModuleIdentifierEXT-sType-sType" href="chap9.html#VUID-VkShaderModuleIdentifierEXT-sType-sType"></a> <span class="vuid">VUID-VkShaderModuleIdentifierEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SHADER_MODULE_IDENTIFIER_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkShaderModuleIdentifierEXT-pNext-pNext" href="chap9.html#VUID-VkShaderModuleIdentifierEXT-pNext-pNext"></a> <span class="vuid">VUID-VkShaderModuleIdentifierEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_MAX_SHADER_MODULE_IDENTIFIER_SIZE_EXT</code> is the length in bytes of a
shader module identifier, as returned in
<a href="chap9.html#VkShaderModuleIdentifierEXT">VkShaderModuleIdentifierEXT</a>::<code>identifierSize</code>.</p>
</div>
<div id="VK_MAX_SHADER_MODULE_IDENTIFIER_SIZE_EXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="cp">#define VK_MAX_SHADER_MODULE_IDENTIFIER_SIZE_EXT 32U</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-binding"><a class="anchor" href="chap9.html#shaders-binding"></a>9.4. Binding Shaders</h3>
<div class="paragraph">
<p>Before a shader can be used it <strong class="purple">must</strong> be first bound to the command buffer.</p>
</div>
<div class="paragraph">
<p>Calling <a href="chap10.html#vkCmdBindPipeline">vkCmdBindPipeline</a> binds all stages corresponding to the
<a href="chap10.html#VkPipelineBindPoint">VkPipelineBindPoint</a>.
Calling <a href="chap9.html#vkCmdBindShadersEXT">vkCmdBindShadersEXT</a> binds all stages in <code>pStages</code></p>
</div>
<div class="paragraph">
<p>The following table describes the relationship between shader stages and
pipeline bind points:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Shader stage</th>
<th class="tableblock halign-left valign-top">Pipeline bind point</th>
<th class="tableblock halign-left valign-top">behavior controlled</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_VERTEX_BIT</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_GEOMETRY_BIT</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_FRAGMENT_BIT</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TASK_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_MESH_BIT_EXT</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_BIND_POINT_GRAPHICS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all <a href="chap21.html">drawing commands</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_COMPUTE_BIT</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_BIND_POINT_COMPUTE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all <a href="chap31.html">dispatch commands</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_ANY_HIT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CALLABLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CLOSEST_HIT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_INTERSECTION_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_MISS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_RAYGEN_BIT_KHR</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_BIND_POINT_RAY_TRACING_KHR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap40.html#vkCmdTraceRaysKHR">vkCmdTraceRaysKHR</a> and <a href="chap40.html#vkCmdTraceRaysIndirectKHR">vkCmdTraceRaysIndirectKHR</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_SUBPASS_SHADING_BIT_HUAWEI</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CLUSTER_CULLING_BIT_HUAWEI</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_BIND_POINT_SUBPASS_SHADING_HUAWEI</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="chap31.html#vkCmdSubpassShadingHUAWEI">vkCmdSubpassShadingHUAWEI</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="shaders-execution"><a class="anchor" href="chap9.html#shaders-execution"></a>9.5. Shader Execution</h3>
<div class="paragraph">
<p>At each stage of the pipeline, multiple invocations of a shader <strong class="purple">may</strong> execute
simultaneously.
Further, invocations of a single shader produced as the result of different
commands <strong class="purple">may</strong> execute simultaneously.
The relative execution order of invocations of the same shader type is
undefined.
Shader invocations <strong class="purple">may</strong> complete in a different order than that in which the
primitives they originated from were drawn or dispatched by the application.
However, fragment shader outputs are written to attachments in
<a href="chap28.html#primsrast-order">rasterization order</a>.</p>
</div>
<div class="paragraph">
<p>The relative execution order of invocations of different shader types is
largely undefined.
However, when invoking a shader whose inputs are generated from a previous
pipeline stage, the shader invocations from the previous stage are
guaranteed to have executed far enough to generate input values for all
required inputs.</p>
</div>
<div class="sect3">
<h4 id="shaders-termination"><a class="anchor" href="chap9.html#shaders-termination"></a>9.5.1. Shader Termination</h4>
<div class="paragraph">
<p>A shader invocation that is <em>terminated</em> has finished executing
instructions.</p>
</div>
<div class="paragraph">
<p>Executing <code>OpReturn</code> in the entry point, or executing
<code>OpTerminateInvocation</code> in any function will terminate an invocation.
Implementations <strong class="purple">may</strong> also terminate a shader invocation when <code>OpKill</code> is
executed in any function; otherwise it becomes a
<a href="chap9.html#shaders-helper-invocations">helper invocation</a>.</p>
</div>
<div class="paragraph">
<p>In addition to the above conditions, <a href="chap9.html#shaders-helper-invocations">helper
invocations</a> are terminated when all non-helper invocations in the same
<a href="chap9.html#shaders-derivative-operations">derivative group</a> either terminate or
become <a href="chap9.html#shaders-helper-invocations">helper invocations</a> via
<code>OpDemoteToHelperInvocationEXT</code> or
<code>OpKill</code>.</p>
</div>
<div class="paragraph">
<p>A shader stage for a given command completes execution when all invocations
for that stage have terminated.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-execution-memory-ordering"><a class="anchor" href="chap9.html#shaders-execution-memory-ordering"></a>9.6. Shader Memory Access Ordering</h3>
<div class="paragraph">
<p>The order in which image or buffer memory is read or written by shaders is
largely undefined.
For some shader types (vertex, tessellation evaluation, and in some cases,
fragment), even the number of shader invocations that <strong class="purple">may</strong> perform loads and
stores is undefined.</p>
</div>
<div class="paragraph">
<p>In particular, the following rules apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#shaders-vertex-execution">Vertex</a> and
<a href="chap9.html#shaders-tessellation-evaluation-execution">tessellation evaluation</a>
shaders will be invoked at least once for each unique vertex, as defined
in those sections.</p>
</li>
<li>
<p><a href="chap29.html#fragops-shader">Fragment</a> shaders will be invoked zero or more times,
as defined in that section.</p>
</li>
<li>
<p>The relative execution order of invocations of the same shader type is
undefined.
A store issued by a shader when working on primitive B might complete
prior to a store for primitive A, even if primitive A is specified prior
to primitive B. This applies even to fragment shaders; while fragment
shader outputs are always written to the framebuffer in
<a href="chap28.html#primsrast-order">rasterization order</a>, stores executed by fragment
shader invocations are not.</p>
</li>
<li>
<p>The relative execution order of invocations of different shader types is
largely undefined.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The above limitations on shader invocation order make some forms of
synchronization between shader invocations within a single set of primitives
unimplementable.
For example, having one invocation poll memory written by another invocation
assumes that the other invocation has been launched and will complete its
writes in finite time.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The <a href="chap51.html">Memory Model</a> appendix defines the terminology and rules
for how to correctly communicate between shader invocations, such as when a
write is <a href="chap51.html#memory-model-visible-to">Visible-To</a> a read, and what constitutes
a <a href="chap51.html#memory-model-access-data-race">Data Race</a>.</p>
</div>
<div class="paragraph">
<p>Applications <strong class="purple">must</strong> not cause a data race.</p>
</div>
<div class="paragraph">
<p>The SPIR-V <strong>SubgroupMemory</strong>, <strong>CrossWorkgroupMemory</strong>, and
<strong>AtomicCounterMemory</strong> memory semantics are ignored.
Sequentially consistent atomics and barriers are not supported and
<strong>SequentiallyConsistent</strong> is treated as <strong>AcquireRelease</strong>.
<strong>SequentiallyConsistent</strong> <strong class="purple">should</strong> not be used.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-inputs"><a class="anchor" href="chap9.html#shaders-inputs"></a>9.7. Shader Inputs and Outputs</h3>
<div class="paragraph">
<p>Data is passed into and out of shaders using variables with input or output
storage class, respectively.
User-defined inputs and outputs are connected between stages by matching
their <code>Location</code> decorations.
Additionally, data <strong class="purple">can</strong> be provided by or communicated to special functions
provided by the execution environment using <code>BuiltIn</code> decorations.</p>
</div>
<div class="paragraph">
<p>In many cases, the same <code>BuiltIn</code> decoration <strong class="purple">can</strong> be used in multiple
shader stages with similar meaning.
The specific behavior of variables decorated as <code>BuiltIn</code> is documented
in the following sections.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-task"><a class="anchor" href="chap9.html#shaders-task"></a>9.8. Task Shaders</h3>
<div class="paragraph">
<p>Task shaders operate in conjunction with the mesh shaders to produce a
collection of primitives that will be processed by subsequent stages of the
graphics pipeline.
Its primary purpose is to create a variable amount of subsequent mesh shader
invocations.</p>
</div>
<div class="paragraph">
<p>Task shaders are invoked via the execution of the
<a href="chap21.html#drawing-mesh-shading">programmable mesh shading</a> pipeline.</p>
</div>
<div class="paragraph">
<p>The task shader has no fixed-function inputs other than variables
identifying the specific workgroup and invocation.
In the <code>TaskNV</code> <code>Execution</code> <code>Model</code> the number of mesh shader workgroups to
create is specified via a <code>TaskCountNV</code> decorated output variable.
In the <code>TaskEXT</code> <code>Execution</code> <code>Model</code> the number of mesh shader workgroups to
create is specified via the <code>OpEmitMeshTasksEXT</code> instruction.</p>
</div>
<div class="paragraph">
<p>The task shader can write additional outputs to task memory, which can be
read by all of the mesh shader workgroups it created.</p>
</div>
<div class="sect3">
<h4 id="_task_shader_execution"><a class="anchor" href="chap9.html#_task_shader_execution"></a>9.8.1. Task Shader Execution</h4>
<div class="paragraph">
<p>Task workloads are formed from groups of work items called workgroups and
processed by the task shader in the current graphics pipeline.
A workgroup is a collection of shader invocations that execute the same
shader, potentially in parallel.
Task shaders execute in <em>global workgroups</em> which are divided into a number
of <em>local workgroups</em> with a size that <strong class="purple">can</strong> be set by assigning a value to
the <code>LocalSize</code>
or <code>LocalSizeId</code>
execution mode or via an object decorated by the <code>WorkgroupSize</code>
decoration.
An invocation within a local workgroup <strong class="purple">can</strong> share data with other members of
the local workgroup through shared variables and issue memory and control
flow barriers to synchronize with other members of the local workgroup.
If the subpass includes multiple views in its view mask, a Task shader using
<code>TaskEXT</code> <code>Execution</code> <code>Model</code> <strong class="purple">may</strong> be invoked separately for each view.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-mesh"><a class="anchor" href="chap9.html#shaders-mesh"></a>9.9. Mesh Shaders</h3>
<div class="paragraph">
<p>Mesh shaders operate in workgroups to produce a collection of primitives
that will be processed by subsequent stages of the graphics pipeline.
Each workgroup emits zero or more output primitives and the group of
vertices and their associated data required for each output primitive.</p>
</div>
<div class="paragraph">
<p>Mesh shaders are invoked via the execution of the
<a href="chap21.html#drawing-mesh-shading">programmable mesh shading</a> pipeline.</p>
</div>
<div class="paragraph">
<p>The only inputs available to the mesh shader are variables identifying the
specific workgroup and invocation and, if applicable, any outputs written to
task memory by the task shader that spawned the mesh shader’s workgroup.
The mesh shader can operate without a task shader as well.</p>
</div>
<div class="paragraph">
<p>The invocations of the mesh shader workgroup write an output mesh,
comprising a set of primitives with per-primitive attributes, a set of
vertices with per-vertex attributes, and an array of indices identifying the
mesh vertices that belong to each primitive.
The primitives of this mesh are then processed by subsequent graphics
pipeline stages, where the outputs of the mesh shader form an interface with
the fragment shader.</p>
</div>
<div class="sect3">
<h4 id="_mesh_shader_execution"><a class="anchor" href="chap9.html#_mesh_shader_execution"></a>9.9.1. Mesh Shader Execution</h4>
<div class="paragraph">
<p>Mesh workloads are formed from groups of work items called workgroups and
processed by the mesh shader in the current graphics pipeline.
A workgroup is a collection of shader invocations that execute the same
shader, potentially in parallel.
Mesh shaders execute in <em>global workgroups</em> which are divided into a number
of <em>local workgroups</em> with a size that <strong class="purple">can</strong> be set by assigning a value to
the <code>LocalSize</code>
or <code>LocalSizeId</code>
execution mode or via an object decorated by the <code>WorkgroupSize</code>
decoration.
An invocation within a local workgroup <strong class="purple">can</strong> share data with other members of
the local workgroup through shared variables and issue memory and control
flow barriers to synchronize with other members of the local workgroup.</p>
</div>
<div class="paragraph">
<p>The <em>global workgroups</em> may be generated explicitly via the API, or
implicitly through the task shader’s work creation mechanism.
If the subpass includes multiple views in its view mask, a Mesh shader using
<code>MeshEXT</code> <code>Execution</code> <code>Model</code> <strong class="purple">may</strong> be invoked separately for each view.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-cluster-culling"><a class="anchor" href="chap9.html#shaders-cluster-culling"></a>9.10. Cluster Culling Shaders</h3>
<div class="paragraph">
<p>Cluster Culling shaders are invoked via the execution of the
<a href="chap21.html#drawing-cluster-culling-shading">Programmable Cluster Culling Shading</a>
pipeline.</p>
</div>
<div class="paragraph">
<p>The only inputs available to the cluster culling shader are variables
identifying the specific workgroup and invocation.</p>
</div>
<div class="paragraph">
<p>Cluster Culling shaders operate in workgroups to perform cluster-based
culling and produce zero or more cluster drawing command that will be
processed by subsequent stages of the graphics pipeline.</p>
</div>
<div class="paragraph">
<p>The Cluster Drawing Command(CDC) is very similar to the MDI command,
invocations in workgroup can emit zero of more CDC to draw zero or more
visible cluster.</p>
</div>
<div class="sect3">
<h4 id="_cluster_culling_shader_execution"><a class="anchor" href="chap9.html#_cluster_culling_shader_execution"></a>9.10.1. Cluster Culling Shader Execution</h4>
<div class="paragraph">
<p>Cluster Culling workloads are formed from groups of work items called
workgroups and processed by the cluster culling shader in the current
graphics pipeline.
A workgroup is a collection of shader invocations that execute the same
shader, potentially in parallel.
Cluster Culling shaders execute in <em>global workgroups</em> which are divided
into a number of <em>local workgroups</em> with a size that <strong class="purple">can</strong> be set by
assigning a value to the <code>LocalSize</code>
or <code>LocalSizeId</code>
execution mode or via an object decorated by the <code>WorkgroupSize</code>
decoration.
An invocation within a local workgroup <strong class="purple">can</strong> share data with other members of
the local workgroup through shared variables and issue memory and control
flow barriers to synchronize with other members of the local workgroup.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-vertex"><a class="anchor" href="chap9.html#shaders-vertex"></a>9.11. Vertex Shaders</h3>
<div class="paragraph">
<p>Each vertex shader invocation operates on one vertex and its associated
<a href="chap22.html#fxvertex-attrib">vertex attribute</a> data, and outputs one vertex and
associated data.
Graphics pipelines using primitive shading <strong class="purple">must</strong> include a vertex shader,
and the vertex shader stage is always the first shader stage in the graphics
pipeline.</p>
</div>
<div class="sect3">
<h4 id="shaders-vertex-execution"><a class="anchor" href="chap9.html#shaders-vertex-execution"></a>9.11.1. Vertex Shader Execution</h4>
<div class="paragraph">
<p>A vertex shader <strong class="purple">must</strong> be executed at least once for each vertex specified by
a drawing command.
If the subpass includes multiple views in its view mask, the shader <strong class="purple">may</strong> be
invoked separately for each view.
During execution, the shader is presented with the index of the vertex and
instance for which it has been invoked.
Input variables declared in the vertex shader are filled by the
implementation with the values of vertex attributes associated with the
invocation being executed.</p>
</div>
<div class="paragraph">
<p>If the same vertex is specified multiple times in a drawing command (e.g. by
including the same index value multiple times in an index buffer) the
implementation <strong class="purple">may</strong> reuse the results of vertex shading if it can statically
determine that the vertex shader invocations will produce identical results.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is implementation-dependent when and if results of vertex shading are
reused, and thus how many times the vertex shader will be executed.
This is true also if the vertex shader contains stores or atomic operations
(see <a href="chap45.html#features-vertexPipelineStoresAndAtomics"><code>vertexPipelineStoresAndAtomics</code></a>).</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-tessellation-control"><a class="anchor" href="chap9.html#shaders-tessellation-control"></a>9.12. Tessellation Control Shaders</h3>
<div class="paragraph">
<p>The tessellation control shader is used to read an input patch provided by
the application and to produce an output patch.
Each tessellation control shader invocation operates on an input patch
(after all control points in the patch are processed by a vertex shader) and
its associated data, and outputs a single control point of the output patch
and its associated data, and <strong class="purple">can</strong> also output additional per-patch data.
The input patch is sized according to the <code>patchControlPoints</code> member of
<a href="chap23.html#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a>, as part of input assembly.</p>
</div>
<div class="paragraph">
<p>The input patch can also be dynamically sized with <code>patchControlPoints</code>
parameter of <a href="chap9.html#vkCmdSetPatchControlPointsEXT">vkCmdSetPatchControlPointsEXT</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the number of control points
per patch, call:</p>
</div>
<div id="vkCmdSetPatchControlPointsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state2, VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdSetPatchControlPointsEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">patchControlPoints</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>patchControlPoints</code> specifies the number of control points per
patch.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the number of control points per patch for subsequent
drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap23.html#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a>::<code>patchControlPoints</code> value
used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetPatchControlPointsEXT-None-08574" href="chap9.html#VUID-vkCmdSetPatchControlPointsEXT-None-08574"></a> <span class="vuid">VUID-vkCmdSetPatchControlPointsEXT-None-08574</span><br>

Either the <a href="chap45.html#features-extendedDynamicState2PatchControlPoints"><code>extendedDynamicState2PatchControlPoints</code></a> feature or the
<a href="chap45.html#features-shaderObject"><code>shaderObject</code></a> feature or both <strong class="purple">must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetPatchControlPointsEXT-patchControlPoints-04874" href="chap9.html#VUID-vkCmdSetPatchControlPointsEXT-patchControlPoints-04874"></a> <span class="vuid">VUID-vkCmdSetPatchControlPointsEXT-patchControlPoints-04874</span><br>

<code>patchControlPoints</code> <strong class="purple">must</strong> be greater than zero and less than or
equal to <code>VkPhysicalDeviceLimits</code>::<code>maxTessellationPatchSize</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetPatchControlPointsEXT-commandBuffer-parameter" href="chap9.html#VUID-vkCmdSetPatchControlPointsEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetPatchControlPointsEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetPatchControlPointsEXT-commandBuffer-recording" href="chap9.html#VUID-vkCmdSetPatchControlPointsEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetPatchControlPointsEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetPatchControlPointsEXT-commandBuffer-cmdpool" href="chap9.html#VUID-vkCmdSetPatchControlPointsEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetPatchControlPointsEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetPatchControlPointsEXT-videocoding" href="chap9.html#VUID-vkCmdSetPatchControlPointsEXT-videocoding"></a> <span class="vuid">VUID-vkCmdSetPatchControlPointsEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The size of the output patch is controlled by the <code>OpExecutionMode</code>
<code>OutputVertices</code> specified in the tessellation control or tessellation
evaluation shaders, which <strong class="purple">must</strong> be specified in at least one of the shaders.
The size of the input and output patches <strong class="purple">must</strong> each be greater than zero and
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxTessellationPatchSize</code>.</p>
</div>
<div class="sect3">
<h4 id="shaders-tessellation-control-execution"><a class="anchor" href="chap9.html#shaders-tessellation-control-execution"></a>9.12.1. Tessellation Control Shader Execution</h4>
<div class="paragraph">
<p>A tessellation control shader is invoked at least once for each <em>output</em>
vertex in a patch.
If the subpass includes multiple views in its view mask, the shader <strong class="purple">may</strong> be
invoked separately for each view.</p>
</div>
<div class="paragraph">
<p>Inputs to the tessellation control shader are generated by the vertex
shader.
Each invocation of the tessellation control shader <strong class="purple">can</strong> read the attributes
of any incoming vertices and their associated data.
The invocations corresponding to a given patch execute logically in
parallel, with undefined relative execution order.
However, the <code>OpControlBarrier</code> instruction <strong class="purple">can</strong> be used to provide
limited control of the execution order by synchronizing invocations within a
patch, effectively dividing tessellation control shader execution into a set
of phases.
Tessellation control shaders will read undefined values if one invocation
reads a per-vertex or per-patch output written by another invocation at any
point during the same phase, or if two invocations attempt to write
different values to the same per-patch output in a single phase.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-tessellation-evaluation"><a class="anchor" href="chap9.html#shaders-tessellation-evaluation"></a>9.13. Tessellation Evaluation Shaders</h3>
<div class="paragraph">
<p>The Tessellation Evaluation Shader operates on an input patch of control
points and their associated data, and a single input barycentric coordinate
indicating the invocation’s relative position within the subdivided patch,
and outputs a single vertex and its associated data.</p>
</div>
<div class="sect3">
<h4 id="shaders-tessellation-evaluation-execution"><a class="anchor" href="chap9.html#shaders-tessellation-evaluation-execution"></a>9.13.1. Tessellation Evaluation Shader Execution</h4>
<div class="paragraph">
<p>A tessellation evaluation shader is invoked at least once for each unique
vertex generated by the tessellator.
If the subpass includes multiple views in its view mask, the shader <strong class="purple">may</strong> be
invoked separately for each view.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-geometry"><a class="anchor" href="chap9.html#shaders-geometry"></a>9.14. Geometry Shaders</h3>
<div class="paragraph">
<p>The geometry shader operates on a group of vertices and their associated
data assembled from a single input primitive, and emits zero or more output
primitives and the group of vertices and their associated data required for
each output primitive.</p>
</div>
<div class="sect3">
<h4 id="shaders-geometry-execution"><a class="anchor" href="chap9.html#shaders-geometry-execution"></a>9.14.1. Geometry Shader Execution</h4>
<div class="paragraph">
<p>A geometry shader is invoked at least once for each primitive produced by
the tessellation stages, or at least once for each primitive generated by
<a href="chap21.html">primitive assembly</a> when tessellation is not in use.
A shader can request that the geometry shader runs multiple
<a href="chap24.html#geometry-invocations">instances</a>.
A geometry shader is invoked at least once for each instance.
If the subpass includes multiple views in its view mask, the shader <strong class="purple">may</strong> be
invoked separately for each view.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-fragment"><a class="anchor" href="chap9.html#shaders-fragment"></a>9.15. Fragment Shaders</h3>
<div class="paragraph">
<p>Fragment shaders are invoked as a <a href="chap29.html#fragops-shader">fragment operation</a> in
a graphics pipeline.
Each fragment shader invocation operates on a single fragment and its
associated data.
With few exceptions, fragment shaders do not have access to any data
associated with other fragments and are considered to execute in isolation
of fragment shader invocations associated with other fragments.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-compute"><a class="anchor" href="chap9.html#shaders-compute"></a>9.16. Compute Shaders</h3>
<div class="paragraph">
<p>Compute shaders are invoked via <a href="chap31.html#vkCmdDispatch">vkCmdDispatch</a> and
<a href="chap31.html#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a> commands.
In general, they have access to similar resources as shader stages executing
as part of a graphics pipeline.</p>
</div>
<div class="paragraph">
<p>Compute workloads are formed from groups of work items called workgroups and
processed by the compute shader in the current compute pipeline.
A workgroup is a collection of shader invocations that execute the same
shader, potentially in parallel.
Compute shaders execute in <em>global workgroups</em> which are divided into a
number of <em>local workgroups</em> with a size that <strong class="purple">can</strong> be set by assigning a
value to the <code>LocalSize</code>
or <code>LocalSizeId</code>
execution mode or via an object decorated by the <code>WorkgroupSize</code>
decoration.
An invocation within a local workgroup <strong class="purple">can</strong> share data with other members of
the local workgroup through shared variables and issue memory and control
flow barriers to synchronize with other members of the local workgroup.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-ray-generation"><a class="anchor" href="chap9.html#shaders-ray-generation"></a>9.17. Ray Generation Shaders</h3>
<div class="paragraph">
<p>A ray generation shader is similar to a compute shader.
Its main purpose is to execute ray tracing queries using <code>OpTraceRayKHR</code>
instructions and process the results.</p>
</div>
<div class="sect3">
<h4 id="shaders-ray-generation-execution"><a class="anchor" href="chap9.html#shaders-ray-generation-execution"></a>9.17.1. Ray Generation Shader Execution</h4>
<div class="paragraph">
<p>One ray generation shader is executed per ray tracing dispatch.
Its location in the shader binding table (see <a href="chap40.html#shader-binding-table">Shader
Binding Table</a> for details) is passed directly into
<a href="chap40.html#vkCmdTraceRaysKHR">vkCmdTraceRaysKHR</a> using the <code>pRaygenShaderBindingTable</code> parameter
or
<a href="chap40.html#vkCmdTraceRaysNV">vkCmdTraceRaysNV</a> using the <code>raygenShaderBindingTableBuffer</code> and
<code>raygenShaderBindingOffset</code> parameters
.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-intersection"><a class="anchor" href="chap9.html#shaders-intersection"></a>9.18. Intersection Shaders</h3>
<div class="paragraph">
<p>Intersection shaders enable the implementation of arbitrary, application
defined geometric primitives.
An intersection shader for a primitive is executed whenever its axis-aligned
bounding box is hit by a ray.</p>
</div>
<div class="paragraph">
<p>Like other ray tracing shader domains, an intersection shader operates on a
single ray at a time.
It also operates on a single primitive at a time.
It is therefore the purpose of an intersection shader to compute the
ray-primitive intersections and report them.
To report an intersection, the shader calls the <code>OpReportIntersectionKHR</code>
instruction.</p>
</div>
<div class="paragraph">
<p>An intersection shader communicates with any-hit and closest shaders by
generating attribute values that they <strong class="purple">can</strong> read.
Intersection shaders <strong class="purple">cannot</strong> read or modify the ray payload.</p>
</div>
<div class="sect3">
<h4 id="shaders-intersection-execution"><a class="anchor" href="chap9.html#shaders-intersection-execution"></a>9.18.1. Intersection Shader Execution</h4>
<div class="paragraph">
<p>The order in which intersections are found along a ray, and therefore the
order in which intersection shaders are executed, is unspecified.</p>
</div>
<div class="paragraph">
<p>The intersection shader of the closest AABB which intersects the ray is
guaranteed to be executed at some point during traversal, unless the ray is
forcibly terminated.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-any-hit"><a class="anchor" href="chap9.html#shaders-any-hit"></a>9.19. Any-Hit Shaders</h3>
<div class="paragraph">
<p>The any-hit shader is executed after the intersection shader reports an
intersection that lies within the current <span class="eq">[t<sub>min</sub>,t<sub>max</sub>]</span> of the ray.
The main use of any-hit shaders is to programmatically decide whether or not
an intersection will be accepted.
The intersection will be accepted unless the shader calls the
<code>OpIgnoreIntersectionKHR</code> instruction.
Any-hit shaders have read-only access to the attributes generated by the
corresponding intersection shader, and <strong class="purple">can</strong> read or modify the ray payload.</p>
</div>
<div class="sect3">
<h4 id="shaders-any-hit-execution"><a class="anchor" href="chap9.html#shaders-any-hit-execution"></a>9.19.1. Any-Hit Shader Execution</h4>
<div class="paragraph">
<p>The order in which intersections are found along a ray, and therefore the
order in which any-hit shaders are executed, is unspecified.</p>
</div>
<div class="paragraph">
<p>The any-hit shader of the closest hit is guaranteed to be executed at some
point during traversal, unless the ray is forcibly terminated.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-closest-hit"><a class="anchor" href="chap9.html#shaders-closest-hit"></a>9.20. Closest Hit Shaders</h3>
<div class="paragraph">
<p>Closest hit shaders have read-only access to the attributes generated by the
corresponding intersection shader, and <strong class="purple">can</strong> read or modify the ray payload.
They also have access to a number of system-generated values.
Closest hit shaders <strong class="purple">can</strong> call <code>OpTraceRayKHR</code> to recursively trace rays.</p>
</div>
<div class="sect3">
<h4 id="shaders-closest-hit-execution"><a class="anchor" href="chap9.html#shaders-closest-hit-execution"></a>9.20.1. Closest Hit Shader Execution</h4>
<div class="paragraph">
<p>Exactly one closest hit shader is executed when traversal is finished and an
intersection has been found and accepted.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-miss"><a class="anchor" href="chap9.html#shaders-miss"></a>9.21. Miss Shaders</h3>
<div class="paragraph">
<p>Miss shaders <strong class="purple">can</strong> access the ray payload and <strong class="purple">can</strong> trace new rays through the
<code>OpTraceRayKHR</code> instruction, but <strong class="purple">cannot</strong> access attributes since they are
not associated with an intersection.</p>
</div>
<div class="sect3">
<h4 id="shaders-miss-execution"><a class="anchor" href="chap9.html#shaders-miss-execution"></a>9.21.1. Miss Shader Execution</h4>
<div class="paragraph">
<p>A miss shader is executed instead of a closest hit shader if no intersection
was found during traversal.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-callable"><a class="anchor" href="chap9.html#shaders-callable"></a>9.22. Callable Shaders</h3>
<div class="paragraph">
<p>Callable shaders <strong class="purple">can</strong> access a callable payload that works similarly to ray
payloads to do subroutine work.</p>
</div>
<div class="sect3">
<h4 id="shaders-callable-execution"><a class="anchor" href="chap9.html#shaders-callable-execution"></a>9.22.1. Callable Shader Execution</h4>
<div class="paragraph">
<p>A callable shader is executed by calling <code>OpExecuteCallableKHR</code> from an
allowed shader stage.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-interpolation-decorations"><a class="anchor" href="chap9.html#shaders-interpolation-decorations"></a>9.23. Interpolation decorations</h3>
<div class="paragraph">
<p>Variables in the <code>Input</code> storage class in a fragment shader’s interface
are interpolated from the values specified by the primitive being
rasterized.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Interpolation decorations can be present on input and output variables in
pre-rasterization shaders but have no effect on the interpolation performed.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>An undecorated input variable will be interpolated with perspective-correct
interpolation according to the primitive type being rasterized.
<a href="chap28.html#line_perspective_interpolation">Lines</a> and
<a href="chap28.html#triangle_perspective_interpolation">polygons</a> are interpolated in the same
way as the primitive’s clip coordinates.
If the <code>NoPerspective</code> decoration is present, linear interpolation is
instead used for <a href="chap28.html#line_linear_interpolation">lines</a> and
<a href="chap28.html#triangle_linear_interpolation">polygons</a>.
For points, as there is only a single vertex, input values are never
interpolated and instead take the value written for the single vertex.</p>
</div>
<div class="paragraph">
<p>If the <code>Flat</code> decoration is present on an input variable, the value is
not interpolated, and instead takes its value directly from the
<a href="chap27.html#vertexpostproc-flatshading">provoking vertex</a>.
Fragment shader inputs that are signed or unsigned integers, integer
vectors, or any double-precision floating-point type <strong class="purple">must</strong> be decorated with
<code>Flat</code>.</p>
</div>
<div class="paragraph">
<p>Interpolation of input variables is performed at an implementation-defined
position within the fragment area being shaded.
The position is further constrained as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the <code>Centroid</code> decoration is used, the interpolation position used
for the variable <strong class="purple">must</strong> also fall within the bounds of the primitive
being rasterized.</p>
</li>
<li>
<p>If the <code>Sample</code> decoration is used, the interpolation position used
for the variable <strong class="purple">must</strong> be at the position of the sample being shaded by
the current fragment shader invocation.</p>
</li>
<li>
<p>If a sample count of 1 is used, the interpolation position <strong class="purple">must</strong> be at
the center of the fragment area.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>As <code>Centroid</code> restricts the possible interpolation position to the
covered area of the primitive, the position can be forced to vary between
neighboring fragments when it otherwise would not.
Derivatives calculated based on these differing locations can produce
inconsistent results compared to undecorated inputs.
It is recommended that input variables used in derivative calculations are
not decorated with <code>Centroid</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div id="shaders-interpolation-decorations-pervertexkhr" class="paragraph">
<p>If the <code>PerVertexKHR</code> decoration is present on an input variable, the
value is not interpolated, and instead values from all input vertices are
available in an array.
Each index of the array corresponds to one of the vertices of the primitive
that produced the fragment.</p>
</div>
<div class="paragraph">
<p>If the <code>CustomInterpAMD</code> decoration is present on an input variable, the
value <strong class="purple">cannot</strong> be accessed directly; instead the extended instruction
<code>InterpolateAtVertexAMD</code> <strong class="purple">must</strong> be used to obtain values from the input
vertices.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-staticuse"><a class="anchor" href="chap9.html#shaders-staticuse"></a>9.24. Static Use</h3>
<div class="paragraph">
<p>A SPIR-V module declares a global object in memory using the <code>OpVariable</code>
instruction, which results in a pointer <code>x</code> to that object.
A specific entry point in a SPIR-V module is said to <em>statically use</em> that
object if that entry point’s call tree contains a function containing a
instruction with <code>x</code> as an <code>id</code> operand.
A shader entry point also <em>statically uses</em> any variables explicitly
declared in its interface.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-scope"><a class="anchor" href="chap9.html#shaders-scope"></a>9.25. Scope</h3>
<div class="paragraph">
<p>A <em>scope</em> describes a set of shader invocations, where each such set is a
<em>scope instance</em>.
Each invocation belongs to one or more scope instances, but belongs to no
more than one scope instance for each scope.</p>
</div>
<div class="paragraph">
<p>The operations available between invocations in a given scope instance vary,
with smaller scopes generally able to perform more operations, and with
greater efficiency.</p>
</div>
<div class="sect3">
<h4 id="shaders-scope-cross-device"><a class="anchor" href="chap9.html#shaders-scope-cross-device"></a>9.25.1. Cross Device</h4>
<div class="paragraph">
<p>All invocations executed in a Vulkan instance fall into a single <em>cross
device scope instance</em>.</p>
</div>
<div class="paragraph">
<p>Whilst the <code>CrossDevice</code> scope is defined in SPIR-V, it is disallowed in
Vulkan.
API <a href="chap7.html">synchronization</a> commands <strong class="purple">can</strong> be used to
communicate between devices.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-device"><a class="anchor" href="chap9.html#shaders-scope-device"></a>9.25.2. Device</h4>
<div class="paragraph">
<p>All invocations executed on a single device form a <em>device scope instance</em>.</p>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-vulkanMemoryModel"><code>vulkanMemoryModel</code></a> and
<a href="chap45.html#features-vulkanMemoryModelDeviceScope"><code>vulkanMemoryModelDeviceScope</code></a> features are enabled, this scope is
represented in SPIR-V by the <code>Device</code> <code>Scope</code>, which <strong class="purple">can</strong> be used as a
<code>Memory</code> <code>Scope</code> for barrier and atomic operations.</p>
</div>
<div class="paragraph">
<p>If both the <a href="chap45.html#features-shaderDeviceClock"><code>shaderDeviceClock</code></a> and
<a href="chap45.html#features-vulkanMemoryModelDeviceScope"><code>vulkanMemoryModelDeviceScope</code></a> features are enabled, using the
<code>Device</code> <code>Scope</code> with the <code>OpReadClockKHR</code> instruction will read
from a clock that is consistent across invocations in the same device scope
instance.</p>
</div>
<div class="paragraph">
<p>There is no method to synchronize the execution of these invocations within
SPIR-V, and this <strong class="purple">can</strong> only be done with API synchronization primitives.</p>
</div>
<div class="paragraph">
<p>Invocations executing on different devices in a device group operate in
separate device scope instances.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-queue-family"><a class="anchor" href="chap9.html#shaders-scope-queue-family"></a>9.25.3. Queue Family</h4>
<div class="paragraph">
<p>Invocations executed by queues in a given queue family form a <em>queue family
scope instance</em>.</p>
</div>
<div class="paragraph">
<p>This scope is identified in SPIR-V as the
<code>QueueFamily</code> <code>Scope</code> if the <a href="chap45.html#features-vulkanMemoryModel"><code>vulkanMemoryModel</code></a> feature is enabled, or if not, the
<code>Device</code> <code>Scope</code>, which <strong class="purple">can</strong> be used as a <code>Memory</code> <code>Scope</code> for
barrier and atomic operations.</p>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-shaderDeviceClock"><code>shaderDeviceClock</code></a> feature is
enabled,
but the <a href="chap45.html#features-vulkanMemoryModelDeviceScope"><code>vulkanMemoryModelDeviceScope</code></a> feature is not enabled,
using the <code>Device</code> <code>Scope</code> with the <code>OpReadClockKHR</code> instruction
will read from a clock that is consistent across invocations in the same
queue family scope instance.</p>
</div>
<div class="paragraph">
<p>There is no method to synchronize the execution of these invocations within
SPIR-V, and this <strong class="purple">can</strong> only be done with API synchronization primitives.</p>
</div>
<div class="paragraph">
<p>Each invocation in a queue family scope instance <strong class="purple">must</strong> be in the same
<a href="chap9.html#shaders-scope-device">device scope instance</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-command"><a class="anchor" href="chap9.html#shaders-scope-command"></a>9.25.4. Command</h4>
<div class="paragraph">
<p>Any shader invocations executed as the result of a single command such as
<a href="chap31.html#vkCmdDispatch">vkCmdDispatch</a> or <a href="chap21.html#vkCmdDraw">vkCmdDraw</a> form a <em>command scope instance</em>.
For indirect drawing commands with <code>drawCount</code> greater than one,
invocations from separate draws are in separate command scope instances.
For ray tracing shaders, an invocation group is an implementation-dependent
subset of the set of shader invocations of a given shader stage which are
produced by a single trace rays command.</p>
</div>
<div class="paragraph">
<p>There is no specific <code>Scope</code> for communication across invocations in a
command scope instance.
As this has a clear boundary at the API level, coordination here <strong class="purple">can</strong> be
performed in the API, rather than in SPIR-V.</p>
</div>
<div class="paragraph">
<p>Each invocation in a command scope instance <strong class="purple">must</strong> be in the same
<a href="chap9.html#shaders-scope-queue-family">queue-family scope instance</a>.</p>
</div>
<div class="paragraph">
<p>For shaders without defined <a href="chap9.html#shaders-scope-workgroup">workgroups</a>, this
set of invocations forms an <em>invocation group</em> as defined in the
<a href="chap2.html#spirv-spec">SPIR-V specification</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-primitive"><a class="anchor" href="chap9.html#shaders-scope-primitive"></a>9.25.5. Primitive</h4>
<div class="paragraph">
<p>Any fragment shader invocations executed as the result of rasterization of a
single primitive form a <em>primitive scope instance</em>.</p>
</div>
<div class="paragraph">
<p>There is no specific <code>Scope</code> for communication across invocations in a
primitive scope instance.</p>
</div>
<div class="paragraph">
<p>Any generated <a href="chap9.html#shaders-helper-invocations">helper invocations</a> are
included in this scope instance.</p>
</div>
<div class="paragraph">
<p>Each invocation in a primitive scope instance <strong class="purple">must</strong> be in the same
<a href="chap9.html#shaders-scope-command">command scope instance</a>.</p>
</div>
<div class="paragraph">
<p>Any input variables decorated with <code>Flat</code> are uniform within a primitive
scope instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-shadercall"><a class="anchor" href="chap9.html#shaders-scope-shadercall"></a>9.25.6. Shader Call</h4>
<div class="paragraph">
<p>Any <a href="chap51.html#shader-call-related">shader-call-related</a> invocations that are
executed in one or more ray tracing execution models form a <em>shader call
scope instance</em>.</p>
</div>
<div class="paragraph">
<p>The <code>ShaderCallKHR</code> <code>Scope</code> can be used as <code>Memory</code> <code>Scope</code> for
barrier and atomic operations.</p>
</div>
<div class="paragraph">
<p>Each invocation in a shader call scope instance <strong class="purple">must</strong> be in the same
<a href="chap9.html#shaders-scope-queue-family">queue family scope instance</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-workgroup"><a class="anchor" href="chap9.html#shaders-scope-workgroup"></a>9.25.7. Workgroup</h4>
<div class="paragraph">
<p>A <em>local workgroup</em> is a set of invocations that can synchronize and share
data with each other using memory in the <code>Workgroup</code> storage class.</p>
</div>
<div class="paragraph">
<p>The <code>Workgroup</code> <code>Scope</code> can be used as both an <code>Execution</code>
<code>Scope</code> and <code>Memory</code> <code>Scope</code> for barrier and atomic operations.</p>
</div>
<div class="paragraph">
<p>Each invocation in a local workgroup <strong class="purple">must</strong> be in the same
<a href="chap9.html#shaders-scope-command">command scope instance</a>.</p>
</div>
<div class="paragraph">
<p>Only
task, mesh, and
compute shaders have defined workgroups - other shader types <strong class="purple">cannot</strong> use
workgroup functionality.
For shaders that have defined workgroups, this set of invocations forms an
<em>invocation group</em> as defined in the <a href="chap2.html#spirv-spec">SPIR-V specification</a>.</p>
</div>
<div id="workgroup-padding" class="paragraph">
<p>When variables declared with the <code>Workgroup</code> storage class are explicitly
laid out (hence they are also decorated with <code>Block</code>), the amount of
storage consumed is the size of the largest Block variable, not counting any
padding at the end.
The amount of storage consumed by the
non-Block
variables declared with the <code>Workgroup</code> storage class is
implementation-dependent.
However, the amount of storage consumed may not exceed the largest block
size that would be obtained if all active
non-Block
variables declared with <code>Workgroup</code> storage class were assigned offsets
in an arbitrary order by successively taking the smallest valid offset
according to the <a href="chap15.html#interfaces-resources-standard-layout">Standard Storage
Buffer Layout</a> rules, and with <code>Boolean</code> values considered as 32-bit
integer values for the purpose of this calculation.
(This is equivalent to using the GLSL std430 layout rules.)</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-subgroup"><a class="anchor" href="chap9.html#shaders-scope-subgroup"></a>9.25.8. Subgroup</h4>
<div class="paragraph">
<p>A <em>subgroup</em> (see the subsection “Control Flow” of section 2 of the SPIR-V
1.3 Revision 1 specification) is a set of invocations that can synchronize
and share data with each other efficiently.</p>
</div>
<div class="paragraph">
<p>The <code>Subgroup</code> <code>Scope</code> can be used as both an <code>Execution</code>
<code>Scope</code> and <code>Memory</code> <code>Scope</code> for barrier and atomic operations.
Other <a href="chap46.html#VkSubgroupFeatureFlagBits">subgroup features</a> allow the use of
<a href="chap9.html#shaders-group-operations">group operations</a> with subgroup scope.</p>
</div>
<div class="paragraph">
<p>If the <a href="chap45.html#features-shaderSubgroupClock"><code>shaderSubgroupClock</code></a> feature
is enabled, using the <code>Subgroup</code> <code>Scope</code> with the <code>OpReadClockKHR</code>
instruction will read from a clock that is consistent across invocations in
the same subgroup.</p>
</div>
<div class="paragraph">
<p>For <a href="chap9.html#shaders-scope-workgroup">shaders that have defined workgroups</a>, each
invocation in a subgroup <strong class="purple">must</strong> be in the same <a href="chap9.html#shaders-scope-workgroup">local workgroup</a>.</p>
</div>
<div class="paragraph">
<p>In other shader stages, each invocation in a subgroup <strong class="purple">must</strong> be in the same
<a href="chap9.html#shaders-scope-device">device scope instance</a>.</p>
</div>
<div class="paragraph">
<p>Only <a href="chap46.html#limits-subgroup-supportedStages">shader stages that support subgroup
operations</a> have defined subgroups.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In shaders, there are two kinds of uniformity that are of primary interest
to applications: uniform within an invocation group (a.k.a.
dynamically uniform), and uniform within a subgroup scope.</p>
</div>
<div class="paragraph">
<p>While one could make the assumption that being uniform in invocation group
implies being uniform in subgroup scope, it is not necessarily the case for
shader stages without defined workgroups.</p>
</div>
<div class="paragraph">
<p>For shader stages with defined workgroups however, the relationship between
invocation group and subgroup scope is well defined as a subgroup is a
subset of the workgroup, and the workgroup is the invocation group.
If a value is uniform in invocation group, it is by definition also uniform
in subgroup scope.
This is important if writing code like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="o">~~~~</span> <span class="n">uniform</span> <span class="n">texture2D</span> <span class="n">Textures</span><span class="p">[];</span> <span class="n">uint</span> <span class="n">dynamicallyUniformValue</span> <span class="o">=</span>
<span class="n">gl_WorkGroupID</span><span class="p">.</span><span class="n">x</span><span class="p">;</span> <span class="n">vec4</span> <span class="n">value</span> <span class="o">=</span> <span class="n">texelFetch</span><span class="p">(</span><span class="n">Textures</span><span class="p">[</span><span class="n">dynamicallyUniformValue</span><span class="p">],</span>
<span class="n">coord</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>vec4 subgroupUniformValue = subgroupBroadcastFirst(dynamicallyUniformValue);
<sub>~</sub>~</p>
</div>
<div class="paragraph">
<p>In shader stages without defined workgroups, this gets complicated.
Due to scoping rules, there is no guarantee that a subgroup is a subset of
the invocation group, which in turn defines the scope for dynamically
uniform.
In graphics, the invocation group is a single draw command, except for
multi-draw situations, and indirect draws with drawCount &gt; 1, where there
are multiple invocation groups, one per <code>DrawIndex</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="o">~~~~</span>
<span class="c1">// Assume SubgroupSize = 8, where 3 draws are packed together.</span>
<span class="c1">// Two subgroups were generated.</span>
<span class="n">uniform</span> <span class="n">texture2D</span> <span class="n">Textures</span><span class="p">[];</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>uint dynamicallyUniformValue = gl_DrawID;</p>
</div>
<div class="paragraph">
<p>uint notActuallyDynamicallyUniformAnymore =
    subgroupBroadcastFirst(dynamicallyUniformValue);</p>
</div>
<div class="paragraph">
<p>vec4 value = texelFetch(Textures[notActuallyDynamicallyUniformAnymore],
                        coord, 0);
<sub>~</sub>~</p>
</div>
<div class="paragraph">
<p>Another problematic scenario is when a shader attempts to help the compiler
notice that a value is uniform in subgroup scope to potentially improve
performance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="o">~~~~</span> <span class="n">layout</span><span class="p">(</span><span class="n">location</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="n">flat</span> <span class="n">in</span> <span class="n">dynamicallyUniformIndex</span><span class="p">;</span>
<span class="c1">// Vertex shader might have emitted a value that depends only on gl_DrawID,</span>
<span class="c1">// making it dynamically uniform.</span>
<span class="c1">// Give knowledge to compiler that the flat input is dynamically uniform,</span>
<span class="c1">// as this is not a guarantee otherwise.</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>uint uniformIndex = subgroupBroadcastFirst(dynamicallyUniformIndex);</p>
</div>
<div class="paragraph">
<p>DrawData d = UBO.perDrawData[uniformIndex]; <sub>~</sub>~</p>
</div>
<div class="paragraph">
<p>For implementations where subgroups are packed across draws, the
implementation must make sure to handle descriptor indexing correctly.
From the specification’s point of view, a dynamically uniform index does not
require <code>NonUniform</code> decoration, and such an implementation will likely
either promote descriptor indexing into <code>NonUniform</code> on its own, or
handle non-uniformity implicitly.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-quad"><a class="anchor" href="chap9.html#shaders-scope-quad"></a>9.25.9. Quad</h4>
<div class="paragraph">
<p>A <em>quad scope instance</em> is formed of four shader invocations.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, each invocation in a quad scope instance is formed of
invocations in neighboring framebuffer locations <span class="eq">(x<sub>i</sub>, y<sub>i</sub>)</span>, where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">i</span> is the index of the invocation within the scope instance.</p>
</li>
<li>
<p><span class="eq">w</span> and <span class="eq">h</span> are the number of pixels the fragment covers in the
<span class="eq">x</span> and <span class="eq">y</span> axes.</p>
</li>
<li>
<p><span class="eq">w</span> and <span class="eq">h</span> are identical for all participating invocations.</p>
</li>
<li>
<p><span class="eq">(x<sub>0</sub>) = (x<sub>1</sub> - w) = (x<sub>2</sub>) = (x<sub>3</sub> - w)</span></p>
</li>
<li>
<p><span class="eq">(y<sub>0</sub>) = (y<sub>1</sub>) = (y<sub>2</sub> - h) = (y<sub>3</sub> - h)</span></p>
</li>
<li>
<p>Each invocation has the same layer and sample indices.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In a compute shader, if the <code>DerivativeGroupQuadsNV</code> execution mode is
specified, each invocation in a quad scope instance is formed of invocations
with adjacent local invocation IDs <span class="eq">(x<sub>i</sub>, y<sub>i</sub>)</span>, where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">i</span> is the index of the invocation within the quad scope instance.</p>
</li>
<li>
<p><span class="eq">(x<sub>0</sub>) = (x<sub>1</sub> - 1) = (x<sub>2</sub>) = (x<sub>3</sub> - 1)</span></p>
</li>
<li>
<p><span class="eq">(y<sub>0</sub>) = (y<sub>1</sub>) = (y<sub>2</sub> - 1) = (y<sub>3</sub> - 1)</span></p>
</li>
<li>
<p><span class="eq">x<sub>0</sub></span> and <span class="eq">y<sub>0</sub></span> are integer multiples of 2.</p>
</li>
<li>
<p>Each invocation has the same <span class="eq">z</span> coordinate.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In a compute shader, if the <code>DerivativeGroupLinearNV</code> execution mode is
specified, each invocation in a quad scope instance is formed of invocations
with adjacent local invocation indices <span class="eq">(l<sub>i</sub>)</span>, where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">i</span> is the index of the invocation within the quad scope instance.</p>
</li>
<li>
<p><span class="eq">(l<sub>0</sub>) = (l<sub>1</sub> - 1) = (l<sub>2</sub> - 2) = (l<sub>3</sub> - 3)</span></p>
</li>
<li>
<p><span class="eq">l<sub>0</sub></span> is an integer multiple of 4.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In all shaders, each invocation in a quad scope instance is formed of
invocations in adjacent subgroup invocation indices <span class="eq">(s<sub>i</sub>)</span>, where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">i</span> is the index of the invocation within the quad scope instance.</p>
</li>
<li>
<p><span class="eq">(s<sub>0</sub>) = (s<sub>1</sub> - 1) = (s<sub>2</sub> - 2) = (s<sub>3</sub> - 3)</span></p>
</li>
<li>
<p><span class="eq">s<sub>0</sub></span> is an integer multiple of 4.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each invocation in a quad scope instance <strong class="purple">must</strong> be in the same
<a href="chap9.html#shaders-scope-subgroup">subgroup</a>.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, each invocation in a quad scope instance <strong class="purple">must</strong> be in
the same <a href="chap9.html#shaders-scope-primitive">primitive scope instance</a>.</p>
</div>
<div class="paragraph">
<p>Fragment
and compute
shaders have defined quad scope instances.
If the <a href="chap46.html#limits-subgroup-quadOperationsInAllStages"><code>quadOperationsInAllStages</code></a> limit is supported, any
<a href="chap46.html#limits-subgroup-supportedStages">shader stages that support subgroup
operations</a> also have defined quad scope instances.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-fragment-interlock"><a class="anchor" href="chap9.html#shaders-scope-fragment-interlock"></a>9.25.10. Fragment Interlock</h4>
<div class="paragraph">
<p>A <em>fragment interlock scope instance</em> is formed of fragment shader
invocations based on their framebuffer locations <span class="eq">(x,y,layer,sample)</span>,
executed by commands inside a single <a href="chap8.html">subpass</a>.</p>
</div>
<div class="paragraph">
<p>The specific set of invocations included varies based on the execution mode
as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the <code>SampleInterlockOrderedEXT</code> or
<code>SampleInterlockUnorderedEXT</code> execution modes are used, only
invocations with identical framebuffer locations
<span class="eq">(x,y,layer,sample)</span> are included.</p>
</li>
<li>
<p>If the <code>PixelInterlockOrderedEXT</code> or <code>PixelInterlockUnorderedEXT</code>
execution modes are used, fragments with different sample ids are also
included.</p>
</li>
<li>
<p>If the <code>ShadingRateInterlockOrderedEXT</code> or
    <code>ShadingRateInterlockUnorderedEXT</code> execution modes are used,
    fragments from neighbouring framebuffer locations are also included.
    The
<a href="chap28.html#primsrast-shading-rate-image">shading rate image</a>
or
<a href="chap28.html#primsrast-fragment-shading-rate">fragment shading rate</a>
    determines these fragments.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only fragment shaders with one of the above execution modes have defined
fragment interlock scope instances.</p>
</div>
<div class="paragraph">
<p>There is no specific <code>Scope</code> value for communication across invocations
in a fragment interlock scope instance.
However, this is implicitly used as a memory scope by
<code>OpBeginInvocationInterlockEXT</code> and <code>OpEndInvocationInterlockEXT</code>.</p>
</div>
<div class="paragraph">
<p>Each invocation in a fragment interlock scope instance <strong class="purple">must</strong> be in the same
<a href="chap9.html#shaders-scope-queue-family">queue family scope instance</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-invocation"><a class="anchor" href="chap9.html#shaders-scope-invocation"></a>9.25.11. Invocation</h4>
<div class="paragraph">
<p>The smallest <em>scope</em> is a single invocation; this is represented by the
<code>Invocation</code> <code>Scope</code> in SPIR-V.</p>
</div>
<div class="paragraph">
<p>Fragment shader invocations <strong class="purple">must</strong> be in a <a href="chap9.html#shaders-scope-primitive">primitive scope instance</a>.</p>
</div>
<div class="paragraph">
<p>Invocations in <a href="chap9.html#shaders-scope-fragment-interlock">fragment shaders that
have a defined fragment interlock scope</a> <strong class="purple">must</strong> be in a
<a href="chap9.html#shaders-scope-fragment-interlock">fragment interlock scope instance</a>.</p>
</div>
<div class="paragraph">
<p>Invocations in <a href="chap9.html#shaders-scope-workgroup">shaders that have defined
workgroups</a> <strong class="purple">must</strong> be in a <a href="chap9.html#shaders-scope-workgroup">local workgroup</a>.</p>
</div>
<div class="paragraph">
<p>Invocations in <a href="chap9.html#shaders-scope-subgroup">shaders that have a defined
subgroup scope</a> <strong class="purple">must</strong> be in a <a href="chap9.html#shaders-scope-subgroup">subgroup</a>.</p>
</div>
<div class="paragraph">
<p>Invocations in <a href="chap9.html#shaders-scope-quad">shaders that have a defined quad
scope</a> <strong class="purple">must</strong> be in a <a href="chap9.html#shaders-scope-quad">quad scope instance</a>.</p>
</div>
<div class="paragraph">
<p>All invocations in all stages <strong class="purple">must</strong> be in a <a href="chap9.html#shaders-scope-command">command
scope instance</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-group-operations"><a class="anchor" href="chap9.html#shaders-group-operations"></a>9.26. Group Operations</h3>
<div class="paragraph">
<p><em>Group operations</em> are executed by multiple invocations within a
<a href="chap9.html#shaders-scope">scope instance</a>; with each invocation involved in
calculating the result.
This provides a mechanism for efficient communication between invocations in
a particular scope instance.</p>
</div>
<div class="paragraph">
<p>Group operations all take a <code>Scope</code> defining the desired
<a href="chap9.html#shaders-scope">scope instance</a> to operate within.
Only the <code>Subgroup</code> scope <strong class="purple">can</strong> be used for these operations; the
<a href="chap46.html#limits-subgroupSupportedOperations"><code>subgroupSupportedOperations</code></a>
limit defines which types of operation <strong class="purple">can</strong> be used.</p>
</div>
<div class="sect3">
<h4 id="shaders-group-operations-basic"><a class="anchor" href="chap9.html#shaders-group-operations-basic"></a>9.26.1. Basic Group Operations</h4>
<div class="paragraph">
<p>Basic group operations include the use of <code>OpGroupNonUniformElect</code>,
<code>OpControlBarrier</code>, <code>OpMemoryBarrier</code>, and atomic operations.</p>
</div>
<div class="paragraph">
<p><code>OpGroupNonUniformElect</code> <strong class="purple">can</strong> be used to choose a single invocation to
perform a task for the whole group.
Only the invocation with the lowest id in the group will return <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The <a href="chap51.html">Memory Model</a> appendix defines the operation of barriers
and atomics.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-group-operations-vote"><a class="anchor" href="chap9.html#shaders-group-operations-vote"></a>9.26.2. Vote Group Operations</h4>
<div class="paragraph">
<p>The vote group operations allow invocations within a group to compare values
across a group.
The types of votes enabled are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Do all active group invocations agree that an expression is true?</p>
</li>
<li>
<p>Do any active group invocations evaluate an expression to true?</p>
</li>
<li>
<p>Do all active group invocations have the same value of an expression?</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>These operations are useful in combination with control flow in that they
allow for developers to check whether conditions match across the group and
choose potentially faster code-paths in these cases.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="shaders-group-operations-arithmetic"><a class="anchor" href="chap9.html#shaders-group-operations-arithmetic"></a>9.26.3. Arithmetic Group Operations</h4>
<div class="paragraph">
<p>The arithmetic group operations allow invocations to perform scans and
reductions across a group.
The operators supported are add, mul, min, max, and, or, xor.</p>
</div>
<div class="paragraph">
<p>For reductions, every invocation in a group will obtain the cumulative
result of these operators applied to all values in the group.
For exclusive scans, each invocation in a group will obtain the cumulative
result of these operators applied to all values in invocations with a lower
index in the group.
Inclusive scans are identical to exclusive scans, except the cumulative
result includes the operator applied to the value in the current invocation.</p>
</div>
<div class="paragraph">
<p>The order in which these operators are applied is implementation-dependent.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-group-operations-ballot"><a class="anchor" href="chap9.html#shaders-group-operations-ballot"></a>9.26.4. Ballot Group Operations</h4>
<div class="paragraph">
<p>The ballot group operations allow invocations to perform more complex votes
across the group.
The ballot functionality allows all invocations within a group to provide a
boolean value and get as a result what each invocation provided as their
boolean value.
The broadcast functionality allows values to be broadcast from an invocation
to all other invocations within the group.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-group-operations-shuffle"><a class="anchor" href="chap9.html#shaders-group-operations-shuffle"></a>9.26.5. Shuffle Group Operations</h4>
<div class="paragraph">
<p>The shuffle group operations allow invocations to read values from other
invocations within a group.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-group-operations-shuffle-relative"><a class="anchor" href="chap9.html#shaders-group-operations-shuffle-relative"></a>9.26.6. Shuffle Relative Group Operations</h4>
<div class="paragraph">
<p>The shuffle relative group operations allow invocations to read values from
other invocations within the group relative to the current invocation in the
group.
The relative operations supported allow data to be shifted up and down
through the invocations within a group.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-group-operations-clustered"><a class="anchor" href="chap9.html#shaders-group-operations-clustered"></a>9.26.7. Clustered Group Operations</h4>
<div class="paragraph">
<p>The clustered group operations allow invocations to perform an operation
among partitions of a group, such that the operation is only performed
within the group invocations within a partition.
The partitions for clustered group operations are consecutive power-of-two
size groups of invocations and the cluster size <strong class="purple">must</strong> be known at pipeline
creation time.
The operations supported are add, mul, min, max, and, or, xor.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-quad-operations"><a class="anchor" href="chap9.html#shaders-quad-operations"></a>9.27. Quad Group Operations</h3>
<div class="paragraph">
<p>Quad group operations (<code>OpGroupNonUniformQuad*</code>) are a specialized type
of <a href="chap9.html#shaders-group-operations">group operations</a> that only operate on
<a href="chap9.html#shaders-scope-quad">quad scope instances</a>.
Whilst these instructions do include a <code>Scope</code> parameter, this scope is
always overridden; only the <a href="chap9.html#shaders-scope-quad">quad scope instance</a> is
included in its execution scope.</p>
</div>
<div class="paragraph">
<p>Fragment shaders that statically execute quad group operations <strong class="purple">must</strong> launch
sufficient invocations to ensure their correct operation; additional
<a href="chap9.html#shaders-helper-invocations">helper invocations</a> are launched for
framebuffer locations not covered by rasterized fragments if necessary.</p>
</div>
<div class="paragraph">
<p>The index used to select participating invocations is <span class="eq">i</span>, as described
for a <a href="chap9.html#shaders-scope-quad">quad scope instance</a>, defined as the <em>quad
index</em> in the <a href="chap2.html#spirv-spec">SPIR-V specification</a>.</p>
</div>
<div class="paragraph">
<p>For <code>OpGroupNonUniformQuadBroadcast</code> this value is equal to <code>Index</code>.
For <code>OpGroupNonUniformQuadSwap</code>, it is equal to the implicit <code>Index</code>
used by each participating invocation.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-derivative-operations"><a class="anchor" href="chap9.html#shaders-derivative-operations"></a>9.28. Derivative Operations</h3>
<div class="paragraph">
<p>Derivative operations calculate the partial derivative for an expression
<span class="eq">P</span> as a function of an invocation’s <span class="eq">x</span> and <span class="eq">y</span> coordinates.</p>
</div>
<div class="paragraph">
<p>Derivative operations operate on a set of invocations known as a <em>derivative
group</em> as defined in the <a href="chap2.html#spirv-spec">SPIR-V specification</a>.
A derivative group is equivalent to
the <a href="chap9.html#shaders-scope-quad">quad scope instance</a> for a compute shader
invocation, or
the <a href="chap9.html#shaders-scope-primitive">primitive scope instance</a> for a fragment
shader invocation.</p>
</div>
<div class="paragraph">
<p>Derivatives are calculated assuming that <span class="eq">P</span> is piecewise linear and
continuous within the derivative group.
All dynamic instances of explicit derivative instructions (<code>OpDPdx*</code>,
<code>OpDPdy*</code>, and <code>OpFwidth*</code>) <strong class="purple">must</strong> be executed in control flow that is
uniform within a derivative group.
For other derivative operations, results are undefined if a dynamic
instance is executed in control flow that is not uniform within the
derivative group.</p>
</div>
<div class="paragraph">
<p>Fragment shaders that statically execute derivative operations <strong class="purple">must</strong> launch
sufficient invocations to ensure their correct operation; additional
<a href="chap9.html#shaders-helper-invocations">helper invocations</a> are launched for
framebuffer locations not covered by rasterized fragments if necessary.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In a compute shader, it is the application’s responsibility to ensure that
sufficient invocations are launched.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Derivative operations calculate their results as the difference between the
result of <span class="eq">P</span> across invocations in the quad.
For fine derivative operations (<code>OpDPdxFine</code> and <code>OpDPdyFine</code>), the
values of <span class="eq">DPdx(P<sub>i</sub>)</span> are calculated as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdx(P<sub>0</sub>) = DPdx(P<sub>1</sub>) = P<sub>1</sub> - P<sub>0</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdx(P<sub>2</sub>) = DPdx(P<sub>3</sub>) = P<sub>3</sub> - P<sub>2</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>and the values of <span class="eq">DPdy(P<sub>i</sub>)</span> are calculated as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdy(P<sub>0</sub>) = DPdy(P<sub>2</sub>) = P<sub>2</sub> - P<sub>0</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdy(P<sub>1</sub>) = DPdy(P<sub>3</sub>) = P<sub>3</sub> - P<sub>1</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">i</span> is the index of each invocation as described in
<a href="chap9.html#shaders-scope-quad">Quad</a>.</p>
</div>
<div class="paragraph">
<p>Coarse derivative operations (<code>OpDPdxCoarse</code> and <code>OpDPdyCoarse</code>),
calculate their results in roughly the same manner, but <strong class="purple">may</strong> only calculate
two values instead of four (one for each of <span class="eq">DPdx</span> and <span class="eq">DPdy</span>),
reusing the same result no matter the originating invocation.
If an implementation does this, it <strong class="purple">should</strong> use the fine derivative
calculations described for <span class="eq">P<sub>0</sub></span>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Derivative values are calculated between fragments rather than pixels.
If the fragment shader invocations involved in the calculation cover
multiple pixels, these operations cover a wider area, resulting in larger
derivative values.
This in turn will result in a coarser LOD being selected for image sampling
operations using derivatives.</p>
</div>
<div class="paragraph">
<p>Applications may want to account for this when using multi-pixel fragments;
if pixel derivatives are desired, applications should use explicit
derivative operations and divide the results by the size of the fragment in
each dimension as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdx(P<sub>n</sub>)' = DPdx(P<sub>n</sub>) / w</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdy(P<sub>n</sub>)' = DPdy(P<sub>n</sub>) / h</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">w</span> and <span class="eq">h</span> are the size of the fragments in the quad, and
<span class="eq">DPdx(P<sub>n</sub>)'</span> and <span class="eq">DPdy(P<sub>n</sub>)'</span> are the pixel derivatives.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The results for <code>OpDPdx</code> and <code>OpDPdy</code> <strong class="purple">may</strong> be calculated as either
fine or coarse derivatives, with implementations favouring the most
efficient approach.
Implementations <strong class="purple">must</strong> choose coarse or fine consistently between the two.</p>
</div>
<div class="paragraph">
<p>Executing <code>OpFwidthFine</code>, <code>OpFwidthCoarse</code>, or <code>OpFwidth</code> is
equivalent to executing the corresponding <code>OpDPdx*</code> and <code>OpDPdy*</code>
instructions, taking the absolute value of the results, and summing them.</p>
</div>
<div class="paragraph">
<p>Executing an <code>OpImage*Sample*ImplicitLod</code> instruction is equivalent to
executing <code>OpDPdx</code>(<code>Coordinate</code>) and <code>OpDPdy</code>(<code>Coordinate</code>), and
passing the results as the <code>Grad</code> operands <code>dx</code> and <code>dy</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is expected that using the <code>ImplicitLod</code> variants of sampling
functions will be substantially more efficient than using the
<code>ExplicitLod</code> variants with explicitly generated derivatives.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="shaders-helper-invocations"><a class="anchor" href="chap9.html#shaders-helper-invocations"></a>9.29. Helper Invocations</h3>
<div class="paragraph">
<p>When performing <a href="chap9.html#shaders-derivative-operations">derivative</a>
or <a href="chap9.html#shaders-quad-operations">quad group</a>
operations in a fragment shader, additional invocations <strong class="purple">may</strong> be spawned in
order to ensure correct results.
These additional invocations are known as <em>helper invocations</em> and <strong class="purple">can</strong> be
identified by a non-zero value in the <code>HelperInvocation</code> built-in.
Stores and atomics performed by helper invocations <strong class="purple">must</strong> not have any effect
on memory except for the <code>Function</code>, <code>Private</code> and <code>Output</code> storage
classes, and values returned by atomic instructions in helper invocations
are undefined.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>While storage to <code>Output</code> storage class has an effect even in helper
invocations, it does not mean that helper invocations have an effect on the
framebuffer.
<code>Output</code> variables in fragment shaders can be read from as well, and they
behave more like <code>Private</code> variables for the duration of the shader
invocation.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>For <a href="chap9.html#shaders-group-operations">group operations</a> other than
<a href="chap9.html#shaders-derivative-operations">derivative</a>
and <a href="chap9.html#shaders-quad-operations">quad group</a>
operations, helper invocations <strong class="purple">may</strong> be treated as inactive even if they
would be considered otherwise active.</p>
</div>
<div class="paragraph">
<p>Helper invocations <strong class="purple">may</strong> become permanently inactive if all invocations in a
quad scope instance become helper invocations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cooperative_matrices"><a class="anchor" href="chap9.html#_cooperative_matrices"></a>9.30. Cooperative Matrices</h3>
<div class="paragraph">
<p>A <em>cooperative matrix</em> type is a SPIR-V type where the storage for and
computations performed on the matrix are spread across the invocations in a
scope instance.
These types give the implementation freedom in how to optimize matrix
multiplies.</p>
</div>
<div class="paragraph">
<p>SPIR-V defines the types and instructions, but does not specify rules about
what sizes/combinations are valid, and it is expected that different
implementations <strong class="purple">may</strong> support different sizes.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To enumerate the supported cooperative matrix types and operations, call:</p>
</div>
<div id="vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_cooperative_matrix</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pPropertyCount</span><span class="p">,</span>
    <span class="n">VkCooperativeMatrixPropertiesKHR</span><span class="o">*</span>           <span class="n">pProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
cooperative matrix properties available or queried.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<a href="chap9.html#VkCooperativeMatrixPropertiesKHR">VkCooperativeMatrixPropertiesKHR</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pProperties</code> is <code>NULL</code>, then the number of cooperative matrix
properties available is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <strong class="purple">must</strong> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If <code>pPropertyCount</code> is less than the number of cooperative matrix
properties available, at most <code>pPropertyCount</code> structures will be
written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available cooperative matrix
properties were returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR-physicalDevice-parameter" href="chap9.html#VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR-pPropertyCount-parameter" href="chap9.html#VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR-pProperties-parameter" href="chap9.html#VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="chap9.html#VkCooperativeMatrixPropertiesKHR">VkCooperativeMatrixPropertiesKHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To enumerate the supported cooperative matrix types and operations, call:</p>
</div>
<div id="vkGetPhysicalDeviceCooperativeMatrixPropertiesNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_cooperative_matrix</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceCooperativeMatrixPropertiesNV</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pPropertyCount</span><span class="p">,</span>
    <span class="n">VkCooperativeMatrixPropertiesNV</span><span class="o">*</span>            <span class="n">pProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
cooperative matrix properties available or queried.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<a href="chap9.html#VkCooperativeMatrixPropertiesNV">VkCooperativeMatrixPropertiesNV</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pProperties</code> is <code>NULL</code>, then the number of cooperative matrix
properties available is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <strong class="purple">must</strong> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If <code>pPropertyCount</code> is less than the number of cooperative matrix
properties available, at most <code>pPropertyCount</code> structures will be
written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available cooperative matrix
properties were returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesNV-physicalDevice-parameter" href="chap9.html#VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesNV-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesNV-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesNV-pPropertyCount-parameter" href="chap9.html#VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesNV-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesNV-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesNV-pProperties-parameter" href="chap9.html#VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesNV-pProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceCooperativeMatrixPropertiesNV-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="chap9.html#VkCooperativeMatrixPropertiesNV">VkCooperativeMatrixPropertiesNV</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Each
<a href="chap9.html#VkCooperativeMatrixPropertiesKHR">VkCooperativeMatrixPropertiesKHR</a>
or
<a href="chap9.html#VkCooperativeMatrixPropertiesNV">VkCooperativeMatrixPropertiesNV</a>
structure describes a single supported combination of types for a matrix
multiply/add operation (
<code>OpCooperativeMatrixMulAddKHR</code>
or
<code>OpCooperativeMatrixMulAddNV</code>
).
The multiply <strong class="purple">can</strong> be described in terms of the following variables and types
(in SPIR-V pseudocode):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c">    <span class="o">%</span><span class="n">A</span> <span class="n">is</span> <span class="n">of</span> <span class="n">type</span> <span class="n">OpTypeCooperativeMatrixKHR</span> <span class="o">%</span><span class="n">AType</span> <span class="o">%</span><span class="n">scope</span> <span class="o">%</span><span class="n">MSize</span> <span class="o">%</span><span class="n">KSize</span> <span class="o">%</span><span class="n">MatrixAKHR</span>
    <span class="o">%</span><span class="n">B</span> <span class="n">is</span> <span class="n">of</span> <span class="n">type</span> <span class="n">OpTypeCooperativeMatrixKHR</span> <span class="o">%</span><span class="n">BType</span> <span class="o">%</span><span class="n">scope</span> <span class="o">%</span><span class="n">KSize</span> <span class="o">%</span><span class="n">NSize</span> <span class="o">%</span><span class="n">MatrixBKHR</span>
    <span class="o">%</span><span class="n">C</span> <span class="n">is</span> <span class="n">of</span> <span class="n">type</span> <span class="n">OpTypeCooperativeMatrixKHR</span> <span class="o">%</span><span class="n">CType</span> <span class="o">%</span><span class="n">scope</span> <span class="o">%</span><span class="n">MSize</span> <span class="o">%</span><span class="n">NSize</span> <span class="o">%</span><span class="n">MatrixAccumulatorKHR</span>
    <span class="o">%</span><span class="n">Result</span> <span class="n">is</span> <span class="n">of</span> <span class="n">type</span> <span class="n">OpTypeCooperativeMatrixKHR</span> <span class="o">%</span><span class="n">ResultType</span> <span class="o">%</span><span class="n">scope</span> <span class="o">%</span><span class="n">MSize</span> <span class="o">%</span><span class="n">NSize</span> <span class="o">%</span><span class="n">MatrixAccumulatorKHR</span>

    <span class="o">%</span><span class="n">Result</span> <span class="o">=</span> <span class="o">%</span><span class="n">A</span> <span class="o">*</span> <span class="o">%</span><span class="n">B</span> <span class="o">+</span> <span class="o">%</span><span class="n">C</span> <span class="c1">// using OpCooperativeMatrixMulAddKHR</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c">    <span class="o">%</span><span class="n">A</span> <span class="n">is</span> <span class="n">of</span> <span class="n">type</span> <span class="n">OpTypeCooperativeMatrixNV</span> <span class="o">%</span><span class="n">AType</span> <span class="o">%</span><span class="n">scope</span> <span class="o">%</span><span class="n">MSize</span> <span class="o">%</span><span class="n">KSize</span>
    <span class="o">%</span><span class="n">B</span> <span class="n">is</span> <span class="n">of</span> <span class="n">type</span> <span class="n">OpTypeCooperativeMatrixNV</span> <span class="o">%</span><span class="n">BType</span> <span class="o">%</span><span class="n">scope</span> <span class="o">%</span><span class="n">KSize</span> <span class="o">%</span><span class="n">NSize</span>
    <span class="o">%</span><span class="n">C</span> <span class="n">is</span> <span class="n">of</span> <span class="n">type</span> <span class="n">OpTypeCooperativeMatrixNV</span> <span class="o">%</span><span class="n">CType</span> <span class="o">%</span><span class="n">scope</span> <span class="o">%</span><span class="n">MSize</span> <span class="o">%</span><span class="n">NSize</span>
    <span class="o">%</span><span class="n">D</span> <span class="n">is</span> <span class="n">of</span> <span class="n">type</span> <span class="n">OpTypeCooperativeMatrixNV</span> <span class="o">%</span><span class="n">DType</span> <span class="o">%</span><span class="n">scope</span> <span class="o">%</span><span class="n">MSize</span> <span class="o">%</span><span class="n">NSize</span>

    <span class="o">%</span><span class="n">D</span> <span class="o">=</span> <span class="o">%</span><span class="n">A</span> <span class="o">*</span> <span class="o">%</span><span class="n">B</span> <span class="o">+</span> <span class="o">%</span><span class="n">C</span> <span class="c1">// using OpCooperativeMatrixMulAddNV</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A matrix multiply with these dimensions is known as an <em>MxNxK</em> matrix
multiply.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkCooperativeMatrixPropertiesKHR</code> structure is defined as:</p>
</div>
<div id="VkCooperativeMatrixPropertiesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_cooperative_matrix</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkCooperativeMatrixPropertiesKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>       <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                 <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>              <span class="n">MSize</span><span class="p">;</span>
    <span class="kt">uint32_t</span>              <span class="n">NSize</span><span class="p">;</span>
    <span class="kt">uint32_t</span>              <span class="n">KSize</span><span class="p">;</span>
    <span class="n">VkComponentTypeKHR</span>    <span class="n">AType</span><span class="p">;</span>
    <span class="n">VkComponentTypeKHR</span>    <span class="n">BType</span><span class="p">;</span>
    <span class="n">VkComponentTypeKHR</span>    <span class="n">CType</span><span class="p">;</span>
    <span class="n">VkComponentTypeKHR</span>    <span class="n">ResultType</span><span class="p">;</span>
    <span class="n">VkBool32</span>              <span class="n">saturatingAccumulation</span><span class="p">;</span>
    <span class="n">VkScopeKHR</span>            <span class="n">scope</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkCooperativeMatrixPropertiesKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>MSize</code> is the number of rows in matrices <code>A</code>, <code>C</code>, and
<code>Result</code>.</p>
</li>
<li>
<p><code>KSize</code> is the number of columns in matrix <code>A</code> and rows in matrix
<code>B</code>.</p>
</li>
<li>
<p><code>NSize</code> is the number of columns in matrices <code>B</code>, <code>C</code>,
<code>Result</code>.</p>
</li>
<li>
<p><code>AType</code> is the component type of matrix <code>A</code>, of type
<a href="chap9.html#VkComponentTypeKHR">VkComponentTypeKHR</a>.</p>
</li>
<li>
<p><code>BType</code> is the component type of matrix <code>B</code>, of type
<a href="chap9.html#VkComponentTypeKHR">VkComponentTypeKHR</a>.</p>
</li>
<li>
<p><code>CType</code> is the component type of matrix <code>C</code>, of type
<a href="chap9.html#VkComponentTypeKHR">VkComponentTypeKHR</a>.</p>
</li>
<li>
<p><code>ResultType</code> is the component type of matrix <code>Result</code>, of type
<a href="chap9.html#VkComponentTypeKHR">VkComponentTypeKHR</a>.</p>
</li>
<li>
<p><code>saturatingAccumulation</code> indicates whether the
<code>SaturatingAccumulation</code> operand to <code>OpCooperativeMatrixMulAddKHR</code>
<strong class="purple">must</strong> be present.</p>
</li>
<li>
<p><code>scope</code> is the scope of all the matrix types, of type
<a href="chap9.html#VkScopeKHR">VkScopeKHR</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If some types are preferred over other types (e.g. for performance), they
<strong class="purple">should</strong> appear earlier in the list enumerated by
<a href="chap9.html#vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR">vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR</a>.</p>
</div>
<div class="paragraph">
<p>At least one entry in the list <strong class="purple">must</strong> have power of two values for all of
<code>MSize</code>, <code>KSize</code>, and <code>NSize</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesKHR-sType-sType" href="chap9.html#VUID-VkCooperativeMatrixPropertiesKHR-sType-sType"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_COOPERATIVE_MATRIX_PROPERTIES_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesKHR-pNext-pNext" href="chap9.html#VUID-VkCooperativeMatrixPropertiesKHR-pNext-pNext"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesKHR-AType-parameter" href="chap9.html#VUID-VkCooperativeMatrixPropertiesKHR-AType-parameter"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesKHR-AType-parameter</span><br>
 <code>AType</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkComponentTypeKHR">VkComponentTypeKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesKHR-BType-parameter" href="chap9.html#VUID-VkCooperativeMatrixPropertiesKHR-BType-parameter"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesKHR-BType-parameter</span><br>
 <code>BType</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkComponentTypeKHR">VkComponentTypeKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesKHR-CType-parameter" href="chap9.html#VUID-VkCooperativeMatrixPropertiesKHR-CType-parameter"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesKHR-CType-parameter</span><br>
 <code>CType</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkComponentTypeKHR">VkComponentTypeKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesKHR-ResultType-parameter" href="chap9.html#VUID-VkCooperativeMatrixPropertiesKHR-ResultType-parameter"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesKHR-ResultType-parameter</span><br>
 <code>ResultType</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkComponentTypeKHR">VkComponentTypeKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesKHR-scope-parameter" href="chap9.html#VUID-VkCooperativeMatrixPropertiesKHR-scope-parameter"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesKHR-scope-parameter</span><br>
 <code>scope</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkScopeKHR">VkScopeKHR</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkCooperativeMatrixPropertiesNV</code> structure is defined as:</p>
</div>
<div id="VkCooperativeMatrixPropertiesNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_cooperative_matrix</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkCooperativeMatrixPropertiesNV</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>      <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>             <span class="n">MSize</span><span class="p">;</span>
    <span class="kt">uint32_t</span>             <span class="n">NSize</span><span class="p">;</span>
    <span class="kt">uint32_t</span>             <span class="n">KSize</span><span class="p">;</span>
    <span class="n">VkComponentTypeNV</span>    <span class="n">AType</span><span class="p">;</span>
    <span class="n">VkComponentTypeNV</span>    <span class="n">BType</span><span class="p">;</span>
    <span class="n">VkComponentTypeNV</span>    <span class="n">CType</span><span class="p">;</span>
    <span class="n">VkComponentTypeNV</span>    <span class="n">DType</span><span class="p">;</span>
    <span class="n">VkScopeNV</span>            <span class="n">scope</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkCooperativeMatrixPropertiesNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>MSize</code> is the number of rows in matrices A, C, and D.</p>
</li>
<li>
<p><code>KSize</code> is the number of columns in matrix A and rows in matrix B.</p>
</li>
<li>
<p><code>NSize</code> is the number of columns in matrices B, C, D.</p>
</li>
<li>
<p><code>AType</code> is the component type of matrix A, of type
<a href="chap9.html#VkComponentTypeNV">VkComponentTypeNV</a>.</p>
</li>
<li>
<p><code>BType</code> is the component type of matrix B, of type
<a href="chap9.html#VkComponentTypeNV">VkComponentTypeNV</a>.</p>
</li>
<li>
<p><code>CType</code> is the component type of matrix C, of type
<a href="chap9.html#VkComponentTypeNV">VkComponentTypeNV</a>.</p>
</li>
<li>
<p><code>DType</code> is the component type of matrix D, of type
<a href="chap9.html#VkComponentTypeNV">VkComponentTypeNV</a>.</p>
</li>
<li>
<p><code>scope</code> is the scope of all the matrix types, of type
<a href="chap9.html#VkScopeNV">VkScopeNV</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If some types are preferred over other types (e.g. for performance), they
<strong class="purple">should</strong> appear earlier in the list enumerated by
<a href="chap9.html#vkGetPhysicalDeviceCooperativeMatrixPropertiesNV">vkGetPhysicalDeviceCooperativeMatrixPropertiesNV</a>.</p>
</div>
<div class="paragraph">
<p>At least one entry in the list <strong class="purple">must</strong> have power of two values for all of
<code>MSize</code>, <code>KSize</code>, and <code>NSize</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesNV-sType-sType" href="chap9.html#VUID-VkCooperativeMatrixPropertiesNV-sType-sType"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesNV-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_COOPERATIVE_MATRIX_PROPERTIES_NV</code></p>
</li>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesNV-pNext-pNext" href="chap9.html#VUID-VkCooperativeMatrixPropertiesNV-pNext-pNext"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesNV-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesNV-AType-parameter" href="chap9.html#VUID-VkCooperativeMatrixPropertiesNV-AType-parameter"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesNV-AType-parameter</span><br>
 <code>AType</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkComponentTypeNV">VkComponentTypeNV</a> value</p>
</li>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesNV-BType-parameter" href="chap9.html#VUID-VkCooperativeMatrixPropertiesNV-BType-parameter"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesNV-BType-parameter</span><br>
 <code>BType</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkComponentTypeNV">VkComponentTypeNV</a> value</p>
</li>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesNV-CType-parameter" href="chap9.html#VUID-VkCooperativeMatrixPropertiesNV-CType-parameter"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesNV-CType-parameter</span><br>
 <code>CType</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkComponentTypeNV">VkComponentTypeNV</a> value</p>
</li>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesNV-DType-parameter" href="chap9.html#VUID-VkCooperativeMatrixPropertiesNV-DType-parameter"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesNV-DType-parameter</span><br>
 <code>DType</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkComponentTypeNV">VkComponentTypeNV</a> value</p>
</li>
<li>
<p><a id="VUID-VkCooperativeMatrixPropertiesNV-scope-parameter" href="chap9.html#VUID-VkCooperativeMatrixPropertiesNV-scope-parameter"></a> <span class="vuid">VUID-VkCooperativeMatrixPropertiesNV-scope-parameter</span><br>
 <code>scope</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkScopeNV">VkScopeNV</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values for <a href="chap9.html#VkScopeKHR">VkScopeKHR</a> include:</p>
</div>
<div id="VkScopeKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_cooperative_matrix</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkScopeKHR</span> <span class="p">{</span>
    <span class="n">VK_SCOPE_DEVICE_KHR</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_SCOPE_WORKGROUP_KHR</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">VK_SCOPE_SUBGROUP_KHR</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">VK_SCOPE_QUEUE_FAMILY_KHR</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_SCOPE_DEVICE_NV</span> <span class="o">=</span> <span class="n">VK_SCOPE_DEVICE_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_SCOPE_WORKGROUP_NV</span> <span class="o">=</span> <span class="n">VK_SCOPE_WORKGROUP_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_SCOPE_SUBGROUP_NV</span> <span class="o">=</span> <span class="n">VK_SCOPE_SUBGROUP_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_SCOPE_QUEUE_FAMILY_NV</span> <span class="o">=</span> <span class="n">VK_SCOPE_QUEUE_FAMILY_KHR</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkScopeKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkScopeNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_cooperative_matrix</span>
<span class="k">typedef</span> <span class="n">VkScopeKHR</span> <span class="n">VkScopeNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SCOPE_DEVICE_KHR</code> corresponds to SPIR-V <code>Device</code> scope.</p>
</li>
<li>
<p><code>VK_SCOPE_WORKGROUP_KHR</code> corresponds to SPIR-V <code>Workgroup</code> scope.</p>
</li>
<li>
<p><code>VK_SCOPE_SUBGROUP_KHR</code> corresponds to SPIR-V <code>Subgroup</code> scope.</p>
</li>
<li>
<p><code>VK_SCOPE_QUEUE_FAMILY_KHR</code> corresponds to SPIR-V <code>QueueFamily</code>
scope.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All enum values match the corresponding SPIR-V value.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values for <a href="chap9.html#VkComponentTypeKHR">VkComponentTypeKHR</a> include:</p>
</div>
<div id="VkComponentTypeKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_cooperative_matrix</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkComponentTypeKHR</span> <span class="p">{</span>
    <span class="n">VK_COMPONENT_TYPE_FLOAT16_KHR</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_COMPONENT_TYPE_FLOAT32_KHR</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_COMPONENT_TYPE_FLOAT64_KHR</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">VK_COMPONENT_TYPE_SINT8_KHR</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">VK_COMPONENT_TYPE_SINT16_KHR</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">VK_COMPONENT_TYPE_SINT32_KHR</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">VK_COMPONENT_TYPE_SINT64_KHR</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
    <span class="n">VK_COMPONENT_TYPE_UINT8_KHR</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="n">VK_COMPONENT_TYPE_UINT16_KHR</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
    <span class="n">VK_COMPONENT_TYPE_UINT32_KHR</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
    <span class="n">VK_COMPONENT_TYPE_UINT64_KHR</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_COMPONENT_TYPE_FLOAT16_NV</span> <span class="o">=</span> <span class="n">VK_COMPONENT_TYPE_FLOAT16_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_COMPONENT_TYPE_FLOAT32_NV</span> <span class="o">=</span> <span class="n">VK_COMPONENT_TYPE_FLOAT32_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_COMPONENT_TYPE_FLOAT64_NV</span> <span class="o">=</span> <span class="n">VK_COMPONENT_TYPE_FLOAT64_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_COMPONENT_TYPE_SINT8_NV</span> <span class="o">=</span> <span class="n">VK_COMPONENT_TYPE_SINT8_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_COMPONENT_TYPE_SINT16_NV</span> <span class="o">=</span> <span class="n">VK_COMPONENT_TYPE_SINT16_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_COMPONENT_TYPE_SINT32_NV</span> <span class="o">=</span> <span class="n">VK_COMPONENT_TYPE_SINT32_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_COMPONENT_TYPE_SINT64_NV</span> <span class="o">=</span> <span class="n">VK_COMPONENT_TYPE_SINT64_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_COMPONENT_TYPE_UINT8_NV</span> <span class="o">=</span> <span class="n">VK_COMPONENT_TYPE_UINT8_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_COMPONENT_TYPE_UINT16_NV</span> <span class="o">=</span> <span class="n">VK_COMPONENT_TYPE_UINT16_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_COMPONENT_TYPE_UINT32_NV</span> <span class="o">=</span> <span class="n">VK_COMPONENT_TYPE_UINT32_KHR</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_cooperative_matrix</span>
    <span class="n">VK_COMPONENT_TYPE_UINT64_NV</span> <span class="o">=</span> <span class="n">VK_COMPONENT_TYPE_UINT64_KHR</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkComponentTypeKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkComponentTypeNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_cooperative_matrix</span>
<span class="k">typedef</span> <span class="n">VkComponentTypeKHR</span> <span class="n">VkComponentTypeNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMPONENT_TYPE_FLOAT16_KHR</code> corresponds to SPIR-V
<code>OpTypeFloat</code> 16.</p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_FLOAT32_KHR</code> corresponds to SPIR-V
<code>OpTypeFloat</code> 32.</p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_FLOAT64_KHR</code> corresponds to SPIR-V
<code>OpTypeFloat</code> 64.</p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_SINT8_KHR</code> corresponds to SPIR-V <code>OpTypeInt</code> 8 1.</p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_SINT16_KHR</code> corresponds to SPIR-V <code>OpTypeInt</code>
16 1.</p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_SINT32_KHR</code> corresponds to SPIR-V <code>OpTypeInt</code>
32 1.</p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_SINT64_KHR</code> corresponds to SPIR-V <code>OpTypeInt</code>
64 1.</p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_UINT8_KHR</code> corresponds to SPIR-V <code>OpTypeInt</code> 8 0.</p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_UINT16_KHR</code> corresponds to SPIR-V <code>OpTypeInt</code>
16 0.</p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_UINT32_KHR</code> corresponds to SPIR-V <code>OpTypeInt</code>
32 0.</p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_UINT64_KHR</code> corresponds to SPIR-V <code>OpTypeInt</code>
64 0.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-validation-cache"><a class="anchor" href="chap9.html#shaders-validation-cache"></a>9.31. Validation Cache</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Validation cache objects allow the result of internal validation to be
reused, both within a single application run and between multiple runs.
Reuse within a single run is achieved by passing the same validation cache
object when creating supported Vulkan objects.
Reuse across runs of an application is achieved by retrieving validation
cache contents in one run of an application, saving the contents, and using
them to preinitialize a validation cache on a subsequent run.
The contents of the validation cache objects are managed by the validation
layers.
Applications <strong class="purple">can</strong> manage the host memory consumed by a validation cache
object and control the amount of data retrieved from a validation cache
object.</p>
</div>
<div class="paragraph">
<p>Validation cache objects are represented by <code>VkValidationCacheEXT</code>
handles:</p>
</div>
<div id="VkValidationCacheEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_validation_cache</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkValidationCacheEXT</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create validation cache objects, call:</p>
</div>
<div id="vkCreateValidationCacheEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_validation_cache</span>
<span class="n">VkResult</span> <span class="nf">vkCreateValidationCacheEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkValidationCacheCreateInfoEXT</span><span class="o">*</span>       <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkValidationCacheEXT</span><span class="o">*</span>                       <span class="n">pValidationCache</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the validation cache
object.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap9.html#VkValidationCacheCreateInfoEXT">VkValidationCacheCreateInfoEXT</a>
structure containing the initial parameters for the validation cache
object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pValidationCache</code> is a pointer to a <a href="chap9.html#VkValidationCacheEXT">VkValidationCacheEXT</a>
handle in which the resulting validation cache object is returned.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Applications <strong class="purple">can</strong> track and manage the total host memory size of a
validation cache object using the <code>pAllocator</code>.
Applications <strong class="purple">can</strong> limit the amount of data retrieved from a validation cache
object in <code>vkGetValidationCacheDataEXT</code>.
Implementations <strong class="purple">should</strong> not internally limit the total number of entries
added to a validation cache object or the total host memory consumed.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Once created, a validation cache <strong class="purple">can</strong> be passed to the
<code>vkCreateShaderModule</code> command by adding this object to the
<a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a> structure’s <code>pNext</code> chain.
If a <a href="chap9.html#VkShaderModuleValidationCacheCreateInfoEXT">VkShaderModuleValidationCacheCreateInfoEXT</a> object is included in
the <a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a>::<code>pNext</code> chain, and its
<code>validationCache</code> field is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the implementation
will query it for possible reuse opportunities and update it with new
content.
The use of the validation cache object in these commands is internally
synchronized, and the same validation cache object <strong class="purple">can</strong> be used in multiple
threads simultaneously.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Implementations <strong class="purple">should</strong> make every effort to limit any critical sections to
the actual accesses to the cache, which is expected to be significantly
shorter than the duration of the <code>vkCreateShaderModule</code> command.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateValidationCacheEXT-device-parameter" href="chap9.html#VUID-vkCreateValidationCacheEXT-device-parameter"></a> <span class="vuid">VUID-vkCreateValidationCacheEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateValidationCacheEXT-pCreateInfo-parameter" href="chap9.html#VUID-vkCreateValidationCacheEXT-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateValidationCacheEXT-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap9.html#VkValidationCacheCreateInfoEXT">VkValidationCacheCreateInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateValidationCacheEXT-pAllocator-parameter" href="chap9.html#VUID-vkCreateValidationCacheEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateValidationCacheEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateValidationCacheEXT-pValidationCache-parameter" href="chap9.html#VUID-vkCreateValidationCacheEXT-pValidationCache-parameter"></a> <span class="vuid">VUID-vkCreateValidationCacheEXT-pValidationCache-parameter</span><br>
 <code>pValidationCache</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap9.html#VkValidationCacheEXT">VkValidationCacheEXT</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkValidationCacheCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkValidationCacheCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_validation_cache</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkValidationCacheCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkValidationCacheCreateFlagsEXT</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="kt">size_t</span>                             <span class="n">initialDataSize</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                        <span class="n">pInitialData</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkValidationCacheCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>initialDataSize</code> is the number of bytes in <code>pInitialData</code>.
If <code>initialDataSize</code> is zero, the validation cache will initially be
empty.</p>
</li>
<li>
<p><code>pInitialData</code> is a pointer to previously retrieved validation cache
data.
If the validation cache data is incompatible (as defined below) with the
device, the validation cache will be initially empty.
If <code>initialDataSize</code> is zero, <code>pInitialData</code> is ignored.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkValidationCacheCreateInfoEXT-initialDataSize-01534" href="chap9.html#VUID-VkValidationCacheCreateInfoEXT-initialDataSize-01534"></a> <span class="vuid">VUID-VkValidationCacheCreateInfoEXT-initialDataSize-01534</span><br>

If <code>initialDataSize</code> is not <code>0</code>, it <strong class="purple">must</strong> be equal to the size of
<code>pInitialData</code>, as returned by <code>vkGetValidationCacheDataEXT</code>
when <code>pInitialData</code> was originally retrieved</p>
</li>
<li>
<p><a id="VUID-VkValidationCacheCreateInfoEXT-initialDataSize-01535" href="chap9.html#VUID-VkValidationCacheCreateInfoEXT-initialDataSize-01535"></a> <span class="vuid">VUID-VkValidationCacheCreateInfoEXT-initialDataSize-01535</span><br>

If <code>initialDataSize</code> is not <code>0</code>, <code>pInitialData</code> <strong class="purple">must</strong> have been
retrieved from a previous call to <code>vkGetValidationCacheDataEXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkValidationCacheCreateInfoEXT-sType-sType" href="chap9.html#VUID-VkValidationCacheCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkValidationCacheCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_VALIDATION_CACHE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkValidationCacheCreateInfoEXT-pNext-pNext" href="chap9.html#VUID-VkValidationCacheCreateInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkValidationCacheCreateInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkValidationCacheCreateInfoEXT-flags-zerobitmask" href="chap9.html#VUID-VkValidationCacheCreateInfoEXT-flags-zerobitmask"></a> <span class="vuid">VUID-VkValidationCacheCreateInfoEXT-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkValidationCacheCreateInfoEXT-pInitialData-parameter" href="chap9.html#VUID-VkValidationCacheCreateInfoEXT-pInitialData-parameter"></a> <span class="vuid">VUID-VkValidationCacheCreateInfoEXT-pInitialData-parameter</span><br>
 If <code>initialDataSize</code> is not <code>0</code>, <code>pInitialData</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>initialDataSize</code> bytes</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkValidationCacheCreateFlagsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_validation_cache</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkValidationCacheCreateFlagsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkValidationCacheCreateFlagsEXT</code> is a bitmask type for setting a mask,
but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Validation cache objects <strong class="purple">can</strong> be merged using the command:</p>
</div>
<div id="vkMergeValidationCachesEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_validation_cache</span>
<span class="n">VkResult</span> <span class="nf">vkMergeValidationCachesEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkValidationCacheEXT</span>                        <span class="n">dstCache</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">srcCacheCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkValidationCacheEXT</span><span class="o">*</span>                 <span class="n">pSrcCaches</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the validation cache
objects.</p>
</li>
<li>
<p><code>dstCache</code> is the handle of the validation cache to merge results
into.</p>
</li>
<li>
<p><code>srcCacheCount</code> is the length of the <code>pSrcCaches</code> array.</p>
</li>
<li>
<p><code>pSrcCaches</code> is a pointer to an array of validation cache handles,
which will be merged into <code>dstCache</code>.
The previous contents of <code>dstCache</code> are included after the merge.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The details of the merge operation are implementation-dependent, but
implementations <strong class="purple">should</strong> merge the contents of the specified validation
caches and prune duplicate entries.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkMergeValidationCachesEXT-dstCache-01536" href="chap9.html#VUID-vkMergeValidationCachesEXT-dstCache-01536"></a> <span class="vuid">VUID-vkMergeValidationCachesEXT-dstCache-01536</span><br>

<code>dstCache</code> <strong class="purple">must</strong> not appear in the list of source caches</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkMergeValidationCachesEXT-device-parameter" href="chap9.html#VUID-vkMergeValidationCachesEXT-device-parameter"></a> <span class="vuid">VUID-vkMergeValidationCachesEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkMergeValidationCachesEXT-dstCache-parameter" href="chap9.html#VUID-vkMergeValidationCachesEXT-dstCache-parameter"></a> <span class="vuid">VUID-vkMergeValidationCachesEXT-dstCache-parameter</span><br>
 <code>dstCache</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkValidationCacheEXT">VkValidationCacheEXT</a> handle</p>
</li>
<li>
<p><a id="VUID-vkMergeValidationCachesEXT-pSrcCaches-parameter" href="chap9.html#VUID-vkMergeValidationCachesEXT-pSrcCaches-parameter"></a> <span class="vuid">VUID-vkMergeValidationCachesEXT-pSrcCaches-parameter</span><br>
 <code>pSrcCaches</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>srcCacheCount</code> valid <a href="chap9.html#VkValidationCacheEXT">VkValidationCacheEXT</a> handles</p>
</li>
<li>
<p><a id="VUID-vkMergeValidationCachesEXT-srcCacheCount-arraylength" href="chap9.html#VUID-vkMergeValidationCachesEXT-srcCacheCount-arraylength"></a> <span class="vuid">VUID-vkMergeValidationCachesEXT-srcCacheCount-arraylength</span><br>
 <code>srcCacheCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkMergeValidationCachesEXT-dstCache-parent" href="chap9.html#VUID-vkMergeValidationCachesEXT-dstCache-parent"></a> <span class="vuid">VUID-vkMergeValidationCachesEXT-dstCache-parent</span><br>
 <code>dstCache</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkMergeValidationCachesEXT-pSrcCaches-parent" href="chap9.html#VUID-vkMergeValidationCachesEXT-pSrcCaches-parent"></a> <span class="vuid">VUID-vkMergeValidationCachesEXT-pSrcCaches-parent</span><br>
 Each element of <code>pSrcCaches</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>dstCache</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Data <strong class="purple">can</strong> be retrieved from a validation cache object using the command:</p>
</div>
<div id="vkGetValidationCacheDataEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_validation_cache</span>
<span class="n">VkResult</span> <span class="nf">vkGetValidationCacheDataEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkValidationCacheEXT</span>                        <span class="n">validationCache</span><span class="p">,</span>
    <span class="kt">size_t</span><span class="o">*</span>                                     <span class="n">pDataSize</span><span class="p">,</span>
    <span class="kt">void</span><span class="o">*</span>                                       <span class="n">pData</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the validation cache.</p>
</li>
<li>
<p><code>validationCache</code> is the validation cache to retrieve data from.</p>
</li>
<li>
<p><code>pDataSize</code> is a pointer to a value related to the amount of data in
the validation cache, as described below.</p>
</li>
<li>
<p><code>pData</code> is either <code>NULL</code> or a pointer to a buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pData</code> is <code>NULL</code>, then the maximum size of the data that <strong class="purple">can</strong> be
retrieved from the validation cache, in bytes, is returned in
<code>pDataSize</code>.
Otherwise, <code>pDataSize</code> <strong class="purple">must</strong> point to a variable set by the user to the
size of the buffer, in bytes, pointed to by <code>pData</code>, and on return the
variable is overwritten with the amount of data actually written to
<code>pData</code>.
If <code>pDataSize</code> is less than the maximum size that <strong class="purple">can</strong> be retrieved by
the validation cache, at most <code>pDataSize</code> bytes will be written to
<code>pData</code>, and <code>vkGetValidationCacheDataEXT</code> will return
<code>VK_INCOMPLETE</code> instead of <code>VK_SUCCESS</code>, to indicate that not all of
the validation cache was returned.</p>
</div>
<div class="paragraph">
<p>Any data written to <code>pData</code> is valid and <strong class="purple">can</strong> be provided as the
<code>pInitialData</code> member of the <a href="chap9.html#VkValidationCacheCreateInfoEXT">VkValidationCacheCreateInfoEXT</a>
structure passed to <code>vkCreateValidationCacheEXT</code>.</p>
</div>
<div class="paragraph">
<p>Two calls to <code>vkGetValidationCacheDataEXT</code> with the same parameters
<strong class="purple">must</strong> retrieve the same data unless a command that modifies the contents of
the cache is called between them.</p>
</div>
<div id="validation-cache-header" class="paragraph">
<p>Applications <strong class="purple">can</strong> store the data retrieved from the validation cache, and
use these data, possibly in a future run of the application, to populate new
validation cache objects.
The results of validation, however, <strong class="purple">may</strong> depend on the vendor ID, device ID,
driver version, and other details of the device.
To enable applications to detect when previously retrieved data is
incompatible with the device, the initial bytes written to <code>pData</code> <strong class="purple">must</strong>
be a header consisting of the following members:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 85%;">
<caption class="title">Table 12. Layout for validation cache header version <code>VK_VALIDATION_CACHE_HEADER_VERSION_ONE_EXT</code></caption>
<colgroup>
<col style="width: 8%;">
<col style="width: 21%;">
<col style="width: 71%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Offset</th>
<th class="tableblock halign-left valign-top">Size</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">length in bytes of the entire validation cache header
                             written as a stream of bytes, with the least
                             significant byte first</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a <a href="chap9.html#VkValidationCacheHeaderVersionEXT">VkValidationCacheHeaderVersionEXT</a> value
                             written as a stream of bytes, with the least
                             significant byte first</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_UUID_SIZE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a layer commit ID expressed as a UUID, which uniquely
                             identifies the version of the validation layers used
                             to generate these validation results</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The first four bytes encode the length of the entire validation cache
header, in bytes.
This value includes all fields in the header including the validation cache
version field and the size of the length field.</p>
</div>
<div class="paragraph">
<p>The next four bytes encode the validation cache version, as described for
<a href="chap9.html#VkValidationCacheHeaderVersionEXT">VkValidationCacheHeaderVersionEXT</a>.
A consumer of the validation cache <strong class="purple">should</strong> use the cache version to
interpret the remainder of the cache header.</p>
</div>
<div class="paragraph">
<p>If <code>pDataSize</code> is less than what is necessary to store this header,
nothing will be written to <code>pData</code> and zero will be written to
<code>pDataSize</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetValidationCacheDataEXT-device-parameter" href="chap9.html#VUID-vkGetValidationCacheDataEXT-device-parameter"></a> <span class="vuid">VUID-vkGetValidationCacheDataEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetValidationCacheDataEXT-validationCache-parameter" href="chap9.html#VUID-vkGetValidationCacheDataEXT-validationCache-parameter"></a> <span class="vuid">VUID-vkGetValidationCacheDataEXT-validationCache-parameter</span><br>
 <code>validationCache</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkValidationCacheEXT">VkValidationCacheEXT</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetValidationCacheDataEXT-pDataSize-parameter" href="chap9.html#VUID-vkGetValidationCacheDataEXT-pDataSize-parameter"></a> <span class="vuid">VUID-vkGetValidationCacheDataEXT-pDataSize-parameter</span><br>
 <code>pDataSize</code> <strong class="purple">must</strong> be a valid pointer to a <code>size_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetValidationCacheDataEXT-pData-parameter" href="chap9.html#VUID-vkGetValidationCacheDataEXT-pData-parameter"></a> <span class="vuid">VUID-vkGetValidationCacheDataEXT-pData-parameter</span><br>
 If the value referenced by <code>pDataSize</code> is not <code>0</code>, and <code>pData</code> is not <code>NULL</code>, <code>pData</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pDataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkGetValidationCacheDataEXT-validationCache-parent" href="chap9.html#VUID-vkGetValidationCacheDataEXT-validationCache-parent"></a> <span class="vuid">VUID-vkGetValidationCacheDataEXT-validationCache-parent</span><br>
 <code>validationCache</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the second group of four bytes in the header returned by
<a href="chap9.html#vkGetValidationCacheDataEXT">vkGetValidationCacheDataEXT</a>, encoding the validation cache version,
are:</p>
</div>
<div id="VkValidationCacheHeaderVersionEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_validation_cache</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkValidationCacheHeaderVersionEXT</span> <span class="p">{</span>
    <span class="n">VK_VALIDATION_CACHE_HEADER_VERSION_ONE_EXT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkValidationCacheHeaderVersionEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_VALIDATION_CACHE_HEADER_VERSION_ONE_EXT</code> specifies version one
of the validation cache.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a validation cache, call:</p>
</div>
<div id="vkDestroyValidationCacheEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_validation_cache</span>
<span class="kt">void</span> <span class="nf">vkDestroyValidationCacheEXT</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkValidationCacheEXT</span>                        <span class="n">validationCache</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the validation cache
object.</p>
</li>
<li>
<p><code>validationCache</code> is the handle of the validation cache to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyValidationCacheEXT-validationCache-01537" href="chap9.html#VUID-vkDestroyValidationCacheEXT-validationCache-01537"></a> <span class="vuid">VUID-vkDestroyValidationCacheEXT-validationCache-01537</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>validationCache</code>
was created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyValidationCacheEXT-validationCache-01538" href="chap9.html#VUID-vkDestroyValidationCacheEXT-validationCache-01538"></a> <span class="vuid">VUID-vkDestroyValidationCacheEXT-validationCache-01538</span><br>

If no <code>VkAllocationCallbacks</code> were provided when
<code>validationCache</code> was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyValidationCacheEXT-device-parameter" href="chap9.html#VUID-vkDestroyValidationCacheEXT-device-parameter"></a> <span class="vuid">VUID-vkDestroyValidationCacheEXT-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyValidationCacheEXT-validationCache-parameter" href="chap9.html#VUID-vkDestroyValidationCacheEXT-validationCache-parameter"></a> <span class="vuid">VUID-vkDestroyValidationCacheEXT-validationCache-parameter</span><br>
 If <code>validationCache</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>validationCache</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkValidationCacheEXT">VkValidationCacheEXT</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyValidationCacheEXT-pAllocator-parameter" href="chap9.html#VUID-vkDestroyValidationCacheEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyValidationCacheEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyValidationCacheEXT-validationCache-parent" href="chap9.html#VUID-vkDestroyValidationCacheEXT-validationCache-parent"></a> <span class="vuid">VUID-vkDestroyValidationCacheEXT-validationCache-parent</span><br>
 If <code>validationCache</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>validationCache</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>

<nav>
  <a rel="prev" href="chap8.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap10.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>
<div id="footer">
<div id="footer-text">
Version 1.3.258<br>
Last updated 2023-02-26 21:00:39 -0800
</div>
</div>



</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>