<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="author" content="Jon Leech">
<title>The Khronos速 Vulkan速 API Registry</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: #fff; color: #222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.spread { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: black; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #0068b0; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #333; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: Noto, sans-serif; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Noto, sans-serif; font-weight: normal; font-style: normal; color: black; text-rendering: optimizeLegibility; margin-top: 0.5em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #4d4d4d; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #ddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #264357; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; list-style-position: outside; font-family: Noto, sans-serif; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #ddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 0.75em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #ddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #365E7A; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #365E7A; }

blockquote, blockquote p { line-height: 1.6; color: #333; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #ddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: #fff; margin-bottom: 1.25em; border: solid 1px #d8d8ce; }
table thead, table tfoot { background: #eee; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #6d6e71; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f8; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 0; background-color: transparent; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; word-wrap: break-word; }
*:not(pre) > code.nobreak { word-wrap: normal; }
*:not(pre) > code.nowrap { white-space: nowrap; }

pre, pre > code { line-height: 1.6; color: #264357; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: #333333; }

kbd { font-family: Consolas, "Liberation Mono", Courier, monospace; display: inline-block; color: black; font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 1.5em; padding-right: 1.5em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: black; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #ddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #365E7A; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #333; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #333; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #ddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 0 solid #ddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: Noto, sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: black; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #fff; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #ddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #ddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: none; padding: 1.25em; }

#footer-text { color: black; line-height: 1.44; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 0 solid #ddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: black; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: black; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: black; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: initial; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: Noto, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddd; color: #365E7A; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: black; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px hidden #666; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; padding: 1.25em 1.5625em 1.125em 1.5625em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #eee; background-color: #264357; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1.25em 1.5625em 1.125em 1.5625em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.6; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 0.75em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #333; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: black; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #365E7A; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 0.75em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #333; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: #365E7A; }

.quoteblock.abstract { margin: 0 0 0.75em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #d8d8ce; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: #eee; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.375em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.375em -0.75em; }

ul.inline > li { margin-left: 0.75em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 0.75em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist > table tr > td:first-of-type img { max-width: initial; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px #fff; -webkit-box-shadow: 0 0 0 1px #ddd; box-shadow: 0 0 0 1px #ddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #29475c; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { border-bottom: 1px solid #ddd; }

.sect1 { padding-bottom: 0; }

#toctitle { color: #00406F; font-weight: normal; margin-top: 1.5em; }

.sidebarblock { border-color: #aaa; }

code { -webkit-border-radius: 4px; border-radius: 4px; }

p.tableblock.header { color: #6d6e71; }

.literalblock pre, .listingblock pre { background: #eee; }

/* From https://github.com/KhronosGroup/Vulkan-Docs/pull/901 */
a code { color: inherit; }

/* From https://github.com/KhronosGroup/Vulkan-Docs/pull/1157 */
/* Make VUID anchor handles*/
li > p > a[id^="VUID-"] { visibility: hidden; position: absolute; z-index: 1001; width: 2.2ex; margin-left: -2.2ex; display: block; text-decoration: none !important; text-align: center; font-weight: normal; }

li > p > a[id^="VUID-"]:before { content: "\00A7"; font-size: 1em; display: block; padding-top: 0em; background: #fff; }

li > p:hover > a[id^="VUID-"], li > p > a[id^="VUID-"]:hover { visibility: visible; }

li > p > a[id^="VUID-"].link { color: black; text-decoration: none; }

/* TODO: not quite sure what these two do */
li > p > a[id^="VUID-"].link:hover { color: black; }

.vuid { color: #4d4d4d; font-family: monospace; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge .cm {
  color: #999988;
  font-style: italic;
}
pre.rouge .cp {
  color: #999999;
  font-weight: bold;
}
pre.rouge .c1 {
  color: #999988;
  font-style: italic;
}
pre.rouge .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cpf {
  color: #999988;
  font-style: italic;
}
pre.rouge .err {
  color: #a61717;
  background-color: #e3d2d2;
}
pre.rouge .gd {
  color: #000000;
  background-color: #ffdddd;
}
pre.rouge .ge {
  color: #000000;
  font-style: italic;
}
pre.rouge .gr {
  color: #aa0000;
}
pre.rouge .gh {
  color: #999999;
}
pre.rouge .gi {
  color: #000000;
  background-color: #ddffdd;
}
pre.rouge .go {
  color: #888888;
}
pre.rouge .gp {
  color: #555555;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gu {
  color: #aaaaaa;
}
pre.rouge .gt {
  color: #aa0000;
}
pre.rouge .kc {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kd {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kn {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #445588;
  font-weight: bold;
}
pre.rouge .k, pre.rouge .kv {
  color: #000000;
  font-weight: bold;
}
pre.rouge .mf {
  color: #009999;
}
pre.rouge .mh {
  color: #009999;
}
pre.rouge .il {
  color: #009999;
}
pre.rouge .mi {
  color: #009999;
}
pre.rouge .mo {
  color: #009999;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mx {
  color: #009999;
}
pre.rouge .sa {
  color: #000000;
  font-weight: bold;
}
pre.rouge .sb {
  color: #d14;
}
pre.rouge .sc {
  color: #d14;
}
pre.rouge .sd {
  color: #d14;
}
pre.rouge .s2 {
  color: #d14;
}
pre.rouge .se {
  color: #d14;
}
pre.rouge .sh {
  color: #d14;
}
pre.rouge .si {
  color: #d14;
}
pre.rouge .sx {
  color: #d14;
}
pre.rouge .sr {
  color: #009926;
}
pre.rouge .s1 {
  color: #d14;
}
pre.rouge .ss {
  color: #990073;
}
pre.rouge .s, pre.rouge .dl {
  color: #d14;
}
pre.rouge .na {
  color: #008080;
}
pre.rouge .bp {
  color: #999999;
}
pre.rouge .nb {
  color: #0086B3;
}
pre.rouge .nc {
  color: #445588;
  font-weight: bold;
}
pre.rouge .no {
  color: #008080;
}
pre.rouge .nd {
  color: #3c5d5d;
  font-weight: bold;
}
pre.rouge .ni {
  color: #800080;
}
pre.rouge .ne {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nf, pre.rouge .fm {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nl {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nn {
  color: #555555;
}
pre.rouge .nt {
  color: #000080;
}
pre.rouge .vc {
  color: #008080;
}
pre.rouge .vg {
  color: #008080;
}
pre.rouge .vi {
  color: #008080;
}
pre.rouge .nv, pre.rouge .vm {
  color: #008080;
}
pre.rouge .ow {
  color: #000000;
  font-weight: bold;
}
pre.rouge .o {
  color: #000000;
  font-weight: bold;
}
pre.rouge .w {
  color: #bbbbbb;
}
pre.rouge {
  background-color: #f8f8f8;
}
</style>
<style>
/* Khronos overrides for Rouge 'github' theme for accessibility */
/* Basically everything is overridden, but it is unclear how to add a new Rouge theme */
/* Codelike overrides */
pre.rouge .cm, pre.rouge .cp, pre.rouge .c1, pre.rouge .cs,
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cpf,
pre.rouge .gh, pre.rouge .bp {
  color: #5f5f5f;
}
/* Numberlike overrides */
pre.rouge .mf, pre.rouge .mh, pre.rouge .il, pre.rouge .mi,
pre.rouge .mo, pre.rouge .m, pre.rouge .mb, pre.rouge .mx {
  color: #007f7f;
}
/* Namelike overrides */
pre.rouge .ne, pre.rouge .nf, pre.rouge .fm, pre.rouge .nl {
  color: #5f0000;
}
/* Other things ANDI warns about - unsure of their purposes */
pre.rouge .go, pre.rouge .gu {
  color: #727272;
}
pre.rouge .sr {
  color: #008512;
}
pre.rouge .na, pre.rouge .nb {
  color: #007f7f;
}
pre.rouge .no, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi,
pre.rouge .nv, pre.rouge .vm {
  color: #007f7f;
}
pre.rouge .w {
  color: #727272;
}
</style>

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin="" even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="katex/katex.min.css">
<!--ChunkedSearchJSMarker-->
<style>
    #loading_msg {
        width: 100%;
        margin-left: auto;
        margin-right: auto;
        margin-top: 1ex;
        margin-bottom: 1ex;
        max-width: 62.5em;
        position: relative;
        padding-left: 1.5em;
        padding-right: 1.5em;
    }
    .hidden {display: none;}
</style>
<script>
    function hideElement(e){
        e.setAttribute("hidden", "");
        e.classList.add("hidden");
    }

    function unhideElement(e){
        e.classList.remove("hidden");
        e.removeAttribute("hidden");
    }

    function hideLoadableContent(){
        unhideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) hideElement(loadable);
    }

    function unhideLoadableContent(){
        hideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) unhideElement(loadable);
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>The Khronos<sup>速</sup> Vulkan<sup>速</sup> API Registry</h1>
<div class="details">
<span id="author" class="author">Jon Leech</span><br>
<span id="revnumber">version 1.3.224,</span>
<span id="revdate">2022-08-04 08:41:41Z</span>
<br><span id="revremark">from git branch: github-main commit: 5ca346bf39db36ff06e24686f0a815754c5f7c16</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_schema_choices">1.1. Schema Choices</a></li>
</ul>
</li>
<li><a href="#starting">2. Getting Started</a>
<ul class="sectlevel2">
<li><a href="#_header_generation_script_genvk_py">2.1. Header Generation Script - <code>genvk.py</code></a></li>
<li><a href="#_registry_processing_script_reg_py">2.2. Registry Processing Script - <code>reg.py</code></a></li>
<li><a href="#_output_generator_script_generator_py">2.3. Output Generator Script - <code>generator.py</code></a></li>
</ul>
</li>
<li><a href="#schema">3. Vulkan Registry Schema</a>
<ul class="sectlevel2">
<li><a href="#schema:profile">3.1. Profiles</a></li>
<li><a href="#schema:apiname">3.2. API Names</a></li>
</ul>
</li>
<li><a href="#schema:root">4. Registry Root (<code>registry</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_registry_tags">4.1. Attributes of <code>registry</code> tags</a></li>
<li><a href="#_contents_of_registry_tags">4.2. Contents of <code>registry</code> tags</a>
<ul class="sectlevel3">
<li><a href="#tag-comment">4.2.1. Comment Tags (<code>comment</code> tag)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#tag-platforms">5. Platform Name Blocks (<code>platforms</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_platforms_tags">5.1. Attributes of <code>platforms</code> tags</a></li>
<li><a href="#_contents_of_platforms_tags">5.2. Contents of <code>platforms</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-platform">6. Platform Names (<code>platform</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_platform_tags">6.1. Attributes of <code>platform</code> tags</a></li>
<li><a href="#_contents_of_platform_tags">6.2. Contents of <code>platform</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-tags">7. Author ID Blocks (<code>tags</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_tags_tags">7.1. Attributes of <code>tags</code> tags</a></li>
<li><a href="#_contents_of_tags_tags">7.2. Contents of <code>tags</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-tag">8. Author IDs (<code>tag</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_tag_tags">8.1. Attributes of <code>tag</code> tags</a></li>
<li><a href="#_contents_of_tag_tags">8.2. Contents of <code>tag</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-types">9. API Type Blocks (<code>types</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_types_tags">9.1. Attributes of <code>types</code> tags</a></li>
<li><a href="#_contents_of_types_tags">9.2. Contents of <code>types</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-type">10. API Type (<code>type</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_type_tags">10.1. Attributes of <code>type</code> tags</a></li>
<li><a href="#_contents_of_type_tags">10.2. Contents of <code>type</code> tags</a>
<ul class="sectlevel3">
<li><a href="#_enumerated_types_category_enum">10.2.1. Enumerated types - <code>category</code> <code>"enum"</code></a></li>
<li><a href="#_structure_types_category_struct_or_union">10.2.2. Structure types - <code>category</code> <code>"struct"</code> or <code>"union"</code></a></li>
<li><a href="#_all_other_types">10.2.3. All other types</a></li>
</ul>
</li>
<li><a href="#tag-types:example">10.3. Example of a <code>types</code> tag</a></li>
</ul>
</li>
<li><a href="#tag-enums">11. Enumerant Blocks (<code>enums</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_enums_tags">11.1. Attributes of <code>enums</code> tags</a></li>
<li><a href="#_contents_of_enums_tags">11.2. Contents of <code>enums</code> tags</a></li>
<li><a href="#_example_of_enums_tags">11.3. Example of <code>enums</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-enum">12. Enumerants (<code>enum</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_enum_tags">12.1. Attributes of <code>enum</code> tags</a></li>
<li><a href="#_contents_of_enum_tags">12.2. Contents of <code>enum</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-unused">13. Unused Enumerants (<code>unused</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_unused_tags">13.1. Attributes of <code>unused</code> tags</a></li>
<li><a href="#_contents_of_unused_tags">13.2. Contents of <code>unused</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-commands">14. Command Blocks (<code>commands</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_commands_tags">14.1. Attributes of <code>commands</code> tags</a></li>
<li><a href="#_contents_of_commands_tags">14.2. Contents of <code>commands</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-command">15. Commands (<code>command</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_command_tags">15.1. Attributes of <code>command</code> tags</a></li>
<li><a href="#_contents_of_command_tags">15.2. Contents of <code>command</code> tags</a></li>
<li><a href="#tag-command:proto">15.3. Command prototype (<code>proto</code> tags)</a>
<ul class="sectlevel3">
<li><a href="#_attributes_of_proto_tags">15.3.1. Attributes of <code>proto</code> tags</a></li>
<li><a href="#_contents_of_proto_tags">15.3.2. Contents of <code>proto</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-command:param">15.4. Command parameter (<code>param</code> tags)</a>
<ul class="sectlevel3">
<li><a href="#tag-command:param:attr">15.4.1. Attributes of <code>param</code> tags</a></li>
<li><a href="#_contents_of_param_tags">15.4.2. Contents of <code>param</code> tags</a></li>
</ul>
</li>
<li><a href="#_example_of_a_commands_tag">15.5. Example of a <code>commands</code> tag</a></li>
</ul>
</li>
<li><a href="#tag-feature">16. API Features and Versions (<code>feature</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_feature_tags">16.1. Attributes of <code>feature</code> tags</a></li>
<li><a href="#_contents_of_feature_tags">16.2. Contents of <code>feature</code> tags</a></li>
<li><a href="#_example_of_a_feature_tag">16.3. Example of a <code>feature</code> tag</a></li>
</ul>
</li>
<li><a href="#tag-extensions">17. Extension Blocks (<code>extensions</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_extensions_tags">17.1. Attributes of <code>extensions</code> tags</a></li>
<li><a href="#_contents_of_extensions_tags">17.2. Contents of <code>extensions</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-extension">18. API Extensions (<code>extension</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_extension_tags">18.1. Attributes of <code>extension</code> tags</a></li>
<li><a href="#_contents_of_extension_tags">18.2. Contents of <code>extension</code> tags</a></li>
<li><a href="#_example_of_an_extensions_tag">18.3. Example of an <code>extensions</code> tag</a></li>
</ul>
</li>
<li><a href="#tag-required">19. Required and Removed Interfaces (<code>require</code> and <code>remove</code> tags)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_require_and_remove_tags">19.1. Attributes of <code>require</code> and <code>remove</code> tags</a></li>
<li><a href="#_attributes_of_require_tags">19.2. Attributes of <code>require</code> tags</a></li>
<li><a href="#_contents_of_require_and_remove_tags">19.3. Contents of <code>require</code> and <code>remove</code> tags</a>
<ul class="sectlevel3">
<li><a href="#_comment_tags">19.3.1. Comment Tags</a></li>
<li><a href="#_command_tags">19.3.2. Command Tags</a></li>
<li><a href="#_enum_tags">19.3.3. Enum tags</a></li>
<li><a href="#_type_tags">19.3.4. Type tags</a></li>
</ul>
</li>
<li><a href="#tag-required-examples">19.4. Examples of Extension Enumerants</a></li>
</ul>
</li>
<li><a href="#tag-formats">20. Formats (<code>formats</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_formats_tags">20.1. Attributes of <code>formats</code> tags</a></li>
<li><a href="#_contents_of_formats_tags">20.2. Contents of <code>formats</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-format">21. Image Format (<code>format</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_format_tags">21.1. Attributes of <code>format</code> tags</a></li>
<li><a href="#_contents_of_format_tags">21.2. Contents of <code>format</code> tags</a></li>
<li><a href="#_example_of_a_format_tag">21.3. Example of a <code>format</code> tag</a></li>
</ul>
</li>
<li><a href="#tag-component">22. Format Components (<code>component</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_component_tags">22.1. Attributes of <code>component</code> tags</a></li>
<li><a href="#_contents_of_component_tags">22.2. Contents of <code>component</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-plane">23. Format Planes (<code>plane</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_plane_tags">23.1. Attributes of <code>plane</code> tags</a></li>
<li><a href="#_contents_of_plane_tags">23.2. Contents of <code>plane</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-spirvimageformat">24. SPIR-V Image Formats (<code>spirvimageformat</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_spirvimageformat_tags">24.1. Attributes of <code>spirvimageformat</code> tags</a></li>
<li><a href="#_contents_of_spirvimageformat_tags">24.2. Contents of <code>spirvimageformat</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-spirvextensions">25. SPIR-V Extensions (<code>spirvextensions</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_spirvextensions_tags">25.1. Attributes of <code>spirvextensions</code> tags</a></li>
<li><a href="#_contents_of_spirvextensions_tags">25.2. Contents of <code>spirvextensions</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-spirvextension">26. SPIR-V Extension (<code>spirvextension</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_spirvextension_tags">26.1. Attributes of <code>spirvextension</code> tags</a></li>
<li><a href="#_contents_of_spirvextension_tags">26.2. Contents of <code>spirvextension</code> tags</a></li>
<li><a href="#_example_of_a_spirvextensions_tag">26.3. Example of a <code>spirvextensions</code> tag</a></li>
</ul>
</li>
<li><a href="#tag-spirvcapabilities">27. SPIR-V Capabilities (<code>spirvcapabilities</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_spirvcapabilities_tags">27.1. Attributes of <code>spirvcapabilities</code> tags</a></li>
<li><a href="#_contents_of_spirvcapabilities_tags">27.2. Contents of <code>spirvcapabilities</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-spirvcapability">28. SPIR-V Capability (<code>spirvcapability</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_spirvcapability_tags">28.1. Attributes of <code>spirvcapability</code> tags</a></li>
<li><a href="#_contents_of_spirvcapability_tags">28.2. Contents of <code>spirvcapability</code> tags</a></li>
<li><a href="#_example_of_a_spirvcapabilities_tag">28.3. Example of a <code>spirvcapabilities</code> tag</a></li>
</ul>
</li>
<li><a href="#tag-spirvenable">29. SPIR-V Enables (<code>enable</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_for_api_version_number_enables">29.1. Attributes for API Version Number Enables</a></li>
<li><a href="#_attributes_for_api_extension_enables">29.2. Attributes for API Extension Enables</a></li>
<li><a href="#_attributes_for_api_feature_enables">29.3. Attributes for API Feature Enables</a></li>
<li><a href="#_attributes_for_api_property_enables">29.4. Attributes for API Property Enables</a></li>
<li><a href="#_contents_of_enable_tags">29.5. Contents of <code>enable</code> tags</a></li>
</ul>
</li>
<li><a href="#examples">30. Examples / FAQ / How Do I?</a>
<ul class="sectlevel2">
<li><a href="#_general_strategy">30.1. General Strategy</a></li>
<li><a href="#_api_feature_dependencies">30.2. API Feature Dependencies</a>
<ul class="sectlevel3">
<li><a href="#_api_feature_walkthrough">30.2.1. API Feature Walkthrough</a></li>
</ul>
</li>
<li><a href="#compile-time-constants">30.3. How To Add A Compile Time Constant</a></li>
<li><a href="#compile-time-constants-format">30.4. Allowed Format of Compile Time Constants</a></li>
<li><a href="#_how_to_add_a_struct_or_union_type">30.5. How To Add A Struct or Union Type</a></li>
<li><a href="#_how_to_add_an_enumerated_type">30.6. How To Add An Enumerated Type</a></li>
<li><a href="#adding-bitflags">30.7. How To Add Bit Flags</a>
<ul class="sectlevel3">
<li><a href="#_32_bit_flags">30.7.1. 32-bit Flags</a></li>
</ul>
</li>
<li><a href="#_how_to_add_a_command">30.8. How to Add A Command</a></li>
<li><a href="#_more_complicated_api_representations">30.9. More Complicated API Representations</a></li>
<li><a href="#_more_complicated_output_formats_and_other_languages">30.10. More Complicated Output Formats And Other Languages</a></li>
<li><a href="#_additional_semantic_tagging">30.11. Additional Semantic Tagging</a></li>
<li><a href="#general:stability">30.12. Stability of the XML Database and Schema</a></li>
</ul>
</li>
<li><a href="#changelog">31. Change Log</a></li>
</ul>
</div>
</div>
<div id="loading_msg" class="hidden" hidden><p>Loading&hellip; please wait.</p></div>
<!--ChunkedSearchboxMarker-->
<div id="content" class="loadable" ><script>hideLoadableContent();</script>
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Copyright 2014-2022 The Khronos Group Inc.</p>
</div>
<div class="paragraph">
<p>SPDX-License-Identifier: CC-BY-4.0</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document describes the Khronos Vulkan API Registry schema, and provides
some additional information about using the registry and scripts to generate
a variety of outputs, including C header files as well as several types of
asciidoc include files used in the Vulkan API specification and reference
pages.
The underlying XML files and scripts are located on the Khronos public
Github server at URL</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs" class="bare">https://github.com/KhronosGroup/Vulkan-Docs</a></p>
</div>
<div class="paragraph">
<p>The authoritative copy of the Registry is maintained in the default branch,
currently <code>main</code>.</p>
</div>
<div class="paragraph">
<p>The registry uses an XML representation of the Vulkan API, together with a
set of Python scripts to manipulate the registry once loaded.
The scripts rely on the Python <code>etree</code> package to parse and operate on XML.
An XML schema and validator target are included.</p>
</div>
<div class="paragraph">
<p>The schema is based on, but not identical to that used for the previously
published OpenGL, OpenGL ES and EGL API registries.
It was extended to represent additional types and concepts not needed for
those APIs, such as structure and enumerant types, as well as additional
types of registered information specific to Vulkan.</p>
</div>
<div class="paragraph">
<p>The Vulkan C header files generated from the registry are checked into a
separate repository under</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/KhronosGroup/Vulkan-Headers/" class="bare">https://github.com/KhronosGroup/Vulkan-Headers/</a></p>
</div>
<div class="sect2">
<h3 id="_schema_choices"><a class="anchor" href="#_schema_choices"></a>1.1. Schema Choices</h3>
<div class="paragraph">
<p>The XML schema is not pure XML all the way down.
In particular, command return types/names and parameters, and structure
members, are described in mixed-mode tag containing C declarations of the
appropriate information, with some XML nodes annotating particular parts of
the declaration such as its base type and name.
This choice is based on prior experience with the SGI <code>.spec</code> file format
used to describe OpenGL, and greatly eases human reading and writing the
XML, and generating C-oriented output.
The cost is that people writing output generators for other languages will
have to include enough logic to parse the C declarations and extract the
relevant information.</p>
</div>
<div class="paragraph">
<p>People who do not find the supplied Python scripts to suit their needs are
likely to write their own parsers, interpreters, and/or converters operating
on the registry XML.
We hope that we have provided enough information in this document, the RNC
schema (<code>registry.rnc</code>), and comments in the Registry (<code>vk.xml</code>) itself to
enable such projects.
If not and you need clarifications; if you have other problems using the
registry; or if you have proposed changes and enhancements, then please file
issues on Khronos' public Github project at</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/issues" class="bare">https://github.com/KhronosGroup/Vulkan-Docs/issues</a></p>
</div>
<div class="paragraph">
<p>Please tag your issues with <code>[Registry]</code> in the subject line to help us
categorize them.
We have considered separating the registry from the specification source
into a separate repository, but since there is so much specification valid
usage language imbedded in the registry XML, this is unlikely to happen.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="starting"><a class="anchor" href="#starting"></a>2. Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See
<a href="https://gitlab.khronos.org/vulkan/vulkan/blob/main/xml/README.adoc"><code>xml/README.adoc</code></a>
in the <code>Vulkan-Docs</code> repository for information on required toolchain
components such as Python 3, g++, and GNU make.</p>
</div>
<div class="paragraph">
<p>Once you have the right tools installed, perform the following steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Check out the <code>Vulkan-Docs</code> repository linked above from Khronos Github
(there are instructions at the link)</p>
</li>
<li>
<p><code>cd</code> to the root directory in your checked-out repo</p>
</li>
<li>
<p>Switch to the default branch (<code>main</code>).</p>
</li>
<li>
<p>Invoke <code>make clean ; make install ; make test</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This should regenerate <code>vulkan_core.h</code> and a variety of platform-specific
headers, install them in <code>../include/vulkan/</code>, and verify that the headers
build properly.
If you build at the latest repository tag, the resulting headers should be
identical to the latest versions in the
<a href="https://github.com/KhronosGroup/Vulkan-Headers/">Vulkan-Headers
repository</a>.</p>
</div>
<div class="paragraph">
<p>The <code>install</code> target also generates source code for a simple extension
loader library in <code>../src/ext_loader/</code>.</p>
</div>
<div class="paragraph">
<p>Other Makefile targets in <code>xml/</code> include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>validate</code> - validate <code>vk.xml</code> against the XML schema.
Recommended if you are making nontrivial changes.</p>
</li>
<li>
<p>The asciidoc includes used by the Specification and Reference Pages are
built using the 'make generated' target in the parent directory
Makefile, although they use the scripts and XML in this directory.
These files are generated dynamically when building the specs, since
their contents depend on the exact set of extensions the Specification
is being built to include.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you just want to modify the API, changing <code>vk.xml</code> and running <code>make</code>
should be all that is needed.
See <a href="#examples">Examples / FAQ / How Do I?</a> for some examples of modifying the XML.</p>
</div>
<div class="paragraph">
<p>If you want to use the registry for reasons other than generating the header
file, extension loader, and asciidoc includes, or to generate headers for
languages other than C, start with the Makefile rules and the files
<code>vk.xml</code> and scripts <code>genvk.py</code>, <code>reg.py</code>, and <code>generator.py</code>.
The scripts are described below and are all located in the <code>scripts</code>
directory under the repository root.</p>
</div>
<div class="sect2">
<h3 id="_header_generation_script_genvk_py"><a class="anchor" href="#_header_generation_script_genvk_py"></a>2.1. Header Generation Script - <code>genvk.py</code></h3>
<div class="paragraph">
<p>When generating header files using the <code>genvk.py</code> script, an API name and
profile name are required, as shown in the Makefile examples.
Additionally, specific API versions and extensions can be required or
excluded.
Based on this information, the generator script extracts the relevant
interfaces and creates a C-language header file for them.
<code>genvk.py</code> contains predefined generator options for the current Vulkan
Specification release.</p>
</div>
<div class="paragraph">
<p>The generator script is intended to be generalizable to other languages by
writing new generator classes.
Such generators would have to rewrite the C types and definitions in the XML
to something appropriate to their language.</p>
</div>
</div>
<div class="sect2">
<h3 id="_registry_processing_script_reg_py"><a class="anchor" href="#_registry_processing_script_reg_py"></a>2.2. Registry Processing Script - <code>reg.py</code></h3>
<div class="paragraph">
<p>XML processing is done in <code>reg.py</code>, which contains several objects and
methods for loading registries and extracting interfaces and extensions for
use in header generation.
There is some internal documentation in the form of comments, although
nothing more extensive exists yet.</p>
</div>
</div>
<div class="sect2">
<h3 id="_output_generator_script_generator_py"><a class="anchor" href="#_output_generator_script_generator_py"></a>2.3. Output Generator Script - <code>generator.py</code></h3>
<div class="paragraph">
<p>Once the registry is loaded, the <code>COutputGenerator</code> class defined in
<code>generator.py</code> is used to create a header file.
The <code>DocOutputGenerator</code> class is used to create the asciidoc include files.
Output generators for other purposes can be added as needed.
There are a variety of output generators included:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cgenerator.py</code> - generate C header file</p>
</li>
<li>
<p><code>docgenerator.py</code> - generate asciidoc includes for APIs</p>
</li>
<li>
<p><code>hostsyncgenerator.py</code> - generate host sync table includes for APIs</p>
</li>
<li>
<p><code>validitygenerator.py</code> - generate validity language includes</p>
</li>
<li>
<p><code>pygenerator.py</code> - generate a Python dictionary-based encoding of
portions of the registry, used during spec generation</p>
</li>
<li>
<p><code>extensionStubSource.py</code> - generate a simple C extension loader.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="schema"><a class="anchor" href="#schema"></a>3. Vulkan Registry Schema</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The format of the Vulkan registry is a top level <code>registry</code> tag containing
<code>types</code>, <code>enums</code>, <code>commands</code>, <code>feature</code>, and <code>extension</code> tags
describing the different elements of an API, as explained below.
This description corresponds to a formal Relax NG schema file,
<code>registry.rnc</code>, against which the XML registry files can be validated.</p>
</div>
<div class="paragraph">
<p>At present the only registry in this schema is the core Vulkan API registry,
<code>vk.xml</code>.</p>
</div>
<div class="sect2">
<h3 id="schema:profile"><a class="anchor" href="#schema:profile"></a>3.1. Profiles</h3>
<div class="paragraph">
<p>Types and enumerants can have different definitions depending on the API
profile requested.
This capability is not used in the current Vulkan API but may be in the
future.
Features and extensions can include some elements conditionally depending on
the API profile requested.</p>
</div>
</div>
<div class="sect2">
<h3 id="schema:apiname"><a class="anchor" href="#schema:apiname"></a>3.2. API Names</h3>
<div class="paragraph">
<p>Specific API versions features and extensions can be tagged as belonging to
to classes of features with the use of <em>API names</em>.
This is intended to allow multiple closely-related API specifications in the
same family - such as desktop and mobile specifications - to share the same
XML.
An API name is an arbitrary alphanumeric string, although it should be
chosen to match the corresponding API.
For example, Vulkan and OpenXR use <code>vulkan</code> and <code>openxr</code> as their API names,
respectively.</p>
</div>
<div class="paragraph">
<p>The <code>api</code> attribute of the <code>feature</code> tag and the <code>supported</code>
attribute of the <code>extensions</code> tag must be comma-separated lists of one or
more API names, all of which match that feature or extension.
When generating headers and other artifacts from the XML, an API name may be
specified to the processing scripts, causing the selection of only those
features and extensions whose API names match the specified name.</p>
</div>
<div class="paragraph">
<p>Several other tags for defining types and groups of types also support
<code>api</code> attributes.
If present, the attribute value must be a comma-separated list of one or
more API names.
This allows specializing a definition for different, closely related APIs.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="schema:root"><a class="anchor" href="#schema:root"></a>4. Registry Root (<code>registry</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>registry</code> contains the entire definition of one or more related APIs.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_registry_tags"><a class="anchor" href="#_attributes_of_registry_tags"></a>4.1. Attributes of <code>registry</code> tags</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_registry_tags"><a class="anchor" href="#_contents_of_registry_tags"></a>4.2. Contents of <code>registry</code> tags</h3>
<div class="paragraph">
<p>Zero or more of each of the following tags, normally in this order (although
order should not be important):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>comment</code> - Contains arbitrary text, such as a copyright statement.</p>
</li>
<li>
<p><a href="#tag-platforms"><code>platforms</code></a> - defines platform names corresponding
to platform-specific <a href="#tag-extension">API extensions</a>.</p>
</li>
<li>
<p><a href="#tag-tags"><code>tags</code></a> - defines author IDs used for extensions and
layers.
Author IDs are described in detail in the &#8220;Layers &amp; Extensions&#8221;
section of the &#8220;Vulkan Documentation and Extensions: Procedures and
Conventions&#8221; document.</p>
</li>
<li>
<p><a href="#tag-types"><code>types</code></a> - defines API types.
Usually only one tag is used.</p>
</li>
<li>
<p><a href="#tag-enums"><code>enums</code></a> - defines API token names and values.
Usually multiple tags are used.
Related groups may be tagged as an enumerated type corresponding to a
<code>type</code> tag, and resulting in a C <code>enum</code> declaration.
This ability is heavily used in the Vulkan API.</p>
</li>
<li>
<p><a href="#tag-commands"><code>commands</code></a> - defines API commands (functions).
Usually only one tag is used.</p>
</li>
<li>
<p><a href="#tag-feature"><code>feature</code></a> - defines API feature interfaces (API
versions, more or less).
One tag per feature set.</p>
</li>
<li>
<p><a href="#tag-extensions"><code>extensions</code></a> - defines API extension interfaces.
Usually only one tag is used, wrapping many extensions.</p>
</li>
<li>
<p><a href="#tag-formats"><code>formats</code></a> - defines properties of image formats.
Only one tag is used, wrapping all the formats.</p>
</li>
<li>
<p><a href="#tag-spirvextensions"><code>spirvextensions</code></a> - defines relationship
between SPIR-V extensions and API interfaces which enable each
extension.
Only one tag is used, wrapping all the SPIR-V extensions.</p>
</li>
<li>
<p><a href="#tag-spirvcapabilities"><code>spirvcapabilities</code></a> - defines relationship
between SPIR-V capabilities and API interfaces which enable each
capability.
Only one tag is used, wrapping all the SPIR-V capabilities.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="tag-comment"><a class="anchor" href="#tag-comment"></a>4.2.1. Comment Tags (<code>comment</code> tag)</h4>
<div class="paragraph">
<p>A <code>comment</code> tag contains an arbitrary string, and is unused.
Comment tags may appear in multiple places in the schema, as described
below.
Comment tags are removed by output generators if they would otherwise appear
in generated headers, asciidoc include files, etc.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-platforms"><a class="anchor" href="#tag-platforms"></a>5. Platform Name Blocks (<code>platforms</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>platforms</code> contains descriptions of platform IDs for platforms
supported by window system-specific extensions to Vulkan.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_platforms_tags"><a class="anchor" href="#_attributes_of_platforms_tags"></a>5.1. Attributes of <code>platforms</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_platforms_tags"><a class="anchor" href="#_contents_of_platforms_tags"></a>5.2. Contents of <code>platforms</code> tags</h3>
<div class="paragraph">
<p>Zero or more <code>platform</code> tags, in arbitrary order (though they are
typically ordered by sorting on the platform name).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-platform"><a class="anchor" href="#tag-platform"></a>6. Platform Names (<code>platform</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>platform</code> tag describes a single platform name.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_platform_tags"><a class="anchor" href="#_attributes_of_platform_tags"></a>6.1. Attributes of <code>platform</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required.
The platform name.
This must be a short alphanumeric string corresponding to the platform
name, valid as part of a C99 identifier.
Lower-case is preferred.
In some cases, it may be desirable to distinguish a subset of platform
functionality from the entire platform.
In these cases, the platform name should begin with the entire platform
name, followed by <code>_</code> and the subset name.</p>
<div class="openblock">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For example,</p>
</div>
<div class="paragraph">
<p><code>name="xlib"</code></p>
</div>
<div class="paragraph">
<p>is used for the X Window System, Xlib client library platform.</p>
</div>
<div class="paragraph">
<p><code>name="xlib_xrandr"</code></p>
</div>
<div class="paragraph">
<p>is used for the XRandR functionality within the <code>xlib</code> platform.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p><code>protect</code> - required.
This must be a C99 preprocessor token beginning with <code>VK_USE_PLATFORM_</code>
followed by the platform name, converted to upper case, followed by <code>_</code>
and the extension suffix of the corresponding window system-specific
extension supporting the platform.</p>
<div class="openblock">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For example,</p>
</div>
<div class="paragraph">
<p><code>protect="VK_USE_PLATFORM_XLIB_XRANDR_EXT"</code></p>
</div>
<div class="paragraph">
<p>is used for the <code>xlib_xrandr</code> platform name.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_platform_tags"><a class="anchor" href="#_contents_of_platform_tags"></a>6.2. Contents of <code>platform</code> tags</h3>
<div class="paragraph">
<p>No contents are allowed.
All information is contained in the attributes.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-tags"><a class="anchor" href="#tag-tags"></a>7. Author ID Blocks (<code>tags</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>tags</code> tag contains <code>authorid</code> tags describing reserved author IDs
used by extension and layer authors.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_tags_tags"><a class="anchor" href="#_attributes_of_tags_tags"></a>7.1. Attributes of <code>tags</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_tags_tags"><a class="anchor" href="#_contents_of_tags_tags"></a>7.2. Contents of <code>tags</code> tags</h3>
<div class="paragraph">
<p>Zero or more <code>tag</code> tags, in arbitrary order (though they are typically
ordered by sorting on the author ID).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-tag"><a class="anchor" href="#tag-tag"></a>8. Author IDs (<code>tag</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>tag</code> tag contains information defining a single author ID.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_tag_tags"><a class="anchor" href="#_attributes_of_tag_tags"></a>8.1. Attributes of <code>tag</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required.
The author ID, as registered with Khronos.
A short, upper-case string, usually an abbreviation of an author,
project or company name.</p>
</li>
<li>
<p><code>author</code> - required.
The author name, such as a full company or project name.</p>
</li>
<li>
<p><code>contact</code> - required.
The contact who registered or is currently responsible for extensions
and layers using the ID, including sufficient contact information to
reach the contact such as individual name together with email address,
Github username, or other contact information.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_tag_tags"><a class="anchor" href="#_contents_of_tag_tags"></a>8.2. Contents of <code>tag</code> tags</h3>
<div class="paragraph">
<p>No contents are allowed.
All information is contained in the attributes.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-types"><a class="anchor" href="#tag-types"></a>9. API Type Blocks (<code>types</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>types</code> tag contains definitions of derived types used in the API.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_types_tags"><a class="anchor" href="#_attributes_of_types_tags"></a>9.1. Attributes of <code>types</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_types_tags"><a class="anchor" href="#_contents_of_types_tags"></a>9.2. Contents of <code>types</code> tags</h3>
<div class="paragraph">
<p>Zero or more <code>type</code> and <code>comment</code> tags, in arbitrary order (though they
are typically ordered by putting dependencies of other types earlier in the
list).
The <code>comment</code> tags are used mostly to indicate grouping of related types.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-type"><a class="anchor" href="#tag-type"></a>10. API Type (<code>type</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>type</code> tag contains information which can be used to generate C code
corresponding to the type.
In many cases, this is simply legal C code, with attributes or embedded tags
denoting the type name and other types used in defining this type.
In some cases, additional attribute and embedded type information is used to
generate more complicated C types.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_type_tags"><a class="anchor" href="#_attributes_of_type_tags"></a>10.1. Attributes of <code>type</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>requires</code> - optional.
Another type name this type requires to complete its definition.</p>
</li>
<li>
<p><code>name</code> - optional.
Name of this type (if not defined in the tag body).</p>
</li>
<li>
<p><code>alias</code> - optional.
Another type name which this type is an alias of.
Must match the name of another <code>type</code> element.
This is typically used when promoting a type defined by an extension to
a new core version of the API.
The old extension type is still defined, but as an alias of the new
type.</p>
</li>
<li>
<p><code>api</code> - optional comma-separated list of <a href="#schema:apiname">API names</a>
for which this definition is specialized, so that different APIs may
have different definitions for the same type.
This definition is only used if the requested API name matches the
attribute.
May be used to address subtle incompatibilities.</p>
</li>
<li>
<p><code>category</code> - optional.
A string which indicates that this type contains a more complex
structured definition.
At present the only accepted categories are <code>basetype</code>, <code>bitmask</code>,
<code>define</code>, <code>enum</code>, <code>funcpointer</code>, <code>group</code>, <code>handle</code>, <code>include</code>, <code>struct</code>,
and <code>union</code>, as described below.</p>
</li>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
<li>
<p><code>parent</code> - only applicable if <code>"category"</code> is <code>handle</code>.
Notes another type with the <code>handle</code> category that acts as a parent
object for this type.</p>
</li>
<li>
<p><code>returnedonly</code> - only applicable if <code>"category"</code> is <code>struct</code> or
<code>union</code>.
Notes that this struct/union is going to be filled in by the API, rather
than an application filling it out and passing it to the API.</p>
</li>
<li>
<p><code>structextends</code> only applicable if category is <code>struct</code> or <code>union</code>.
This is a comma-separated list of structures whose <code>pNext</code> can include
this type.
This should usually only list the top-level structure that is extended,
for all possible extending structures.
This will generate a validity statement on the top level structure that
validates the entire chain in one go, rather than each extending
structure repeating the list of valid structs.
There is no need to set the <code>noautovalidity</code> attribute on the <code>pNext</code>
members of extending structures.</p>
</li>
<li>
<p><code>allowduplicate</code> - only applicable if <code>category</code> is <code>"struct"</code>.
If <code>"true"</code>, then structures whose <code>pNext</code> chains include this structure
may include more than one instance of it.</p>
</li>
<li>
<p><code>objtypeenum</code> - only applicable at present if <code>category</code> is
<code>"handle"</code>.
Specifies the name of a <code>VkObjectType</code> enumerant which corresponds to
this type.
The enumerant must be defined.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_type_tags"><a class="anchor" href="#_contents_of_type_tags"></a>10.2. Contents of <code>type</code> tags</h3>
<div class="paragraph">
<p>The valid contents depend on the <code>category</code> attribute.</p>
</div>
<div class="sect3">
<h4 id="_enumerated_types_category_enum"><a class="anchor" href="#_enumerated_types_category_enum"></a>10.2.1. Enumerated types - <code>category</code> <code>"enum"</code></h4>
<div class="paragraph">
<p>If the <code>category</code> tag has the value <code>enum</code>, the type is a C enumeration.
The body of the tag is ignored in this case.
The value of the <code>name</code> attribute must be provided and must match the
<code>name</code> attribute of a <a href="#tag-enums"><code>enums</code></a> tag.
The enumerant values defined within the <code>enums</code> tag are used to generate a
C <code>enum</code> type declaration.</p>
</div>
</div>
<div class="sect3">
<h4 id="_structure_types_category_struct_or_union"><a class="anchor" href="#_structure_types_category_struct_or_union"></a>10.2.2. Structure types - <code>category</code> <code>"struct"</code> or <code>"union"</code></h4>
<div class="paragraph">
<p>If the <code>category</code> tag has the values <code>struct</code> or <code>union</code>, the type is a C
structure or union, respectively.
In this case, the <code>name</code> attribute must be provided, and the contents of
the <code>type</code> tag are a series of <code>member</code> tags defining the members of the
aggregate type, in order, interleaved with any number of <code>comment</code> tags.</p>
</div>
<div class="sect4">
<h5 id="_structure_member_member_tags"><a class="anchor" href="#_structure_member_member_tags"></a>Structure member (<code>member</code>) tags</h5>
<div class="paragraph">
<p>The <code>member</code> tag defines the type and name of a structure or union member.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_of_member_tags"><a class="anchor" href="#_attributes_of_member_tags"></a>Attributes of <code>member</code> tags</h5>
<div class="ulist">
<ul>
<li>
<p><code>api</code> - optional <a href="#schema:apiname">API names</a> for which this
definition is specialized, so that different APIs may have different
definitions for the same type.
This definition is only used if the requested API name matches the
attribute.
May be used to address subtle incompatibilities.</p>
</li>
<li>
<p><code>values</code> - only valid on the <code>sType</code> member of a struct.
This is a comma-separated list of enumerant values that are valid for
the structure type; usually there is only a single value.</p>
</li>
<li>
<p><code>len</code> - if the member is an array, len may be one or more of the
following things, separated by commas (one for each array indirection):
another member of that struct; <code>"null-terminated"</code> for a string; <code>"1"</code>
to indicate it is just a pointer (used for nested pointers); or an
equation in math markup for incorporation in the specification (a LaTeX
math expression delimited by <code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mord"></span></span></span></span></code>.
The only variables in the equation should be the names of members of the
structure.</p>
</li>
<li>
<p><code>altlen</code> - if the <code>len</code> attribute is specified, and contains a
<code>latexmath:</code> equation, this attribute should be specified with an
equivalent equation using only C builtin operators, C math library
function names, and variables as allowed for <code>len</code>.
It must be a valid C99 expression whose result is equal to <code>len</code> for
all possible inputs.
It is a comma separated list that has size equal to only the <code>latexmath</code>
item count in <code>len</code> list.
This attribute is intended to support consumers of the XML who need to
generate validation code from the allowed length.</p>
</li>
<li>
<p><code>externsync</code> - denotes that the member should be externally
synchronized when accessed by Vulkan</p>
</li>
<li>
<p><code>optional</code> - optional.
A value of <code>"true"</code> or <code>"false"</code> determines whether this member can be
omitted by providing <code>NULL</code> (for pointers), <code>VK_NULL_HANDLE</code> (for
handles), or 0 (for other scalar types).
If the member is a pointer to one of those types, multiple values may be
provided, separated by commas - one for each pointer indirection.
If not present, the value is assumed to be <code>"false"</code> (the member must
not be omitted).
Structure members with name <code>pNext</code> must always be specified with
<code>optional="true"</code>, since there is no requirement that any member of a
<code>pNext</code> chain have a following member in the chain.</p>
<div class="openblock">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>While the <code>optional</code> attribute can be used for scalar types such as
integers, it does not affect the output generators included with the Vulkan
Specification.
In this case, the attribute serves only as an indicator to human readers of
the XML.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p><code>selector</code> - optional.
If the member is a union, <code>selector</code> identifies another member of the
struct that is used to select which of that union&#8217;s members are valid.</p>
</li>
<li>
<p><code>selection</code> - optional.
For a member of a union, <code>selection</code> identifies a value of the
<code>selector</code> that indicates this member is valid.</p>
</li>
<li>
<p><code>noautovalidity</code> - prevents automatic validity language being
generated for the tagged item.
Only suppresses item-specific validity - parenting issues etc.
are still captured.
It must also be used for structures that have no implicit validity when
such structure has explicit validity.</p>
</li>
<li>
<p><code>limittype</code> - only applicable for members of
<code>VkFormatProperties</code>, <code>VkFormatProperties2</code>,
<code>VkPhysicalDeviceProperties</code>, <code>VkPhysicalDeviceProperties2</code>,
<code>VkPhysicalDeviceLimits</code>, <code>VkQueueFamilyProperties</code>,
<code>VkQueueFamilyProperties2</code>, <code>VkSparseImageFormatProperties</code>,
<code>VkSparseImageFormatProperties2</code>, and structures extending or members of
any of those structures.
Specifies the type of a device limit.
This type describes how a value might be compared with the value of a
member in order to check whether it fits the limit.
Valid values:</p>
<div class="ulist">
<ul>
<li>
<p><code>"min"</code> and <code>"max"</code> denote minimum and maximum limits.
They may also apply to arrays and <code>VkExtent*D</code>.</p>
</li>
<li>
<p><code>"pot"</code> denotes a value that has to be a power of two value.
They may also apply to arrays and <code>VkExtent*D</code>.</p>
</li>
<li>
<p><code>"mul"</code> denotes a value that must be an integer multiple of this limit.
They may also apply to arrays and <code>VkExtent*D</code>.</p>
</li>
<li>
<p><code>"bits"</code> corresponds to the bits precision of an implementation.</p>
</li>
<li>
<p><code>"bitmask"</code> corresponds to bitmasks and <code>VkBool32</code>, where set bits
indicate the presence of a capability</p>
</li>
<li>
<p><code>"range"</code> specifies a [min, max] range</p>
</li>
<li>
<p><code>"struct"</code> means that the member&#8217;s fields should be compared.</p>
</li>
<li>
<p><code>"exact"</code> specifies a limit that must be a specific value.</p>
</li>
<li>
<p><code>"noauto"</code> limits cannot be trivially compared.
This is the default value, if unspecified.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>objecttype</code> - only applicable for members which are <code>uint64_t</code>
values representing a Vulkan object handle.
Specifies the name of another member which must be a <code>VkObjectType</code> or
<code>VkDebugReportObjectTypeEXT</code> value specifying the type of object the
handle refers to.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_contents_of_member_tags"><a class="anchor" href="#_contents_of_member_tags"></a>Contents of <code>member</code> tags</h5>
<div class="paragraph">
<p>The text elements of a <code>member</code> tag, with all other tags removed, is a
legal C declaration of a struct or union member.
In addition it may contain several semantic tags:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>type</code> tag is optional.
It contains text which is a valid type name found in another <code>type</code>
tag, and indicates that this type must be previously defined for the
definition of the command to succeed.
Builtin C types should not be wrapped in <code>type</code> tags.</p>
</li>
<li>
<p>The <code>name</code> tag is required, and contains the struct/union member name
being described.</p>
</li>
<li>
<p>The <code>enum</code> tag is optional.
It contains text which is a valid enumerant name found in another
<code>type</code> tag, and indicates that this enumerant must be previously
defined for the definition of the command to succeed.
Typically this is used to semantically tag static array lengths.</p>
</li>
<li>
<p>The <code>comment</code> tag is optional.
It contains an arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_all_other_types"><a class="anchor" href="#_all_other_types"></a>10.2.3. All other types</h4>
<div class="paragraph">
<p>If the <code>category</code> attribute is one of <code>basetype</code>, <code>bitmask</code>, <code>define</code>,
<code>funcpointer</code>, <code>group</code>, <code>handle</code> or <code>include</code>, or is not specified, <code>type</code>
contains text which is legal C code for a type declaration.
It may also contain embedded tags:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>type</code> - nested type tags contain other type names which are required
by the definition of this type.</p>
</li>
<li>
<p><code>apientry</code>/ - insert a platform calling convention macro here during
header generation, used mostly for function pointer types.</p>
</li>
<li>
<p><code>name</code> - contains the name of this type (if not defined in the tag
attributes).</p>
</li>
<li>
<p><code>bitvalues</code> - contains the name of the enumeration defining flag
values for a <code>bitmask</code> type.
Ignored for other types.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There is no restriction on which sorts of definitions may be made in a given
category, although the contents of tags with <code>category</code> <code>enum</code>, <code>struct</code>
or <code>union</code> are interpreted specially as described above.</p>
</div>
<div class="paragraph">
<p>However, when generating the header, types within each category are grouped
together, and categories are generated in the order given by the following
list.
Therefore, types in a category should correspond to the intended purpose
given for that category.
If this recommendation is not followed, it is possible that the resulting
header file will not compile due to out-of-order type dependencies.
The intended purpose of each category is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>include</code> (<code>#include</code>) directives)</p>
</li>
<li>
<p><code>define</code> (macro <code>#define</code> directives)</p>
</li>
<li>
<p><code>basetype</code> (built-in C language types; scalar API typedefs, such as the
definition of <code>VkFlags</code>; and types defined by external APIs, such as an
underlying OS or window system</p>
</li>
<li>
<p><code>handle</code> (invocations of macros defining scalar types such as
<code>VkInstance</code>)</p>
</li>
<li>
<p><code>enum</code> (enumeration types and <code>#define</code> for constant values)</p>
</li>
<li>
<p><code>group</code> (currently unused)</p>
</li>
<li>
<p><code>bitmask</code> (enumeration types whose members are bitmasks)</p>
</li>
<li>
<p><code>funcpointer</code> (function pointer typedefs)</p>
</li>
<li>
<p><code>struct</code> and <code>union</code> together (struct and union types)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tag-types:example"><a class="anchor" href="#tag-types:example"></a>10.3. Example of a <code>types</code> tag</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;types&gt;</span>
    <span class="nt">&lt;type</span> <span class="na">name=</span><span class="s">"stddef"</span><span class="nt">&gt;</span>#include <span class="ni">&amp;lt;</span>stddef.h<span class="ni">&amp;gt;</span><span class="nt">&lt;/type&gt;</span>
    <span class="nt">&lt;type</span> <span class="na">requires=</span><span class="s">"stddef"</span><span class="nt">&gt;</span>typedef ptrdiff_t <span class="nt">&lt;name&gt;</span>VKlongint<span class="nt">&lt;/name&gt;</span>;<span class="nt">&lt;/type&gt;</span>
    <span class="nt">&lt;type</span> <span class="na">name=</span><span class="s">"VkEnum"</span> <span class="na">category=</span><span class="s">"enum"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;type</span> <span class="na">category=</span><span class="s">"struct"</span> <span class="na">name=</span><span class="s">"VkStruct"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;member&gt;&lt;type&gt;</span>VkEnum<span class="nt">&lt;/type&gt;</span> <span class="nt">&lt;name&gt;</span>srcEnum<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
        <span class="nt">&lt;member&gt;&lt;type&gt;</span>VkEnum<span class="nt">&lt;/type&gt;</span> <span class="nt">&lt;name&gt;</span>dstEnum<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
    <span class="nt">&lt;/type&gt;</span>
<span class="nt">&lt;/types&gt;</span>

<span class="nt">&lt;enums</span> <span class="na">name=</span><span class="s">"VkEnum"</span> <span class="na">type=</span><span class="s">"enum"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"0"</span> <span class="na">name=</span><span class="s">"VK_ENUM_ZERO"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"42"</span> <span class="na">name=</span><span class="s">"VK_ENUM_FORTY_TWO"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/enums&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>VkStruct</code> type is defined to require the types <code>VkEnum</code> and <code>VKlongint</code>
as well.
If <code>VkStruct</code> is in turn required by a command or another type during header
generation, it will result in the following declarations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="cp">#include</span> <span class="cpf">&lt;stddef.h&gt;</span><span class="cp">
</span><span class="k">typedef</span> <span class="kt">ptrdiff_t</span> <span class="n">VKlongint</span><span class="p">.</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
    <span class="n">VK_ENUM_ZERO</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_ENUM_FORTY_TWO</span> <span class="o">=</span> <span class="mi">42</span>
<span class="p">}</span> <span class="n">VkEnum</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">VkEnum</span>    <span class="n">dstEnum</span><span class="p">;</span>
    <span class="n">VkLongint</span> <span class="n">dstVal</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkStruct</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the angle brackets around <code>stddef.h</code> are represented as XML
entities in the registry.
This could also be done using a CDATA block but unless there are many
characters requiring special representation in XML, using entities is
preferred.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-enums"><a class="anchor" href="#tag-enums"></a>11. Enumerant Blocks (<code>enums</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>enums</code> tags contain individual <code>enum</code> tags describing each of the
token names used in the API.
In some cases these correspond to a C <code>enum</code>, and in some cases they are
simply compile time constants (e.g. <code>#define</code>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It would make more sense to call these <code>const</code> or <code>define</code> tags.
This is a historical hangover from the OpenGL XML format which this schema
was based on.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_attributes_of_enums_tags"><a class="anchor" href="#_attributes_of_enums_tags"></a>11.1. Attributes of <code>enums</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - optional.
String naming the C <code>enum</code> type whose members are defined by this enum
group.
If present, this attribute should match the <code>name</code> attribute of a
corresponding <code>type</code> tag.</p>
</li>
<li>
<p><code>type</code> - optional.
String describing the data type of the values of this group of enums.
At present the only accepted categories are <code>enum</code> and <code>bitmask</code>, as
described below.</p>
</li>
<li>
<p><code>start</code>, <code>end</code> - optional.
Integers defining the start and end of a reserved range of enumerants
for a particular vendor or purpose.
<code>start</code> must be less than or equal to <code>end</code>.
These fields define formal enumerant allocations, and are made by the
Khronos Registrar on request from implementors following the enum
allocation policy.</p>
</li>
<li>
<p><code>vendor</code> - optional.
String describing the vendor or purpose to whom a reserved range of
enumerants is allocated.</p>
</li>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
<li>
<p><code>bitwidth</code> - optional.
Bit width required for the generated enum value type.
If omitted, a default value of 32 is used.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_enums_tags"><a class="anchor" href="#_contents_of_enums_tags"></a>11.2. Contents of <code>enums</code> tags</h3>
<div class="paragraph">
<p>Each <code>enums</code> block contains zero or more <code>enum</code>, <code>unused</code>, and
<code>comment</code> tags, in arbitrary order (although they are typically ordered by
sorting on enumerant values, to improve human readability).</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_enums_tags"><a class="anchor" href="#_example_of_enums_tags"></a>11.3. Example of <code>enums</code> tags</h3>
<div class="paragraph">
<p><a href="#tag-types:example">An example</a> showing a tag with attribute
<code>type</code>`="enum"` is given above.
The following example is for non-enumerated tokens.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;enums&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"256"</span> <span class="na">name=</span><span class="s">"VK_MAX_EXTENSION_NAME"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"MAX_FLOAT"</span>  <span class="na">name=</span><span class="s">"VK_LOD_CLAMP_NONE"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/enums&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When processed into a C header, and assuming all these tokens were required,
this results in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="cp">#define VK_MAX_EXTENSION_NAME   256
#define VK_LOD_CLAMP_NONE       MAX_FLOAT</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-enum"><a class="anchor" href="#tag-enum"></a>12. Enumerants (<code>enum</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each <code>enum</code> tag defines a single Vulkan (or other API) token.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_enum_tags"><a class="anchor" href="#_attributes_of_enum_tags"></a>12.1. Attributes of <code>enum</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>value</code> is a numeric value in the form of a legal C expression when
evaluated at compile time in the generated header files.
This is usually either a literal integer value or the name of an alias
for a previously defined value, though more complex expressions are
sometimes employed for <a href="#compile-time-constants">compile time
constants</a>.</p>
</li>
<li>
<p><code>bitpos</code> is a literal integer bit position in a bitmask.
The bit position must be in the range [0,30] when used as a flag bit in
a <code>Vk*FlagBits</code> data type.
Bit positions 31 and up may be used for values that are not flag bits,
or for <a href="#adding-bitflags">flag bits used with 64-bit flag types</a>.
Exactly one of <code>value</code> and <code>bitpos</code> must be present in an <code>enum</code>
tag.</p>
</li>
<li>
<p><code>name</code> - required.
Enumerant name, a legal C preprocessor token name.</p>
</li>
<li>
<p><code>api</code> - optional comma-separated list of <a href="#schema:apiname">API
names</a> for which this definition is specialized, so that different APIs
may have different values for the same token.
This definition is only used if the requested API name matches the
attribute.
May be used to address subtle incompatibilities.</p>
</li>
<li>
<p><code>type</code> - may be used only when <code>value</code> is specified.
In this case, <code>type</code> is optional except when defining a
<a href="#compile-time-constants">compile time constant</a>, in which case it is
required when using some output generator paths.
If present the attribute must be a C scalar type corresponding to the
type of <code>value</code>, although only <code>uint32_t</code>, <code>uint64_t</code>, and <code>float</code>
are currently meaningful.
<code>type</code> is used by some output generators to generate constant
declarations, although the default behavior is to use C <code>#define</code> for
compile-time constants.</p>
</li>
<li>
<p><code>alias</code> - optional.
Name of another enumerant this is an alias of, used where token names
have been changed as a result of profile changes or for consistency
purposes.
An enumerant alias is simply a different <code>name</code> for the exact same
<code>value</code> or <code>bitpos</code>.</p>
</li>
<li>
<p><code>protect</code> - optional.
An additional preprocessor token used to protect an enum definition.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Using <code>alias</code> on a <code>enum</code> means you want the <code>name</code> defined by the
tag to be treated as an alias of the token name in the <code>alias</code> attribute
value.
For example, the following tag defines <code>VK_ALIAS</code> as an alias of <code>VK_VALUE</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;enum</span> <span class="na">name=</span><span class="s">"VK_ALIAS"</span> <span class="na">alias=</span><span class="s">"VK_VALUE"</span><span class="nt">&gt;</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In older versions of the schema, <code>type</code> was described as allowing only
the C integer suffix types <code>u</code> and <code>ull</code>, which is inconsistent with the
current definition.
However, <code>type</code> was not actually used in the registry processing scripts
or <code>vk.xml</code> at the time the current definition was introduced, so this is
expected to be a benign change.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_enum_tags"><a class="anchor" href="#_contents_of_enum_tags"></a>12.2. Contents of <code>enum</code> tags</h3>
<div class="paragraph">
<p><code>enum</code> tags have no allowed contents.
All information is contained in the attributes.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-unused"><a class="anchor" href="#tag-unused"></a>13. Unused Enumerants (<code>unused</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each <code>unused</code> tag defines a range of enumerants which is allocated, but
not yet assigned to specific enums.
This just tracks the unused values for the Registrar&#8217;s use, and is not used
for header generation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><code>unused</code> tags could be generated and inserted automatically, which would
be a good way to avoid the attributes becoming out of date.
However, they are rarely used in the Vulkan XML schema, unlike the OpenGL
XML schema it was based on.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_attributes_of_unused_tags"><a class="anchor" href="#_attributes_of_unused_tags"></a>13.1. Attributes of <code>unused</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>start</code> - required, <code>end</code> - optional.
Integers defining the start and end of an unused range of enumerants.
<code>start</code> must be  <code>end</code>.
If <code>end</code> is not present, then <code>start</code> defines a single unused
enumerant.
This range should not exceed the range reserved by the surrounding
<code>enums</code> tag.</p>
</li>
<li>
<p><code>vendor</code> - optional.
String describing the vendor or purposes to whom a reserved range of
enumerants is allocated.
Usually identical to the <code>vendor</code> attribute of the surrounding
<code>enums</code> block.</p>
</li>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_unused_tags"><a class="anchor" href="#_contents_of_unused_tags"></a>13.2. Contents of <code>unused</code> tags</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-commands"><a class="anchor" href="#tag-commands"></a>14. Command Blocks (<code>commands</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>commands</code> tag contains definitions of each of the functions
(commands) used in the API.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_commands_tags"><a class="anchor" href="#_attributes_of_commands_tags"></a>14.1. Attributes of <code>commands</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_commands_tags"><a class="anchor" href="#_contents_of_commands_tags"></a>14.2. Contents of <code>commands</code> tags</h3>
<div class="paragraph">
<p>Each <code>commands</code> block contains zero or more <code>command</code> tags, in arbitrary
order (although they are typically ordered by sorting on the command name,
to improve human readability).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-command"><a class="anchor" href="#tag-command"></a>15. Commands (<code>command</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>command</code> tag contains a structured definition of a single API command
(function).</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_command_tags"><a class="anchor" href="#_attributes_of_command_tags"></a>15.1. Attributes of <code>command</code> tags</h3>
<div class="paragraph">
<p>There are two ways to define a command.
The first uses a set of attributes to the <code>command</code> tag defining
properties of the command used for constructing automatic validation rules,
and the contents of the <code>command</code> tag define the name, signature, and
parameters of the command.
In this case the allowed attributes include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>queues</code> - optional.
A string identifying the command queues this command can be placed on.
The format of the string is one or more of the terms <code>"compute"</code>,
<code>"transfer"</code>, and <code>"graphics"</code>, with multiple terms separated by commas
(<code>","</code>).</p>
</li>
<li>
<p><code>successcodes</code> - optional.
A string describing possible successful return codes from the command,
as a comma-separated list of Vulkan result code names.</p>
</li>
<li>
<p><code>errorcodes</code> - optional.
A string describing possible error return codes from the command, as a
comma-separated list of Vulkan result code names.</p>
</li>
<li>
<p><code>renderpass</code> - optional.
A string identifying whether the command can be issued only inside a
render pass (<code>"inside"</code>), only outside a render pass (<code>"outside"</code>), or
both (<code>"both"</code>).</p>
</li>
<li>
<p><code>videocoding</code> - optional.
A string identifying whether the command can be issued only inside a
video coding scope (<code>"inside"</code>), only outside a video coding scope
(<code>"outside"</code>), or both (<code>"both"</code>); the default is <code>"outside"</code> for
commands that do not specify it.</p>
</li>
<li>
<p><code>cmdbufferlevel</code> - optional.
A string identifying the command buffer levels that this command can be
called by.
The format of the string is one or more of the terms <code>"primary"</code> and
<code>"secondary"</code>, with multiple terms separated by commas (<code>","</code>).</p>
</li>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The second way of defining a command is as an alias of another command.
For example when an extension is promoted from extension to core status, the
commands defined by that extensions become aliases of the corresponding new
core commands.
In this case, only two attributes are allowed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required.
A string naming the command defined by the tag.</p>
</li>
<li>
<p><code>alias</code> - required.
A string naming the command that <code>name</code> is an alias of.
The string must be the same as the <code>name</code> value of another
<code>command</code> defining another command.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Both forms of <code>command</code> support these options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>api</code> - optional <a href="#schema:apiname">API names</a> for which this
definition is specialized, so that different APIs may have different
values for the same token.
This definition is only used if the requested API name matches the
attribute.
May be used to address subtle incompatibilities.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_command_tags"><a class="anchor" href="#_contents_of_command_tags"></a>15.2. Contents of <code>command</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>proto</code> is required and must be the first element.
It is a tag defining the C function prototype of a command as described
below, up to the function name and return type but not including
function parameters.</p>
</li>
<li>
<p><code>param</code> elements for each command parameter follow, defining its name
and type, as described below.
If a command takes no arguments, it has no <code>param</code> tags.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Following these elements, the remaining elements in a <code>command</code> tag are
optional and may be in any order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>alias</code> - optional.
Has no attributes and contains a string which is the name of another
command this command is an alias of, used when promoting a function from
vendor to Khronos extension or Khronos extension to core API status.
A command alias describes the case where there are two function names
which implement the same behavior.</p>
</li>
<li>
<p><code>description</code> - optional.
Unused text.</p>
</li>
<li>
<p><code>implicitexternsyncparams</code> - optional.
Contains a list of <code>param</code> tags, each containing asciidoc source text
describing an object which is not a parameter of the command but is
related to one, and which also <a href="#tag-command:param:attr">requires
external synchronization</a>.
The text is intended to be incorporated into the API specification.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Versions of the registry documentation prior to 1.1.93 asserted that command
aliases &#8220;resolve to the <em>same</em> entry point in the underlying layer stack.&#8221;
Whilst this may be true on many implementations, it is not required - each
command alias must be queried separately through <code>vkGetInstanceProcAddr</code>
or <code>vkGetDeviceProcAddr</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="tag-command:proto"><a class="anchor" href="#tag-command:proto"></a>15.3. Command prototype (<code>proto</code> tags)</h3>
<div class="paragraph">
<p>The <code>proto</code> tag defines the return type and name of a command.</p>
</div>
<div class="sect3">
<h4 id="_attributes_of_proto_tags"><a class="anchor" href="#_attributes_of_proto_tags"></a>15.3.1. Attributes of <code>proto</code> tags</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_contents_of_proto_tags"><a class="anchor" href="#_contents_of_proto_tags"></a>15.3.2. Contents of <code>proto</code> tags</h4>
<div class="paragraph">
<p>The text elements of a <code>proto</code> tag, with all other tags removed, is legal
C code describing the return type and name of a command.
In addition to text, it may contain two semantic tags:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>type</code> tag is optional, and contains text which is a valid type
name found in a <code>type</code> tag.
It indicates that this type must be previously defined for the
definition of the command to succeed.
Builtin C types, and any derived types which are expected to be found in
other header files, should not be wrapped in <code>type</code> tags.</p>
</li>
<li>
<p>The <code>name</code> tag is required, and contains the command name being
described.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tag-command:param"><a class="anchor" href="#tag-command:param"></a>15.4. Command parameter (<code>param</code> tags)</h3>
<div class="paragraph">
<p>The <code>param</code> tag defines the type and name of a parameter.
Its contents are very similar to the <code>member</code> tag used to define struct
and union members.</p>
</div>
<div class="sect3">
<h4 id="tag-command:param:attr"><a class="anchor" href="#tag-command:param:attr"></a>15.4.1. Attributes of <code>param</code> tags</h4>
<div class="ulist">
<ul>
<li>
<p><code>api</code> - optional <a href="#schema:apiname">API names</a> for which this
definition is specialized, so that different APIs may have different
definitions for the same type.
This definition is only used if the requested API name matches the
attribute.
May be used to address subtle incompatibilities.</p>
</li>
<li>
<p><code>len</code> - if the param is an array, len may be one or more of the
following things, separated by commas (one for each array indirection):
another param of that command; <code>"null-terminated"</code> for a string; <code>"1"</code>
to indicate it is just a pointer (used for nested pointers); or an
equation in math markup for incorporation in the specification (a LaTeX
math expression delimited by <code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mord"></span></span></span></span></code>.
The only variables in the equation should be the names of this or other
parameters.</p>
</li>
<li>
<p><code>altlen</code> - if the <code>len</code> attribute is specified, and contains a
<code>latexmath:</code> equation, this attribute should be specified with an
equivalent equation using only C builtin operators, C math library
function names, and variables as allowed for <code>len</code>.
It must be a valid C99 expression whose result is equal to <code>len</code> for
all possible inputs.
It is a comma separated list that has size equal to only the <code>latexmath</code>
item count in <code>len</code> list.
This attribute is intended to support consumers of the XML who need to
generate validation code from the allowed length.</p>
</li>
<li>
<p><code>optional</code> - optional.
A value of <code>"true"</code> or <code>"false"</code> determines whether this parameter can
be omitted by providing <code>NULL</code> (for pointers), <code>VK_NULL_HANDLE</code> (for
handles), or 0 (for other scalar types).
If the parameter is a pointer to one of those types, multiple values may
be provided, separated by commas - one for each pointer indirection.
If not present, the value is assumed to be <code>"false"</code> (the parameter must
not be omitted).</p>
<div class="openblock">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>While the <code>optional</code> attribute can be used for scalar types such as
integers, it does not affect the output generators included with the Vulkan
Specification.
In this case, the attribute serves only as an indicator to human readers of
the XML.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p><code>selector</code> - optional.
If the parameter is a union, <code>selector</code> identifies another parameter
of the command that is used to select which of that union&#8217;s members are
valid.</p>
</li>
<li>
<p><code>noautovalidity</code> - prevents automatic validity language being
generated for the tagged item.
Only suppresses item-specific validity - parenting issues etc.
are still captured.</p>
</li>
<li>
<p><code>externsync</code> - optional.
A value of <code>"true"</code> indicates that this parameter (e.g. the object a
handle refers to, or the contents of an array a pointer refers to) is
modified by the command, and is not protected against modification in
multiple app threads.
If only certain members of an object or elements of an array are
modified, multiple strings may be provided, separated by commas.
Each string describes a member which is modified.
For example, the <code>vkQueueSubmit</code> command includes <code>externsync</code>
attributes for the <code>pSubmits</code> array indicating that only specific
members of each element of the array are modified:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;param</span> <span class="na">len=</span><span class="s">"submitCount"</span> <span class="na">externsync=</span><span class="s">"pSubmits[].pWaitSemaphores[],pSubmits[].pSignalSemaphores[]"</span><span class="nt">&gt;</span>const <span class="nt">&lt;type&gt;</span>VkSubmitInfo<span class="nt">&lt;/type&gt;</span>* <span class="nt">&lt;name&gt;</span>pSubmits<span class="nt">&lt;/name&gt;&lt;/param&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Parameters which do not have an <code>externsync</code> attribute are assumed to not
require external synchronization.</p>
</div>
</div>
</div>
</li>
<li>
<p><code>objecttype</code> - only applicable for parameters which are <code>uint64_t</code>
values representing a Vulkan object handle.
Specifies the name of another parameter which must be a <code>VkObjectType</code>
or <code>VkDebugReportObjectTypeEXT</code> value specifying the type of object the
handle refers to.</p>
</li>
<li>
<p><code>validstructs</code> - optional.
Allowed only when the parameter type is a pointer to an abstract
<code>VkBaseInStructure</code> or <code>VkBaseOutStructure</code> type.
This is a comma-separated list of structures which can either be
passed as the parameter, or can appear anywhere in the <code>pNext</code> chain of
the parameter.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_contents_of_param_tags"><a class="anchor" href="#_contents_of_param_tags"></a>15.4.2. Contents of <code>param</code> tags</h4>
<div class="paragraph">
<p>The text elements of a <code>param</code> tag, with all other tags removed, is legal
C code describing the type and name of a function parameter.
In addition it may contain two semantic tags:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>type</code> tag is optional, and contains text which is a valid type
name found in <code>type</code> tag, and indicates that this type must be
previously defined for the definition of the command to succeed.
Builtin C types, and any derived types which are expected to be found in
other header files, should not be wrapped in <code>type</code> tags.</p>
</li>
<li>
<p>The <code>name</code> tag is required, and contains the parameter name being
described.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_a_commands_tag"><a class="anchor" href="#_example_of_a_commands_tag"></a>15.5. Example of a <code>commands</code> tag</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;commands&gt;</span>
    <span class="nt">&lt;command&gt;</span>
        <span class="nt">&lt;proto&gt;&lt;type&gt;</span>VkResult<span class="nt">&lt;/type&gt;</span> <span class="nt">&lt;name&gt;</span>vkCreateInstance<span class="nt">&lt;/name&gt;&lt;/proto&gt;</span>
        <span class="nt">&lt;param&gt;</span>const <span class="nt">&lt;type&gt;</span>VkInstanceCreateInfo<span class="nt">&lt;/type&gt;</span>* <span class="nt">&lt;name&gt;</span>pCreateInfo<span class="nt">&lt;/name&gt;&lt;/param&gt;</span>
        <span class="nt">&lt;param&gt;&lt;type&gt;</span>VkInstance<span class="nt">&lt;/type&gt;</span>* <span class="nt">&lt;name&gt;</span>pInstance<span class="nt">&lt;/name&gt;&lt;/param&gt;</span>
    <span class="nt">&lt;/command&gt;</span>
<span class="nt">&lt;/commands&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When processed into a C header, this results in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">VkResult</span> <span class="nf">vkCreateInstance</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">VkInstanceCreateInfo</span><span class="o">*</span> <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="n">VkInstance</span><span class="o">*</span> <span class="n">pInstance</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-feature"><a class="anchor" href="#tag-feature"></a>16. API Features and Versions (<code>feature</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>API features are described in individual <code>feature</code> tags.
A feature is the set of interfaces (enumerants and commands) defined by a
particular API and version, such as Vulkan 1.0, and includes all profiles of
that API and version.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_feature_tags"><a class="anchor" href="#_attributes_of_feature_tags"></a>16.1. Attributes of <code>feature</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>api</code> - required comma-separated list of <a href="#schema:apiname">API
names</a> for which this feature is defined, such as <code>vulkan</code>.</p>
</li>
<li>
<p><code>name</code> - required.
Version name, used as the C preprocessor token under which the version&#8217;s
interfaces are protected against multiple inclusion.
Example: <code>"VK_VERSION_1_0"</code>.</p>
</li>
<li>
<p><code>number</code> - required.
Feature version number, usually a string interpreted as
<code>majorNumber.minorNumber</code>.
Example: <code>4.2</code>.</p>
</li>
<li>
<p><code>sortorder</code> - optional.
A decimal number which specifies an order relative to other <code>feature</code>
tags when calling output generators.
Defaults to <code>0</code>.
Rarely used, for when ordering by <code>name</code> is insufficient.</p>
</li>
<li>
<p><code>protect</code> - optional.
An additional preprocessor token used to protect a feature definition.
Usually another feature or extension <code>name</code>.
Rarely used, for odd circumstances where the definition of a feature or
extension requires another to be defined first.</p>
</li>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code>name</code> attribute used for Vulkan core versions, such as
<code>"VK_VERSION_1_0"</code>, is not an API construct.
It is used only as a preprocessor guard in the headers, and an asciidoctor
conditional in the specification sources.
The similar <code>"VK_API_VERSION_1_0"</code> symbols are part of the API and their
values are packed integers containing Vulkan core version numbers.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_feature_tags"><a class="anchor" href="#_contents_of_feature_tags"></a>16.2. Contents of <code>feature</code> tags</h3>
<div class="paragraph">
<p>Zero or more <a href="#tag-required"><code>require</code> and <code>remove</code> tags</a>, in arbitrary
order.
Each tag describes a set of interfaces that is respectively required for, or
removed from, this feature, as described below.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_a_feature_tag"><a class="anchor" href="#_example_of_a_feature_tag"></a>16.3. Example of a <code>feature</code> tag</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;feature</span> <span class="na">api=</span><span class="s">"vulkan"</span> <span class="na">name=</span><span class="s">"VK_VERSION_1_0"</span> <span class="na">number=</span><span class="s">"1.0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;require</span> <span class="na">comment=</span><span class="s">"Header boilerplate"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;type</span> <span class="na">name=</span><span class="s">"vk_platform"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/require&gt;</span>
    <span class="nt">&lt;require</span> <span class="na">comment=</span><span class="s">"API constants"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;enum</span> <span class="na">name=</span><span class="s">"VK_MAX_PHYSICAL_DEVICE_NAME"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;enum</span> <span class="na">name=</span><span class="s">"VK_LOD_CLAMP_NONE"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/require&gt;</span>
    <span class="nt">&lt;require</span> <span class="na">comment=</span><span class="s">"Device initialization"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;command</span> <span class="na">name=</span><span class="s">"vkCreateInstance"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/require&gt;</span>
<span class="nt">&lt;/feature&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When processed into a C header for Vulkan, this results in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="cp">#ifndef VK_VERSION_1_0
#define VK_VERSION_1_0 1
#define VK_MAX_EXTENSION_NAME   256
#define VK_LOD_CLAMP_NONE       MAX_FLOAT
</span><span class="k">typedef</span> <span class="nf">VkResult</span> <span class="p">(</span><span class="n">VKAPI_PTR</span> <span class="o">*</span><span class="n">PFN_vkCreateInstance</span><span class="p">)(</span><span class="k">const</span> <span class="n">VkInstanceCreateInfo</span><span class="o">*</span> <span class="n">pCreateInfo</span><span class="p">,</span> <span class="n">VkInstance</span><span class="o">*</span> <span class="n">pInstance</span><span class="p">);</span>
<span class="cp">#ifndef VK_NO_PROTOTYPES
</span><span class="n">VKAPI_ATTR</span> <span class="n">VkResult</span> <span class="n">VKAPI_CALL</span> <span class="nf">vkCreateInstance</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">VkInstanceCreateInfo</span><span class="o">*</span>                 <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="n">VkInstance</span><span class="o">*</span>                                 <span class="n">pInstance</span><span class="p">);</span>
<span class="cp">#endif
#endif </span><span class="cm">/* VK_VERSION_1_0 */</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-extensions"><a class="anchor" href="#tag-extensions"></a>17. Extension Blocks (<code>extensions</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>extensions</code> tag contains definitions of each of the extensions which
are defined for the API.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_extensions_tags"><a class="anchor" href="#_attributes_of_extensions_tags"></a>17.1. Attributes of <code>extensions</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_extensions_tags"><a class="anchor" href="#_contents_of_extensions_tags"></a>17.2. Contents of <code>extensions</code> tags</h3>
<div class="paragraph">
<p>Each <code>extensions</code> block contains zero or more <code>extension</code> tags, each
describing an API extension, in arbitrary order (although they are typically
ordered by sorting on the extension name, to improve human readability).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-extension"><a class="anchor" href="#tag-extension"></a>18. API Extensions (<code>extension</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>API extensions are described in individual <code>extension</code> tags.
An extension is the set of interfaces defined by a particular API extension
specification, such as <code>ARB_multitexture</code>.
<code>extension</code> is similar to <code>feature</code>, but instead of having an
<code>number</code> attribute, it instead has a <code>supported</code> attribute, which
describes the set of API names which the extension can potentially be
implemented against.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_extension_tags"><a class="anchor" href="#_attributes_of_extension_tags"></a>18.1. Attributes of <code>extension</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required.
Extension name, following the conventions in the Vulkan Specification.
Example: <code>name="VK_VERSION_1_0"</code>.</p>
</li>
<li>
<p><code>number</code> - required.
A decimal number which is the registered, unique extension number for
<code>name</code>.</p>
</li>
<li>
<p><code>sortorder</code> - optional.
A decimal number which specifies an order relative to other
<code>extension</code> tags when calling output generators.
Defaults to <code>0</code>.
Rarely used, for when ordering by <code>number</code> is insufficient.</p>
</li>
<li>
<p><code>author</code> - optional.
The author name, such as a full company name.
If not present, this can be taken from the corresponding <code>tag</code>
attribute.
However, <code>EXT</code> and other multi-vendor extensions may not have a
well-defined author or contact in the tag.
This attribute is not used in processing the XML.
It is just metadata, mostly used to track the original author of an
extension (which may have since been promoted to use a different author
ID).</p>
</li>
<li>
<p><code>contact</code> - optional.
The contact who registered or is currently responsible for extensions
and layers using the tag, including sufficient contact information to
reach the contact such as individual name together with Github username
(<code>@username</code>), Khronos internal Gitlab username (<code>gitlab:@username</code>) if
no public Github contact is available, or other contact information.
If not present, this can be taken from the corresponding <code>tag</code>
attribute just like <code>author</code>.</p>
</li>
<li>
<p><code>type</code> - required if the <code>supported</code> attribute is not
<code>'disabled'</code>.
Must be either <code>'device'</code> or <code>'instance'</code>, if present.</p>
</li>
<li>
<p><code>requires</code> - optional.
Comma-separated list of extension names this extension requires to be
enabled to use any device-level functionality it provides.
Extensions whose <code>type</code> is <code>'instance'</code> must not require extensions
whose <code>type</code> is <code>'device'</code>.</p>
</li>
<li>
<p><code>requiresCore</code> - optional.
Core version of Vulkan required by the extension, e.g. "1.1".
Defaults to "1.0".</p>
</li>
<li>
<p><code>protect</code> - optional.
An additional preprocessor token used to protect an extension
definition.
Usually another feature or extension <code>name</code>.
Rarely used, for odd circumstances where the definition of an extension
requires another extension or a header file to be defined first.</p>
</li>
<li>
<p><code>platform</code> - optional.
Indicates that the extension is specific to the platform identified by
the attribute value, and should be emitted conditional on that platform
being available, in a platform-specific header, etc.
The attribute value must be the same as one of the <code>platform</code> <code>name</code>
attribute values.</p>
</li>
<li>
<p><code>supported</code> - comma-separated list of required <a href="#schema:apiname">API
names</a> for which this extension is defined.
When the extension tag is just reserving an extension number, use
<code>supported="disabled"</code> to indicate this extension should never be
processed.
Interfaces defined in a <code>disabled</code> extension block are tentative at best
and <strong class="purple">must</strong> not be generated or otherwise used by scripts processing the
XML.
The only exception to this rule is for scripts used solely for
reserving, or checking for reserved bitflag values.</p>
</li>
<li>
<p><code>promotedto</code> - optional.
A Vulkan version or a name of an extension that this extension was
<em>promoted</em> to.
E.g. <code>"VK_VERSION_1_1"</code>, or <code>"VK_KHR_draw_indirect_count"</code>.</p>
</li>
<li>
<p><code>deprecatedby</code> - optional.
A Vulkan version or a name of an extension that <em>deprecates</em> this
extension.
It may be an empty string.
E.g. <code>"VK_VERSION_1_1"</code>, or <code>"VK_EXT_debug_utils"</code>, or <code>""</code>.</p>
</li>
<li>
<p><code>obsoletedby</code> - optional.
A Vulkan version or a name of an extension that <em>obsoletes</em> this
extension.
It may be an empty string.
E.g. <code>"VK_VERSION_1_1"</code>, or <code>"VK_KHR_maintenance1"</code>, or <code>""</code>.</p>
</li>
<li>
<p><code>provisional</code> - optional.
'true' if this extension is released provisionally.</p>
</li>
<li>
<p><code>specialuse</code> - optional.
If present, must contain one or more tokens separated by commas,
indicating a special purpose of the extension.
Tokens may include:</p>
<div class="ulist">
<ul>
<li>
<p>'cadsupport' - for support of CAD software.</p>
</li>
<li>
<p>'d3demulation' - for support of Direct3D emulation layers or libraries,
or applications porting from Direct3D.</p>
</li>
<li>
<p>'debugging' - for debugging an application.</p>
</li>
<li>
<p>'devtools' - for support of developer tools, such as capture-replay
libraries.</p>
</li>
<li>
<p>'glemulation' - for support of OpenGL and/or OpenGL ES emulation layers
or libraries, or applications porting from those APIs.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code>requires</code> attribute is used to specify other extensions that <strong>must</strong>
be enabled for an extension to be enabled.</p>
</div>
<div class="paragraph">
<p>In some cases, an extension may include functionality which is only defined
<strong>if</strong> another extension is enabled.
Such functionality should be specified within a <code>require</code>, using the
<code>extension</code> attribute to specify that extension.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_extension_tags"><a class="anchor" href="#_contents_of_extension_tags"></a>18.2. Contents of <code>extension</code> tags</h3>
<div class="paragraph">
<p>Zero or more <a href="#tag-required"><code>require</code> and <code>remove</code> tags</a>, in arbitrary
order.
Each tag describes a set of interfaces that is respectively required for, or
removed from, this extension, as described below.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_an_extensions_tag"><a class="anchor" href="#_example_of_an_extensions_tag"></a>18.3. Example of an <code>extensions</code> tag</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;extension</span> <span class="na">name=</span><span class="s">"VK_KHR_display_swapchain"</span> <span class="na">number=</span><span class="s">"4"</span> <span class="na">supported=</span><span class="s">"vulkan"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;require&gt;</span>
        <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"9"</span> <span class="na">name=</span><span class="s">"VK_KHR_DISPLAY_SWAPCHAIN_SPEC_VERSION"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"4"</span> <span class="na">name=</span><span class="s">"VK_KHR_DISPLAY_SWAPCHAIN_EXTENSION_NUMBER"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"&amp;quot;VK_KHR_display_swapchain&amp;quot;"</span>
              <span class="na">name=</span><span class="s">"VK_KHR_DISPLAY_SWAPCHAIN_EXTENSION_NAME"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;type</span> <span class="na">name=</span><span class="s">"VkDisplayPresentInfoKHR"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;command</span> <span class="na">name=</span><span class="s">"vkCreateSharedSwapchainsKHR"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/require&gt;</span>
<span class="nt">&lt;/extension&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>supported</code> attribute says that the extension is defined for the
default profile (<code>vulkan</code>).
When processed into a C header for the <code>vulkan</code> profile, this results in
header contents something like (assuming corresponding definitions of the
specified <code>type</code> and <code>command</code> elsewhere in the XML):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="cp">#define VK_KHR_display_swapchain 1
#define VK_KHR_DISPLAY_SWAPCHAIN_SPEC_VERSION 9
#define VK_KHR_DISPLAY_SWAPCHAIN_EXTENSION_NUMBER 4
#define VK_KHR_DISPLAY_SWAPCHAIN_EXTENSION_NAME "VK_KHR_display_swapchain"
</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">VkDisplayPresentInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                             <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                 <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkRect2D</span>                                    <span class="n">srcRect</span><span class="p">;</span>
    <span class="n">VkRect2D</span>                                    <span class="n">dstRect</span><span class="p">;</span>
    <span class="n">VkBool32</span>                                    <span class="n">persistent</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDisplayPresentInfoKHR</span><span class="p">;</span>

<span class="k">typedef</span> <span class="nf">VkResult</span> <span class="p">(</span><span class="n">VKAPI_PTR</span> <span class="o">*</span><span class="n">PFN_vkCreateSharedSwapchainsKHR</span><span class="p">)(</span>
    <span class="n">VkDevice</span> <span class="n">device</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">swapchainCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkSwapchainCreateInfoKHR</span><span class="o">*</span> <span class="n">pCreateInfos</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span> <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span><span class="o">*</span> <span class="n">pSwapchains</span><span class="p">);</span>

<span class="cp">#ifndef VK_NO_PROTOTYPES
</span><span class="n">VKAPI_ATTR</span> <span class="n">VkResult</span> <span class="n">VKAPI_CALL</span> <span class="nf">vkCreateSharedSwapchainsKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">swapchainCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkSwapchainCreateInfoKHR</span><span class="o">*</span>             <span class="n">pCreateInfos</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkSwapchainKHR</span><span class="o">*</span>                             <span class="n">pSwapchains</span><span class="p">);</span>
<span class="cp">#endif</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-required"><a class="anchor" href="#tag-required"></a>19. Required and Removed Interfaces (<code>require</code> and <code>remove</code> tags)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>require</code> block defines a set of interfaces (types, enumerants and
commands) 'required' by a <code>feature</code> or <code>extension</code>.
A <code>remove</code> block defines a set of interfaces 'removed' by a <code>feature</code>.
This is primarily for future profiles of an API which may choose to
deprecate and/or remove some interfaces.
Extensions should never remove interfaces, although this usage is allowed by
the schema).
Except for the tag name and behavior, the contents of <code>require</code> and
<code>remove</code> tags are identical.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_require_and_remove_tags"><a class="anchor" href="#_attributes_of_require_and_remove_tags"></a>19.1. Attributes of <code>require</code> and <code>remove</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>profile</code> - optional.
String name of an API profile.
Interfaces in the tag are only required (or removed) if the specified
profile is being generated.
If not specified, interfaces are required (or removed) for all API
profiles.</p>
</li>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
<li>
<p><code>api</code> - optional comma-separated list of <a href="#schema:apiname">API
names</a> requiring or removing these interfaces.
Interfaces in the tag are only required (or removed) if the requested
API name matches an element of the attribute.
If not specified, interfaces are required (or removed) for all APIs.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code>api</code> attribute is only supported inside <code>extension</code> tags, since
<code>feature</code> tags already define a specific API.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_attributes_of_require_tags"><a class="anchor" href="#_attributes_of_require_tags"></a>19.2. Attributes of <code>require</code> tags</h3>
<div class="paragraph">
<p>These attributes are allowed only for a <code>require</code> tag.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>extension</code> - optional, and only for <code>require</code> tags.
String containing an API extension name.
Interfaces in the tag are only required if the string matches the
<code>name</code> of an <code>extension</code> tag, and that extension is enabled.</p>
</li>
<li>
<p><code>feature</code> - optional, and only for <code>require</code> tags.
String containing an API feature name.
Interfaces in the tag are only required if the string matches the
<code>name</code> of a <code>feature</code> tag, and that feature is enabled.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code>extension</code> attribute currently does not affect output generators in
any way, and is simply metadata.
This will be addressed as we better define different types of dependencies
between extensions.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_require_and_remove_tags"><a class="anchor" href="#_contents_of_require_and_remove_tags"></a>19.3. Contents of <code>require</code> and <code>remove</code> tags</h3>
<div class="paragraph">
<p>Zero or more of the following tags, in any order:</p>
</div>
<div class="sect3">
<h4 id="_comment_tags"><a class="anchor" href="#_comment_tags"></a>19.3.1. Comment Tags</h4>
<div class="paragraph">
<p><a href="#tag-comment"><code>comment</code></a> (as described above).</p>
</div>
</div>
<div class="sect3">
<h4 id="_command_tags"><a class="anchor" href="#_command_tags"></a>19.3.2. Command Tags</h4>
<div class="paragraph">
<p><code>command</code> specifies an required (or removed) command defined in a
<code>commands</code> block.
The tag has no content, but contains attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required.
Name of the command.</p>
</li>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_enum_tags"><a class="anchor" href="#_enum_tags"></a>19.3.3. Enum tags</h4>
<div class="paragraph">
<p><code>enum</code> specifies an required (or removed) enumerant defined in a <code>enums</code>
block.
All forms of this tag support the following attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required.
Name of the enumerant.</p>
</li>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
<li>
<p><code>api</code> - optional comma-separated list of <a href="#schema:apiname">API
names</a> for which this definition is specialized, so that different APIs
may have different values for the same token.
This definition is only used if the requested API name matches the
attribute.
May be used to address subtle incompatibilities.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are two forms of <code>enum</code> tags:</p>
</div>
<div class="paragraph">
<p><em>Reference enums</em> simply pull in the definition of an enumerant given in a
separate <code>enums</code> block.
No attributes other than <code>name</code> and <code>comment</code> are supported for them.
<code>enum</code> tags appearing inside <code>remove</code> tags should always be reference
enums.
Reference enums may also be used inside <code>require</code> tags, if the
corresponding value is defined in a <code>enums</code> block.
This is typically used for constants not part of an enumerated type.</p>
</div>
<div class="paragraph">
<p><em>Extension enums</em> define the value of an enumerant inline in an <code>feature</code>
or <code>extensions</code> block.
Typically these are used to add additional values specified by an extension
or core feature to an existing enumerated type.
There are a variety of attributes which are used to specify the value of the
enumerant:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>value</code> and <code>type</code> - define a constant value in the same fashion
as an <code>enum</code> tag in an <a href="#tag-enum"><code>enums</code></a> block.</p>
</li>
<li>
<p><code>bitpos</code> - define a constant bitmask value in the same fashion as an
<a href="#tag-enum"><code>enum</code></a> tag in an <code>enums</code> block.
<code>bitpos</code> is a literal integer bit position in a bitmask.
The same value and usage constraints apply to this bit position as are
applied to the &lt;&lt;tag-enum, <code>bitpos</code> attribute of an <code>enum</code> tag.</p>
</li>
<li>
<p><code>extends</code> - the name of a separately defined enumerated type (e.g. a
<code>type</code> tag with <code>category</code><code>="enum"</code>) to which the extension
enumerant is added.
The enumerated type is required to complete the definition of the
enumerant, in the same fashion as the <code>requires</code> attribute of a
<code>type</code> tag.
If not present, the enumerant is treated as a global constant value.</p>
</li>
<li>
<p><code>extnumber</code> - an extension number.
The extension number in turn specifies the starting value of a block
(range) of values reserved for enumerants defined by or associated with
the corresponding <code>extension</code> tag with the same <code>number</code>.
This is used when an extension or core feature needs to extend an
enumerated type in a block defined by a different extension.</p>
</li>
<li>
<p>Attribute <code>offset</code> - the offset within an extension block.
If <code>extnumber</code> is not present, the extension number defining that
block is given by the <code>number</code> attribute of the surrounding
<code>extension</code> tag.
The actual numeric value of the enumerant is computed as defined in the
&#8220;Layers and Extensions&#8221; appendix of the Vulkan Specification.</p>
</li>
<li>
<p>Attribute <code>dir</code> - if present, the calculated enumerant value will be
negative, instead of positive.
Negative enumerant values are normally used only for Vulkan error codes.
The attribute value must be specified as <code>dir="-"</code>.</p>
</li>
<li>
<p><code>alias</code> - the name of another enumerant this is an alias of.
An enumerant alias is simply a different name for the same enumerant
value.
This is typically used when promoting an enumerant defined by an
extension to a new core version of the API.
The old extension enumerant is still defined, but as an alias of the new
core enumerant.
It may also be used when token names have been changed as a result of
profile changes, or for consistency purposes.</p>
</li>
<li>
<p><code>protect</code> - define a preprocessor protection symbol for the enum in
the same fashion as a <code>enum</code> tag in an <a href="#tag-enum"><code>enums</code></a> block.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Not all combinations of attributes are either meaningful or supported.
The <code>protect</code> attribute may always be present.
For other attributes, the allowed combinations are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Valid Combinations of <code>enum</code> Attributes for Extension Enums</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bitpos</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alias</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>offset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extnumber</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extends</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{yes}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{opt}<sup>2</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{yes}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{opt}<sup>2</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bitmask value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{yes}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{opt}<sup>2</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alias of another enumerant</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{yes}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{opt}<sup>1</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{opt}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{yes}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value added to an enumeration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{no}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{yes}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{opt}<sup>1</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{opt}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{yes}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value added to an enumeration</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[1]: If <code>extnumber</code> is not present, the <code>enum</code> tag may only be within a
<code>extension</code>.
Otherwise, the <code>enum</code> tag may also be within a <code>feature</code>.</p>
</div>
<div class="paragraph">
<p>[2]: If <code>extends</code> is not present, the enumerant value is a global
constant.
Otherwise, the value is added to the specified enumeration.</p>
</div>
<div class="paragraph">
<p>Examples of <a href="#tag-required-examples">various types of extension enumerants</a>
are given below.</p>
</div>
</div>
<div class="sect3">
<h4 id="_type_tags"><a class="anchor" href="#_type_tags"></a>19.3.4. Type tags</h4>
<div class="paragraph">
<p><code>type</code> specifies a required (or removed) type defined in a <code>types</code>
block.
Most types are picked up implicitly by using the <code>type</code> tags of commands,
but in a few cases, additional types need to be specified explicitly.
It is unlikely that a type would ever be removed, although this usage is
allowed by the schema.
The tag has no content, but contains elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required.
Name of the type.</p>
</li>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tag-required-examples"><a class="anchor" href="#tag-required-examples"></a>19.4. Examples of Extension Enumerants</h3>
<div class="paragraph">
<p>Examples of some of the supported extension enumerant <code>enum</code> tags are
given below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;extensions&gt;</span>
    <span class="nt">&lt;extension</span> <span class="na">name=</span><span class="s">"VK_KHR_test_extension"</span> <span class="na">number=</span><span class="s">"1"</span> <span class="na">supported=</span><span class="s">"vulkan"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;require&gt;</span>
            <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"42"</span> <span class="na">name=</span><span class="s">"VK_KHR_TEST_ANSWER"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;enum</span> <span class="na">bitpos=</span><span class="s">"29"</span> <span class="na">name=</span><span class="s">"VK_KHR_TEST_BITMASK"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;enum</span> <span class="na">offset=</span><span class="s">"0"</span> <span class="na">dir=</span><span class="s">"-"</span> <span class="na">extends=</span><span class="s">"VkResult"</span>
                  <span class="na">name=</span><span class="s">"VK_ERROR_SURFACE_LOST_KHR"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;enum</span> <span class="na">offset=</span><span class="s">"1"</span> <span class="na">extends=</span><span class="s">"VkResult"</span>
                  <span class="na">name=</span><span class="s">"VK_SUBOPTIMAL_KHR"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;enum</span> <span class="na">bitpos=</span><span class="s">"30"</span> <span class="na">extends=</span><span class="s">"VkCullModeFlagBits"</span>
                  <span class="na">name=</span><span class="s">"VK_KHR_TEST_CULL_MODE_BIT"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/require&gt;</span>
    <span class="nt">&lt;/extension&gt;</span>
<span class="nt">&lt;/extensions&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The corresponding header file will include definitions like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkResult</span> <span class="p">{</span>
    <span class="o">&lt;</span><span class="n">previously</span> <span class="n">defined</span> <span class="n">VkResult</span> <span class="n">enumerant</span> <span class="n">values</span><span class="p">},</span>
    <span class="n">VK_ERROR_SURFACE_LOST_KHR</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1000000000</span><span class="p">,</span>
    <span class="n">VK_SUBOPTIMAL_KHR</span> <span class="o">=</span> <span class="mi">1000000001</span><span class="p">,</span>
    <span class="n">VK_KHR_EXTENSION_BIT</span> <span class="o">=</span> <span class="mh">0x80000000</span><span class="p">,</span>
<span class="err">}</span><span class="p">;</span>

<span class="cp">#define VK_KHR_test_extension 1
#define VK_KHR_theanswer 42
#define VK_KHR_bitmask 0x20000000</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-formats"><a class="anchor" href="#tag-formats"></a>20. Formats (<code>formats</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>formats</code> tag contains definitions of each of the image formats which
are defined for the API.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_formats_tags"><a class="anchor" href="#_attributes_of_formats_tags"></a>20.1. Attributes of <code>formats</code> tags</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_formats_tags"><a class="anchor" href="#_contents_of_formats_tags"></a>20.2. Contents of <code>formats</code> tags</h3>
<div class="paragraph">
<p>A <code>formats</code> block contains zero or more <code>format</code> tags, each describing
an image format, in arbitrary order.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-format"><a class="anchor" href="#tag-format"></a>21. Image Format (<code>format</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Image formats are described in individual <code>format</code> tags.
An image format corresponds to a Vulkan <code>VkFormat</code> enumerant.
This tag contains information specifying the structure and meaning of
different parts of the format.
The meaning of different parts of the format information is described in
more detail in the &#8220;Format Definition&#8221; section of the Vulkan API
Specification.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_format_tags"><a class="anchor" href="#_attributes_of_format_tags"></a>21.1. Attributes of <code>format</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required.
Format name, matching a <code>VkFormat</code> <code>enum</code> <code>name</code>.
Example: <code>name="VK_FORMAT_R8_UNORM"</code>.</p>
</li>
<li>
<p><code>class</code> - required.
Format class.
A string whose value is shared by a group of formats which may be
compatible, and is a textual description of something important that
group has in common.
Example: <code>class="8-bit"</code>.</p>
</li>
<li>
<p><code>blockSize</code> - required.
A decimal integer which is the texel block size, in bytes, of the
format.</p>
</li>
<li>
<p><code>texelsPerBlock</code> - required
A decimal integer which is the number of texels in a texel block of the
format.</p>
</li>
<li>
<p><code>blockExtent</code> - optional.
Three-dimensional extent of a texel block.
A comma-separated list of three decimal integers.
If not present, <code>blockExtent="1,1,1"</code> is assumed.</p>
</li>
<li>
<p><code>packed</code> - optional.
A decimal integer which is the number of bits into which the format is
packed.
If defined, a single image element in this format can be stored in the
same space as a scalar type of this bit width.</p>
</li>
<li>
<p><code>compressed</code> - optional.
A string whose value is shared by a group of formats which use the same
general texture compression scheme, and is a textual description of that
scheme.
Example: <code>compressed="ASTC LDR"</code>.</p>
</li>
<li>
<p><code>chroma</code> - optional.
A string used to mark if YC<sub>B</sub>C<sub>R</sub> samplers are required by default when
using this format.
Must be one of the three values <code>"420"</code>, <code>"422"</code>, or <code>"444"</code>
corresponding to different YC<sub>B</sub>C<sub>R</sub> encodings.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_format_tags"><a class="anchor" href="#_contents_of_format_tags"></a>21.2. Contents of <code>format</code> tags</h3>
<div class="paragraph">
<p>One or more <a href="#tag-component"><code>component</code></a> tags.
The order of <code>component</code> tags corresponds to the memory order of
components of the format.
Each tag describes the size and format of that component.</p>
</div>
<div class="paragraph">
<p>Zero or more <a href="#tag-plane"><code>plane</code></a> tags, in arbitrary order.
Each tag describes the scale of a specific image plane of the format
relative to the overall format.</p>
</div>
<div class="paragraph">
<p>Zero or more <a href="#tag-spirvimageformat"><code>spirvimageformat</code></a> tags, in
arbitrary order.
Each tag describes a SPIR-V format name corresponding to the <code>format</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_a_format_tag"><a class="anchor" href="#_example_of_a_format_tag"></a>21.3. Example of a <code>format</code> tag</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;format</span> <span class="na">name=</span><span class="s">"VK_FORMAT_G16_B16R16_2PLANE_420_UNORM"</span> <span class="na">class=</span><span class="s">"16-bit 2-plane 420"</span> <span class="na">blockSize=</span><span class="s">"6"</span> <span class="na">texelsPerBlock=</span><span class="s">"1"</span> <span class="na">chroma=</span><span class="s">"420"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;component</span> <span class="na">name=</span><span class="s">"G"</span> <span class="na">bits=</span><span class="s">"16"</span> <span class="na">numericFormat=</span><span class="s">"UNORM"</span> <span class="na">planeIndex=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;component</span> <span class="na">name=</span><span class="s">"B"</span> <span class="na">bits=</span><span class="s">"16"</span> <span class="na">numericFormat=</span><span class="s">"UNORM"</span> <span class="na">planeIndex=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;component</span> <span class="na">name=</span><span class="s">"R"</span> <span class="na">bits=</span><span class="s">"16"</span> <span class="na">numericFormat=</span><span class="s">"UNORM"</span> <span class="na">planeIndex=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;plane</span> <span class="na">index=</span><span class="s">"0"</span> <span class="na">widthDivisor=</span><span class="s">"1"</span> <span class="na">heightDivisor=</span><span class="s">"1"</span> <span class="na">compatible=</span><span class="s">"VK_FORMAT_R16_UNORM"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;plane</span> <span class="na">index=</span><span class="s">"1"</span> <span class="na">widthDivisor=</span><span class="s">"2"</span> <span class="na">heightDivisor=</span><span class="s">"2"</span> <span class="na">compatible=</span><span class="s">"VK_FORMAT_R16G16_UNORM"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/format&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-component"><a class="anchor" href="#tag-component"></a>22. Format Components (<code>component</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>component</code> tag contains definitions of each of the components which
are part of an image format.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_component_tags"><a class="anchor" href="#_attributes_of_component_tags"></a>22.1. Attributes of <code>component</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required.
A string specifying the name of this component.
Must be one of the values <code>"R"</code>, <code>"G"</code>, <code>"B"</code>, <code>"A"</code>, <code>"S"</code>, or <code>"D"</code>
corresponding to red, green, blue, alpha, depth, and stencil components,
respectively.</p>
</li>
<li>
<p><code>bits</code> - required.
Must be either a decimal integer which is the number of bits in this
component, or <code>"compressed"</code>, corresponding to a specific compression
scheme.</p>
</li>
<li>
<p><code>numericFormat</code> - required.
A string specifying the scalar data type of the component.
Must be one of the following values:</p>
<div class="ulist">
<ul>
<li>
<p><code>"SFLOAT"</code> - signed floating-point numbers</p>
</li>
<li>
<p><code>"SINT"</code> - signed integer values in the range [-2<sup>n-1</sup>,2<sup>n-1</sup>-1]</p>
</li>
<li>
<p><code>"SNORM"</code> - signed normalized values in the range [-1,1]</p>
</li>
<li>
<p><code>"SRGB"</code> - R, G, and B components are unsigned normalized values that represent values using sRGB nonlinear encoding, while the A component (if one exists) is a regular unsigned normalized value</p>
</li>
<li>
<p><code>"SSCALED"</code> - signed integer values that get converted to floating-point in the range [-2<sup>n-1</sup>,2<sup>n-1</sup>-1]</p>
</li>
<li>
<p><code>"UFLOAT"</code> - unsigned floating-point numbers (used by packed, shared exponent, and some compressed formats)</p>
</li>
<li>
<p><code>"UINT"</code> - unsigned integer values in the range [0,2<sup>n</sup>-1]</p>
</li>
<li>
<p><code>"UNORM"</code> - unsigned normalized values in the range [0,1]</p>
</li>
<li>
<p><code>"USCALED"</code> - unsigned integer values that get converted to floating-point in the range [0,2<sup>n</sup>-1]</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>planeIndex</code> - optional.
A decimal integer specifying which plane this component lies in.
If present, must correspond to the <code>index</code> attribute value of a
<code>plane</code> tag for the same <code>component</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_component_tags"><a class="anchor" href="#_contents_of_component_tags"></a>22.2. Contents of <code>component</code> tags</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-plane"><a class="anchor" href="#tag-plane"></a>23. Format Planes (<code>plane</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>plane</code> tag contains definitions of each of the image planes which are
part of an image format.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_plane_tags"><a class="anchor" href="#_attributes_of_plane_tags"></a>23.1. Attributes of <code>plane</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>index</code> - required.
An integer specifying the image plane being defined.
Image planes are in the range [0,<em>p</em>-1] where <em>p</em> is the number of
planes in the format.</p>
</li>
<li>
<p><code>widthDivisor</code> - required.
An integer specifying the relative width of this plane.
A value of <em>k</em> means that this plane is 1/<em>k</em> the width of the overall
format.</p>
</li>
<li>
<p><code>heightDivisor</code> - required.
An integer specifying the relative height of this plane.
A value of <em>k</em> means that this plane is 1/<em>k</em> the height of the overall
format.</p>
</li>
<li>
<p><code>compatible</code> - required.
A string naming another, single-plane format that this plane is
compatible with.
Must match the <code>name</code> of another <code>format</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_plane_tags"><a class="anchor" href="#_contents_of_plane_tags"></a>23.2. Contents of <code>plane</code> tags</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-spirvimageformat"><a class="anchor" href="#tag-spirvimageformat"></a>24. SPIR-V Image Formats (<code>spirvimageformat</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>spirvimageformat</code> tag specifies the name of a SPIR-V image format
equivalent to this format.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_spirvimageformat_tags"><a class="anchor" href="#_attributes_of_spirvimageformat_tags"></a>24.1. Attributes of <code>spirvimageformat</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required.
The name of the SPIR-V image format.
Example: <code>name="R11fG11fB10f"</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_spirvimageformat_tags"><a class="anchor" href="#_contents_of_spirvimageformat_tags"></a>24.2. Contents of <code>spirvimageformat</code> tags</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-spirvextensions"><a class="anchor" href="#tag-spirvextensions"></a>25. SPIR-V Extensions (<code>spirvextensions</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>spirvextensions</code> tag contains definitions of each of the SPIR-V
extensions which are defined for the API.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_spirvextensions_tags"><a class="anchor" href="#_attributes_of_spirvextensions_tags"></a>25.1. Attributes of <code>spirvextensions</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_spirvextensions_tags"><a class="anchor" href="#_contents_of_spirvextensions_tags"></a>25.2. Contents of <code>spirvextensions</code> tags</h3>
<div class="paragraph">
<p>Each <code>spirvextensions</code> block contains zero or more <code>spirvextension</code> tags, each
describing an single SPIR-V extension, in arbitrary order.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-spirvextension"><a class="anchor" href="#tag-spirvextension"></a>26. SPIR-V Extension (<code>spirvextension</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>SPIR-V extensions are described in individual <code>spirvextension</code> tags.
A SPIR-V extension is enabled by API versions or extensions.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_spirvextension_tags"><a class="anchor" href="#_attributes_of_spirvextension_tags"></a>26.1. Attributes of <code>spirvextension</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required.
SPIR-V extension name.
Example: <code>name="SPV_KHR_variable_pointers"</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_spirvextension_tags"><a class="anchor" href="#_contents_of_spirvextension_tags"></a>26.2. Contents of <code>spirvextension</code> tags</h3>
<div class="paragraph">
<p>One or more <a href="#tag-spirvenable"><code>enable</code></a> tags, in arbitrary order.
Each tag describes a single enabling mechanism for the extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_a_spirvextensions_tag"><a class="anchor" href="#_example_of_a_spirvextensions_tag"></a>26.3. Example of a <code>spirvextensions</code> tag</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;spirvextension</span> <span class="na">name=</span><span class="s">"SPV_KHR_multiview"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;enable</span> <span class="na">version=</span><span class="s">"VK_VERSION_1_1"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;enable</span> <span class="na">extension=</span><span class="s">"VK_KHR_multiview"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/spirvextension&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-spirvcapabilities"><a class="anchor" href="#tag-spirvcapabilities"></a>27. SPIR-V Capabilities (<code>spirvcapabilities</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>spirvcapabilities</code> tag contains definitions of each of the SPIR-V
capabilities which are defined for the API.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_spirvcapabilities_tags"><a class="anchor" href="#_attributes_of_spirvcapabilities_tags"></a>27.1. Attributes of <code>spirvcapabilities</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>comment</code> - optional.
Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_spirvcapabilities_tags"><a class="anchor" href="#_contents_of_spirvcapabilities_tags"></a>27.2. Contents of <code>spirvcapabilities</code> tags</h3>
<div class="paragraph">
<p>Each <code>spirvcapabilities</code> block contains zero or more <code>spirvcapability</code>
tags, each describing an single SPIR-V capability, in arbitrary order.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-spirvcapability"><a class="anchor" href="#tag-spirvcapability"></a>28. SPIR-V Capability (<code>spirvcapability</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>SPIR-V capabilities are described in individual <code>spirvcapability</code> tags.
A SPIR-V capability is enabled by API versions, extensions, features, or
properties.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_spirvcapability_tags"><a class="anchor" href="#_attributes_of_spirvcapability_tags"></a>28.1. Attributes of <code>spirvcapability</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required.
SPIR-V capability name.
Example: <code>name="SPV_KHR_variable_pointers"</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_spirvcapability_tags"><a class="anchor" href="#_contents_of_spirvcapability_tags"></a>28.2. Contents of <code>spirvcapability</code> tags</h3>
<div class="paragraph">
<p>One or more <a href="#tag-spirvenable"><code>enable</code></a> tags, in arbitrary order.
Each tag describes a single enabling mechanism for the capability.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_a_spirvcapabilities_tag"><a class="anchor" href="#_example_of_a_spirvcapabilities_tag"></a>28.3. Example of a <code>spirvcapabilities</code> tag</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;spirvcapability</span> <span class="na">name=</span><span class="s">"ImageCubeArray"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;enable</span> <span class="na">struct=</span><span class="s">"VkPhysicalDeviceFeatures"</span> <span class="na">feature=</span><span class="s">"imageCubeArray"</span> <span class="na">requires=</span><span class="s">"VK_VERSION_1_0"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/spirvcapability&gt;</span>
<span class="nt">&lt;spirvcapability</span> <span class="na">name=</span><span class="s">"GroupNonUniform"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;enable</span> <span class="na">property=</span><span class="s">"VkPhysicalDeviceVulkan11Properties"</span> <span class="na">member=</span><span class="s">"subgroupSupportedOperations"</span> <span class="na">value=</span><span class="s">"VK_SUBGROUP_FEATURE_BASIC_BIT"</span> <span class="na">requires=</span><span class="s">"VK_VERSION_1_1"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/spirvcapability&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-spirvenable"><a class="anchor" href="#tag-spirvenable"></a>29. SPIR-V Enables (<code>enable</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>enable</code> tag describes a single mechanism in the API which enables a
<code>spirvextension</code> or <code>spirvcapability</code>.
There are four forms of <code>enable</code> tags corresponding to different ways the
API may advertise enablement, though not all forms may be used with
<code>spirvextension</code> tags.
Each form is described separately below.</p>
</div>
<div class="sect2">
<h3 id="_attributes_for_api_version_number_enables"><a class="anchor" href="#_attributes_for_api_version_number_enables"></a>29.1. Attributes for API Version Number Enables</h3>
<div class="ulist">
<ul>
<li>
<p><code>version</code> - required.
An API feature name, matching a <code>feature</code> <code>name</code> attribute value.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the API version is supported, the SPIR-V extension or capability is
enabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="_attributes_for_api_extension_enables"><a class="anchor" href="#_attributes_for_api_extension_enables"></a>29.2. Attributes for API Extension Enables</h3>
<div class="ulist">
<ul>
<li>
<p><code>extension</code> - required.
An API extension name, matching an <code>extension</code> <code>name</code> attribute
value.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the API extension is supported and enabled, the SPIR-V extension or
capability is enabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="_attributes_for_api_feature_enables"><a class="anchor" href="#_attributes_for_api_feature_enables"></a>29.3. Attributes for API Feature Enables</h3>
<div class="ulist">
<ul>
<li>
<p><code>struct</code> - required.
An API feature structure name, matching a <code>struct</code> <code>name</code> attribute
value.</p>
</li>
<li>
<p><code>feature</code> - required.
An API feature name, matching a <code>member</code> <code>name</code> value of the feature
structure.</p>
</li>
<li>
<p><code>requires</code> - required.
A comma-separated list of API feature version numbers and/or extension
names.</p>
</li>
<li>
<p><code>alias</code> - optional.
Another API feature name which is an alias of <code>feature</code>.
Needed when the same feature is provided by two different API versions
or extensions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If one of the API feature version numbers or extensions in the <code>requires</code>
list is supported or enabled, respectively; and if the <code>feature</code> name is
enabled in the feature structure, the SPIR-V capability is enabled.</p>
</div>
<div class="paragraph">
<p>API feature enables are not supported for <code>spirvextension</code> tags.</p>
</div>
</div>
<div class="sect2">
<h3 id="_attributes_for_api_property_enables"><a class="anchor" href="#_attributes_for_api_property_enables"></a>29.4. Attributes for API Property Enables</h3>
<div class="ulist">
<ul>
<li>
<p><code>property</code> - required.
An API property structure name, matching a <code>struct</code> <code>name</code>
attribute value.</p>
</li>
<li>
<p><code>member</code> - required.
An API property name, matching a <code>member</code> <code>name</code> value of the
<code>property</code> structure.</p>
</li>
<li>
<p><code>value</code> - required.
A value, matching an API <code>enum</code> <code>name</code> value.
If the property is a bitfield, <code>value</code> must be a bitmask value
belonging to the <code>member</code> bitfield type.
Otherwise, <code>value</code> must be an <code>enum</code> name defined for the
<code>member</code> enumeration type.</p>
</li>
<li>
<p><code>requires</code> - optional.
A comma-separated list of API feature version numbers and/or extension
names.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If one of the API feature version numbers or extensions in the <code>requires</code>
list is supported or enabled, respectively; and if the <code>member</code> property
contains the <code>value</code> bit, or matches the <code>value</code>, the SPIR-V capability
is enabled.</p>
</div>
<div class="paragraph">
<p>API property enables are not supported for <code>spirvextension</code> tags.</p>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_enable_tags"><a class="anchor" href="#_contents_of_enable_tags"></a>29.5. Contents of <code>enable</code> tags</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>30. Examples / FAQ / How Do I?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For people new to the Registry, it will not be immediately obvious how to
make changes.
This section includes some tips and examples that will help you make changes
to the Vulkan headers by changing the Registry XML description.</p>
</div>
<div class="paragraph">
<p>First, follow the steps described to <a href="#starting">get the Vulkan Github
repository</a> containing the registry and assemble the tools necessary to
work with the XML registry.
Once you are able to regenerate the Vulkan headers from <code>vk.xml</code>, you can
start making changes.</p>
</div>
<div class="sect2">
<h3 id="_general_strategy"><a class="anchor" href="#_general_strategy"></a>30.1. General Strategy</h3>
<div class="paragraph">
<p>If you are <em>adding</em> to the API, perform the following steps to <em>create</em> the
description of that API element:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For each type, enum group, compile time constant, and command being
added, create appropriate new <code>type</code>, <code>enums</code>, <code>enum</code>, or
<code>command</code> tags defining the interface in question.</p>
</li>
<li>
<p>Make sure that all added types and commands appropriately tag their
dependencies on other types by adding nested <code>type</code> tags.</p>
</li>
<li>
<p>Make sure that each new tag defines the name of the corresponding type,
enum group, constant, or command, and that structure/union types and
commands tag the types and names of all their members and parameters.
This is essential for the automatic dependency process to work.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you are <em>modifying</em> existing APIs, just make appropriate changes in the
existing tags.</p>
</div>
<div class="paragraph">
<p>Once the definition is added, proceed to the next section to create
dependencies on the changed feature.</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_feature_dependencies"><a class="anchor" href="#_api_feature_dependencies"></a>30.2. API Feature Dependencies</h3>
<div class="paragraph">
<p>When you add new API elements, they will not result in corresponding changes
in the generated header unless they are <em>required</em> by the interface being
generated.
This makes it possible to include different API versions and extensions in a
single registry and pull them out as needed.
So you must introduce a dependency on new features in the corresponding
<code>feature</code> tag.</p>
</div>
<div class="paragraph">
<p>Initially, the only API feature is Vulkan 1.0, so there is only one
<code>feature</code> tag in <code>vk.xml</code>.
You can find it by searching for the following block of <code>vk.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;comment&gt;</span>
<span class="nt">&lt;feature</span> <span class="na">api=</span><span class="s">"vulkan"</span> <span class="na">name=</span><span class="s">"VK_VERSION_1_0"</span> <span class="na">number=</span><span class="s">"1.0"</span>
         <span class="na">comment=</span><span class="s">"Vulkan core API interface definitions"</span><span class="nt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Inside the <code>feature</code> tag are nested multiple <code>require</code> tags.
These are just being used as a logical grouping mechanism for related parts
of Vulkan 1.0 at present, though they may have more meaningful roles in the
future if different API profiles are defined.</p>
</div>
<div class="sect3">
<h4 id="_api_feature_walkthrough"><a class="anchor" href="#_api_feature_walkthrough"></a>30.2.1. API Feature Walkthrough</h4>
<div class="paragraph">
<p>This section walks through the first few required API features in the
<code>vk.xml</code> <code>feature</code> tag, showing how each requirement pulls in type, token,
and command definitions and turns those into definitions in the C header
file <code>vulkan_core.h</code>.</p>
</div>
<div class="paragraph">
<p>Consider the first few lines of the <code>feature</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;require</span> <span class="na">comment=</span><span class="s">"Header boilerplate"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;type</span> <span class="na">name=</span><span class="s">"vk_platform"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/require&gt;</span>
<span class="nt">&lt;require</span> <span class="na">comment=</span><span class="s">"API constants"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">name=</span><span class="s">"VK_MAX_PHYSICAL_DEVICE_NAME"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">name=</span><span class="s">"VK_MAX_EXTENSION_NAME"</span><span class="nt">/&gt;</span>
    ...
<span class="nt">&lt;/require&gt;</span>
<span class="nt">&lt;require</span> <span class="na">comment=</span><span class="s">"Device initialization"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;command</span> <span class="na">name=</span><span class="s">"vkCreateInstance"</span><span class="nt">/&gt;</span>
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first <code>require</code> block says to require a type named <code>vk_platform</code>.
If you look at the beginning of the <code>types</code> section, there is a
corresponding definition section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;type</span> <span class="na">name=</span><span class="s">"vk_platform"</span><span class="nt">&gt;</span>#include "vk_platform.h"
#define VK_MAKE_VERSION(major, minor, patch) \
    ((major <span class="ni">&amp;lt;&amp;lt;</span> 22) | (minor <span class="ni">&amp;lt;&amp;lt;</span> 12) | patch)
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>This section is invoked by the requirement and emits a bunch of boilerplate
C code.
The explicit dependency is not strictly required since <code>vk_platform</code> will be
required by many other types, but placing it first causes this to appear
first in the output file.</p>
</div>
<div class="paragraph">
<p>Note that <code>vk_platform</code> does not correspond to an actual C type, but instead
to a collection of freeform preprocessor includes and macros and comments.
Most other <code>type</code> tags do define a specific type and are much simpler, but
this approach can be used to inject arbitrary C into the Vulkan headers
<strong>when there is no other way</strong>.
In general inserting arbitrary C is strongly discouraged outside of specific
special cases like this.</p>
</div>
<div class="paragraph">
<p>The next <code>require</code> block pulls in some compile time constants.
These correspond to the definitions found in the first <code>enums</code> section of
<code>vk.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;enums</span> <span class="na">name=</span><span class="s">"API Constants"</span>
       <span class="na">comment=</span><span class="s">"Vulkan hardcoded constants - not an enumerated type, part of the header boilerplate"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"256"</span>        <span class="na">name=</span><span class="s">"VK_MAX_PHYSICAL_DEVICE_NAME"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"256"</span>        <span class="na">name=</span><span class="s">"VK_MAX_EXTENSION_NAME"</span><span class="nt">/&gt;</span>
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The third <code>require</code> block starts pulling in some Vulkan commands.
The first command corresponds to the following definition found in the
<code>commands</code> section of <code>vk.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;commands&gt;</span>
    <span class="nt">&lt;command&gt;</span>
        <span class="nt">&lt;proto&gt;&lt;type&gt;</span>VkResult<span class="nt">&lt;/type&gt;</span> <span class="nt">&lt;name&gt;</span>vkCreateInstance<span class="nt">&lt;/name&gt;&lt;/proto&gt;</span>
        <span class="nt">&lt;param&gt;</span>const <span class="nt">&lt;type&gt;</span>VkInstanceCreateInfo<span class="nt">&lt;/type&gt;</span>* <span class="nt">&lt;name&gt;</span>pCreateInfo<span class="nt">&lt;/name&gt;&lt;/param&gt;</span>
        <span class="nt">&lt;param&gt;&lt;type&gt;</span>VkInstance<span class="nt">&lt;/type&gt;</span>* <span class="nt">&lt;name&gt;</span>pInstance<span class="nt">&lt;/name&gt;&lt;/param&gt;</span>
    <span class="nt">&lt;/command&gt;</span>
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In turn, the <code>command</code> tag requires the <code>types</code> <code>VkResult</code>,
<code>VkInstanceCreateInfo</code>, and <code>VkInstance</code> as part of its definition.
The definitions of these types are determined as follows:</p>
</div>
<div class="paragraph">
<p>For <code>VkResult</code>, the corresponding required <code>type</code> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;type</span> <span class="na">name=</span><span class="s">"VkResult"</span> <span class="na">category=</span><span class="s">"enum"</span><span class="nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Since this is an enumeration type, it simply links to an <code>enums</code> tag with
the same name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;enums</span> <span class="na">name=</span><span class="s">"VkResult"</span> <span class="na">type=</span><span class="s">"enum"</span> <span class="na">comment=</span><span class="s">"API result codes"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;comment&gt;</span>Return codes (positive values)<span class="nt">&lt;/comment&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"0"</span>     <span class="na">name=</span><span class="s">"VK_SUCCESS"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"1"</span>     <span class="na">name=</span><span class="s">"VK_UNSUPPORTED"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"2"</span>     <span class="na">name=</span><span class="s">"VK_NOT_READY"</span><span class="nt">/&gt;</span>
    ...
        <span class="nt">&lt;comment&gt;</span>Error codes (negative values)<span class="nt">&lt;/comment&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"-1"</span>    <span class="na">name=</span><span class="s">"VK_ERROR_OUT_OF_HOST_MEMORY"</span> <span class="na">comment=</span><span class="s">"A host memory allocation has failed"</span><span class="nt">/&gt;</span>
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>For <code>VkInstanceCreateInfo</code>, the required <code>type</code> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;type</span> <span class="na">category=</span><span class="s">"struct"</span> <span class="na">name=</span><span class="s">"VkInstanceCreateInfo"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;member</span> <span class="na">values=</span><span class="s">"VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO"</span><span class="nt">&gt;&lt;type&gt;</span>VkStructureType<span class="nt">&lt;/type&gt;</span> <span class="nt">&lt;name&gt;</span>sType<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
    <span class="nt">&lt;member&gt;</span>const void*                         <span class="nt">&lt;name&gt;</span>pNext<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
    <span class="nt">&lt;member&gt;</span>const <span class="nt">&lt;type&gt;</span>VkApplicationInfo<span class="nt">&lt;/type&gt;</span>* <span class="nt">&lt;name&gt;</span>pAppInfo<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
    <span class="nt">&lt;member&gt;</span>const <span class="nt">&lt;type&gt;</span>VkAllocCallbacks<span class="nt">&lt;/type&gt;</span>* <span class="nt">&lt;name&gt;</span>pAllocCb<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
    <span class="nt">&lt;member&gt;&lt;type&gt;</span>uint32_t<span class="nt">&lt;/type&gt;</span>               <span class="nt">&lt;name&gt;</span>extensionCount<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
    <span class="nt">&lt;member&gt;</span>const <span class="nt">&lt;type&gt;</span>char<span class="nt">&lt;/type&gt;</span>*const*      <span class="nt">&lt;name&gt;</span>ppEnabledExtensionNames<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
<span class="nt">&lt;/type&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a structure type, defining a C <code>struct</code> with all the members defined
in each <code>member</code> tag in order.
In addition, it requires some other types, whose definitions are located by
name in exactly the same fashion.</p>
</div>
<div class="paragraph">
<p>For the final direct dependency of the command, <code>VkInstance</code>, the required
<code>type</code> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml">    <span class="nt">&lt;comment&gt;</span>Types which can be void pointers or class pointers, selected at compile time<span class="nt">&lt;/comment&gt;</span>
<span class="nt">&lt;type&gt;</span>VK_DEFINE_BASE_HANDLE(<span class="nt">&lt;name&gt;</span>VkObject<span class="nt">&lt;/name&gt;</span>)<span class="nt">&lt;/type&gt;</span>
<span class="nt">&lt;type&gt;</span>VK_DEFINE_DISP_SUBCLASS_HANDLE(<span class="nt">&lt;name&gt;</span>VkInstance<span class="nt">&lt;/name&gt;</span>, <span class="nt">&lt;type&gt;</span>VkObject<span class="nt">&lt;/type&gt;</span>)<span class="nt">&lt;/type&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the type <code>VkInstance</code> is defined by a special compile time
macro which defines it as a derived class of <code>VkObject</code> (for <code>C``</code>) or a
less typesafe definition (for C).
This macro is not part of the type dependency analysis, just the boilerplate
used in the header.</p>
</div>
<div class="paragraph">
<p>If these are the only <code>feature</code> dependencies in <code>vk.xml</code>, the resulting
<code>vulkan_core.h</code> header will look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="cp">#ifndef VULKAN_H_
#define VULKAN_H_ 1
</span>
<span class="cp">#ifdef __cplusplus
</span><span class="k">extern</span> <span class="s">"C"</span> <span class="p">{</span>
<span class="cp">#endif
</span>
<span class="cm">/*
** Copyright 2015-2022 The Khronos Group Inc.
    ...
*/</span>

<span class="cm">/*
** This header is generated from the Khronos Vulkan XML API Registry.
**
** Generated on date 20170208
*/</span>


<span class="cp">#define VK_VERSION_1_0 1
#include</span> <span class="cpf">"vk_platform.h"</span><span class="cp">
#define VK_MAKE_VERSION(major, minor, patch) \
    ((major &lt;&lt; 22) | (minor &lt;&lt; 12) | patch)
</span>
<span class="c1">// Vulkan API version supported by this file</span>
<span class="cp">#define VK_API_VERSION VK_MAKE_VERSION(0, 104, 0)
</span>
<span class="cp">#if defined (__cplusplus) &amp;&amp; (VK_UINTPTRLEAST64_MAX == UINTPTR_MAX)
</span>    <span class="cp">#define VK_TYPE_SAFE_COMPATIBLE_HANDLES 1
#endif
</span>
<span class="cp">#if defined(VK_TYPE_SAFE_COMPATIBLE_HANDLES) &amp;&amp; !defined(VK_DISABLE_TYPE_SAFE_HANDLES)
</span>    <span class="cp">#define VK_DEFINE_PTR_HANDLE(_obj) struct _obj##_T { char _placeholder; }; typedef _obj##_T* _obj;
</span>    <span class="cp">#define VK_DEFINE_PTR_SUBCLASS_HANDLE(_obj, _base) struct _obj##_T : public _base##_T {}; typedef _obj##_T* _obj;
</span>
    <span class="cp">#define VK_DEFINE_BASE_HANDLE(_obj) VK_DEFINE_PTR_HANDLE(_obj)
</span>    <span class="cp">#define VK_DEFINE_DISP_SUBCLASS_HANDLE(_obj, _base) VK_DEFINE_PTR_SUBCLASS_HANDLE(_obj, _base)
</span>    <span class="cp">#define VK_DEFINE_NONDISP_SUBCLASS_HANDLE(_obj, _base) VK_DEFINE_PTR_SUBCLASS_HANDLE(_obj, _base)
#else
</span>    <span class="cp">#define VK_DEFINE_BASE_HANDLE(_obj) typedef VkUintPtrLeast64 _obj;
</span>    <span class="cp">#define VK_DEFINE_DISP_SUBCLASS_HANDLE(_obj, _base) typedef uintptr_t _obj;
</span>    <span class="cp">#define VK_DEFINE_NONDISP_SUBCLASS_HANDLE(_obj, _base) typedef VkUintPtrLeast64 _obj;
#endif
</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
    <span class="n">VK_SUCCESS</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_UNSUPPORTED</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_NOT_READY</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="p">...</span>
<span class="p">}</span> <span class="n">VkResult</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
    <span class="n">VK_STRUCTURE_TYPE_APPLICATION_INFO</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">...</span>
<span class="p">}</span> <span class="n">VKStructureType</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                             <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                 <span class="n">pNext</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span>                                 <span class="n">pAppName</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                                    <span class="n">appVersion</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span>                                 <span class="n">pEngineName</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                                    <span class="n">engineVersion</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                                    <span class="n">apiVersion</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkApplicationInfo</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
    <span class="n">VK_SYSTEM_ALLOC_TYPE_API_OBJECT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">...</span>
<span class="p">}</span> <span class="n">VkSystemAllocType</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">void</span><span class="o">*</span> <span class="p">(</span><span class="n">VKAPI_PTR</span> <span class="o">*</span><span class="n">PFN_vkAllocFunction</span><span class="p">)(</span>
    <span class="kt">void</span><span class="o">*</span>                           <span class="n">pUserData</span><span class="p">,</span>
    <span class="kt">size_t</span>                          <span class="n">size</span><span class="p">,</span>
    <span class="kt">size_t</span>                          <span class="n">alignment</span><span class="p">,</span>
    <span class="n">VkSystemAllocType</span>               <span class="n">allocType</span><span class="p">);</span>
<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="n">VKAPI_PTR</span> <span class="o">*</span><span class="n">PFN_vkFreeFunction</span><span class="p">)(</span>
    <span class="kt">void</span><span class="o">*</span>                           <span class="n">pUserData</span><span class="p">,</span>
    <span class="kt">void</span><span class="o">*</span>                           <span class="n">pMem</span><span class="p">);</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="kt">void</span><span class="o">*</span>                                       <span class="n">pUserData</span><span class="p">;</span>
    <span class="n">PFN_vkAllocFunction</span>                         <span class="n">pfnAlloc</span><span class="p">;</span>
    <span class="n">PFN_vkFreeFunction</span>                          <span class="n">pfnFree</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkAllocCallbacks</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                             <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                 <span class="n">pNext</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkApplicationInfo</span><span class="o">*</span>                    <span class="n">pAppInfo</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkAllocCallbacks</span><span class="o">*</span>                     <span class="n">pAllocCb</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                                    <span class="n">extensionCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span><span class="k">const</span><span class="o">*</span>                           <span class="n">ppEnabledExtensionNames</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkInstanceCreateInfo</span><span class="p">;</span>
<span class="n">VK_DEFINE_BASE_HANDLE</span><span class="p">(</span><span class="n">VkObject</span><span class="p">)</span>
<span class="n">VK_DEFINE_DISP_SUBCLASS_HANDLE</span><span class="p">(</span><span class="n">VkInstance</span><span class="p">,</span> <span class="n">VkObject</span><span class="p">)</span>
<span class="cp">#define VK_MAX_PHYSICAL_DEVICE_NAME       256
#define VK_MAX_EXTENSION_NAME             256
</span><span class="k">typedef</span> <span class="n">VkResult</span> <span class="p">(</span><span class="n">VKAPI_PTR</span> <span class="o">*</span><span class="n">PFN_vkCreateInstance</span><span class="p">)(</span><span class="k">const</span> <span class="n">VkInstanceCreateInfo</span><span class="o">*</span> <span class="n">pCreateInfo</span><span class="p">,</span> <span class="n">VkInstance</span><span class="o">*</span> <span class="n">pInstance</span><span class="p">);</span>
<span class="cp">#ifndef VK_NO_PROTOTYPES
</span><span class="n">VKAPI_ATTR</span> <span class="n">VkResult</span> <span class="n">VKAPI_CALL</span> <span class="n">vkCreateInstance</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">VkInstanceCreateInfo</span><span class="o">*</span>                 <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="n">VkInstance</span><span class="o">*</span>                                 <span class="n">pInstance</span><span class="p">);</span>
<span class="cp">#endif
</span>
<span class="cp">#ifdef __cplusplus
</span><span class="p">}</span>
<span class="cp">#endif
</span>
<span class="cp">#endif</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that several additional types are pulled in by the type dependency
analysis, but only those types, commands, and tokens required by the
specified features are generated.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="compile-time-constants"><a class="anchor" href="#compile-time-constants"></a>30.3. How To Add A Compile Time Constant</h3>
<div class="paragraph">
<p>Go to the desired <code>feature</code> or <code>extension</code> tag.
Add (if not present) a nested <code>require</code> block labelled</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;require</span> <span class="na">comment=</span><span class="s">"API constants"</span><span class="nt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this block, add an (appropriately indented) tag like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml">    <span class="nt">&lt;enum</span> <span class="na">name=</span><span class="s">"VK_THE_ANSWER"</span><span class="nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then go to the <code>enums</code> block labelled</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;enums</span> <span class="na">comment=</span><span class="s">"Misc. hardcoded constants - not an enumerated type"</span><span class="nt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this block, add a tag whose <code>name</code> attribute matches the <code>name</code> you
defined above and whose <code>value</code> attribute is the value to give the
constant:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml">    <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"42"</span> <span class="na">type=</span><span class="s">"uint32_t"</span> <span class="na">name=</span><span class="s">"VK_THE_ANSWER"</span><span class="nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>type</code> attribute must be present, and must have one of the allowed
values <code>uint32_t</code>, <code>uint64_t</code>, or <code>float</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="compile-time-constants-format"><a class="anchor" href="#compile-time-constants-format"></a>30.4. Allowed Format of Compile Time Constants</h3>
<div class="paragraph">
<p>The <code>value</code> attribute must be a legal C99 constant scalar expression when
evaluated at compilation time.
Allowed expressions are additionally restricted to the following syntax:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a single C decimal integer or floating-point value</p>
</li>
<li>
<p>optionally prefixed with <code>~</code></p>
</li>
<li>
<p>optionally suffixed with <code>U</code>, <code>UL</code>, <code>ULL</code>, or <code>F</code></p>
</li>
<li>
<p>and the entire expression optionally surrounded by paired <code>(</code> and <code>)</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_add_a_struct_or_union_type"><a class="anchor" href="#_how_to_add_a_struct_or_union_type"></a>30.5. How To Add A Struct or Union Type</h3>
<div class="paragraph">
<p>For this example, assume we want to define a type corresponding to a C
<code>struct</code> defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>          <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>              <span class="n">pNext</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkApplicationInfo</span><span class="o">*</span> <span class="n">pAppInfo</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkAllocCallbacks</span><span class="o">*</span>  <span class="n">pAllocCb</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                 <span class="n">extensionCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span><span class="k">const</span><span class="o">*</span>        <span class="n">ppEnabledExtensionNames</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkInstanceCreateInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If <code>VkInstanceCreateInfo</code> is the type of a parameter of a command in the
API, make sure that command&#8217;s definition (see below for how to add a
command) puts <code>VkInstanceCreateInfo</code> in nested <code>type</code> tags where it is
used.</p>
</div>
<div class="paragraph">
<p>Otherwise, if the struct type is not used directly by a command in the API,
nor required by a chain of type dependencies for other commands, an explicit
<code>type</code> dependency should be added to the <code>feature</code> tag.
Go to the <code>types</code> tag and search for the nested block labelled</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;require</span> <span class="na">comment=</span><span class="s">"Types not directly used by the API. Include e.g. structs that are not parameter types of commands, but still defined by the API."</span><span class="nt">&gt;</span>
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this block, add a tag whose <code>name</code> attribute matches the <code>name</code> of
the struct type being defined:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;require</span> <span class="na">comment=</span><span class="s">"API types not used by commands"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;type</span> <span class="na">name=</span><span class="s">"VkInstanceCreateInfo"</span><span class="nt">/&gt;</span>
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then go to the <code>types</code> tag and add a new <code>type</code> tag defining the struct
names and members, somewhere below the corresponding comment, like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;types&gt;</span>
    ...
        <span class="nt">&lt;comment&gt;</span>Struct types<span class="nt">&lt;/comment&gt;</span>
    <span class="nt">&lt;type</span> <span class="na">category=</span><span class="s">"struct"</span> <span class="na">name=</span><span class="s">"VkInstanceCreateInfo"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;member&gt;&lt;type&gt;</span>VkStructureType<span class="nt">&lt;/type&gt;</span>
                <span class="nt">&lt;name&gt;</span>sType<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
        <span class="nt">&lt;member&gt;</span>const void*
                <span class="nt">&lt;name&gt;</span>pNext<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
        <span class="nt">&lt;member&gt;</span>const <span class="nt">&lt;type&gt;</span>VkApplicationInfo<span class="nt">&lt;/type&gt;</span>*
                <span class="nt">&lt;name&gt;</span>pAppInfo<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
        <span class="nt">&lt;member&gt;</span>const <span class="nt">&lt;type&gt;</span>VkAllocCallbacks<span class="nt">&lt;/type&gt;</span>*
                <span class="nt">&lt;name&gt;</span>pAllocCb<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
        <span class="nt">&lt;member&gt;&lt;type&gt;</span>uint32_t<span class="nt">&lt;/type&gt;</span>
                <span class="nt">&lt;name&gt;</span>extensionCount<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
        <span class="nt">&lt;member&gt;</span>const <span class="nt">&lt;type&gt;</span>char<span class="nt">&lt;/type&gt;</span>*const*
                <span class="nt">&lt;name&gt;</span>ppEnabledExtensionNames<span class="nt">&lt;/name&gt;&lt;/member&gt;</span>
    <span class="nt">&lt;/type&gt;</span>
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>If any of the member types are types also defined in the header, make sure
to enclose those type names in nested <code>type</code> tags, as shown above.
Basic C types should not be tagged.</p>
</div>
<div class="paragraph">
<p>If the type is a C <code>union</code>, rather than a <code>struct</code>, then set the value of
the <code>category</code> attribute to <code>"union"</code> instead of <code>"struct"</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_add_an_enumerated_type"><a class="anchor" href="#_how_to_add_an_enumerated_type"></a>30.6. How To Add An Enumerated Type</h3>
<div class="paragraph">
<p>For this example, assume we want to define a type corresponding to a C
<code>enum</code> defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
    <span class="n">VK_DEVICE_CREATE_VALIDATION_BIT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_DEVICE_CREATE_MULTI_DEVICE_IQ_MATCH_BIT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDeviceCreateFlagBits</span><span class="p">.</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If <code>VkDeviceCreateFlagBits</code> is the type of a parameter to a command in the
API, or of a member in a structure or union, make sure that command
parameter or struct member&#8217;s definition puts <code>VkDeviceCreateFlagBits</code> in
nested <code>type</code> tags where it is used.</p>
</div>
<div class="paragraph">
<p>Otherwise, if the enumerated type is not used directly by a command in the
API, nor required by a chain of type dependencies for commands and structs,
an explicit <code>type</code> dependency should be added to the <code>feature</code> tag in
exactly the same fashion as described above for <code>struct</code> types.</p>
</div>
<div class="paragraph">
<p>Next, go to the line labelled</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;comment&gt;</span>Vulkan enumerant (token) definitions<span class="nt">&lt;/comment&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>At an appropriate point below this line, add an <code>enums</code> tag whose
<code>name</code> attribute matches the <code>type</code> name <code>VkDeviceCreateFlagBits</code>, and
whose contents correspond to the individual fields of the enumerated type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;enums</span> <span class="na">name=</span><span class="s">"VkDeviceCreateFlagBits"</span> <span class="na">type=</span><span class="s">"bitmask"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">bitpos=</span><span class="s">"0"</span> <span class="na">name=</span><span class="s">"VK_DEVICE_CREATE_VALIDATION_BIT"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">bitpos=</span><span class="s">"1"</span> <span class="na">name=</span><span class="s">"VK_DEVICE_CREATE_MULTI_DEVICE_IQ_MATCH_BIT"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/enums&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Several other attributes of the <code>enums</code> tag can be set.
In this case, the <code>type</code> attribute is set to <code>"bitmask"</code>, indicating that
the individual enumerants represent elements of a bitmask.</p>
</div>
<div class="paragraph">
<p>The individual <code>enum</code> tags define the enumerants, just like the definition
for compile time constants described above.
In this case, because the enumerants are bits in a bitmask, their values are
specified using the <code>bitpos</code> attribute.
The value of this attribute must be an integer in the range [0,30]
specifying a single bit number, and the resulting value is printed as a
hexadecimal constant corresponding to that bit.</p>
</div>
<div class="paragraph">
<p>It is also possible to specify enumerant values using the <code>value</code>
attribute, in which case the specified numeric value is passed through to
the C header unchanged.</p>
</div>
</div>
<div class="sect2">
<h3 id="adding-bitflags"><a class="anchor" href="#adding-bitflags"></a>30.7. How To Add Bit Flags</h3>
<div class="paragraph">
<p>Bit masks are defined by two types in the xml - the type of the mask itself,
and the type of the valid flags.</p>
</div>
<div class="paragraph">
<p>For this example, assume we want to define bit flags that can handle up to
64 independent values as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="c1">// Flag bits for VkExampleFlagBits</span>
<span class="k">typedef</span> <span class="n">VkFlags64</span> <span class="n">VkExampleFlagBits</span><span class="p">;</span>
<span class="k">static</span> <span class="k">const</span> <span class="n">VkExampleFlagBits</span> <span class="n">VK_EXAMPLE_NONE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">static</span> <span class="k">const</span> <span class="n">VkExampleFlagBits</span> <span class="n">VK_EXAMPLE_FIRST_BIT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">;</span>
<span class="k">static</span> <span class="k">const</span> <span class="n">VkExampleFlagBits</span> <span class="n">VK_EXAMPLE_SECOND_BIT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">;</span>

<span class="k">typedef</span> <span class="n">VkFlags64</span> <span class="n">VkExampleFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>An explicit <code>type</code> dependency should be added to the <code>feature</code> tag in
exactly the same fashion as described above for <code>struct</code> types.</p>
</div>
<div class="paragraph">
<p>Firstly, a definition is needed for the flags type used as a parameter to
commands or member of functions.
Go to the line labelled:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;comment&gt;</span>Bitmask types<span class="nt">&lt;/comment&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>At the end of the list of <code>VkFlags</code> and <code>VkFlags64</code> types, add a definition
of the flags type like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;type</span> <span class="na">bitvalues=</span><span class="s">"VkExampleFlagBits"</span> <span class="na">category=</span><span class="s">"bitmask"</span><span class="nt">&gt;</span>typedef <span class="nt">&lt;type&gt;</span>VkFlags64<span class="nt">&lt;/type&gt;</span> <span class="nt">&lt;name&gt;</span>VkExampleFlags<span class="nt">&lt;/name&gt;</span>;<span class="nt">&lt;/type&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>category</code> defines this as a <code>"bitmask"</code> type.
The <code>bitvalues</code> attribute identifies the <code>*FlagBits</code> entry defining the
flag bits associated with this type.</p>
</div>
<div class="paragraph">
<p>Next, go to the line labelled:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;comment&gt;</span>Types generated from corresponding enums tags below<span class="nt">&lt;/comment&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>At an appropriate point in the list of enum types after this comment, add
the following line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;type</span> <span class="na">name=</span><span class="s">"VkExampleFlagBits"</span> <span class="na">category=</span><span class="s">"enum"</span><span class="nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This defines a type for the flag bits for generators that need it.
The <code>category</code> attribute of <code>"enum"</code> identifies that this is an
enumerated type.</p>
</div>
<div class="paragraph">
<p>Finally, go to the line labelled:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;comment&gt;</span>Vulkan enumerant (token) definitions<span class="nt">&lt;/comment&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>At the end of the list of enum definitions below this line, add an <code>enums</code>
tag whose <code>name</code> attribute matches the <code>type</code> name <code>VkExampleFlagBits</code>,
and whose contents correspond to the individual fields of the enumerated
type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;enums</span> <span class="na">name=</span><span class="s">"VkExampleFlagBits"</span> <span class="na">type=</span><span class="s">"bitmask"</span> <span class="na">bitwidth=</span><span class="s">"64"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">value=</span><span class="s">"0"</span> <span class="na">name=</span><span class="s">"VK_EXAMPLE_NONE"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">bitpos=</span><span class="s">"0"</span> <span class="na">name=</span><span class="s">"VK_EXAMPLE_FIRST_BIT"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;enum</span> <span class="na">bitpos=</span><span class="s">"1"</span> <span class="na">name=</span><span class="s">"VK_EXAMPLE_SECOND_BIT"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/enums&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>type</code> attribute is set to <code>"bitmask"</code>, indicating that the
individual enumerants represent elements of a bitmask.
The <code>bitwidth</code> attribute is set to <code>"64"</code> indicating that this is a
64-bit flag type.</p>
</div>
<div class="paragraph">
<p>The individual <code>enum</code> tags define the enumerants, just like the definition
for compile time constants described above.
In this case, a "no flags" type is defined in <code>VK_EXAMPLE_NONE</code> with the
<code>value</code> attribute defining it to have a hard value of 0.
The other types have their values are specified using the <code>bitpos</code>
attribute, as these are actual bit flag values.
The value of this attribute must be an integer in the range [0,63]
specifying a single bit number, and the resulting value is printed as a
hexadecimal constant corresponding to that bit.</p>
</div>
<div class="sect3">
<h4 id="_32_bit_flags"><a class="anchor" href="#_32_bit_flags"></a>30.7.1. 32-bit Flags</h4>
<div class="paragraph">
<p>Bit flags can also be defined using 32-bit C enum types.
Doing so is broadly similar to 64-bit bit flags, but with a few key
differences.
For this example, assume we want to define the same type as above, but
corresponding to a C <code>enum</code> and flags type defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkExampleFlagBits</span> <span class="p">{</span>
    <span class="n">VK_EXAMPLE_NONE</span>
    <span class="n">VK_DEVICE_CREATE_VALIDATION_BIT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_DEVICE_CREATE_MULTI_DEVICE_IQ_MATCH_BIT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkExampleFlagBits</span><span class="p">;</span>

<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkExampleFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To add this to the xml, entries need to be added to the XML in the same way
as above, but with slightly different attributes:</p>
</div>
<div class="paragraph">
<p>For the flag type definition, the entry should use <code>VkFlags</code> instead of
<code>VkFlags64</code>, and require the flag bits type, instead of specifying the
<code>bitvalues</code> attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;type</span> <span class="na">requires=</span><span class="s">"VkExampleFlagBits"</span> <span class="na">category=</span><span class="s">"bitmask"</span><span class="nt">&gt;</span>typedef <span class="nt">&lt;type&gt;</span>VkFlags<span class="nt">&lt;/type&gt;</span> <span class="nt">&lt;name&gt;</span>VkExampleFlags<span class="nt">&lt;/name&gt;</span>;<span class="nt">&lt;/type&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For the definition of the enumerated flag values themselves, the bitwidth
needs to either be changed to <code>"32"</code>, or omitted entirely (which defaults to
a bitwidth of 32) as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;enums</span> <span class="na">name=</span><span class="s">"VkExampleFlagBits"</span> <span class="na">type=</span><span class="s">"bitmask"</span><span class="nt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that 32-bit bitmasks must use an integer in the range [0,30] - C enums
are only guaranteed to support signed 32-bit integer values, and defining an
unsigned value for the 31st bit could change the size of the enum type.
The generator scripts will warn about values exceeding this range.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_add_a_command"><a class="anchor" href="#_how_to_add_a_command"></a>30.8. How to Add A Command</h3>
<div class="paragraph">
<p>For this example, assume we want to define the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">VKAPI_ATTR</span> <span class="n">VkResult</span> <span class="n">VKAPI_CALL</span> <span class="nf">vkCreateInstance</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">VkInstanceCreateInfo</span><span class="o">*</span>                 <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="n">VkInstance</span><span class="o">*</span>                                 <span class="n">pInstance</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Commands must always be explicitly required in the <code>feature</code> tag.
In that tag, you can use an existing <code>require</code> block including API
features which the new command should be grouped with, or define a new
block.
For this example, add a new block, and require the command by using the
<code>command</code> tag inside that block:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;feature</span> <span class="na">api=</span><span class="s">"vulkan"</span> <span class="na">name=</span><span class="s">"VK_VERSION_1_0"</span> <span class="na">number=</span><span class="s">"1.0"</span> <span class="na">comment=</span><span class="s">"Vulkan core API interface definitions"</span><span class="nt">&gt;</span>
    ...
    <span class="nt">&lt;require</span> <span class="na">comment=</span><span class="s">"Device initialization"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;command</span> <span class="na">name=</span><span class="s">"vkCreateInstance"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/require&gt;</span>
    ...
<span class="nt">&lt;/feature&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>require</code> block may include a <code>comment</code> attribute whose value is a
descriptive comment of the contents required within that block.
The comment is not currently used in header generation, but might be in the
future, so use comments which are polite and meaningful to users of the
generated header files.</p>
</div>
<div class="paragraph">
<p>Then go to the <code>commands</code> tag and add a new <code>command</code> tag defining the
command, preferably sorted into alphabetic order with other commands for
ease of reading, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;commands</span> <span class="na">comment=</span><span class="s">"Vulkan command definitions"</span><span class="nt">&gt;</span>
    ...
    <span class="nt">&lt;command&gt;</span>
        <span class="nt">&lt;proto&gt;&lt;type&gt;</span>VkResult<span class="nt">&lt;/type&gt;</span>
               <span class="nt">&lt;name&gt;</span>vkCreateInstance<span class="nt">&lt;/name&gt;&lt;/proto&gt;</span>
        <span class="nt">&lt;param&gt;</span>const <span class="nt">&lt;type&gt;</span>VkInstanceCreateInfo<span class="nt">&lt;/type&gt;</span>*
               <span class="nt">&lt;name&gt;</span>pCreateInfo<span class="nt">&lt;/name&gt;&lt;/param&gt;</span>
        <span class="nt">&lt;param&gt;&lt;type&gt;</span>VkInstance<span class="nt">&lt;/type&gt;</span>*
               <span class="nt">&lt;name&gt;</span>pInstance<span class="nt">&lt;/name&gt;&lt;/param&gt;</span>
    <span class="nt">&lt;/command&gt;</span>
    ...
<span class="nt">&lt;/commands&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>proto</code> tag defines the return type and function name of the command.
The <code>param</code> tags define the command&#8217;s parameters in the order in which
they are passed, including the parameter type and name.
The contents are laid out in the same way as the structure <code>member</code> tags
described previously.</p>
</div>
</div>
<div class="sect2">
<h3 id="_more_complicated_api_representations"><a class="anchor" href="#_more_complicated_api_representations"></a>30.9. More Complicated API Representations</h3>
<div class="paragraph">
<p>The registry schema can represent a good deal of additional information, for
example by creating multiple <code>feature</code> tags defining different API
versions and extensions.
This capability is not yet relevant to Vulkan.
Those capabilities will be documented as they are needed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_more_complicated_output_formats_and_other_languages"><a class="anchor" href="#_more_complicated_output_formats_and_other_languages"></a>30.10. More Complicated Output Formats And Other Languages</h3>
<div class="paragraph">
<p>The registry schema is oriented towards C-language APIs.
Types and commands are defined using syntax which is a subset of C,
especially for structure members and command parameters.
It would be possible to use a language-independent syntax for representing
such information, but since we are writing a C API, any such representation
would have to be converted into C anyway at some stage.</p>
</div>
<div class="paragraph">
<p>The <code>vulkan.h</code> header is written using an <em>output generator</em> object in the
Python scripts.
This output generator is specialized for C, but the design of the scripts is
intended to support writing output generators for other languages as well as
purposes such as documentation (e.g. generating asciidoc fragments
corresponding to types and commands for use in the API specification and
reference pages).
When targeting other languages, the amount of parsing required to convert
type declarations into other languages is small.
However, it will probably be necessary to modify some of the boilerplate C
text, or specialize the tags by language, to support such generators.</p>
</div>
</div>
<div class="sect2">
<h3 id="_additional_semantic_tagging"><a class="anchor" href="#_additional_semantic_tagging"></a>30.11. Additional Semantic Tagging</h3>
<div class="paragraph">
<p>The schema is being extended to support semantic tags describing various
properties of API features, such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>constraints on allowed scalar values to function parameters (non-<code>NULL</code>,
normalized floating-point, etc.)</p>
</li>
<li>
<p>length of arrays corresponding to function pointer parameters</p>
</li>
<li>
<p>miscellaneous properties of commands such as whether the application or
system is responsible for threadsafe use; which queues they may be
issued on; whether they are aliases or otherwise related to other
commands; etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These tags will be used by other tools for purposes such as helping create
validation layers, generating serialization code, and so on.
We would like to eventually represent everything about the API that is
amenable to automatic processing within the registry schema.
Please make suggestions on the Github issue tracker.</p>
</div>
</div>
<div class="sect2">
<h3 id="general:stability"><a class="anchor" href="#general:stability"></a>30.12. Stability of the XML Database and Schema</h3>
<div class="paragraph">
<p>The Vulkan XML schema is evolving in response to corresponding changes in
the Vulkan API and ecosystem.
Most such change will probably be confined to adding attributes to existing
tags and properly expressing the relationships to them, and making API
changes corresponding to accepted feature requests.
Changes to the schema should be described in the <a href="#changelog">change log</a> of
this document.
Changes to the <code>.xml</code> files and Python scripts are logged in Github history.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changelog"><a class="anchor" href="#changelog"></a>31. Change Log</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>2022-07-11 - Add <code>videocoding</code> attribute to <a href="#tag-command"><code>command</code></a>
tags to indicate whether a command buffer command can be recorded inside,
outside, or both inside and outside of a video coding scope.</p>
</li>
<li>
<p>2022-06-22 - Add <code>validstructs</code> attribute to command
<a href="#tag-command:param:attr"><code>param</code></a> tags when using an abstract
<code>VkBaseInStructure</code> or <code>VkBaseOutStructure</code> as the formal parameter
type.</p>
</li>
<li>
<p>2022-06-16 - Add <code>VkSparseImageFormatProperties*</code> to the list of
structure types allowed to have 'limittype' member attributes.</p>
</li>
<li>
<p>2022-06-08 - Add <code>exact</code>, <code>bits</code>, <code>mul</code> and <code>pot</code> limit types.</p>
</li>
<li>
<p>2022-06-08 - Update description of types to which the <code>limittype</code>
attribute of structure <code>member</code> tags can be applied (internal issue
3101).</p>
</li>
<li>
<p>2022-06-08 - Update description of <code>extension</code> <code>requires</code> attribute
such that the specified extensions must be <strong>enabled</strong>, not just
<strong>supported</strong>. This is consistent with the following NOTE, the
specification description of &#8220;required extensions&#8221;, and actual use in
the XML of this attribute (internal issue 3116).</p>
</li>
<li>
<p>2021-12-13 - Add <code>api</code> attribute to the <code>member</code> and <code>param</code>
tags.</p>
</li>
<li>
<p>2021-11-29 - Add <code>api</code> attribute to the <code>command</code> tag.</p>
</li>
<li>
<p>2021-10-11 - Add description of the <code>formats</code> tag for describing
Vulkan <code>VkFormat</code> image formats, and of the <code>spirvextensions</code> and
<code>spirvcapabilities</code> tags for describing enabling mechanisms for SPIR-V
extensions (internal issue 2484).</p>
</li>
<li>
<p>2021-09-13 - Further clarify that <code>api</code> and <code>supported</code> attributes
are comma-separated list of API names (internal issue 2809).</p>
</li>
<li>
<p>2021-08-22 - Update introductory descriptions of toolchain and scripts.</p>
</li>
<li>
<p>2021-08-15 - Add an explicit description of the <code>enum</code> <code>extends</code>
attribute as introducing a requirement for the enumerated type being
extended.</p>
</li>
<li>
<p>2021-07-12 - Note that <code>extension</code> tags describing instance extensions
must not have dependencies on device extensions (internal issue 2387).</p>
</li>
<li>
<p>2021-06-14 - Add an <code>objecttype</code> attribute which specifies the
relationship between a Vulkan handle and another member or parameter
specifying the type of object that handle refers to (public issue 1536).</p>
</li>
<li>
<p>2021-06-06 - Update description of the <code>supported</code> attribute of
<a href="#tag-extension"><code>extension</code> tags</a> to mandate that <code>disabled</code>
extensions are not processed (public issue 1549).</p>
</li>
<li>
<p>2021-04-21 - Add the <code>limittype</code> attribute to <a href="#tag-type">structure
<code>member</code> tags</a>, to describe how queried limits are interpreted
(internal issue 2427).</p>
</li>
<li>
<p>2021-03-30 - Add a description of the <a href="#compile-time-constants-format">allowed format of compile time constants</a> (internal merge request
4451).</p>
</li>
<li>
<p>2021-03-22 - Update allowed values for the <code>type</code> attribute of
<code>enum</code> tags and make it mandatory (internal issue 2564).</p>
</li>
<li>
<p>2021-01-11 - Expand the scope of the <code>optional</code> attribute <code>member</code>
and <code>param</code> tags to specify that the member or parameter may be 0 for
all scalar types, not just bitmasks and array sizes (internal issue
2435).</p>
</li>
<li>
<p>2020-11-23 - Add <code>objtypeenum</code> attribute to &lt;&lt;<code>type</code>, <code>type</code>&gt;&gt; tags
to link the object name to the corresponding <code>VK_OBJECT_TYPE_*</code>
enumerant, if any (internal issue 2393).</p>
</li>
<li>
<p>2020-11-22 - Add requirement that <code>pNext</code> members have the
<code>optional="true"</code> attribute set (internal issue 2428).</p>
</li>
<li>
<p>2020-10-14 - Remove advice to set the <code>noautovalidity</code> attribute on
the <code>pNext</code> member of extending structures in the &lt;&lt;<code>type</code>, <code>type</code>
tag&gt;&gt;, since the validity generator scripts now take care of this
(internal issue 2335).</p>
</li>
<li>
<p>2020-06-02 - Add description of how to switch between 64- and 32-bit
flags.</p>
</li>
<li>
<p>2020-05-07 - Update description of <a href="#schema:apiname">API Names</a> to
current usage, including allowing specifying multiple API names for a
given feature or extension.</p>
</li>
<li>
<p>2020-04-29 - Expand use of <code>category</code> <code>basetype</code> in <code>type</code> tags to
include external API types.</p>
</li>
<li>
<p>2020-02-20 - Clarify that <code>enum</code> tags inside <code>remove</code> tags must be
reference enums, not containing attributes defining values.</p>
</li>
<li>
<p>2020-01-13 - Restrict <code>bitpos</code> to [0,30] to avoid poorly defined
compiler behavior.</p>
</li>
<li>
<p>2019-08-25 - Add <code>sortorder</code> attribute to <code>feature</code> and
<code>extension</code> tags.</p>
</li>
<li>
<p>2018-12-06 - Specify that command aliases are not guaranteed to resolve
to the same entry point in the underlying layer stack, matching a
related clarification in the Vulkan Specification.</p>
</li>
<li>
<p>2018-10-01 - Add description of the default value of <code>optional</code>
member and parameter attributes, if not specified.</p>
</li>
<li>
<p>2018-08-28 - Add optional <code>provisional</code> attribute to <code>extension</code>
tags.</p>
</li>
<li>
<p>2018-07-07 - Add optional <code>promotedto</code>, <code>deprecatedby</code>, and
<code>obsoletedby</code> attributes to <code>extension</code> tags.</p>
</li>
<li>
<p>2018-06-25 - Remove <code>vendorids</code> tags for Khronos vendor IDs.</p>
</li>
<li>
<p>2018-05-08 - Add <code>driverids</code> and <code>driverid</code> tags for describing
Vulkan driver implementation identification information.</p>
</li>
<li>
<p>2018-04-15 - Add <code>requiresCore</code>.</p>
</li>
<li>
<p>2018-03-07 - Updated for Vulkan 1.1 release.</p>
</li>
<li>
<p>2018-02-21 - Add descriptions of the <code>extnumber</code> and <code>alias</code>
attributes used for defining <code>enum</code> attributes, the <code>alias</code>
attribute used for defining <code>type</code> aliases, the <code>name</code> and
<code>alias</code> attributes used for defining <code>command</code> aliases, the
<code>platform</code> attribute of <code>extension</code> tags, and the <code>feature</code>
attribute of <code>require</code> tags; and update the document to the header
naming and grouping scheme used starting in Vulkan 1.1.</p>
</li>
<li>
<p>2018-01-07 - Add <code>platforms</code> and <code>platform</code> tags for describing
Vulkan platform names and preprocessor symbols.</p>
</li>
<li>
<p>2017-09-10 - Define syntax of member and parameter <code>altlen</code>
attributes, for use by code generators.</p>
</li>
<li>
<p>2017-09-01 - Define syntax of member and parameter <code>len</code> attributes
consistently and correctly for current uses of latexmath:</p>
</li>
<li>
<p>2017-08-24 - Note that the <code>extension</code> attribute <code>type</code> must be
specified if the extension is not disabled.</p>
</li>
<li>
<p>2017-07-27 - Finish removing validextensionstructs attribute and
replacing it with structextends.</p>
</li>
<li>
<p>2017-07-14 - Add comment attributes or tags as valid content in several
places, replacing XML comments which could not be preserved by XML
transformation tools.</p>
</li>
<li>
<p>2017-02-20 - Change to asciidoctor markup and move into the
specification source directory for ease of building.</p>
</li>
<li>
<p>2016-09-27 - Remove <code>validity</code> and <code>usage</code> tags, since these
explicit usage statements have been moved to the specification source.</p>
</li>
<li>
<p>2016-08-26 - Update for the single-branch model.</p>
</li>
<li>
<p>2016-07-28 - Add <code>type</code> and <code>requires</code> attributes to <code>extension</code>
tags.</p>
</li>
<li>
<p>2016-02-22 - Change math markup in <code>len</code> attributes to use asciidoc
<code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mord"></span></span></span></span></code> delimiters.</p>
</li>
<li>
<p>2016-02-19 - Add <code>successcodes</code> and <code>errorcodes</code> attributes of
<code>command</code> tags.
Add a subsection to the introduction describing the schema choices and
how to file issues against the registry.</p>
</li>
<li>
<p>2016-02-07 - Add <code>vendorids</code> tags for Khronos vendor IDs.</p>
</li>
<li>
<p>2015-12-10 - Add <code>author</code> and <code>contact</code> attributes for
<code>extension</code> tags.</p>
</li>
<li>
<p>2015-12-07 - Move <code>vulkan/vulkan.h</code> to a subdirectory.</p>
</li>
<li>
<p>2015-12-01 - Add <code>tags</code> tags for author tags.</p>
</li>
<li>
<p>2015-11-18 - Bring documentation and schema up to date for extension
enumerants.</p>
</li>
<li>
<p>2015-11-02 - Bring documentation and schema up to date with several
recent merges, including <code>validity</code> tags.
Still out of date WRT extension enumerants, but that will change soon.</p>
</li>
<li>
<p>2015-09-08 - Rename <code>threadsafe</code> attribute to <code>externsync</code>, and
<code>implicitunsafeparams</code> tag to <code>implicitexternsync</code>.</p>
</li>
<li>
<p>2015-09-07 - Update <code>command</code> tag description to remove the
<code>threadsafe</code> attribute and replace it with a combination of
<code>threadunsafe</code> attributes on individual parameters, and
<code>implicitunsafeparams</code> tags describing additional unsafe objects for
the command.</p>
</li>
<li>
<p>2015-08-04 - Add <code>basetype</code> and <code>funcpointer</code> <code>category</code> values for
type tags, and explain the intended use and order in which types in each
category are emitted.</p>
</li>
<li>
<p>2015-07-02 - Update description of Makefile targets.
Add descriptions of <code>threadsafe</code>, <code>queues</code>, and <code>renderpass</code>
attributes of <a href="#tag-command"><code>command</code></a> tags, and of <code>modified</code>
attributes of <a href="#tag-command:param"><code>param</code></a> tags.</p>
</li>
<li>
<p>2015-06-17 - add descriptions of allowed <code>category</code> attribute values
of <code>type</code> tags, used to group and sort related categories of
declarations together in the generated header.</p>
</li>
<li>
<p>2015-06-04 - Add <a href="#examples">examples of making changes and additions</a>
to the registry.</p>
</li>
<li>
<p>2015-06-03 - Move location to new <code>vulkan</code> Git repository.
Add definition of <code>type</code> tags for C struct/unions.
Start adding <a href="#examples">examples of making changes</a>.</p>
</li>
<li>
<p>2015-06-02 - Branch from OpenGL specfile documentation and bring up to
date with current Vulkan schema.</p>
</li>
<li>
<p>2015-07-10 - Remove contractions to match the style guide.</p>
</li>
<li>
<p>2015-07-19 - Move this document from LaTeX to asciidoc source format and
make minor changes to markup.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.3.224<br>
Last updated 2022-07-28 04:08:07 -0700
</div>
</div>


</body>
</html>